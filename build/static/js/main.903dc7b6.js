/*! For license information please see main.903dc7b6.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},64:function(e){e.exports=function(){"use strict";function e(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function t(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(t,n){return t.get(e(t,n))}function i(e,n,i){t(e,n),n.set(e,i)}function r(t,n,i){return t.set(e(t,n),i),i}const a=100,s={},o=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},l=e=>new Promise(t=>{if(!e)return t();const n=window.scrollX,i=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{o(),t()},a),window.scrollTo(n,i)}),c="swal2-",d=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((e,t)=>(e[t]=c+t,e),{}),u=["success","warning","info","question","error"].reduce((e,t)=>(e[t]=c+t,e),{}),h="SweetAlert2:",p=e=>e.charAt(0).toUpperCase()+e.slice(1),m=e=>{console.warn("".concat(h," ").concat("object"===typeof e?e.join(" "):e))},f=e=>{console.error("".concat(h," ").concat(e))},g=[],_=e=>{g.includes(e)||(g.push(e),m(e))},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;_('"'.concat(e,'" is deprecated and will be removed in the next major release.').concat(t?' Use "'.concat(t,'" instead.'):""))},b=e=>"function"===typeof e?e():e,y=e=>e&&"function"===typeof e.toPromise,x=e=>y(e)?e.toPromise():Promise.resolve(e),w=e=>e&&Promise.resolve(e)===e,E=()=>document.body.querySelector(".".concat(d.container)),S=e=>{const t=E();return t?t.querySelector(e):null},C=e=>S(".".concat(e)),T=()=>C(d.popup),N=()=>C(d.icon),A=()=>C(d["icon-content"]),k=()=>C(d.title),R=()=>C(d["html-container"]),I=()=>C(d.image),O=()=>C(d["progress-steps"]),j=()=>C(d["validation-message"]),P=()=>S(".".concat(d.actions," .").concat(d.confirm)),D=()=>S(".".concat(d.actions," .").concat(d.cancel)),L=()=>S(".".concat(d.actions," .").concat(d.deny)),M=()=>C(d["input-label"]),U=()=>S(".".concat(d.loader)),F=()=>C(d.actions),B=()=>C(d.footer),V=()=>C(d["timer-progress-bar"]),z=()=>C(d.close),H='\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n',W=()=>{const e=T();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((e,t)=>{const n=parseInt(e.getAttribute("tabindex")||"0"),i=parseInt(t.getAttribute("tabindex")||"0");return n>i?1:n<i?-1:0}),i=e.querySelectorAll(H),r=Array.from(i).filter(e=>"-1"!==e.getAttribute("tabindex"));return[...new Set(n.concat(r))].filter(e=>de(e))},G=()=>K(document.body,d.shown)&&!K(document.body,d["toast-shown"])&&!K(document.body,d["no-backdrop"]),q=()=>{const e=T();return!!e&&K(e,d.toast)},Y=()=>{const e=T();return!!e&&e.hasAttribute("data-loading")},X=(e,t)=>{if(e.textContent="",t){const n=(new DOMParser).parseFromString(t,"text/html"),i=n.querySelector("head");i&&Array.from(i.childNodes).forEach(t=>{e.appendChild(t)});const r=n.querySelector("body");r&&Array.from(r.childNodes).forEach(t=>{t instanceof HTMLVideoElement||t instanceof HTMLAudioElement?e.appendChild(t.cloneNode(!0)):e.appendChild(t)})}},K=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let i=0;i<n.length;i++)if(!e.classList.contains(n[i]))return!1;return!0},J=(e,t)=>{Array.from(e.classList).forEach(n=>{Object.values(d).includes(n)||Object.values(u).includes(n)||Object.values(t.showClass||{}).includes(n)||e.classList.remove(n)})},Z=(e,t,n)=>{if(J(e,t),!t.customClass)return;const i=t.customClass[n];i&&("string"===typeof i||i.forEach?te(e,i):m("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof i,'"')))},Q=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(d.popup," > .").concat(d[t]));case"checkbox":return e.querySelector(".".concat(d.popup," > .").concat(d.checkbox," input"));case"radio":return e.querySelector(".".concat(d.popup," > .").concat(d.radio," input:checked"))||e.querySelector(".".concat(d.popup," > .").concat(d.radio," input:first-child"));case"range":return e.querySelector(".".concat(d.popup," > .").concat(d.range," input"));default:return e.querySelector(".".concat(d.popup," > .").concat(d.input))}},$=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},ee=(e,t,n)=>{e&&t&&("string"===typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(t=>{Array.isArray(e)?e.forEach(e=>{n?e.classList.add(t):e.classList.remove(t)}):n?e.classList.add(t):e.classList.remove(t)}))},te=(e,t)=>{ee(e,t,!0)},ne=(e,t)=>{ee(e,t,!1)},ie=(e,t)=>{const n=Array.from(e.children);for(let i=0;i<n.length;i++){const e=n[i];if(e instanceof HTMLElement&&K(e,t))return e}},re=(e,t,n)=>{n==="".concat(parseInt("".concat(n)))&&(n=parseInt(n)),n||0===parseInt("".concat(n))?e.style.setProperty(t,"number"===typeof n?"".concat(n,"px"):n):e.style.removeProperty(t)},ae=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e&&(e.style.display=t)},se=e=>{e&&(e.style.display="none")},oe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";e&&new MutationObserver(()=>{ce(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},le=(e,t,n,i)=>{const r=e.querySelector(t);r&&r.style.setProperty(n,i)},ce=function(e,t){t?ae(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):se(e)},de=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),ue=()=>!de(P())&&!de(L())&&!de(D()),he=e=>!!(e.scrollHeight>e.clientHeight),pe=(e,t)=>{let n=e;for(;n&&n!==t;){if(he(n))return!0;n=n.parentElement}return!1},me=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),i=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||i>0},fe=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=V();n&&de(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"},10))},ge=()=>{const e=V();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=t/parseInt(window.getComputedStyle(e).width)*100;e.style.width="".concat(n,"%")},_e=()=>"undefined"===typeof window||"undefined"===typeof document,ve='\n <div aria-labelledby="'.concat(d.title,'" aria-describedby="').concat(d["html-container"],'" class="').concat(d.popup,'" tabindex="-1">\n   <button type="button" class="').concat(d.close,'"></button>\n   <ul class="').concat(d["progress-steps"],'"></ul>\n   <div class="').concat(d.icon,'"></div>\n   <img class="').concat(d.image,'" />\n   <h2 class="').concat(d.title,'" id="').concat(d.title,'"></h2>\n   <div class="').concat(d["html-container"],'" id="').concat(d["html-container"],'"></div>\n   <input class="').concat(d.input,'" id="').concat(d.input,'" />\n   <input type="file" class="').concat(d.file,'" />\n   <div class="').concat(d.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(d.select,'" id="').concat(d.select,'"></select>\n   <div class="').concat(d.radio,'"></div>\n   <label class="').concat(d.checkbox,'">\n     <input type="checkbox" id="').concat(d.checkbox,'" />\n     <span class="').concat(d.label,'"></span>\n   </label>\n   <textarea class="').concat(d.textarea,'" id="').concat(d.textarea,'"></textarea>\n   <div class="').concat(d["validation-message"],'" id="').concat(d["validation-message"],'"></div>\n   <div class="').concat(d.actions,'">\n     <div class="').concat(d.loader,'"></div>\n     <button type="button" class="').concat(d.confirm,'"></button>\n     <button type="button" class="').concat(d.deny,'"></button>\n     <button type="button" class="').concat(d.cancel,'"></button>\n   </div>\n   <div class="').concat(d.footer,'"></div>\n   <div class="').concat(d["timer-progress-bar-container"],'">\n     <div class="').concat(d["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),be=()=>{const e=E();return!!e&&(e.remove(),ne([document.documentElement,document.body],[d["no-backdrop"],d["toast-shown"],d["has-column"]]),!0)},ye=()=>{s.currentInstance.resetValidationMessage()},xe=()=>{const e=T(),t=ie(e,d.input),n=ie(e,d.file),i=e.querySelector(".".concat(d.range," input")),r=e.querySelector(".".concat(d.range," output")),a=ie(e,d.select),s=e.querySelector(".".concat(d.checkbox," input")),o=ie(e,d.textarea);t.oninput=ye,n.onchange=ye,a.onchange=ye,s.onchange=ye,o.oninput=ye,i.oninput=()=>{ye(),r.value=i.value},i.onchange=()=>{ye(),r.value=i.value}},we=e=>"string"===typeof e?document.querySelector(e):e,Ee=e=>{const t=T();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},Se=e=>{"rtl"===window.getComputedStyle(e).direction&&te(E(),d.rtl)},Ce=e=>{const t=be();if(_e())return void f("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=d.container,t&&te(n,d["no-transition"]),X(n,ve),n.dataset.swal2Theme=e.theme;const i=we(e.target);i.appendChild(n),e.topLayer&&(n.setAttribute("popover",""),n.showPopover()),Ee(e),Se(i),xe()},Te=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"===typeof e?Ne(e,t):e&&X(t,e)},Ne=(e,t)=>{e.jquery?Ae(t,e):X(t,e.toString())},Ae=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},ke=(e,t)=>{const n=F(),i=U();n&&i&&(t.showConfirmButton||t.showDenyButton||t.showCancelButton?ae(n):se(n),Z(n,t,"actions"),Re(n,i,t),X(i,t.loaderHtml||""),Z(i,t,"loader"))};function Re(e,t,n){const i=P(),r=L(),a=D();i&&r&&a&&(je(i,"confirm",n),je(r,"deny",n),je(a,"cancel",n),Ie(i,r,a,n),n.reverseButtons&&(n.toast?(e.insertBefore(a,i),e.insertBefore(r,i)):(e.insertBefore(a,t),e.insertBefore(r,t),e.insertBefore(i,t))))}function Ie(e,t,n,i){i.buttonsStyling?(te([e,t,n],d.styled),i.confirmButtonColor&&e.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&t.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),Oe(e),Oe(t),Oe(n)):ne([e,t,n],d.styled)}function Oe(e){const t=window.getComputedStyle(e);if(t.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=t.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");e.style.setProperty("--swal2-action-button-focus-box-shadow",t.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/," ".concat(n)))}function je(e,t,n){const i=p(t);ce(e,n["show".concat(i,"Button")],"inline-block"),X(e,n["".concat(t,"ButtonText")]||""),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]||""),e.className=d[t],Z(e,n,"".concat(t,"Button"))}const Pe=(e,t)=>{const n=z();n&&(X(n,t.closeButtonHtml||""),Z(n,t,"closeButton"),ce(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},De=(e,t)=>{const n=E();n&&(Le(n,t.backdrop),Me(n,t.position),Ue(n,t.grow),Z(n,t,"container"))};function Le(e,t){"string"===typeof t?e.style.background=t:t||te([document.documentElement,document.body],d["no-backdrop"])}function Me(e,t){t&&(t in d?te(e,d[t]):(m('The "position" parameter is not valid, defaulting to "center"'),te(e,d.center)))}function Ue(e,t){t&&te(e,d["grow-".concat(t)])}var Fe={innerParams:new WeakMap,domCache:new WeakMap};const Be=["input","file","range","select","radio","checkbox","textarea"],Ve=(e,t)=>{const n=T();if(!n)return;const i=Fe.innerParams.get(e),r=!i||t.input!==i.input;Be.forEach(e=>{const i=ie(n,d[e]);i&&(We(e,t.inputAttributes),i.className=d[e],r&&se(i))}),t.input&&(r&&ze(t),Ge(t))},ze=e=>{if(!e.input)return;if(!Je[e.input])return void f("Unexpected type of input! Expected ".concat(Object.keys(Je).join(" | "),', got "').concat(e.input,'"'));const t=Xe(e.input);if(!t)return;const n=Je[e.input](t,e);ae(t),e.inputAutoFocus&&setTimeout(()=>{$(n)})},He=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},We=(e,t)=>{const n=T();if(!n)return;const i=Q(n,e);if(i){He(i);for(const e in t)i.setAttribute(e,t[e])}},Ge=e=>{if(!e.input)return;const t=Xe(e.input);t&&Z(t,e,"input")},qe=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},Ye=(e,t,n)=>{if(n.inputLabel){const i=document.createElement("label"),r=d["input-label"];i.setAttribute("for",e.id),i.className=r,"object"===typeof n.customClass&&te(i,n.customClass.inputLabel),i.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",i)}},Xe=e=>{const t=T();if(t)return ie(t,d[e]||d.input)},Ke=(e,t)=>{["string","number"].includes(typeof t)?e.value="".concat(t):w(t)||m('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t,'"'))},Je={};Je.text=Je.email=Je.password=Je.number=Je.tel=Je.url=Je.search=Je.date=Je["datetime-local"]=Je.time=Je.week=Je.month=(e,t)=>(Ke(e,t.inputValue),Ye(e,e,t),qe(e,t),e.type=t.input,e),Je.file=(e,t)=>(Ye(e,e,t),qe(e,t),e),Je.range=(e,t)=>{const n=e.querySelector("input"),i=e.querySelector("output");return Ke(n,t.inputValue),n.type=t.input,Ke(i,t.inputValue),Ye(n,e,t),e},Je.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");X(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return Ye(e,e,t),e},Je.radio=e=>(e.textContent="",e),Je.checkbox=(e,t)=>{const n=Q(T(),"checkbox");n.value="1",n.checked=Boolean(t.inputValue);const i=e.querySelector("span");return X(i,t.inputPlaceholder||t.inputLabel),n},Je.textarea=(e,t)=>{Ke(e,t.inputValue),qe(e,t),Ye(e,e,t);const n=e=>parseInt(window.getComputedStyle(e).marginLeft)+parseInt(window.getComputedStyle(e).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(T()).width);new MutationObserver(()=>{if(!document.body.contains(e))return;const r=e.offsetWidth+n(e);r>i?T().style.width="".concat(r,"px"):re(T(),"width",t.width)}).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const Ze=(e,t)=>{const n=R();n&&(oe(n),Z(n,t,"htmlContainer"),t.html?(Te(t.html,n),ae(n,"block")):t.text?(n.textContent=t.text,ae(n,"block")):se(n),Ve(e,t))},Qe=(e,t)=>{const n=B();n&&(oe(n),ce(n,Boolean(t.footer),"block"),t.footer&&Te(t.footer,n),Z(n,t,"footer"))},$e=(e,t)=>{const n=Fe.innerParams.get(e),i=N();if(i){if(n&&t.icon===n.icon)return rt(i,t),void et(i,t);if(t.icon||t.iconHtml){if(t.icon&&-1===Object.keys(u).indexOf(t.icon))return f('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),void se(i);ae(i),rt(i,t),et(i,t),te(i,t.showClass&&t.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",tt)}else se(i)}},et=(e,t)=>{for(const[n,i]of Object.entries(u))t.icon!==n&&ne(e,i);te(e,t.icon&&u[t.icon]),at(e,t),tt(),Z(e,t,"icon")},tt=()=>{const e=T();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<n.length;i++)n[i].style.backgroundColor=t},nt=e=>"\n  ".concat(e.animation?'<div class="swal2-success-circular-line-left"></div>':"",'\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div>\n  ').concat(e.animation?'<div class="swal2-success-fix"></div>':"","\n  ").concat(e.animation?'<div class="swal2-success-circular-line-right"></div>':"","\n"),it='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n',rt=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,i="";t.iconHtml?i=st(t.iconHtml):"success"===t.icon?(i=nt(t),n=n.replace(/ style=".*?"/g,"")):"error"===t.icon?i=it:t.icon&&(i=st({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==i.trim()&&X(e,i)},at=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])le(e,n,"background-color",t.iconColor);le(e,".swal2-success-ring","border-color",t.iconColor)}},st=e=>'<div class="'.concat(d["icon-content"],'">').concat(e,"</div>"),ot=(e,t)=>{const n=I();n&&(t.imageUrl?(ae(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),re(n,"width",t.imageWidth),re(n,"height",t.imageHeight),n.className=d.image,Z(n,t,"image")):se(n))};let lt=!1,ct=0,dt=0,ut=0,ht=0;const pt=e=>{e.addEventListener("mousedown",ft),document.body.addEventListener("mousemove",gt),e.addEventListener("mouseup",_t),e.addEventListener("touchstart",ft),document.body.addEventListener("touchmove",gt),e.addEventListener("touchend",_t)},mt=e=>{e.removeEventListener("mousedown",ft),document.body.removeEventListener("mousemove",gt),e.removeEventListener("mouseup",_t),e.removeEventListener("touchstart",ft),document.body.removeEventListener("touchmove",gt),e.removeEventListener("touchend",_t)},ft=e=>{const t=T();if(e.target===t||N().contains(e.target)){lt=!0;const n=vt(e);ct=n.clientX,dt=n.clientY,ut=parseInt(t.style.insetInlineStart)||0,ht=parseInt(t.style.insetBlockStart)||0,te(t,"swal2-dragging")}},gt=e=>{const t=T();if(lt){let{clientX:n,clientY:i}=vt(e);t.style.insetInlineStart="".concat(ut+(n-ct),"px"),t.style.insetBlockStart="".concat(ht+(i-dt),"px")}},_t=()=>{const e=T();lt=!1,ne(e,"swal2-dragging")},vt=e=>{let t=0,n=0;return e.type.startsWith("mouse")?(t=e.clientX,n=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,n=e.touches[0].clientY),{clientX:t,clientY:n}},bt=(e,t)=>{const n=E(),i=T();if(n&&i){if(t.toast){re(n,"width",t.width),i.style.width="100%";const e=U();e&&i.insertBefore(e,N())}else re(i,"width",t.width);re(i,"padding",t.padding),t.color&&(i.style.color=t.color),t.background&&(i.style.background=t.background),se(j()),yt(i,t),t.draggable&&!t.toast?(te(i,d.draggable),pt(i)):(ne(i,d.draggable),mt(i))}},yt=(e,t)=>{const n=t.showClass||{};e.className="".concat(d.popup," ").concat(de(e)?n.popup:""),t.toast?(te([document.documentElement,document.body],d["toast-shown"]),te(e,d.toast)):te(e,d.modal),Z(e,t,"popup"),"string"===typeof t.customClass&&te(e,t.customClass),t.icon&&te(e,d["icon-".concat(t.icon)])},xt=(e,t)=>{const n=O();if(!n)return;const{progressSteps:i,currentProgressStep:r}=t;i&&0!==i.length&&void 0!==r?(ae(n),n.textContent="",r>=i.length&&m("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((e,a)=>{const s=wt(e);if(n.appendChild(s),a===r&&te(s,d["active-progress-step"]),a!==i.length-1){const e=Et(t);n.appendChild(e)}})):se(n)},wt=e=>{const t=document.createElement("li");return te(t,d["progress-step"]),X(t,e),t},Et=e=>{const t=document.createElement("li");return te(t,d["progress-step-line"]),e.progressStepsDistance&&re(t,"width",e.progressStepsDistance),t},St=(e,t)=>{const n=k();n&&(oe(n),ce(n,Boolean(t.title||t.titleText),"block"),t.title&&Te(t.title,n),t.titleText&&(n.innerText=t.titleText),Z(n,t,"title"))},Ct=(e,t)=>{bt(e,t),De(e,t),xt(e,t),$e(e,t),ot(e,t),St(e,t),Pe(e,t),Ze(e,t),ke(e,t),Qe(e,t);const n=T();"function"===typeof t.didRender&&n&&t.didRender(n),s.eventEmitter.emit("didRender",n)},Tt=()=>de(T()),Nt=()=>{var e;return null===(e=P())||void 0===e?void 0:e.click()},At=()=>{var e;return null===(e=L())||void 0===e?void 0:e.click()},kt=()=>{var e;return null===(e=D())||void 0===e?void 0:e.click()},Rt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),It=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Ot=(e,t,n)=>{It(e),t.toast||(e.keydownHandler=e=>Lt(t,e,n),e.keydownTarget=t.keydownListenerCapture?window:T(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},jt=(e,t)=>{var n;const i=W();if(i.length)return-2===(e+=t)&&(e=i.length-1),e===i.length?e=0:-1===e&&(e=i.length-1),void i[e].focus();null===(n=T())||void 0===n||n.focus()},Pt=["ArrowRight","ArrowDown"],Dt=["ArrowLeft","ArrowUp"],Lt=(e,t,n)=>{e&&(t.isComposing||229===t.keyCode||(e.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Mt(t,e):"Tab"===t.key?Ut(t):[...Pt,...Dt].includes(t.key)?Ft(t.key):"Escape"===t.key&&Bt(t,e,n)))},Mt=(e,t)=>{if(!b(t.allowEnterKey))return;const n=Q(T(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;Nt(),e.preventDefault()}},Ut=e=>{const t=e.target,n=W();let i=-1;for(let r=0;r<n.length;r++)if(t===n[r]){i=r;break}e.shiftKey?jt(i,-1):jt(i,1),e.stopPropagation(),e.preventDefault()},Ft=e=>{const t=F(),n=P(),i=L(),r=D();if(!t||!n||!i||!r)return;const a=[n,i,r];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const s=Pt.includes(e)?"nextElementSibling":"previousElementSibling";let o=document.activeElement;if(o){for(let e=0;e<t.children.length;e++){if(o=o[s],!o)return;if(o instanceof HTMLButtonElement&&de(o))break}o instanceof HTMLButtonElement&&o.focus()}},Bt=(e,t,n)=>{e.preventDefault(),b(t.allowEscapeKey)&&n(Rt.esc)};var Vt={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const zt=()=>{const e=E();Array.from(document.body.children).forEach(t=>{t.contains(e)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},Ht=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},Wt="undefined"!==typeof window&&!!window.GestureEvent,Gt=()=>{if(Wt&&!K(document.body,d.iosfix)){const e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),te(document.body,d.iosfix),qt()}},qt=()=>{const e=E();if(!e)return;let t;e.ontouchstart=e=>{t=Yt(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},Yt=e=>{const t=e.target,n=E(),i=R();return!(!n||!i)&&!Xt(e)&&!Kt(e)&&(t===n||!(he(n)||!(t instanceof HTMLElement)||pe(t,i)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||he(i)&&i.contains(t)))},Xt=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,Kt=e=>e.touches&&e.touches.length>1,Jt=()=>{if(K(document.body,d.iosfix)){const e=parseInt(document.body.style.top,10);ne(document.body,d.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}},Zt=()=>{const e=document.createElement("div");e.className=d["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Qt=null;const $t=e=>{null===Qt&&(document.body.scrollHeight>window.innerHeight||"scroll"===e)&&(Qt=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Qt+Zt(),"px"))},en=()=>{null!==Qt&&(document.body.style.paddingRight="".concat(Qt,"px"),Qt=null)};function tn(e,t,n,i){q()?un(e,i):(l(n).then(()=>un(e,i)),It(s)),Wt?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),G()&&(en(),Jt(),Ht()),nn()}function nn(){ne([document.documentElement,document.body],[d.shown,d["height-auto"],d["no-backdrop"],d["toast-shown"]])}function rn(e){e=ln(e);const t=Vt.swalPromiseResolve.get(this),n=an(this);this.isAwaitingPromise?e.isDismissed||(on(this),t(e)):n&&t(e)}const an=e=>{const t=T();if(!t)return!1;const n=Fe.innerParams.get(e);if(!n||K(t,n.hideClass.popup))return!1;ne(t,n.showClass.popup),te(t,n.hideClass.popup);const i=E();return ne(i,n.showClass.backdrop),te(i,n.hideClass.backdrop),cn(e,t,n),!0};function sn(e){const t=Vt.swalPromiseReject.get(this);on(this),t&&t(e)}const on=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,Fe.innerParams.get(e)||e._destroy())},ln=e=>"undefined"===typeof e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),cn=(e,t,n)=>{var i;const r=E(),a=me(t);"function"===typeof n.willClose&&n.willClose(t),null===(i=s.eventEmitter)||void 0===i||i.emit("willClose",t),a?dn(e,t,r,n.returnFocus,n.didClose):tn(e,r,n.returnFocus,n.didClose)},dn=(e,t,n,i,r)=>{s.swalCloseEventFinishedCallback=tn.bind(null,e,n,i,r);const a=function(e){var n;e.target===t&&(null===(n=s.swalCloseEventFinishedCallback)||void 0===n||n.call(s),delete s.swalCloseEventFinishedCallback,t.removeEventListener("animationend",a),t.removeEventListener("transitionend",a))};t.addEventListener("animationend",a),t.addEventListener("transitionend",a)},un=(e,t)=>{setTimeout(()=>{var n;"function"===typeof t&&t.bind(e.params)(),null===(n=s.eventEmitter)||void 0===n||n.emit("didClose"),e._destroy&&e._destroy()})},hn=e=>{let t=T();if(t||new fr,t=T(),!t)return;const n=U();q()?se(N()):pn(t,e),ae(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},pn=(e,t)=>{const n=F(),i=U();n&&i&&(!t&&de(P())&&(t=P()),ae(n),t&&(se(t),i.setAttribute("data-button-to-replace",t.className),n.insertBefore(i,t)),te([e,n],d.loading))},mn=(e,t)=>{"select"===t.input||"radio"===t.input?bn(e,t):["text","email","number","tel","textarea"].some(e=>e===t.input)&&(y(t.inputValue)||w(t.inputValue))&&(hn(P()),yn(e,t))},fn=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return gn(n);case"radio":return _n(n);case"file":return vn(n);default:return t.inputAutoTrim?n.value.trim():n.value}},gn=e=>e.checked?1:0,_n=e=>e.checked?e.value:null,vn=e=>e.files&&e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,bn=(e,t)=>{const n=T();if(!n)return;const i=e=>{"select"===t.input?xn(n,En(e),t):"radio"===t.input&&wn(n,En(e),t)};y(t.inputOptions)||w(t.inputOptions)?(hn(P()),x(t.inputOptions).then(t=>{e.hideLoading(),i(t)})):"object"===typeof t.inputOptions?i(t.inputOptions):f("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},yn=(e,t)=>{const n=e.getInput();n&&(se(n),x(t.inputValue).then(i=>{n.value="number"===t.input?"".concat(parseFloat(i)||0):"".concat(i),ae(n),n.focus(),e.hideLoading()}).catch(t=>{f("Error in inputValue promise: ".concat(t)),n.value="",ae(n),n.focus(),e.hideLoading()}))};function xn(e,t,n){const i=ie(e,d.select);if(!i)return;const r=(e,t,i)=>{const r=document.createElement("option");r.value=i,X(r,t),r.selected=Sn(i,n.inputValue),e.appendChild(r)};t.forEach(e=>{const t=e[0],n=e[1];if(Array.isArray(n)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,i.appendChild(e),n.forEach(t=>r(e,t[1],t[0]))}else r(i,n,t)}),i.focus()}function wn(e,t,n){const i=ie(e,d.radio);if(!i)return;t.forEach(e=>{const t=e[0],r=e[1],a=document.createElement("input"),s=document.createElement("label");a.type="radio",a.name=d.radio,a.value=t,Sn(t,n.inputValue)&&(a.checked=!0);const o=document.createElement("span");X(o,r),o.className=d.label,s.appendChild(a),s.appendChild(o),i.appendChild(s)});const r=i.querySelectorAll("input");r.length&&r[0].focus()}const En=e=>{const t=[];return e instanceof Map?e.forEach((e,n)=>{let i=e;"object"===typeof i&&(i=En(i)),t.push([n,i])}):Object.keys(e).forEach(n=>{let i=e[n];"object"===typeof i&&(i=En(i)),t.push([n,i])}),t},Sn=(e,t)=>!!t&&t.toString()===e.toString(),Cn=e=>{const t=Fe.innerParams.get(e);e.disableButtons(),t.input?An(e,"confirm"):jn(e,!0)},Tn=e=>{const t=Fe.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?An(e,"deny"):Rn(e,!1)},Nn=(e,t)=>{e.disableButtons(),t(Rt.cancel)},An=(e,t)=>{const n=Fe.innerParams.get(e);if(!n.input)return void f('The "input" parameter is needed to be set when using returnInputValueOn'.concat(p(t)));const i=e.getInput(),r=fn(e,n);n.inputValidator?kn(e,r,t):i&&!i.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||i.validationMessage)):"deny"===t?Rn(e,r):jn(e,r)},kn=(e,t,n)=>{const i=Fe.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>x(i.inputValidator(t,i.validationMessage))).then(i=>{e.enableButtons(),e.enableInput(),i?e.showValidationMessage(i):"deny"===n?Rn(e,t):jn(e,t)})},Rn=(e,t)=>{const n=Fe.innerParams.get(e||void 0);n.showLoaderOnDeny&&hn(L()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>x(n.preDeny(t,n.validationMessage))).then(n=>{!1===n?(e.hideLoading(),on(e)):e.close({isDenied:!0,value:"undefined"===typeof n?t:n})}).catch(t=>On(e||void 0,t))):e.close({isDenied:!0,value:t})},In=(e,t)=>{e.close({isConfirmed:!0,value:t})},On=(e,t)=>{e.rejectPromise(t)},jn=(e,t)=>{const n=Fe.innerParams.get(e||void 0);n.showLoaderOnConfirm&&hn(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>x(n.preConfirm(t,n.validationMessage))).then(n=>{de(j())||!1===n?(e.hideLoading(),on(e)):In(e,"undefined"===typeof n?t:n)}).catch(t=>On(e||void 0,t))):In(e,t)};function Pn(){const e=Fe.innerParams.get(this);if(!e)return;const t=Fe.domCache.get(this);se(t.loader),q()?e.icon&&ae(N()):Dn(t),ne([t.popup,t.actions],d.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const Dn=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ae(t[0],"inline-block"):ue()&&se(e.actions)};function Ln(){const e=Fe.innerParams.get(this),t=Fe.domCache.get(this);return t?Q(t.popup,e.input):null}function Mn(e,t,n){const i=Fe.domCache.get(e);t.forEach(e=>{i[e].disabled=n})}function Un(e,t){const n=T();if(n&&e)if("radio"===e.type){const e=n.querySelectorAll('[name="'.concat(d.radio,'"]'));for(let n=0;n<e.length;n++)e[n].disabled=t}else e.disabled=t}function Fn(){Mn(this,["confirmButton","denyButton","cancelButton"],!1)}function Bn(){Mn(this,["confirmButton","denyButton","cancelButton"],!0)}function Vn(){Un(this.getInput(),!1)}function zn(){Un(this.getInput(),!0)}function Hn(e){const t=Fe.domCache.get(this),n=Fe.innerParams.get(this);X(t.validationMessage,e),t.validationMessage.className=d["validation-message"],n.customClass&&n.customClass.validationMessage&&te(t.validationMessage,n.customClass.validationMessage),ae(t.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",d["validation-message"]),$(i),te(i,d.inputerror))}function Wn(){const e=Fe.domCache.get(this);e.validationMessage&&se(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),ne(t,d.inputerror))}const Gn={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},qn=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Yn={allowEnterKey:void 0},Xn=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Kn=e=>Object.prototype.hasOwnProperty.call(Gn,e),Jn=e=>-1!==qn.indexOf(e),Zn=e=>Yn[e],Qn=e=>{Kn(e)||m('Unknown parameter "'.concat(e,'"'))},$n=e=>{Xn.includes(e)&&m('The parameter "'.concat(e,'" is incompatible with toasts'))},ei=e=>{const t=Zn(e);t&&v(e,t)},ti=e=>{!1===e.backdrop&&e.allowOutsideClick&&m('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),e.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(e.theme)&&m('Invalid theme "'.concat(e.theme,'"'));for(const t in e)Qn(t),e.toast&&$n(t),ei(t)};function ni(e){const t=E(),n=T(),i=Fe.innerParams.get(this);if(!n||K(n,i.hideClass.popup))return void m("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const r=ii(e),a=Object.assign({},i,r);ti(a),t.dataset.swal2Theme=a.theme,Ct(this,a),Fe.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const ii=e=>{const t={};return Object.keys(e).forEach(n=>{Jn(n)?t[n]=e[n]:m("Invalid parameter to update: ".concat(n))}),t};function ri(){const e=Fe.domCache.get(this),t=Fe.innerParams.get(this);t?(e.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),"function"===typeof t.didDestroy&&t.didDestroy(),s.eventEmitter.emit("didDestroy"),ai(this)):si(this)}const ai=e=>{si(e),delete e.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},si=e=>{e.isAwaitingPromise?(oi(Fe,e),e.isAwaitingPromise=!0):(oi(Vt,e),oi(Fe,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},oi=(e,t)=>{for(const n in e)e[n].delete(t)};var li=Object.freeze({__proto__:null,_destroy:ri,close:rn,closeModal:rn,closePopup:rn,closeToast:rn,disableButtons:Bn,disableInput:zn,disableLoading:Pn,enableButtons:Fn,enableInput:Vn,getInput:Ln,handleAwaitingPromise:on,hideLoading:Pn,rejectPromise:sn,resetValidationMessage:Wn,showValidationMessage:Hn,update:ni});const ci=(e,t,n)=>{e.toast?di(e,t,n):(pi(t),mi(t),fi(e,t,n))},di=(e,t,n)=>{t.popup.onclick=()=>{e&&(ui(e)||e.timer||e.input)||n(Rt.close)}},ui=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let hi=!1;const pi=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(hi=!0)}}},mi=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(t){e.popup.onmouseup=()=>{},(t.target===e.popup||t.target instanceof HTMLElement&&e.popup.contains(t.target))&&(hi=!0)}}},fi=(e,t,n)=>{t.container.onclick=i=>{hi?hi=!1:i.target===t.container&&b(e.allowOutsideClick)&&n(Rt.backdrop)}},gi=e=>"object"===typeof e&&e.jquery,_i=e=>e instanceof Element||gi(e),vi=e=>{const t={};return"object"!==typeof e[0]||_i(e[0])?["title","html","icon"].forEach((n,i)=>{const r=e[i];"string"===typeof r||_i(r)?t[n]=r:void 0!==r&&f("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof r))}):Object.assign(t,e[0]),t};function bi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new this(...t)}function yi(e){class t extends(this){_main(t,n){return super._main(t,Object.assign({},e,n))}}return t}const xi=()=>s.timeout&&s.timeout.getTimerLeft(),wi=()=>{if(s.timeout)return ge(),s.timeout.stop()},Ei=()=>{if(s.timeout){const e=s.timeout.start();return fe(e),e}},Si=()=>{const e=s.timeout;return e&&(e.running?wi():Ei())},Ci=e=>{if(s.timeout){const t=s.timeout.increase(e);return fe(t,!0),t}},Ti=()=>!(!s.timeout||!s.timeout.isRunning());let Ni=!1;const Ai={};function ki(){Ai[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Ni||(document.body.addEventListener("click",Ri),Ni=!0)}const Ri=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in Ai){const n=t.getAttribute(e);if(n)return void Ai[e].fire({template:n})}};class Ii{constructor(){this.events={}}_getHandlersByEventName(e){return"undefined"===typeof this.events[e]&&(this.events[e]=[]),this.events[e]}on(e,t){const n=this._getHandlersByEventName(e);n.includes(t)||n.push(t)}once(e,t){var n=this;const i=function(){n.removeListener(e,i);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];t.apply(n,a)};this.on(e,i)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this._getHandlersByEventName(e).forEach(e=>{try{e.apply(this,n)}catch(f){console.error(f)}})}removeListener(e,t){const n=this._getHandlersByEventName(e),i=n.indexOf(t);i>-1&&n.splice(i,1)}removeAllListeners(e){void 0!==this.events[e]&&(this.events[e].length=0)}reset(){this.events={}}}s.eventEmitter=new Ii;const Oi=(e,t)=>{s.eventEmitter.on(e,t)},ji=(e,t)=>{s.eventEmitter.once(e,t)},Pi=(e,t)=>{e?t?s.eventEmitter.removeListener(e,t):s.eventEmitter.removeAllListeners(e):s.eventEmitter.reset()};var Di=Object.freeze({__proto__:null,argsToParams:vi,bindClickHandler:ki,clickCancel:kt,clickConfirm:Nt,clickDeny:At,enableLoading:hn,fire:bi,getActions:F,getCancelButton:D,getCloseButton:z,getConfirmButton:P,getContainer:E,getDenyButton:L,getFocusableElements:W,getFooter:B,getHtmlContainer:R,getIcon:N,getIconContent:A,getImage:I,getInputLabel:M,getLoader:U,getPopup:T,getProgressSteps:O,getTimerLeft:xi,getTimerProgressBar:V,getTitle:k,getValidationMessage:j,increaseTimer:Ci,isDeprecatedParameter:Zn,isLoading:Y,isTimerRunning:Ti,isUpdatableParameter:Jn,isValidParameter:Kn,isVisible:Tt,mixin:yi,off:Pi,on:Oi,once:ji,resumeTimer:Ei,showLoading:hn,stopTimer:wi,toggleTimer:Si});class Li{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Mi=["swal-title","swal-html","swal-footer"],Ui=e=>{const t="string"===typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return qi(n),Object.assign(Fi(n),Bi(n),Vi(n),zi(n),Hi(n),Wi(n),Gi(n,Mi))},Fi=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(e=>{Yi(e,["name","value"]);const n=e.getAttribute("name"),i=e.getAttribute("value");n&&i&&("boolean"===typeof Gn[n]?t[n]="false"!==i:"object"===typeof Gn[n]?t[n]=JSON.parse(i):t[n]=i)}),t},Bi=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(e=>{const n=e.getAttribute("name"),i=e.getAttribute("value");n&&i&&(t[n]=new Function("return ".concat(i))())}),t},Vi=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(e=>{Yi(e,["type","color","aria-label"]);const n=e.getAttribute("type");n&&["confirm","cancel","deny"].includes(n)&&(t["".concat(n,"ButtonText")]=e.innerHTML,t["show".concat(p(n),"Button")]=!0,e.hasAttribute("color")&&(t["".concat(n,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(t["".concat(n,"ButtonAriaLabel")]=e.getAttribute("aria-label")))}),t},zi=e=>{const t={},n=e.querySelector("swal-image");return n&&(Yi(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},Hi=e=>{const t={},n=e.querySelector("swal-icon");return n&&(Yi(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},Wi=e=>{const t={},n=e.querySelector("swal-input");n&&(Yi(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const i=Array.from(e.querySelectorAll("swal-input-option"));return i.length&&(t.inputOptions={},i.forEach(e=>{Yi(e,["value"]);const n=e.getAttribute("value");if(!n)return;const i=e.innerHTML;t.inputOptions[n]=i})),t},Gi=(e,t)=>{const n={};for(const i in t){const r=t[i],a=e.querySelector(r);a&&(Yi(a,[]),n[r.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},qi=e=>{const t=Mi.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(e=>{const n=e.tagName.toLowerCase();t.includes(n)||m("Unrecognized element <".concat(n,">"))})},Yi=(e,t)=>{Array.from(e.attributes).forEach(n=>{-1===t.indexOf(n.name)&&m(['Unrecognized attribute "'.concat(n.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])})},Xi=10,Ki=e=>{const t=E(),n=T();"function"===typeof e.willOpen&&e.willOpen(n),s.eventEmitter.emit("willOpen",n);const i=window.getComputedStyle(document.body).overflowY;$i(t,n,e),setTimeout(()=>{Zi(t,n)},Xi),G()&&(Qi(t,e.scrollbarPadding,i),zt()),q()||s.previousActiveElement||(s.previousActiveElement=document.activeElement),"function"===typeof e.didOpen&&setTimeout(()=>e.didOpen(n)),s.eventEmitter.emit("didOpen",n)},Ji=e=>{const t=T();if(e.target!==t)return;const n=E();t.removeEventListener("animationend",Ji),t.removeEventListener("transitionend",Ji),n.style.overflowY="auto",ne(n,d["no-transition"])},Zi=(e,t)=>{me(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",Ji),t.addEventListener("transitionend",Ji)):e.style.overflowY="auto"},Qi=(e,t,n)=>{Gt(),t&&"hidden"!==n&&$t(n),setTimeout(()=>{e.scrollTop=0})},$i=(e,t,n)=>{te(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),ae(t,"grid"),setTimeout(()=>{te(t,n.showClass.popup),t.style.removeProperty("opacity")},Xi)):ae(t,"grid"),te([document.documentElement,document.body],d.shown),n.heightAuto&&n.backdrop&&!n.toast&&te([document.documentElement,document.body],d["height-auto"])};var er={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function tr(e){e.inputValidator||("email"===e.input&&(e.inputValidator=er.email),"url"===e.input&&(e.inputValidator=er.url))}function nr(e){(!e.target||"string"===typeof e.target&&!document.querySelector(e.target)||"string"!==typeof e.target&&!e.target.appendChild)&&(m('Target parameter is not valid, defaulting to "body"'),e.target="body")}function ir(e){tr(e),e.showLoaderOnConfirm&&!e.preConfirm&&m("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),nr(e),"string"===typeof e.title&&(e.title=e.title.split("\n").join("<br />")),Ce(e)}let rr;var ar=new WeakMap;class sr{constructor(){if(i(this,ar,void 0),"undefined"===typeof window)return;rr=this;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const a=Object.freeze(this.constructor.argsToParams(t));this.params=a,this.isAwaitingPromise=!1,r(ar,this,this._main(rr.params))}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ti(Object.assign({},t,e)),s.currentInstance){const e=Vt.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:t}=s.currentInstance;s.currentInstance._destroy(),t||e({isDismissed:!0}),G()&&Ht()}s.currentInstance=rr;const n=lr(e,t);ir(n),Object.freeze(n),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);const i=cr(rr);return Ct(rr,n),Fe.innerParams.set(rr,n),or(rr,i,n)}then(e){return n(ar,this).then(e)}finally(e){return n(ar,this).finally(e)}}const or=(e,t,n)=>new Promise((i,r)=>{const a=t=>{e.close({isDismissed:!0,dismiss:t,isConfirmed:!1,isDenied:!1})};Vt.swalPromiseResolve.set(e,i),Vt.swalPromiseReject.set(e,r),t.confirmButton.onclick=()=>{Cn(e)},t.denyButton.onclick=()=>{Tn(e)},t.cancelButton.onclick=()=>{Nn(e,a)},t.closeButton.onclick=()=>{a(Rt.close)},ci(n,t,a),Ot(s,n,a),mn(e,n),Ki(n),dr(s,n,a),ur(t,n),setTimeout(()=>{t.container.scrollTop=0})}),lr=(e,t)=>{const n=Ui(e),i=Object.assign({},Gn,t,n,e);return i.showClass=Object.assign({},Gn.showClass,i.showClass),i.hideClass=Object.assign({},Gn.hideClass,i.hideClass),!1===i.animation&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},cr=e=>{const t={popup:T(),container:E(),actions:F(),confirmButton:P(),denyButton:L(),cancelButton:D(),loader:U(),closeButton:z(),validationMessage:j(),progressSteps:O()};return Fe.domCache.set(e,t),t},dr=(e,t,n)=>{const i=V();se(i),t.timer&&(e.timeout=new Li(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(ae(i),Z(i,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&fe(t.timer)})))},ur=(e,t)=>{if(!t.toast)return b(t.allowEnterKey)?void(hr(e)||pr(e,t)||jt(-1,1)):(v("allowEnterKey"),void mr())},hr=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&de(n))return n.focus(),!0;return!1},pr=(e,t)=>t.focusDeny&&de(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&de(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!de(e.confirmButton))&&(e.confirmButton.focus(),!0),mr=()=>{document.activeElement instanceof HTMLElement&&"function"===typeof document.activeElement.blur&&document.activeElement.blur()};sr.prototype.disableButtons=Bn,sr.prototype.enableButtons=Fn,sr.prototype.getInput=Ln,sr.prototype.disableInput=zn,sr.prototype.enableInput=Vn,sr.prototype.hideLoading=Pn,sr.prototype.disableLoading=Pn,sr.prototype.showValidationMessage=Hn,sr.prototype.resetValidationMessage=Wn,sr.prototype.close=rn,sr.prototype.closePopup=rn,sr.prototype.closeModal=rn,sr.prototype.closeToast=rn,sr.prototype.rejectPromise=sn,sr.prototype.update=ni,sr.prototype._destroy=ri,Object.assign(sr,Di),Object.keys(li).forEach(e=>{sr[e]=function(){return rr&&rr[e]?rr[e](...arguments):null}}),sr.DismissReason=Rt,sr.version="11.26.2";const fr=sr;return fr.default=fr,fr}(),"undefined"!==typeof this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')},70:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(s),n=t?t[1]:void 0;return(0,a.formatDOM)((0,r.default)(e),null,n)};var r=i(n(4273)),a=n(1454),s=/<(![a-zA-Z\s]+)>/},111:(e,t,n)=>{var i=n(1069),r=0;e.exports=function(e){var t=++r;return i(e)+t}},141:e=>{e.exports=function(e){return void 0===e}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},219:(e,t,n)=>{"use strict";var i=n(2086),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return i.isMemo(e)?s:o[e.$$typeof]||r}o[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[i.Memo]=s;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(m){var r=p(n);r&&r!==m&&e(t,r,i)}var s=d(n);u&&(s=s.concat(u(n)));for(var o=l(t),f=l(n),g=0;g<s.length;++g){var _=s[g];if(!a[_]&&(!i||!i[_])&&(!f||!f[_])&&(!o||!o[_])){var v=h(n,_);try{c(t,_,v)}catch(b){}}}}return t}},310:(e,t,n)=>{var i=n(1817),r=n(5990),a=n(6140);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:i(r(e))}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},402:(e,t,n)=>{var i=n(523),r=n(8218),a=n(911),s=n(8991);e.exports=function(e){var t=a(e),n=s[t];if("function"!=typeof n||!(t in i.prototype))return!1;if(e===n)return!0;var o=r(n);return!!o&&e===o[0]}},438:(e,t,n)=>{var i=n(2622);e.exports=function(e){return i(this,e).get(e)}},446:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,i="millisecond",r="second",a="minute",s="hour",o="day",l="week",c="month",d="quarter",u="year",h="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,f=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},_=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},v={s:_,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+_(i,2,"0")+":"+_(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(i,c),a=n-r<0,s=t.clone().add(i+(a?-1:1),c);return+(-(i+(n-r)/(a?r-s:s-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:u,w:l,d:o,D:h,h:s,m:a,s:r,ms:i,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",y={};y[b]=g;var x="$isDayjsObject",w=function(e){return e instanceof T||!(!e||!e[x])},E=function e(t,n,i){var r;if(!t)return b;if("string"==typeof t){var a=t.toLowerCase();y[a]&&(r=a),n&&(y[a]=n,r=a);var s=t.split("-");if(!r&&s.length>1)return e(s[0])}else{var o=t.name;y[o]=t,r=o}return!i&&r&&(b=r),r||!i&&b},S=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new T(n)},C=v;C.l=E,C.i=w,C.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var T=function(){function g(e){this.$L=E(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var _=g.prototype;return _.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(m);if(i){var r=i[2]-1||0,a=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)}}return new Date(t)}(e),this.init()},_.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},_.$utils=function(){return C},_.isValid=function(){return!(this.$d.toString()===p)},_.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},_.isAfter=function(e,t){return S(e)<this.startOf(t)},_.isBefore=function(e,t){return this.endOf(t)<S(e)},_.$g=function(e,t,n){return C.u(e)?this[t]:this.set(n,e)},_.unix=function(){return Math.floor(this.valueOf()/1e3)},_.valueOf=function(){return this.$d.getTime()},_.startOf=function(e,t){var n=this,i=!!C.u(t)||t,d=C.p(e),p=function(e,t){var r=C.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?r:r.endOf(o)},m=function(e,t){return C.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},f=this.$W,g=this.$M,_=this.$D,v="set"+(this.$u?"UTC":"");switch(d){case u:return i?p(1,0):p(31,11);case c:return i?p(1,g):p(0,g+1);case l:var b=this.$locale().weekStart||0,y=(f<b?f+7:f)-b;return p(i?_-y:_+(6-y),g);case o:case h:return m(v+"Hours",0);case s:return m(v+"Minutes",1);case a:return m(v+"Seconds",2);case r:return m(v+"Milliseconds",3);default:return this.clone()}},_.endOf=function(e){return this.startOf(e,!1)},_.$set=function(e,t){var n,l=C.p(e),d="set"+(this.$u?"UTC":""),p=(n={},n[o]=d+"Date",n[h]=d+"Date",n[c]=d+"Month",n[u]=d+"FullYear",n[s]=d+"Hours",n[a]=d+"Minutes",n[r]=d+"Seconds",n[i]=d+"Milliseconds",n)[l],m=l===o?this.$D+(t-this.$W):t;if(l===c||l===u){var f=this.clone().set(h,1);f.$d[p](m),f.init(),this.$d=f.set(h,Math.min(this.$D,f.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},_.set=function(e,t){return this.clone().$set(e,t)},_.get=function(e){return this[C.p(e)]()},_.add=function(i,d){var h,p=this;i=Number(i);var m=C.p(d),f=function(e){var t=S(p);return C.w(t.date(t.date()+Math.round(e*i)),p)};if(m===c)return this.set(c,this.$M+i);if(m===u)return this.set(u,this.$y+i);if(m===o)return f(1);if(m===l)return f(7);var g=(h={},h[a]=t,h[s]=n,h[r]=e,h)[m]||1,_=this.$d.getTime()+i*g;return C.w(_,this)},_.subtract=function(e,t){return this.add(-1*e,t)},_.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var i=e||"YYYY-MM-DDTHH:mm:ssZ",r=C.z(this),a=this.$H,s=this.$m,o=this.$M,l=n.weekdays,c=n.months,d=n.meridiem,u=function(e,n,r,a){return e&&(e[n]||e(t,i))||r[n].slice(0,a)},h=function(e){return C.s(a%12||12,e,"0")},m=d||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(f,function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return C.s(t.$y,4,"0");case"M":return o+1;case"MM":return C.s(o+1,2,"0");case"MMM":return u(n.monthsShort,o,c,3);case"MMMM":return u(c,o);case"D":return t.$D;case"DD":return C.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(n.weekdaysMin,t.$W,l,2);case"ddd":return u(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return C.s(a,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return m(a,s,!0);case"A":return m(a,s,!1);case"m":return String(s);case"mm":return C.s(s,2,"0");case"s":return String(t.$s);case"ss":return C.s(t.$s,2,"0");case"SSS":return C.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")})},_.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},_.diff=function(i,h,p){var m,f=this,g=C.p(h),_=S(i),v=(_.utcOffset()-this.utcOffset())*t,b=this-_,y=function(){return C.m(f,_)};switch(g){case u:m=y()/12;break;case c:m=y();break;case d:m=y()/3;break;case l:m=(b-v)/6048e5;break;case o:m=(b-v)/864e5;break;case s:m=b/n;break;case a:m=b/t;break;case r:m=b/e;break;default:m=b}return p?m:C.a(m)},_.daysInMonth=function(){return this.endOf(c).$D},_.$locale=function(){return y[this.$L]},_.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=E(e,t,!0);return i&&(n.$L=i),n},_.clone=function(){return C.w(this.$d,this)},_.toDate=function(){return new Date(this.valueOf())},_.toJSON=function(){return this.isValid()?this.toISOString():null},_.toISOString=function(){return this.$d.toISOString()},_.toString=function(){return this.$d.toUTCString()},g}(),N=T.prototype;return S.prototype=N,[["$ms",i],["$s",r],["$m",a],["$H",s],["$W",o],["$M",c],["$y",u],["$D",h]].forEach(function(e){N[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),S.extend=function(e,t){return e.$i||(e(t,T,S),e.$i=!0),S},S.locale=E,S.isDayjs=w,S.unix=function(e){return S(1e3*e)},S.en=y[b],S.Ls=y,S.p={},S}()},449:(e,t,n)=>{var i=n(6924),r=n(2761);e.exports=function(e){return r(e)&&"[object Set]"==i(e)}},474:(e,t,n)=>{var i=n(3204),r=n(8122),a=n(6571);e.exports=function(e){return a(e)?i(e,!0):r(e)}},486:(e,t,n)=>{var i=n(6534),r=n(5647),a=n(801),s=r(function(e,t,n){return i(e,a(t)||0,n)});e.exports=s},523:(e,t,n)=>{var i=n(1817),r=n(2112);function a(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}a.prototype=i(r.prototype),a.prototype.constructor=a,e.exports=a},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var i=n(6913),r=n(4052),a=n(2761);e.exports=function(e){return"string"==typeof e||!r(e)&&a(e)&&"[object String]"==i(e)}},643:(e,t,n)=>{var i=n(5295)("toUpperCase");e.exports=i},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",i="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",a="[^"+t+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+i+"|"+r+")"+"?",c="[\\ufe0e\\ufe0f]?",d=c+l+("(?:\\u200d(?:"+[a,s,o].join("|")+")"+c+l+")*"),u="(?:"+[a+i+"?",i,s,o,n].join("|")+")",h=RegExp(r+"(?="+r+")|"+u+d,"g");e.exports=function(e){return e.match(h)||[]}},726:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},728:()=>{},755:(e,t,n)=>{var i=n(8895),r=n(7116);e.exports=function e(t,n,a,s,o){var l=-1,c=t.length;for(a||(a=r),o||(o=[]);++l<c;){var d=t[l];n>0&&a(d)?n>1?e(d,n-1,a,s,o):i(o,d):s||(o[o.length]=d)}return o}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var i=n(1141),r=n(6686),a=n(9841),s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=o.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?NaN:+e}},819:(e,t,n)=>{var i=n(755);e.exports=function(e){return(null==e?0:e.length)?i(e,1):[]}},887:(e,t,n)=>{var i=n(6993),r=n(1791);e.exports=function(e,t,n,a,s){return new r(i().w(e,t,n,a),s||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},911:(e,t,n)=>{var i=n(7530),r=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=i[t],a=r.call(i,t)?n.length:0;a--;){var s=n[a],o=s.func;if(null==o||o==e)return s.name}return t}},914:(e,t,n)=>{var i=n(9841);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var i=n(3211),r=n(6571),a=n(9194),s=n(6686);e.exports=function(e,t,n){if(!s(n))return!1;var o=typeof t;return!!("number"==o?r(n)&&a(t,n.length):"string"==o&&t in n)&&i(n[t],e)}},940:(e,t,n)=>{var i=n(6882)(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});e.exports=i},966:(e,t,n)=>{var i=n(1817),r=n(6686);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=i(e.prototype),a=e.apply(n,t);return r(a)?a:n}}},1001:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0,t.default=function(e,t){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];return(0,s.default)((0,r.default)(e,(null===t||void 0===t?void 0:t.htmlparser2)||l),t)};var r=i(n(70));t.htmlToDOM=r.default;var a=i(n(6876));t.attributesToProps=a.default;var s=i(n(4789));t.domToReact=s.default;var o=n(3540);Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return o.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return o.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return o.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return o.Text}});var l={lowerCaseAttributeNames:!1}},1069:(e,t,n)=>{var i=n(8541);e.exports=function(e){return null==e?"":i(e)}},1093:e=>{var t=Math.max;e.exports=function(e,n,i,r){for(var a=-1,s=e.length,o=-1,l=i.length,c=-1,d=n.length,u=t(s-l,0),h=Array(u+d),p=!r;++a<u;)h[a]=e[a];for(var m=a;++c<d;)h[m+c]=n[c];for(;++o<l;)(p||a<s)&&(h[m+i[o]]=e[a++]);return h}},1104:(e,t,n)=>{var i=n(6614),r=n(8673);e.exports=function(e,t){return e&&i(t,r(t),e)}},1130:e=>{var t=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;e.exports=function(e){var i=e.match(t);return i?i[1].split(n):[]}},1141:(e,t,n)=>{var i=n(143),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},1143:(e,t,n)=>{var i=n(3028)(Object.keys,Object);e.exports=i},1153:(e,t,n)=>{"use strict";var i=n(5043),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,a={},c=null,d=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,i)&&!l.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===a[i]&&(a[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var i=n(5428),r=n(7574),a=n(6832),s=a&&a.isTypedArray,o=s?r(s):i;e.exports=o},1295:(e,t,n)=>{var i=n(9812),r=i?i.prototype:void 0,a=r?r.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var i=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},1425:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ANNOUNCEMENT_TYPES:()=>pe,ATLEAST_ONE_CAPITAL_REGEX:()=>q,ATLEAST_ONE_NUMBER_REGEX:()=>Y,ATLEAST_ONE_SMALL_REGEX:()=>G,ATLEAST_ONE_SPECIAL_CHARACTER_REGEX:()=>X,CKEDITOR_CONFIG:()=>he,CMS_PAGES_POSITIONS:()=>P,CMS_PAGES_TYPES:()=>j,COMMENT_TYPES:()=>ye,COOKIES_EXPIRATION:()=>Te,CURRENCY:()=>me,DEFAULT_EMAIL_OPTIONS:()=>L,DEFAULT_MESSAGE_LIMIT:()=>ge,DEFAULT_SELECT_FIELD:()=>de,DEVMODE:()=>o,DYNAMIC_VARIABLES:()=>U,EDITOR_TOOLBAR:()=>a,EMAIL_REGEX:()=>W,EMAIL_STATUS:()=>R,EMAIL_TEMPLATE_TYPES:()=>k,EMAIL_TYPE:()=>fe,EVENT_TYPE:()=>Me,EXPERTISE:()=>F,EXPORT_EXTENSION_TYPE:()=>we,FILE_UPLOAD:()=>Ae,FONTOPTIONS:()=>c,FOOTER_LOCATION:()=>Oe,FOOTER_MENUS:()=>D,GENDER:()=>C,INPUT_LENGTH_100:()=>ae,INPUT_LENGTH_15:()=>$,INPUT_LENGTH_20:()=>ee,INPUT_LENGTH_25:()=>te,INPUT_LENGTH_30:()=>ne,INPUT_LENGTH_40:()=>ie,INPUT_LENGTH_50:()=>re,INPUT_LENGTH_500:()=>se,INPUT_MAX_25:()=>Q,INVITATION_STATUS:()=>M,INVITATION_TYPES:()=>ue,LOADER_TIMEOUT_TIME:()=>De,MAX_VOICE_MEMO_SECONDS:()=>Ne,MENU_LOCATION:()=>Ie,MESSAGE_TYPES:()=>be,MOBILE_NUMBER_REGEX:()=>H,MONTHS:()=>s,NOTIFICATIONS_TYPES:()=>_e,NUMBER_CHARACTER_ONLY:()=>z,ONE_HOUR_MS:()=>Fe,ONE_HOUR_SECONDS:()=>Be,ONE_MINUTE_MS:()=>Ve,ONE_MINUTE_SECONDS:()=>ze,ONE_SECOND_MS:()=>He,ONE_SECOND_SECONDS:()=>We,OTP_LENGTH:()=>V,PASSWORD_MAX_LENGTH:()=>Z,PASSWORD_MIN_LENGTH:()=>J,PHONE_NO_LENGTH:()=>Re,QUESTION_TYPES:()=>S,REFUND_TYPES:()=>ve,REGISTRATION_TYPE:()=>A,ROLE:()=>T,ROOM_TYPE:()=>ce,SERVICES:()=>B,SOCKET_EVENTS:()=>Le,STATUS_CLASS:()=>Ue,SUBSCRIPTION_NAMES:()=>qe,SUBSCRIPTION_PRODUCT_IDS:()=>Ge,SURVEY_TYPES:()=>E,SWAL_SETTINGS:()=>l,TEXTAREA_MAX_LENGTH:()=>oe,TEXTAREA_MAX_LENGTH_200:()=>le,TICKET_TYPES:()=>w,TRANSACTION_STATUS:()=>I,TRANSACTION_TYPES:()=>O,URL_REGEX:()=>K,USER_TYPE:()=>N,VIDEO_UPLOAD:()=>xe,WEB_LANGUAGES:()=>Ee,amountRegex:()=>je,categoryList:()=>y,discountType:()=>g,discountTypeObj:()=>_,earningType:()=>v,filterOfInvitations:()=>x,getLangName:()=>Se,getType:()=>Ce,isProfileRequired:()=>ke,languageSpoken:()=>u,phoneRegExp:()=>Pe,questionType:()=>h,showFilterOfInvitations:()=>b,showFilterlist:()=>d,subscriptionPlanType:()=>m,subscriptionPlanTypeObj:()=>f,subscriptionType:()=>p});var i=n(9224);var r=n(579);const a=[{name:"clipboard",groups:["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"basicStyles",groups:["Bold","Italic","Underline","Strike","Subscript","Superscript"]},{name:"paragraph",groups:["NumberedList","BulletedList","Outdent","Indent","Blockquote"]},{name:"alignment",groups:["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","BidiLtr","BidiRtl"]},{name:"links",groups:["Link","Unlink","Image"]},{name:"table",groups:["Table","TableToolbar"]},{name:"styles",groups:["Font","FontSize","Format","TextColor","BGColor"]},{name:"miscellaneous",groups:["Find","Replace","Source"]},{name:"insert",groups:["cstButton2"]}],s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o={USERNAME:"DEV@ADMIN",PASSWORD:"Dev@1234",SESSION_TIME:3e5},l={customClass:"swal-wide",position:"top-right",showConfirmButton:!1,timer:7e3,toast:!0,showClass:{popup:"animate__animated animate__bounceInRight"},hideClass:{popup:"animate__animated animate__bounceOutRight"},showCloseButton:!0},c=[{value:"Arial(sans - serif)",label:"Arial(sans - serif)"},{value:" Verdana(sans - serif)",label:" Verdana(sans - serif)"},{value:"Tahoma(sans - serif)",label:"Tahoma(sans - serif)"},{value:"Trebuchet MS(sans - serif)",label:"Trebuchet MS(sans - serif)"},{value:"Times New Roman(serif)",label:"Times New Roman(serif)"},{value:"Georgia(serif)",label:"Georgia(serif)"},{value:"Garamond(serif)",label:"Garamond(serif)"},{value:"Courier New(monospace)",label:"Courier New(monospace)"},{value:"Brush Script MT(cursive)",label:"Brush Script MT(cursive)"}],d=[{name:"list_heading_status",status__id:""},{name:"btn_active",status__id:"1"},{name:"btn_inactive",status__id:"0"}],u=[{name:"English",code:"en",flag:i},{name:"German",code:"de",flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHrSURBVHgBrZTPSxtBFMffmx2X7GbTTaD0ZEVt1BxTvJQWRfDakyh1CvbSY+mtf0CPvbc9lF57kFD8E8q2FHLorT00tGiMiIrEZDe7SSBkZ5wNrvhjFd3sBxZm3vK+78289wYhGiwWi+Zkfvpdv9db9n0/J21ESCiljmEYpb293VeWZXFp55eco/arq6zWarmjKLkiKHDOhaalaxsbpYnrRJGxtSeO07SklgI3h2cy5sL6+pefci0CAwn/MMbmbfvoxy0FBxq23fjO2ItHp4Zw0Wp53whREGKgKAq6rh1kiqEoWVparsGZAHGQNSSMPa8GwhRmZxXquvcpxkryHP360Vg+n89ALZv9LIJACX3/c7mP2FHVptbrZSEh2pTWUSByGWP4s4cg+ihOeitJyCDTJJF6pENIExKkq6o2OTDufIUEaeh6CVdWJs3S62pDXu1QzR8Q1OfZexgJqo7erradPuyOwZB4aXMrM+NMha2E/l/ok278UeU6cqUgBo9RKCJ+bxbmfB6vvaQTt37NzIX708wePq2Uy/+m54V2uxbjKeB/dqYeL65VyqEtcpLaFbOa8pxxcv1liPY9fccY7UzAhQGKdEsXnAeLbxZG9vXcp66iNmEwICgfDOReitarIvvh5du7phQch4iJPAYWhdGHYFOILwAAAABJRU5ErkJggg=="},{name:"Spanish",code:"es",flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKLSURBVHgBrZXPaxNBHMXfTDa2Jm2TWoqtVl2EqhRKW1S0tkgCShGU1l49NMGrQv0HPAqeehNBoeYqiGlFe/CQCI0ePLSIP9AaXBtraotJTEyy2WR3/G40oiSl2dJ3md1l9zNvZ77vOwwb6EWT7GHCGDUAjwBkBrhpTNGocCCsgweGsspirW9ZFcwtyyiKaQHhwWYSLMgMdm1QVZQNoRHnPh89mjJdoU6Z7sn55GB2OVAFNYEMbBpbFIF8FXAZGoIsG7AtwILDGp7JsTHghaKUoeoj6aGhsbF/pzX/y7JbmwjvHCt5mYign+4XhKCftxOJcaSzElqaNECDdRnwSuRo4vc0DEqiE7nPQDTRhO6eEjqbV+FqzFlzzTAqwaxDTi7bgJc3VKzDBrsrhqVbApfuGGhuo7VIC3BeN9bDiSxHl4HgYwMnegvIv8ugpX0C/XcvY1fHAVy/ycBb6yeSZC4MuHcf7MHhbj+eBpxIHi2h5/hZND44g5WvDoyM36adNKxA3Zy5kPo4p2NlMQlnuwop2osr9+dhG9mD72+A2PM4CgkrTDMMtD/FlI6+0w44zufRN/Aeo/EnWJ85iS7+GnbNBS5ZglJv+IHw3vEMljIfUFqTkMvoOETtI/m2FayZxmPztHGWoGGJNnsmvdY2qf50Y/xqHp++DSOOLgynZ2Hf74DrVQMoGOCs7roKlBOVn5VCQqfS0mk1uFFOVDkMgkA2ui4xs4w31w4RdFwoXSy/OocjcgM0yj7bcvapVaY0yv65SvZNbWeX+lvVQ9nYPZrNb/ZHWNCf08BXs59WFHJ3yA2afYoWcawOZLigF/1edVXB/65rK+KU+xl0ajas6owyYdBF8JT65Vmtb38BwUP27jG6UaIAAAAASUVORK5CYII="},{name:"Hungarian",code:"hu",flag:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMGSURBVHgBpVRbSBRRGP7OzF7EQteiq2RrUdmF2AoKoWKyfOghMnpLIqOHfFPpJfJBiSiM8hYRhKRGD0UQYgpFiOuDGFSsZWSWlpphptUqqbs6c/7+2VTWdVyDPjjD/LfvfP8/Z47APHixTdMUkkcFQSMBNwguCPjZ7mbba5BSvfudt9WqVkQ6fCmam1SqJCJtVmDcDsROABReImompMhLfe/tDk9Vwo1XKfuypCp9cwhVCZvWCTHuiJBAGQ5F+l6m7D9lSWoSQhGVoTZnhBDEbwcmHSN4HZ+IiYTBkE2z+3MJBVXhxMp0y1BFSYQMKAEnxtN6sauuDcIxAE9tGya1XqhBe2QqmLi0xeSZJpUKlcxSOIU4lVCwBsi/uBWJSU4UXNqGC0kCcdyBBVxOYVSGNmh2bfEo0H1zcyQG4pcj5nwXYlfpyLx/FveOl2NyMAajxZuwfPA7V8/5ztBtjgMgwyiRhkGRi6SkT9duUpPNTc3OzdS+YgO17smklvVp1He7mkxY1jEfOOYjKzDpRJjZeauKgqNjNOYfpo78KxQFPhsrdlsNyGyt81whvhQX8Te0QVm/EUs92xHs/wZH0mpEgVuY1JYhdutMbJsyex7WQO0agj48ArkyFutysudlNWv8vFxWSj+y0r7iq/xqw2J7IhZdDmJ0NAD3r0JEgT/KTInGg8EZs7H+Ee08kUa7eT27WxF9plJKL98AHqstnTYH3thXIWAE8HQHK03fiMDQTxw6eQaSpLVOvmyEJ2uvpku90SrOxwOLkteiIqcY7R1vcf1OERLil6Bv6CuPRLHklLqxI3R6D+YcMUk1qyRFUdD/YwAxdicS4lzgzjA/qKahrO5YaDtDTJ5m3X7LnZlkRcIyxC+OW4AQfkPoeSEh5sNb+oQvXsrD/4BErsljvqrTvs/PP7Qmp27qERAamzH4d/AREtkN5bXV0w41PGoSr01NfiCgunnYKQvzkZdbPtxYVt8U7hXzpafnZngMMvjiJY3Vu/H3B/ETqJvLvHyiahpvPG6yqv0Dt73f2OuX4YsAAAAASUVORK5CYII="}],h=[{name:"Single Choice",value:"single_choice"},{name:"Multiple Choice",value:"multiple_choice"}],p=[{name:"Free",value:"free"},{name:"Premium",value:"premium"},{name:"Credit Base",value:"credit_base"}],m=[{name:"Question",value:"question"},{name:"Report",value:"report"}],f={question:"Question",report:"Report"},g=[{name:"FLAT AMOUNT",value:"flat_amount"},{name:"PERCENTAGE",value:"percentage"}],_={flat_amount:"FLAT AMOUNT",percentage:"PERCENTAGE"},v=[{name:"Question",value:"question"},{name:"Report",value:"report"},{name:"Discount",value:"discount"}],b=[{name:"Type",status__id:""},{name:"Schedule",status__id:"schedule"},{name:"Sent",status__id:"send_now"},{name:"Send Later",status__id:"send_later"}],y=[{key:"cat1",label:"Category1"},{key:"cat2",label:"Category2"}],x=[{name:"Status",status__id:""},{name:"No Reply",status__id:0},{name:"Will Attend",status__id:1},{name:"Declined",status__id:2}],w={EVENT:"event",AGENDA:"agenda",HOTEL:"hotel"},E={SURVEY:"survey",QUESTION_SET:"question-set"},S={MULTIPLE_CHOICE:"multiple_choice",SINGLE_CHOICE:"single_choice",SHORT_ANS:"short_ans",LONG_ANS:"long_ans",SLIDER:"slider",EMOJI:"emoji",DROPDOWN:"dropdown",RATING:"rating",LIKE_DISLIKE:"likeStatus",TIME:"time",CALENDAR:"calendar",SIGNATURE:"signature",FREE_HAND_DRAWING:"free_hand_drawing",VOICE_MEMO:"voice_memo",PHOTO_UPLOAD:"photo_upload",VIDEO_UPLOAD:"video_upload",EXTRA_INFORMATION:"extra_information"},C=["Male","Female"],T={SUPER_ADMIN:"super_admin",PSYCHIC:"psychic"},N={Primary:"primary",Guest:"secondary"},A={DEACTIVE:0,ACTIVE:1,CANCELLED:2},k={DEFAULT:"default",PROMOTIONAL:"promotional"},R={PENDING:0,IN_PROGRESS:1,SUCCESS:2,FAILED:3},I={PENDING:"pending",SUCCESS:"success",FAILED:"failed"},O={PAYMENT:"payment",REFUND:"refund"},j={DEFAULT:"default",CUSTOM:"custom"},P={HEADER:"header",FOOTER:"footer",OTHER:"other"},D={COMPANY:"company",IMPORTANT_LINKS:"important_links"},L=["web_url","name","title","first_name","middle_name","last_name","email","salutation","role","phone_number","work_phone_number"],M={PENDING:0,ACCEPTED:1,REJECTED:2},U={SERVER_URL:"https://astranova-api.devtechnosys.tech/webservice/api/v1".replace("/webservice/api/v1","")},F=[{name:"Tarot Reading",value:"tarot_reading"},{name:"Astrologer",value:"astrologer"}],B={tarot_reading:"Tarot Reading",astrologer:"Astrologer"},V=6,z=/^\d+$/,H=/^[0-9]+$/,W=/^[a-zA-Z0-9._'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,G=/[a-z]/g,q=/[A-Z]/g,Y=/[0-9]/g,X=/[^\w\s]/,K=/^(ftp|http|https):\/\/[^ "]+$/,J=8,Z=20,Q=25,$=15,ee=20,te=25,ne=30,ie=40,re=50,ae=100,se=500,oe=150,le=200,ce={Single_Room:"single_room",Double_Room:"double_room"},de=["Title","Email","Firstname","Lastname","Middlename"],ue={SCHEDULE:"schedule",SEND_LATER:"send_later",SEND_NOW:"send_now"},he={filebrowserUploadUrl:"".concat("https://astranova-api.devtechnosys.tech/webservice/api/v1","/admin/ckeditor/upload-ck-image"),allowedContent:!0,fileTools_requestHeaders:{Authorization:"Bearer ".concat(localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).token:"")},extraAllowedContent:"*[*]",toolbar:[{name:"source",items:["Source"]},{name:"functions",items:["NewPage","ExportPdf","Print","Preview"]},{name:"clipboard",items:["Cut","Copy","Paste","CopyFormatting"]},{name:"miscellaneous",items:["Undo","Redo"]},{name:"text-corrections",items:["Find","Replace","SelectAll","Scayt"]},{name:"basic-styles",items:["Bold","Italic","Underline","Strike","Subscript","Superscript"]},{name:"paragraph",items:["NumberedList","BulletedList","Outdent","Indent","Blockquote"]},{name:"alignment",items:["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","BidiLtr","BidiRtl"]},{name:"links",items:["Link","Unlink","Anchor","Image"]},{name:"table",items:["Table","TableToolbar"]},{name:"styles",items:["Font","FontSize","Format","TextColor","BGColor","PageBreak"]},{name:"forms",items:["Form","Radio","Checkbox","TextField","Textarea","Select","MediaButton"]},{name:"configs",items:["Smiley","SpecialChar","Iframe","Maximize"]}]},pe={GENERAL:"general",EVENT:"event"},me=[{name:"Dollar",code:"USD",sign:"$"},{name:"Euro",code:"EUR",sign:"\u20ac"},{name:"Pound",code:"GBP",sign:"\xa3"}],fe={Automatic:"automatic",Regular:"regular"},ge=10,_e={DEFAULT:"default",UNREAD_CHAT_MESSAGE:"unread_chat_message"},ve={PARTIAL:"partial",FULL:"full"},be={TEXT:"text",IMAGE:"image",EMOJI:"emoji",FILE:"file"},ye={TEXT:"text",IMAGE:"image",FILE:"file"},xe={CHUNK_SIZE:1048576},we="csv",Ee=[{name:"English",file_name:"en.json",code:"en"},{name:"Deutsch",file_name:"de.json",code:"de"}],Se=e=>{let t=Ee.filter(t=>e===t.file_name);return t.length?t[0].name:""},Ce=e=>e===O.PAYMENT?(0,r.jsx)("span",{className:"badge badge-info",children:"Payment"}):e===O.REFUND?(0,r.jsx)("span",{className:"badge badge-dark",children:"Refund"}):void 0,Te=7,Ne=30,Ae={CHUNK_SIZE:1048576},ke=[{label:"Title",value:"title"},{label:"Salutation",value:"gender"},{label:"First Name",value:"first_name"},{label:"Middle Name",value:"middle_name"},{label:"Last Name",value:"last_name"},{label:"Function",value:"event_function"},{label:"Phone Number",value:"phone_number"},{label:"Phone Number Work",value:"phone_number_work"},{label:"Files",value:"files"},{label:"Extra Info",value:"extra_info"}],Re={min:8,max:13},Ie={menu_of_page_header:"header",menu_of_page_footer:"footer",menu_of_page_custom:"custom"},Oe={main_location_of_page_footer:"main",base_location_of_page_footer:"base"},je=/^\d{1,9}(\.\d{1,2})?$/,Pe=/^(\+?\d{1,4}[\s-]?)?(?!0+\s+,?$)\d{10,14}$/,De=500,Le={NEW_BOOKING:"new-booking",CANCEL_BOOKING:"cancel-booking",SESSION_REMINDER:"session-reminder",NEW_CHAT:"new-chat"},Me={"new-booking":"New Booking","cancel-booking":"Cancle Booking","session-reminder":"Session Reminder","new-chat":"New Chat"},Ue={booked:"text-success",cancelled:"text-danger",completed:"text-primary",pending:"text-warning",refunded:"text-info",default:"text-muted"},Fe=36e5,Be=3600,Ve=6e4,ze=60,He=1e3,We=1,Ge={ONE_MONTH_SUBSCRIPTION:"1_month_subscription",THREE_MONTH_SUBSCRIPTION:"3_month_subscription",TWELVE_MONTH_SUBSCRIPTION:"12_month_subscription"},qe={"1_month_subscription":"Monthly","3_month_subscription":"Quarterly","12_month_subscription":"Yearly"}},1454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatAttributes=a,t.escapeSpecialCharacters=function(e){return e.replace(r.CARRIAGE_RETURN_REGEX,r.CARRIAGE_RETURN_PLACEHOLDER)},t.revertEscapedCharacters=o,t.formatDOM=function e(t,n,r){void 0===n&&(n=null);for(var l,c=[],d=0,u=t.length;d<u;d++){var h=t[d];switch(h.nodeType){case 1:var p=s(h.nodeName);(l=new i.Element(p,a(h.attributes))).children=e("template"===p?h.content.childNodes:h.childNodes,l);break;case 3:l=new i.Text(o(h.nodeValue));break;case 8:l=new i.Comment(h.nodeValue);break;default:continue}var m=c[d-1]||null;m&&(m.next=l),l.parent=n,l.prev=m,l.next=null,c.push(l)}r&&((l=new i.ProcessingInstruction(r.substring(0,r.indexOf(" ")).toLowerCase(),r)).next=c[0]||null,l.parent=n,c.unshift(l),c[1]&&(c[1].prev=c[0]));return c};var i=n(3540),r=n(2955);function a(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function s(e){var t=function(e){return r.CASE_SENSITIVE_TAG_NAMES_MAP[e]}(e=e.toLowerCase());return t||e}function o(e){return e.replace(r.CARRIAGE_RETURN_PLACEHOLDER_REGEX,r.CARRIAGE_RETURN)}},1488:(e,t,n)=>{var i=n(149),r=n(7132),a=n(8140),s=n(5324),o=n(6614),l=n(6761),c=n(5857),d=n(8592),u=c(function(e,t){var n={};if(null==e)return n;var c=!1;t=i(t,function(t){return t=s(t,e),c||(c=t.length>1),t}),o(e,d(e),n),c&&(n=r(n,7,l));for(var u=t.length;u--;)a(n,t[u]);return n});e.exports=u},1497:(e,t,n)=>{"use strict";var i=n(3218);function r(){}function a(){}a.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,a,s){if(s!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:r};return n.PropTypes=n,n}},1516:(e,t,n)=>{var i=n(2929);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},1517:e=>{const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,n=e=>e.match(t)||[],i=e=>e[0].toUpperCase()+e.slice(1),r=(e,t)=>n(e).join(t).toLowerCase(),a=e=>n(e).reduce((e,t)=>"".concat(e).concat(e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()),"");e.exports={words:n,upperFirst:i,camelCase:a,pascalCase:e=>i(a(e)),snakeCase:e=>r(e,"_"),kebabCase:e=>r(e,"-"),sentenceCase:e=>i(r(e," ")),titleCase:e=>n(e).map(i).join(" ")}},1540:e=>{var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="["+a+"]",o="\\d+",l="["+n+"]",c="["+i+"]",d="[^"+t+a+o+n+i+r+"]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="["+r+"]",m="(?:"+c+"|"+d+")",f="(?:"+p+"|"+d+")",g="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",_="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",v="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",b="[\\ufe0e\\ufe0f]?",y=b+v+("(?:\\u200d(?:"+["[^"+t+"]",u,h].join("|")+")"+b+v+")*"),x="(?:"+[l,u,h].join("|")+")"+y,w=RegExp([p+"?"+c+"+"+g+"(?="+[s,p,"$"].join("|")+")",f+"+"+_+"(?="+[s,p+m,"$"].join("|")+")",p+"?"+m+"+"+g,p+"+"+_,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,x].join("|"),"g");e.exports=function(e){return e.match(w)||[]}},1629:(e,t,n)=>{var i=n(6913),r=n(6686);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1635:function(e,t,n){e.exports=function(){"use strict";function e(e,t){return t.forEach(function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach(function(n){if("default"!==n&&!(n in e)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})}),Object.freeze(e)}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r=function(e){try{return!!e()}catch(e){return!0}},a=!r(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),s=a,o=Function.prototype,l=o.call,c=s&&o.bind.bind(l,l),d=s?c:function(e){return function(){return l.apply(e,arguments)}},u=d({}.isPrototypeOf),h=function(e){return e&&e.Math===Math&&e},p=h("object"==typeof globalThis&&globalThis)||h("object"==typeof window&&window)||h("object"==typeof self&&self)||h("object"==typeof t&&t)||h("object"==typeof t&&t)||function(){return this}()||Function("return this")(),m=a,f=Function.prototype,g=f.apply,_=f.call,v="object"==typeof Reflect&&Reflect.apply||(m?_.bind(g):function(){return _.apply(g,arguments)}),b=d,y=b({}.toString),x=b("".slice),w=function(e){return x(y(e),8,-1)},E=w,S=d,C=function(e){if("Function"===E(e))return S(e)},T="object"==typeof document&&document.all,N=void 0===T&&void 0!==T?function(e){return"function"==typeof e||e===T}:function(e){return"function"==typeof e},A={},k=!r(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),R=a,I=Function.prototype.call,O=R?I.bind(I):function(){return I.apply(I,arguments)},j={},P={}.propertyIsEnumerable,D=Object.getOwnPropertyDescriptor,L=D&&!P.call({1:2},1);j.f=L?function(e){var t=D(this,e);return!!t&&t.enumerable}:P;var M,U,F=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},B=r,V=w,z=Object,H=d("".split),W=B(function(){return!z("z").propertyIsEnumerable(0)})?function(e){return"String"===V(e)?H(e,""):z(e)}:z,G=function(e){return null==e},q=G,Y=TypeError,X=function(e){if(q(e))throw new Y("Can't call method on "+e);return e},K=W,J=X,Z=function(e){return K(J(e))},Q=N,$=function(e){return"object"==typeof e?null!==e:Q(e)},ee={},te=ee,ne=p,ie=N,re=function(e){return ie(e)?e:void 0},ae=function(e,t){return arguments.length<2?re(te[e])||re(ne[e]):te[e]&&te[e][t]||ne[e]&&ne[e][t]},se=p.navigator,oe=se&&se.userAgent,le=oe?String(oe):"",ce=p,de=le,ue=ce.process,he=ce.Deno,pe=ue&&ue.versions||he&&he.version,me=pe&&pe.v8;me&&(U=(M=me.split("."))[0]>0&&M[0]<4?1:+(M[0]+M[1])),!U&&de&&(!(M=de.match(/Edge\/(\d+)/))||M[1]>=74)&&(M=de.match(/Chrome\/(\d+)/))&&(U=+M[1]);var fe=U,ge=fe,_e=r,ve=p.String,be=!!Object.getOwnPropertySymbols&&!_e(function(){var e=Symbol("symbol detection");return!ve(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ge&&ge<41}),ye=be&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,xe=ae,we=N,Ee=u,Se=Object,Ce=ye?function(e){return"symbol"==typeof e}:function(e){var t=xe("Symbol");return we(t)&&Ee(t.prototype,Se(e))},Te=String,Ne=function(e){try{return Te(e)}catch(e){return"Object"}},Ae=N,ke=Ne,Re=TypeError,Ie=function(e){if(Ae(e))return e;throw new Re(ke(e)+" is not a function")},Oe=Ie,je=G,Pe=function(e,t){var n=e[t];return je(n)?void 0:Oe(n)},De=O,Le=N,Me=$,Ue=TypeError,Fe={exports:{}},Be=p,Ve=Object.defineProperty,ze=p,He=function(e,t){try{Ve(Be,e,{value:t,configurable:!0,writable:!0})}catch(i){Be[e]=t}return t},We="__core-js_shared__",Ge=Fe.exports=ze[We]||He(We,{});(Ge.versions||(Ge.versions=[])).push({version:"3.42.0",mode:"pure",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.42.0/LICENSE",source:"https://github.com/zloirock/core-js"});var qe=Fe.exports,Ye=qe,Xe=function(e,t){return Ye[e]||(Ye[e]=t||{})},Ke=X,Je=Object,Ze=function(e){return Je(Ke(e))},Qe=Ze,$e=d({}.hasOwnProperty),et=Object.hasOwn||function(e,t){return $e(Qe(e),t)},tt=d,nt=0,it=Math.random(),rt=tt(1..toString),at=function(e){return"Symbol("+(void 0===e?"":e)+")_"+rt(++nt+it,36)},st=Xe,ot=et,lt=at,ct=be,dt=ye,ut=p.Symbol,ht=st("wks"),pt=dt?ut.for||ut:ut&&ut.withoutSetter||lt,mt=function(e){return ot(ht,e)||(ht[e]=ct&&ot(ut,e)?ut[e]:pt("Symbol."+e)),ht[e]},ft=O,gt=$,_t=Ce,vt=Pe,bt=function(e,t){var n,i;if("string"===t&&Le(n=e.toString)&&!Me(i=De(n,e)))return i;if(Le(n=e.valueOf)&&!Me(i=De(n,e)))return i;if("string"!==t&&Le(n=e.toString)&&!Me(i=De(n,e)))return i;throw new Ue("Can't convert object to primitive value")},yt=TypeError,xt=mt("toPrimitive"),wt=function(e,t){if(!gt(e)||_t(e))return e;var n,i=vt(e,xt);if(i){if(void 0===t&&(t="default"),n=ft(i,e,t),!gt(n)||_t(n))return n;throw new yt("Can't convert object to primitive value")}return void 0===t&&(t="number"),bt(e,t)},Et=Ce,St=function(e){var t=wt(e,"string");return Et(t)?t:t+""},Ct=$,Tt=p.document,Nt=Ct(Tt)&&Ct(Tt.createElement),At=function(e){return Nt?Tt.createElement(e):{}},kt=At,Rt=!k&&!r(function(){return 7!==Object.defineProperty(kt("div"),"a",{get:function(){return 7}}).a}),It=k,Ot=O,jt=j,Pt=F,Dt=Z,Lt=St,Mt=et,Ut=Rt,Ft=Object.getOwnPropertyDescriptor;A.f=It?Ft:function(e,t){if(e=Dt(e),t=Lt(t),Ut)try{return Ft(e,t)}catch(e){}if(Mt(e,t))return Pt(!Ot(jt.f,e,t),e[t])};var Bt=r,Vt=N,zt=/#|\.prototype\./,Ht=function(e,t){var n=Gt[Wt(e)];return n===Yt||n!==qt&&(Vt(t)?Bt(t):!!t)},Wt=Ht.normalize=function(e){return String(e).replace(zt,".").toLowerCase()},Gt=Ht.data={},qt=Ht.NATIVE="N",Yt=Ht.POLYFILL="P",Xt=Ht,Kt=Ie,Jt=a,Zt=C(C.bind),Qt=function(e,t){return Kt(e),void 0===t?e:Jt?Zt(e,t):function(){return e.apply(t,arguments)}},$t={},en=k&&r(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),tn=$,nn=String,rn=TypeError,an=function(e){if(tn(e))return e;throw new rn(nn(e)+" is not an object")},sn=k,on=Rt,ln=en,cn=an,dn=St,un=TypeError,hn=Object.defineProperty,pn=Object.getOwnPropertyDescriptor,mn="enumerable",fn="configurable",gn="writable";$t.f=sn?ln?function(e,t,n){if(cn(e),t=dn(t),cn(n),"function"==typeof e&&"prototype"===t&&"value"in n&&gn in n&&!n[gn]){var i=pn(e,t);i&&i[gn]&&(e[t]=n.value,n={configurable:fn in n?n[fn]:i[fn],enumerable:mn in n?n[mn]:i[mn],writable:!1})}return hn(e,t,n)}:hn:function(e,t,n){if(cn(e),t=dn(t),cn(n),on)try{return hn(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new un("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var _n=$t,vn=F,bn=k?function(e,t,n){return _n.f(e,t,vn(1,n))}:function(e,t,n){return e[t]=n,e},yn=p,xn=v,wn=C,En=N,Sn=A.f,Cn=Xt,Tn=ee,Nn=Qt,An=bn,kn=et,Rn=function(e){var t=function(n,i,r){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,i)}return new e(n,i,r)}return xn(e,this,arguments)};return t.prototype=e.prototype,t},In=function(e,t){var n,i,r,a,s,o,l,c,d,u=e.target,h=e.global,p=e.stat,m=e.proto,f=h?yn:p?yn[u]:yn[u]&&yn[u].prototype,g=h?Tn:Tn[u]||An(Tn,u,{})[u],_=g.prototype;for(a in t)i=!(n=Cn(h?a:u+(p?".":"#")+a,e.forced))&&f&&kn(f,a),o=g[a],i&&(l=e.dontCallGetSet?(d=Sn(f,a))&&d.value:f[a]),s=i&&l?l:t[a],(n||m||typeof o!=typeof s)&&(c=e.bind&&i?Nn(s,yn):e.wrap&&i?Rn(s):m&&En(s)?wn(s):s,(e.sham||s&&s.sham||o&&o.sham)&&An(c,"sham",!0),An(g,a,c),m&&(kn(Tn,r=u+"Prototype")||An(Tn,r,{}),An(Tn[r],a,s),e.real&&_&&(n||!_[a])&&An(_,a,s)))},On=Math.ceil,jn=Math.floor,Pn=Math.trunc||function(e){var t=+e;return(t>0?jn:On)(t)},Dn=Pn,Ln=function(e){var t=+e;return t!=t||0===t?0:Dn(t)},Mn=Ln,Un=Math.max,Fn=Math.min,Bn=function(e,t){var n=Mn(e);return n<0?Un(n+t,0):Fn(n,t)},Vn=Ln,zn=Math.min,Hn=function(e){var t=Vn(e);return t>0?zn(t,9007199254740991):0},Wn=Hn,Gn=function(e){return Wn(e.length)},qn=Z,Yn=Bn,Xn=Gn,Kn=function(e){return function(t,n,i){var r=qn(t),a=Xn(r);if(0===a)return!e&&-1;var s,o=Yn(i,a);if(e&&n!=n){for(;a>o;)if((s=r[o++])!=s)return!0}else for(;a>o;o++)if((e||o in r)&&r[o]===n)return e||o||0;return!e&&-1}},Jn={includes:Kn(!0),indexOf:Kn(!1)},Zn=Jn.includes;In({target:"Array",proto:!0,forced:r(function(){return!Array(1).includes()})},{includes:function(e){return Zn(this,e,arguments.length>1?arguments[1]:void 0)}});var Qn=p,$n=ee,ei=function(e,t){var n=$n[e+"Prototype"],i=n&&n[t];if(i)return i;var r=Qn[e],a=r&&r.prototype;return a&&a[t]},ti=ei("Array","includes"),ni=$,ii=w,ri=mt("match"),ai=function(e){var t;return ni(e)&&(void 0!==(t=e[ri])?!!t:"RegExp"===ii(e))},si=ai,oi=TypeError,li={};li[mt("toStringTag")]="z";var ci="[object z]"===String(li),di=ci,ui=N,hi=w,pi=mt("toStringTag"),mi=Object,fi="Arguments"===hi(function(){return arguments}()),gi=di?hi:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=mi(e),pi))?n:fi?hi(t):"Object"===(i=hi(t))&&ui(t.callee)?"Arguments":i},_i=gi,vi=String,bi=function(e){if("Symbol"===_i(e))throw new TypeError("Cannot convert a Symbol value to a string");return vi(e)},yi=mt("match"),xi=In,wi=function(e){if(si(e))throw new oi("The method doesn't accept regular expressions");return e},Ei=X,Si=bi,Ci=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[yi]=!1,"/./"[e](t)}catch(e){}}return!1},Ti=d("".indexOf);xi({target:"String",proto:!0,forced:!Ci("includes")},{includes:function(e){return!!~Ti(Si(Ei(this)),Si(wi(e)),arguments.length>1?arguments[1]:void 0)}});var Ni=ei("String","includes"),Ai=u,ki=ti,Ri=Ni,Ii=Array.prototype,Oi=String.prototype,ji=function(e){var t=e.includes;return e===Ii||Ai(Ii,e)&&t===Ii.includes?ki:"string"==typeof e||e===Oi||Ai(Oi,e)&&t===Oi.includes?Ri:t},Pi=i(ji),Di=Ie,Li=Ze,Mi=W,Ui=Gn,Fi=TypeError,Bi="Reduce of empty array with no initial value",Vi=function(e){return function(t,n,i,r){var a=Li(t),s=Mi(a),o=Ui(a);if(Di(n),0===o&&i<2)throw new Fi(Bi);var l=e?o-1:0,c=e?-1:1;if(i<2)for(;;){if(l in s){r=s[l],l+=c;break}if(l+=c,e?l<0:o<=l)throw new Fi(Bi)}for(;e?l>=0:o>l;l+=c)l in s&&(r=n(r,s[l],l,a));return r}},zi={left:Vi(!1),right:Vi(!0)},Hi=r,Wi=function(e,t){var n=[][e];return!!n&&Hi(function(){n.call(null,t||function(){return 1},1)})},Gi=p,qi=le,Yi=w,Xi=function(e){return qi.slice(0,e.length)===e},Ki=Xi("Bun/")?"BUN":Xi("Cloudflare-Workers")?"CLOUDFLARE":Xi("Deno/")?"DENO":Xi("Node.js/")?"NODE":Gi.Bun&&"string"==typeof Bun.version?"BUN":Gi.Deno&&"object"==typeof Deno.version?"DENO":"process"===Yi(Gi.process)?"NODE":Gi.window&&Gi.document?"BROWSER":"REST",Ji="NODE"===Ki,Zi=zi.left;In({target:"Array",proto:!0,forced:!Ji&&fe>79&&fe<83||!Wi("reduce")},{reduce:function(e){var t=arguments.length;return Zi(this,e,t,t>1?arguments[1]:void 0)}});var Qi=ei("Array","reduce"),$i=u,er=Qi,tr=Array.prototype,nr=function(e){var t=e.reduce;return e===tr||$i(tr,e)&&t===tr.reduce?er:t},ir=nr,rr=i(ir),ar=w,sr=Array.isArray||function(e){return"Array"===ar(e)},or=In,lr=sr,cr=d([].reverse),dr=[1,2];or({target:"Array",proto:!0,forced:String(dr)===String(dr.reverse())},{reverse:function(){return lr(this)&&(this.length=this.length),cr(this)}});var ur=ei("Array","reverse"),hr=u,pr=ur,mr=Array.prototype,fr=function(e){var t=e.reverse;return e===mr||hr(mr,e)&&t===mr.reverse?pr:t},gr=fr,_r=i(gr),vr=at,br=Xe("keys"),yr=function(e){return br[e]||(br[e]=vr(e))},xr=!r(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),wr=et,Er=N,Sr=Ze,Cr=xr,Tr=yr("IE_PROTO"),Nr=Object,Ar=Nr.prototype,kr=Cr?Nr.getPrototypeOf:function(e){var t=Sr(e);if(wr(t,Tr))return t[Tr];var n=t.constructor;return Er(n)&&t instanceof n?n.prototype:t instanceof Nr?Ar:null},Rr=d,Ir=Ie,Or=$,jr=function(e){return Or(e)||null===e},Pr=String,Dr=TypeError,Lr=function(e,t,n){try{return Rr(Ir(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}},Mr=$,Ur=X,Fr=function(e){if(jr(e))return e;throw new Dr("Can't set "+Pr(e)+" as a prototype")},Br=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Lr(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return Ur(n),Fr(i),Mr(n)?(t?e(n,i):n.__proto__=i,n):n}}():void 0),Vr={},zr={},Hr=et,Wr=Z,Gr=Jn.indexOf,qr=zr,Yr=d([].push),Xr=function(e,t){var n,i=Wr(e),r=0,a=[];for(n in i)!Hr(qr,n)&&Hr(i,n)&&Yr(a,n);for(;t.length>r;)Hr(i,n=t[r++])&&(~Gr(a,n)||Yr(a,n));return a},Kr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Jr=Xr,Zr=Kr.concat("length","prototype");Vr.f=Object.getOwnPropertyNames||function(e){return Jr(e,Zr)};var Qr={};Qr.f=Object.getOwnPropertySymbols;var $r=ae,ea=Vr,ta=Qr,na=an,ia=d([].concat),ra=$r("Reflect","ownKeys")||function(e){var t=ea.f(na(e)),n=ta.f;return n?ia(t,n(e)):t},aa=et,sa=ra,oa=A,la=$t,ca={},da=Xr,ua=Kr,ha=Object.keys||function(e){return da(e,ua)},pa=k,ma=en,fa=$t,ga=an,_a=Z,va=ha;ca.f=pa&&!ma?Object.defineProperties:function(e,t){ga(e);for(var n,i=_a(t),r=va(t),a=r.length,s=0;a>s;)fa.f(e,n=r[s++],i[n]);return e};var ba,ya=ae("document","documentElement"),xa=an,wa=ca,Ea=Kr,Sa=zr,Ca=ya,Ta=At,Na="prototype",Aa="script",ka=yr("IE_PROTO"),Ra=function(){},Ia=function(e){return"<"+Aa+">"+e+"</"+Aa+">"},Oa=function(e){e.write(Ia("")),e.close();var t=e.parentWindow.Object;return e=null,t},ja=function(){try{ba=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;ja="undefined"!=typeof document?document.domain&&ba?Oa(ba):(t=Ta("iframe"),n="java"+Aa+":",t.style.display="none",Ca.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(Ia("document.F=Object")),e.close(),e.F):Oa(ba);for(var i=Ea.length;i--;)delete ja[Na][Ea[i]];return ja()};Sa[ka]=!0;var Pa=Object.create||function(e,t){var n;return null!==e?(Ra[Na]=xa(e),n=new Ra,Ra[Na]=null,n[ka]=e):n=ja(),void 0===t?n:wa.f(n,t)},Da=$,La=bn,Ma=Error,Ua=d("".replace),Fa=String(new Ma("zxcasd").stack),Ba=/\n\s*at [^:]*:[^\n]*/,Va=Ba.test(Fa),za=F,Ha=!r(function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",za(1,7)),7!==e.stack)}),Wa=bn,Ga=function(e,t){if(Va&&"string"==typeof e&&!Ma.prepareStackTrace)for(;t--;)e=Ua(e,Ba,"");return e},qa=Ha,Ya=Error.captureStackTrace,Xa={},Ka=Xa,Ja=mt("iterator"),Za=Array.prototype,Qa=function(e){return void 0!==e&&(Ka.Array===e||Za[Ja]===e)},$a=gi,es=Pe,ts=G,ns=Xa,is=mt("iterator"),rs=function(e){if(!ts(e))return es(e,is)||es(e,"@@iterator")||ns[$a(e)]},as=O,ss=Ie,os=an,ls=Ne,cs=rs,ds=TypeError,us=function(e,t){var n=arguments.length<2?cs(e):t;if(ss(n))return os(as(n,e));throw new ds(ls(e)+" is not iterable")},hs=O,ps=an,ms=Pe,fs=function(e,t,n){var i,r;ps(e);try{if(!(i=ms(e,"return"))){if("throw"===t)throw n;return n}i=hs(i,e)}catch(e){r=!0,i=e}if("throw"===t)throw n;if(r)throw i;return ps(i),n},gs=Qt,_s=O,vs=an,bs=Ne,ys=Qa,xs=Gn,ws=u,Es=us,Ss=rs,Cs=fs,Ts=TypeError,Ns=function(e,t){this.stopped=e,this.result=t},As=Ns.prototype,ks=function(e,t,n){var i,r,a,s,o,l,c,d=n&&n.that,u=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),p=!(!n||!n.IS_ITERATOR),m=!(!n||!n.INTERRUPTED),f=gs(t,d),g=function(e){return i&&Cs(i,"normal",e),new Ns(!0,e)},_=function(e){return u?(vs(e),m?f(e[0],e[1],g):f(e[0],e[1])):m?f(e,g):f(e)};if(h)i=e.iterator;else if(p)i=e;else{if(!(r=Ss(e)))throw new Ts(bs(e)+" is not iterable");if(ys(r)){for(a=0,s=xs(e);s>a;a++)if((o=_(e[a]))&&ws(As,o))return o;return new Ns(!1)}i=Es(e,r)}for(l=h?e.next:i.next;!(c=_s(l,i)).done;){try{o=_(c.value)}catch(e){Cs(i,"throw",e)}if("object"==typeof o&&o&&ws(As,o))return o}return new Ns(!1)},Rs=bi,Is=In,Os=u,js=kr,Ps=Br,Ds=function(e,t,n){for(var i=sa(t),r=la.f,a=oa.f,s=0;s<i.length;s++){var o=i[s];aa(e,o)||n&&aa(n,o)||r(e,o,a(t,o))}},Ls=Pa,Ms=bn,Us=F,Fs=function(e,t){Da(t)&&"cause"in t&&La(e,"cause",t.cause)},Bs=function(e,t,n,i){qa&&(Ya?Ya(e,t):Wa(e,"stack",Ga(n,i)))},Vs=ks,zs=function(e,t){return void 0===e?arguments.length<2?"":t:Rs(e)},Hs=mt("toStringTag"),Ws=Error,Gs=[].push,qs=function(e,t){var n,i=Os(Ys,this);Ps?n=Ps(new Ws,i?js(this):Ys):(n=i?this:Ls(Ys),Ms(n,Hs,"Error")),void 0!==t&&Ms(n,"message",zs(t)),Bs(n,qs,n.stack,1),arguments.length>2&&Fs(n,arguments[2]);var r=[];return Vs(e,Gs,{that:r}),Ms(n,"errors",r),n};Ps?Ps(qs,Ws):Ds(qs,Ws,{name:!0});var Ys=qs.prototype=Ls(Ws.prototype,{constructor:Us(1,qs),message:Us(1,""),name:Us(1,"AggregateError")});Is({global:!0,constructor:!0,arity:2},{AggregateError:qs});var Xs,Ks,Js,Zs=N,Qs=p.WeakMap,$s=Zs(Qs)&&/native code/.test(String(Qs)),eo=p,to=$,no=bn,io=et,ro=qe,ao=yr,so=zr,oo="Object already initialized",lo=eo.TypeError,co=eo.WeakMap;if($s||ro.state){var uo=ro.state||(ro.state=new co);uo.get=uo.get,uo.has=uo.has,uo.set=uo.set,Xs=function(e,t){if(uo.has(e))throw new lo(oo);return t.facade=e,uo.set(e,t),t},Ks=function(e){return uo.get(e)||{}},Js=function(e){return uo.has(e)}}else{var ho=ao("state");so[ho]=!0,Xs=function(e,t){if(io(e,ho))throw new lo(oo);return t.facade=e,no(e,ho,t),t},Ks=function(e){return io(e,ho)?e[ho]:{}},Js=function(e){return io(e,ho)}}var po,mo,fo,go={set:Xs,get:Ks,has:Js,enforce:function(e){return Js(e)?Ks(e):Xs(e,{})},getterFor:function(e){return function(t){var n;if(!to(t)||(n=Ks(t)).type!==e)throw new lo("Incompatible receiver, "+e+" required");return n}}},_o=k,vo=et,bo=Function.prototype,yo=_o&&Object.getOwnPropertyDescriptor,xo=vo(bo,"name"),wo={EXISTS:xo,PROPER:xo&&"something"===function(){}.name,CONFIGURABLE:xo&&(!_o||_o&&yo(bo,"name").configurable)},Eo=bn,So=function(e,t,n,i){return i&&i.enumerable?e[t]=n:Eo(e,t,n),e},Co=r,To=N,No=$,Ao=Pa,ko=kr,Ro=So,Io=mt("iterator"),Oo=!1;[].keys&&("next"in(fo=[].keys())?(mo=ko(ko(fo)))!==Object.prototype&&(po=mo):Oo=!0);var jo=!No(po)||Co(function(){var e={};return po[Io].call(e)!==e});To((po=jo?{}:Ao(po))[Io])||Ro(po,Io,function(){return this});var Po={IteratorPrototype:po,BUGGY_SAFARI_ITERATORS:Oo},Do=gi,Lo=ci?{}.toString:function(){return"[object "+Do(this)+"]"},Mo=ci,Uo=$t.f,Fo=bn,Bo=et,Vo=Lo,zo=mt("toStringTag"),Ho=function(e,t,n,i){var r=n?e:e&&e.prototype;r&&(Bo(r,zo)||Uo(r,zo,{configurable:!0,value:t}),i&&!Mo&&Fo(r,"toString",Vo))},Wo=Po.IteratorPrototype,Go=Pa,qo=F,Yo=Ho,Xo=Xa,Ko=function(){return this},Jo=function(e,t,n,i){var r=t+" Iterator";return e.prototype=Go(Wo,{next:qo(+!i,n)}),Yo(e,r,!1,!0),Xo[r]=Ko,e},Zo=In,Qo=O,$o=Jo,el=kr,tl=Ho,nl=So,il=Xa,rl=Po,al=wo.PROPER,sl=rl.BUGGY_SAFARI_ITERATORS,ol=mt("iterator"),ll="keys",cl="values",dl="entries",ul=function(){return this},hl=function(e,t,n,i,r,a,s){$o(n,t,i);var o,l,c,d=function(e){if(e===r&&f)return f;if(!sl&&e&&e in p)return p[e];switch(e){case ll:case cl:case dl:return function(){return new n(this,e)}}return function(){return new n(this)}},u=t+" Iterator",h=!1,p=e.prototype,m=p[ol]||p["@@iterator"]||r&&p[r],f=!sl&&m||d(r),g="Array"===t&&p.entries||m;if(g&&(o=el(g.call(new e)))!==Object.prototype&&o.next&&(tl(o,u,!0,!0),il[u]=ul),al&&r===cl&&m&&m.name!==cl&&(h=!0,f=function(){return Qo(m,this)}),r)if(l={values:d(cl),keys:a?f:d(ll),entries:d(dl)},s)for(c in l)(sl||h||!(c in p))&&nl(p,c,l[c]);else Zo({target:t,proto:!0,forced:sl||h},l);return s&&p[ol]!==f&&nl(p,ol,f,{name:r}),il[t]=f,l},pl=function(e,t){return{value:e,done:t}},ml=Z,fl=Xa,gl=go;$t.f;var _l=hl,vl=pl,bl="Array Iterator",yl=gl.set,xl=gl.getterFor(bl);_l(Array,"Array",function(e,t){yl(this,{type:bl,target:ml(e),index:0,kind:t})},function(){var e=xl(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,vl(void 0,!0);switch(e.kind){case"keys":return vl(n,!1);case"values":return vl(t[n],!1)}return vl([n,t[n]],!1)},"values"),fl.Arguments=fl.Array;var wl=$t,El=function(e,t,n){return wl.f(e,t,n)},Sl=ae,Cl=El,Tl=k,Nl=mt("species"),Al=u,kl=TypeError,Rl=function(e,t){if(Al(t,e))return e;throw new kl("Incorrect invocation")},Il=N,Ol=qe,jl=d(Function.toString);Il(Ol.inspectSource)||(Ol.inspectSource=function(e){return jl(e)});var Pl=Ol.inspectSource,Dl=d,Ll=r,Ml=N,Ul=gi,Fl=Pl,Bl=function(){},Vl=ae("Reflect","construct"),zl=/^\s*(?:class|function)\b/,Hl=Dl(zl.exec),Wl=!zl.test(Bl),Gl=function(e){if(!Ml(e))return!1;try{return Vl(Bl,[],e),!0}catch(e){return!1}},ql=function(e){if(!Ml(e))return!1;switch(Ul(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Wl||!!Hl(zl,Fl(e))}catch(e){return!0}};ql.sham=!0;var Yl,Xl,Kl,Jl,Zl=!Vl||Ll(function(){var e;return Gl(Gl.call)||!Gl(Object)||!Gl(function(){e=!0})||e})?ql:Gl,Ql=Zl,$l=Ne,ec=TypeError,tc=an,nc=function(e){if(Ql(e))return e;throw new ec($l(e)+" is not a constructor")},ic=G,rc=mt("species"),ac=function(e,t){var n,i=tc(e).constructor;return void 0===i||ic(n=tc(i)[rc])?t:nc(n)},sc=d([].slice),oc=TypeError,lc=function(e,t){if(e<t)throw new oc("Not enough arguments");return e},cc=/(?:ipad|iphone|ipod).*applewebkit/i.test(le),dc=p,uc=v,hc=Qt,pc=N,mc=et,fc=r,gc=ya,_c=sc,vc=At,bc=lc,yc=cc,xc=Ji,wc=dc.setImmediate,Ec=dc.clearImmediate,Sc=dc.process,Cc=dc.Dispatch,Tc=dc.Function,Nc=dc.MessageChannel,Ac=dc.String,kc=0,Rc={},Ic="onreadystatechange";fc(function(){Yl=dc.location});var Oc=function(e){if(mc(Rc,e)){var t=Rc[e];delete Rc[e],t()}},jc=function(e){return function(){Oc(e)}},Pc=function(e){Oc(e.data)},Dc=function(e){dc.postMessage(Ac(e),Yl.protocol+"//"+Yl.host)};wc&&Ec||(wc=function(e){bc(arguments.length,1);var t=pc(e)?e:Tc(e),n=_c(arguments,1);return Rc[++kc]=function(){uc(t,void 0,n)},Xl(kc),kc},Ec=function(e){delete Rc[e]},xc?Xl=function(e){Sc.nextTick(jc(e))}:Cc&&Cc.now?Xl=function(e){Cc.now(jc(e))}:Nc&&!yc?(Jl=(Kl=new Nc).port2,Kl.port1.onmessage=Pc,Xl=hc(Jl.postMessage,Jl)):dc.addEventListener&&pc(dc.postMessage)&&!dc.importScripts&&Yl&&"file:"!==Yl.protocol&&!fc(Dc)?(Xl=Dc,dc.addEventListener("message",Pc,!1)):Xl=Ic in vc("script")?function(e){gc.appendChild(vc("script"))[Ic]=function(){gc.removeChild(this),Oc(e)}}:function(e){setTimeout(jc(e),0)});var Lc={set:wc,clear:Ec},Mc=p,Uc=k,Fc=Object.getOwnPropertyDescriptor,Bc=function(e){if(!Uc)return Mc[e];var t=Fc(Mc,e);return t&&t.value},Vc=function(){this.head=null,this.tail=null};Vc.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var zc,Hc,Wc,Gc,qc,Yc=Vc,Xc=/ipad|iphone|ipod/i.test(le)&&"undefined"!=typeof Pebble,Kc=/web0s(?!.*chrome)/i.test(le),Jc=p,Zc=Bc,Qc=Qt,$c=Lc.set,ed=Yc,td=cc,nd=Xc,id=Kc,rd=Ji,ad=Jc.MutationObserver||Jc.WebKitMutationObserver,sd=Jc.document,od=Jc.process,ld=Jc.Promise,cd=Zc("queueMicrotask");if(!cd){var dd=new ed,ud=function(){var e,t;for(rd&&(e=od.domain)&&e.exit();t=dd.get();)try{t()}catch(e){throw dd.head&&zc(),e}e&&e.enter()};td||rd||id||!ad||!sd?!nd&&ld&&ld.resolve?((Gc=ld.resolve(void 0)).constructor=ld,qc=Qc(Gc.then,Gc),zc=function(){qc(ud)}):rd?zc=function(){od.nextTick(ud)}:($c=Qc($c,Jc),zc=function(){$c(ud)}):(Hc=!0,Wc=sd.createTextNode(""),new ad(ud).observe(Wc,{characterData:!0}),zc=function(){Wc.data=Hc=!Hc}),cd=function(e){dd.head||zc(),dd.add(e)}}var hd=cd,pd=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},md=p.Promise,fd=p,gd=md,_d=N,vd=Xt,bd=Pl,yd=mt,xd=Ki,wd=fe,Ed=gd&&gd.prototype,Sd=yd("species"),Cd=!1,Td=_d(fd.PromiseRejectionEvent),Nd=vd("Promise",function(){var e=bd(gd),t=e!==String(gd);if(!t&&66===wd)return!0;if(!Ed.catch||!Ed.finally)return!0;if(!wd||wd<51||!/native code/.test(e)){var n=new gd(function(e){e(1)}),i=function(e){e(function(){},function(){})};if((n.constructor={})[Sd]=i,!(Cd=n.then(function(){})instanceof i))return!0}return!(t||"BROWSER"!==xd&&"DENO"!==xd||Td)}),Ad={CONSTRUCTOR:Nd,REJECTION_EVENT:Td,SUBCLASSING:Cd},kd={},Rd=Ie,Id=TypeError,Od=function(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw new Id("Bad Promise constructor");t=e,n=i}),this.resolve=Rd(t),this.reject=Rd(n)};kd.f=function(e){return new Od(e)};var jd,Pd,Dd=In,Ld=Ji,Md=p,Ud=O,Fd=So,Bd=Ho,Vd=function(e){var t=Sl(e);Tl&&t&&!t[Nl]&&Cl(t,Nl,{configurable:!0,get:function(){return this}})},zd=Ie,Hd=N,Wd=$,Gd=Rl,qd=ac,Yd=Lc.set,Xd=hd,Kd=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(e){}},Jd=pd,Zd=Yc,Qd=go,$d=md,eu=Ad,tu=kd,nu="Promise",iu=eu.CONSTRUCTOR,ru=eu.REJECTION_EVENT,au=Qd.getterFor(nu),su=Qd.set,ou=$d&&$d.prototype,lu=$d,cu=ou,du=Md.TypeError,uu=Md.document,hu=Md.process,pu=tu.f,mu=pu,fu=!!(uu&&uu.createEvent&&Md.dispatchEvent),gu="unhandledrejection",_u=function(e){var t;return!(!Wd(e)||!Hd(t=e.then))&&t},vu=function(e,t){var n,i,r,a=t.value,s=1===t.state,o=s?e.ok:e.fail,l=e.resolve,c=e.reject,d=e.domain;try{o?(s||(2===t.rejection&&Eu(t),t.rejection=1),!0===o?n=a:(d&&d.enter(),n=o(a),d&&(d.exit(),r=!0)),n===e.promise?c(new du("Promise-chain cycle")):(i=_u(n))?Ud(i,n,l,c):l(n)):c(a)}catch(e){d&&!r&&d.exit(),c(e)}},bu=function(e,t){e.notified||(e.notified=!0,Xd(function(){for(var n,i=e.reactions;n=i.get();)vu(n,e);e.notified=!1,t&&!e.rejection&&xu(e)}))},yu=function(e,t,n){var i,r;fu?((i=uu.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),Md.dispatchEvent(i)):i={promise:t,reason:n},!ru&&(r=Md["on"+e])?r(i):e===gu&&Kd("Unhandled promise rejection",n)},xu=function(e){Ud(Yd,Md,function(){var t,n=e.facade,i=e.value;if(wu(e)&&(t=Jd(function(){Ld?hu.emit("unhandledRejection",i,n):yu(gu,n,i)}),e.rejection=Ld||wu(e)?2:1,t.error))throw t.value})},wu=function(e){return 1!==e.rejection&&!e.parent},Eu=function(e){Ud(Yd,Md,function(){var t=e.facade;Ld?hu.emit("rejectionHandled",t):yu("rejectionhandled",t,e.value)})},Su=function(e,t,n){return function(i){e(t,i,n)}},Cu=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,bu(e,!0))},Tu=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new du("Promise can't be resolved itself");var i=_u(t);i?Xd(function(){var n={done:!1};try{Ud(i,t,Su(Tu,n,e),Su(Cu,n,e))}catch(t){Cu(n,t,e)}}):(e.value=t,e.state=1,bu(e,!1))}catch(t){Cu({done:!1},t,e)}}};iu&&(cu=(lu=function(e){Gd(this,cu),zd(e),Ud(jd,this);var t=au(this);try{e(Su(Tu,t),Su(Cu,t))}catch(e){Cu(t,e)}}).prototype,(jd=function(e){su(this,{type:nu,done:!1,notified:!1,parent:!1,reactions:new Zd,rejection:!1,state:0,value:null})}).prototype=Fd(cu,"then",function(e,t){var n=au(this),i=pu(qd(this,lu));return n.parent=!0,i.ok=!Hd(e)||e,i.fail=Hd(t)&&t,i.domain=Ld?hu.domain:void 0,0===n.state?n.reactions.add(i):Xd(function(){vu(i,n)}),i.promise}),Pd=function(){var e=new jd,t=au(e);this.promise=e,this.resolve=Su(Tu,t),this.reject=Su(Cu,t)},tu.f=pu=function(e){return e===lu||void 0===e?new Pd(e):mu(e)}),Dd({global:!0,constructor:!0,wrap:!0,forced:iu},{Promise:lu}),Bd(lu,nu,!1,!0),Vd(nu);var Nu=mt("iterator"),Au=!1;try{var ku=0,Ru={next:function(){return{done:!!ku++}},return:function(){Au=!0}};Ru[Nu]=function(){return this},Array.from(Ru,function(){throw 2})}catch(e){}var Iu=md,Ou=function(e,t){try{if(!t&&!Au)return!1}catch(e){return!1}var n=!1;try{var i={};i[Nu]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n},ju=Ad.CONSTRUCTOR||!Ou(function(e){Iu.all(e).then(void 0,function(){})}),Pu=O,Du=Ie,Lu=kd,Mu=pd,Uu=ks;In({target:"Promise",stat:!0,forced:ju},{all:function(e){var t=this,n=Lu.f(t),i=n.resolve,r=n.reject,a=Mu(function(){var n=Du(t.resolve),a=[],s=0,o=1;Uu(e,function(e){var l=s++,c=!1;o++,Pu(n,t,e).then(function(e){c||(c=!0,a[l]=e,--o||i(a))},r)}),--o||i(a)});return a.error&&r(a.value),n.promise}});var Fu=In,Bu=Ad.CONSTRUCTOR;md&&md.prototype,Fu({target:"Promise",proto:!0,forced:Bu,real:!0},{catch:function(e){return this.then(void 0,e)}});var Vu=O,zu=Ie,Hu=kd,Wu=pd,Gu=ks;In({target:"Promise",stat:!0,forced:ju},{race:function(e){var t=this,n=Hu.f(t),i=n.reject,r=Wu(function(){var r=zu(t.resolve);Gu(e,function(e){Vu(r,t,e).then(n.resolve,i)})});return r.error&&i(r.value),n.promise}});var qu=kd;In({target:"Promise",stat:!0,forced:Ad.CONSTRUCTOR},{reject:function(e){var t=qu.f(this);return(0,t.reject)(e),t.promise}});var Yu=an,Xu=$,Ku=kd,Ju=function(e,t){if(Yu(e),Xu(t)&&t.constructor===e)return t;var n=Ku.f(e);return(0,n.resolve)(t),n.promise},Zu=In,Qu=md,$u=Ad.CONSTRUCTOR,eh=Ju,th=ae("Promise"),nh=!$u;Zu({target:"Promise",stat:!0,forced:!0},{resolve:function(e){return eh(nh&&this===th?Qu:this,e)}});var ih=O,rh=Ie,ah=kd,sh=pd,oh=ks;In({target:"Promise",stat:!0,forced:ju},{allSettled:function(e){var t=this,n=ah.f(t),i=n.resolve,r=n.reject,a=sh(function(){var n=rh(t.resolve),r=[],a=0,s=1;oh(e,function(e){var o=a++,l=!1;s++,ih(n,t,e).then(function(e){l||(l=!0,r[o]={status:"fulfilled",value:e},--s||i(r))},function(e){l||(l=!0,r[o]={status:"rejected",reason:e},--s||i(r))})}),--s||i(r)});return a.error&&r(a.value),n.promise}});var lh=O,ch=Ie,dh=ae,uh=kd,hh=pd,ph=ks,mh="No one promise resolved";In({target:"Promise",stat:!0,forced:ju},{any:function(e){var t=this,n=dh("AggregateError"),i=uh.f(t),r=i.resolve,a=i.reject,s=hh(function(){var i=ch(t.resolve),s=[],o=0,l=1,c=!1;ph(e,function(e){var d=o++,u=!1;l++,lh(i,t,e).then(function(e){u||c||(c=!0,r(e))},function(e){u||c||(u=!0,s[d]=e,--l||a(new n(s,mh)))})}),--l||a(new n(s,mh))});return s.error&&a(s.value),i.promise}});var fh=In,gh=v,_h=sc,vh=kd,bh=Ie,yh=pd,xh=p.Promise,wh=!1;fh({target:"Promise",stat:!0,forced:!xh||!xh.try||yh(function(){xh.try(function(e){wh=8===e},8)}).error||!wh},{try:function(e){var t=arguments.length>1?_h(arguments,1):[],n=vh.f(this),i=yh(function(){return gh(bh(e),void 0,t)});return(i.error?n.reject:n.resolve)(i.value),n.promise}});var Eh=kd;In({target:"Promise",stat:!0},{withResolvers:function(){var e=Eh.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var Sh=In,Ch=md,Th=r,Nh=ae,Ah=N,kh=ac,Rh=Ju,Ih=Ch&&Ch.prototype;Sh({target:"Promise",proto:!0,real:!0,forced:!!Ch&&Th(function(){Ih.finally.call({then:function(){}},function(){})})},{finally:function(e){var t=kh(this,Nh("Promise")),n=Ah(e);return this.then(n?function(n){return Rh(t,e()).then(function(){return n})}:e,n?function(n){return Rh(t,e()).then(function(){throw n})}:e)}});var Oh=d,jh=Ln,Ph=bi,Dh=X,Lh=Oh("".charAt),Mh=Oh("".charCodeAt),Uh=Oh("".slice),Fh=function(e){return function(t,n){var i,r,a=Ph(Dh(t)),s=jh(n),o=a.length;return s<0||s>=o?e?"":void 0:(i=Mh(a,s))<55296||i>56319||s+1===o||(r=Mh(a,s+1))<56320||r>57343?e?Lh(a,s):i:e?Uh(a,s,s+2):r-56320+(i-55296<<10)+65536}},Bh={codeAt:Fh(!1),charAt:Fh(!0)},Vh=Bh.charAt,zh=bi,Hh=go,Wh=hl,Gh=pl,qh="String Iterator",Yh=Hh.set,Xh=Hh.getterFor(qh);Wh(String,"String",function(e){Yh(this,{type:qh,string:zh(e),index:0})},function(){var e,t=Xh(this),n=t.string,i=t.index;return i>=n.length?Gh(void 0,!0):(e=Vh(n,i),t.index+=e.length,Gh(e,!1))});var Kh=ee.Promise,Jh={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Zh=p,Qh=Ho,$h=Xa;for(var ep in Jh)Qh(Zh[ep],ep),$h[ep]=$h.Array;var tp=Kh,np=i(tp),ip=ei("Array","values"),rp=gi,ap=et,sp=u,op=ip,lp=Array.prototype,cp={DOMTokenList:!0,NodeList:!0},dp=function(e){var t=e.values;return e===lp||sp(lp,e)&&t===lp.values||ap(cp,rp(e))?op:t},up=i(dp),hp=Ne,pp=TypeError,mp=sc,fp=Math.floor,gp=function(e,t){var n=e.length;if(n<8)for(var i,r,a=1;a<n;){for(r=a,i=e[a];r&&t(e[r-1],i)>0;)e[r]=e[--r];r!==a++&&(e[r]=i)}else for(var s=fp(n/2),o=gp(mp(e,0,s),t),l=gp(mp(e,s),t),c=o.length,d=l.length,u=0,h=0;u<c||h<d;)e[u+h]=u<c&&h<d?t(o[u],l[h])<=0?o[u++]:l[h++]:u<c?o[u++]:l[h++];return e},_p=gp,vp=le.match(/firefox\/(\d+)/i),bp=!!vp&&+vp[1],yp=/MSIE|Trident/.test(le),xp=le.match(/AppleWebKit\/(\d+)\./),wp=!!xp&&+xp[1],Ep=In,Sp=d,Cp=Ie,Tp=Ze,Np=Gn,Ap=function(e,t){if(!delete e[t])throw new pp("Cannot delete property "+hp(t)+" of "+hp(e))},kp=bi,Rp=r,Ip=_p,Op=Wi,jp=bp,Pp=yp,Dp=fe,Lp=wp,Mp=[],Up=Sp(Mp.sort),Fp=Sp(Mp.push),Bp=Rp(function(){Mp.sort(void 0)}),Vp=Rp(function(){Mp.sort(null)}),zp=Op("sort"),Hp=!Rp(function(){if(Dp)return Dp<70;if(!(jp&&jp>3)){if(Pp)return!0;if(Lp)return Lp<603;var e,t,n,i,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Mp.push({k:t+i,v:n})}for(Mp.sort(function(e,t){return t.v-e.v}),i=0;i<Mp.length;i++)t=Mp[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}});Ep({target:"Array",proto:!0,forced:Bp||!Vp||!zp||!Hp},{sort:function(e){void 0!==e&&Cp(e);var t=Tp(this);if(Hp)return void 0===e?Up(t):Up(t,e);var n,i,r=[],a=Np(t);for(i=0;i<a;i++)i in t&&Fp(r,t[i]);for(Ip(r,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:kp(t)>kp(n)?1:-1}}(e)),n=Np(r),i=0;i<n;)t[i]=r[i++];for(;i<a;)Ap(t,i++);return t}});var Wp=ei("Array","sort"),Gp=u,qp=Wp,Yp=Array.prototype,Xp=function(e){var t=e.sort;return e===Yp||Gp(Yp,e)&&t===Yp.sort?qp:t},Kp=i(Xp),Jp=In,Zp=d,Qp=Bn,$p=RangeError,em=String.fromCharCode,tm=String.fromCodePoint,nm=Zp([].join);Jp({target:"String",stat:!0,arity:1,forced:!!tm&&1!==tm.length},{fromCodePoint:function(e){for(var t,n=[],i=arguments.length,r=0;i>r;){if(t=+arguments[r++],Qp(t,1114111)!==t)throw new $p(t+" is not a valid code point");n[r]=t<65536?em(t):em(55296+((t-=65536)>>10),t%1024+56320)}return nm(n,"")}});var im=r,rm=mt("iterator"),am=!im(function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),i="";return e.pathname="c%20d",t.forEach(function(e,n){t.delete("b"),i+=n+e}),n.delete("a",2),n.delete("b",void 0),!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b")||!t.size&&!0||!t.sort||"https://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[rm]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("https://a#\u0431").hash||"a1c3"!==i||"x"!==new URL("https://x",void 0).host}),sm=So,om=In,lm=p,cm=Bc,dm=ae,um=O,hm=d,pm=k,mm=am,fm=So,gm=El,_m=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:sm(e,i,t[i],n);return e},vm=Ho,bm=Jo,ym=go,xm=Rl,wm=N,Em=et,Sm=Qt,Cm=gi,Tm=an,Nm=$,Am=bi,km=Pa,Rm=F,Im=us,Om=rs,jm=pl,Pm=lc,Dm=_p,Lm=mt("iterator"),Mm="URLSearchParams",Um=Mm+"Iterator",Fm=ym.set,Bm=ym.getterFor(Mm),Vm=ym.getterFor(Um),zm=cm("fetch"),Hm=cm("Request"),Wm=cm("Headers"),Gm=Hm&&Hm.prototype,qm=Wm&&Wm.prototype,Ym=lm.TypeError,Xm=lm.encodeURIComponent,Km=String.fromCharCode,Jm=dm("String","fromCodePoint"),Zm=parseInt,Qm=hm("".charAt),$m=hm([].join),ef=hm([].push),tf=hm("".replace),nf=hm([].shift),rf=hm([].splice),af=hm("".split),sf=hm("".slice),of=hm(/./.exec),lf=/\+/g,cf=/^[0-9a-f]+$/i,df=function(e,t){var n=sf(e,t,t+2);return of(cf,n)?Zm(n,16):NaN},uf=function(e){for(var t=0,n=128;n>0&&0!=(e&n);n>>=1)t++;return t},hf=function(e){var t=null;switch(e.length){case 1:t=e[0];break;case 2:t=(31&e[0])<<6|63&e[1];break;case 3:t=(15&e[0])<<12|(63&e[1])<<6|63&e[2];break;case 4:t=(7&e[0])<<18|(63&e[1])<<12|(63&e[2])<<6|63&e[3]}return t>1114111?null:t},pf=function(e){for(var t=(e=tf(e,lf," ")).length,n="",i=0;i<t;){var r=Qm(e,i);if("%"===r){if("%"===Qm(e,i+1)||i+3>t){n+="%",i++;continue}var a=df(e,i+1);if(a!=a){n+=r,i++;continue}i+=2;var s=uf(a);if(0===s)r=Km(a);else{if(1===s||s>4){n+="\ufffd",i++;continue}for(var o=[a],l=1;l<s&&!(3+ ++i>t||"%"!==Qm(e,i));){var c=df(e,i+1);if(c!=c){i+=3;break}if(c>191||c<128)break;ef(o,c),i+=2,l++}if(o.length!==s){n+="\ufffd";continue}var d=hf(o);null===d?n+="\ufffd":r=Jm(d)}}n+=r,i++}return n},mf=/[!'()~]|%20/g,ff={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},gf=function(e){return ff[e]},_f=function(e){return tf(Xm(e),mf,gf)},vf=bm(function(e,t){Fm(this,{type:Um,target:Bm(e).entries,index:0,kind:t})},Mm,function(){var e=Vm(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,jm(void 0,!0);var i=t[n];switch(e.kind){case"keys":return jm(i.key,!1);case"values":return jm(i.value,!1)}return jm([i.key,i.value],!1)},!0),bf=function(e){this.entries=[],this.url=null,void 0!==e&&(Nm(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===Qm(e,0)?sf(e,1):e:Am(e)))};bf.prototype={type:Mm,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,i,r,a,s,o,l=this.entries,c=Om(e);if(c)for(n=(t=Im(e,c)).next;!(i=um(n,t)).done;){if(a=(r=Im(Tm(i.value))).next,(s=um(a,r)).done||(o=um(a,r)).done||!um(a,r).done)throw new Ym("Expected sequence with length 2");ef(l,{key:Am(s.value),value:Am(o.value)})}else for(var d in e)Em(e,d)&&ef(l,{key:d,value:Am(e[d])})},parseQuery:function(e){if(e)for(var t,n,i=this.entries,r=af(e,"&"),a=0;a<r.length;)(t=r[a++]).length&&(n=af(t,"="),ef(i,{key:pf(nf(n)),value:pf($m(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],i=0;i<t.length;)e=t[i++],ef(n,_f(e.key)+"="+_f(e.value));return $m(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var yf=function(){xm(this,xf);var e=Fm(this,new bf(arguments.length>0?arguments[0]:void 0));pm||(this.size=e.entries.length)},xf=yf.prototype;if(_m(xf,{append:function(e,t){var n=Bm(this);Pm(arguments.length,2),ef(n.entries,{key:Am(e),value:Am(t)}),pm||this.length++,n.updateURL()},delete:function(e){for(var t=Bm(this),n=Pm(arguments.length,1),i=t.entries,r=Am(e),a=n<2?void 0:arguments[1],s=void 0===a?a:Am(a),o=0;o<i.length;){var l=i[o];if(l.key!==r||void 0!==s&&l.value!==s)o++;else if(rf(i,o,1),void 0!==s)break}pm||(this.size=i.length),t.updateURL()},get:function(e){var t=Bm(this).entries;Pm(arguments.length,1);for(var n=Am(e),i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){var t=Bm(this).entries;Pm(arguments.length,1);for(var n=Am(e),i=[],r=0;r<t.length;r++)t[r].key===n&&ef(i,t[r].value);return i},has:function(e){for(var t=Bm(this).entries,n=Pm(arguments.length,1),i=Am(e),r=n<2?void 0:arguments[1],a=void 0===r?r:Am(r),s=0;s<t.length;){var o=t[s++];if(o.key===i&&(void 0===a||o.value===a))return!0}return!1},set:function(e,t){var n=Bm(this);Pm(arguments.length,1);for(var i,r=n.entries,a=!1,s=Am(e),o=Am(t),l=0;l<r.length;l++)(i=r[l]).key===s&&(a?rf(r,l--,1):(a=!0,i.value=o));a||ef(r,{key:s,value:o}),pm||(this.size=r.length),n.updateURL()},sort:function(){var e=Bm(this);Dm(e.entries,function(e,t){return e.key>t.key?1:-1}),e.updateURL()},forEach:function(e){for(var t,n=Bm(this).entries,i=Sm(e,arguments.length>1?arguments[1]:void 0),r=0;r<n.length;)i((t=n[r++]).value,t.key,this)},keys:function(){return new vf(this,"keys")},values:function(){return new vf(this,"values")},entries:function(){return new vf(this,"entries")}},{enumerable:!0}),fm(xf,Lm,xf.entries,{name:"entries"}),fm(xf,"toString",function(){return Bm(this).serialize()},{enumerable:!0}),pm&&gm(xf,"size",{get:function(){return Bm(this).entries.length},configurable:!0,enumerable:!0}),vm(yf,Mm),om({global:!0,constructor:!0,forced:!mm},{URLSearchParams:yf}),!mm&&wm(Wm)){var wf=hm(qm.has),Ef=hm(qm.set),Sf=function(e){if(Nm(e)){var t,n=e.body;if(Cm(n)===Mm)return t=e.headers?new Wm(e.headers):new Wm,wf(t,"content-type")||Ef(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),km(e,{body:Rm(0,Am(n)),headers:Rm(0,t)})}return e};if(wm(zm)&&om({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return zm(e,arguments.length>1?Sf(arguments[1]):{})}}),wm(Hm)){var Cf=function(e){return xm(this,Gm),new Hm(e,arguments.length>1?Sf(arguments[1]):{})};Gm.constructor=Cf,Cf.prototype=Gm,om({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Cf})}}var Tf,Nf={URLSearchParams:yf,getState:Bm},Af=ee.URLSearchParams,kf=k,Rf=d,If=O,Of=r,jf=ha,Pf=Qr,Df=j,Lf=Ze,Mf=W,Uf=Object.assign,Ff=Object.defineProperty,Bf=Rf([].concat),Vf=!Uf||Of(function(){if(kf&&1!==Uf({b:1},Uf(Ff({},"a",{enumerable:!0,get:function(){Ff(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!==Uf({},e)[n]||jf(Uf({},t)).join("")!==i})?function(e,t){for(var n=Lf(e),i=arguments.length,r=1,a=Pf.f,s=Df.f;i>r;)for(var o,l=Mf(arguments[r++]),c=a?Bf(jf(l),a(l)):jf(l),d=c.length,u=0;d>u;)o=c[u++],kf&&!If(s,l,o)||(n[o]=l[o]);return n}:Uf,zf=an,Hf=fs,Wf=k,Gf=$t,qf=F,Yf=function(e,t,n){Wf?Gf.f(e,t,qf(0,n)):e[t]=n},Xf=Qt,Kf=O,Jf=Ze,Zf=function(e,t,n,i){try{return i?t(zf(n)[0],n[1]):t(n)}catch(t){Hf(e,"throw",t)}},Qf=Qa,$f=Zl,eg=Gn,tg=Yf,ng=us,ig=rs,rg=Array,ag=d,sg=2147483647,og=/[^\0-\u007E]/,lg=/[.\u3002\uFF0E\uFF61]/g,cg="Overflow: input needs wider integers to process",dg=RangeError,ug=ag(lg.exec),hg=Math.floor,pg=String.fromCharCode,mg=ag("".charCodeAt),fg=ag([].join),gg=ag([].push),_g=ag("".replace),vg=ag("".split),bg=ag("".toLowerCase),yg=function(e){return e+22+75*(e<26)},xg=function(e,t,n){var i=0;for(e=n?hg(e/700):e>>1,e+=hg(e/t);e>455;)e=hg(e/35),i+=36;return hg(i+36*e/(e+38))},wg=function(e){var t=[];e=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=mg(e,n++);if(r>=55296&&r<=56319&&n<i){var a=mg(e,n++);56320==(64512&a)?gg(t,((1023&r)<<10)+(1023&a)+65536):(gg(t,r),n--)}else gg(t,r)}return t}(e);var n,i,r=e.length,a=128,s=0,o=72;for(n=0;n<e.length;n++)(i=e[n])<128&&gg(t,pg(i));var l=t.length,c=l;for(l&&gg(t,"-");c<r;){var d=sg;for(n=0;n<e.length;n++)(i=e[n])>=a&&i<d&&(d=i);var u=c+1;if(d-a>hg((sg-s)/u))throw new dg(cg);for(s+=(d-a)*u,a=d,n=0;n<e.length;n++){if((i=e[n])<a&&++s>sg)throw new dg(cg);if(i===a){for(var h=s,p=36;;){var m=p<=o?1:p>=o+26?26:p-o;if(h<m)break;var f=h-m,g=36-m;gg(t,pg(yg(m+f%g))),h=hg(f/g),p+=36}gg(t,pg(yg(h))),o=xg(s,u,c===l),s=0,c++}}s++,a++}return fg(t,"")},Eg=In,Sg=k,Cg=am,Tg=p,Ng=Qt,Ag=d,kg=So,Rg=El,Ig=Rl,Og=et,jg=Vf,Pg=function(e){var t=Jf(e),n=$f(this),i=arguments.length,r=i>1?arguments[1]:void 0,a=void 0!==r;a&&(r=Xf(r,i>2?arguments[2]:void 0));var s,o,l,c,d,u,h=ig(t),p=0;if(!h||this===rg&&Qf(h))for(s=eg(t),o=n?new this(s):rg(s);s>p;p++)u=a?r(t[p],p):t[p],tg(o,p,u);else for(o=n?new this:[],d=(c=ng(t,h)).next;!(l=Kf(d,c)).done;p++)u=a?Zf(c,r,[l.value,p],!0):l.value,tg(o,p,u);return o.length=p,o},Dg=sc,Lg=Bh.codeAt,Mg=function(e){var t,n,i=[],r=vg(_g(bg(e),lg,"."),".");for(t=0;t<r.length;t++)n=r[t],gg(i,ug(og,n)?"xn--"+wg(n):n);return fg(i,".")},Ug=bi,Fg=Ho,Bg=lc,Vg=Nf,zg=go,Hg=zg.set,Wg=zg.getterFor("URL"),Gg=Vg.URLSearchParams,qg=Vg.getState,Yg=Tg.URL,Xg=Tg.TypeError,Kg=Tg.parseInt,Jg=Math.floor,Zg=Math.pow,Qg=Ag("".charAt),$g=Ag(/./.exec),e_=Ag([].join),t_=Ag(1..toString),n_=Ag([].pop),i_=Ag([].push),r_=Ag("".replace),a_=Ag([].shift),s_=Ag("".split),o_=Ag("".slice),l_=Ag("".toLowerCase),c_=Ag([].unshift),d_="Invalid scheme",u_="Invalid host",h_="Invalid port",p_=/[a-z]/i,m_=/[\d+-.a-z]/i,f_=/\d/,g_=/^0x/i,__=/^[0-7]+$/,v_=/^\d+$/,b_=/^[\da-f]+$/i,y_=/[\0\t\n\r #%/:<>?@[\\\]^|]/,x_=/[\0\t\n\r #/:<>?@[\\\]^|]/,w_=/^[\u0000-\u0020]+/,E_=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,S_=/[\t\n\r]/g,C_=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)c_(t,e%256),e=Jg(e/256);return e_(t,".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,n=1,i=null,r=0,a=0;a<8;a++)0!==e[a]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=a),++r);return r>n?i:t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=t_(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},T_={},N_=jg({},T_,{" ":1,'"':1,"<":1,">":1,"`":1}),A_=jg({},N_,{"#":1,"?":1,"{":1,"}":1}),k_=jg({},A_,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),R_=function(e,t){var n=Lg(e,0);return n>32&&n<127&&!Og(t,e)?e:encodeURIComponent(e)},I_={ftp:21,file:null,http:80,https:443,ws:80,wss:443},O_=function(e,t){var n;return 2===e.length&&$g(p_,Qg(e,0))&&(":"===(n=Qg(e,1))||!t&&"|"===n)},j_=function(e){var t;return e.length>1&&O_(o_(e,0,2))&&(2===e.length||"/"===(t=Qg(e,2))||"\\"===t||"?"===t||"#"===t)},P_=function(e){return"."===e||"%2e"===l_(e)},D_={},L_={},M_={},U_={},F_={},B_={},V_={},z_={},H_={},W_={},G_={},q_={},Y_={},X_={},K_={},J_={},Z_={},Q_={},$_={},ev={},tv={},nv=function(e,t,n){var i,r,a,s=Ug(e);if(t){if(r=this.parse(s))throw new Xg(r);this.searchParams=null}else{if(void 0!==n&&(i=new nv(n,!0)),r=this.parse(s,null,i))throw new Xg(r);(a=qg(new Gg)).bindURL(this),this.searchParams=a}};nv.prototype={type:"URL",parse:function(e,t,n){var i,r,a,s,o,l=this,c=t||D_,d=0,u="",h=!1,p=!1,m=!1;for(e=Ug(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=r_(e,w_,""),e=r_(e,E_,"$1")),e=r_(e,S_,""),i=Pg(e);d<=i.length;){switch(r=i[d],c){case D_:if(!r||!$g(p_,r)){if(t)return d_;c=M_;continue}u+=l_(r),c=L_;break;case L_:if(r&&($g(m_,r)||"+"===r||"-"===r||"."===r))u+=l_(r);else{if(":"!==r){if(t)return d_;u="",c=M_,d=0;continue}if(t&&(l.isSpecial()!==Og(I_,u)||"file"===u&&(l.includesCredentials()||null!==l.port)||"file"===l.scheme&&!l.host))return;if(l.scheme=u,t)return void(l.isSpecial()&&I_[l.scheme]===l.port&&(l.port=null));u="","file"===l.scheme?c=X_:l.isSpecial()&&n&&n.scheme===l.scheme?c=U_:l.isSpecial()?c=z_:"/"===i[d+1]?(c=F_,d++):(l.cannotBeABaseURL=!0,i_(l.path,""),c=$_)}break;case M_:if(!n||n.cannotBeABaseURL&&"#"!==r)return d_;if(n.cannotBeABaseURL&&"#"===r){l.scheme=n.scheme,l.path=Dg(n.path),l.query=n.query,l.fragment="",l.cannotBeABaseURL=!0,c=tv;break}c="file"===n.scheme?X_:B_;continue;case U_:if("/"!==r||"/"!==i[d+1]){c=B_;continue}c=H_,d++;break;case F_:if("/"===r){c=W_;break}c=Q_;continue;case B_:if(l.scheme=n.scheme,r===Tf)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=Dg(n.path),l.query=n.query;else if("/"===r||"\\"===r&&l.isSpecial())c=V_;else if("?"===r)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=Dg(n.path),l.query="",c=ev;else{if("#"!==r){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=Dg(n.path),l.path.length--,c=Q_;continue}l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=Dg(n.path),l.query=n.query,l.fragment="",c=tv}break;case V_:if(!l.isSpecial()||"/"!==r&&"\\"!==r){if("/"!==r){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,c=Q_;continue}c=W_}else c=H_;break;case z_:if(c=H_,"/"!==r||"/"!==Qg(u,d+1))continue;d++;break;case H_:if("/"!==r&&"\\"!==r){c=W_;continue}break;case W_:if("@"===r){h&&(u="%40"+u),h=!0,a=Pg(u);for(var f=0;f<a.length;f++){var g=a[f];if(":"!==g||m){var _=R_(g,k_);m?l.password+=_:l.username+=_}else m=!0}u=""}else if(r===Tf||"/"===r||"?"===r||"#"===r||"\\"===r&&l.isSpecial()){if(h&&""===u)return"Invalid authority";d-=Pg(u).length+1,u="",c=G_}else u+=r;break;case G_:case q_:if(t&&"file"===l.scheme){c=J_;continue}if(":"!==r||p){if(r===Tf||"/"===r||"?"===r||"#"===r||"\\"===r&&l.isSpecial()){if(l.isSpecial()&&""===u)return u_;if(t&&""===u&&(l.includesCredentials()||null!==l.port))return;if(s=l.parseHost(u))return s;if(u="",c=Z_,t)return;continue}"["===r?p=!0:"]"===r&&(p=!1),u+=r}else{if(""===u)return u_;if(s=l.parseHost(u))return s;if(u="",c=Y_,t===q_)return}break;case Y_:if(!$g(f_,r)){if(r===Tf||"/"===r||"?"===r||"#"===r||"\\"===r&&l.isSpecial()||t){if(""!==u){var v=Kg(u,10);if(v>65535)return h_;l.port=l.isSpecial()&&v===I_[l.scheme]?null:v,u=""}if(t)return;c=Z_;continue}return h_}u+=r;break;case X_:if(l.scheme="file","/"===r||"\\"===r)c=K_;else{if(!n||"file"!==n.scheme){c=Q_;continue}switch(r){case Tf:l.host=n.host,l.path=Dg(n.path),l.query=n.query;break;case"?":l.host=n.host,l.path=Dg(n.path),l.query="",c=ev;break;case"#":l.host=n.host,l.path=Dg(n.path),l.query=n.query,l.fragment="",c=tv;break;default:j_(e_(Dg(i,d),""))||(l.host=n.host,l.path=Dg(n.path),l.shortenPath()),c=Q_;continue}}break;case K_:if("/"===r||"\\"===r){c=J_;break}n&&"file"===n.scheme&&!j_(e_(Dg(i,d),""))&&(O_(n.path[0],!0)?i_(l.path,n.path[0]):l.host=n.host),c=Q_;continue;case J_:if(r===Tf||"/"===r||"\\"===r||"?"===r||"#"===r){if(!t&&O_(u))c=Q_;else if(""===u){if(l.host="",t)return;c=Z_}else{if(s=l.parseHost(u))return s;if("localhost"===l.host&&(l.host=""),t)return;u="",c=Z_}continue}u+=r;break;case Z_:if(l.isSpecial()){if(c=Q_,"/"!==r&&"\\"!==r)continue}else if(t||"?"!==r)if(t||"#"!==r){if(r!==Tf&&(c=Q_,"/"!==r))continue}else l.fragment="",c=tv;else l.query="",c=ev;break;case Q_:if(r===Tf||"/"===r||"\\"===r&&l.isSpecial()||!t&&("?"===r||"#"===r)){if(".."===(o=l_(o=u))||"%2e."===o||".%2e"===o||"%2e%2e"===o?(l.shortenPath(),"/"===r||"\\"===r&&l.isSpecial()||i_(l.path,"")):P_(u)?"/"===r||"\\"===r&&l.isSpecial()||i_(l.path,""):("file"===l.scheme&&!l.path.length&&O_(u)&&(l.host&&(l.host=""),u=Qg(u,0)+":"),i_(l.path,u)),u="","file"===l.scheme&&(r===Tf||"?"===r||"#"===r))for(;l.path.length>1&&""===l.path[0];)a_(l.path);"?"===r?(l.query="",c=ev):"#"===r&&(l.fragment="",c=tv)}else u+=R_(r,A_);break;case $_:"?"===r?(l.query="",c=ev):"#"===r?(l.fragment="",c=tv):r!==Tf&&(l.path[0]+=R_(r,T_));break;case ev:t||"#"!==r?r!==Tf&&("'"===r&&l.isSpecial()?l.query+="%27":l.query+="#"===r?"%23":R_(r,T_)):(l.fragment="",c=tv);break;case tv:r!==Tf&&(l.fragment+=R_(r,N_))}d++}},parseHost:function(e){var t,n,i;if("["===Qg(e,0)){if("]"!==Qg(e,e.length-1))return u_;if(t=function(e){var t,n,i,r,a,s,o,l=[0,0,0,0,0,0,0,0],c=0,d=null,u=0,h=function(){return Qg(e,u)};if(":"===h()){if(":"!==Qg(e,1))return;u+=2,d=++c}for(;h();){if(8===c)return;if(":"!==h()){for(t=n=0;n<4&&$g(b_,h());)t=16*t+Kg(h(),16),u++,n++;if("."===h()){if(0===n)return;if(u-=n,c>6)return;for(i=0;h();){if(r=null,i>0){if(!("."===h()&&i<4))return;u++}if(!$g(f_,h()))return;for(;$g(f_,h());){if(a=Kg(h(),10),null===r)r=a;else{if(0===r)return;r=10*r+a}if(r>255)return;u++}l[c]=256*l[c]+r,2!=++i&&4!==i||c++}if(4!==i)return;break}if(":"===h()){if(u++,!h())return}else if(h())return;l[c++]=t}else{if(null!==d)return;u++,d=++c}}if(null!==d)for(s=c-d,c=7;0!==c&&s>0;)o=l[c],l[c--]=l[d+s-1],l[d+--s]=o;else if(8!==c)return;return l}(o_(e,1,-1)),!t)return u_;this.host=t}else if(this.isSpecial()){if(e=Mg(e),$g(y_,e))return u_;if(t=function(e){var t,n,i,r,a,s,o,l=s_(e,".");if(l.length&&""===l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(n=[],i=0;i<t;i++){if(""===(r=l[i]))return e;if(a=10,r.length>1&&"0"===Qg(r,0)&&(a=$g(g_,r)?16:8,r=o_(r,8===a?1:2)),""===r)s=0;else{if(!$g(10===a?v_:8===a?__:b_,r))return e;s=Kg(r,a)}i_(n,s)}for(i=0;i<t;i++)if(s=n[i],i===t-1){if(s>=Zg(256,5-t))return null}else if(s>255)return null;for(o=n_(n),i=0;i<n.length;i++)o+=n[i]*Zg(256,3-i);return o}(e),null===t)return u_;this.host=t}else{if($g(x_,e))return u_;for(t="",n=Pg(e),i=0;i<n.length;i++)t+=R_(n[i],T_);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return Og(I_,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&O_(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,i=e.password,r=e.host,a=e.port,s=e.path,o=e.query,l=e.fragment,c=t+":";return null!==r?(c+="//",e.includesCredentials()&&(c+=n+(i?":"+i:"")+"@"),c+=C_(r),null!==a&&(c+=":"+a)):"file"===t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+e_(s,"/"):"",null!==o&&(c+="?"+o),null!==l&&(c+="#"+l),c},setHref:function(e){var t=this.parse(e);if(t)throw new Xg(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new iv(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+C_(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(Ug(e)+":",D_)},getUsername:function(){return this.username},setUsername:function(e){var t=Pg(Ug(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=R_(t[n],k_)}},getPassword:function(){return this.password},setPassword:function(e){var t=Pg(Ug(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=R_(t[n],k_)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?C_(e):C_(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,G_)},getHostname:function(){var e=this.host;return null===e?"":C_(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,q_)},getPort:function(){var e=this.port;return null===e?"":Ug(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=Ug(e))?this.port=null:this.parse(e,Y_))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+e_(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Z_))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=Ug(e))?this.query=null:("?"===Qg(e,0)&&(e=o_(e,1)),this.query="",this.parse(e,ev)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=Ug(e))?("#"===Qg(e,0)&&(e=o_(e,1)),this.fragment="",this.parse(e,tv)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var iv=function(e){var t=Ig(this,rv),n=Bg(arguments.length,1)>1?arguments[1]:void 0,i=Hg(t,new nv(e,!1,n));Sg||(t.href=i.serialize(),t.origin=i.getOrigin(),t.protocol=i.getProtocol(),t.username=i.getUsername(),t.password=i.getPassword(),t.host=i.getHost(),t.hostname=i.getHostname(),t.port=i.getPort(),t.pathname=i.getPathname(),t.search=i.getSearch(),t.searchParams=i.getSearchParams(),t.hash=i.getHash())},rv=iv.prototype,av=function(e,t){return{get:function(){return Wg(this)[e]()},set:t&&function(e){return Wg(this)[t](e)},configurable:!0,enumerable:!0}};if(Sg&&(Rg(rv,"href",av("serialize","setHref")),Rg(rv,"origin",av("getOrigin")),Rg(rv,"protocol",av("getProtocol","setProtocol")),Rg(rv,"username",av("getUsername","setUsername")),Rg(rv,"password",av("getPassword","setPassword")),Rg(rv,"host",av("getHost","setHost")),Rg(rv,"hostname",av("getHostname","setHostname")),Rg(rv,"port",av("getPort","setPort")),Rg(rv,"pathname",av("getPathname","setPathname")),Rg(rv,"search",av("getSearch","setSearch")),Rg(rv,"searchParams",av("getSearchParams")),Rg(rv,"hash",av("getHash","setHash"))),kg(rv,"toJSON",function(){return Wg(this).serialize()},{enumerable:!0}),kg(rv,"toString",function(){return Wg(this).serialize()},{enumerable:!0}),Yg){var sv=Yg.createObjectURL,ov=Yg.revokeObjectURL;sv&&kg(iv,"createObjectURL",Ng(sv,Yg)),ov&&kg(iv,"revokeObjectURL",Ng(ov,Yg))}Fg(iv,"URL"),Eg({global:!0,constructor:!0,forced:!Cg,sham:!Sg},{URL:iv});var lv=In,cv=r,dv=lc,uv=bi,hv=am,pv=ae("URL"),mv=hv&&cv(function(){pv.canParse()}),fv=cv(function(){return 1!==pv.canParse.length});lv({target:"URL",stat:!0,forced:!mv||fv},{canParse:function(e){var t=dv(arguments.length,1),n=uv(e),i=t<2||void 0===arguments[1]?void 0:uv(arguments[1]);try{return!!new pv(n,i)}catch(e){return!1}}});var gv=In,_v=lc,vv=bi,bv=am,yv=ae("URL");gv({target:"URL",stat:!0,forced:!bv},{parse:function(e){var t=_v(arguments.length,1),n=vv(e),i=t<2||void 0===arguments[1]?void 0:vv(arguments[1]);try{return new yv(n,i)}catch(e){return null}}});var xv=i(ee.URL);let wv=!0,Ev=!0;function Sv(e,t,n){const i=e.match(t);return i&&i.length>=n&&parseInt(i[n],10)}function Cv(e,t,n){if(!e.RTCPeerConnection)return;const i=e.RTCPeerConnection.prototype,r=i.addEventListener;i.addEventListener=function(e,i){if(e!==t)return r.apply(this,arguments);const a=e=>{const t=n(e);t&&(i.handleEvent?i.handleEvent(t):i(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(i,a),r.apply(this,[e,a])};const a=i.removeEventListener;i.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return a.apply(this,arguments);if(!this._eventMap[t].has(n))return a.apply(this,arguments);const i=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,a.apply(this,[e,i])},Object.defineProperty(i,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function Tv(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(wv=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function Nv(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(Ev=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Av(){if("object"==typeof window){if(wv)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function kv(e,t){Ev&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Rv(e){return"[object Object]"===Object.prototype.toString.call(e)}function Iv(e){var t;return Rv(e)?rr(t=Object.keys(e)).call(t,function(t,n){const i=Rv(e[n]),r=i?Iv(e[n]):e[n],a=i&&!Object.keys(r).length;return void 0===r||a?t:Object.assign(t,{[n]:r})},{}):e}function Ov(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach(i=>{i.endsWith("Id")?Ov(e,e.get(t[i]),n):i.endsWith("Ids")&&t[i].forEach(t=>{Ov(e,e.get(t),n)})}))}function jv(e,t,n){const i=n?"outbound-rtp":"inbound-rtp",r=new Map;if(null===t)return r;const a=[];return e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)}),a.forEach(t=>{e.forEach(n=>{n.type===i&&n.trackId===t.id&&Ov(e,n,r)})}),r}const Pv=Av;function Dv(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const i=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach(n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const i="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==i.exact&&"number"==typeof i.exact&&(i.min=i.max=i.exact);const r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==i.ideal){t.optional=t.optional||[];let e={};"number"==typeof i.ideal?(e[r("min",n)]=i.ideal,t.optional.push(e),e={},e[r("max",n)]=i.ideal,t.optional.push(e)):(e[r("",n)]=i.ideal,t.optional.push(e))}void 0!==i.exact&&"number"!=typeof i.exact?(t.mandatory=t.mandatory||{},t.mandatory[r("",n)]=i.exact):["min","max"].forEach(e=>{void 0!==i[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,n)]=i[e])})}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},r=function(e,r){if(t.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=i(e.audio)}if(e&&"object"==typeof e.video){let a=e.video.facingMode;a=a&&("object"==typeof a?a:{ideal:a});const s=t.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||s)){let t;if(delete e.video.facingMode,"environment"===a.exact||"environment"===a.ideal?t=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(t=["front"]),t)return n.mediaDevices.enumerateDevices().then(n=>{n=n.filter(e=>"videoinput"===e.kind);let s=n.find(e=>t.some(t=>{var n;return Pi(n=e.label.toLowerCase()).call(n,t)}));return!s&&n.length&&Pi(t).call(t,"back")&&(s=n[n.length-1]),s&&(e.video.deviceId=a.exact?{exact:s.deviceId}:{ideal:s.deviceId}),e.video=i(e.video),Pv("chrome: "+JSON.stringify(e)),r(e)})}e.video=i(e.video)}return Pv("chrome: "+JSON.stringify(e)),r(e)},a=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,i){r(e,e=>{n.webkitGetUserMedia(e,t,e=>{i&&i(a(e))})})}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return r(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>np.reject(a(e))))}}}function Lv(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function Mv(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",n=>{let i;i=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.track.id):{track:n.track};const r=new Event("track");r.track=n.track,r.receiver=i,r.transceiver={receiver:i},r.streams=[t.stream],this.dispatchEvent(r)}),t.stream.getTracks().forEach(n=>{let i;i=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.id):{track:n};const r=new Event("track");r.track=n,r.receiver=i,r.transceiver={receiver:i},r.streams=[t.stream],this.dispatchEvent(r)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Cv(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function Uv(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){let r=n.apply(this,arguments);return r||(r=t(this,e),this._senders.push(r)),r};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){i.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach(e=>{const t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Fv(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,i]=arguments;if(arguments.length>0&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const r=function(e){const t={};return e.result().forEach(e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{n[t]=e.stat(t)}),t[n.id]=n}),t},a=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};if(arguments.length>=2){const i=function(e){n(a(r(e)))};return t.apply(this,[i,e])}return new np((e,n)=>{t.apply(this,[function(t){e(a(r(t)))},n])}).then(n,i)}}function Bv(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>jv(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),Cv(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>jv(t,e.track,!1))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,i;return this.getSenders().forEach(n=>{n.track===e&&(t?i=!0:t=n)}),this.getReceivers().forEach(t=>(t.track===e&&(n?i=!0:n=t),t.track===e)),i||t&&n?np.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():np.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function Vv(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const i=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(i)&&this._shimmedLocalStreams[n.id].push(i):this._shimmedLocalStreams[n.id]=[n,i],i};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});const t=this.getSenders();n.apply(this,arguments);const i=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(i)};const i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],i.apply(this,arguments)};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),r.apply(this,arguments)}}function zv(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Vv(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])};const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}i.apply(this,[t])};const r=e.RTCPeerConnection.prototype.removeStream;function a(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(r.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");const r=this.getSenders().find(e=>e.track===t);if(r)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const a=this._streams[n.id];if(a)a.addTrack(t),np.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const i=new e.MediaStream([t]);this._streams[n.id]=i,this._reverseStreams[i.id]=n,this.addStream(i)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t],i={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?n.apply(this,[t=>{const n=a(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then(e=>a(this,e))}};e.RTCPeerConnection.prototype[t]=i[t]});const s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{const i=e._reverseStreams[t],r=e._streams[i.id];n=n.replace(new RegExp(i.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),s.apply(this,arguments)):s.apply(this,arguments)};const o=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=o.get.apply(this);return""===e.type?e:a(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach(n=>{this._streams[n].getTracks().find(t=>e.track===t)&&(t=this._streams[n])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Hv(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t],i={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=i[t]})}function Wv(e,t){Cv(e,"negotiationneeded",e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e})}var Gv=Object.freeze({__proto__:null,fixNegotiationNeeded:Wv,shimAddTrackRemoveTrack:zv,shimAddTrackRemoveTrackWithNative:Vv,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(t=>{const i=n.video&&n.video.width,r=n.video&&n.video.height,a=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:a||3}},i&&(n.video.mandatory.maxWidth=i),r&&(n.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(n)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))},shimGetSendersWithDtmf:Uv,shimGetStats:Fv,shimGetUserMedia:Dv,shimMediaStream:Lv,shimOnTrack:Mv,shimPeerConnection:Hv,shimSenderReceiverGetStats:Bv});function qv(e,t){const n=e&&e.navigator,i=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,i){kv("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,i)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},i&&i.prototype.getSettings){const t=i.prototype.getSettings;i.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(i&&i.prototype.applyConstraints){const t=i.prototype.applyConstraints;i.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function Yv(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Xv(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){const n=e.RTCPeerConnection.prototype[t],i={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=i[t]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,a]=arguments;return i.apply(this,[e||null]).then(e=>{if(t.version<53&&!r)try{e.forEach(e=>{e.type=n[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,i)=>{e.set(i,Object.assign({},t,{type:n[t.type]||t.type}))})}return e}).then(r,a)}}function Kv(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):np.resolve(new Map)}}function Jv(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),Cv(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Zv(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){kv("removeStream","removeTrack"),this.getSenders().forEach(t=>{var n;t.track&&Pi(n=e.getTracks()).call(n,t.track)&&this.removeTrack(t)})})}function Qv(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function $v(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const n=e.length>0;n&&e.forEach(e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const i=t.apply(this,arguments);if(n){const{sender:t}=i,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(n).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return i})}function eb(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function tb(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?np.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}function nb(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?np.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}var ib=Object.freeze({__proto__:null,shimAddTransceiver:$v,shimCreateAnswer:nb,shimCreateOffer:tb,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,np.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})},shimGetParameters:eb,shimGetUserMedia:qv,shimOnTrack:Yv,shimPeerConnection:Xv,shimRTCDataChannel:Qv,shimReceiverGetStats:Jv,shimRemoveStream:Zv,shimSenderGetStats:Kv});function rb(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n;this._localStreams||(this._localStreams=[]),Pi(n=this._localStreams).call(n,e)||this._localStreams.push(e),e.getAudioTracks().forEach(n=>t.call(this,n,e)),e.getVideoTracks().forEach(n=>t.call(this,n,e))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i&&i.forEach(e=>{var t;this._localStreams?Pi(t=this._localStreams).call(t,e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach(e=>{Pi(n).call(n,e.track)&&this.removeTrack(e)})})}}function ab(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{var t;if(this._remoteStreams||(this._remoteStreams=[]),Pi(t=this._remoteStreams).call(t,e))return;this._remoteStreams.push(e);const n=new Event("addstream");n.stream=e,this.dispatchEvent(n)})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)})}),t.apply(e,arguments)}}}function sb(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,i=t.createAnswer,r=t.setLocalDescription,a=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){const i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return t?(r.then(e,t),np.resolve()):r},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),np.resolve()):r};let o=function(e,t,n){const i=r.apply(this,[e]);return n?(i.then(t,n),np.resolve()):i};t.setLocalDescription=o,o=function(e,t,n){const i=a.apply(this,[e]);return n?(i.then(t,n),np.resolve()):i},t.setRemoteDescription=o,o=function(e,t,n){const i=s.apply(this,[e]);return n?(i.then(t,n),np.resolve()):i},t.addIceCandidate=o}function ob(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(lb(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,i){t.mediaDevices.getUserMedia(e).then(n,i)}.bind(t))}function lb(e){return e&&void 0!==e.video?Object.assign({},e,{video:Iv(e.video)}):e}function cb(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let i=e.iceServers[n];!i.hasOwnProperty("urls")&&i.hasOwnProperty("url")?(kv("RTCIceServer.url","RTCIceServer.urls"),i=JSON.parse(JSON.stringify(i)),i.urls=i.url,delete i.url,t.push(i)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function db(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ub(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function hb(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var pb=Object.freeze({__proto__:null,shimAudioContext:hb,shimCallbacksAPI:sb,shimConstraints:lb,shimCreateOfferLegacy:ub,shimGetUserMedia:ob,shimLocalStreamsAPI:rb,shimRTCIceServerUrls:cb,shimRemoteStreamsAPI:ab,shimTrackEventTransceiver:db}),mb="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff",fb=X,gb=bi,_b=mb,vb=d("".replace),bb=RegExp("^["+_b+"]+"),yb=RegExp("(^|[^"+_b+"])["+_b+"]+$"),xb=function(e){return function(t){var n=gb(fb(t));return 1&e&&(n=vb(n,bb,"")),2&e&&(n=vb(n,yb,"$1")),n}},wb={start:xb(1),end:xb(2),trim:xb(3)},Eb=wo.PROPER,Sb=r,Cb=mb,Tb=wb.trim;In({target:"String",proto:!0,forced:function(e){return Sb(function(){return!!Cb[e]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[e]()||Eb&&Cb[e].name!==e})}("trim")},{trim:function(){return Tb(this)}});var Nb=ei("String","trim"),Ab=u,kb=Nb,Rb=String.prototype,Ib=function(e){var t=e.trim;return"string"==typeof e||e===Rb||Ab(Rb,e)&&t===Rb.trim?kb:t},Ob=i(Ib),jb={exports:{}};!function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map(e=>e.trim())},t.splitSections=function(e){return e.split("\nm=").map((e,t)=>(t>0?"m="+e:e).trim()+"\r\n")},t.getDescription=function(e){const n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){const n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter(e=>0===e.indexOf(n))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const n={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let i=8;i<t.length;i+=2)switch(t[i]){case"raddr":n.relatedAddress=t[i+1];break;case"rport":n.relatedPort=parseInt(t[i+1],10);break;case"tcptype":n.tcpType=t[i+1];break;case"ufrag":n.ufrag=t[i+1],n.usernameFragment=t[i+1];break;default:void 0===n[t[i]]&&(n[t[i]]=t[i+1])}return n},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const i=e.type;return t.push("typ"),t.push(i),"host"!==i&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" ");const n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){const t={};let n;const i=e.substring(e.indexOf(" ")+1).split(";");for(let r=0;r<i.length;r++)n=i[r].trim().split("="),t[n[0].trim()]=n[1];return t},t.writeFmtp=function(e){let t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const i=[];Object.keys(e.parameters).forEach(t=>{void 0!==e.parameters[t]?i.push(t+"="+e.parameters[t]):i.push(t)}),t+="a=fmtp:"+n+" "+i.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(e=>{t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),n={ssrc:parseInt(e.substring(7,t),10)},i=e.indexOf(":",t);return i>-1?(n.attribute=e.substring(t+1,i),n.value=e.substring(i+1)):n.attribute=e.substring(t+1),n},t.parseSsrcGroup=function(e){const t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(e=>parseInt(e,10))}},t.getMid=function(e){const n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(e=>{n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},t.parseCryptoLine=function(e){const t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){const i=t.matchPrefix(e+n,"a=ice-ufrag:")[0],r=t.matchPrefix(e+n,"a=ice-pwd:")[0];return i&&r?{usernameFragment:i.substring(12),password:r.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},i=t.splitLines(e)[0].split(" ");n.profile=i[2];for(let a=3;a<i.length;a++){const r=i[a],s=t.matchPrefix(e,"a=rtpmap:"+r+" ")[0];if(s){const i=t.parseRtpMap(s),a=t.matchPrefix(e,"a=fmtp:"+r+" ");switch(i.parameters=a.length?t.parseFmtp(a[0]):{},i.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+r+" ").map(t.parseRtcpFb),n.codecs.push(i),i.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(i.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach(e=>{n.headerExtensions.push(t.parseExtmap(e))});const r=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return n.codecs.forEach(e=>{r.forEach(t=>{e.rtcpFeedback.find(e=>e.type===t.type&&e.parameter===t.parameter)||e.rtcpFeedback.push(t)})}),n},t.writeRtpDescription=function(e,n){let i="";i+="m="+e+" ",i+=n.codecs.length>0?"9":"0",i+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=n.codecs.map(e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType).join(" ")+"\r\n",i+="c=IN IP4 0.0.0.0\r\n",i+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach(e=>{i+=t.writeRtpMap(e),i+=t.writeFmtp(e),i+=t.writeRtcpFb(e)});let r=0;return n.codecs.forEach(e=>{e.maxptime>r&&(r=e.maxptime)}),r>0&&(i+="a=maxptime:"+r+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach(e=>{i+=t.writeExtmap(e)}),i},t.parseRtpEncodingParameters=function(e){const n=[],i=t.parseRtpParameters(e),r=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute),o=s.length>0&&s[0].ssrc;let l;const c=t.matchPrefix(e,"a=ssrc-group:FID").map(e=>e.substring(17).split(" ").map(e=>parseInt(e,10)));c.length>0&&c[0].length>1&&c[0][0]===o&&(l=c[0][1]),i.codecs.forEach(e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:o,codecPayloadType:parseInt(e.parameters.apt,10)};o&&l&&(t.rtx={ssrc:l}),n.push(t),r&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:o,mechanism:a?"red+ulpfec":"red"},n.push(t))}}),0===n.length&&o&&n.push({ssrc:o});let d=t.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substring(7),10):0===d[0].indexOf("b=AS:")?1e3*parseInt(d[0].substring(5),10)*.95-16e3:void 0,n.forEach(e=>{e.maxBitrate=d})),n},t.parseRtcpParameters=function(e){const n={},i=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"cname"===e.attribute)[0];i&&(n.cname=i.value,n.ssrc=i.ssrc);const r=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=r.length>0,n.compound=0===r.length;const a=t.matchPrefix(e,"a=rtcp-mux");return n.mux=a.length>0,n},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let n;const i=t.matchPrefix(e,"a=msid:");if(1===i.length)return n=i[0].substring(7).split(" "),{stream:n[0],track:n[1]};const r=t.matchPrefix(e,"a=ssrc:").map(e=>t.parseSsrcMedia(e)).filter(e=>"msid"===e.attribute);return r.length>0?(n=r[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},t.parseSctpDescription=function(e){const n=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");let r;i.length>0&&(r=parseInt(i[0].substring(19),10)),isNaN(r)&&(r=65536);const a=t.matchPrefix(e,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substring(12),10),protocol:n.fmt,maxMessageSize:r};const s=t.matchPrefix(e,"a=sctpmap:");if(s.length>0){const e=s[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:r}}},t.writeSctpDescription=function(e,t){let n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,n,i){let r;const a=void 0!==n?n:2;return r=e||t.generateSessionId(),"v=0\r\no="+(i||"thisisadapterortc")+" "+r+" "+a+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){const i=t.splitLines(e);for(let t=0;t<i.length;t++)switch(i[t]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[t].substring(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const n=t.splitLines(e)[0].substring(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){const n=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;const n=t.splitLines(e);for(let t=0;t<n.length;t++)if(n[t].length<2||"="!==n[t].charAt(1))return!1;return!0},e.exports=t}(jb);var Pb=jb.exports,Db=i(Pb),Lb=e({__proto__:null,default:Db},[Pb]);function Mb(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const n=new t(e),i=Db.parseCandidate(e.candidate),r=Object.assign(n,i);return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,Cv(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}function Ub(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||Cv(e,"icecandidate",e=>{if(e.candidate){const t=Db.parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e})}function Fb(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=function(e){if(!e||!e.sdp)return!1;const t=Db.splitSections(e.sdp);return t.shift(),t.some(e=>{const t=Db.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})},i=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!=n?-1:n},r=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},a=function(e,n){let i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);const r=Db.matchPrefix(e.sdp,"a=max-message-size:");return r.length>0?i=parseInt(r[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(i=2147483637),i},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const e=i(arguments[0]),t=r(e),n=a(arguments[0],e);let s;s=0===t&&0===n?Number.POSITIVE_INFINITY:0===t||0===n?Math.max(t,n):Math.min(t,n);const o={};Object.defineProperty(o,"maxMessageSize",{get:()=>s}),this._sctp=o}return s.apply(this,arguments)}}function Bb(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const i=arguments[0],r=i.length||i.size||i.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},Cv(e,"datachannel",e=>(t(e.channel,e.target),e))}function Vb(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}function zb(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==Ob(e).call(e)).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function Hb(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?np.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),np.resolve())})}function Wb(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return n.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?n.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then(e=>n.apply(this,[e]))})}var Gb=Object.freeze({__proto__:null,removeExtmapAllowMixed:zb,shimAddIceCandidateNullOrEmpty:Hb,shimConnectionState:Vb,shimMaxMessageSize:Fb,shimParameterlessSetLocalDescription:Wb,shimRTCIceCandidate:Mb,shimRTCIceCandidateRelayProtocol:Ub,shimSendThrowTypeError:Bb});!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=Av,i=function(e){const t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=Sv(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=Sv(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=Sv(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(e),r={browserDetails:i,commonShim:Gb,extractVersion:Sv,disableLog:Tv,disableWarnings:Nv,sdp:Lb};switch(i.browser){case"chrome":if(!Gv||!Hv||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),r;if(null===i.version)return n("Chrome shim can not determine version, not shimming."),r;n("adapter.js shimming chrome."),r.browserShim=Gv,Hb(e,i),Wb(e),Dv(e,i),Lv(e),Hv(e,i),Mv(e),zv(e,i),Uv(e),Fv(e),Bv(e),Wv(e,i),Mb(e),Ub(e),Vb(e),Fb(e,i),Bb(e),zb(e,i);break;case"firefox":if(!ib||!Xv||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),r;n("adapter.js shimming firefox."),r.browserShim=ib,Hb(e,i),Wb(e),qv(e,i),Xv(e,i),Yv(e),Zv(e),Kv(e),Jv(e),Qv(e),$v(e),eb(e),tb(e),nb(e),Mb(e),Vb(e),Fb(e,i),Bb(e);break;case"safari":if(!pb||!t.shimSafari)return n("Safari shim is not included in this adapter release."),r;n("adapter.js shimming safari."),r.browserShim=pb,Hb(e,i),Wb(e),cb(e),ub(e),sb(e),rb(e),ab(e),db(e),ob(e),hb(e),Mb(e),Ub(e),Fb(e,i),Bb(e),zb(e,i);break;default:n("Unsupported browser!")}}({window:"undefined"==typeof window?void 0:window});var qb=p;In({global:!0,forced:qb.globalThis!==qb},{globalThis:qb});var Yb=i(p),Xb={exports:{}};!function(e,n){!function(t,i){var r="function",a="undefined",s="object",o="string",l="major",c="model",d="name",u="type",h="vendor",p="version",m="architecture",f="console",g="mobile",_="tablet",v="smarttv",b="wearable",y="embedded",x="Amazon",w="Apple",E="ASUS",S="BlackBerry",C="Browser",T="Chrome",N="Firefox",A="Google",k="Huawei",R="LG",I="Microsoft",O="Motorola",j="Opera",P="Samsung",D="Sharp",L="Sony",M="Xiaomi",U="Zebra",F="Facebook",B="Chromium OS",V="Mac OS",z=" Browser",H=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},W=function(e,t){return typeof e===o&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},q=function(e,t){if(typeof e===o)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},Y=function(e,t){for(var n,a,o,l,c,d,u=0;u<t.length&&!c;){var h=t[u],p=t[u+1];for(n=a=0;n<h.length&&!c&&h[n];)if(c=h[n++].exec(e))for(o=0;o<p.length;o++)d=c[++a],typeof(l=p[o])===s&&l.length>0?2===l.length?typeof l[1]==r?this[l[0]]=l[1].call(this,d):this[l[0]]=l[1]:3===l.length?typeof l[1]!==r||l[1].exec&&l[1].test?this[l[0]]=d?d.replace(l[1],l[2]):i:this[l[0]]=d?l[1].call(this,d,l[2]):i:4===l.length&&(this[l[0]]=d?l[3].call(this,d.replace(l[1],l[2])):i):this[l]=d||i;u+=2}},X=function(e,t){for(var n in t)if(typeof t[n]===s&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(W(t[n][r],e))return"?"===n?i:n}else if(W(t[n],e))return"?"===n?i:n;return t.hasOwnProperty("*")?t["*"]:e},K={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},J={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,p],[/opios[\/ ]+([\w\.]+)/i],[p,[d,j+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[p,[d,j+" GX"]],[/\bopr\/([\w\.]+)/i],[p,[d,j]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[d,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[p,[d,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/quark(?:pc)?\/([-\w\.]+)/i],[p,[d,"Quark"]],[/\bddg\/([\w\.]+)/i],[p,[d,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[d,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[d,"Smart Lenovo "+C]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+C],p],[/\bfocus\/([\w\.]+)/i],[p,[d,N+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[d,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI"+z]],[/fxios\/([\w\.-]+)/i],[p,[d,N]],[/\bqihoobrowser\/?([\w\.]*)/i],[p,[d,"360"]],[/\b(qq)\/([\w\.]+)/i],[[d,/(.+)/,"$1Browser"],p],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1"+z],p],[/samsungbrowser\/([\w\.]+)/i],[p,[d,P+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[p,[d,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[d,"Sogou Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[d,p],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[d],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[p,d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,F],p],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[d,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,T+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[d,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[p,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],p],[/(wolvic|librewolf)\/([\w\.]+)/i],[d,p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[d,N+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,[p,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[d,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,G]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[h,P],[u,_]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[c,[h,P],[u,g]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[h,w],[u,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[h,w],[u,_]],[/(macintosh);/i],[c,[h,w]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[h,D],[u,g]],[/(?:honor)([-\w ]+)[;\)]/i],[c,[h,"Honor"],[u,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[h,k],[u,_]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[h,k],[u,g]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[c,/_/g," "],[h,M],[u,g]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[h,M],[u,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[h,"OPPO"],[u,g]],[/\b(opd2\d{3}a?) bui/i],[c,[h,"OPPO"],[u,_]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[h,"Vivo"],[u,g]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[c,[h,"Realme"],[u,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[h,O],[u,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[h,O],[u,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[h,R],[u,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[h,R],[u,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[h,"Lenovo"],[u,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[h,"Nokia"],[u,g]],[/(pixel c)\b/i],[c,[h,A],[u,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[h,A],[u,g]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[h,L],[u,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[h,L],[u,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[h,"OnePlus"],[u,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[h,x],[u,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[h,x],[u,g]],[/(playbook);[-\w\),; ]+(rim)/i],[c,h,[u,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[h,S],[u,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[h,E],[u,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[h,E],[u,g]],[/(nexus 9)/i],[c,[h,"HTC"],[u,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[c,/_/g," "],[u,g]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[c,[h,"TCL"],[u,_]],[/(itel) ((\w+))/i],[[h,G],c,[u,X,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[h,"Acer"],[u,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[h,"Meizu"],[u,g]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[c,[h,"Ulefone"],[u,g]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[c,[h,"Energizer"],[u,g]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[c,[h,"Cat"],[u,g]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[c,[h,"Smartfren"],[u,g]],[/droid.+; (a(?:015|06[35]|142p?))/i],[c,[h,"Nothing"],[u,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,c,[u,g]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,c,[u,_]],[/(surface duo)/i],[c,[h,I],[u,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[h,"Fairphone"],[u,g]],[/(u304aa)/i],[c,[h,"AT&T"],[u,g]],[/\bsie-(\w*)/i],[c,[h,"Siemens"],[u,g]],[/\b(rct\w+) b/i],[c,[h,"RCA"],[u,_]],[/\b(venue[\d ]{2,7}) b/i],[c,[h,"Dell"],[u,_]],[/\b(q(?:mv|ta)\w+) b/i],[c,[h,"Verizon"],[u,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[h,"Barnes & Noble"],[u,_]],[/\b(tm\d{3}\w+) b/i],[c,[h,"NuVision"],[u,_]],[/\b(k88) b/i],[c,[h,"ZTE"],[u,_]],[/\b(nx\d{3}j) b/i],[c,[h,"ZTE"],[u,g]],[/\b(gen\d{3}) b.+49h/i],[c,[h,"Swiss"],[u,g]],[/\b(zur\d{3}) b/i],[c,[h,"Swiss"],[u,_]],[/\b((zeki)?tb.*\b) b/i],[c,[h,"Zeki"],[u,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],c,[u,_]],[/\b(ns-?\w{0,9}) b/i],[c,[h,"Insignia"],[u,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[h,"NextBook"],[u,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],c,[u,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],c,[u,g]],[/\b(ph-1) /i],[c,[h,"Essential"],[u,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[h,"Envizen"],[u,_]],[/\b(trio[-\w\. ]+) b/i],[c,[h,"MachSpeed"],[u,_]],[/\btu_(1491) b/i],[c,[h,"Rotor"],[u,_]],[/(shield[\w ]+) b/i],[c,[h,"Nvidia"],[u,_]],[/(sprint) (\w+)/i],[h,c,[u,g]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[h,I],[u,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[h,U],[u,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[h,U],[u,g]],[/smart-tv.+(samsung)/i],[h,[u,v]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[h,P],[u,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,R],[u,v]],[/(apple) ?tv/i],[h,[c,w+" TV"],[u,v]],[/crkey/i],[[c,T+"cast"],[h,A],[u,v]],[/droid.+aft(\w+)( bui|\))/i],[c,[h,x],[u,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[h,D],[u,v]],[/(bravia[\w ]+)( bui|\))/i],[c,[h,L],[u,v]],[/(mitv-\w{5}) bui/i],[c,[h,M],[u,v]],[/Hbbtv.*(technisat) (.*);/i],[h,c,[u,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[h,q],[c,q],[u,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,v]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,c,[u,f]],[/droid.+; (shield) bui/i],[c,[h,"Nvidia"],[u,f]],[/(playstation [345portablevi]+)/i],[c,[h,L],[u,f]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[h,I],[u,f]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[c,[h,P],[u,b]],[/((pebble))app/i],[h,c,[u,b]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[h,w],[u,b]],[/droid.+; (glass) \d/i],[c,[h,A],[u,b]],[/droid.+; (wt63?0{2,3})\)/i],[c,[h,U],[u,b]],[/droid.+; (glass) \d/i],[c,[h,A],[u,b]],[/(pico) (4|neo3(?: link|pro)?)/i],[h,c,[u,b]],[/; (quest( \d| pro)?)/i],[c,[h,F],[u,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[u,y]],[/(aeobc)\b/i],[c,[h,x],[u,y]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[c,[u,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[u,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[u,g]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[d,p],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,p],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[d,[p,X,K]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,X,K],[d,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,V],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,p],[/\(bb(10);/i],[p,[d,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[d,N+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[d,T+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,B],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,p],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,p]]},Z=function(e,n){if(typeof e===s&&(n=e,e=i),!(this instanceof Z))return new Z(e,n).getResult();var f=typeof t!==a&&t.navigator?t.navigator:i,v=e||(f&&f.userAgent?f.userAgent:""),b=f&&f.userAgentData?f.userAgentData:i,y=n?function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n}(J,n):J,x=f&&f.userAgent==v;return this.getBrowser=function(){var e={};return e[d]=i,e[p]=i,Y.call(e,v,y.browser),e[l]=function(e){return typeof e===o?e.replace(/[^\d\.]/g,"").split(".")[0]:i}(e[p]),x&&f&&f.brave&&typeof f.brave.isBrave==r&&(e[d]="Brave"),e},this.getCPU=function(){var e={};return e[m]=i,Y.call(e,v,y.cpu),e},this.getDevice=function(){var e={};return e[h]=i,e[c]=i,e[u]=i,Y.call(e,v,y.device),x&&!e[u]&&b&&b.mobile&&(e[u]=g),x&&"Macintosh"==e[c]&&f&&typeof f.standalone!==a&&f.maxTouchPoints&&f.maxTouchPoints>2&&(e[c]="iPad",e[u]=_),e},this.getEngine=function(){var e={};return e[d]=i,e[p]=i,Y.call(e,v,y.engine),e},this.getOS=function(){var e={};return e[d]=i,e[p]=i,Y.call(e,v,y.os),x&&!e[d]&&b&&b.platform&&"Unknown"!=b.platform&&(e[d]=b.platform.replace(/chrome os/i,B).replace(/macos/i,V)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return v},this.setUA=function(e){return v=typeof e===o&&e.length>500?q(e,500):e,this},this.setUA(v),this};Z.VERSION="0.7.40",Z.BROWSER=H([d,p,l]),Z.CPU=H([m]),Z.DEVICE=H([c,h,u,f,g,v,_,b,y]),Z.ENGINE=Z.OS=H([d,p]),e.exports&&(n=e.exports=Z),n.UAParser=Z;var Q=typeof t!==a&&(t.jQuery||t.Zepto);if(Q&&!Q.ua){var $=new Z;Q.ua=$.getResult(),Q.ua.get=function(){return $.getUA()},Q.ua.set=function(e){$.setUA(e);var t=$.getResult();for(var n in t)Q.ua[n]=t[n]}}}("object"==typeof window?window:t)}(Xb,Xb.exports);var Kb=i(Xb.exports),Jb=Lc.clear;In({global:!0,bind:!0,enumerable:!0,forced:p.clearImmediate!==Jb},{clearImmediate:Jb});var Zb=p,Qb=v,$b=N,ey=Ki,ty=le,ny=sc,iy=lc,ry=Zb.Function,ay=/MSIE .\./.test(ty)||"BUN"===ey&&function(){var e=Zb.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}(),sy=In,oy=p,ly=Lc.set,cy=function(e,t){var n=t?2:1;return ay?function(i,r){var a=iy(arguments.length,1)>n,s=$b(i)?i:ry(i),o=a?ny(arguments,n):[],l=a?function(){Qb(s,this,o)}:s;return t?e(l,r):e(l)}:e},dy=oy.setImmediate?cy(ly,!1):ly;sy({global:!0,bind:!0,enumerable:!0,forced:oy.setImmediate!==dy},{setImmediate:dy});var uy=i(ee.setImmediate),hy=p,py=hd,my=Ie,fy=lc,gy=k;In({global:!0,enumerable:!0,dontCallGetSet:!0,forced:r(function(){return gy&&1!==Object.getOwnPropertyDescriptor(hy,"queueMicrotask").value.length})},{queueMicrotask:function(e){fy(arguments.length,1),py(my(e))}});var _y=i(ee.queueMicrotask);function vy(e,t){return function(){return e.apply(t,arguments)}}const{toString:by}=Object.prototype,{getPrototypeOf:yy}=Object,{iterator:xy,toStringTag:wy}=Symbol,Ey=(Sy=Object.create(null),e=>{const t=by.call(e);return Sy[t]||(Sy[t]=t.slice(8,-1).toLowerCase())});var Sy;const Cy=e=>(e=e.toLowerCase(),t=>Ey(t)===e),Ty=e=>t=>typeof t===e,{isArray:Ny}=Array,Ay=Ty("undefined"),ky=Cy("ArrayBuffer"),Ry=Ty("string"),Iy=Ty("function"),Oy=Ty("number"),jy=e=>null!==e&&"object"==typeof e,Py=e=>{if("object"!==Ey(e))return!1;const t=yy(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||wy in e||xy in e)},Dy=Cy("Date"),Ly=Cy("File"),My=Cy("Blob"),Uy=Cy("FileList"),Fy=Cy("URLSearchParams"),[By,Vy,zy,Hy]=["ReadableStream","Request","Response","Headers"].map(Cy);function Wy(e,t){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e)if("object"!=typeof e&&(e=[e]),Ny(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let s;for(n=0;n<a;n++)s=i[n],t.call(null,e[s],s,e)}}function Gy(e,t){t=t.toLowerCase();const n=Object.keys(e);let i,r=n.length;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const qy=void 0!==Yb?Yb:"undefined"!=typeof self?self:"undefined"!=typeof window?window:n.g,Yy=e=>!Ay(e)&&e!==qy,Xy=(Ky="undefined"!=typeof Uint8Array&&yy(Uint8Array),e=>Ky&&e instanceof Ky);var Ky;const Jy=Cy("HTMLFormElement"),Zy=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Qy=Cy("RegExp"),$y=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Wy(n,(n,r)=>{let a;!1!==(a=t(n,r,e))&&(i[r]=a||n)}),Object.defineProperties(e,i)},ex=Cy("AsyncFunction"),tx=(nx="function"==typeof uy,ix=Iy(qy.postMessage),nx?uy:ix?(rx="axios@".concat(Math.random()),ax=[],qy.addEventListener("message",e=>{let{source:t,data:n}=e;t===qy&&n===rx&&ax.length&&ax.shift()()},!1),e=>{ax.push(e),qy.postMessage(rx,"*")}):e=>setTimeout(e));var nx,ix,rx,ax;const sx=void 0!==_y?_y.bind(qy):"undefined"!=typeof process&&process.nextTick||tx;var ox={isArray:Ny,isArrayBuffer:ky,isBuffer:function(e){return null!==e&&!Ay(e)&&null!==e.constructor&&!Ay(e.constructor)&&Iy(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Iy(e.append)&&("formdata"===(t=Ey(e))||"object"===t&&Iy(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ky(e.buffer),t},isString:Ry,isNumber:Oy,isBoolean:e=>!0===e||!1===e,isObject:jy,isPlainObject:Py,isReadableStream:By,isRequest:Vy,isResponse:zy,isHeaders:Hy,isUndefined:Ay,isDate:Dy,isFile:Ly,isBlob:My,isRegExp:Qy,isFunction:Iy,isStream:e=>jy(e)&&Iy(e.pipe),isURLSearchParams:Fy,isTypedArray:Xy,isFileList:Uy,forEach:Wy,merge:function e(){const{caseless:t}=Yy(this)&&this||{},n={},i=(i,r)=>{const a=t&&Gy(n,r)||r;Py(n[a])&&Py(i)?n[a]=e(n[a],i):Py(i)?n[a]=e({},i):Ny(i)?n[a]=i.slice():n[a]=i};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Wy(arguments[r],i);return n},extend:function(e,t,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Wy(t,(t,i)=>{n&&Iy(t)?e[i]=vy(t,n):e[i]=t},{allOwnKeys:i}),e},trim:e=>Ob(e)?Ob(e).call(e):e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let r,a,s;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)s=r[a],i&&!i(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&yy(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Ey,kindOfTest:Cy,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(Ny(e))return e;let t=e.length;if(!Oy(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[xy]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:Jy,hasOwnProperty:Zy,hasOwnProp:Zy,reduceDescriptors:$y,freezeMethods:e=>{$y(e,(t,n)=>{if(Iy(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];Iy(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach(e=>{n[e]=!0})};return Ny(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Gy,global:qy,isContextDefined:Yy,isSpecCompliantForm:function(e){return!!(e&&Iy(e.append)&&"FormData"===e[wy]&&e[xy])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(jy(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const r=Ny(e)?[]:{};return Wy(e,(e,t)=>{const a=n(e,i+1);!Ay(a)&&(r[t]=a)}),t[i]=void 0,r}}return e};return n(e,0)},isAsyncFn:ex,isThenable:e=>e&&(jy(e)||Iy(e))&&Iy(e.then)&&Iy(e.catch),setImmediate:tx,asap:sx,isIterable:e=>null!=e&&Iy(e[xy])};function lx(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}ox.inherits(lx,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ox.toJSONObject(this.config),code:this.code,status:this.status}}});const cx=lx.prototype,dx={};function ux(e){return ox.isPlainObject(e)||ox.isArray(e)}function hx(e){return ox.endsWith(e,"[]")?e.slice(0,-2):e}function px(e,t,n){return e?e.concat(t).map(function(e,t){return e=hx(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{dx[e]={value:e}}),Object.defineProperties(lx,dx),Object.defineProperty(cx,"isAxiosError",{value:!0}),lx.from=(e,t,n,i,r,a)=>{const s=Object.create(cx);return ox.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),lx.call(s,e.message,t,n,i,r),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const mx=ox.toFlatObject(ox,{},null,function(e){return/^is[A-Z]/.test(e)});function fx(e,t,n){if(!ox.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=ox.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!ox.isUndefined(t[e])})).metaTokens,r=n.visitor||c,a=n.dots,s=n.indexes,o=(n.Blob||"undefined"!=typeof Blob&&Blob)&&ox.isSpecCompliantForm(t);if(!ox.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ox.isDate(e))return e.toISOString();if(!o&&ox.isBlob(e))throw new lx("Blob is not supported. Use a Buffer instead.");return ox.isArrayBuffer(e)||ox.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let o=e;if(e&&!r&&"object"==typeof e)if(ox.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(ox.isArray(e)&&function(e){return ox.isArray(e)&&!e.some(ux)}(e)||(ox.isFileList(e)||ox.endsWith(n,"[]"))&&(o=ox.toArray(e)))return n=hx(n),o.forEach(function(e,i){!ox.isUndefined(e)&&null!==e&&t.append(!0===s?px([n],i,a):null===s?n:n+"[]",l(e))}),!1;return!!ux(e)||(t.append(px(r,n,a),l(e)),!1)}const d=[],u=Object.assign(mx,{defaultVisitor:c,convertValue:l,isVisitable:ux});if(!ox.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!ox.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+i.join("."));d.push(n),ox.forEach(n,function(n,a){!0===(!(ox.isUndefined(n)||null===n)&&r.call(t,n,ox.isString(a)?Ob(a).call(a):a,i,u))&&e(n,i?i.concat(a):[a])}),d.pop()}}(e),t}function gx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function _x(e,t){this._pairs=[],e&&fx(e,this,t)}const vx=_x.prototype;function bx(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yx(e,t,n){if(!t)return e;const i=n&&n.encode||bx;ox.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(a=r?r(t,n):ox.isURLSearchParams(t)?t.toString():new _x(t,n).toString(i),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}vx.append=function(e,t){this._pairs.push([e,t])},vx.toString=function(e){const t=e?function(t){return e.call(this,t,gx)}:gx;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};var xx=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ox.forEach(this.handlers,function(t){null!==t&&e(t)})}},wx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ex={exports:{}},Sx=In,Cx=k,Tx=$t.f;Sx({target:"Object",stat:!0,forced:Object.defineProperty!==Tx,sham:!Cx},{defineProperty:Tx});var Nx=ee.Object,Ax=Ex.exports=function(e,t,n){return Nx.defineProperty(e,t,n)};Nx.defineProperty.sham&&(Ax.sham=!0);var kx=i(Ex.exports),Rx=TypeError,Ix=sr,Ox=Zl,jx=$,Px=mt("species"),Dx=Array,Lx=function(e){var t;return Ix(e)&&(t=e.constructor,(Ox(t)&&(t===Dx||Ix(t.prototype))||jx(t)&&null===(t=t[Px]))&&(t=void 0)),void 0===t?Dx:t},Mx=function(e,t){return new(Lx(e))(0===t?0:t)},Ux=r,Fx=fe,Bx=mt("species"),Vx=function(e){return Fx>=51||!Ux(function(){var t=[];return(t.constructor={})[Bx]=function(){return{foo:1}},1!==t[e](Boolean).foo})},zx=In,Hx=r,Wx=sr,Gx=$,qx=Ze,Yx=Gn,Xx=function(e){if(e>9007199254740991)throw Rx("Maximum allowed index exceeded");return e},Kx=Yf,Jx=Mx,Zx=Vx,Qx=fe,$x=mt("isConcatSpreadable"),ew=Qx>=51||!Hx(function(){var e=[];return e[$x]=!1,e.concat()[0]!==e}),tw=function(e){if(!Gx(e))return!1;var t=e[$x];return void 0!==t?!!t:Wx(e)};zx({target:"Array",proto:!0,arity:1,forced:!ew||!Zx("concat")},{concat:function(e){var t,n,i,r,a,s=qx(this),o=Jx(s,0),l=0;for(t=-1,i=arguments.length;t<i;t++)if(tw(a=-1===t?s:arguments[t]))for(r=Yx(a),Xx(l+r),n=0;n<r;n++,l++)n in a&&Kx(o,l,a[n]);else Xx(l+1),Kx(o,l++,a);return o.length=l,o}});var nw={},iw=w,rw=Z,aw=Vr.f,sw=sc,ow="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];nw.f=function(e){return ow&&"Window"===iw(e)?function(e){try{return aw(e)}catch(e){return sw(ow)}}(e):aw(rw(e))};var lw={},cw=mt;lw.f=cw;var dw=ee,uw=et,hw=lw,pw=$t.f,mw=function(e){var t=dw.Symbol||(dw.Symbol={});uw(t,e)||pw(t,e,{value:hw.f(e)})},fw=O,gw=ae,_w=mt,vw=So,bw=function(){var e=gw("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,i=_w("toPrimitive");t&&!t[i]&&vw(t,i,function(e){return fw(n,this)},{arity:1})},yw=Qt,xw=W,ww=Ze,Ew=Gn,Sw=Mx,Cw=d([].push),Tw=function(e){var t=1===e,n=2===e,i=3===e,r=4===e,a=6===e,s=7===e,o=5===e||a;return function(l,c,d,u){for(var h,p,m=ww(l),f=xw(m),g=Ew(f),_=yw(c,d),v=0,b=u||Sw,y=t?b(l,g):n||s?b(l,0):void 0;g>v;v++)if((o||v in f)&&(p=_(h=f[v],v,m),e))if(t)y[v]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return v;case 2:Cw(y,h)}else switch(e){case 4:return!1;case 7:Cw(y,h)}return a?-1:i||r?r:y}},Nw={forEach:Tw(0),map:Tw(1),filter:Tw(2),some:Tw(3),every:Tw(4),find:Tw(5),findIndex:Tw(6),filterReject:Tw(7)},Aw=In,kw=p,Rw=O,Iw=d,Ow=k,jw=be,Pw=r,Dw=et,Lw=u,Mw=an,Uw=Z,Fw=St,Bw=bi,Vw=F,zw=Pa,Hw=ha,Ww=Vr,Gw=nw,qw=Qr,Yw=A,Xw=$t,Kw=ca,Jw=j,Zw=So,Qw=El,$w=Xe,eE=zr,tE=at,nE=mt,iE=lw,rE=mw,aE=bw,sE=Ho,oE=go,lE=Nw.forEach,cE=yr("hidden"),dE="Symbol",uE="prototype",hE=oE.set,pE=oE.getterFor(dE),mE=Object[uE],fE=kw.Symbol,gE=fE&&fE[uE],_E=kw.RangeError,vE=kw.TypeError,bE=kw.QObject,yE=Yw.f,xE=Xw.f,wE=Gw.f,EE=Jw.f,SE=Iw([].push),CE=$w("symbols"),TE=$w("op-symbols"),NE=$w("wks"),AE=!bE||!bE[uE]||!bE[uE].findChild,kE=function(e,t,n){var i=yE(mE,t);i&&delete mE[t],xE(e,t,n),i&&e!==mE&&xE(mE,t,i)},RE=Ow&&Pw(function(){return 7!==zw(xE({},"a",{get:function(){return xE(this,"a",{value:7}).a}})).a})?kE:xE,IE=function(e,t){var n=CE[e]=zw(gE);return hE(n,{type:dE,tag:e,description:t}),Ow||(n.description=t),n},OE=function(e,t,n){e===mE&&OE(TE,t,n),Mw(e);var i=Fw(t);return Mw(n),Dw(CE,i)?(n.enumerable?(Dw(e,cE)&&e[cE][i]&&(e[cE][i]=!1),n=zw(n,{enumerable:Vw(0,!1)})):(Dw(e,cE)||xE(e,cE,Vw(1,zw(null))),e[cE][i]=!0),RE(e,i,n)):xE(e,i,n)},jE=function(e,t){Mw(e);var n=Uw(t),i=Hw(n).concat(ME(n));return lE(i,function(t){Ow&&!Rw(PE,n,t)||OE(e,t,n[t])}),e},PE=function(e){var t=Fw(e),n=Rw(EE,this,t);return!(this===mE&&Dw(CE,t)&&!Dw(TE,t))&&(!(n||!Dw(this,t)||!Dw(CE,t)||Dw(this,cE)&&this[cE][t])||n)},DE=function(e,t){var n=Uw(e),i=Fw(t);if(n!==mE||!Dw(CE,i)||Dw(TE,i)){var r=yE(n,i);return!r||!Dw(CE,i)||Dw(n,cE)&&n[cE][i]||(r.enumerable=!0),r}},LE=function(e){var t=wE(Uw(e)),n=[];return lE(t,function(e){Dw(CE,e)||Dw(eE,e)||SE(n,e)}),n},ME=function(e){var t=e===mE,n=wE(t?TE:Uw(e)),i=[];return lE(n,function(e){!Dw(CE,e)||t&&!Dw(mE,e)||SE(i,CE[e])}),i};jw||(fE=function(){if(Lw(gE,this))throw new vE("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?Bw(arguments[0]):void 0,t=tE(e),n=function(e){var i=void 0===this?kw:this;i===mE&&Rw(n,TE,e),Dw(i,cE)&&Dw(i[cE],t)&&(i[cE][t]=!1);var r=Vw(1,e);try{RE(i,t,r)}catch(e){if(!(e instanceof _E))throw e;kE(i,t,r)}};return Ow&&AE&&RE(mE,t,{configurable:!0,set:n}),IE(t,e)},Zw(gE=fE[uE],"toString",function(){return pE(this).tag}),Zw(fE,"withoutSetter",function(e){return IE(tE(e),e)}),Jw.f=PE,Xw.f=OE,Kw.f=jE,Yw.f=DE,Ww.f=Gw.f=LE,qw.f=ME,iE.f=function(e){return IE(nE(e),e)},Ow&&Qw(gE,"description",{configurable:!0,get:function(){return pE(this).description}})),Aw({global:!0,constructor:!0,wrap:!0,forced:!jw,sham:!jw},{Symbol:fE}),lE(Hw(NE),function(e){rE(e)}),Aw({target:dE,stat:!0,forced:!jw},{useSetter:function(){AE=!0},useSimple:function(){AE=!1}}),Aw({target:"Object",stat:!0,forced:!jw,sham:!Ow},{create:function(e,t){return void 0===t?zw(e):jE(zw(e),t)},defineProperty:OE,defineProperties:jE,getOwnPropertyDescriptor:DE}),Aw({target:"Object",stat:!0,forced:!jw},{getOwnPropertyNames:LE}),aE(),sE(fE,dE),eE[cE]=!0;var UE=be&&!!Symbol.for&&!!Symbol.keyFor,FE=In,BE=ae,VE=et,zE=bi,HE=Xe,WE=UE,GE=HE("string-to-symbol-registry"),qE=HE("symbol-to-string-registry");FE({target:"Symbol",stat:!0,forced:!WE},{for:function(e){var t=zE(e);if(VE(GE,t))return GE[t];var n=BE("Symbol")(t);return GE[t]=n,qE[n]=t,n}});var YE=In,XE=et,KE=Ce,JE=Ne,ZE=UE,QE=Xe("symbol-to-string-registry");YE({target:"Symbol",stat:!0,forced:!ZE},{keyFor:function(e){if(!KE(e))throw new TypeError(JE(e)+" is not a symbol");if(XE(QE,e))return QE[e]}});var $E=sr,eS=N,tS=w,nS=bi,iS=d([].push),rS=In,aS=ae,sS=v,oS=O,lS=d,cS=r,dS=N,uS=Ce,hS=sc,pS=function(e){if(eS(e))return e;if($E(e)){for(var t=e.length,n=[],i=0;i<t;i++){var r=e[i];"string"==typeof r?iS(n,r):"number"!=typeof r&&"Number"!==tS(r)&&"String"!==tS(r)||iS(n,nS(r))}var a=n.length,s=!0;return function(e,t){if(s)return s=!1,t;if($E(this))return t;for(var i=0;i<a;i++)if(n[i]===e)return t}}},mS=be,fS=String,gS=aS("JSON","stringify"),_S=lS(/./.exec),vS=lS("".charAt),bS=lS("".charCodeAt),yS=lS("".replace),xS=lS(1..toString),wS=/[\uD800-\uDFFF]/g,ES=/^[\uD800-\uDBFF]$/,SS=/^[\uDC00-\uDFFF]$/,CS=!mS||cS(function(){var e=aS("Symbol")("stringify detection");return"[null]"!==gS([e])||"{}"!==gS({a:e})||"{}"!==gS(Object(e))}),TS=cS(function(){return'"\\udf06\\ud834"'!==gS("\udf06\ud834")||'"\\udead"'!==gS("\udead")}),NS=function(e,t){var n=hS(arguments),i=pS(t);if(dS(i)||void 0!==e&&!uS(e))return n[1]=function(e,t){if(dS(i)&&(t=oS(i,this,fS(e),t)),!uS(t))return t},sS(gS,null,n)},AS=function(e,t,n){var i=vS(n,t-1),r=vS(n,t+1);return _S(ES,e)&&!_S(SS,r)||_S(SS,e)&&!_S(ES,i)?"\\u"+xS(bS(e,0),16):e};gS&&rS({target:"JSON",stat:!0,arity:3,forced:CS||TS},{stringify:function(e,t,n){var i=hS(arguments),r=sS(CS?NS:gS,null,i);return TS&&"string"==typeof r?yS(r,wS,AS):r}});var kS=Qr,RS=Ze;In({target:"Object",stat:!0,forced:!be||r(function(){kS.f(1)})},{getOwnPropertySymbols:function(e){var t=kS.f;return t?t(RS(e)):[]}}),mw("asyncIterator"),mw("hasInstance"),mw("isConcatSpreadable"),mw("iterator"),mw("match"),mw("matchAll"),mw("replace"),mw("search"),mw("species"),mw("split");var IS=bw;mw("toPrimitive"),IS();var OS=ae,jS=Ho;mw("toStringTag"),jS(OS("Symbol"),"Symbol"),mw("unscopables"),Ho(p.JSON,"JSON",!0);var PS=ee.Symbol,DS=mt,LS=$t.f,MS=DS("metadata"),US=Function.prototype;void 0===US[MS]&&LS(US,MS,{value:null}),mw("asyncDispose"),mw("dispose"),mw("metadata");var FS=PS,BS=d,VS=ae("Symbol"),zS=VS.keyFor,HS=BS(VS.prototype.valueOf),WS=VS.isRegisteredSymbol||function(e){try{return void 0!==zS(HS(e))}catch(e){return!1}};In({target:"Symbol",stat:!0},{isRegisteredSymbol:WS});for(var GS=Xe,qS=ae,YS=d,XS=Ce,KS=mt,JS=qS("Symbol"),ZS=JS.isWellKnownSymbol,QS=qS("Object","getOwnPropertyNames"),$S=YS(JS.prototype.valueOf),eC=GS("wks"),tC=0,nC=QS(JS),iC=nC.length;tC<iC;tC++)try{var rC=nC[tC];XS(JS[rC])&&KS(rC)}catch(e){}var aC=function(e){if(ZS&&ZS(e))return!0;try{for(var t=$S(e),n=0,i=QS(eC),r=i.length;n<r;n++)if(eC[i[n]]==t)return!0}catch(e){}return!1};In({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:aC}),mw("customMatcher"),mw("observable"),In({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:WS}),In({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:aC}),mw("matcher"),mw("metadataKey"),mw("patternMatch"),mw("replaceAll");var sC=i(FS),oC=i(lw.f("iterator"));function lC(e){return lC="function"==typeof sC&&"symbol"==typeof oC?function(e){return typeof e}:function(e){return e&&"function"==typeof sC&&e.constructor===sC&&e!==sC.prototype?"symbol":typeof e},lC(e)}var cC=i(lw.f("toPrimitive"));function dC(e){var t=function(e,t){if("object"!=lC(e)||!e)return e;var n=e[cC];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=lC(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==lC(t)?t:t+""}function uC(e,t,n){return(t=dC(t))in e?kx(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hC=i(Af),pC={isBrowser:!0,classes:{URLSearchParams:void 0!==hC?hC:_x,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const mC="undefined"!=typeof window&&"undefined"!=typeof document,fC="object"==typeof navigator&&navigator||void 0,gC=mC&&(!fC||["ReactNative","NativeScript","NS"].indexOf(fC.product)<0),_C="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,vC=mC&&window.location.href||"http://localhost";function bC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function yC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bC(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var xC=yC(yC({},Object.freeze({__proto__:null,hasBrowserEnv:mC,hasStandardBrowserEnv:gC,hasStandardBrowserWebWorkerEnv:_C,navigator:fC,origin:vC})),pC),wC=an,EC=O,SC=et,CC=u,TC=function(){var e=wC(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},NC=RegExp.prototype,AC=function(e){var t=e.flags;return void 0!==t||"flags"in NC||SC(e,"flags")||!CC(NC,e)?t:EC(TC,e)},kC=Bh.charAt,RC=O,IC=an,OC=N,jC=w,PC=/./.exec,DC=TypeError,LC=In,MC=O,UC=C,FC=Jo,BC=pl,VC=X,zC=Hn,HC=bi,WC=an,GC=$,qC=w,YC=ai,XC=AC,KC=Pe,JC=r,ZC=ac,QC=function(e,t,n){return t+(n?kC(e,t).length:1)},$C=function(e,t){var n=e.exec;if(OC(n)){var i=RC(n,e,t);return null!==i&&IC(i),i}if("RegExp"===jC(e))return RC(PC,e,t);throw new DC("RegExp#exec called on incompatible receiver")},eT=go,tT=mt("matchAll"),nT="RegExp String",iT=nT+" Iterator",rT=eT.set,aT=eT.getterFor(iT),sT=TypeError,oT=UC("".indexOf),lT=UC("".matchAll),cT=!!lT&&!JC(function(){lT("a",/./)}),dT=FC(function(e,t,n,i){rT(this,{type:iT,regexp:e,string:t,global:n,unicode:i,done:!1})},nT,function(){var e=aT(this);if(e.done)return BC(void 0,!0);var t=e.regexp,n=e.string,i=$C(t,n);return null===i?(e.done=!0,BC(void 0,!0)):e.global?(""===HC(i[0])&&(t.lastIndex=QC(n,zC(t.lastIndex),e.unicode)),BC(i,!1)):(e.done=!0,BC(i,!1))}),uT=function(e){var t,n,i,r=WC(this),a=HC(e),s=ZC(r,RegExp),o=HC(XC(r));return t=new s(s===RegExp?r.source:r,o),n=!!~oT(o,"g"),i=!!~oT(o,"u"),t.lastIndex=zC(r.lastIndex),new dT(t,a,n,i)};LC({target:"String",proto:!0,forced:cT},{matchAll:function(e){var t,n,i,r,a=VC(this);if(GC(e)){if(YC(e)&&(t=HC(VC(XC(e))),!~oT(t,"g")))throw new sT("`.matchAll` does not allow non-global regexes");if(cT)return lT(a,e);if(void 0===(i=KC(e,tT))&&"RegExp"===qC(e)&&(i=uT),i)return MC(i,e,a)}else if(cT)return lT(a,e);return n=HC(a),r=new RegExp(e,"g"),MC(uT,r,n)}});var hT=ei("String","matchAll"),pT=u,mT=hT,fT=String.prototype,gT=function(e){var t=e.matchAll;return"string"==typeof e||e===fT||pT(fT,e)&&t===fT.matchAll?mT:t},_T=i(gT);function vT(e){function t(e,n,i,r){let a=e[r++];if("__proto__"===a)return!0;const s=Number.isFinite(+a),o=r>=e.length;return a=!a&&ox.isArray(i)?i.length:a,o?(ox.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!s):(i[a]&&ox.isObject(i[a])||(i[a]=[]),t(e,n,i[a],r)&&ox.isArray(i[a])&&(i[a]=function(e){const t={},n=Object.keys(e);let i;const r=n.length;let a;for(i=0;i<r;i++)a=n[i],t[a]=e[a];return t}(i[a])),!s)}if(ox.isFormData(e)&&ox.isFunction(e.entries)){const n={};return ox.forEachEntry(e,(e,i)=>{t(function(e){return _T(ox).call(ox,/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),i,n,0)}),n}return null}const bT={transitional:wx,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=ox.isObject(e);if(r&&ox.isHTMLForm(e)&&(e=new FormData(e)),ox.isFormData(e))return i?JSON.stringify(vT(e)):e;if(ox.isArrayBuffer(e)||ox.isBuffer(e)||ox.isStream(e)||ox.isFile(e)||ox.isBlob(e)||ox.isReadableStream(e))return e;if(ox.isArrayBufferView(e))return e.buffer;if(ox.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return fx(e,new xC.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return xC.isNode&&ox.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=ox.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return fx(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),function(e,t,n){if(ox.isString(e))try{return(t||JSON.parse)(e),Ob(ox).call(ox,e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||bT.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(ox.isResponse(e)||ox.isReadableStream(e))return e;if(e&&ox.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw lx.from(e,lx.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xC.classes.FormData,Blob:xC.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ox.forEach(["delete","get","head","post","put","patch"],e=>{bT.headers[e]={}});var yT=bT;const xT=ox.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wT=Symbol("internals");function ET(e){var t;return e&&Ob(t=String(e)).call(t).toLowerCase()}function ST(e){return!1===e||null==e?e:ox.isArray(e)?e.map(ST):String(e)}function CT(e,t,n,i,r){return ox.isFunction(i)?i.call(this,t,n):(r&&(t=n),ox.isString(t)?ox.isString(i)?-1!==t.indexOf(i):ox.isRegExp(i)?i.test(t):void 0:void 0)}class TT{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function r(e,t,n){const r=ET(t);if(!r)throw new Error("header name must be a non-empty string");const a=ox.findKey(i,r);(!a||void 0===i[a]||!0===n||void 0===n&&!1!==i[a])&&(i[a||t]=ST(e))}const a=(e,t)=>ox.forEach(e,(e,n)=>r(e,n,t));if(ox.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(ox.isString(e)&&(e=Ob(e).call(e))&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(Ob(s=e).call(s)))a((e=>{const t={};let n,i,r;return e&&e.split("\n").forEach(function(e){var a,s;r=e.indexOf(":"),n=Ob(a=e.substring(0,r)).call(a).toLowerCase(),i=Ob(s=e.substring(r+1)).call(s),!n||t[n]&&xT[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t})(e),t);else if(ox.isObject(e)&&ox.isIterable(e)){let n,i,r={};for(const t of e){if(!ox.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[i=t[0]]=(n=r[i])?ox.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(r,t)}else null!=e&&r(t,e,n);var s;return this}get(e,t){if(e=ET(e)){const n=ox.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(ox.isFunction(t))return t.call(this,e,n);if(ox.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ET(e)){const n=ox.findKey(this,e);return!(!n||void 0===this[n]||t&&!CT(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function r(e){if(e=ET(e)){const r=ox.findKey(n,e);!r||t&&!CT(0,n[r],r,t)||(delete n[r],i=!0)}}return ox.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const r=t[n];e&&!CT(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return ox.forEach(this,(i,r)=>{var a;const s=ox.findKey(n,r);if(s)return t[s]=ST(i),void delete t[r];const o=e?function(e){return Ob(e).call(e).toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):Ob(a=String(r)).call(a);o!==r&&delete t[r],t[o]=ST(i),n[o]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ox.forEach(this,(n,i)=>{null!=n&&!1!==n&&(t[i]=e&&ox.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[wT]=this[wT]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=ET(e);t[i]||(function(e,t){const n=ox.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[i]=!0)}return ox.isArray(e)?e.forEach(i):i(e),this}}TT.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ox.reduceDescriptors(TT.prototype,(e,t)=>{let{value:n}=e,i=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[i]=e}}}),ox.freezeMethods(TT);var NT=TT;function AT(e,t){const n=this||yT,i=t||n,r=NT.from(i.headers);let a=i.data;return ox.forEach(e,function(e){a=e.call(n,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function kT(e){return!(!e||!e.__CANCEL__)}function RT(e,t,n){lx.call(this,null==e?"canceled":e,lx.ERR_CANCELED,t,n),this.name="CanceledError"}function IT(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new lx("Request failed with status code "+n.status,[lx.ERR_BAD_REQUEST,lx.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}ox.inherits(RT,lx,{__CANCEL__:!0});const OT=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0;const r=function(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r,a=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=i[s];r||(r=l),n[a]=o,i[a]=l;let d=s,u=0;for(;d!==a;)u+=n[d++],d%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),l-r<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}}(50,250);return function(e,t){let n,i,r=0,a=1e3/t;const s=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=a,n=null,i&&(clearTimeout(i),i=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-r;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=a?s(l,e):(n=l,i||(i=setTimeout(()=>{i=null,s(n)},a-t)))},()=>n&&s(n)]}(n=>{const a=n.loaded,s=n.lengthComputable?n.total:void 0,o=a-i,l=r(o);i=a,e({loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},jT=(e,t)=>{const n=null!=e;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},PT=e=>function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return ox.asap(()=>e(...n))};var DT=xC.hasStandardBrowserEnv?((e,t)=>n=>(n=new xv(n,xC.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new xv(xC.origin),xC.navigator&&/(msie|trident)/i.test(xC.navigator.userAgent)):()=>!0,LT=xC.hasStandardBrowserEnv?{write(e,t,n,i,r,a){const s=[e+"="+encodeURIComponent(t)];ox.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ox.isString(i)&&s.push("path="+i),ox.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function MT(e,t,n){let i=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(i||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}function UT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}const FT=e=>e instanceof NT?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UT(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e):e;function BT(e,t){t=t||{};const n={};function i(e,t,n,i){return ox.isPlainObject(e)&&ox.isPlainObject(t)?ox.merge.call({caseless:i},e,t):ox.isPlainObject(t)?ox.merge({},t):ox.isArray(t)?t.slice():t}function r(e,t,n,r){return ox.isUndefined(t)?ox.isUndefined(e)?void 0:i(void 0,e,0,r):i(e,t,0,r)}function a(e,t){if(!ox.isUndefined(t))return i(void 0,t)}function s(e,t){return ox.isUndefined(t)?ox.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function o(n,r,a){return a in t?i(n,r):a in e?i(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,n)=>r(FT(e),FT(t),0,!0)};return ox.forEach(Object.keys(Object.assign({},e,t)),function(i){const a=l[i]||r,s=a(e[i],t[i],i);ox.isUndefined(s)&&a!==o||(n[i]=s)}),n}var VT=e=>{const t=BT({},e);let n,{data:i,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=NT.from(o),t.url=yx(MT(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ox.isFormData(i))if(xC.hasStandardBrowserEnv||xC.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(n=o.getContentType())){const[e,...t]=n?n.split(";").map(e=>Ob(e).call(e)).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(xC.hasStandardBrowserEnv&&(r&&ox.isFunction(r)&&(r=r(t)),r||!1!==r&&DT(t.url))){const e=a&&s&&LT.read(s);e&&o.set(a,e)}return t},zT="undefined"!=typeof XMLHttpRequest&&function(e){return new np(function(t,n){const i=VT(e);let r=i.data;const a=NT.from(i.headers).normalize();let s,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=i;function m(){c&&c(),d&&d(),i.cancelToken&&i.cancelToken.unsubscribe(s),i.signal&&i.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function g(){if(!f)return;const i=NT.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());IT(function(e){t(e),m()},function(e){n(e),m()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:i,config:e,request:f}),f=null}f.open(i.method.toUpperCase(),i.url,!0),f.timeout=i.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new lx("Request aborted",lx.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new lx("Network Error",lx.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const r=i.transitional||wx;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),n(new lx(t,r.clarifyTimeoutError?lx.ETIMEDOUT:lx.ECONNABORTED,e,f)),f=null},void 0===r&&a.setContentType(null),"setRequestHeader"in f&&ox.forEach(a.toJSON(),function(e,t){f.setRequestHeader(t,e)}),ox.isUndefined(i.withCredentials)||(f.withCredentials=!!i.withCredentials),u&&"json"!==u&&(f.responseType=i.responseType),p&&([l,d]=OT(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,c]=OT(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(s=t=>{f&&(n(!t||t.type?new RT(null,e,f):t),f.abort(),f=null)},i.cancelToken&&i.cancelToken.subscribe(s),i.signal&&(i.signal.aborted?s():i.signal.addEventListener("abort",s)));const _=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(i.url);_&&-1===xC.protocols.indexOf(_)?n(new lx("Unsupported protocol "+_+":",lx.ERR_BAD_REQUEST,e)):f.send(r||null)})},HT=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,i=new AbortController;const r=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;i.abort(t instanceof lx?t:new RT(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,r(new lx("timeout ".concat(t," of ms exceeded"),lx.ETIMEDOUT))},t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:o}=i;return o.unsubscribe=()=>ox.asap(s),o}},WT=i(tp),GT=lw.f("asyncIterator"),qT=i(GT);function YT(e,t){this.v=e,this.k=t}function XT(e){return function(){return new KT(e.apply(this,arguments))}}function KT(e){var t,n;function i(t,n){try{var a=e[t](n),s=a.value,o=s instanceof YT;WT.resolve(o?s.v:s).then(function(n){if(o){var l="return"===t?"return":"next";if(!s.k||n.done)return i(l,n);n=e[l](n).value}r(a.done?"return":"normal",n)},function(e){i("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new WT(function(a,s){var o={key:e,arg:r,resolve:a,reject:s,next:null};n?n=n.next=o:(t=n=o,i(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function JT(e){return new YT(e,0)}function ZT(e){var t={},n=!1;function i(t,i){return n=!0,i=new WT(function(n){n(e[t](i))}),{done:!1,value:new YT(i,1)}}return t[void 0!==sC&&oC||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):i("return",e)}),t}KT.prototype["function"==typeof sC&&qT||"@@asyncIterator"]=function(){return this},KT.prototype.next=function(e){return this._invoke("next",e)},KT.prototype.throw=function(e){return this._invoke("throw",e)},KT.prototype.return=function(e){return this._invoke("return",e)};var QT=i(GT);function $T(e){var t,n,i,r=2;for("undefined"!=typeof Symbol&&(n=QT,i=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new eN(t.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function eN(e){function t(e){if(Object(e)!==e)return np.reject(new TypeError(e+" is not an object."));var t=e.done;return np.resolve(e.value).then(function(e){return{value:e,done:t}})}return eN=function(e){this.s=e,this.n=e.next},eN.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?np.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?np.reject(e):t(n.apply(this.s,arguments))}},new eN(e)}const tN=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let i,r=0;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},nN=function(){var e=XT(function*(e,t){var n,i=!1,r=!1;try{for(var a,s=$T(iN(e));i=!(a=yield JT(s.next())).done;i=!1){const e=a.value;yield*ZT($T(tN(e,t)))}}catch(e){r=!0,n=e}finally{try{i&&null!=s.return&&(yield JT(s.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),iN=function(){var e=XT(function*(e){if(e[QT])return void(yield*ZT($T(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield JT(t.read());if(e)break;yield n}}finally{yield JT(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),rN=(e,t,n,i)=>{const r=nN(e,t);let a,s=0,o=e=>{a||(a=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:t,value:i}=await r.next();if(t)return o(),void e.close();let a=i.byteLength;if(n){let e=s+=a;n(e)}e.enqueue(new Uint8Array(i))}catch(e){throw o(e),e}},cancel:e=>(o(e),r.return())},{highWaterMark:2})};function aN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function sN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aN(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const oN="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,lN=oN&&"function"==typeof ReadableStream,cN=oN&&("function"==typeof TextEncoder?(dN=new TextEncoder,e=>dN.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var dN;const uN=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return!!e(...n)}catch(e){return!1}},hN=lN&&uN(()=>{let e=!1;const t=new Request(xC.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),pN=lN&&uN(()=>ox.isReadableStream(new Response("").body)),mN={stream:pN&&(e=>e.body)};var fN;oN&&(fN=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!mN[e]&&(mN[e]=ox.isFunction(fN[e])?t=>t[e]():(t,n)=>{throw new lx("Response type '".concat(e,"' is not supported"),lx.ERR_NOT_SUPPORT,n)})}));const gN=async(e,t)=>{const n=ox.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(ox.isBlob(e))return e.size;if(ox.isSpecCompliantForm(e)){const t=new Request(xC.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ox.isArrayBufferView(e)||ox.isArrayBuffer(e)?e.byteLength:(ox.isURLSearchParams(e)&&(e+=""),ox.isString(e)?(await cN(e)).byteLength:void 0)})(t):n};var _N=oN&&(async e=>{let{url:t,method:n,data:i,signal:r,cancelToken:a,timeout:s,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=VT(e);c=c?(c+"").toLowerCase():"text";let p,m=HT([r,a&&a.toAbortSignal()],s);const f=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let g;try{if(l&&hN&&"get"!==n&&"head"!==n&&0!==(g=await gN(d,i))){let e,n=new Request(t,{method:"POST",body:i,duplex:"half"});if(ox.isFormData(i)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=jT(g,OT(PT(l)));i=rN(n.body,65536,e,t)}}ox.isString(u)||(u=u?"include":"omit");const r="credentials"in Request.prototype;p=new Request(t,sN(sN({},h),{},{signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:r?u:void 0}));let a=await fetch(p);const s=pN&&("stream"===c||"response"===c);if(pN&&(o||s&&f)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=a[t]});const t=ox.toFiniteNumber(a.headers.get("content-length")),[n,i]=o&&jT(t,OT(PT(o),!0))||[];a=new Response(rN(a.body,65536,n,()=>{i&&i(),f&&f()}),e)}c=c||"text";let _=await mN[ox.findKey(mN,c)||"text"](a,e);return!s&&f&&f(),await new np((t,n)=>{IT(t,n,{data:_,headers:NT.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:p})})}catch(t){if(f&&f(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new lx("Network Error",lx.ERR_NETWORK,e,p),{cause:t.cause||t});throw lx.from(t,t&&t.code,e,p)}});const vN={http:null,xhr:zT,fetch:_N};ox.forEach(vN,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});const bN=e=>"- ".concat(e),yN=e=>ox.isFunction(e)||null===e||!1===e;var xN={getAdapter:e=>{e=ox.isArray(e)?e:[e];const{length:t}=e;let n,i;const r={};for(let a=0;a<t;a++){let t;if(n=e[a],i=n,!yN(n)&&(i=vN[(t=String(n)).toLowerCase()],void 0===i))throw new lx("Unknown adapter '".concat(t,"'"));if(i)break;r[t||"#"+a]=i}if(!i){const e=Object.entries(r).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});throw new lx("There is no suitable adapter to dispatch the request "+(t?e.length>1?"since :\n"+e.map(bN).join("\n"):" "+bN(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return i},adapters:vN};function wN(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new RT(null,e)}function EN(e){return wN(e),e.headers=NT.from(e.headers),e.data=AT.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),xN.getAdapter(e.adapter||yT.adapter)(e).then(function(t){return wN(e),t.data=AT.call(e,e.transformResponse,t),t.headers=NT.from(t.headers),t},function(t){return kT(t)||(wN(e),t&&t.response&&(t.response.data=AT.call(e,e.transformResponse,t.response),t.response.headers=NT.from(t.response.headers))),np.reject(t)})}const SN="1.9.0",CN={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{CN[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const TN={};CN.transitional=function(e,t,n){function i(e,t){return"[Axios v"+SN+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,a)=>{if(!1===e)throw new lx(i(r," has been removed"+(t?" in "+t:"")),lx.ERR_DEPRECATED);return t&&!TN[r]&&(TN[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},CN.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};var NN={assertOptions:function(e,t,n){if("object"!=typeof e)throw new lx("options must be an object",lx.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const a=i[r],s=t[a];if(s){const t=e[a],n=void 0===t||s(t,a,e);if(!0!==n)throw new lx("option "+a+" must be "+n,lx.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new lx("Unknown option "+a,lx.ERR_BAD_OPTION)}},validators:CN};const AN=NN.validators;let kN=class{constructor(e){this.defaults=e||{},this.interceptors={request:new xx,response:new xx}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=BT(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;void 0!==n&&NN.assertOptions(n,{silentJSONParsing:AN.transitional(AN.boolean),forcedJSONParsing:AN.transitional(AN.boolean),clarifyTimeoutError:AN.transitional(AN.boolean)},!1),null!=i&&(ox.isFunction(i)?t.paramsSerializer={serialize:i}:NN.assertOptions(i,{encode:AN.function,serialize:AN.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),NN.assertOptions(t,{baseUrl:AN.spelling("baseURL"),withXsrfToken:AN.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&ox.merge(r.common,r[t.method]);r&&ox.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=NT.concat(a,r);const s=[];let o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[EN.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),d=e.length,c=np.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let h=t;for(u=0;u<d;){const t=s[u++],n=s[u++];try{h=t(h)}catch(e){n.call(this,e);break}}try{c=EN.call(this,h)}catch(e){return np.reject(e)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return yx(MT((e=BT(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};ox.forEach(["delete","get","head","options"],function(e){kN.prototype[e]=function(t,n){return this.request(BT(n||{},{method:e,url:t,data:(n||{}).data}))}}),ox.forEach(["post","put","patch"],function(e){function t(t){return function(n,i,r){return this.request(BT(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}kN.prototype[e]=t(),kN.prototype[e+"Form"]=t(!0)});var RN=kN;class IN{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new np(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const i=new np(e=>{n.subscribe(e),t=e}).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e(function(e,i,r){n.reason||(n.reason=new RT(e,i,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new IN(function(t){e=t}),cancel:e}}}var ON=IN;const jN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jN).forEach(e=>{let[t,n]=e;jN[n]=t});var PN=jN;const DN=function e(t){const n=new RN(t),i=vy(RN.prototype.request,n);return ox.extend(i,RN.prototype,n,{allOwnKeys:!0}),ox.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(BT(t,n))},i}(yT);DN.Axios=RN,DN.CanceledError=RT,DN.CancelToken=ON,DN.isCancel=kT,DN.VERSION=SN,DN.toFormData=fx,DN.AxiosError=lx,DN.Cancel=DN.CanceledError,DN.all=function(e){return np.all(e)},DN.spread=function(e){return function(t){return e.apply(null,t)}},DN.isAxiosError=function(e){return ox.isObject(e)&&!0===e.isAxiosError},DN.mergeConfig=BT,DN.AxiosHeaders=NT,DN.formToJSON=e=>vT(ox.isHTMLForm(e)?new FormData(e):e),DN.getAdapter=xN.getAdapter,DN.HttpStatusCode=PN,DN.default=DN;var LN=DN;const MN=()=>{};function UN(){const e={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:MN};return e.promise=new np((t,n)=>{e.resolve=n=>{e.isFinished||(e.isResolved=!0,e.isFinished=!0,t(n),e.value=n)},e.reject=t=>{e.isFinished||(e.isRejected=!0,e.isFinished=!0,n(t))}}),e}const FN=new Map,BN=new Map,VN=new Map;let zN=function(e){return e.WIN_10="Windows 10",e.WIN_81="Windows 8.1",e.WIN_8="Windows 8",e.WIN_7="Windows 7",e.WIN_VISTA="Windows Vista",e.WIN_SERVER_2003="Windows Server 2003",e.WIN_XP="Windows XP",e.WIN_2000="Windows 2000",e.ANDROID="Android",e.HARMONY_OS="HarmonyOS",e.OPEN_BSD="Open BSD",e.SUN_OS="Sun OS",e.LINUX="Linux",e.IOS="iOS",e.MAC_OS="Mac OS",e.CHROMIUM_OS="Chromium OS",e.QNX="QNX",e.UNIX="UNIX",e.BEOS="BeOS",e.OS_2="OS/2",e.SEARCH_BOT="Search Bot",e}({}),HN=function(e){return e.CHROME="Chrome",e.SAFARI="Safari",e.EDGE="Edge",e.FIREFOX="Firefox",e.OPERA="OPR",e.QQ="QQBrowser",e.WECHAT="MicroMessenger",e}({});const WN=new Kb;let GN=WN.getResult(),qN=null;function YN(e){if(!qN){e&&WN.setUA(e),GN=WN.getResult();const t=function(e){if("Blink"===e.engine.name&&"WeChat"!==e.browser.name)return HN.CHROME;switch(e.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return HN.CHROME;case"Safari":case"Mobile Safari":return HN.SAFARI;case"Edge":return HN.EDGE;case"Firefox":return HN.FIREFOX;case"QQ":case"QQBrowser":return HN.QQ;case"Opera":return HN.OPERA;case"WeChat":return HN.WECHAT;default:return e.browser.name||""}}(GN),n=XN(GN),i=function(e){return"Windows"===e.os.name?e.os.version?e.os.name+" "+e.os.version:e.os.name:e.os.name||""}(GN),r=GN.os.version,a=XN(GN,!1),s=GN.device.type;if(!(t&&n&&i&&r))return{name:t,version:n,os:i,osVersion:r,browserVersion:a,deviceType:s};qN={name:t,version:n,os:i,osVersion:r,browserVersion:a,deviceType:s}}return qN}function XN(e){let t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t="Blink"===e.engine.name?e.engine.version||"":e.browser.version||"",n?t.split(".")[0]:t}function KN(){return YN().os}function JN(){const e=YN();return"".concat(e.os," ").concat(e.osVersion)}function ZN(){const e=YN();return!!("WebKit"===GN.engine.name&&e.os===zN.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e.name!==HN.SAFARI||iA()&&e.name!==HN.SAFARI)}function QN(){return YN().name===HN.CHROME}function $N(){return YN().name===HN.SAFARI}function eA(){const e=YN();if(e.name!==HN.SAFARI||!e.browserVersion)return!1;const t=e.browserVersion.split(".");return Number(t[0])>15||15===Number(t[0])&&Number(t[1])>=4}function tA(){return YN().name===HN.EDGE}function nA(){return YN().name===HN.FIREFOX}function iA(){return YN().os===zN.IOS}function rA(e){const t=YN();return!(t.name!==HN.CHROME||!t.osVersion)&&Number(t.version)>=e}function aA(e){const t=YN();return!(t.name!==HN.CHROME||!t.osVersion)&&Number(t.version)<e}function sA(e,t,n){const i=YN();return!(i.name!==e||!i.osVersion)&&(n?Number(i.version)>=t&&Number(i.version)<=n:Number(i.version)===t)}function oA(e){const t=YN();return!(t.name!==HN.EDGE||!t.osVersion)&&Number(t.version)>=e}function lA(e){const t=YN();return!(t.name!==HN.FIREFOX||!t.osVersion)&&Number(t.version)>=e}function cA(e){const t=YN();return!(t.name!==HN.SAFARI||!t.osVersion)&&Number(t.version)>=e}function dA(e,t,n){const i=YN();if(i.os!==zN.IOS||!i.osVersion)return!1;const r=i.osVersion.split(".");return n?t&&Number(r[0])===e&&Number(r[1])>t||Number(r[0])>e:t?Number(r[0])===e&&Number(r[1])>=t||Number(r[0])>e:Number(r[0])>=e}function uA(e,t,n){const i=YN();if(i.os!==zN.IOS||!i.osVersion)return!1;const r=i.osVersion.split(".");return n?t&&Number(r[0])===e&&Number(r[1])<t||Number(r[0])<e:t?Number(r[0])===e&&Number(r[1])<=t||Number(r[0])<e:Number(r[0])<=e}function hA(e,t,n){const i=YN();if(i.name!==HN.SAFARI||!i.osVersion||!i.browserVersion)return!1;const r=i.browserVersion.split(".");return n?t&&Number(r[0])===e&&Number(r[1])<t||Number(r[0])<e:t?Number(r[0])===e&&Number(r[1])<=t||Number(r[0])<e:Number(r[0])<=e}function pA(e){const t=YN();return!(t.name!==HN.OPERA||!t.osVersion)&&Number(t.version)>=e}function mA(){const e=YN();if(e.os!==zN.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return Number(t[0])<14||14===Number(t[0])&&Number(t[1])<=6}function fA(){const e=YN();if(e.os!==zN.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])}function gA(){const e=YN();if(e.os!==zN.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 16===Number(t[0])}function _A(){const e=YN();if(e.os!==zN.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=1}function vA(){return $N()&&navigator.maxTouchPoints>0}function bA(){return YN().name===HN.WECHAT}function yA(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}function xA(){const e=KN();return function(){const{deviceType:e}=YN();return"mobile"===e||"tablet"===e}()||e===zN.ANDROID||e===zN.IOS||e===zN.HARMONY_OS}function wA(){const e=YN();return e.name!==HN.EDGE&&e.name!==HN.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function EA(){return KN()===zN.ANDROID}function SA(){const e=YN();return EA()&&(e.name===HN.CHROME||e.name===HN.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}function CA(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function NA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TA(Object(n),!0).forEach(function(t){CA(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let AA=function(e){return e.UNEXPECTED_ERROR="UNEXPECTED_ERROR",e.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",e.TIMEOUT="TIMEOUT",e.INVALID_PARAMS="INVALID_PARAMS",e.NOT_READABLE="NOT_READABLE",e.NOT_SUPPORTED="NOT_SUPPORTED",e.INVALID_OPERATION="INVALID_OPERATION",e.OPERATION_ABORTED="OPERATION_ABORTED",e.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",e.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",e.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",e.DATACHANNEL_FAILED="DATACHANNEL_FAILED",e.NETWORK_ERROR="NETWORK_ERROR",e.NETWORK_TIMEOUT="NETWORK_TIMEOUT",e.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",e.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",e.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",e.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",e.ELECTRON_IS_NULL="ELECTRON_IS_NULL",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",e.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",e.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",e.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",e.TRACK_IS_DISABLED="TRACK_IS_DISABLED",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",e.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",e.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",e.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",e.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",e.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",e.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",e.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",e.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",e.UID_CONFLICT="UID_CONFLICT",e.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",e.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",e.TOKEN_EXPIRE="TOKEN_EXPIRE",e.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",e.INVALID_TRACK="INVALID_TRACK",e.SENDER_NOT_FOUND="SENDER_NOT_FOUND",e.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",e.SET_ANSWER_FAILED="SET_ANSWER_FAILED",e.ICE_FAILED="ICE_FAILED",e.PC_CLOSED="PC_CLOSED",e.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",e.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",e.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",e.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",e.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",e.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",e.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",e.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",e.INVALID_REMOTE_USER="INVALID_REMOTE_USER",e.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",e.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",e.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",e.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",e.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",e.WS_ABORT="WS_ABORT",e.WS_DISCONNECT="WS_DISCONNECT",e.WS_ERR="WS_ERR",e.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",e.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",e.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",e.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",e.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",e.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",e.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",e.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",e.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",e.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",e.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",e.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",e.INVALID_PLUGIN="INVALID_PLUGIN",e.DISCONNECT_P2P="DISCONNECT_P2P",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",e.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",e.CREATE_DATACHANNEL_ERROR="CREATE_DATACHANNEL_ERROR",e.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",e.PROHIBITED_OPERATION="PROHIBITED_OPERATION",e.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",e.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED",e}({}),kA=class extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;super(t),CA(this,"code",void 0),CA(this,"message",void 0),CA(this,"data",void 0),CA(this,"name","AgoraRTCException"),this.code=e,this.message="AgoraRTCError ".concat(this.code,": ").concat(t),this.data=n}toString(){return this.data?"".concat(this.message,"\ndata: ").concat(JSON.stringify(this.data)):this.message}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",t=arguments.length>1?arguments[1]:void 0;return"error"===e&&(t||console).error(this.toString()),"warning"===e&&(t||console).warn(this.toString()),this}throw(e){throw this.print("error",e),this}};function RA(e,t){if("boolean"!=typeof e)throw new kA(AA.INVALID_PARAMS,"Invalid ".concat(t,": The value is of the boolean type."))}function IA(e,t,n){if(!Pi(n).call(n,e))throw new kA(AA.INVALID_PARAMS,"".concat(t," can only be set as ").concat(JSON.stringify(n)))}function OA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(e<n||e>i||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!function(e){return"number"==typeof e&&e%1==0}(e))throw new kA(AA.INVALID_PARAMS,"invalid ".concat(t,": the value range is [").concat(n,", ").concat(i,"]. integer only"))}function jA(e,t){if("number"!=typeof e){if(!(e.min||e.max||e.ideal||e.exact))throw new kA(AA.INVALID_PARAMS,"".concat(t," is not a valid ConstrainLong"));void 0!==e.min&&OA(e.min,"".concat(t,".min"),0,1/0),void 0!==e.max&&OA(e.max,"".concat(t,".max"),1,1/0),void 0!==e.exact&&OA(e.exact,"".concat(t,".exact"),1,1/0),void 0!==e.ideal&&OA(e.ideal,"".concat(t,".ideal"),1,1/0)}else OA(e,t,1,1/0)}function PA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e)throw new kA(AA.INVALID_PARAMS,"".concat(t||"param"," cannot be empty"));if(!MA(e,n,i,r))throw new kA(AA.INVALID_PARAMS,"Invalid ".concat(t||"string param",": Length of the string: [").concat(n,",").concat(i,"].").concat(r?" ASCII characters only.":""))}function DA(e,t){if(!Array.isArray(e))throw new kA(AA.INVALID_PARAMS,"".concat(t," should be an array"))}function LA(e){return null==e}function MA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof e&&e.length<=n&&e.length>=t&&(!i||function(e){if("string"!=typeof e)return!1;for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<0||n>255)return!1}return!0}(e))}var UA=function(e){return e.COVERED="COVERED",e.POSITION="POSITION",e.SIZE="SIZE",e.STYLE="STYLE",e}(UA||{}),FA=function(e){return e.UNMOUNTED="UNMOUNTED",e.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT",e}(FA||{});const BA=new class{constructor(){CA(this,"_clientSize",null),CA(this,"getClientWidth",()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth),CA(this,"getClientHeight",()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight),CA(this,"getStyle",e=>window.getComputedStyle(e,null)),CA(this,"checkCssVisibleProperty",e=>{var t;let n=!0;const i=this.getStyle(e),{display:r,visibility:a,opacity:s,filter:o}=i;return("none"===r||Pi(t=["hidden","collapse"]).call(t,a)||Number(s)<.1)&&(n=!1),!!n&&(o&&o.split(" ").filter(e=>{var t;const n=e.split("(")[0];return Pi(t=["brightness","blur","opacity"]).call(t,n)}).map(e=>{const[t,n]=e.split(/\(|\)/);return[t,Number(n.match(/^[0-9\.]+/))]}).forEach(e=>{const[t,i]=e;switch(t){case"brightness":(i<.1||i>3)&&(n=!1);break;case"blur":i>3&&(n=!1);break;case"opacity":i<.1&&(n=!1)}}),n)}),CA(this,"checkPropertyUpToAllParentNodes",(e,t)=>{let n=!0,i=!0;const r=e=>t(e);let a=e;for(;a&&i;)r(a)||(n=!1,i=!1),a=a.parentElement,a||(i=!1);return n}),CA(this,"checkActualCssVisibleIncludeInherit",e=>this.checkPropertyUpToAllParentNodes(e,this.checkCssVisibleProperty)),CA(this,"getSizeAboutClient",e=>{const{width:t,height:n,left:i,right:r,top:a,bottom:s}=e.getBoundingClientRect(),o=this.getClientWidth(),l=this.getClientHeight();return{width:t,height:n,left:i,right:r,top:a,bottom:s,clientWidth:o,clientHeight:l,clientMin:Math.min(o,l)}}),CA(this,"checkActualSize",()=>{const{width:e,height:t,clientMin:n}=this._clientSize;return this.checkSizeIsVisible(e,t,n)}),CA(this,"elementFromPoint",(e,t)=>document.elementFromPoint?document.elementFromPoint(e,t):null),CA(this,"checkCoverForAPoint",(e,t,n)=>{const i=this.elementFromPoint(e,t);return null!==i&&i!==n}),CA(this,"getPointPositionList",()=>{const{width:e,height:t,left:n,top:i}=this._clientSize,r=e/6,a=t/6,s=[],o=10**6;for(let l=0;l<5;l++)for(let e=0;e<5;e++){const t=(n*o+(0===l?.1:4===l?(r*l*o-1e5)/o:r*l)*o)/o,c=(i*o+(0===e?.1:4===e?(a*e*o-1e5)/o:a*e)*o)/o;s.push({x:t,y:c})}return[...s]}),CA(this,"checkElementCover",e=>this.getPointPositionList().map(t=>this.checkCoverForAPoint(t.x,t.y,e)).filter(e=>!!e).length>6),CA(this,"checkSizeIsVisible",(e,t,n)=>(e>50||n/e<=10)&&(t>50||n/t<=10)),CA(this,"checkSizeOfPartInClient",()=>{const{left:e,right:t,top:n,bottom:i,clientHeight:r,clientWidth:a,clientMin:s}=this._clientSize;let o,l,c,d;if(e<0)o=0;else{if(!(e<a))return!1;o=e}if(t<0)return!1;if(l=t<a?t:a,n<0)c=0;else{if(!(n<r))return!1;c=n}if(i<0)return!1;d=i<r?i:r;const u=l-o,h=d-c;return this.checkSizeIsVisible(u,h,s)}),CA(this,"returnHiddenResult",e=>(this._clientSize=null,{visible:!1,reason:e})),CA(this,"checkOneElementVisible",e=>{if(e instanceof HTMLElement){if(this.checkElementIsMountedOnDom(e)){if(this.checkActualCssVisibleIncludeInherit(e)){if(this._clientSize=this.getSizeAboutClient(e),this.checkElementCover(e))return this.returnHiddenResult(UA.COVERED);{const e=this.checkActualSize(),t=this.checkSizeOfPartInClient();return e&&!t?this.returnHiddenResult(UA.POSITION):e?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(UA.SIZE)}}return this.returnHiddenResult(UA.STYLE)}return this.returnHiddenResult(FA.UNMOUNTED)}return this.returnHiddenResult(FA.INVALID_HTML_ELEMENT)}),CA(this,"checkElementIsMountedOnDom",e=>this.checkPropertyUpToAllParentNodes(e,e=>"HTML"!==e.nodeName.toUpperCase()?null!==e.parentElement:!!document.documentElement))}};function VA(e){return(new TextEncoder).encode(e)}const zA=function(e,t){const n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e),0),n.set(new Uint8Array(t),e.byteLength),n},HA=async e=>function(e,t){let n="";return new Uint8Array(e).forEach(e=>{n+=e.toString(t).padStart(2,"0")}),n}(await crypto.subtle.digest("SHA-256",VA(e)),16);class WA{constructor(){CA(this,"_events",{}),CA(this,"addListener",this.on)}getListeners(e){return this._events[e]?this._events[e].map(e=>e.listener):[]}on(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const n=this._events[e];-1===this._indexOfListener(n,t)&&n.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const n=this._events[e],i=this._indexOfListener(n,t);-1!==i&&n.splice(i,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map(e=>e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];for(let a=0;a<t.length;a+=1){const n=t[a];n.once&&this.off(e,n.listener),n.listener.apply(this,i||[])}}safeEmit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];[...this._events[e]||[]].forEach(t=>{t.once&&this.off(e,t.listener);try{t.listener.apply(this,n)}catch(t){console.error("safeEmit event:".concat(e," error ").concat(null==t?void 0:t.toString()))}})}_indexOfListener(e,t){let n=e.length;for(;n--;)if(e[n].listener===t)return n;return-1}}let GA=null;function qA(){if(GA)return GA;if(window.electron)return GA=window.electron;if(!window.require)return null;try{return GA=window.require("electron"),GA}catch(e){return null}}let YA=function(e){return e.CREATE_CLIENT="createClient",e.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",e.SET_AREA="setArea",e.PRELOAD="PRELOAD",e.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",e.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",e.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",e.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",e.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",e.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",e.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",e.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",e.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",e.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",e.START_PROXY_SERVER="Client.startProxyServer",e.STOP_PROXY_SERVER="Client.stopProxyServer",e.SET_PROXY_SERVER="Client.setProxyServer",e.SET_TURN_SERVER="Client.setTurnServer",e.SET_CLIENT_ROLE="Client.setClientRole",e.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",e.ENABLE_DUAL_STREAM="Client.enableDualStream",e.DISABLE_DUAL_STREAM="Client.disableDualStream",e.JOIN="Client.join",e.LEAVE="Client.leave",e.PUBLISH="Client.publish",e.UNPUBLISH="Client.unpublish",e.SUBSCRIBE="Client.subscribe",e.MASS_SUBSCRIBE="Client.massSubscribe",e.MASS_UNSUBSCRIBE="Client.massUnsubscribe",e.UNSUBSCRIBE="Client.unsubscribe",e.RENEW_TOKEN="Client.renewToken",e.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",e.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",e.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",e.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",e.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",e.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",e.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",e.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",e.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",e.START_LIVE_STREAMING="Client.startLiveStreaming",e.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",e.STOP_LIVE_STREAMING="Client.stopLiveStreaming",e.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",e.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",e.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",e.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",e.SET_CONFIG_DISTRIBUTE="_configDistribute",e.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",e.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",e.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",e.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",e.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",e.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",e.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",e.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",e.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",e.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",e.LOCAL_VIDEO_SEND_SEI_DATA="LocalVideoTrack.sendSeiData",e.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",e.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",e.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",e.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",e.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",e.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",e.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",e.STREAM_TYPE_CHANGE="streamTypeChange",e.CONNECTION_STATE_CHANGE="connectionStateChange",e.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage",e.IMAGE_MODERATION_UPLOAD="imageModerationUpload",e.REPUB_AFTER_PC_CONNECTED="repubAfterPCConnected",e.PRELOAD_MEDIA_FAILED="preloadMediaFailed",e.MISMATCH_DTLS_PARAMETERS="mismatchDtlsParameters",e}({}),XA=function(e){return e.TRACER="tracer",e}({});function KA(e){return OA(e.timeout,"config.timeout",0,1e5),OA(e.timeoutFactor,"config.timeoutFactor",0,100,!1),OA(e.maxRetryCount,"config.maxRetryConfig",0,1/0),OA(e.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}let JA=function(e){return e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY",e}({}),ZA=function(e){return e.LEAVE="LEAVE",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.UID_BANNED="UID_BANNED",e.FALLBACK="FALLBACK",e.IP_BANNED="IP_BANNED",e.CHANNEL_BANNED="CHANNEL_BANNED",e.LICENSE_MISSING="LICENSE_MISSING",e.LICENSE_EXPIRED="LICENSE_EXPIRED",e.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",e.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",e.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",e.LICENSE_ILLEGAL="LICENSE_ILLEGAL",e.TOKEN_EXPIRE="TOKEN_EXPIRE",e}({});function QA(e){if(!Array.isArray(e)||e.length<1)return!1;try{e.forEach(e=>{if(!e.urls)throw Error()})}catch(e){return!1}return!0}function $A(e){return PA(e.turnServerURL,"turnServerURL"),PA(e.username,"username"),PA(e.password,"password"),e.udpport&&OA(e.udpport,"udpport",1,99999,!0),e.forceturn&&RA(e.forceturn,"forceturn"),e.security&&RA(e.security,"security"),e.tcpport&&OA(e.tcpport,"tcpport",1,99999,!0),!0}function ek(e){return void 0!==e.level&&IA(e.level,"level",[1,2,3]),void 0!==e.delay&&OA(e.delay,"delay",0,3e3,!0),!0}let tk=function(e){return e.PEERCONNECTION_STATE_CHANGE="peerconnection-state-change",e.AUDIO_METADATA="audio-metadata",e.AUDIO_PTS="audio-pts",e.CONNECTION_STATE_CHANGE="connection-state-change",e.MEDIA_RECONNECT_START="media-reconnect-start",e.MEDIA_RECONNECT_END="media-reconnect-end",e.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",e.USER_JOINED="user-joined",e.USER_LEAVED="user-left",e.USER_PUBLISHED="user-published",e.USER_UNPUBLISHED="user-unpublished",e.USER_INFO_UPDATED="user-info-updated",e.CLIENT_BANNED="client-banned",e.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",e.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",e.VOLUME_INDICATOR="volume-indicator",e.CRYPT_ERROR="crypt-error",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGED="stream-type-changed",e.STREAM_FALLBACK="stream-fallback",e.RECEIVE_METADATA="receive-metadata",e.STREAM_MESSAGE="stream-message",e.LIVE_STREAMING_ERROR="live-streaming-error",e.LIVE_STREAMING_WARNING="live-streaming-warning",e.EXCEPTION="exception",e.ERROR="error",e.P2P_LOST="p2p_lost",e.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",e.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",e.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",e.PUBLISHED_USER_LIST="published-user-list",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",e.CONTENT_INSPECT_ERROR="content-inspect-error",e.CONTENT_INSPECT_RESULT="content-inspect-result",e.IMAGE_MODERATION_CONNECTION_STATE_CHANGE="image-moderation-connection-state-change",e}({}),nk=function(e){return e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.MULTI_IP="MULTI_IP",e.TIMEOUT="TIMEOUT",e.OFFLINE="OFFLINE",e.LEAVE="LEAVE",e.P2P_FAILED="P2P_FAILED",e.FALLBACK="FALLBACK",e.REGIONAL_DISTRIBUTION="REGIONAL_DISTRIBUTION",e}({}),ik=function(e){return e.ONLINE="ONLINE",e.OFFLINE="OFFLINE",e}({}),rk=function(e){return e.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",e.ONLINE="ONLINE",e.OFFLINE="OFFLINE",e}({});function ak(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return 0===e.getListeners(t).length?np.reject(new kA(AA.UNEXPECTED_ERROR,"can not emit promise")):new np((n,r)=>{e.emit(t,...i,n,r)})}function sk(e,t){if(0===e.getListeners(t).length)return np.resolve();for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return ak(e,t,...i)}function ok(e,t){if(0===e.getListeners(t).length)return null;for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return lk(e,t,...i)}function lk(e,t){let n=null,i=null;for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];if(e.emit(t,...a,e=>{n=e},e=>{i=e}),null!==i)throw i;if(null===n)throw new kA(AA.UNEXPECTED_ERROR,"handler is not sync");return n}const ck=new class extends WA{set networkState(e){this.emit(rk.NETWORK_STATE_CHANGE,e,this._networkState),e===ik.ONLINE?this.emit(rk.ONLINE):e===ik.OFFLINE&&(this.onlineWaiter=new np(e=>{this.once(rk.ONLINE,()=>{this.onlineWaiter=void 0,e(ik.ONLINE)})}),this.emit(rk.OFFLINE)),this._networkState=e}get networkState(){return this._networkState}get isOnline(){return this._networkState===ik.ONLINE}constructor(){super(),CA(this,"_moduleName","network-indicator"),CA(this,"_networkState",ik.ONLINE),CA(this,"onlineWaiter",void 0),window.addEventListener("online",()=>{this.networkState=ik.ONLINE}),window.addEventListener("offline",()=>{this.networkState=ik.OFFLINE})}};function dk(e,t){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}function uk(e){const t=[];return e.forEach(e=>{-1===t.indexOf(e)&&t.push(e)}),t}function hk(e){void 0!==np?np.resolve().then(e):setTimeout(e,0)}function pk(e){return JSON.parse(JSON.stringify(e))}function mk(e){try{return pk(e)}catch(t){return e}}const fk={};function gk(e,t){fk[t]||(fk[t]=!0,e())}function _k(e){const t=window.atob(e),n=new Uint8Array(new ArrayBuffer(t.length));for(let i=0;i<t.length;i+=1)n[i]=t.charCodeAt(i);return n}function vk(e){let t="";for(let n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}function bk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=(new TextEncoder).encode(e);if(n.length>t)n=n.slice(0,t);else if(n.length<t){const e=new Uint8Array(t);e.set(n),n=e}return n}function yk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=rr(t).call(t,(e,t)=>e+t.length,0),r=new Uint8Array(new ArrayBuffer(i));let a=0;return t.forEach(e=>{r.set(e,a),a+=e.length}),r}function xk(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function wk(e){let t=0;return(/DingTalk/i.test(navigator.userAgent)||/AliApp/i.test(navigator.userAgent))&&e.realFormData&&(e=e.realFormData),e.forEach(e=>{t+="string"==typeof e?xk(e):e.size}),t+138}function Ek(e){const t=new kA(AA.TIMEOUT,"timeout");return new np((n,i)=>{window.setTimeout(()=>i(t),e)})}function Sk(e){return new np(t=>{window.setTimeout(t,e)})}function Ck(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const n=Math.random().toString(16).substr(2,e).toLowerCase();return n.length===e?"".concat(t).concat(n):"".concat(t).concat(n)+Ck(e-n.length,"")}function Tk(){return Ck(32,"").toUpperCase()}const Nk=()=>{},Ak=new class{constructor(){CA(this,"fnMap",new Map)}throttleByKey(e,t,n,i){for(var r=arguments.length,a=new Array(r>4?r-4:0),s=4;s<r;s++)a[s-4]=arguments[s];if(this.fnMap.has(t)){const r=this.fnMap.get(t);if(r.threshold!==n){r.fn(...r.args),clearTimeout(r.timer);const s=window.setTimeout(()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)},n);this.fnMap.set(t,{fn:e,threshold:n,timer:s,args:a,skipFn:i})}else r.skipFn&&r.skipFn(...r.args),this.fnMap.set(t,NA(NA({},r),{},{fn:e,args:a,skipFn:i}))}else{const r=window.setTimeout(()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)},n);this.fnMap.set(t,{fn:e,threshold:n,timer:r,args:a,skipFn:i})}}},kk=Ak.throttleByKey.bind(Ak);function Rk(e){return"object"==typeof e&&null!==e&&!(e instanceof RegExp)}function Ik(e,t){if(!Rk(e)||!Rk(t))return t;if(Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))return t;if(Array.isArray(t)&&Array.isArray(e)){const n=[...e];for(let i=0;i<t.length;i++)n[i]=Ik(e[i],t[i]);return n}{const n=NA({},e);for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(Object.prototype.hasOwnProperty.call(e,i)?n[i]=Ik(e[i],t[i]):n[i]=t[i]);return n}}function Ok(e,t){let n=[0];if(t&&(n=new Array(t).fill(0)),0===e)return n;let i=0;for(;e>0&&(n[i]=255&e,e>>=8,i++,!t||i!==t););return n}function jk(e){return"number"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function Pk(e){return rr(e).call(e,(e,t)=>e+t,0)}function Dk(e){const t="0123456789abcdef";function n(e){let n,i="";for(n=0;n<=3;n++)i+=t.charAt(e>>8*n+4&15)+t.charAt(e>>8*n&15);return i}function i(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,n,r,a,s){return i(function(e,t){return e<<t|e>>>32-t}(i(i(t,e),i(r,s)),a),n)}function a(e,t,n,i,a,s,o){return r(t&n|~t&i,e,t,a,s,o)}function s(e,t,n,i,a,s,o){return r(t&i|n&~i,e,t,a,s,o)}function o(e,t,n,i,a,s,o){return r(t^n^i,e,t,a,s,o)}function l(e,t,n,i,a,s,o){return r(n^(t|~i),e,t,a,s,o)}const c=function(e){let t;const n=1+(e.length+8>>6),i=new Array(16*n);for(t=0;t<16*n;t++)i[t]=0;for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<t%4*8;return i[t>>2]|=128<<t%4*8,i[16*n-2]=8*e.length,i}(e);let d,u,h,p,m,f=1732584193,g=-271733879,_=-1732584194,v=271733878;for(d=0;d<c.length;d+=16)u=f,h=g,p=_,m=v,f=a(f,g,_,v,c[d+0],7,-680876936),v=a(v,f,g,_,c[d+1],12,-389564586),_=a(_,v,f,g,c[d+2],17,606105819),g=a(g,_,v,f,c[d+3],22,-1044525330),f=a(f,g,_,v,c[d+4],7,-176418897),v=a(v,f,g,_,c[d+5],12,1200080426),_=a(_,v,f,g,c[d+6],17,-1473231341),g=a(g,_,v,f,c[d+7],22,-45705983),f=a(f,g,_,v,c[d+8],7,1770035416),v=a(v,f,g,_,c[d+9],12,-1958414417),_=a(_,v,f,g,c[d+10],17,-42063),g=a(g,_,v,f,c[d+11],22,-1990404162),f=a(f,g,_,v,c[d+12],7,1804603682),v=a(v,f,g,_,c[d+13],12,-40341101),_=a(_,v,f,g,c[d+14],17,-1502002290),g=a(g,_,v,f,c[d+15],22,1236535329),f=s(f,g,_,v,c[d+1],5,-165796510),v=s(v,f,g,_,c[d+6],9,-1069501632),_=s(_,v,f,g,c[d+11],14,643717713),g=s(g,_,v,f,c[d+0],20,-373897302),f=s(f,g,_,v,c[d+5],5,-701558691),v=s(v,f,g,_,c[d+10],9,38016083),_=s(_,v,f,g,c[d+15],14,-660478335),g=s(g,_,v,f,c[d+4],20,-405537848),f=s(f,g,_,v,c[d+9],5,568446438),v=s(v,f,g,_,c[d+14],9,-1019803690),_=s(_,v,f,g,c[d+3],14,-187363961),g=s(g,_,v,f,c[d+8],20,1163531501),f=s(f,g,_,v,c[d+13],5,-1444681467),v=s(v,f,g,_,c[d+2],9,-51403784),_=s(_,v,f,g,c[d+7],14,1735328473),g=s(g,_,v,f,c[d+12],20,-1926607734),f=o(f,g,_,v,c[d+5],4,-378558),v=o(v,f,g,_,c[d+8],11,-2022574463),_=o(_,v,f,g,c[d+11],16,1839030562),g=o(g,_,v,f,c[d+14],23,-35309556),f=o(f,g,_,v,c[d+1],4,-1530992060),v=o(v,f,g,_,c[d+4],11,1272893353),_=o(_,v,f,g,c[d+7],16,-155497632),g=o(g,_,v,f,c[d+10],23,-1094730640),f=o(f,g,_,v,c[d+13],4,681279174),v=o(v,f,g,_,c[d+0],11,-358537222),_=o(_,v,f,g,c[d+3],16,-722521979),g=o(g,_,v,f,c[d+6],23,76029189),f=o(f,g,_,v,c[d+9],4,-640364487),v=o(v,f,g,_,c[d+12],11,-421815835),_=o(_,v,f,g,c[d+15],16,530742520),g=o(g,_,v,f,c[d+2],23,-995338651),f=l(f,g,_,v,c[d+0],6,-198630844),v=l(v,f,g,_,c[d+7],10,1126891415),_=l(_,v,f,g,c[d+14],15,-1416354905),g=l(g,_,v,f,c[d+5],21,-57434055),f=l(f,g,_,v,c[d+12],6,1700485571),v=l(v,f,g,_,c[d+3],10,-1894986606),_=l(_,v,f,g,c[d+10],15,-1051523),g=l(g,_,v,f,c[d+1],21,-2054922799),f=l(f,g,_,v,c[d+8],6,1873313359),v=l(v,f,g,_,c[d+15],10,-30611744),_=l(_,v,f,g,c[d+6],15,-1560198380),g=l(g,_,v,f,c[d+13],21,1309151649),f=l(f,g,_,v,c[d+4],6,-145523070),v=l(v,f,g,_,c[d+11],10,-1120210379),_=l(_,v,f,g,c[d+2],15,718787259),g=l(g,_,v,f,c[d+9],21,-343485551),f=i(f,u),g=i(g,h),_=i(_,p),v=i(v,m);return n(f)+n(g)+n(_)+n(v)}let Lk=1,Mk=console,Uk=class{static setLogger(e){Mk=e}constructor(e,t){CA(this,"id",void 0),CA(this,"lockingPromise",np.resolve()),CA(this,"locks",0),CA(this,"name",""),CA(this,"lockId",void 0),this.lockId=Lk++,e&&(this.name=e),t&&(this.id=t),this.logger("created")}logger(e,t){const n=(this.id?"[".concat(this.id,"]"):"")+"[lock-".concat(this.name,"-").concat(this.lockId,"]"),i="created"===e?"is ".concat(e,"."):"is ".concat(e,", current queue ").concat(this.locks,". ").concat(null!=t?t:"");Mk.debug("".concat(n," ").concat(i))}setId(e){this.id=e}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1,this.logger("locked",e);const n=new np(n=>{t=()=>{this.locks-=1,this.logger("unlocked",e),n()}}),i=this.lockingPromise.then(()=>t);return this.lockingPromise=this.lockingPromise.then(()=>n),i}};function Fk(e,t){return function(n,i,r){const a=r.value;if("function"!=typeof a)throw new Error("Cannot use mutex on object property.");return r.value=async function(){const n=this[t];if(!n)throw new Error("mutex property key ".concat(t," doesn't exist on ").concat(e));const r=await n.lock("From ".concat(e,".").concat(i));try{for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return await a.apply(this,o)}finally{r()}},r}}const Bk={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function Vk(e,t){const n=Math.floor(t.timeout*Math.pow(t.timeoutFactor,e));return Math.min(t.maxRetryTimeout,n)}function zk(e,t,n,i){const r=Object.assign({},Bk,i);let a=r.timeout;const s=async()=>{await function(e){return new np(t=>{window.setTimeout(t,e)})}(a),a*=r.timeoutFactor,a=Math.min(r.maxRetryTimeout,a)};let o=!1;const l=new np(async(i,a)=>{t=t||(()=>!1),n=n||(()=>!0);for(let l=0;l<r.maxRetryCount;l+=1){if(o)return a(new kA(AA.OPERATION_ABORTED));try{const n=await e();if(!t(n,l))return i(n);if(l+1===r.maxRetryCount)return i(n);await s()}catch(e){if(!n(e,l))return a(e);if(l+1===r.maxRetryCount)return a(e);await s()}}});return l.cancel=()=>o=!0,l}let Hk,Wk=class{constructor(e){CA(this,"input",[]),CA(this,"size",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}mean(){var e;return 0===this.input.length?0:rr(e=this.input).call(e,(e,t)=>e+t)/this.input.length}},Gk=0,qk=0;function Yk(e,t,n,i){return new np((r,a)=>{t.responseType=t.responseType||"json",t.data&&!n?(t.data=JSON.stringify(t.data),Gk+=xk(t.data)):n&&(t.data.size?Gk+=t.data.size:t.data instanceof FormData?Gk+=wk(t.data):Gk+=xk(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,LN.request(t).then(e=>{"string"==typeof e.data?qk+=xk(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?qk+=e.data.byteLength:qk+=xk(JSON.stringify(e.data)),i&&r({data:e.data,headers:e.headers}),r(e.data)}).catch(e=>{LN.isCancel(e)?a(new kA(AA.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?a(new kA(AA.NETWORK_TIMEOUT,e.message)):e.response?a(new kA(AA.NETWORK_RESPONSE_ERROR,e.response.status)):a(new kA(AA.NETWORK_ERROR,e.message))})})}async function Xk(e,t){const n=new Blob([t.data],{type:"buffer"});return await Yk(e,NA(NA({},t),{},{data:n,headers:{"Content-Type":"application/octet-stream"}}),!0)}const Kk=()=>void 0!==window.isSecureContext;function Jk(e){if(Array.isArray(e))return e.map(e=>e);if(!Zk(e))return e;const t={};for(const n in e){const i=e[n];Zk(i)||Array.isArray(i)?t[n]=Jk(i):t[n]=i}return t}function Zk(e){return!("object"!=typeof e||Array.isArray(e)||!e)}let Qk=class{constructor(e){CA(this,"input",[]),CA(this,"size",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}diffMean(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}};const $k={address:"unknown",candidateType:"unknown",id:"unknown",port:0,priority:0,protocol:"unknown",type:"unknown"},eR={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:"unknown",localCandidate:$k,remoteCandidate:$k},updateInterval:0},tR={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0,framesDroppedCount:0,outputFrameRate:0,packetsDiscarded:0,framesAssembledFromMultiplePackets:0,totalProcessingDelay:0,avgDecodeMs:0,avgFramesAssembledFromMultiplePacketsMs:0,avgProcessingDelayMs:0,avgInterFrameDelayMs:0,totalAssemblyTime:0},nR={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},iR={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},rR={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packetsDiscarded:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0,totalSamplesReceived:0,silentConcealedSamples:0,concealmentEvents:0,freezeMs80:0,freezeMs200:0,freezeSamples80:0,freezeSamples200:0};let aR=class{constructor(e,t){CA(this,"onFirstVideoReceived",void 0),CA(this,"onFirstVideoDecoded",void 0),CA(this,"onFirstAudioReceived",void 0),CA(this,"onFirstVideoDecodedTimeout",void 0),CA(this,"onFirstAudioDecoded",void 0),CA(this,"onSelectedLocalCandidateChanged",void 0),CA(this,"onSelectedRemoteCandidateChanged",void 0),CA(this,"videoIsReady",!1),CA(this,"videoIsReady2",{}),CA(this,"pc",void 0),CA(this,"options",void 0),CA(this,"intervalTimer",void 0),CA(this,"stats",Jk(eR)),CA(this,"isFirstVideoReceived",{}),CA(this,"isFirstVideoDecoded",{}),CA(this,"isFirstAudioReceived",{}),CA(this,"isFirstAudioDecoded",{}),CA(this,"isFirstVideoDecodedTimeout",{}),CA(this,"lossRateWindowStats",[]),this.pc=e,this.options=t,this.intervalTimer=window.setInterval(async()=>{this.updateStats()},this.options.updateInterval)}getStats(){return this.stats}getSelectedCandidatePair(){return new np(e=>{e({local:NA({},$k),remote:NA({},$k)})})}setVideoIsReady(e){this.videoIsReady=e}setVideoIsReady2(e,t){this.videoIsReady2[e]=t}getVideoIsReady(e){return this.videoIsReady2[e]||!1}setIsFirstAudioDecoded(e){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0}calcLossRate(e){this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);const t=this.lossRateWindowStats.length,n=["videoSend","audioSend","videoRecv","audioRecv"];let i=0,r=0,a=0,s=0;for(const o of n)e[o].forEach((e,n)=>{if(!this.lossRateWindowStats[t-1][o][n]||!this.lossRateWindowStats[0][o][n])return;const l=this.lossRateWindowStats[t-1][o][n].packets-this.lossRateWindowStats[0][o][n].packets,c=this.lossRateWindowStats[t-1][o][n].packetsLost-this.lossRateWindowStats[0][o][n].packetsLost;"videoSend"===o||"audioSend"===o?(i+=l,a+=c):(r+=l,s+=c),Number.isNaN(l)||Number.isNaN(l)?e.packetLostRate=0:e.packetLostRate=l<=0||c<=0?0:c/(l+c)});e.sendPacketLossRate=i<=0||a<=0?0:a/(i+a),e.recvPacketLossRate=r<=0||s<=0?0:s/(r+s)}},sR=class extends aR{constructor(){super(...arguments),CA(this,"_stats",eR),CA(this,"lastDecodeVideoReceiverStats",new Map)}async updateStats(){const e=await this._getStats(),t=this.statsResponsesToObjects(e);this._stats=Jk(eR);const n=t.filter(e=>"ssrc"===e.type);this.processSSRCStats(n);const i=t.find(e=>"VideoBwe"===e.type);i&&this.processBandwidthStats(i),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}processBandwidthStats(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth)}processSSRCStats(e){e.forEach(e=>{var t;const n=Pi(t=e.id).call(t,"send");switch("".concat(e.mediaType,"_").concat(n?"send":"recv")){case"video_send":{const t=Jk(nR);t.codec=e.googCodecName,t.adaptionChangeReason="none",e.googCpuLimitedResolution&&(t.adaptionChangeReason="cpu"),e.googBandwidthLimitedResolution&&(t.adaptionChangeReason="bandwidth"),t.avgEncodeMs=Number(e.googAvgEncodeMs),t.inputFrame={width:Number(e.googFrameWidthInput)||Number(e.googFrameWidthSent),height:Number(e.googFrameHeightInput)||Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.sentFrame={width:Number(e.googFrameWidthSent),height:Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.firsCount=Number(e.googFirReceived),t.nacksCount=Number(e.googNacksReceived),t.plisCount=Number(e.googPlisReceived),t.frameCount=Number(e.framesEncoded),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.videoSend.push(t),this._stats.rtt=t.rttMs;break}case"video_recv":{const t=Jk(tR),n=this.lastDecodeVideoReceiverStats.get(Number(e.ssrc));if(t.codec=e.googCodecName,t.targetDelayMs=Number(e.googTargetDelayMs),t.renderDelayMs=Number(e.googRenderDelayMs),t.currentDelayMs=Number(e.googCurrentDelayMs),t.minPlayoutDelayMs=Number(e.googMinPlayoutDelayMs),t.decodeMs=Number(e.googDecodeMs),t.maxDecodeMs=Number(e.googMaxDecodeMs),t.receivedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateReceived)},t.decodedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateDecoded)},t.decodeFrameRate=Number(e.googFrameRateDecoded),t.outputFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateOutput)},t.jitterBufferMs=Number(e.googJitterBufferMs),t.firsCount=Number(e.googFirsSent),t.nacksCount=Number(e.googNacksSent),t.plisCount=Number(e.googPlisSent),t.framesDecodeCount=Number(e.framesDecoded),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,t.decodedFrame.width,t.decodedFrame.height),this.isFirstVideoDecoded[t.ssrc]=!0),n){const i=n.stats,r=Date.now()-n.lts;t.framesDecodeFreezeTime=i.framesDecodeFreezeTime,t.framesDecodeInterval=i.framesDecodeInterval,t.framesDecodeCount>i.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(n.lts=Date.now(),t.framesDecodeInterval=r,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc,10))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<n.stats.framesDecodeCount&&(t.framesDecodeInterval=0)}this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:NA({},t),lts:Date.now()}),this._stats.videoRecv.push(t);break}case"audio_recv":{const t=Jk(rR);t.codec=e.googCodecName,t.outputLevel=Math.abs(Number(e.audioOutputLevel))/32767,t.decodingCNG=Number(e.googDecodingCNG),t.decodingCTN=Number(e.googDecodingCTN),t.decodingCTSG=Number(e.googDecodingCTSG),t.decodingNormal=Number(e.googDecodingNormal),t.decodingPLC=Number(e.googDecodingPLC),t.decodingPLCCNG=Number(e.googDecodingPLCCNG),t.expandRate=Number(e.googExpandRate),t.accelerateRate=Number(e.googAccelerateRate),t.preemptiveExpandRate=Number(e.googPreemptiveExpandRate),t.secondaryDecodedRate=Number(e.googSecondaryDecodedRate),t.speechExpandRate=Number(e.googSpeechExpandRate),t.preferredJitterBufferMs=Number(e.googPreferredJitterBufferMs),t.jitterBufferMs=Number(e.googJitterBufferMs),t.jitterMs=Number(e.googJitterReceived),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.receivedFrames=Number(e.googDecodingCTN)||Number(e.packetsReceived),t.droppedFrames=Number(e.googDecodingPLC)+Number(e.googDecodingPLCCNG)||Number(e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.decodingNormal>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),this._stats.audioRecv.push(t);break}case"audio_send":{const t=Jk(iR);t.codec=e.googCodecName,t.inputLevel=Math.abs(Number(e.audioInputLevel))/32767,t.aecReturnLoss=Number(e.googEchoCancellationReturnLoss||0),t.aecReturnLossEnhancement=Number(e.googEchoCancellationReturnLossEnhancement||0),t.residualEchoLikelihood=Number(e.googResidualEchoLikelihood||0),t.residualEchoLikelihoodRecentMax=Number(e.googResidualEchoLikelihoodRecentMax||0),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.rtt=t.rttMs,this._stats.audioSend.push(t);break}}})}_getStats(){return new np((e,t)=>{this.pc.getStats(e,t)})}statsResponsesToObjects(e){const t=[];return e.result().forEach(e=>{const n={id:e.id,timestamp:e.timestamp.valueOf().toString(),type:e.type};e.names().forEach(t=>{n[t]=e.stat(t)}),t.push(n)}),t}},oR=function(e){return e.BANDWIDTH="bandwidth",e.CPU="cpu",e.NONE="none",e.OTHER="other",e}({}),lR=function(e){return e.L1T1="L1T1",e.L1T2="L1T2",e.L1T3="L1T3",e.L1T3_KEY="L1T3_KEY",e.L2T1_KEY="L2T1_KEY",e.L2T2_KEY="L2T2_KEY",e.L2T3_KEY="L2T3_KEY",e.L3T1_KEY="L3T1_KEY",e.L3T2_KEY="L3T2_KEY",e.L3T3_KEY="L3T3_KEY",e}({}),cR=function(e){return e[e.new=0]="new",e[e.connecting=1]="connecting",e[e.connected=2]="connected",e[e.disconnected=3]="disconnected",e[e.failed=4]="failed",e[e.closed=5]="closed",e}({}),dR=function(e){return e.CERTIFICATE="certificate",e.CODEC="codec",e.CANDIDATE_PAIR="candidate-pair",e.LOCAL_CANDIDATE="local-candidate",e.REMOTE_CANDIDATE="remote-candidate",e.INBOUND="inbound-rtp",e.TRACK="track",e.OUTBOUND="outbound-rtp",e.PC="peer-connection",e.REMOTE_INBOUND="remote-inbound-rtp",e.REMOTE_OUTBOUND="remote-outbound-rtp",e.TRANSPORT="transport",e.CSRC="csrc",e.DATA_CHANNEL="data-channel",e.STREAM="stream",e.SENDER="sender",e.RECEIVER="receiver",e}({});var uR=function(e){return e[e.kNone=1]="kNone",e[e.kMillisecondsFromSeconds=1e3]="kMillisecondsFromSeconds",e[e.kBytesToBits=8]="kBytesToBits",e}(uR||{});function hR(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:uR.kNone;if(!t)return;const a=Number(t[n]);if("number"!=typeof a)return;const s=Number(t[i]);if("number"!=typeof s)return;if(!e)return s?a/s*r:void 0;const o=Number(e[n]);if("number"!=typeof o)return;const l=Number(e[i]);if("number"!=typeof l)return;const c=s-l;return c?(a-o)/c*r:void 0}let pR=class extends aR{constructor(){super(...arguments),CA(this,"_stats",eR),CA(this,"report",void 0),CA(this,"lastDecodeVideoReceiverStats",new Map),CA(this,"lastVideoFramesRecv",new Map),CA(this,"lastVideoFramesSent",new Map),CA(this,"lastVideoFramesDecode",new Map),CA(this,"lastVideoFramesOutput",new Map),CA(this,"lastVideoJBDelay",new Map),CA(this,"lastAudioJBDelay",new Map),CA(this,"mediaBytesSent",new Map),CA(this,"mediaBytesRetransmit",new Map),CA(this,"mediaBytesTargetEncode",new Map),CA(this,"lastDecodeAudioReceiverStats",new Map),CA(this,"lastAudioConcealment",new Map),CA(this,"lastEncoderMs",new Map)}async updateStats(){this.report=await this.pc.getStats(),this._stats=Jk(eR),this.report.forEach(e=>{switch(e.type){case dR.OUTBOUND:case dR.INBOUND:{const t=e.mediaType||e.kind,n=!t&&"frameWidth"in e,i=!t&&!("frameWidth"in e);e.type===dR.OUTBOUND?"audio"===t||i?this.processAudioOutboundStats(e):("video"===t||n)&&this.processVideoOutboundStats(e):e.type===dR.INBOUND&&("audio"===t||i?this.processAudioInboundStats(e):("video"===t||n)&&this.processVideoInboundStats(e));break}case dR.TRANSPORT:{const t=this.report.get(e.selectedCandidatePairId);t&&this.processCandidatePairStats(t);break}case dR.CANDIDATE_PAIR:e.selected&&this.processCandidatePairStats(e)}}),this.updateSendBitrate(),this._stats.updateInterval=Date.now()-this.stats.timestamp,this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}async getSelectedCandidatePair(){const e=await this.pc.getStats(),t={local:NA({},$k),remote:NA({},$k)};return e.forEach(n=>{let i;if(n.type===dR.TRANSPORT&&(i=e.get(n.selectedCandidatePairId)),n.type===dR.CANDIDATE_PAIR&&n.selected&&(i=n),i){const n=(e,t)=>{e.type=t.type,e.id=t.id,t.address&&(e.address=t.address),t.candidateType&&(e.candidateType=t.candidateType),t.port&&(e.port=t.port),t.priority&&(e.priority=t.priority),t.protocol&&(e.protocol=t.protocol),t.relayProtocol&&(e.relayProtocol=t.relayProtocol)};if(i.localCandidateId){const r=e.get(i.localCandidateId);r&&n(t.local,r)}if(i.remoteCandidateId){const r=e.get(i.remoteCandidateId);r&&n(t.remote,r)}}}),t}processCandidatePairStats(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach(t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)}),this._stats.audioSend.forEach(t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)}),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){const t=this.report.get(e.localCandidateId);t&&this.processCandidateStats(t)}if(e.remoteCandidateId){const t=this.report.get(e.remoteCandidateId);t&&this.processCandidateStats(t)}}processCandidateStats(e){let t;e.type===dR.LOCAL_CANDIDATE&&(t=this._stats.selectedCandidatePair.localCandidate),e.type===dR.REMOTE_CANDIDATE&&(t=this._stats.selectedCandidatePair.remoteCandidate),t&&(t.type=e.type,t.id=e.id,e.address&&(t.address=e.address),e.candidateType&&(t.candidateType=e.candidateType),e.port&&(t.port=e.port),e.priority&&(t.priority=e.priority),e.protocol&&(t.protocol=e.protocol),e.relayProtocol&&(t.relayProtocol=e.relayProtocol),e.type===dR.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==t.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(NA({},t),NA({},this.stats.selectedCandidatePair.localCandidate)),e.type===dR.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==t.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(NA({},t),NA({},this.stats.selectedCandidatePair.remoteCandidate)))}processAudioInboundStats(e){let t=this._stats.audioRecv.find(t=>t.ssrc===e.ssrc);t||(t=Jk(rR),this._stats.audioRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.packetsDiscarded=e.packetsDiscarded,t.bytes=e.bytesReceived,t.jitterMs=1e3*e.jitter,t.retransmittedBytesReceived=e.retransmittedBytesReceived,t.retransmittedPacketsReceived=e.retransmittedPacketsReceived,t.totalProcessingDelay=e.totalProcessingDelay,t.jitterBufferEmittedCount=e.jitterBufferEmittedCount;const n=this.lastDecodeAudioReceiverStats.get(t.ssrc);t.avgProcessingDelayMs=hR(n,t,"totalProcessingDelay","jitterBufferEmittedCount",uR.kMillisecondsFromSeconds),this.processAudioTrackReceiverStats(e,e.trackId,t),this.calculateAudioFreeze(t,n,e),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),t.receivedFrames||(t.receivedFrames=e.packetsReceived),t.droppedFrames||(t.droppedFrames=e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.outputLevel&&t.outputLevel>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),"number"==typeof e.concealedSamples&&(t.concealedSamples=e.concealedSamples),this.lastDecodeAudioReceiverStats.set(t.ssrc,NA({},t))}calculateAudioFreeze(e,t,n){const i=this.lastAudioConcealment.get(e.ssrc);if(null!=t&&null!=i){const r=i.lts,a=n.timestamp,s=a-r;if(s<=0)return;const o=e.concealedSamples-t.concealedSamples-0,l=i.nonSilent+o,c=e.totalSamplesReceived-t.totalSamplesReceived;if(c<=0)return;const d=80*c/s,u=200*c/s,h=s/c;let p=0;e.freezeSamples80=t.freezeSamples80,e.freezeMs80=t.freezeMs80,l>d&&(i.plc80>0?(e.freezeSamples80+=o,e.freezeMs80+=Math.round(o*h)):(e.freezeSamples80+=l,e.freezeMs80+=Math.round(l*h)),p=i.plc80+1);let m=0;e.freezeSamples200=t.freezeSamples200,e.freezeMs200=t.freezeMs200,l>u&&(i.plc200>0?(e.freezeSamples200+=o,e.freezeMs200+=Math.round(o*h)):(e.freezeSamples200+=l,e.freezeMs200+=Math.round(l*h)),m=i.plc200+1),this.lastAudioConcealment.set(e.ssrc,{nonSilent:o,lts:a,plc80:p,plc200:m})}else e.freezeSamples80=0,e.freezeSamples200=0,e.freezeMs80=0,e.freezeMs200=0,this.lastAudioConcealment.set(e.ssrc,{nonSilent:0,lts:n.timestamp,plc80:0,plc200:0})}processVideoInboundStats(e){let t=this._stats.videoRecv.find(t=>t.ssrc===e.ssrc);t||(t=Jk(tR),this._stats.videoRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.framesDecodeCount=e.framesDecoded,t.framesDroppedCount=e.framesDropped,t.totalInterFrameDelay=e.totalInterFrameDelay,t.totalSquaredInterFrameDelay=e.totalSquaredInterFrameDelay,t.totalFreezesDuration=e.totalFreezesDuration,t.totalProcessingDelay=e.totalProcessingDelay,t.packetsDiscarded=e.packetsDiscarded,t.framesAssembledFromMultiplePackets=e.framesAssembledFromMultiplePackets,t.totalAssemblyTime=e.totalAssemblyTime,t.keyFramesDecoded=e.keyFramesDecoded,t.retransmittedBytesReceived=e.retransmittedBytesReceived,t.retransmittedPacketsReceived=e.retransmittedPacketsReceived;const n=this.lastDecodeVideoReceiverStats.get(t.ssrc),i=this.lastVideoFramesDecode.get(t.ssrc),r=this.lastVideoFramesOutput.get(t.ssrc),a=Date.now();if(t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]){const e=t.decodedFrame?t.decodedFrame.width:0,n=t.decodedFrame?t.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,e,n),this.isFirstVideoDecoded[t.ssrc]=!0}if(n){const i=n.stats,r=a-n.lts;t.framesDecodeFreezeTime=i.framesDecodeFreezeTime,t.framesDecodeInterval=i.framesDecodeInterval,!this.isFirstVideoDecoded[t.ssrc]&&r>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[t.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(t.ssrc),this.isFirstVideoDecodedTimeout[t.ssrc]=!0),t.framesDecodeCount>i.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(n.lts=Date.now(),t.framesDecodeInterval=r,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<i.framesDecodeCount&&(t.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(n.stats.framesDecodeCount>e.framesDecoded?t.qpSumPerFrame=e.qpSum/e.framesDecoded:t.qpSumPerFrame=(e.qpSum-n.qpSum)/(e.framesDecoded-n.stats.framesDecodeCount))}e.totalDecodeTime&&(t.decodeMs=1e3*e.totalDecodeTime,t.avgDecodeMs=hR(null==n?void 0:n.stats,t,"decodeMs","framesDecodeCount")),t.avgProcessingDelayMs=hR(null==n?void 0:n.stats,t,"totalProcessingDelay","framesDecodeCount",uR.kMillisecondsFromSeconds),t.avgFramesAssembledFromMultiplePacketsMs=hR(null==n?void 0:n.stats,t,"totalAssemblyTime","framesAssembledFromMultiplePackets",uR.kMillisecondsFromSeconds),t.avgInterFrameDelayMs=hR(null==n?void 0:n.stats,t,"totalInterFrameDelay","framesDecodeCount",uR.kMillisecondsFromSeconds),i&&a-i.lts>=800?(t.decodeFrameRate=Math.round((t.framesDecodeCount-i.count)/((a-i.lts)/1e3)),this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:a,rate:t.decodeFrameRate})):i?t.decodeFrameRate=i.rate:this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:a,rate:0}),t.framesDroppedCount&&e.framesReceived&&(r&&a-r.lts>=800?(t.outputFrameRate=Math.round((e.framesReceived-t.framesDroppedCount-r.count)/((a-r.lts)/1e3)),this.lastVideoFramesOutput.set(t.ssrc,{count:e.framesReceived-t.framesDroppedCount,lts:a,rate:Math.max(t.outputFrameRate,0)})):r?t.outputFrameRate=r.rate:this.lastVideoFramesOutput.set(t.ssrc,{count:e.framesReceived-t.framesDroppedCount,lts:a,rate:0})),this.processVideoTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(t.framesRateFirefox=e.framerateMean),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:NA({},t),lts:n?n.lts:Date.now(),qpSum:e.qpSum})}processVideoOutboundStats(e){let t=this._stats.videoSend.find(t=>t.ssrc===e.ssrc);t||(t=Jk(nR),this._stats.videoSend.push(t));const n=this.mediaBytesSent.get(e.ssrc);if(n)n.add(e.bytesSent);else{const t=new Qk(10);t.add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,t)}if(void 0!==e.retransmittedBytesSent){const t=this.mediaBytesRetransmit.get(e.ssrc);if(t)t.add(e.retransmittedBytesSent);else{const t=new Qk(10);t.add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,t)}}if(e.totalEncodedBytesTarget){const t=this.mediaBytesTargetEncode.get(e.ssrc);if(t)t.add(e.totalEncodedBytesTarget);else{const t=new Qk(10);t.add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,t)}}if(t.ssrc=e.ssrc,t.bytes=e.bytesSent,t.packets=e.packetsSent,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.frameCount=e.framesEncoded,t.adaptionChangeReason=e.qualityLimitationReason,t.scalabilityMode=e.scalabilityMode,t.retransmittedBytesSent=e.retransmittedBytesSent,t.retransmittedPacketsSent=e.retransmittedPacketsSent,t.hugeFramesSent=e.hugeFramesSent,t.keyFramesEncoded=e.keyFramesEncoded,t.targetBitrate=e.targetBitrate,e.totalEncodeTime&&e.framesEncoded){const n=this.lastEncoderMs.get(e.ssrc);if(!n||n.lastFrameCount>e.framesEncoded)t.avgEncodeMs=1e3*e.totalEncodeTime/e.framesEncoded;else{const i=e.framesEncoded-n.lastFrameCount,r=e.totalEncodeTime-n.lastEncoderTime;t.avgEncodeMs=1e3*r/i}}if(e.framesEncoded&&e.qpSum){const n=this.lastEncoderMs.get(e.ssrc);!n||n.lastFrameCount>e.framesEncoded?t.qpSumPerFrame=e.qpSum/e.framesEncoded:t.qpSumPerFrame=(e.qpSum-n.lastQpSum)/(e.framesEncoded-n.lastFrameCount)}if(this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,t),this.processVideoTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const n=this.findRemoteStatsId(e.ssrc,dR.REMOTE_INBOUND);n&&this.processRemoteInboundStats(n,t)}}processAudioOutboundStats(e){let t=this._stats.audioSend.find(t=>t.ssrc===e.ssrc);if(t||(t=Jk(iR),this._stats.audioSend.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsSent,t.bytes=e.bytesSent,t.retransmittedBytesSent=e.retransmittedBytesSent,t.retransmittedPacketsSent=e.retransmittedPacketsSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),this.processAudioTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const n=this.findRemoteStatsId(e.ssrc,dR.REMOTE_INBOUND);n&&this.processRemoteInboundStats(n,t)}}findRemoteStatsId(e,t){var n;const i=Array.from(up(n=this.report).call(n)).find(n=>n.type===t&&n.ssrc===e);return i?i.id:null}processVideoMediaSource(e,t){const n=this.report.get(e);n&&n.width&&n.height&&n.framesPerSecond&&(t.inputFrame={width:n.width,height:n.height,frameRate:n.framesPerSecond})}processAudioMediaSource(e,t){const n=this.report.get(e);n&&(t.inputLevel=n.audioLevel)}processVideoTrackSenderStats(e,t,n){var i,r,a,s;const o=t?this.report.get(t):void 0,l=null!==(i=null==o?void 0:o.framesSent)&&void 0!==i?i:e.framesSent;if("number"!=typeof l)return;let c=null!==(r=null==o?void 0:o.frameWidth)&&void 0!==r?r:e.frameWidth,d=null!==(a=null==o?void 0:o.frameHeight)&&void 0!==a?a:e.frameHeight,u=null!==(s=null==o?void 0:o.framesPerSecond)&&void 0!==s?s:e.framesPerSecond;if("number"==typeof c&&"number"==typeof d||(c=0,d=0),null==u){const e=Date.now(),t=this.lastVideoFramesSent.get(n.ssrc);t&&e-t.lts>=800?(u=Math.round((l-t.count)/((e-t.lts)/1e3)),this.lastVideoFramesSent.set(n.ssrc,{count:l,lts:e,rate:u})):t?u=t.rate:this.lastVideoFramesSent.set(n.ssrc,{count:l,lts:e,rate:0})}n.sentFrame={width:c,height:d,frameRate:Math.max(0,u)}}processVideoTrackReceiverStats(e,t,n){var i,r,a,s,o;const l=t?this.report.get(t):void 0,c=null!==(i=null==l?void 0:l.framesReceived)&&void 0!==i?i:e.framesReceived,d=null!==(r=null==l?void 0:l.frameWidth)&&void 0!==r?r:e.frameWidth,u=null!==(a=null==l?void 0:l.frameHeight)&&void 0!==a?a:e.frameHeight,h=null!==(s=null==l?void 0:l.jitterBufferDelay)&&void 0!==s?s:e.jitterBufferDelay,p=null!==(o=null==l?void 0:l.jitterBufferEmittedCount)&&void 0!==o?o:e.jitterBufferEmittedCount;if("number"==typeof c){const e=this.lastVideoFramesRecv.get(n.ssrc),t=Date.now();n.framesReceivedCount=c;let i=0;e&&t-e.lts>=800?(i=Math.round((c-e.count)/((t-e.lts)/1e3)),this.lastVideoFramesRecv.set(n.ssrc,{count:c,lts:t,rate:i})):e?i=e.rate:this.lastVideoFramesRecv.set(n.ssrc,{count:c,lts:t,rate:0}),n.receivedFrame={width:d||0,height:u||0,frameRate:i||0},n.decodedFrame={width:d||0,height:u||0,frameRate:n.decodeFrameRate||0},n.outputFrame={width:d||0,height:u||0,frameRate:n.outputFrameRate||n.decodeFrameRate||0}}if(h&&p){const e=this.lastVideoJBDelay.get(n.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const i=p-e.jitterBufferEmittedCount;i>0&&(t=1e3*(h-e.jitterBufferDelay)/i),n.jitterBufferMs=t,n.currentDelayMs=Math.round(t),this.lastVideoJBDelay.set(n.ssrc,{jitterBufferDelay:h,jitterBufferEmittedCount:p,jitterBufferMs:n.currentDelayMs})}}processAudioTrackSenderStats(e,t,n){var i,r,a,s;const o=t?this.report.get(t):void 0,l=null!==(i=null!==(r=null==o?void 0:o.echoReturnLoss)&&void 0!==r?r:e.echoReturnLoss)&&void 0!==i?i:0,c=null!==(a=null!==(s=null==o?void 0:o.echoReturnLossEnhancement)&&void 0!==s?s:e.echoReturnLossEnhancement)&&void 0!==a?a:0;n.aecReturnLoss=l,n.aecReturnLossEnhancement=c}processAudioTrackReceiverStats(e,t,n){var i,r,a,s,o,l,c,d,u;const h=t?this.report.get(t):void 0,p=null!==(i=null==h?void 0:h.removedSamplesForAcceleration)&&void 0!==i?i:e.removedSamplesForAcceleration,m=null!==(r=null==h?void 0:h.totalSamplesReceived)&&void 0!==r?r:e.totalSamplesReceived,f=null!==(a=null==h?void 0:h.jitterBufferDelay)&&void 0!==a?a:e.jitterBufferDelay,g=null!==(s=null==h?void 0:h.jitterBufferEmittedCount)&&void 0!==s?s:e.jitterBufferEmittedCount,_=null!==(o=null==h?void 0:h.audioLevel)&&void 0!==o?o:null==e?void 0:e.audioLevel,v=null!==(l=null==h?void 0:h.totalSamplesDuration)&&void 0!==l?l:null==e?void 0:e.totalSamplesDuration,b=null!==(c=null==h?void 0:h.concealedSamples)&&void 0!==c?c:e.concealedSamples,y=null!==(d=null==h?void 0:h.silentConcealedSamples)&&void 0!==d?d:e.silentConcealedSamples,x=null!==(u=null==h?void 0:h.concealmentEvents)&&void 0!==u?u:e.concealmentEvents;if("number"==typeof m&&(n.totalSamplesReceived=m),"number"==typeof y&&(n.silentConcealedSamples=y),"number"==typeof x&&(n.concealmentEvents=x),"number"==typeof b&&(n.concealedSamples=b),p&&m&&(n.accelerateRate=p/m),f&&g){const e=this.lastAudioJBDelay.get(n.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const i=g-e.jitterBufferEmittedCount;i>0&&(t=1e3*(f-e.jitterBufferDelay)/i),n.jitterBufferMs=Math.round(t),this.lastAudioJBDelay.set(n.ssrc,{jitterBufferDelay:f,jitterBufferEmittedCount:g,jitterBufferMs:n.jitterBufferMs})}n.outputLevel=_;let w=1920;v&&m&&(w=m/v/50,n.receivedFrames=Math.round(m/w)),b&&(n.droppedFrames=Math.round(b/w))}processRemoteInboundStats(e,t){const n=this.report.get(e);n&&(t.packetsLost=n.packetsLost,n.roundTripTime&&(t.rttMs=1e3*n.roundTripTime),n.jitter&&(t.jitterMs=1e3*n.jitter),n.timestamp&&(t.timestamp=n.timestamp))}getCodecFromCodecStats(e){const t=this.report.get(e);if(!t)return"";const n=t.mimeType.match(/\/(.*)$/);return n&&n[1]?n[1]:""}updateSendBitrate(){let e=0,t=null,n=null;this.mediaBytesSent.forEach(t=>{e+=t.diffMean()}),this.mediaBytesRetransmit.forEach(e=>{t=null===t?e.diffMean():t+e.diffMean()}),this.mediaBytesTargetEncode.forEach(e=>{n=null===n?e.diffMean():n+e.diffMean()});const i=null!==t?e-t:e;this._stats.bitrate={actualEncoded:8*i/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},null!==t&&(this._stats.bitrate.retransmit=8*t/(this.options.updateInterval/1e3)),null!==n&&(this._stats.bitrate.targetEncoded=8*n/(this.options.updateInterval/1e3))}},mR=class extends aR{updateStats(){return np.resolve()}};function fR(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4;const a=function(){const e=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i);return e&&e[0]?Number(e[0].split("/")[1]):null}();return a?a<76?new sR(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r}):new pR(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r}):function(e){if(!window.RTCStatsReport)return!1;const t=e.getStats();return!!(t instanceof np||function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}(t))}(e)?new pR(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r}):new mR(e,{updateInterval:t,lossRateInterval:n,freezeRateLimit:i,firstVideoDecodedTimeout:r})}const gR="websdk_ng_install_id";function _R(){try{if(AR("INSTALL_ID"))return AR("INSTALL_ID");let e=window.localStorage.getItem(gR);return e||(e=Tk(),window.localStorage.setItem(gR,e)),NR("INSTALL_ID",e),e}catch(e){return}}const vR=function(e){if(e.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return e;const t=e.match(/([0-9]+\.[0-9]+\.[0-9]+)\-([0-9]+)/);if(t&&t[1]&&t[2]){const e=t[1],n=t[2];return"".concat(e,".").concat(n)}return"4.0.0.999"}("4.24.0"),bR=function(){try{return!0===JSON.parse("true")}catch(e){return!0}}();let yR=function(e){return e.Default="default",e.Auto="auto",e.Relay="relay",e.SdRtn="sd-rtn",e}({});const xR=function(){const e="us".concat("erna","me"),t="pa".concat("sswo","rd"),n=["t","s","t"];n.splice(1,0,"e");const i=n.join(""),r=[];for(let o=0;o<6;o++)r.push("1");const a=r.join(""),s={};return s[e]=i,s[t]=a,Object.assign(s,{turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=xR;const wR={ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,ENABLE_USER_LICENSE_CHECK:!0,DISABLE_FEC:void 0,ENABLE_NTP_REPORT:!1,ENABLE_INSTANT_VIDEO:!1,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,ENABLE_LOSSBASED_BWE:!0,ENABLE_AUT_CC:!0,FORCE_ENABLE_AUT_CC:!1,ENABLE_CC_FALLBACK:void 0,SUBSCRIBE_TWCC:!0,PUBLISH_TWCC:!1,ENABLE_SVC_DEFAULT_CODECS:["H264","VP8","VP9","AV1"],SVC:[],ENABLE_FULL_LINK_AV_SYNC:!1,SVC_MODE:null,PRE_SUB_NUM:1,ENABLE_AUT_FEEDBACK:!0,SVC_EXTENDED:["VP9"]},ER={MIN_FRAME_RATE:1,MAX_FRAME_RATE:30,MAX_THRESHOLD_FRAMERATE:30,BITRATE_MIN_THRESHOLD:100,BITRATE_MAX_THRESHOLD:100,MAX_SCALE:5,BWE_SCALE_UP_THRESHOLD:.6,BWE_SCALE_DOWN_THRESHOLD:.6,PERF_SCALE_UP_THRESHOLD:.7,PERF_SCALE_DOWN_THRESHOLD:.6,MOTION_RESOLUTION_FACTOR:.8,MOTION_BITRATE_FACTOR:.6,DETAIL_FRAMERATE_FACTOR:.8,DETAIL_BITRATE_FACTOR:.6,BALANCE_RESOLUTION_FACTOR:.9,BALANCE_FRAMERATE_FACTOR:.9,BALANCE_BITRATE_FACTOR:.6,OVERUSE_TIMES_THRESHOLD:10,UNDERUSE_TIMES_THRESHOLD:40},SR="v4.24.0-0-gf2267710-dirty(7/31/2025, 7:00:42 PM)",CR={ENABLE_EVENT_REPORT:!0,UPLOAD_LOG:!1,ENABLE_AG_ADAPTATION:!0,FORCE_AG_HIGH_FRAMERATE:!1,FORCE_SUPPORT_AG_ADAPTATION:!1,ENCODER_CONFIG_LIMIT:{},CAMERA_CAPTURE_CONFIG:void 0,ENABLE_PRELOAD:!0,NEW_ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,RESTART_SEQUENCE:["udp_tcp_relay","relay"],FIRST_TCP_CANDIDATE:!1,FIRST_TCP_CANDIDATE_INTERVAL:1e3,TURN_DOMAIN:"edge.agora.io",USE_TURN_IP:!0,NEW_TURN_MODE:4,NEW_FORCE_TURN:!1,USE_NEW_RENDER_FREEZE_TIME:!1,ENCODE_EXCEPTION_TIMES:5,ENABLE_ENCODE_EXCEPTION:!0,ENCODE_EXCEPTION_VALIDATE_CODEC:["h264"],VIDEO_ENCODER_CONFIG_LIST:[{width:240,height:180},{width:320,height:240},{width:400,height:300},{width:480,height:360},{width:560,height:420},{width:640,height:480}],DELETE_NEQ_AFTER_USER_LEAVE:!0},TR=NA(NA(NA(NA({},CR),{},{PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,NOT_REPORT_EVENT:[],PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,SHOW_REPORT_USER_INVOKER_LOG:!0,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:250,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,FIRST_H264_PROFILE_LEVEL_ID:"42001f",FIRST_PACKETIZATION_MODE:"",X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,FINGERPRINT:null,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,ENABLE_AUDIO_TOPN:!1,ENABLE_AUDIO_METADATA:!1,ENABLE_AUDIO_PTS:!1,TOPN_SMOOTH_LEVEL:void 0,TOPN_NEW_SPEAKER_DELAY:void 0,TOPN_SWITCH_HOLD_MS:void 0,TOPN_AUDIO_GAIN:void 0,TOPN_SILENCE_THRESHOLD:250,AP_AREA:!0,ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:"edge.agora.io",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,DATASTREAM_MAX_RETRANSMITS:10,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ENABLE_AUDIO_RED:!1,OPUS_PTIME:void 0,AUDIO_DUPLICATE_NUM:void 0,ENABLE_ABSSENDTIME_AS_SENTTS:!0,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],UNSUPPORTED_VIDEO_UPLINK_CODEC:[],UNSUPPORTED_VIDEO_DOWNLINK_CODEC:[],USE_NEW_NETWORK_CONFIG:!1,AUTO_RESET_AUDIO_ROUTE:!1,PLUGIN_INFO:[],OVERUSE_DETECTOR_PARAMS:ER,CUSTOM_ADAPTATION_DEFAULT_MODE:"",HIDE_NO_POSTER:!1,AP_CACHE_NUM:10,AP_UPDATE_INTERVAL:12e4,AP_CACHE_LIFETIME:12e4,MAX_PRELOAD_ASYNC_LENGTH:3,DISABLE_SCREEN_SHARE_REMB:!1},wR),{},{USE_CANDIDATE_FROM_AP_DETAIL:!1,AP_REQUEST_DETAIL:void 0,ENABLE_ROLE_SELECT_EDGE:!1,CLIENT_ROLE_OPTIONS:void 0,COMPATIBLE_SDP_EXTENSION:["gdpr_forbidden"],LIMIT_BITRATE:void 0,EXPERIMENTS:{},USE_PUB_RTX:!0,USE_SUB_RTX:!0,ENABLE_DATASTREAM_2:!1,USE_XR:!0,ENABLE_PREALLOC_PC:!1,ENABLE_PRE_SUB:!1,ENABLE_SVC:!1,ENABLE_PRE_RENDER:!1,FORCE_DISABLE_AUTO_SUB:!1,ENABLE_PRE_SUB_WITH_PRE_PC:!1,PRE_USE_LOCAL_CODECS:!0},{INSTALL_ID:""}),{},{K_MIN_RENDER_DELAY:66,USE_STANDARD_BITRATE_DEFAULT:!1,VIDEO_NEW_BITRATE_RATIO:void 0,VIDEO_STANDARD_BITRATE_VERSION:2,BASELINE_MORE_H264_BITRATE_RATIO:1.1});function NR(e,t,n){var i,r,a;Pi(i=Object.keys(TR)).call(i,e)&&(!n&&Pi(r=Object.keys(RR)).call(r,e)||(TR[e]=t,"ENABLE_VIDEO_SEI"!==e&&"ENABLE_AUDIO_TOPN"!==e&&"ENABLE_AUDIO_METADATA"!==e&&"ENABLE_AUDIO_PTS"!==e||!0!==t||(TR.ENABLE_ENCODED_TRANSFORM=!0),"USE_NEW_NETWORK_CONFIG"===e&&t&&(a=!!t,TR.USE_NEW_NETWORK_CONFIG=a,a&&(TR.WEBCS_DOMAIN=["webrtc2-2.ap.sd-rtn.com"],TR.WEBCS_DOMAIN_BACKUP_LIST=["webrtc2-4.ap.sd-rtn.com"],TR.CDS_AP=["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],TR.ACCOUNT_REGISTER=["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],TR.EVENT_REPORT_DOMAIN="web-2.statscollector.sd-rtn.com",TR.EVENT_REPORT_BACKUP_DOMAIN="statscollector-1.agora.io",TR.GATEWAY_DOMAINS=["edge.sd-rtn.com"])),"ENABLE_PRE_SUB"===e&&t&&(TR.ENABLE_INSTANT_VIDEO=!0,TR.ENABLE_PREALLOC_PC=!0),"ENABLE_SVC"===e&&t&&(TR.ENABLE_AUT_CC=!0),"NEW_FORCE_TURN"===e&&t&&(TR.NEW_TURN_MODE||(TR.NEW_TURN_MODE=4))))}function AR(e){return TR[e]}bR||(TR.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],TR.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],TR.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],TR.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],TR.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],TR.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],TR.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",TR.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",TR.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",TR.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",TR.AREAS=["NORTH_AMERICA","OVERSEA"]);let kR=function(e){return e[e.REALTIME=1]="REALTIME",e}({});const RR={};var IR=function(e){return e.SET_SESSION_ID="SET_SESSION_ID",e.SET_P2P_ID="SET_P2P_id",e.SET_DC_ID="SET_DC_id",e.SET_UID="SET_UID",e.SET_INT_UID="SET_INT_UID",e.SET_PUB_ID="SET_PUB_ID",e.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",e.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",e.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",e.KEY_METRIC_PRELOAD_START="KEY_METRIC_PRELOAD_START",e.KEY_METRIC_PRELOAD_END="KEY_METRIC_PRELOAD_END",e.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",e.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",e.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",e.KEY_METRIC_REQUEST_SUA_END="KEY_METRIC_REQUEST_SUA_END",e.KEY_METRIC_BEFORE_CONNECT="KEY_METRIC_BEFORE_CONNECT",e.KEY_METRIC_PEER_RECEIVER="KEY_METRIC_PEER_RECEIVER",e.KEY_METRIC_SIGNAL_CONNECTED="KEY_METRIC_SIGNAL_CONNECTED",e.KEY_METRIC_JOIN_REQ="KEY_METRIC_JOIN_REQ",e.KEY_METRIC_JOIN_REP="KEY_METRIC_JOIN_REP",e.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",e.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",e.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",e.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",e.KEY_METRIC_FIRST_VIDEO_FRAME_DECODED="KEY_METRIC_FIRST_VIDEO_FRAME_DECODED",e.KEY_METRIC_DESCRIPTION_START="KEY_METRIC_DESCRIPTION_START",e.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",e.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",e.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",e.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",e.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",e.RESET_KEY_METRICS="RESET_KEY_METRICS",e.RESET_FIRST_VIDEO_FRAME_DECODED="RESET_FIRST_VIDEO_FRAME_DECODED",e.SET_USE_P2P="SET_USE_P2P",e.SET_TRANSPORT_TYPE="SET_TRANSPORT_TYPE",e}(IR||{});let OR=function(e){return e.h264="h264",e.h265="h265",e.vp8="vp8",e.vp9="vp9",e.av1="av1",e}({});!function(e){e.opus="opus",e.pcma="pcma",e.pcmu="pcmu",e.g722="g722"}({});const jR=128,PR=96,DR=1e3,LR=10;let MR=0;var UR=(()=>{var e={8:(e,t,n)=>{n.r(t),n.d(t,{Parser:()=>w,Printer:()=>N,parse:()=>I,print:()=>O});const i="\n",r="".concat("\r").concat(i),a=" ";let s;function o(e){return e>="0"&&e<="9"}function l(e){return e>="!"&&e<="~"}function c(e){return l(e)||e>="\x80"&&e<="\xff"}function d(e){return"!"===e||e>="#"&&e<="'"||e>="*"&&e<="+"||e>="-"&&e<="."||e>="0"&&e<="9"||e>="A"&&e<="Z"||e>="^"&&e<="~"}function u(e){return e>="1"&&e<="9"}function h(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"}function p(e){return"d"===e||"h"===e||"m"===e||"s"===e}function m(e){return e>"\x01"&&e<"\t"||e>"\v"&&e<"\f"||e>"\x0e"&&e<"\xff"}function f(e){return h(e)||o(e)||"+"===e||"/"===e}function g(e){return o(e)||h(e)||"+"===e||"/"===e||"-"===e||"_"===e}function _(e){return h(e)||o(e)||"+"===e||"/"===e}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.VERSION="v",e.ORIGIN="o",e.SESSION_NAME="s",e.INFORMATION="i",e.URI="u",e.EMAIL="e",e.PHONE="p",e.CONNECTION="c",e.BANDWIDTH="b",e.TIME="t",e.REPEAT="r",e.ZONE_ADJUSTMENTS="z",e.KEY="k",e.ATTRIBUTE="a",e.MEDIA="m"}(s||(s={}));class x{consumeText(e,t){let n=t;for(;n<e.length;){const t=e[n];if("\0"===t||"\r"===t||t===i)break;n+=1}if(n-t==0)throw new Error("Invalid text, at ".concat(e));return n}consumeUnicastAddress(e,t,n){return this.consumeTill(e,t,a)}consumeOneOrMore(e,t,n){let i=t;for(;n(e[i]);)i++;if(i-t==0)throw new Error("Invalid rule at ".concat(t,"."));return i}consumeSpace(e,t){if(e[t]===a)return t+1;throw new Error("Invalid space at ".concat(t,"."))}consumeIP4Address(e,t){let n=t;for(let i=0;i<4;i++)if(n=this.consumeDecimalUChar(e,n),3!==i){if("."!==e[n])throw new Error("Invalid IP4 address.");n++}return n}consumeDecimalUChar(e,t){let n=t;for(let r=0;r<3&&o(e[n]);r++,n++);if(n-t==0)throw new Error("Invalid decimal uchar.");const i=parseInt(e.slice(t,n));if(i>=0&&i<=255)return n;throw new Error("Invalid decimal uchar")}consumeIP6Address(e,t){let n=this.consumeHexpart(e,t);return":"===e[n]?(n+=1,n=this.consumeIP4Address(e,n),n):n}consumeHexpart(e,t){let n=t;if(":"===e[n]&&":"===e[n+1]){n+=2;try{n=this.consumeHexseq(e,n)}catch(e){}return n}if(n=this.consumeHexseq(e,n),":"===e[n]&&":"===e[n+1]){n+=2;try{n=this.consumeHexseq(e,n)}catch(e){}return n}return n}consumeHexseq(e,t){let n=t;for(;n=this.consumeHex4(e,n),":"===e[n]&&":"!==e[n+1];)n+=1;return n}consumeHex4(e,t){let n=0;for(;n<4;n++)if(!((i=e[t+n])>="0"&&i<="9"||i>="a"&&i<="f"||i>="A"&&i<="F")){if(0===n)throw new Error("Invalid hex 4");break}var i;return t+n}consumeFQDN(e,t){let n=t;for(;o(e[n])||h(e[n])||"-"===e[n]||"."===e[n];)n+=1;if(n-t<4)throw new Error("Invalid FQDN");return n}consumeExtnAddr(e,t){return this.consumeOneOrMore(e,t,c)}consumeMulticastAddress(e,t,n){switch(n){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(e,t);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(e,t);default:try{return this.consumeFQDN(e,t)}catch(n){return this.consumeExtnAddr(e,t)}}}consumeIP6MulticastAddress(e,t){const n=this.consumeHexpart(e,t);return"/"===e[n]?this.consumeInteger(e,n+1):n}consumeIP4MulticastAddress(e,t){let n=t+3;const i=e.slice(t,n),r=parseInt(i);if(r<224||r>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(let a=0;a<3;a++){if("."!==e[n])throw new Error("Invalid IP4 multicast address.");n+=1,n=this.consumeDecimalUChar(e,n)}return"/"===e[n]&&(n+=1),n=this.consumeTTL(e,n),"/"===e[n]&&(n=this.consumeInteger(e,n)),n}consumeInteger(e,t){if(!u(e[t]))throw new Error("Invalid integer.");for(t+=1;o(e[t]);)t+=1;return t}consumeTTL(e,t){if("0"===e[t])return t+1;if(!u(e[t]))throw new Error("Invalid TTL.");t+=1;for(let n=0;n<2&&o(e[t]);n++)t+=1;return t}consumeToken(e,t){return this.consumeOneOrMore(e,t,d)}consumeTime(e,t){let n=t;if("0"===e[n])return n+1;for(u(e[n])&&(n+=1);o(e[n]);)n++;if(n-t<10)throw new Error("Invalid time");return n}consumeAddress(e,t){return this.consumeTill(e,t,a)}consumeTypedTime(e,t){let n=t;return n=this.consumeOneOrMore(e,n,o),p(e[n])?n+1:n}consumeRepeatInterval(e,t){if(!u(e[t]))throw new Error("Invalid repeat interval");for(t+=1;o(e[t]);)t+=1;return p(e[t])&&(t+=1),t}consumePort(e,t){return this.consumeOneOrMore(e,t,o)}consume(e,t,n){for(let i=0;i<n.length;i++){if(t+i>=e.length)throw new Error("consume exceeding value length");if(e[t+i]!==n[i])throw new Error("consume ".concat(n," failed at ").concat(i))}return t+n.length}consumeTill(e,t,n){let i=t;for(;i<e.length&&("string"!=typeof n||e[i]!==n)&&("function"!=typeof n||!n(e[i]));)i++;return i}}class w extends x{constructor(){super(),y(this,"records",[]),y(this,"currentLine",0)}parse(e){const t=this.probeEOL(e);this.records=e.split(t).filter(e=>!!Ob(e).call(e)).map(this.parseLine),this.currentLine=0;const n=this.parseVersion(),i=this.parseOrigin(),r=this.parseSessionName(),a=this.parseInformation(),s=this.parseUri(),o=this.parseEmail(),l=this.parsePhone(),c=this.parseConnection(),d=this.parseBandWidth(),u=this.parseTimeFields(),h=this.parseKey(),p=this.parseSessionAttribute(),m=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:n,origin:i,sessionName:r,information:a,uri:s,emails:o,phones:l,connection:c,bandwidths:d,timeFields:u,key:h,attributes:p,mediaDescriptions:m}}getCurrentRecord(){const e=this.records[this.currentLine];if(!e)throw new Error("Record doesn't exit.");return e}probeEOL(e){for(let t=0;t<e.length;t++)if(e[t]===i)return"\r"===e[t-1]?r:i;throw new Error("Invalid newline character.")}parseLine(e,t){if(e.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");const n=e[0];if("="!==e[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:n,value:e.slice(2),line:t,cur:0}}parseSessionAttribute(){const e=new S;for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==s.ATTRIBUTE)break;const n={attField:this.extractOneOrMore(t,e=>d(e)&&":"!==e),_cur:0};":"===t.value[t.cur]&&(t.cur+=1,n.attValue=this.extractOneOrMore(t,m)),e.parse(n),this.currentLine++}return e.digest()}parseMediaAttributes(e){const t=new C(e);for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==s.ATTRIBUTE)break;const n={attField:this.extractOneOrMore(e,e=>d(e)&&":"!==e),_cur:0};":"===e.value[e.cur]&&(e.cur+=1,n.attValue=this.extractOneOrMore(e,m)),t.parse(n),this.currentLine++}return t.digest()}parseKey(){const e=this.getCurrentRecord();if(e.type===s.KEY){if("prompt"===e.value||"clear:"===e.value||"base64:"===e.value||"uri:"===e.value)return e.value;throw this.currentLine++,new Error("Invalid key.")}}parseZone(){const e=this.getCurrentRecord();if(e.type===s.ZONE_ADJUSTMENTS){const t=[];for(;;)try{const n=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);let i=!1;"-"===e.value[e.cur]&&(i=!0,e.cur+=1);const r=this.extract(e,this.consumeTypedTime);t.push({time:n,typedTime:r,back:i})}catch(e){break}if(0===t.length)throw new Error("Invalid zone adjustments");return this.currentLine++,t}return[]}parseRepeat(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==s.REPEAT)break;{const n=this.extract(t,this.consumeRepeatInterval),i=this.parseTypedTime(t);e.push({repeatInterval:n,typedTimes:i}),this.currentLine++}}return e}parseTypedTime(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeTypedTime))}catch(e){break}if(0===t.length)throw new Error("Invalid typed time.");return t}parseTime(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);const n=this.extract(e,this.consumeTime);return this.currentLine++,{startTime:t,stopTime:n}}parseBandWidth(){const e=[];for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==s.BANDWIDTH)break;{const n=this.extractOneOrMore(t,d);if(":"!==t.value[t.cur])throw new Error("Invalid bandwidth field.");t.cur++;const i=this.extractOneOrMore(t,o);e.push({bwtype:n,bandwidth:i}),this.currentLine++}}return e}parseVersion(){const e=this.getCurrentRecord();if(e.type!==s.VERSION)throw new Error("first sdp record must be version");const t=e.value.slice(0,this.consumeOneOrMore(e.value,0,o));if(t.length!==e.value.length)throw new Error('invalid proto version, "v='.concat(e.value,'"'));return this.currentLine++,t}parseOrigin(){const e=this.getCurrentRecord();if(e.type!==s.ORIGIN)throw new Error("second line of sdp must be origin");const t=this.extractOneOrMore(e,c);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,o);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,o);this.consumeSpaceForRecord(e);const r=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const a=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const l=this.extract(e,this.consumeUnicastAddress);return this.currentLine++,{username:t,sessId:n,sessVersion:i,nettype:r,addrtype:a,unicastAddress:l}}parseSessionName(){const e=this.getCurrentRecord();if(e.type===s.SESSION_NAME){const t=this.extract(e,this.consumeText);return this.currentLine++,t}}parseInformation(){const e=this.getCurrentRecord();if(e.type!==s.INFORMATION)return;const t=this.extract(e,this.consumeText);return this.currentLine++,t}parseUri(){const e=this.getCurrentRecord();if(e.type===s.URI)return this.currentLine++,e.value}parseEmail(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==s.EMAIL)break;e.push(t.value),this.currentLine++}return e}parsePhone(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==s.PHONE)break;e.push(t.value),this.currentLine++}return e}parseConnection(){const e=this.getCurrentRecord();if(e.type===s.CONNECTION){const t=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const i=this.extract(e,this.consumeAddress);return this.currentLine++,{nettype:t,addrtype:n,address:i}}}parseMedia(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeToken);this.consumeSpaceForRecord(e);let n=this.extract(e,this.consumePort);"/"===e.value[e.cur]&&(e.cur+=1,n+=this.extract(e,this.consumeInteger)),this.consumeSpaceForRecord(e);const i=[];for(i.push(this.extract(e,this.consumeToken));"/"===e.value[e.cur];)e.cur+=1,i.push(this.extract(e,this.consumeToken));if(0===i.length)throw new Error("Invalid proto");const r=this.parseFmt(e);return this.currentLine++,{mediaType:t,port:n,protos:i,fmts:r}}parseTimeFields(){const e=[];for(;this.getCurrentRecord().type===s.TIME;){const t=this.parseTime(),n=this.parseRepeat(),i=this.parseZone();e.push({time:t,repeats:n,zones:i})}return e}parseMediaDescription(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.MEDIA;){const t=this.parseMedia(),n=this.parseInformation(),i=this.parseConnections(),r=this.parseBandWidth(),a=this.parseKey(),s=this.parseMediaAttributes(t);e.push({media:t,information:n,connections:i,bandwidths:r,key:a,attributes:s})}return e}parseConnections(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.CONNECTION;)e.push(this.parseConnection());return e}parseFmt(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeToken))}catch(e){break}if(0===t.length)throw new Error("Invalid fmts");return t}extract(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];const a=t.call(this,e.value,e.cur,...i),s=e.value.slice(e.cur,a);return e.cur=a,s}extractOneOrMore(e,t){const n=this.consumeOneOrMore(e.value,e.cur,t),i=e.value.slice(e.cur,n);return e.cur=n,i}consumeSpaceForRecord(e){if(e.value[e.cur]!==a)throw new Error("Invalid space at ".concat(e.cur,"."));e.cur+=1}}class E extends x{constructor(){super(...arguments),y(this,"attributes",void 0),y(this,"digested",!1)}extractOneOrMore(e,t,n){const i=this.consumeOneOrMore(e.attValue,e._cur,t),r=e.attValue.slice(e._cur,i),[a,s]=n||[];if("number"==typeof a&&r.length<a)throw new Error("error in length, should be more or equal than ".concat(a," characters."));if("number"==typeof s&&r.length>s)throw new Error("error in length, should be less or equal than ".concat(s," characters."));return e._cur=i,r}consumeAttributeSpace(e){if(e.attValue[e._cur]!==a)throw new Error("Invalid space at ".concat(e._cur,"."));e._cur+=1}extract(e,t){if(!e.attValue)throw new Error("Nothing to extract from attValue.");for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];const a=t.call(this,e.attValue,e._cur,...i),s=e.attValue.slice(e._cur,a);return e._cur=a,s}atEnd(e){if(!e.attValue)throw new Error;return e._cur>=e.attValue.length}peekChar(e){if(!e.attValue)throw new Error;return e.attValue[e._cur]}peek(e,t){if(!e.attValue)throw new Error;for(let n=0;n<t.length;n++)if(t[n]!==e.attValue[e._cur+n])return!1;return!0}parseIceUfrag(e){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(e,f,[4,256])}parseIcePwd(e){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(e,f,[22,256])}parseIceOptions(e){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");const t=[];for(;!this.atEnd(e);){t.push(this.extractOneOrMore(e,f));try{this.consumeAttributeSpace(e)}catch(t){if(this.atEnd(e))break;throw t}}this.attributes.iceOptions=t}parseFingerprint(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill);this.attributes.fingerprints.push({hashFunction:t,fingerprint:n})}parseExtmap(e){const t=this.extractOneOrMore(e,o);let n;"/"===this.peekChar(e)&&(this.extract(e,this.consume,"/"),n=this.extract(e,this.consumeToken)),this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,a),r=b(b({entry:parseInt(t,10)},n&&{direction:n}),{},{extensionName:i});this.peekChar(e)===a&&(this.consumeAttributeSpace(e),r.extensionAttributes=this.extract(e,this.consumeTill)),this.attributes.extmaps.push(r)}parseSetup(e){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");const t=this.extract(e,this.consumeTill);if("active"!==t&&"passive"!==t&&"actpass"!==t&&"holdconn"!==t)throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=t}}class S extends E{constructor(){super(...arguments),y(this,"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"group":this.parseGroup(e);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"fingerprint":this.parseFingerprint(e);break;case"setup":this.parseSetup(e);break;case"tls-id":this.parseTlsId(e);break;case"identity":this.parseIdentity(e);break;case"extmap":this.parseExtmap(e);break;case"msid-semantic":this.parseMsidSemantic(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing session attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}digest(){return this.digested=!0,this.attributes}parseGroup(e){const t=this.extract(e,this.consumeToken),n=[];for(;!this.atEnd(e)&&this.peekChar(e)===a;)this.consumeAttributeSpace(e),n.push(this.extract(e,this.consumeToken));this.attributes.groups.push({semantic:t,identificationTag:n})}parseIceLite(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}parseTlsId(e){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(e,g)}parseIdentity(e){const t=this.extractOneOrMore(e,_),n=[];for(;!this.atEnd(e)&&this.peekChar(e)===a;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.extract(e,this.consume,"=");const i=this.extractOneOrMore(e,e=>e!==a&&m(e));n.push({name:t,value:i})}this.attributes.identities.push({assertionValue:t,extensions:n})}parseMsidSemantic(e){this.peekChar(e)===a&&this.consumeAttributeSpace(e);const t={semantic:this.extract(e,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(e)}catch(e){break}if("*"===this.peekChar(e)){this.extract(e,this.consume,"*"),t.applyForAll=!0;break}{const n=this.extract(e,this.consumeTill,a);t.identifierList.push(n)}}this.attributes.msidSemantic=t}}class C extends E{constructor(e){super(),y(this,"attributes",void 0),-1!==e.protos.indexOf("RTP")||e.protos.indexOf("rtp"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(e){if(this.digested)throw new Error("already digested");try{switch(e.attField){case"extmap":this.parseExtmap(e);break;case"setup":this.parseSetup(e);break;case"ice-ufrag":this.parseIceUfrag(e);break;case"ice-pwd":this.parseIcePwd(e);break;case"ice-options":this.parseIceOptions(e);break;case"candidate":this.parseCandidate(e);break;case"remote-candidate":this.parseRemoteCandidate(e);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(e);break;case"rtpmap":this.parseRtpmap(e);break;case"ptime":this.parsePtime(e);break;case"maxptime":this.parseMaxPtime(e);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(e);break;case"ssrc":this.parseSSRC(e);break;case"fmtp":this.parseFmtp(e);break;case"rtcp-fb":this.parseRtcpFb(e);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(e);break;case"mid":this.parseMid(e);break;case"msid":this.parseMsid(e);break;case"imageattr":this.parseImageAttr(e);break;case"rid":this.parseRid(e);break;case"simulcast":this.parseSimulcast(e);break;case"sctp-port":this.parseSctpPort(e);break;case"max-message-size":this.parseMaxMessageSize(e);break;case"ssrc-group":this.parseSSRCGroup(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error("parsing media attribute ".concat(e.attField,' error, "a=').concat(e.attField,":").concat(e.attValue,'"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error("attribute parsing error")}parseCandidate(e){const t=this.extractOneOrMore(e,f,[1,32]);this.consumeAttributeSpace(e);const n=this.extractOneOrMore(e,o,[1,5]);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const r=this.extractOneOrMore(e,o,[1,10]);this.consumeAttributeSpace(e);const s=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const c=this.extract(e,this.consumePort);this.consumeAttributeSpace(e),this.extract(e,this.consume,"typ"),this.consumeAttributeSpace(e);const d={foundation:t,componentId:n,transport:i,priority:r,connectionAddress:s,port:c,type:this.extract(e,this.consumeToken),extension:{}};for(this.peek(e," raddr")&&(this.extract(e,this.consume," raddr"),this.consumeAttributeSpace(e),d.relAddr=this.extract(e,this.consumeAddress)),this.peek(e," rport")&&(this.extract(e,this.consume," rport"),this.consumeAttributeSpace(e),d.relPort=this.extract(e,this.consumePort));this.peekChar(e)===a;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e),d.extension[t]=this.extractOneOrMore(e,l)}this.attributes.candidates.push(d)}parseRemoteCandidate(e){const t=[];for(;;){const n=this.extractOneOrMore(e,o,[1,5]);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumePort);t.push({componentId:n,connectionAddress:i,port:r});try{this.consumeAttributeSpace(e)}catch(e){break}}this.attributes.remoteCandidatesList.push(t)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}parseRtpmap(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,"/");this.extract(e,this.consume,"/");const i={encodingName:n,clockRate:this.extractOneOrMore(e,o)};this.atEnd(e)||"/"!==this.peekChar(e)||(this.extract(e,this.consume,"/"),i.encodingParameters=parseInt(this.extract(e,this.consumeTill),10));const r=this.attributes.payloads.find(e=>e.payloadType===parseInt(t,10));r?r.rtpMap=i:this.attributes.payloads.push({payloadType:parseInt(t,10),rtpMap:i,rtcpFeedbacks:[]})}parsePtime(e){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(e,this.consumeTill)}parseMaxPtime(e){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(e,this.consumeTill)}parseDirection(e){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=e.attField}parseSSRC(e){const t=this.extractOneOrMore(e,o);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,":");let i;":"===this.peekChar(e)&&(this.extract(e,this.consume,":"),i=this.extract(e,this.consumeTill));const r=this.attributes.ssrcs.find(e=>e.ssrcId===parseInt(t,10));r?r.attributes[n]=i:this.attributes.ssrcs.push({ssrcId:parseInt(t,10),attributes:{[n]:i}})}parseFmtp(e){const t=this.extract(e,this.consumeTill,a);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill),i={};n.split(";").forEach(e=>{let[t,n]=e.split("=");t=Ob(t).call(t);const r="string"==typeof n?Ob(n).call(n):null;"string"==typeof t&&t.length>0&&(i[t]=r)});const r=this.attributes.payloads.find(e=>e.payloadType===parseInt(t,10));r?r.fmtp={parameters:i}:this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[],fmtp:{parameters:i}})}parseFmtParameters(e){const t={},n=this.extract(e,this.consumeTill,"=");e._cur++;const i=this.extract(e,this.consumeTill,";");for(t[n]=i;";"===e.attValue[e._cur];){const n=this.extract(e,this.consumeTill,"=");e._cur++;const i=this.extract(e,this.consumeTill,";");t[n]=i}return t}parseRtcpFb(e){let t="";t="*"===this.peekChar(e)?this.extract(e,this.consume,"*"):this.extract(e,this.consumeTill,a),this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,a);let i;if("trr-int"===n)i={type:n,interval:this.extract(e,this.consumeTill)};else{const t={type:n};this.peekChar(e)===a&&(this.consumeAttributeSpace(e),t.parameter=this.extract(e,this.consumeToken),this.peekChar(e)===a&&(t.additional=this.extract(e,this.consumeTill))),i=t}if("*"===t)this.attributes.rtcpFeedbackWildcards.push(i);else{const e=this.attributes.payloads.find(e=>e.payloadType===parseInt(t,10));e?e.rtcpFeedbacks.push(i):this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[i]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}parseRTCP(e){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");const t={port:this.extract(e,this.consumePort)};this.peekChar(e)===a&&(this.consumeAttributeSpace(e),t.netType=this.extractOneOrMore(e,d),this.consumeAttributeSpace(e),t.addressType=this.extractOneOrMore(e,d),this.consumeAttributeSpace(e),t.address=this.extract(e,this.consumeAddress)),this.attributes.rtcp=t}parseMsid(e){const t={id:this.extractOneOrMore(e,d,[1,64])};this.peekChar(e)===a&&(this.consumeAttributeSpace(e),t.appdata=this.extractOneOrMore(e,d,[1,64])),this.attributes.msids.push(t)}parseImageAttr(e){this.attributes.imageattr.push(e.attValue)}parseRid(e){const t=this.extractOneOrMore(e,e=>h(e)||o(e)||"_"===e||"-"===e);this.consumeAttributeSpace(e);const n={id:t,direction:this.extract(e,this.consumeToken),params:[]};if(this.peekChar(e)===a){if(this.consumeAttributeSpace(e),this.peek(e,"pt=")){this.extract(e,this.consume,"pt=");const t=[];for(;;){const n=this.extract(e,this.consumeToken);t.push(n);try{this.extract(e,this.consume,",")}catch(e){break}}n.payloads=t,this.peekChar(e)===a&&this.extract(e,this.consume,a)}for(;;){const t=this.extract(e,this.consumeToken);switch(t){case"depend":{const i={type:t,rids:this.extract(e,this.consume,"=").split(",")};n.params.push(i);break}default:{const i={type:t};"="===this.peekChar(e)&&(this.extract(e,this.consume,"="),i.val=this.extract(e,this.consumeTill,";")),n.params.push(i)}}try{this.extract(e,this.consume,";")}catch(e){break}}}this.attributes.rids.push(n)}parseSimulcast(e){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=e.attValue,this.extract(e,this.consumeTill)}parseSctpPort(e){this.attributes.sctpPort=this.extractOneOrMore(e,o,[1,5])}parseMaxMessageSize(e){this.attributes.maxMessageSize=this.extractOneOrMore(e,o,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(e){this.attributes.mid=this.extract(e,this.consumeToken)}parseSSRCGroup(e){const t=this.extract(e,this.consumeToken),n=[];for(;;)try{this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeInteger);n.push(parseInt(t,10))}catch(e){break}this.attributes.ssrcGroups.push({semantic:t,ssrcIds:n})}}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N{constructor(){T(this,"eol",r)}print(e,t){let n="";return t&&(this.eol=t),n+=this.printVersion(e.version),n+=this.printOrigin(e.origin),n+=this.printSessionName(e.sessionName),n+=this.printInformation(e.information),n+=this.printUri(e.uri),n+=this.printEmail(e.emails),n+=this.printPhone(e.phones),n+=this.printConnection(e.connection),n+=this.printBandwidth(e.bandwidths),n+=this.printTimeFields(e.timeFields),n+=this.printKey(e.key),n+=this.printSessionAttributes(e.attributes),n+=this.printMediaDescription(e.mediaDescriptions),n}printVersion(e){return"v=".concat(e).concat(this.eol)}printOrigin(e){return"o=".concat(e.username," ").concat(e.sessId," ").concat(e.sessVersion," ").concat(e.nettype," ").concat(e.addrtype," ").concat(e.unicastAddress).concat(this.eol)}printSessionName(e){return e?"s=".concat(e).concat(this.eol):""}printInformation(e){return e?"i=".concat(e).concat(this.eol):""}printUri(e){return e?"u=".concat(e).concat(this.eol):""}printEmail(e){let t="";for(const n of e)t+="e=".concat(n).concat(this.eol);return t}printPhone(e){let t="";for(const n of e)t+="e=".concat(n).concat(this.eol);return t}printConnection(e){return e?"c=".concat(e.nettype," ").concat(e.addrtype," ").concat(e.address).concat(this.eol):""}printBandwidth(e){let t="";for(const n of e)t+="b=".concat(n.bwtype,":").concat(n.bandwidth).concat(this.eol);return t}printTimeFields(e){let t="";for(const n of e){t+="t=".concat(n.time.startTime," ").concat(n.time.startTime).concat(this.eol);for(const e of n.repeats)t+="r=".concat(e.repeatInterval," ").concat(e.typedTimes.join(" ")).concat(this.eol);n.zoneAdjustments&&(t+="z=",t+="z=".concat(n.zoneAdjustments.map(e=>"".concat(e.time," ").concat(e.back?"-":""," ").concat(e.typedTime)).join(" ")).concat(this.eol),t+=this.eol)}return t}printKey(e){return e?"k=".concat(e).concat(this.eol):""}printAttributes(e){let t="";for(const n of e)t+="a=".concat(n.attField).concat(n.attValue?":".concat(n.attValue):"").concat(this.eol);return t}printMediaDescription(e){let t="";for(const n of e)t+=this.printMedia(n.media),t+=this.printInformation(n.information),t+=this.printConnections(n.connections),t+=this.printBandwidth(n.bandwidths),t+=this.printKey(n.key),t+=this.printMediaAttributes(n);return t}printConnections(e){let t="";for(const n of e)t+=this.printConnection(n);return t}printMedia(e){return"m=".concat(e.mediaType," ").concat(e.port," ").concat(e.protos.join("/")," ").concat(e.fmts.join(" ")).concat(this.eol)}printSessionAttributes(e){return new k(this.eol).print(e)}printMediaAttributes(e){return new R(this.eol).print(e)}}class A{constructor(e){T(this,"eol",void 0),this.eol=e}printIceUfrag(e){return void 0===e?"":"a=ice-ufrag:".concat(e).concat(this.eol)}printIcePwd(e){return void 0===e?"":"a=ice-pwd:".concat(e).concat(this.eol)}printIceOptions(e){return void 0===e?"":"a=ice-options:".concat(e.join(a)).concat(this.eol)}printFingerprints(e){return e.length>0?e.map(e=>"a=fingerprint:".concat(e.hashFunction).concat(a).concat(e.fingerprint)).join(this.eol)+this.eol:""}printExtmap(e){return e.map(e=>"a=extmap:".concat(e.entry).concat(e.direction?"/".concat(e.direction):"").concat(a).concat(e.extensionName).concat(e.extensionAttributes?"".concat(a).concat(e.extensionAttributes):"").concat(this.eol)).join("")}printSetup(e){return void 0===e?"":"a=setup:".concat(e).concat(this.eol)}printUnrecognized(e){return e.map(e=>"a=".concat(e.attField).concat(e.attValue?":".concat(e.attValue):"").concat(this.eol)).join("")}}class k extends A{print(e){let t="";return t+=this.printGroups(e.groups),t+=this.printMsidSemantic(e.msidSemantic),t+=this.printIceLite(e.iceLite),t+=this.printIceUfrag(e.iceUfrag),t+=this.printIcePwd(e.icePwd),t+=this.printIceOptions(e.iceOptions),t+=this.printFingerprints(e.fingerprints),t+=this.printSetup(e.setup),t+=this.printTlsId(e.tlsId),t+=this.printIdentity(e.identities),t+=this.printExtmap(e.extmaps),t+=this.printUnrecognized(e.unrecognized),t}printGroups(e){let t="";return e.length>0&&(t+=e.map(e=>"a=group:".concat(e.semantic).concat(e.identificationTag.map(e=>"".concat(a).concat(e)).join("")).concat(this.eol)).join("")),t}printIceLite(e){return void 0===e?"":"a=ice-lite"+this.eol}printTlsId(e){return e?"a=tls-id:".concat(e).concat(this.eol):""}printIdentity(e){return 0===e.length?"":e.map(e=>"a=identity:".concat(e.assertionValue).concat(e.extensions.map(e=>"".concat(a).concat(e.name).concat(e.value?"=".concat(e.value):"")))).join(this.eol)+this.eol}printMsidSemantic(e){if(!e)return"";let t="a=msid-semantic:".concat(e.semantic);return e.applyForAll?t+="".concat(a,"*"):e.identifierList.length>0&&(t+=e.identifierList.map(e=>"".concat(a).concat(e))),t+this.eol}}class R extends A{print(e){const t=e.attributes;let n="";return n+=this.printRTCP(t.rtcp),n+=this.printIceUfrag(t.iceUfrag),n+=this.printIcePwd(t.icePwd),n+=this.printIceOptions(t.iceOptions),n+=this.printCandidates(t.candidates),n+=this.printRemoteCandidatesList(t.remoteCandidatesList),n+=this.printEndOfCandidates(t.endOfCandidates),n+=this.printFingerprints(t.fingerprints),n+=this.printSetup(t.setup),n+=this.printMid(t.mid),n+=this.printExtmap(t.extmaps),n+=this.printRTPRelated(t),n+=this.printPtime(t.ptime),n+=this.printMaxPtime(t.maxPtime),n+=this.printDirection(t.direction),n+=this.printSSRCGroups(t.ssrcGroups),n+=this.printSSRC(t.ssrcs),n+=this.printRTCPMux(t.rtcpMux),n+=this.printRTCPMuxOnly(t.rtcpMuxOnly),n+=this.printRTCPRsize(t.rtcpRsize),n+=this.printMSId(t.msids),n+=this.printImageattr(t.imageattr),n+=this.printRid(t.rids),n+=this.printSimulcast(t.simulcast),n+=this.printSCTPPort(t.sctpPort),n+=this.printMaxMessageSize(t.maxMessageSize),n+=this.printUnrecognized(t.unrecognized),n}printCandidates(e){return e.map(e=>"a=candidate:".concat(e.foundation).concat(a).concat(e.componentId).concat(a).concat(e.transport).concat(a).concat(e.priority).concat(a).concat(e.connectionAddress).concat(a).concat(e.port).concat(a,"typ").concat(a).concat(e.type).concat(e.relAddr?"".concat(a,"raddr").concat(a).concat(e.relAddr):"").concat(e.relPort?"".concat(a,"rport").concat(a).concat(e.relPort):"").concat(Object.keys(e.extension).map(t=>"".concat(a).concat(t).concat(a).concat(e.extension[t])).join("")).concat(this.eol)).join("")}printRemoteCandidatesList(e){return e.map(e=>"a=remote-candidates:".concat(e.join(a)).concat(this.eol)).join("")}printEndOfCandidates(e){return void 0===e?"":"a=end-of-candidates"+this.eol}printRTPRelated(e){if(!e.payloads)return"";const t=e.payloads;let n="";n+=e.rtcpFeedbackWildcards.map(e=>this.printRTCPFeedback("*",e)).join("");for(const i of t)n+=this.printRtpMap(i.payloadType,i.rtpMap),n+=this.printFmtp(i.payloadType,i.fmtp),n+=i.rtcpFeedbacks.map(e=>this.printRTCPFeedback(i.payloadType,e)).join("");return n}printFmtp(e,t){if(!t)return"";const n=Object.keys(t.parameters);return 1===n.length&&null===t.parameters[n[0]]?"a=fmtp:".concat(e).concat(a).concat(n[0]).concat(this.eol):"a=fmtp:".concat(e).concat(a).concat(Object.keys(t.parameters).map(e=>"".concat(e,"=").concat(t.parameters[e])).join(";")).concat(this.eol)}printRtpMap(e,t){return t?"a=rtpmap:".concat(e).concat(a).concat(t.encodingName,"/").concat(t.clockRate).concat(t.encodingParameters?"/".concat(t.encodingParameters):"").concat(this.eol):""}printRTCPFeedback(e,t){let n="a=rtcp-fb:".concat(e).concat(a),i=t;return"trr-int"===i.type?n+="ttr-int".concat(a).concat(i.interval):(n+="".concat(i.type),i.parameter&&(n+="".concat(a).concat(i.parameter),i.additional&&(n+="".concat(a).concat(i.additional)))),n+this.eol}printPtime(e){return void 0===e?"":"a=ptime:".concat(e).concat(this.eol)}printMaxPtime(e){return void 0===e?"":"a=maxptime:".concat(e).concat(this.eol)}printDirection(e){return void 0===e?"":"a=".concat(e).concat(this.eol)}printSSRC(e){return e.map(e=>Object.keys(e.attributes).map(t=>"a=ssrc:".concat(e.ssrcId.toString(10)).concat(a).concat(t).concat(e.attributes[t]?":".concat(e.attributes[t]):"").concat(this.eol)).join("")).join("")}printRTCPMux(e){return void 0===e?"":"a=rtcp-mux".concat(this.eol)}printRTCPMuxOnly(e){return void 0===e?"":"a=rtcp-mux-only".concat(this.eol)}printRTCPRsize(e){return void 0===e?"":"a=rtcp-rsize".concat(this.eol)}printRTCP(e){if(void 0===e)return"";let t="a=rtcp:".concat(e.port);return e.netType&&(t+="".concat(a).concat(e.netType)),e.addressType&&(t+="".concat(a).concat(e.addressType)),e.address&&(t+="".concat(a).concat(e.address)),t+this.eol}printMSId(e){return e.map(e=>"a=msid:".concat(e.id).concat(e.appdata?"".concat(a).concat(e.appdata):"").concat(this.eol)).join("")}printImageattr(e){return e.map(e=>"a=imageattr:".concat(e).concat(this.eol)).join("")}printRid(e){return e.map(e=>{let t="a=rid:".concat(e.id).concat(a).concat(e.direction);return e.payloads&&(t+="".concat(a,"pt=").concat(e.payloads.join(","))),e.params.length>0&&(t+="".concat(a).concat(e.params.map(e=>"depend"===e.type?"depend=".concat(e.rids.join(",")):"".concat(e.type,"=").concat(e.val)).join(";"))),t+this.eol}).join("")}printSimulcast(e){return void 0===e?"":"a=simulcast:".concat(e).concat(this.eol)}printSCTPPort(e){return void 0===e?"":"a=sctp-port:".concat(e).concat(this.eol)}printMaxMessageSize(e){return void 0===e?"":"a=max-message-size:".concat(e).concat(this.eol)}printMid(e){return void 0===e?"":"a=mid:".concat(e).concat(this.eol)}printSSRCGroups(e){return e.map(e=>"a=ssrc-group:".concat(e.semantic).concat(e.ssrcIds.map(e=>"".concat(a).concat(e.toString(10))).join("")).concat(this.eol)).join("")}}function I(e){return(new w).parse(e)}function O(e,t){return(new N).print(e,t)}}},t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{}};return e[i](r,r.exports,n),r.exports}return n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(8)})();function FR(e){return UR.parse(e)}function BR(e,t){return UR.print(e,t)}var VR=ei("Array","keys"),zR=gi,HR=et,WR=u,GR=VR,qR=Array.prototype,YR={DOMTokenList:!0,NodeList:!0},XR=function(e){var t=e.keys;return e===qR||WR(qR,e)&&t===qR.keys||HR(YR,zR(e))?GR:t},KR=i(XR);function JR(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function QR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZR(Object(n),!0).forEach(function(t){JR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const $R=new class extends WA{constructor(){super(...arguments),JR(this,"currentUploadLogID",0)}reportLogUploadError(e){const{errorRange:t}=e;t[t.length-1]&&t[t.length-1]>this.currentUploadLogID&&(this.currentUploadLogID=t[t.length-1],this.emit("REPORT_LOG_UPLOAD",e))}};class eI{constructor(e){JR(this,"logger",void 0),JR(this,"prefixLists",[]),this.logger=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.debug(...this.prefixLists,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.info(...this.prefixLists,...t)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.warning(...this.prefixLists,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger.error(...this.prefixLists,...t)}prefix(e){return this.prefixLists.push(e),this}popPrefix(){return this.prefixLists.pop(),this}}function tI(){const e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}function nI(){const e=new Date,t=/((\d+:){2}\d+)/.exec((new Date).toUTCString());return t?(null==t?void 0:t[0])+":"+e.getUTCMilliseconds():e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}const iI={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},rI=Date.now(),aI=e=>{for(const t in iI)if(Object.prototype.hasOwnProperty.call(iI,t)&&iI[t]===e)return t;return"DEFAULT"},sI=new class{constructor(){JR(this,"proxyServerURL",void 0),JR(this,"logLevel",iI.DEBUG),JR(this,"uploadState","collecting"),JR(this,"uploadLogWaitingList",[]),JR(this,"uploadLogUploadingList",[]),JR(this,"uploadErrorCount",0),JR(this,"currentLogID",0),JR(this,"url",void 0),JR(this,"extLog",(e,t)=>{this.appendLogToWaitingList(e,...t)})}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=[iI.DEBUG].concat(t);this.log.apply(this,i)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=[iI.INFO].concat(t);this.log.apply(this,i)}warning(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=[iI.WARNING].concat(t);this.log.apply(this,i)}warn(){this.warning(...arguments)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=[iI.ERROR].concat(t);this.log.apply(this,i)}upload(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=[iI.DEBUG].concat(t);this.uploadLog.apply(this,i)}setLogLevel(e){e=Math.min(Math.max(0,e),4),this.logLevel=e}enableLogUpload(){NR("UPLOAD_LOG",!0)}disableLogUpload(){NR("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(e){this.proxyServerURL=e}prefix(e){return new eI(this).prefix(e)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Date.now()-rI<100)return void setTimeout(()=>{this.log(...t)},Date.now()-rI);const i=Math.max(0,Math.min(4,t[0]));if(t[0]=tI()+" Agora-SDK [".concat(aI(i),"]:"),this.appendLogToWaitingList(i,...t),i<this.logLevel)return;const r=tI()+" %cAgora-SDK [".concat(aI(i),"]:");let a=[];if(!AR("USE_NEW_LOG"))switch(i){case iI.DEBUG:a=[r,"color: #64B5F6;"].concat(t.slice(1)),console.log.apply(console,a);break;case iI.INFO:a=[r,"color: #1E88E5; font-weight: bold;"].concat(t.slice(1)),console.log.apply(console,a);break;case iI.WARNING:a=[r,"color: #FB8C00; font-weight: bold;"].concat(t.slice(1)),console.warn.apply(console,a);break;case iI.ERROR:a=[r,"color: #B00020; font-weight: bold;"].concat(t.slice(1)),console.error.apply(console,a)}}uploadLog(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Date.now()-rI<100)return void setTimeout(()=>{this.uploadLog(...t)},Date.now()-rI);const i=Math.max(0,Math.min(4,t[0]));t[0]=tI()+" Agora-SDK [".concat(aI(i),"]:"),this.appendLogToWaitingList(i,...t)}appendLogToWaitingList(e){if(!AR("UPLOAD_LOG"))return;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];Array.isArray(n[0])?n[0][0]=nI()+" Agora-SDK [".concat(aI(e),"]:"):n[0]=nI()+" Agora-SDK [".concat(aI(e),"]:");let r="";n.forEach(e=>{"object"==typeof e&&(e=JSON.stringify(e)),r+="".concat(e," ")}),this.uploadLogWaitingList.push({payload_str:r,log_level:e,log_item_id:this.currentLogID++}),"uploading"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}startUpload(){this.uploadState="uploading",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}async uploadLogs(){const e=this.uploadLogUploadingList,t={sdk_version:vR,process_id:AR("PROCESS_ID"),payload:JSON.stringify(e)};return zk(async()=>{const e=await LN.post(this.url||(this.proxyServerURL?"https://".concat(this.proxyServerURL,"/ls/?h=").concat(AR("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(AR("LOG_UPLOAD_SERVER"),"/upload/v1")),t,{responseType:"text"});if("OK"!==e.data){const t=new Error("unexpected upload log response");throw t.response=e,t}},()=>(this.uploadLogUploadingList=[],!1),t=>{const n={status:-1,message:t.message,errorRange:e.map(e=>e.log_item_id)};return t.response?(n.status=t.response.status,n.data=t.response.data,n.headers=t.response.headers):t.request&&(n.status=t.request.status),$R.reportLogUploadError(n),!0},{timeout:AR("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:AR("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")})}uploadLogInterval(){0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,AR("UPLOAD_LOG_LENGTH_EACH_TIME"))),this.uploadLogs().then(()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout(()=>this.uploadLogInterval(),AR("UPLOAD_LOG_INTERVAL"))}).catch(e=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout(()=>this.uploadLogInterval(),AR("UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1")):window.setTimeout(()=>this.uploadLogInterval(),AR("UPLOAD_LOG_RETRY_INTERVAL_V1"))}))}};var oI;function lI(e){return PA(e.reportId,"params.reportId",0,100,!1),PA(e.category,"params.category",0,100,!1),PA(e.event,"params.event",0,100,!1),PA(e.label,"params.label",0,100,!1),OA(e.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}(oI={}).FREE="free",oI.UPLOADING="uploading",function(e){e[e.MISC=0]="MISC",e[e.INTERNAL_EVENT=1]="INTERNAL_EVENT",e[e.PUBLIC_EVENT=2]="PUBLIC_EVENT",e[e.WEB_EVENT=3]="WEB_EVENT",e[e.INTERNAL_API=4]="INTERNAL_API",e[e.WEB_API=5]="WEB_API",e[e.PUBLIC_API=6]="PUBLIC_API"}({});const cI={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};let dI=function(e){return e.PUBLISH="publish",e.SUBSCRIBE="subscribe",e.WS_COMPRESSOR_INIT="ws_compressor_init",e.SESSION_INIT="session_init",e.JOIN_CHOOSE_SERVER="join_choose_server",e.REQ_USER_ACCOUNT="req_user_account",e.JOIN_GATEWAY="join_gateway",e.REJOIN_GATEWAY="rejoin_gateway",e.STREAM_SWITCH="stream_switch",e.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",e.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",e.FIRST_VIDEO_RECEIVED="first_video_received",e.FIRST_AUDIO_RECEIVED="first_audio_received",e.FIRST_VIDEO_DECODE="first_video_decode",e.FIRST_AUDIO_DECODE="first_audio_decode",e.XLA_PEER_FIRST_VIDEO_FRAME="xla_peer_first_video_frame",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_UPDATE_STREAM="on_update_stream",e.ON_REMOVE_STREAM="on_remove_stream",e.USER_ANALYTICS="req_user_analytics",e.PC_STATS="pc_stats",e.UPDATE_REMOTE_RTPCAPABILITIES="update_remote_rtpCapabilities",e.AB_TEST="ab_test",e}({}),uI=function(e){return e.SESSION="io.agora.pb.Wrtc.Session",e.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",e.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",e.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",e.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",e.PUBLISH="io.agora.pb.Wrtc.Publish",e.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",e.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",e.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",e.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",e.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",e.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",e.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",e.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",e.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",e.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",e.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",e.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",e.XLA_PEER_FIRST_VIDEO_FRAME="io.agora.pb.Wrtc.XLAPeerFirstVideoFrame",e.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",e.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",e.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",e.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",e.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",e.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",e.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",e.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",e.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",e.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",e.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",e.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed",e.PC_STATS="io.agora.pb.Wrtc.PCStats",e.UPDATE_REMOTE_RTPCAPABILITIES="io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities",e.AB_TEST="io.agora.pb.Wrtc.ABTest",e}({});!function(e){e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT"}({});let hI=function(e){return e[e.SESSION=26]="SESSION",e[e.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",e[e.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",e[e.JOIN_GATEWAY=28]="JOIN_GATEWAY",e[e.PUBLISH=30]="PUBLISH",e[e.SUBSCRIBE=29]="SUBSCRIBE",e[e.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",e[e.STREAM_SWITCH=32]="STREAM_SWITCH",e[e.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",e[e.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",e[e.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",e[e.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",e[e.API_INVOKE=41]="API_INVOKE",e[e.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",e[e.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",e[e.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",e[e.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",e[e.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",e[e.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",e[e.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",e[e.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",e[e.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",e[e.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",e[e.WORKER_EVENT=156]="WORKER_EVENT",e[e.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",e[e.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",e[e.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",e[e.USER_ANALYTICS=1e4]="USER_ANALYTICS",e[e.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED",e}({});function pI(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n,i){const r=i.value;if("function"==typeof r){const a=e.className||t.__className__||("AgoraRTCClient"===t.constructor.name?"Client":t.constructor.name);i.value=function(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];let l=s;if(e.argsMap)try{l=e.argsMap(this,...s)}catch(e){sI.warning(e),l=[]}try{JSON.stringify(l)}catch(e){sI.warning("arguments for method ".concat(a,".").concat(String(n)," not serializable for apiInvoke.")),l=[]}const c=(e.report||mI).reportApiInvoke(this._sessionId||null,{id:this._clientId||(null===(t=this.store)||void 0===t?void 0:t.clientId)||this._ID,name:"".concat(a,".").concat(String(n)),options:l,tag:XA.TRACER,reportResult:e.reportResult},e.throttleTime);try{const t=r.apply(this,s);return t instanceof np?t.then(t=>(c.onSuccess(e.reportResult&&t),t)).catch(e=>{throw c.onError(e),e}):(c.onSuccess(e.reportResult&&t),t)}catch(e){throw c.onError(e),e}}}return i}}const mI=new class{constructor(){JR(this,"baseInfoMap",new Map),JR(this,"proxyServer",void 0),JR(this,"eventUploadTimer",void 0),JR(this,"setSessionIdTimer",void 0),JR(this,"url",void 0),JR(this,"sids",new Set),JR(this,"backupUrl",void 0),JR(this,"_appId",void 0),JR(this,"_aid",0),JR(this,"keyEventUploadPendingItems",[]),JR(this,"normalEventUploadPendingItems",[]),JR(this,"apiInvokeUploadPendingItems",[]),JR(this,"apiInvokeCount",0),JR(this,"apiInvokeLoggedCount",0),JR(this,"ltsList",[]),JR(this,"lastSendNormalEventTime",Date.now()),JR(this,"customReportCounterTimer",void 0),JR(this,"customReportCount",0),JR(this,"extApiInvoke",async e=>{for(const t of e){const e=QR(QR({},t),{},{sid:null,invokeId:++this.apiInvokeCount,tag:XA.TRACER});this.sendApiInvoke(e)}}),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),AR("EVENT_REPORT_SEND_INTERVAL")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),AR("EVENT_REPORT_SEND_INTERVAL"))}getBaseInfoBySessionId(e){return this.baseInfoMap.get(e)}setAppId(e){this._appId=e,this._aid=parseInt(e.replace(/[a-fA-F0-9]{8}/g,e=>{let[t,n]=e;return t+n}),16)||0}reportApiInvoke(e,t,n){t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;const i=Date.now();this.apiInvokeCount+=1;const r=this.apiInvokeCount,a=!!AR("SHOW_REPORT_INVOKER_LOG"),s=!!AR("SHOW_REPORT_USER_INVOKER_LOG"),o=a||s&&t.id;o&&(this.apiInvokeLoggedCount+=1);const l=this.apiInvokeLoggedCount;function c(e,n){if(o){let i="[apiInvoke-".concat(l,"]");if(t.id&&(i+="[".concat(t.id,"]")),t.name&&(i+="[".concat(t.name,"]"),t.name===YA.JOIN))return sI.info("".concat(i," ").concat(e));sI.info("".concat(i," ").concat(e),"start"===e?t.options:n||"")}}const d=()=>({tag:t.tag,invokeId:r,sid:e,name:t.name,apiInvokeTime:i,options:t.options,states:t.states||null});c("start");let u=!1;Sk(t.timeout).then(()=>{u||(this.sendApiInvoke(QR(QR({},d()),{},{error:AA.API_INVOKE_TIMEOUT,success:!1})),c("timeout"))});const h=new kA(AA.UNEXPECTED_ERROR,"".concat(t.name,": this api invoke is end"));return{onSuccess:e=>{const i=()=>{if(u)throw h;return u=!0,this.sendApiInvoke(QR(QR({},d()),{},{success:!0},t.reportResult&&{result:e})),c("onSuccess"),e};return n?kk(i,t.name+"Success",n,()=>u=!0):i()},onError:e=>{const i=()=>{if(u)throw e;u=!0,this.sendApiInvoke(QR(QR({},d()),{},{success:!1,error:e})),c("onFailure",e.toString())};return n?kk(i,t.name+"Error",n,()=>u=!0):i()}}}sessionInit(e,t){if(this.baseInfoMap.has(e))return;const n=Date.now(),i=this.createBaseInfo(e,n);i.cname=t.cname;const r=Object.assign({},{willUploadConsoleLog:AR("UPLOAD_LOG"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:bR?"global":"oversea",areas:AR("AREAS")&&AR("AREAS").join(",")},t.extend),{stringUid:a,channelProfile:s,channelMode:o,isABTestSuccess:l,lsid:c,clientRole:d}=t,u=Date.now(),h=QR(QR({},i),{},{eventType:dI.SESSION_INIT,appid:t.appid,browser:navigator.userAgent,buildFormat:t.buildFormat,build:SR,lts:u,elapse:u-n,extend:JSON.stringify(r),mode:t.mode,process:AR("PROCESS_ID"),appType:AR("APP_TYPE"),success:!0,version:vR,stringUid:a,channelProfile:s,channelMode:o,isABTestSuccess:l,lsid:c,clientType:Pi(p=window.navigator.userAgent).call(p,"AgoraWebView")?42:20,clientRole:d,serviceId:AR("PROCESS_ID"),extensionID:AR("PLUGIN_INFO").join(",")||""});var p;this.send({type:uI.SESSION,data:h},!0)}joinChooseServer(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),a=QR(QR({},i),{},{role:t.role,eventType:dI.JOIN_CHOOSE_SERVER,lts:r,eventElapse:t.elapse||r-t.lts,chooseServerAddr:t.csAddr,errorCode:t.ec,elapse:r-n.startTime,success:t.succ,chooseServerAddrList:JSON.stringify(t.serverList),uid:t.uid?parseInt(t.uid):null,cid:t.cid?parseInt(t.cid):null,chooseServerIp:t.csIp||"",opid:t.opid,unilbsServerIds:t.unilbsServerIds,extend:t.extend||void 0,isHttp3:t.isHttp3,corssRegionTagReq:t.corssRegionTagReq||void 0,corssRegionTagRes:t.corssRegionTagRes||void 0,resourceTimingInfo:t.resourceTimingInfo||void 0});this.send({type:uI.JOIN_CHOOSE_SERVER,data:a},!0)}reqUserAccount(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),a=QR(QR({},i),{},{eventType:dI.REQ_USER_ACCOUNT,lts:r,success:t.success,serverAddress:t.serverAddr,stringUid:t.stringUid,uid:t.uid,errorCode:t.errorCode,elapse:t.elapse||r-n.startTime,eventElapse:r-t.lts,extend:JSON.stringify(t.extend)});this.send({type:uI.REQ_USER_ACCOUNT,data:a},!0)}joinGateway(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info;t.vid&&(i.vid=t.vid),i.uid=t.uid,i.cid=t.cid;const r=Date.now(),{firstSuccess:a,addr:s,isProxy:o}=t,l=r-n.startTime,c=QR(QR({},i),{},{eventType:dI.JOIN_GATEWAY,lts:r,gatewayAddr:t.addr,success:t.succ,errorCode:t.ec,errorMsg:t.errorMsg||"",elapse:l,eventElapse:r-t.lts,firstSuccess:a,signalChannel:t.signalChannel,preload:t.preload?1:0,installId:_R(),isABTestSuccess:t.isABTestSuccess?1:0}),d=c.success?1:0;if(t.succ&&(n.lastJoinSuccessTime=r),a)this.send({type:uI.JOIN_GATEWAY,data:c},!0);else{let e;if(s)if(o){const t=s.match(/h=(\d{1,3}-){3}\d{1,3}/g),n=s.match(/p=[0-9]{1,6}/g);e={isSuccess:d,gatewayIp:t&&t.length?t[0].split("=")[1].replace(/-/g,"."):"",port:n&&n.length?n[0].split("=")[1]:"",isProxy:o?1:0}}else{const t=s.match(/wss:\/\/(\d{1,3}-){3}\d{1,3}/g),n=s.match(/(:|p=)[0-9]{1,6}/g);e={isSuccess:d,gatewayIp:t&&t.length?t[0].split("//")[1].replace(/-/g,"."):"",port:n&&n.length?n[0].split(/:|p=/g)[1]:"",isProxy:o?1:0}}else e={isSuccess:d,gatewayIp:"",port:"",isProxy:o?1:0};delete c.success,delete c.eventType,delete c.firstSuccess,c.vid=Number(c.vid);const t=Object.assign({},c,e,{eventType:dI.REJOIN_GATEWAY});this.send({type:uI.RE_JOIN_GATEWAY,data:t},!0)}}joinChannelTimeout(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=Date.now(),r=QR(QR({},n.info),{},{lts:i,timeout:t,elapse:i-n.startTime});this.send({type:uI.JOIN_CHANNEL_TIMEOUT,data:r},!0)}publish(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),a=QR(QR({},i),{},{eventType:dI.PUBLISH,lts:r,eventElapse:t.eventElapse,elapse:r-n.startTime,success:t.succ,errorCode:t.ec,videoName:t.videoName,audioName:t.audioName,screenName:t.screenName,screenshare:t.screenshare,audio:t.audio,video:t.video,p2pid:t.p2pid,publishRequestid:t.publishRequestid});this.send({type:uI.PUBLISH,data:a},!0)}subscribe(e,t,n){const i=this.baseInfoMap.get(e);if(!i)return;const r=i.info,a=Date.now(),s=QR(QR({},r),{},{eventType:dI.SUBSCRIBE,lts:a,eventElapse:t.eventElapse,elapse:a-i.startTime,success:t.succ,errorCode:t.ec,video:t.video,audio:t.audio,subscribeRequestid:t.subscribeRequestid,p2pid:t.p2pid,preSsrc:t.preSsrc?1:0},n&&{extend:JSON.stringify({isMassSubscribe:!0})});"string"==typeof t.peerid?s.peerSuid=t.peerid:s.peer=t.peerid,this.send({type:uI.SUBSCRIBE,data:s},!0)}wsCompressorInit(e){var t;const n=[...KR(t=this.baseInfoMap).call(t)],i=n.length?n[0]:"UnableToGetSid",r=this.baseInfoMap.get(i);if(!r)return;const a=r.info,s=Date.now(),o=QR(QR({},a),{},{eventType:dI.WS_COMPRESSOR_INIT,lts:s,eventElapse:e.eventElapse,elapse:s-r.startTime,status:e.status?1:2});this.send({type:uI.WS_COMPRESSOR_INIT,data:o},!0)}firstXLAPeerFirstVideoFrame(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),a=t.peerPubStatusMs-(n.lastJoinSuccessTime||r),s=QR(QR({},i),{},{elapse:r-n.startTime,eventType:dI.XLA_PEER_FIRST_VIDEO_FRAME,lts:r,peer:t.peer,width:t.width,height:t.height,ssrc:t.ssrc,p2pid:t.p2pid,peerPublishDuration:t.peerPublishDuration,joinChannelSuccessElapse:a,peerPubStatusMs:t.peerPubStatusMs-t.joinChannelStart,availablePublish:t.peerPublishDuration>a?1:0,preloadStart:Math.max(t.preloadStart-t.joinChannelStart,0),preloadEnd:Math.max(t.preloadEnd-t.joinChannelStart,0),encrypt:Math.max(t.apStart-t.joinChannelStart,0),ap:Math.max(t.apEnd-t.joinChannelStart,0),sua:Math.max(t.suaEnd-t.joinChannelStart,0),beforeConnect:Math.max(t.beforeConnect-t.joinChannelStart,0),peerRecevier:Math.max(t.peerReceiver-t.joinChannelStart,0),ice:Math.max(t.ice-t.joinChannelStart,0),pc:Math.max(t.pc-t.joinChannelStart,0),signalConnected:Math.max(t.signalConnected-t.joinChannelStart,0),joinReq:Math.max(t.joinReq-t.joinChannelStart,0),joinRes:Math.max(t.joinRes-t.joinChannelStart,0),userJoinNotify:Math.max(t.userJoinNotify-t.joinChannelStart,0),videoSsrcNotify:Math.max(t.videoAddNotify-t.joinChannelStart,0),subscribeDelayMs:Math.max(t.subscribeStart-t.videoAddNotify,0),subscribeStart:Math.max(t.subscribeStart-t.joinChannelStart,0),subscribeEnd:Math.max(t.subscribeEnd-t.joinChannelStart,0),firstReceived:Math.max(t.firstReceived-t.joinChannelStart,0),firstDecoded:Math.max(t.firstDecoded-t.joinChannelStart,0),firstPreRender:Math.max(t.firstPreRender-t.joinChannelStart,0),firstRender:Math.max(t.firstRender-t.joinChannelStart,0),playDelayMs:Math.max(t.playStart-t.subscribeEnd,0),playStart:Math.max(t.playStart-t.joinChannelStart,0),playEnd:Math.max(t.playEnd-t.joinChannelStart,0),isPreSub:t.isPreSub?1:0,isPrePc:t.isPrePc?1:0,isPreInstantVideo:t.isPreInstantVideo?1:0});this.send({type:uI.XLA_PEER_FIRST_VIDEO_FRAME,data:s},!0)}firstRemoteVideoDecode(e,t,n,i){const r=this.baseInfoMap.get(e);if(!r)return;const a=r.info,s=Date.now(),o=QR(QR(QR({},a),i),{},{elapse:s-r.startTime,eventType:t,lts:s,firstDecodeFrame:Math.max((i.firstFrame||s)-r.startTime,0),apEnd:Math.max(i.apEnd-r.startTime,0),apStart:Math.max(i.apStart-r.startTime,0),joinGwEnd:Math.max(i.joinGwEnd-r.startTime,0),joinGwStart:Math.max(i.joinGwStart-r.startTime,0),pcEnd:Math.max(i.pcEnd-r.startTime,0),pcStart:Math.max(i.pcStart-r.startTime,0),subscriberEnd:Math.max(i.subscriberEnd-r.startTime,0),subscriberStart:Math.max(i.subscriberStart-r.startTime,0),videoAddNotify:Math.max(i.videoAddNotify-r.startTime,0)});this.send({type:n,data:o},!0)}firstRemoteFrame(e,t,n,i){const r=this.baseInfoMap.get(e);if(!r)return;const a=r.info,s=Date.now(),o=QR(QR(QR({},a),i),{},{elapse:s-r.startTime,eventType:t,lts:s});this.send({type:n,data:o},!0)}abTest(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),a=QR(QR(QR({},i),t),{},{vid:void 0===i.vid?0:Number(i.vid),elapse:r-n.startTime,eventType:dI.AB_TEST,lts:r});this.send({type:uI.AB_TEST,data:a},!0)}pcStats(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),a=QR(QR(QR({},i),t),{},{vid:void 0===i.vid?0:Number(i.vid),elapse:r-n.startTime,eventType:dI.PC_STATS,lts:r,preallocation:t.preallocation?1:0});this.send({type:uI.PC_STATS,data:a},!0)}updateRemoteRTPCapabilities(e,t){if(e){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),a=QR(QR(QR({},i),t),{},{vid:void 0===i.vid?0:Number(i.vid),eventType:dI.UPDATE_REMOTE_RTPCAPABILITIES,lts:r});this.send({type:uI.UPDATE_REMOTE_RTPCAPABILITIES,data:a},!0)}}onGatewayStream(e,t,n,i){const r=this.baseInfoMap.get(e);if(!r)return;const a=r.info,s=Date.now(),o=QR(QR(QR({},a),i),{},{eventType:t,lts:s});this.send({type:n,data:o},!0)}streamSwitch(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),a=QR(QR({},i),{},{eventType:dI.STREAM_SWITCH,lts:r,isDual:t.isdual,elapse:r-n.startTime,success:t.succ});this.send({type:uI.STREAM_SWITCH,data:a},!0)}requestProxyAppCenter(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),a=QR(QR({},i),{},{eventType:dI.REQUEST_PROXY_APPCENTER,lts:r,eventElapse:r-t.lts,elapse:r-n.startTime,APAddr:t.APAddr,workerManagerList:t.workerManagerList,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:uI.REQUEST_PROXY_APPCENTER,data:a},!0)}requestProxyWorkerManager(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),a=QR(QR({},i),{},{eventType:dI.REQUEST_PROXY_WORKER_MANAGER,lts:r,eventElapse:r-t.lts,elapse:r-n.startTime,workerManagerAddr:t.workerManagerAddr,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:uI.REQUEST_PROXY_WORKER_MANAGER,data:a},!0)}setProxyServer(e){this.proxyServer=e,e?sI.debug("reportProxyServerurl: ".concat(e)):sI.debug("disable reportProxyServerurl: ".concat(e))}peerPublishStatus(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),a=QR(QR({},i),{},{subscribeElapse:t.subscribeElapse,peer:t.peer,peerPublishDuration:Math.max(t.audioPublishDuration,t.videoPublishDuration),audiotag:t.audioPublishDuration>0?1:-1,videotag:t.videoPublishDuration>0?1:-1,lts:r,elapse:r-n.startTime,joinChannelSuccessElapse:r-(n.lastJoinSuccessTime||r),peerPublishDurationVideo:t.videoPublishDuration,peerPublishDurationAudio:t.audioPublishDuration});this.send({type:uI.PEER_PUBLISH_STATUS,data:a},!0)}workerEvent(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now();(function(e,t,n){const i=e[t];if(!i||"string"!=typeof i)return[e];e[t]="";const r=xk(JSON.stringify(e));let a=0;const s=[];let o=0;for(let l=0;l<i.length;l++)o+=i.charCodeAt(l)<=127?1:3,o<=n-r||(s[s.length]=NA(NA({},e),{},{[t]:i.substring(a,l)}),a=l,o=i.charCodeAt(l)<=127?1:3);return a!==i.length-1&&(s[s.length]=NA(NA({},e),{},{[t]:i.substring(a)})),s})(QR(QR(QR({},i),t),{},{elapse:r-n.startTime,lts:r,productType:"WebRTC"}),"payload",1300).forEach(e=>this.send({type:uI.WORKER_EVENT,data:e},!0))}apworkerEvent(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),a=QR(QR(QR({},i),t),{},{elapse:r-n.startTime,lts:r});this.send({type:uI.AP_WORKER_EVENT,data:a},!0)}joinWebProxyAP(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),a=QR(QR(QR({},i),t),{},{elapse:r-n.startTime,lts:r,extend:t.extend||void 0});this.send({type:uI.JOIN_WEB_PROXY_AP,data:a},!0)}WebSocketQuit(e,t){const n=this.baseInfoMap.get(e);if(!n)return;const i=n.info,r=Date.now(),a=QR(QR(QR({},i),t),{},{elapse:r-n.startTime,lts:r});this.send({type:uI.WEBSOCKET_QUIT,data:a},!0)}async sendCustomReportMessage(e,t){if(this.customReportCount+=t.length,this.customReportCount>AR("CUSTOM_REPORT_LIMIT"))throw new kA(AA.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval(()=>{this.customReportCount=0},5e3));const n=Date.now(),i=t.map(t=>({type:uI.USER_ANALYTICS,data:QR(QR({sid:e},t),{},{lts:n})}));try{AR("NEW_REPORT_SERVER")?await this.postDataToStatsCollector2(i):await this.postDataToStatsCollector(i)}catch(e){throw sI.error("send custom report message failed",e.toString()),new kA(AA.CUSTOM_REPORT_SEND_FAILED,e.message)}}sendApiInvoke(e){const t=AR("NOT_REPORT_EVENT");if(e.tag&&Pi(t)&&Pi(t).call(t,e.tag))return!1;if(null===e.sid)return this.apiInvokeUploadPendingItems.push(e),!1;const n=this.baseInfoMap.get(e.sid);if(!n)return this.apiInvokeUploadPendingItems.push(e),!1;const{cname:i,uid:r,cid:a}=n.info;let s;if(e.lts=e.lts||Date.now(),e.error)if(e.error instanceof kA){const{code:t,message:n}=e.error;s=t||n||e.error.toString()}else s=e.error.toString();const o={invokeId:e.invokeId,sid:e.sid,cname:i,cid:a,uid:r,lts:e.lts,success:e.success,elapse:e.lts-n.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?s:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0};return this.send({type:uI.API_INVOKE,data:o},!1),!0}addSid(e){this.sids.add(e)}removeSid(e){this.sids.delete(e)}appendSessionId(){const e=this.apiInvokeUploadPendingItems;if(0===e.length)return;const t=Array.from(this.sids).find(e=>null!==e);t&&e.forEach(e=>{e&&(e.sid=t,this.sendApiInvoke(Object.assign({},e)))}),e.length=0}send(e,t){if(t)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>AR("NORMAL_EVENT_QUEUE_CAPACITY")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(e,t){const n=[],i=[];for(;e.length;){const t=e.shift();n.length<20?n.push(t):i.push(t)}e.push(...i);for(const a of[...n]){var r;-1!==this.ltsList.indexOf(a.data.lts)?(a.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(a.data.lts)):(this.ltsList.push(a.data.lts),Kp(r=this.ltsList).call(r,(e,t)=>e-t))}return t||(this.lastSendNormalEventTime=Date.now()),AR("ENABLE_EVENT_REPORT")?(n.length&&(AR("NEW_REPORT_SERVER")?this.postDataToStatsCollector2(n):this.postDataToStatsCollector(n)).catch((e=>n=>{AR("EVENT_REPORT_RETRY")&&(t?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(e):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(e),this.normalEventUploadPendingItems.length>AR("NORMAL_EVENT_QUEUE_CAPACITY")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-AR("NORMAL_EVENT_QUEUE_CAPACITY")),sI.warning("report: drop normal events"))))})(n)),e):e}async postDataToStatsCollector2(e){ck.networkState===ik.OFFLINE&&await np.race([ck.onlineWaiter,Sk(2*Bk.maxRetryTimeout)]);const t=e=>{let t=new Uint8Array;return e.forEach(e=>{const n=VA(JSON.stringify(e.data)),i=new ArrayBuffer(5),r=(e=>{let t=0;return Object.entries(uI).forEach(n=>{let[i,r]=n;r===e.type&&(t=hI[i])}),t})(e),a=new DataView(i);a.setUint16(0,n.byteLength,!0),a.setUint8(2,255&r),a.setUint8(3,r>>>8&255),a.setUint8(4,r>>>16&255),t=zA(t,new Uint8Array(i)),t=zA(t,n)}),t},n="event";let i=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(AR("NEW_REPORT_SERVER_DOMAINS")[0],"&p=443&d=").concat(n):"https://".concat(AR("NEW_REPORT_SERVER_DOMAINS")[0],"/").concat(n);for(let r=0;r<2;r+=1){1===r&&(i=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(AR("NEW_REPORT_SERVER_DOMAINS")[1],"&p=443&d=").concat(n):"https://".concat(AR("NEW_REPORT_SERVER_DOMAINS")[1],"/").concat(n));try{await Yk(i,{timeout:1e4,data:t(e),headers:QR(QR({biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0)}catch(e){if(1===r)throw e;continue}return}}async postDataToStatsCollector(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(e=>{const t=e&&e.data.sid&&this.baseInfoMap.get(e.data.sid);return t&&t.info.vid&&+t.info.vid||0})(e[0]),i=n?void 0:this._aid,r={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:e.map(e=>JSON.stringify(e)),vid:n,aid:i};ck.networkState===ik.OFFLINE&&await np.race([ck.onlineWaiter,Sk(2*Bk.maxRetryTimeout)]);const a=t?"/events/proto-raws":"/events/messages";let s=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(AR("EVENT_REPORT_DOMAIN"),"&p=").concat(AR("STATS_COLLECTOR_PORT"),"&d=").concat(a):"https://".concat(AR("EVENT_REPORT_DOMAIN"),":").concat(AR("STATS_COLLECTOR_PORT")).concat(a));for(let o=0;o<2;o+=1){1===o&&(s=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(AR("EVENT_REPORT_BACKUP_DOMAIN"),"&p=").concat(AR("STATS_COLLECTOR_PORT"),"&d=").concat(a):"https://".concat(AR("EVENT_REPORT_BACKUP_DOMAIN"),":").concat(AR("STATS_COLLECTOR_PORT")).concat(a)));try{t?await Xk(s,{timeout:1e4,data:r}):await Yk(s,{timeout:1e4,data:r})}catch(t){if(1===o)throw t;continue}return}}createBaseInfo(e,t){const n=Object.assign({},cI);return n.sid=e,this.baseInfoMap.set(e,{info:n,startTime:t}),n}reportResourceTiming(e,t){const n=performance.getEntriesByName(e),i=n[n.length-1];i&&this.reportApiInvoke(t,{name:"Client.resourceTiming",options:i,tag:XA.TRACER}).onSuccess()}};$R.on("REPORT_LOG_UPLOAD",e=>{e.networkState=ck.networkState,mI.reportApiInvoke(null,{name:"logUploadError",options:e,tag:XA.TRACER}).onSuccess("logUploadError")});class fI extends kA{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",arguments.length>2?arguments[2]:void 0),JR(this,"name","AgoraRTCException")}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error";return super.print(e,sI)}throw(){super.throw(sI)}}const gI={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1,supportRequestVideoFrameCallback:!1,supportWebCrypto:!1};function _I(){return gI}function vI(){return"setSinkId"in HTMLAudioElement.prototype&&(!AR("RESTRICTION_SET_PLAYBACK_DEVICE")||(QN()||tA())&&!xA())}function bI(){return!gI.supportUnifiedPlan||AR("CHROME_FORCE_PLAN_B")&&wA()}function yI(e){return!(nA()||aA(87)||bI()||!AR("ENABLE_PRE_SUB")&&(null==e||!e.autoSubscribe||AR("FORCE_DISABLE_AUTO_SUB")))}function xI(e){return!!AR("ENABLE_INSTANT_VIDEO")||!(null==e||!e.autoSubscribe||AR("FORCE_DISABLE_AUTO_SUB"))}let wI=function(e){return e.IOS_15_16_INTERRUPTION_START="ios15_16-interruption-start",e.IOS_15_16_INTERRUPTION_END="ios15_16-interruption-end",e.IOS_INTERRUPTION_START="ios-interruption-start",e.IOS_INTERRUPTION_END="ios-interruption-end",e.STATE_CHANGE="state-change",e}({});function EI(e,t,n){return{sampleRate:e,stereo:t,bitrate:n}}function SI(e,t,n,i,r){return{width:e,height:t,frameRate:n,bitrateMin:i,bitrateMax:r}}function CI(e,t,n,i,r){return{width:{max:e},height:{max:t},frameRate:n,bitrateMin:i,bitrateMax:r}}function TI(e,t){return{numSpatialLayers:e,numTemporalLayers:t}}const NI={"90p":SI(160,90),"90p_1":SI(160,90),"120p":SI(160,120,15,30,65),"120p_1":SI(160,120,15,30,65),"120p_3":SI(120,120,15,30,50),"120p_4":SI(212,120),"180p":SI(320,180,15,30,140),"180p_1":SI(320,180,15,30,140),"180p_3":SI(180,180,15,30,100),"180p_4":SI(240,180,15,30,120),"240p":SI(320,240,15,40,200),"240p_1":SI(320,240,15,40,200),"240p_3":SI(240,240,15,40,140),"240p_4":SI(424,240,15,40,220),"360p":SI(640,360,15,80,400),"360p_1":SI(640,360,15,80,400),"360p_3":SI(360,360,15,80,260),"360p_4":SI(640,360,30,80,600),"360p_6":SI(360,360,30,80,400),"360p_7":SI(480,360,15,80,320),"360p_8":SI(480,360,30,80,490),"360p_9":SI(640,360,15,80,800),"360p_10":SI(640,360,24,80,800),"360p_11":SI(640,360,24,80,1e3),"480p":SI(640,480,15,100,500),"480p_1":SI(640,480,15,100,500),"480p_2":SI(640,480,30,100,1e3),"480p_3":SI(480,480,15,100,400),"480p_4":SI(640,480,30,100,750),"480p_6":SI(480,480,30,100,600),"480p_8":SI(848,480,15,100,610),"480p_9":SI(848,480,30,100,930),"480p_10":SI(640,480,10,100,400),"720p":SI(1280,720,15,120,1130),"720p_auto":SI(1280,720,30,900,3e3),"720p_1":SI(1280,720,15,120,1130),"720p_2":SI(1280,720,30,120,2e3),"720p_3":SI(1280,720,30,120,1710),"720p_5":SI(960,720,15,120,910),"720p_6":SI(960,720,30,120,1380),"1080p":SI(1920,1080,15,120,2080),"1080p_1":SI(1920,1080,15,120,2080),"1080p_2":SI(1920,1080,30,120,3e3),"1080p_3":SI(1920,1080,30,120,3150),"1080p_5":SI(1920,1080,60,120,4780),"1440p":SI(2560,1440,30,120,4850),"1440p_1":SI(2560,1440,30,120,4850),"1440p_2":SI(2560,1440,60,120,7350),"4k":SI(3840,2160,30,120,8910),"4k_1":SI(3840,2160,30,120,8910),"4k_3":SI(3840,2160,60,120,13500)},AI={"480p":CI(640,480,5),"480p_1":CI(640,480,5),"480p_2":CI(640,480,30),"480p_3":CI(640,480,15),"720p":CI(1280,720,5),"720p_auto":SI(1280,720,30,900,3e3),"720p_1":CI(1280,720,5),"720p_2":CI(1280,720,30),"720p_3":CI(1280,720,15),"1080p":CI(1920,1080,5),"1080p_1":CI(1920,1080,5),"1080p_2":CI(1920,1080,30),"1080p_3":CI(1920,1080,15)},kI={"1SL1TL":TI(1,1),"3SL3TL":TI(3,3),"2SL3TL":TI(2,3)};function RI(e){return e||(e="480p_1"),"string"==typeof e?Object.assign({},NI[e]):e}function II(e){return"string"==typeof e?Object.assign({},AI[e]):e}function OI(e){return"string"==typeof e?Object.assign({},kI[e]):e}const jI={speech_low_quality:EI(16e3,!1),speech_standard:EI(32e3,!1,18),music_standard:EI(48e3,!1),standard_stereo:EI(48e3,!0,56),high_quality:EI(48e3,!1,128),high_quality_stereo:EI(48e3,!0,192)};function PI(e){return"string"==typeof e?Object.assign({},jI[e]):e}const DI=[];function LI(e){return IA(e,"mediaSource",["screen","window","application"]),!0}let MI=function(e){return e.NEED_RENEGOTIATE="@need_renegotiate",e.NEED_REPLACE_TRACK="@need_replace_track",e.NEED_REPLACE_MIXING_TRACK="@need_replace_mixing_track",e.NEED_CLOSE="@need_close",e.NEED_ENABLE_TRACK="@need_enable_track",e.NEED_DISABLE_TRACK="@need_disable_track",e.NEED_SESSION_ID="@need_sid",e.SET_OPTIMIZATION_MODE="@set_optimization_mode",e.GET_STATS="@get_stats",e.GET_RTC_STATS="@get_rtc_stats",e.GET_LOW_VIDEO_TRACK="@get_low_video_track",e.NEED_RESET_REMOTE_SDP="@need_reset_remote_sdp",e.NEED_UPDATE_VIDEO_ENCODER="@need_update_video_encoder",e.NEED_UPDATE_VIDEO_SEND_PARAMETERS="@need_update_video_send_parameters",e.NEED_MUTE_TRACK="@need_mute_track",e.NEED_UNMUTE_TRACK="@need_unmute_track",e}({}),UI=function(e){return e.SCREEN_TRACK="screen_track",e.CUSTOM_TRACK="custome_track",e.LOW_STREAM="low_stream",e.SCREEN_LOW_TRACK="screen_low_track",e}({}),FI=function(e){return e[e.HIGH_STREAM=0]="HIGH_STREAM",e[e.LOW_STREAM=1]="LOW_STREAM",e}({}),BI=function(e){return e[e.HIGH_STREAM=0]="HIGH_STREAM",e[e.LOW_STREAM=1]="LOW_STREAM",e[e.HIGH_STREAM_LAYER1=4]="HIGH_STREAM_LAYER1",e[e.HIGH_STREAM_LAYER2=5]="HIGH_STREAM_LAYER2",e[e.HIGH_STREAM_LAYER3=6]="HIGH_STREAM_LAYER3",e[e.HIGH_STREAM_LAYER4=7]="HIGH_STREAM_LAYER4",e[e.HIGH_STREAM_LAYER5=8]="HIGH_STREAM_LAYER5",e[e.HIGH_STREAM_LAYER6=9]="HIGH_STREAM_LAYER6",e}({}),VI=function(e){return e[e.DISABLE=0]="DISABLE",e[e.LOW_STREAM=1]="LOW_STREAM",e[e.AUDIO_ONLY=2]="AUDIO_ONLY",e[e.HIGH_STREAM_LAYER1=3]="HIGH_STREAM_LAYER1",e[e.HIGH_STREAM_LAYER2=4]="HIGH_STREAM_LAYER2",e[e.HIGH_STREAM_LAYER3=5]="HIGH_STREAM_LAYER3",e[e.HIGH_STREAM_LAYER4=6]="HIGH_STREAM_LAYER4",e[e.HIGH_STREAM_LAYER5=7]="HIGH_STREAM_LAYER5",e[e.HIGH_STREAM_LAYER6=8]="HIGH_STREAM_LAYER6",e}({}),zI=function(e){return e.TRANSCEIVER_UPDATED="transceiver-updated",e.SEI_TO_SEND="sei-to-send",e.SEI_RECEIVED="sei-received",e.TRACK_UPDATED="track-updated",e}({}),HI=function(e){return e.SOURCE_STATE_CHANGE="source-state-change",e.TRACK_ENDED="track-ended",e.BEAUTY_EFFECT_OVERLOAD="beauty-effect-overload",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",e.CLOSED="closed",e}({}),WI=function(e){return e.FIRST_FRAME_DECODED="first-frame-decoded",e.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",e.VIDEO_STATE_CHANGED="video-state-changed",e.PLAY_START="play-start",e.PLAY_END="play-end",e.FIRST_FRAME_RENDER="first-frame-render",e}({}),GI=function(e){return e.AUDIO="audio",e.VIDEO="video",e.DATA="data",e}({}),qI=function(e){return e.AUDIO_SOURCE_STATE_CHANGE="audio_source_state_change",e.RECEIVE_TRACK_BUFFER="receive_track_buffer",e.ON_AUDIO_BUFFER="on_audio_buffer",e.UPDATE_SOURCE="update_source",e}({});const YI={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},XI={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},KI={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receivePacketsDiscarded:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},JI={uplinkNetworkQuality:0,downlinkNetworkQuality:0},ZI={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};let QI=function(e){return e.ON_TRACK="on_track",e.ON_NODE="on_node",e}({}),$I=function(e){return e.REQUEST_UPDATE_CONSTRAINTS="request_update_constraints",e.REQUEST_CONSTRAINTS="request_constraints",e}({}),eO=function(e){return e.IDLE="IDLE",e.INITING="INITING",e.INITEND="INITEND",e}({}),tO=function(e){return e.STATE_CHANGE="state_change",e.RECORDING_DEVICE_CHANGED="recordingDeviceChanged",e.PLAYOUT_DEVICE_CHANGED="playoutDeviceChanged",e.CAMERA_DEVICE_CHANGED="cameraDeviceChanged",e}({}),nO=function(e){return e.NONE="none",e.INIT="init",e.CANPLAY="canplay",e.PLAYING="playing",e.PAUSED="paused",e.SUSPEND="suspend",e.STALLED="stalled",e.WAITING="waiting",e.ERROR="error",e.DESTROYED="destroyed",e.ABORT="abort",e.ENDED="ended",e.EMPTIED="emptied",e.LOADEDDATA="loadeddata",e}({}),iO=function(e){return e[e.VideoStateStopped=0]="VideoStateStopped",e[e.VideoStateStarting=1]="VideoStateStarting",e[e.VideoStateDecoding=2]="VideoStateDecoding",e[e.VideoStateFrozen=3]="VideoStateFrozen",e}({});const rO={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};let aO=function(e){return e.OPEN="open",e.MESSAGE="message",e.CLOSE="close",e.CLOSING="closing",e.ERROR="error",e}({});function sO(e,t,n,i,r){var a,s,o={};return Object.keys(i).forEach(function(e){o[e]=i[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=rr(a=_r(s=n.slice()).call(s)).call(a,function(n,i){return i(e,t,n)||n},o),r&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(r):void 0,o.initializer=void 0),void 0===o.initializer?(Object.defineProperty(e,t,o),null):o}function oO(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function cO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lO(Object(n),!0).forEach(function(t){oO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}class dO extends WA{set _mediaStreamTrack(e){e!==this.mediaStreamTrack&&(this.safeEmit(zI.TRACK_UPDATED,e),this.mediaStreamTrack=e)}get _mediaStreamTrack(){return this.mediaStreamTrack}constructor(e,t){super(),oO(this,"trackMediaType",void 0),oO(this,"_ID",void 0),oO(this,"_rtpTransceiver",void 0),oO(this,"_lowRtpTransceiver",void 0),oO(this,"_hints",[]),oO(this,"_isClosed",!1),oO(this,"_originMediaStreamTrack",void 0),oO(this,"mediaStreamTrack",void 0),oO(this,"_external",{}),this._ID=t||Ck(8,"track-"),this._originMediaStreamTrack=e,this.mediaStreamTrack=e,function(e){Pi(DI).call(DI,e)||DI.push(e)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(e){return e||gk(()=>{var e;mI.reportApiInvoke(null,{name:YA.GET_MEDIA_STREAM_TRACK,options:[],tag:XA.TRACER}).onSuccess((null===(e=this._mediaStreamTrack)||void 0===e?void 0:e.label)||"")},this.mediaStreamTrack.id||this.getTrackId()),this._mediaStreamTrack}getRTCRtpTransceiver(e){return e===FI.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(e){const t=DI.indexOf(e);-1!==t&&DI.splice(t,1)}(this),this.emit(HI.CLOSED),this.removeAllListeners(zI.SEI_RECEIVED)}_updateRtpTransceiver(e,t){if(t===FI.LOW_STREAM){if(this._lowRtpTransceiver===e)return;this._lowRtpTransceiver=e}else{if(this._rtpTransceiver===e)return;this._rtpTransceiver=e}this.emit(zI.TRANSCEIVER_UPDATED,e,t)}}class uO extends dO{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}constructor(e,t){super(e,t),oO(this,"_enabled",!0),oO(this,"_muted",!1),oO(this,"_isExternalTrack",!1),oO(this,"_isClosed",!1),oO(this,"_enabledMutex",void 0),oO(this,"processor",void 0),oO(this,"_processorContext",void 0),oO(this,"_handleTrackEnded",()=>{this.onTrackEnded()}),this._enabledMutex=new Uk("".concat(this.getTrackId())),e.addEventListener("ended",this._handleTrackEnded)}getTrackLabel(){var e,t;return null!==(e=null===(t=this._originMediaStreamTrack)||void 0===t?void 0:t.label)&&void 0!==e?e:""}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,sI.debug("[".concat(this.getTrackId(),"] close")),this.emit(MI.NEED_CLOSE),super.close())}async _updateOriginMediaStreamTrack(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._isExternalTrack=n,e!==this._originMediaStreamTrack&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await sk(this,MI.NEED_REPLACE_TRACK,this),this.processor&&this._processorContext&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this._processorContext}))}_getDefaultPlayerConfig(){return{}}onTrackEnded(){sI.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(HI.TRACK_ENDED)}stateCheck(e,t){if(sI.debug("check track state, [muted: ".concat(this._muted,", enabled: ").concat(this._enabled,"] to [").concat(e,": ").concat(t,"]")),RA(t,e),this._enabled&&this._muted&&"enabled"===e&&!1===t)throw new kA(AA.TRACK_STATE_UNREACHABLE,"cannot set enabled while the track is muted").print("error",sI);if(!this._enabled&&!this._muted&&"muted"===e&&!0===t)throw new kA(AA.TRACK_STATE_UNREACHABLE,"cannot set muted while the track is disabled").print("error",sI)}getProcessorStats(){return this._processorContext&&this._processorContext.gatherStats()||[]}getProcessorUsage(){return this._processorContext?this._processorContext.gatherUsage():np.resolve([])}}const hO=window.AudioContext||window.webkitAudioContext;let pO=null;const mO=new class extends WA{constructor(){super(...arguments),oO(this,"prevState",void 0),oO(this,"curState",void 0),oO(this,"currentTime",void 0),oO(this,"currentTimeStuckAt",void 0),oO(this,"interruptDetectorTrack",void 0),oO(this,"onLocalAudioTrackMute",()=>{sI.info("ios15-interruption-start"),this.emit(wI.IOS_15_16_INTERRUPTION_START)}),oO(this,"onLocalAudioTrackUnmute",async()=>{sI.info("ios15-interruption-end"),"running"!==this.curState||this.duringInterruption?sI.info("ios15-interruption-end-canceled"):(pO&&await pO.suspend(),this.emit(wI.IOS_15_16_INTERRUPTION_END))})}get duringInterruption(){return"running"===this.prevState&&"interrupted"===this.curState}bindInterruptDetectorTrack(e){sI.debug("webaudio bindInterruptDetectorTrack ".concat(e.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=e,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(e){sI.debug("webaudio unbindInterruptDetectorTrack ".concat(e.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===e&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function fO(){if(!pO){if(function(){if(!hO)return void sI.error("your browser is not support web audio");sI.info("create audio context");const e=cO({},AR("WEBAUDIO_INIT_OPTIONS"));sI.debug("audio context init option:",JSON.stringify(e)),pO=new hO(e),mO.curState=pO.state,pO.onstatechange=()=>{mO.prevState=mO.curState,mO.curState=pO?pO.state:void 0;const{prevState:e,curState:t}=mO,n="running"===t,i="interrupted"===t,r="running"===e,a="suspended"===e,s="interrupted"===e,o=YN().osVersion;(iA()||vA())&&r&&i&&(sI.info("ios".concat(o,"-interruption-start")),mO.emit(wI.IOS_INTERRUPTION_START)),(iA()||vA())&&(a||s)&&n&&(sI.info("ios".concat(o,"-interruption-end")),mO.emit(wI.IOS_INTERRUPTION_END)),e!==t&&mO.emit(wI.STATE_CHANGE,t,e)},setInterval(()=>{var e;const t=null===(e=pO)||void 0===e?void 0:e.currentTime;mO.currentTime!==t?(mO.currentTimeStuckAt&&(sI.debug("AudioContext current time resume at ".concat(t)),mO.currentTimeStuckAt=void 0),mO.currentTime=t):(t!==mO.currentTimeStuckAt&&(mI.reportApiInvoke(null,{name:"WEB_AUDIO_CURRENT_TIME_STUCK",options:{currentTime:t},tag:XA.TRACER}).onSuccess(),sI.warning("AudioContext current time stuck at ".concat(t))),mO.currentTimeStuckAt=t)},5e3),async function(e){const t=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"];let n,i=!1,r=!1,a=!1;function s(t){"running"===e.state?o(!1):iA()||vA()?"suspended"===e.state&&(o(!0),t&&e.resume().then(l,l)):"closed"!==e.state&&(o(!0),t&&e.resume().then(l,l))}function o(e){if(i!==e){i=e;for(let n=0,i=t;n<i.length;n+=1){const t=i[n];e?window.addEventListener(t,c,{capture:!0,passive:!0}):window.removeEventListener(t,c,{capture:!0,passive:!0})}}}function l(){s(!1)}function c(){s(!0)}function d(e){if(!a)if(n.paused)if(e){let t;u(!1),a=!0;try{t=n.play(),t?t.then(h,h):(n.addEventListener("playing",h),n.addEventListener("abort",h),n.addEventListener("error",h))}catch(e){h()}}else u(!0);else u(!1)}function u(e){if(r!==e){r=e;for(let n=0,i=t;n<i.length;n++){const t=i[n];e?window.addEventListener(t,p,{capture:!0,passive:!0}):window.removeEventListener(t,p,{capture:!0,passive:!0})}}}function h(){n.removeEventListener("playing",h),n.removeEventListener("abort",h),n.removeEventListener("error",h),a=!1,d(!1)}function p(){d(!0)}if(iA()){const t=e.createMediaStreamDestination(),i=document.createElement("div");i.innerHTML="<audio x-webkit-airplay='deny'></audio>",n=i.children.item(0),n.controls=!1,n.disableRemotePlayback=!0,n.preload="auto",n.srcObject=t.stream,d(!0)}mO.on(wI.STATE_CHANGE,function(){s(!0)}),s(!1)}(pO)}(),!pO)throw new kA(AA.NOT_SUPPORTED,"can not create audio context");return pO}return pO}function gO(e){if(function(){if(null!==_O)return _O;const e=fO(),t=e.createBufferSource(),n=e.createGain(),i=e.createGain();t.connect(n),t.connect(i),t.disconnect(n);let r=!1;try{t.disconnect(n)}catch(e){r=!0}return t.disconnect(),_O=r,r}())return;const t=e.connect,n=e.disconnect;e.connect=(n,i,r)=>{var a;return e._inputNodes||(e._inputNodes=[]),Pi(a=e._inputNodes).call(a,n)||(n instanceof AudioNode?(e._inputNodes.push(n),t.call(e,n,i,r)):t.call(e,n,i)),e},e.disconnect=(i,r,a)=>{n.call(e),i?dk(e._inputNodes,i):e._inputNodes=[];for(const n of e._inputNodes)t.call(e,n)}}let _O=null;function vO(e,t){let n=!1;const i=1/t;if(AR("DISABLE_WEBAUDIO")){const t=window.setInterval(()=>{n?window.clearInterval(t):e(performance.now()/1e3)},1e3*i)}else{const t=fO();let r=t.createGain();r.gain.value=0,r.connect(t.destination);const a=()=>{if(n)return void(r=null);const s=t.createOscillator();s.onended=a,s.connect(r),s.start(0),s.stop(t.currentTime+i),e(t.currentTime)};a()}return()=>{n=!0}}class bO{constructor(){oO(this,"context",void 0),oO(this,"analyserNode",void 0),oO(this,"sourceNode",void 0),this.context=fO(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(e){if(e!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch(e){}this.sourceNode=e,null==e||e.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode)return 0;if(!this.context||iA()||vA()||"running"!==this.context.state&&this.context.resume(),!this.analyserNode)return 0;const e=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(e);else{const t=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(t);for(let n=0;n<e.length;++n)e[n]=t[n]/128-1}const t=rr(e).call(e,(e,t)=>e+t*t,0)/e.length;return Math.max(10*Math.log10(t)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var e,t;null===(e=this.sourceNode)||void 0===e||e.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,null===(t=this.sourceNode)||void 0===t||t.connect(this.analyserNode)}catch(e){sI.warning("rebuild analyser node failed.")}}destroy(){this.updateSource(void 0)}}class yO extends WA{get processSourceNode(){return this.sourceNode}set processedNode(e){var t;if(!this.isDestroyed&&this._processedNode!==e){try{var n;null===(n=this.sourceNode)||void 0===n||n.disconnect(this.outputNode)}catch(e){}null===(t=this._processedNode)||void 0===t||t.disconnect(),this._processedNode=e,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),oO(this,"outputNode",void 0),oO(this,"outputTrack",void 0),oO(this,"isPlayed",!1),oO(this,"sourceNode",void 0),oO(this,"context",void 0),oO(this,"audioBufferNode",void 0),oO(this,"destNode",void 0),oO(this,"audioOutputLevel",0),oO(this,"volumeLevelAnalyser",void 0),oO(this,"_processedNode",void 0),oO(this,"playNode",void 0),oO(this,"isDestroyed",!1),oO(this,"onNoAudioInput",void 0),oO(this,"isNoAudioInput",!1),oO(this,"_noAudioInputCount",0),this.context=fO(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),gO(this.outputNode),this.volumeLevelAnalyser=new bO}startGetAudioBuffer(e){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=e=>{this.emit(qI.ON_AUDIO_BUFFER,function(e){for(let t=0;t<e.outputBuffer.numberOfChannels;t+=1){const n=e.outputBuffer.getChannelData(t);for(let e=0;e<n.length;e+=1)n[e]=0}return e.inputBuffer}(e))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!_I().webAudioMediaStreamDest)throw new kA(AA.NOT_SUPPORTED,"your browser is not support audio processor");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(e){"running"!==this.context.state&&hk(()=>{mO.emit("autoplay-failed")}),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch(e){}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;iA()||vA()?"suspended"===this.context.state&&this.context.resume():"running"!==this.context.state&&this.context.resume();const t=this.volumeLevelAnalyser.getAnalyserNode();let n;t.getFloatTimeDomainData?(n=new Float32Array(t.fftSize),t.getFloatTimeDomainData(n)):(n=new Uint8Array(t.fftSize),t.getByteTimeDomainData(n));let i=!1;for(let r=0;r<n.length;r++)0!==n[r]&&(i=!0);return i?(this.isNoAudioInput=!1,!0):(await Sk(200),await this.checkHasAudioInput(e?e+1:1)&&i)}getAudioVolume(){return this.outputNode.gain.value}setVolume(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}disconnect(){var e,t;null===(e=this.processedNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var e;this.processedNode?null===(e=this.processedNode)||void 0===e||e.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode)}}class xO extends yO{get isFreeze(){return!1}constructor(e,t,n){var i;if(super(),oO(this,"sourceNode",void 0),oO(this,"track",void 0),oO(this,"clonedTrack",void 0),oO(this,"audioElement",void 0),oO(this,"isCurrentTrackCloned",!1),oO(this,"isRemoteTrack",!1),oO(this,"originVolumeLevelAnalyser",void 0),oO(this,"rebuildWebAudio",async()=>{if(sI.debug("ready to rebuild web audio, state:",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener("click",this.rebuildWebAudio,!0),void sI.debug("rebuild web audio success, current volume status",this.getAccurateVolumeLevel());this.context.resume().then(()=>sI.info("resume success")),sI.debug("rebuild web audio because of ios 12 bugs"),this.disconnect();const e=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?e.stop():this.isCurrentTrackCloned=!0;const t=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(t),gO(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();const n=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(n,this.context.currentTime),gO(this.outputNode),this.emit(qI.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=t,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()}),"audio"!==e.kind)throw new kA(AA.UNEXPECTED_ERROR);this.track=e;const r=new MediaStream([this.track]);if(this.isRemoteTrack=!!t,this.sourceNode=this.context.createMediaStreamSource(r),gO(this.sourceNode),n){const e=n.clone();e.enabled=!0,this.clonedTrack=e,sI.debug("create an unmuted track ".concat(e.id," from the original track ").concat(n.id," to get the volume"));const t=this.context.createMediaStreamSource(new MediaStream([e]));gO(t),this.originVolumeLevelAnalyser=new bO,this.originVolumeLevelAnalyser.updateSource(t)}this.connect(),this.audioElement=document.createElement("audio"),this.audioElement.srcObject=r;const a=YN();t&&a.os===zN.IOS&&Number(null===(i=a.osVersion)||void 0===i?void 0:i.split(".")[0])<15&&(mO.on(wI.STATE_CHANGE,()=>{"suspended"===this.context.state?document.body.addEventListener("click",this.rebuildWebAudio,!0):"running"===this.context.state&&this.rebuildWebAudio()}),this.checkHasAudioInput().then(e=>{e||document.body.addEventListener("click",this.rebuildWebAudio,!0)}))}updateTrack(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1;const t=new MediaStream([e]);this.sourceNode=this.context.createMediaStreamSource(t),gO(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(qI.UPDATE_SOURCE),this.audioElement.srcObject=t}destroy(){var e;this.audioElement.srcObject=null,this.audioElement.remove(),mO.off("state-change",this.rebuildWebAudio),null===(e=this.originVolumeLevelAnalyser)||void 0===e||e.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(e){return this.context.createMediaStreamSource(new MediaStream([e]))}updateOriginTrack(e){const t=e.clone();t.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=t),sI.debug("create an unmuted track ".concat(t.id," from the original track ").concat(e.id," to get the volume"));const n=this.context.createMediaStreamSource(new MediaStream([t]));gO(n),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(n)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function wO(e,t,n){const i=(e,t)=>e?"number"!=typeof e?e.max||e.exact||e.ideal||e.min||t:e:t,r={audio:!!n&&{mandatory:{chromeMediaSource:"desktop"}},video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:e,maxHeight:i(t.height,1080),maxWidth:i(t.width,1920)}}};return t.frameRate&&"number"!=typeof t.frameRate?(r.video.mandatory.maxFrameRate=t.frameRate.max,r.video.mandatory.minFrameRate=t.frameRate.min):"number"==typeof t.frameRate&&(r.video.mandatory.maxFrameRate=t.frameRate),await navigator.mediaDevices.getUserMedia(r)}async function EO(e,t){const n=await SO(e.mediaSource),{sourceId:i,audio:r}=await function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new np((n,i)=>{const r=document.createElement("div");r.innerText="share screen",r.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");const a=document.createElement("div");a.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");const s=document.createElement("div");s.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",s.setAttribute("style","height: 12%;");const o=document.createElement("div");o.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");const l=document.createElement("div");l.setAttribute("style","display: flex; justify-content: space-between; padding: 16px 0;");const c=document.createElement("button");c.innerHTML="cancel",c.setAttribute("style","width: 85px;"),c.onclick=()=>{document.body.removeChild(h);const e=new Error("NotAllowedError");e.name="NotAllowedError",i(e)};let d=t;const u=document.createElement("div");if(t){const e=document.createElement("input");e.setAttribute("type","checkbox");const t=document.createElement("span");e.setAttribute("style","margin-right: 6px;"),t.innerText="Share audio",e.checked=d,e.onchange=()=>{d=e.checked},u.appendChild(e),u.appendChild(t)}l.appendChild(u),l.appendChild(c),a.appendChild(s),a.appendChild(o),a.appendChild(l);const h=document.createElement("div");h.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),h.appendChild(r),h.appendChild(a),document.body.appendChild(h),e.map(e=>{if(e.id){const t=document.createElement("div");t.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");let i=e.thumbnail;try{const{width:e}=i.getSize();e>1920&&(i=i.resize({width:1920}))}catch(e){throw e&&e.message.startsWith("Illegal invocation")&&console.error("Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)"),e}t.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+i.toDataURL()+' /></div><span style="\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+e.name.replace(/[\u00A0-\u9999<>\&]/g,function(e){return"&#"+e.charCodeAt(0)+";"})+"</span>",t.onclick=()=>{document.body.removeChild(h),n({sourceId:e.id,audio:d})},o.appendChild(t)}})})}(n,t);return await wO(i,e,r)}async function SO(e){let t=["window","screen"];"application"!==e&&"window"!==e||(t=["window"]),"screen"===e&&(t=["screen"]);const n=qA();if(!n)throw console.error("failed to fetch electron, please mount it to window"),new kA(AA.ELECTRON_IS_NULL);let i=null;try{var r;i=(null===(r=n.desktopCapturer)||void 0===r?void 0:r.getSources({types:t}))||n.ipcRenderer.invoke("DESKTOP_CAPTURER_GET_SOURCES",{types:t})}catch(e){i=null}i&&i.then||(i=new np((e,i)=>{n.desktopCapturer.getSources({types:t},(t,n)=>{t?i(t):e(n)})}));try{return await i}catch(e){throw new kA(AA.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,e.toString())}}const CO=new Uk("safari");let TO=!1,NO=!1;async function AO(e,t){let n=0,i=null;for(;n<2;)try{i=await kO(e,t,n>0);break}catch(e){if(e instanceof kA)throw sI.error("[".concat(t,"] ").concat(e.toString())),e;const i=RO(e.name||e.code||e,e.message);if(i.code===AA.MEDIA_OPTION_INVALID){sI.debug("[".concat(t,"] detect media option invalid, retry")),n+=1,await Sk(500);continue}throw sI.error("[".concat(t,"] ").concat(i.toString())),i}if(!i)throw new kA(AA.UNEXPECTED_ERROR,"can not find stream after getUserMedia");return i}async function kO(e,t,n){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new kA(AA.NOT_SUPPORTED,"can not find getUserMedia");n&&(e.video&&(delete e.video.width,delete e.video.height),e.screen&&(delete e.screen.width,delete e.screen.height));const i=_I(),r=new MediaStream;if(e.audioSource&&r.addTrack(e.audioSource),e.videoSource&&r.addTrack(e.videoSource),!e.audio&&!e.video&&!e.screen)return sI.debug("Using Video Source/ Audio Source"),r;if(e.screen)if(qA())e.screen.sourceId?IO(r,await wO(e.screen.sourceId,e.screen,!!e.screenAudio)):IO(r,await EO(e.screen,!!e.screenAudio));else if(QN()&&e.screen.extensionId&&e.screen.mandatory){if(!i.getStreamFromExtension)throw new kA(AA.NOT_SUPPORTED,"This browser does not support screen sharing");sI.debug("[".concat(t,'] Screen access on chrome stable, looking for extension"'));const n=await(s=e.screen.extensionId,o=t,new np((e,t)=>{try{chrome.runtime.sendMessage(s,{getStream:!0},n=>{if(!n||!n.streamId)return sI.error("[".concat(o,"] No response from Chrome Plugin. Plugin not installed properly"),n),void t(new kA(AA.CHROME_PLUGIN_NO_RESPONSE,"No response from Chrome Plugin. Plugin not installed properly"));e(n.streamId)})}catch(e){sI.error("[".concat(o,"] AgoraRTC screensharing plugin is not accessible(").concat(s,")"),e.toString()),t(new kA(AA.CHROME_PLUGIN_NOT_INSTALL))}}));e.screen.mandatory.chromeMediaSourceId=n,IO(r,await navigator.mediaDevices.getUserMedia({video:{mandatory:e.screen.mandatory}}))}else if(i.getDisplayMedia){var a;e.screen.mediaSource&&LI(e.screen.mediaSource);const n={width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate,displaySurface:null!==(a=e.screen.displaySurface)&&void 0!==a?a:"screen"===e.screen.mediaSource?"monitor":e.screen.mediaSource},{selfBrowserSurface:i,surfaceSwitching:s,systemAudio:o,preferCurrentTab:l}=e.screen,c={selfBrowserSurface:i,surfaceSwitching:s,systemAudio:o,preferCurrentTab:l};!i&&delete c.selfBrowserSurface,!s&&delete c.surfaceSwitching,!o&&delete c.systemAudio,!l&&delete c.preferCurrentTab,sI.debug("[".concat(t,"] getDisplayMedia:"),JSON.stringify({video:n,audio:e.screenAudio,controls:c})),IO(r,await navigator.mediaDevices.getDisplayMedia(cO({video:n,audio:e.screenAudio},c)))}else{if(!nA())throw sI.error("[".concat(t,"] This browser does not support screenSharing")),new kA(AA.NOT_SUPPORTED,"This browser does not support screen sharing");{e.screen.mediaSource&&LI(e.screen.mediaSource);const n={video:{mediaSource:e.screen.mediaSource,width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate}};sI.debug("[".concat(t,"] getUserMedia: ").concat(JSON.stringify(n))),IO(r,await navigator.mediaDevices.getUserMedia(n))}}var s,o;if(!e.video&&!e.audio)return r;let l={video:e.video,audio:e.audio},c=AR("MEDIA_DEVICE_CONSTRAINTS");if(c)try{"string"==typeof c&&(c=JSON.parse(c)),l=Ik(l,c)}catch(e){}sI.debug("[".concat(t,"] GetUserMedia"),JSON.stringify(l)),YN();let d,u=null;($N()||iA()||ZN())&&(u=await CO.lock());try{d=await navigator.mediaDevices.getUserMedia(l)}catch(e){throw u&&u(),e}return l.audio&&(TO=!0),l.video&&(NO=!0),IO(r,d),u&&u(),r}function RO(e,t){switch(e){case"Starting video failed":case"OverconstrainedError":case"TrackStartError":return new kA(AA.MEDIA_OPTION_INVALID,"".concat(e,": ").concat(t));case"NotFoundError":case"DevicesNotFoundError":return new kA(AA.DEVICE_NOT_FOUND,"".concat(e,": ").concat(t));case"NotSupportedError":return new kA(AA.NOT_SUPPORTED,"".concat(e,": ").concat(t));case"NotReadableError":return new kA(AA.NOT_READABLE,"".concat(e,": ").concat(t));case"InvalidStateError":case"NotAllowedError":case"PERMISSION_DENIED":case"PermissionDeniedError":return new kA(AA.PERMISSION_DENIED,"".concat(e,": ").concat(t));case"ConstraintNotSatisfiedError":return new kA(AA.CONSTRAINT_NOT_SATISFIED,"".concat(e,": ").concat(t));default:return sI.error("getUserMedia unexpected error",e),new kA(AA.UNEXPECTED_ERROR,"".concat(e,": ").concat(t))}}function IO(e,t){const n=e.getVideoTracks()[0],i=e.getAudioTracks()[0],r=t.getVideoTracks()[0],a=t.getAudioTracks()[0];a&&(i&&e.removeTrack(i),e.addTrack(a)),r&&(n&&e.removeTrack(n),e.addTrack(r))}const OO=new class extends WA{get state(){return this._state}set state(e){e!==this._state&&(this.emit(tO.STATE_CHANGE,e),this._state=e)}constructor(){super(),oO(this,"_state",eO.IDLE),oO(this,"isAccessMicrophonePermission",!1),oO(this,"isAccessCameraPermission",!1),oO(this,"lastAccessMicrophonePermission",!1),oO(this,"lastAccessCameraPermission",!1),oO(this,"checkdeviceMatched",!1),oO(this,"deviceInfoMap",new Map),this.init().then(()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",this.updateDevicesInfo.bind(this)),window.setInterval(()=>{(AR("ENUMERATE_DEVICES_INTERVAL")||(EA()||KN()===zN.HARMONY_OS)&&wA())&&this.updateDevicesInfo()},AR("ENUMERATE_DEVICES_INTERVAL_TIME"))}).catch(e=>sI.error(e.toString()))}async enumerateDevices(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return new kA(AA.NOT_SUPPORTED,"enumerateDevices() not supported.").throw();const i=await navigator.mediaDevices.enumerateDevices(),r=this.checkMediaDeviceInfoIsOk(i);let a=!this.isAccessMicrophonePermission&&e,s=!this.isAccessCameraPermission&&t;r.audio&&(a=!1),r.video&&(s=!1);let o=null,l=null,c=null;if(!n&&(a||s)){if(CO.isLocked&&(sI.debug("[device manager] wait GUM lock"),(await CO.lock())(),sI.debug("[device manager] GUM unlock")),TO&&(a=!1,this.isAccessMicrophonePermission=!0),NO&&(s=!1,this.isAccessCameraPermission=!0),sI.debug("[device manager] check media device permissions",e,t,a,s),a&&s){try{c=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(e){const t=RO(e.name||e.code||e,e.message);if(t.code===AA.PERMISSION_DENIED)throw t;sI.warning("getUserMedia failed in getDevices",t)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(a){try{o=await navigator.mediaDevices.getUserMedia({audio:e})}catch(e){const t=RO(e.name||e.code||e,e.message);if(t.code===AA.PERMISSION_DENIED)throw t;sI.warning("getUserMedia failed in getDevices",t)}this.isAccessMicrophonePermission=!0}else if(s){try{l=await navigator.mediaDevices.getUserMedia({video:t})}catch(e){const t=RO(e.name||e.code||e,e.message);if(t.code===AA.PERMISSION_DENIED)throw t;sI.warning("getUserMedia failed in getDevices",t)}this.isAccessCameraPermission=!0}sI.debug("[device manager] mic permission",e,"cam permission",t)}try{const e=await navigator.mediaDevices.enumerateDevices();return o&&o.getTracks().forEach(e=>e.stop()),l&&l.getTracks().forEach(e=>e.stop()),c&&c.getTracks().forEach(e=>e.stop()),o=null,l=null,c=null,e}catch(e){return o&&o.getTracks().forEach(e=>e.stop()),l&&l.getTracks().forEach(e=>e.stop()),c&&c.getTracks().forEach(e=>e.stop()),o=null,l=null,c=null,new kA(AA.ENUMERATE_DEVICES_FAILED,e.toString()).throw()}}async getRecordingDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter(e=>"audioinput"===e.kind)}async getCamerasDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!1,!0,e)).filter(e=>"videoinput"===e.kind)}async getSpeakers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter(e=>"audiooutput"===e.kind)}searchDeviceIdByName(e){let t=null;return this.deviceInfoMap.forEach(n=>{n.device.label===e&&(t=n.device.deviceId)}),t}async getDeviceById(e){const t=(await this.enumerateDevices(!0,!0,!0)).find(t=>t.deviceId===e);if(!t)throw new kA(AA.DEVICE_NOT_FOUND,"deviceId: ".concat(e));return t}async init(){this.state=eO.INITING;try{await this.updateDevicesInfo(),this.state=eO.INITEND}catch(e){throw sI.warning("Device Detection functionality cannot start properly.",e.toString()),this.state=eO.IDLE,("boolean"==typeof isSecureContext?isSecureContext:"https:"===location.protocol||"file:"===location.protocol||"localhost"===location.hostname||"127.0.0.1"===location.hostname||"::1"===location.hostname)||new kA(AA.WEB_SECURITY_RESTRICT,"Your context is limited by web security, please try using https protocol or localhost.").throw(),e}}async updateDevicesInfo(){const e=await this.enumerateDevices(!0,!0,!0),t=Date.now(),n=[];if(e[0]&&e[0].label&&!1===this.checkdeviceMatched){this.checkdeviceMatched=!0;const t=e.find(e=>"audioinput"===e.kind&&"default"===e.deviceId),n=e.find(e=>"audiooutput"===e.kind&&"default"===e.deviceId);t&&n?n.groupId===t.groupId?sI.debug("[device-check] default input ".concat(t.label," and output ").concat(n.label," is the same group")):sI.debug("[device-check] default input ".concat(t.label," and output ").concat(n.label," is not the same group")):sI.debug("[device-check] default input or output not found")}const i=this.checkMediaDeviceInfoIsOk(e);if(e.forEach(e=>{if(!e.deviceId)return;const i=this.deviceInfoMap.get("".concat(e.kind,"_").concat(e.deviceId));if("ACTIVE"!==(i?i.state:"INACTIVE")){const i={initAt:t,updateAt:t,device:e,state:"ACTIVE"};this.deviceInfoMap.set("".concat(e.kind,"_").concat(e.deviceId),i),n.push(i)}i&&(i.updateAt=t)}),this.deviceInfoMap.forEach((e,i)=>{"ACTIVE"===e.state&&e.updateAt!==t&&(e.state="INACTIVE",n.push(e))}),this.state!==eO.INITEND)return i.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(i.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));n.forEach(e=>{switch(e.device.kind){case"audioinput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(tO.RECORDING_DEVICE_CHANGED,e);break;case"videoinput":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(tO.CAMERA_DEVICE_CHANGED,e);break;case"audiooutput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(tO.PLAYOUT_DEVICE_CHANGED,e)}}),i.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),i.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(e){const t=e.filter(e=>"audioinput"===e.kind),n=e.filter(e=>"videoinput"===e.kind),i={audio:!1,video:!1};for(const r of t)if(r.label&&r.deviceId){i.audio=!0;break}for(const r of n)if(r.label&&r.deviceId){i.video=!0;break}return i}};let jO=!1;const PO=new class extends WA{constructor(){super(...arguments),oO(this,"onAutoplayFailed",void 0),oO(this,"onAudioAutoplayFailed",void 0)}};function DO(){if(YN(),!jO){const e=t=>{t.preventDefault(),jO=!1,SA()?document.body.removeEventListener("click",e,!0):(document.body.removeEventListener("touchstart",e,!0),document.body.removeEventListener("mousedown",e,!0))};jO=!0,SA()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0)),sI.info("detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web"),PO.onAutoplayFailed?PO.onAutoplayFailed():PO.onAudioAutoplayFailed?sI.warning("AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\n\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."):sI.warning("We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\n\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\n\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web ."),PO.emit("autoplay-failed")}}function LO(e,t,n,i){if(!e)return;const r=mI.getBaseInfoBySessionId(e);if(!r)return;const a=r.info,s=Date.now(),o=cO(cO({},a),{},{vid:void 0===a.vid?0:Number(a.vid),lts:s,elapse:s-r.startTime,cbRegistered:PO.onAutoplayFailed||PO.onAudioAutoplayFailed?1:-1,errorMsg:n,mediaType:t,trackId:i,extend:void 0});mI.send({type:uI.AUTOPLAY_FAILED,data:o},!0)}const MO=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","error"],UO=new class{constructor(){oO(this,"onAutoplayFailed",void 0),oO(this,"elementMap",new Map),oO(this,"elementStateMap",new Map),oO(this,"elementsNeedToResume",[]),oO(this,"sinkIdMap",new Map),oO(this,"autoResumeAfterInterruption",e=>{Array.from(this.elementMap.entries()).forEach(t=>{let[n,i]=t;const r=this.elementStateMap.get(n),a=i.srcObject.getAudioTracks()[0],s=a&&a.readyState;if(sI.debug("resume after interrupted, ele: ".concat(r," audio: ").concat(s," ").concat(e)),"live"===s){if(e)return i.pause(),void i.play();if("running"===mO.curState)return fA()?(i.pause(),void i.play()):void(r&&"paused"===r&&i.play())}})}),oO(this,"autoResumeAfterInterruptionOnIOS15_16",()=>{Array.from(this.elementMap.entries()).forEach(e=>{let[t,n]=e;const i=n.srcObject.getAudioTracks()[0];i&&"live"===i.readyState&&(sI.debug("auto resume after interruption inside autoResumeAfterInterruptionOnIOS15"),n.pause(),n.play())})}),this.autoResumeAudioElement(),mO.on(wI.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),mO.on(wI.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),mO.on(wI.STATE_CHANGE,()=>{iA()&&"suspended"===mO.prevState&&"running"===mO.curState&&this.autoResumeAfterInterruption()})}async setSinkID(e,t){const n=this.elementMap.get(e);if(this.sinkIdMap.set(e,t),n)try{await n.setSinkId(t)}catch(e){throw new kA(AA.PERMISSION_DENIED,"can not set sink id: "+e.toString())}}play(e,t,n,i){if(this.elementMap.has(t))return;const r=document.createElement("audio");r.autoplay=!0,r.srcObject=new MediaStream([e]),this.bindAudioElementEvents(t,r),this.elementMap.set(t,r),this.elementStateMap.set(t,nO.INIT),this.setVolume(t,n);const a=this.sinkIdMap.get(t);if(a)try{r.setSinkId(a).catch(e=>{sI.warning("[".concat(t,"] set sink id failed"),e.toString())})}catch(e){sI.warning("[".concat(t,"] set sink id failed"),e.toString())}const s=r.play();s&&s.then&&s.catch(e=>{i&&LO(i,"audio",e.message,t),sI.warning("audio element play warning",e.toString()),this.elementMap.has(t)&&"NotAllowedError"===e.name&&(sI.warning("detected audio element autoplay failed"),this.elementsNeedToResume.push(r),hk(()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),DO()}))})}updateTrack(e,t){const n=this.elementMap.get(e);n&&(n.srcObject=new MediaStream([t]))}isPlaying(e){return this.elementMap.has(e)&&"playing"===this.elementStateMap.get(e)}setVolume(e,t){const n=this.elementMap.get(e);n&&(t=Math.max(0,Math.min(100,t)),n.volume=t/100)}stop(e){const t=this.elementMap.get(e);if(this.sinkIdMap.delete(e),!t)return;const n=this.elementsNeedToResume.indexOf(t);this.elementsNeedToResume.splice(n,1),t.srcObject=null,t.remove(),this.elementMap.delete(e),this.elementStateMap.delete(e)}bindAudioElementEvents(e,t){MO.forEach(n=>{t.addEventListener(n,n=>{const i=this.elementStateMap.get(e),r="pause"===n.type?"paused":n.type;if(sI.debug("[".concat(e,"] audio-element-status change ").concat(i," => ").concat(r)),"error"===n.type){const n=null==t?void 0:t.error;n&&sI.error("[".concat(e,"] media error, code: ").concat(n.code,", message: ").concat(n.message))}this.elementStateMap.set(e,r)})})}getPlayerState(e){return this.elementStateMap.get(e)||"uninit"}autoResumeAudioElement(){const e=()=>{this.elementsNeedToResume.forEach(e=>{e.play().then(e=>{sI.debug("Auto resume audio element success")}).catch(e=>{sI.warning("Auto resume audio element failed!",e)})}),this.elementsNeedToResume=[]};new np(e=>{document.body?e():window.addEventListener("load",()=>e())}).then(()=>{SA()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0))})}};function FO(){return function(e,t,n){const i=n.value;return"function"==typeof i&&(n.value=function(){this._isClosed&&new kA(AA.INVALID_OPERATION,"[".concat(this.getTrackId(),"] cannot operate a closed track")).print("warning",sI);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=i.apply(this,t);return r instanceof np?new np((e,t)=>{r.then(e).catch(t)}):r}),n}}class BO extends WA{constructor(e){super(),oO(this,"name","VideoProcessorDestination"),oO(this,"ID","0"),oO(this,"_source",void 0),oO(this,"videoContext",void 0),oO(this,"inputTrack",void 0),this.videoContext=e}get kind(){return"video"}get enabled(){return!0}pipe(){throw new kA(AA.NOT_SUPPORTED,"VideoProcessor cannot pipe to any other Processor")}unpipe(){throw new kA(AA.NOT_SUPPORTED,"VideoProcessor cannot unpipe to any other Processor")}enable(){}disable(){}updateInput(e){if(e.context!==this.videoContext)throw new Error("ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\nProbably you are making pipeline like this:\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).");e.track&&e.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=e.track,this.emit(QI.ON_TRACK,e.track))}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(QI.ON_TRACK,void 0)}}class VO extends WA{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t){super(),oO(this,"constraintsMap",new Map),oO(this,"statsRegistry",[]),oO(this,"usageRegistry",[]),oO(this,"trackId",void 0),oO(this,"direction",void 0),oO(this,"_chained",!1),this.trackId=e,this.direction=t}async getConstraints(){return await ak(this,$I.REQUEST_CONSTRAINTS)}async requestApplyConstraints(e,t){var n;return sI.info("processor ".concat(t.name," requestApplyConstraints for ").concat(this.trackId)),e&&this.constraintsMap.set(t,e),sk(this,$I.REQUEST_UPDATE_CONSTRAINTS,Array.from(up(n=this.constraintsMap).call(n)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return sI.info("processor ".concat(e.name," requestRevertConstraints for ").concat(this.trackId)),this.constraintsMap.delete(e),sk(this,$I.REQUEST_UPDATE_CONSTRAINTS,Array.from(up(t=this.constraintsMap).call(t)))}registerStats(e,t,n){this.statsRegistry.find(n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t)||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:n})}unregisterStats(e,t){const n=this.statsRegistry.findIndex(n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t);-1!==n&&this.statsRegistry.splice(n,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:n,type:i,cb:r}of this.statsRegistry)try{const a=r();e.push({processorID:t,processorName:n,type:i,stats:a})}catch(e){sI.error(new kA(AA.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find(t=>t.processorID===e.ID&&t.processorName===e.name)||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex(t=>t.processorID===e.ID&&t.processorName===e.name);-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let n=t();n instanceof np&&(n=await n),e.push(cO(cO({},n),{},{direction:this.direction}))}catch(e){sI.error("gather extension usage error",e)}return e}getDirection(){return this.direction}}class zO extends WA{constructor(e){super(),oO(this,"name","AudioProcessorDestination"),oO(this,"ID","0"),oO(this,"inputTrack",void 0),oO(this,"inputNode",void 0),oO(this,"audioProcessorContext",void 0),oO(this,"_source",void 0),this.audioProcessorContext=e}get kind(){return"audio"}get enabled(){return!0}pipe(){throw new kA(AA.NOT_SUPPORTED,"AudioProcessorDestination cannot pipe to any other Processor")}unpipe(){throw new kA(AA.NOT_SUPPORTED,"AudioProcessor cannot unpipe to any other Processor")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(QI.ON_TRACK,void 0),this.emit(QI.ON_NODE,void 0)}updateInput(e){if(e.context!==this.audioProcessorContext)throw new Error("ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).");e.track&&this.inputTrack!==e.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=e.track,this.emit(QI.ON_TRACK,this.inputTrack)),e.node&&this.inputNode!==e.node&&(this.audioProcessorContext.chained=!0,this.inputNode=e.node,this.emit(QI.ON_NODE,this.inputNode))}}class HO extends WA{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t,n){super(),oO(this,"constraintsMap",new Map),oO(this,"statsRegistry",[]),oO(this,"audioContext",void 0),oO(this,"trackId",void 0),oO(this,"direction",void 0),oO(this,"usageRegistry",[]),oO(this,"_chained",!1),this.audioContext=e,this.trackId=t,this.direction=n}async getConstraints(){return ak(this,$I.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(e,t){var n;return sI.info("processor ".concat(t.name," requestApplyConstraints for ").concat(this.trackId)),e&&this.constraintsMap.set(t,e),sk(this,$I.REQUEST_UPDATE_CONSTRAINTS,Array.from(up(n=this.constraintsMap).call(n)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return this.constraintsMap.delete(e),sk(this,$I.REQUEST_UPDATE_CONSTRAINTS,Array.from(up(t=this.constraintsMap).call(t)))}registerStats(e,t,n){this.statsRegistry.find(n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t)||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:n})}unregisterStats(e,t){const n=this.statsRegistry.findIndex(n=>n.processorID===e.ID&&n.processorName===e.name&&n.type===t);-1!==n&&this.statsRegistry.splice(n,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:n,type:i,cb:r}of this.statsRegistry)try{const a=r();e.push({processorID:t,processorName:n,type:i,stats:a})}catch(e){sI.error(new kA(AA.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find(t=>t.processorID===e.ID&&t.processorName===e.name)||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex(t=>t.processorID===e.ID&&t.processorName===e.name);-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let n=t();n instanceof np&&(n=await n),e.push(cO(cO({},n),{},{direction:this.direction}))}catch(e){sI.error("gather extension usage error",e)}return e}getDirection(){return this.direction}}class WO extends WA{get isPlayed(){return!0}get isFreeze(){return!1}constructor(){super(),oO(this,"context",void 0),oO(this,"processSourceNode",void 0),oO(this,"outputTrack",void 0),oO(this,"processedNode",void 0),oO(this,"clonedTrack",void 0),oO(this,"outputNode",void 0),this.outputNode=new GO}setVolume(){}createOutputTrack(){throw new kA(AA.NOT_SUPPORTED,"can not create output MediaStreamTrack when WebAudio disabled")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}}class GO{disconnect(){}connect(){}}function qO(e){return new np((t,n)=>{let i=!1;const r=document.createElement("video");r.setAttribute("autoplay",""),r.setAttribute("muted",""),r.muted=!0,r.autoplay=!0,r.setAttribute("playsinline",""),r.setAttribute("style","position: fixed; top: 0; left: 0; width: 1px; height: 1px"),document.body.appendChild(r);const a=iA()?"canplay":"playing";r.addEventListener(a,()=>{const e=r.videoWidth,n=r.videoHeight;!e&&nA()||(i=!0,r.srcObject=null,r.remove(),t([e,n]))}),r.srcObject=new MediaStream([e]),r.play().catch(Nk),setTimeout(()=>{i||(r.srcObject=null,r.remove(),t([r.videoWidth,r.videoHeight]))},4e3)})}function YO(e){const t={};e.facingMode&&(t.facingMode=e.facingMode),e.cameraId&&(t.deviceId={exact:e.cameraId});const n=RI(e.encoderConfig);return null!=n.width&&(t.width=n.width),null!=n.height&&(t.height=n.height),!yA()&&n.frameRate&&(t.frameRate=n.frameRate),tA()&&"object"==typeof t.frameRate&&(t.frameRate.max=60),nA()&&(t.frameRate={ideal:30,max:30}),t}function XO(e){const t={};return yA()||(void 0!==e.AGC&&(t.autoGainControl=e.AGC),void 0!==e.AEC&&(t.echoCancellation=e.AEC),void 0!==e.ANS&&(t.noiseSuppression=e.ANS,QN()&&e.ANS&&(t.googHighpassFilter=e.ANS))),t}function KO(e){const t=XO(e);if(e.encoderConfig){const n=PI(e.encoderConfig);t.channelCount=n.stereo?2:1,t.sampleRate=n.sampleRate,t.sampleSize=n.sampleSize}return e.microphoneId&&(t.deviceId={exact:e.microphoneId}),EA()&&(t.sampleRate=void 0),t}const JO=e=>{const t=e._encoderConfig;if(!t)return;const{frameRate:n,width:i,height:r}=e.getMediaStreamTrackSettings();let{frameRate:a=n,width:s=i,height:o=r}=t;if(!a||!s||!o)return;s=jk(s),o=jk(o),a=jk(a);const{max:l,min:c}=function(e,t,n){const i=200*Math.pow(n/15,.6)*Math.pow(e*t/640/360,.75);return{min:Math.floor(i),max:Math.floor(4*i)}}(s,o,a),{bitrateMax:d,bitrateMin:u}=t||{};d||sI.debug("calculate bitrate: [w: ".concat(s,", h: ").concat(o,", fps: ").concat(a,"] => [brMax: ").concat(d,", brMin: ").concat(u,"]"));const{maxFramerate:h}=AR("ENCODER_CONFIG_LIMIT");return h&&"number"==typeof h&&(a=Math.min(a,h)),{frameRate:a,bitrateMax:d||l,bitrateMin:u||c,scaleResolutionDownBy:1,scale:0}},ZO=async(e,t,n)=>await(async(e,t,n)=>{const i=function(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(parseInt(e.slice(n,n+2),16));return Uint8Array.from(t)}(Dk(""+t+n)).slice(0,16),r=i.slice(0,12),a=await window.crypto.subtle.importKey("raw",i,"AES-GCM",!0,["encrypt"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},a,e))})(e.buffer,t,n),QO=e=>{const t=document.createElement("canvas");return t.width=2,t.height=2,new np((n,i)=>{t.toBlob(async e=>{if(t.remove(),e){const i=await $O(e);n({buffer:i,width:t.width,height:t.height})}else i(new kA(AA.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))},e,1)})},$O=async e=>{const t=await e.arrayBuffer();return new Uint8Array(t)};var ej,tj,nj,ij,rj,aj,sj,oj,lj,cj,dj,uj,hj,pj,mj,fj,gj,_j,vj,bj,yj,xj,wj,Ej,Sj,Cj,Tj,Nj,Aj,kj,Rj,Ij,Oj,jj,Pj,Dj,Lj,Mj,Uj,Fj;let Bj=(ej=pI({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),tj=pI({argsMap:(e,t)=>[e.getTrackId(),t]}),nj=FO(),ij=Fk("LocalAudioTrack","_enabledMutex"),rj=pI({argsMap:(e,t)=>[e.getTrackId(),t]}),aj=FO(),sj=Fk("LocalAudioTrack","_enabledMutex"),oj=pI({argsMap:(e,t)=>[e.getTrackId(),t]}),lj=FO(),cj=FO(),dj=FO(),uj=pI({argsMap:e=>[e.getTrackId()]}),hj=FO(),pj=pI({argsMap:e=>[e.getTrackId()]}),mj=FO(),fj=pI({argsMap:e=>[e.getTrackId()]}),gj=pI({argsMap:(e,t)=>[e.getTrackId(),t.name]}),_j=pI({argsMap:e=>[e.getTrackId()]}),sO((vj=class extends uO{get _source(){return this.initWebAudio()}set _source(e){this._trackSource=e}get processorContext(){return this._processorContext||(this._processorContext=this.initProcessor().processorContext),this._processorContext}get processorDestination(){return this._processorDestination||(this._processorDestination=this.initProcessor().processorDestination),this._processorDestination}get isPlaying(){return this._useAudioElement?UO.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"LocalAudioTrack"}constructor(e,t,n,i){super(e,n),oO(this,"trackMediaType",GI.AUDIO),oO(this,"_encoderConfig",void 0),oO(this,"_trackSource",void 0),oO(this,"metadata",[]),oO(this,"_enabled",!0),oO(this,"_volume",100),oO(this,"_useAudioElement",!0),oO(this,"_bypassWebAudio",!1),oO(this,"processor",void 0),oO(this,"_processorContext",void 0),oO(this,"_processorDestination",void 0),oO(this,"_getOriginVolumeLevel",void 0),this._encoderConfig=t,this._getOriginVolumeLevel=!!i,this._trackSource=new WO,AR("DISABLE_WEBAUDIO")&&(this._bypassWebAudio=!0),AR("LOCAL_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1),$N()&&!pO?setTimeout(()=>this.initWebAudio()):this.initWebAudio()}setVolume(e){OA(e,"volume",0,1e3),this._volume=e,this._source.setVolume(e/100),this._useAudioElement&&UO.setVolume(this.getTrackId(),e);try{if(this._bypassWebAudio)return void sI.debug("[".concat(this.getTrackId(),"] setVolume returned because no pass through WebAudio."));const e=this._source.createOutputTrack();this._mediaStreamTrack!==e&&(this._mediaStreamTrack=e,sk(this,MI.NEED_REPLACE_TRACK,this).then(()=>{sI.debug("[".concat(this.getTrackId(),"] replace web audio track success"))}).catch(e=>{sI.warning("[".concat(this.getTrackId(),"] replace web audio track failed"),e)}))}catch(e){}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(e){if(!this._useAudioElement||!vI())throw new kA(AA.NOT_SUPPORTED,"your browser does not support setting the audio output device");await UO.setSinkID(this.getTrackId(),e)}async setEnabled(e,t,n){return this._setEnabled(e,t,n)}async _setEnabled(e,t,n){if(!n){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(sI.info("[".concat(this.getTrackId(),"] start setEnabled"),e),e){this._originMediaStreamTrack.enabled=!0;try{n||(this._enabled=!0),await sk(this,MI.NEED_ENABLE_TRACK,this),sI.info("[".concat(this.getTrackId(),"] setEnabled to ").concat(e," success"))}catch(e){throw n||(this._enabled=!1),sI.error("[".concat(this.getTrackId(),"] setEnabled to true error"),e.toString()),e}}else{this._originMediaStreamTrack.enabled=!1,n||(this._enabled=!1);try{await sk(this,MI.NEED_DISABLE_TRACK,this)}catch(e){throw n||(this._enabled=!0),sI.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.toString()),e}}}async setMuted(e){e!==this._muted&&(this.stateCheck("muted",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,sI.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(e)),e?await sk(this,MI.NEED_MUTE_TRACK,this):await sk(this,MI.NEED_UNMUTE_TRACK,this))}getStats(){return gk(()=>{sI.warning("[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead")},"localAudioTrackGetStatsWarning"),ok(this,MI.GET_STATS)||cO({},YI)}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(qI.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(qI.ON_AUDIO_BUFFER),this._source.on(qI.ON_AUDIO_BUFFER,t=>e(t))}play(){sI.debug("[".concat(this.getTrackId(),"] start audio playback")),this._useAudioElement?(sI.debug("[".concat(this.getTrackId(),"] start audio playback in element")),UO.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}stop(){sI.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._useAudioElement?UO.stop(this.getTrackId()):this._source.stop()}close(){super.close(),this._processorDestination&&this.unbindProcessorDestinationEvents(this._processorDestination),this._processorContext&&this.unbindProcessorContextEvents(this._processorContext),this.unpipe(),this._processorDestination&&this._processorDestination._source&&this._processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];sI.debug("[".concat(this.getTrackId(),"] update player source track")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&UO.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(e,t){this._originMediaStreamTrack!==e&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this._processorContext&&this.processor.updateInput({track:e,context:this._processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await sk(this,MI.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(e))}renewMediaStreamTrack(e){return np.resolve(void 0)}pipe(e){if(this._bypassWebAudio)throw new kA(AA.INVALID_OPERATION,"Can not process AudioTrack when bypassWebAudio set to true.");if(this.processor===e)return e;if(e._source)throw new kA(AA.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(e){e.on(QI.ON_TRACK,async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e),await sk(this,MI.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await sk(this,MI.NEED_REPLACE_TRACK,this))}),e.on(QI.ON_NODE,e=>{this._source.processedNode=e})}unbindProcessorDestinationEvents(e){e.removeAllListeners(QI.ON_TRACK),e.removeAllListeners(QI.ON_NODE)}bindProcessorContextEvents(e){e.on($I.REQUEST_CONSTRAINTS,async e=>{e(this._originMediaStreamTrack.getSettings())})}unbindProcessorContextEvents(e){e.removeAllListeners($I.REQUEST_CONSTRAINTS)}initWebAudio(){return this._trackSource instanceof WO&&(this._trackSource=new xO(this._mediaStreamTrack,!1,this._getOriginVolumeLevel?this._mediaStreamTrack:void 0)),this._trackSource}initProcessor(){const e=new HO(this._source.context,this.getTrackId(),"local"),t=new zO(e);return this._processorContext=e,this._processorDestination=t,this.bindProcessorContextEvents(e),this.bindProcessorDestinationEvents(t),this._source.on(qI.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:e})}),this._useAudioElement&&(this._useAudioElement=!1,this.isPlaying&&(UO.stop(this.getTrackId()),this._source.play()),sk(this,MI.NEED_REPLACE_MIXING_TRACK,this).then(()=>{sI.debug("[".concat(this.getTrackId(),"] replace from origin track to web audio track success"))}).catch(e=>{sI.warning("[".concat(this.getTrackId(),"] replace from origin track to web audio track failed"),e)})),{processorContext:e,processorDestination:t}}}).prototype,"setVolume",[ej],Object.getOwnPropertyDescriptor(vj.prototype,"setVolume"),vj.prototype),sO(vj.prototype,"setPlaybackDevice",[tj,nj],Object.getOwnPropertyDescriptor(vj.prototype,"setPlaybackDevice"),vj.prototype),sO(vj.prototype,"setEnabled",[ij,rj,aj],Object.getOwnPropertyDescriptor(vj.prototype,"setEnabled"),vj.prototype),sO(vj.prototype,"setMuted",[sj,oj,lj],Object.getOwnPropertyDescriptor(vj.prototype,"setMuted"),vj.prototype),sO(vj.prototype,"getStats",[cj],Object.getOwnPropertyDescriptor(vj.prototype,"getStats"),vj.prototype),sO(vj.prototype,"setAudioFrameCallback",[dj],Object.getOwnPropertyDescriptor(vj.prototype,"setAudioFrameCallback"),vj.prototype),sO(vj.prototype,"play",[uj,hj],Object.getOwnPropertyDescriptor(vj.prototype,"play"),vj.prototype),sO(vj.prototype,"stop",[pj,mj],Object.getOwnPropertyDescriptor(vj.prototype,"stop"),vj.prototype),sO(vj.prototype,"close",[fj],Object.getOwnPropertyDescriptor(vj.prototype,"close"),vj.prototype),sO(vj.prototype,"pipe",[gj],Object.getOwnPropertyDescriptor(vj.prototype,"pipe"),vj.prototype),sO(vj.prototype,"unpipe",[_j],Object.getOwnPropertyDescriptor(vj.prototype,"unpipe"),vj.prototype),vj),Vj=(bj=pI({argsMap:(e,t)=>[e.getTrackId(),t]}),yj=FO(),xj=Fk("MicrophoneAudioTrack","_enabledMutex"),wj=pI({argsMap:(e,t,n)=>[e.getTrackId(),t,n]}),Ej=FO(),Sj=pI({argsMap:e=>[e.getTrackId()]}),sO((Cj=class extends Bj{get __className__(){return"MicrophoneAudioTrack"}constructor(e,t,n,i){super(e,t.encoderConfig?PI(t.encoderConfig):{},i,AR("GET_VOLUME_OF_MUTED_AUDIO_TRACK")),oO(this,"_config",void 0),oO(this,"_deviceName","default"),oO(this,"_constraints",void 0),oO(this,"_originalConstraints",void 0),oO(this,"_enabled",!0),this._config=t,this._constraints=n,this._originalConstraints=n,this._deviceName=e.label,"boolean"==typeof t.bypassWebAudio&&(this._bypassWebAudio=t.bypassWebAudio),(fA()||gA())&&mO.bindInterruptDetectorTrack(this)}async setDevice(e){if(sI.info("[".concat(this.getTrackId(),"] start set device to ").concat(e)),this._enabled)try{const t=await OO.getDeviceById(e),n={};n.audio=cO({},this._constraints),n.audio.deviceId={exact:e},this._originMediaStreamTrack.stop();let i=null;try{i=await AO(n,this.getTrackId())}catch(e){throw sI.error("[".concat(this.getTrackId(),"] setDevice failed"),e.toString()),i=await AO({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(i.getAudioTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(i.getAudioTracks()[0],!1),this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw sI.error("[".concat(this.getTrackId(),"] setDevice error"),e.toString()),e}else try{const t=await OO.getDeviceById(e);this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw sI.error("[".concat(this.getTrackId(),"] setDevice error"),e.toString()),e}sI.info("[".concat(this.getTrackId(),"] set device to ").concat(e," success"))}async setEnabled(e,t,n){if(t)return sI.debug("[".concat(this.getTrackId(),"] setEnabled false (do not close microphone)")),await super._setEnabled(e);if(!n){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(sI.info("[".concat(this.getTrackId(),"] start setEnabled"),e),AR("AUTO_RESET_AUDIO_ROUTE")&&(iA()||vA())){const t=navigator.audioSession;t&&(e||(t.type="playback"),t.type="auto")}if(!e){var i;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),null===(i=this._source.clonedTrack)||void 0===i||i.stop(),n||(this._enabled=!1);try{await sk(this,MI.NEED_DISABLE_TRACK,this)}catch(e){throw sI.error("[".concat(this.getTrackId(),"] setEnabled false failed"),e.toString()),e}return}const r=cO({},this._constraints),a=OO.searchDeviceIdByName(this._deviceName);a&&!r.deviceId&&(r.deviceId=a);try{n||(this._enabled=!0);const e=await AO({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!1),await sk(this,MI.NEED_ENABLE_TRACK,this)}catch(e){throw n||(this._enabled=!1),sI.error("[".concat(this.getTrackId(),"] setEnabled true failed"),e.toString()),e}sI.info("[".concat(this.getTrackId(),"] setEnabled success"))}close(){super.close(),(fA()||gA())&&mO.unbindInterruptDetectorTrack(this)}onTrackEnded(){if((iA()||vA())&&this._enabled&&!this._isClosed&&mO.duringInterruption){const e=async()=>{mO.off(wI.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(sI.debug("[".concat(this.getTrackId(),"] try capture microphone media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};mO.on(wI.IOS_INTERRUPTION_END,e)}else sI.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(HI.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,n=OO.searchDeviceIdByName(this._deviceName);if(n&&!t.deviceId&&(t.deviceId=n),this._constraints=t,this._enabled){this._originMediaStreamTrack.stop();const e=await AO({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!0)}}bindProcessorContextEvents(e){super.bindProcessorContextEvents(e),e.on($I.REQUEST_UPDATE_CONSTRAINTS,async(e,t,n)=>{try{const n=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(n),t()}catch(e){n(e)}})}unbindProcessorContextEvents(e){super.unbindProcessorContextEvents(e),e.removeAllListeners($I.REQUEST_UPDATE_CONSTRAINTS)}}).prototype,"setDevice",[bj,yj],Object.getOwnPropertyDescriptor(Cj.prototype,"setDevice"),Cj.prototype),sO(Cj.prototype,"setEnabled",[xj,wj,Ej],Object.getOwnPropertyDescriptor(Cj.prototype,"setEnabled"),Cj.prototype),sO(Cj.prototype,"close",[Sj],Object.getOwnPropertyDescriptor(Cj.prototype,"close"),Cj.prototype),Cj),zj=(Tj=pI({argsMap:(e,t)=>[e.getTrackId(),t,e.duration]}),Nj=FO(),Aj=pI({argsMap:e=>[e.getTrackId()]}),kj=FO(),Rj=pI({argsMap:e=>[e.getTrackId()]}),Ij=FO(),Oj=pI({argsMap:e=>[e.getTrackId()]}),jj=FO(),Pj=pI({argsMap:e=>[e.getTrackId()]}),Dj=FO(),Lj=pI({argsMap:e=>[e.getTrackId()]}),Mj=pI({argsMap:e=>[e.getTrackId()]}),Uj=FO(),sO((Fj=class extends Bj{get __className__(){return"BufferSourceAudioTrack"}constructor(e,t,n,i){super(t.createOutputTrack(),n,i),oO(this,"source",void 0),oO(this,"_bufferSource",void 0),this._useAudioElement=!1,this.source=e,this._bufferSource=t,this._bufferSource.on(qI.AUDIO_SOURCE_STATE_CHANGE,e=>{this.safeEmit(HI.SOURCE_STATE_CHANGE,e)});try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(e){e&&this._bufferSource.updateOptions(e),this._bufferSource.startProcessAudioBuffer()}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer()}seekAudioBuffer(e){this._bufferSource.seekAudioBuffer(e)}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer()}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer()}close(){this.source=null,this._bufferSource.destroy(),super.close()}setAudioBufferPlaybackSpeed(e){OA(e,"speed",0),this._bufferSource.setAudioBufferPlaybackSpeed(e)}}).prototype,"startProcessAudioBuffer",[Tj,Nj],Object.getOwnPropertyDescriptor(Fj.prototype,"startProcessAudioBuffer"),Fj.prototype),sO(Fj.prototype,"pauseProcessAudioBuffer",[Aj,kj],Object.getOwnPropertyDescriptor(Fj.prototype,"pauseProcessAudioBuffer"),Fj.prototype),sO(Fj.prototype,"seekAudioBuffer",[Rj,Ij],Object.getOwnPropertyDescriptor(Fj.prototype,"seekAudioBuffer"),Fj.prototype),sO(Fj.prototype,"resumeProcessAudioBuffer",[Oj,jj],Object.getOwnPropertyDescriptor(Fj.prototype,"resumeProcessAudioBuffer"),Fj.prototype),sO(Fj.prototype,"stopProcessAudioBuffer",[Pj,Dj],Object.getOwnPropertyDescriptor(Fj.prototype,"stopProcessAudioBuffer"),Fj.prototype),sO(Fj.prototype,"close",[Lj],Object.getOwnPropertyDescriptor(Fj.prototype,"close"),Fj.prototype),sO(Fj.prototype,"setAudioBufferPlaybackSpeed",[Mj,Uj],Object.getOwnPropertyDescriptor(Fj.prototype,"setAudioBufferPlaybackSpeed"),Fj.prototype),Fj);class Hj extends Bj{get __className__(){return"MixingAudioTrack"}get isActive(){for(const e of this.trackList)if(e._enabled&&!e._isClosed&&!e.muted)return!0;return!1}constructor(){const e=fO().createMediaStreamDestination();super(e.stream.getAudioTracks()[0],void 0,Ck(8,"track-mix-")),oO(this,"trackList",void 0),oO(this,"destNode",void 0),this._useAudioElement=!1;try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}this.destNode=e,this.trackList=[]}hasAudioTrack(e){return-1!==this.trackList.indexOf(e)}addAudioTrack(e){-1===this.trackList.indexOf(e)?(sI.debug("add ".concat(e.getTrackId()," to mixing track")),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()):sI.debug("track ".concat(e.getTrackId()," is already added"))}removeAudioTrack(e){if(-1!==this.trackList.indexOf(e)){sI.debug("remove ".concat(e.getTrackId()," from mixing track"));try{e._source.outputNode.disconnect(this.destNode)}catch(e){}dk(this.trackList,e),this.updateEncoderConfig()}}updateEncoderConfig(){const e={};this.trackList.forEach(t=>{t._encoderConfig&&((t._encoderConfig.bitrate||0)>(e.bitrate||0)&&(e.bitrate=t._encoderConfig.bitrate),(t._encoderConfig.sampleRate||0)>(e.sampleRate||0)&&(e.sampleRate=t._encoderConfig.sampleRate),(t._encoderConfig.sampleSize||0)>(e.sampleSize||0)&&(e.sampleSize=t._encoderConfig.sampleSize),t._encoderConfig.stereo&&(e.stereo=!0))}),this._encoderConfig=e}_updateRtpTransceiver(e){this._rtpTransceiver!==e&&(this._rtpTransceiver=e,this.trackList.forEach(t=>{t instanceof Hj?t.emit(zI.TRANSCEIVER_UPDATED,e):t._updateRtpTransceiver(e)}))}}class Wj extends yO{set currentState(e){e!==this._currentState&&(this._currentState=e,this.safeEmit(qI.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),oO(this,"audioBuffer",void 0),oO(this,"sourceNode",void 0),oO(this,"startPlayTime",0),oO(this,"startPlayOffset",0),oO(this,"pausePlayTime",0),oO(this,"options",void 0),oO(this,"currentLoopCount",0),oO(this,"currentPlaybackSpeed",100),oO(this,"_currentState","stopped"),this.audioBuffer=e,this.options=t,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer?this.audioBuffer.duration:0}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return this.audioBuffer?"stopped"===this.currentState?0:"paused"===this.currentState?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration:0}updateOptions(e){"stopped"===this.currentState?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):sI.warning("can not set audio source options")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState="playing"}pauseProcessAudioBuffer(){this.sourceNode&&"playing"===this.currentState&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState="paused")}seekAudioBuffer(e){this.sourceNode&&(this.sourceNode.onended=null,"playing"===this.currentState&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),"playing"===this.currentState?(this.startPlayOffset=e,this.startSourceNode()):"paused"===this.currentState&&(this.pausePlayTime=e))}resumeProcessAudioBuffer(){"paused"===this.currentState&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState="playing")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch(e){}this.reset()}}destroy(){this.audioBuffer=null,super.destroy()}setAudioBufferPlaybackSpeed(e){this.sourceNode&&("playing"===this.currentState&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=e/100),this.currentPlaybackSpeed=e}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e.playbackRate.value=this.currentPlaybackSpeed/100,e}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState="stopped",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const Gj=new Map;function qj(e,t){if(0===e.length||0===t.length)return 1/0;const n=Pk(e),i=Pk(t);return Math.floor(i/n)}class Yj{get rendFrameRate(){const e=Math.max(1,qj(this._render_interframe_delays_sizes,this._render_interframe_delays));return Math.floor(1e3/e)}get videoElementStatus(){return this._isInPage?this._videoElementStatus:nO.DESTROYED}set videoElementStatus(e){e!==this._videoElementStatus&&(sI.debug("[".concat(this.trackId,"] video-element-status change ").concat(this._videoElementStatus," => ").concat(e)),this._videoElementStatus=e)}get videoState(){return this._videoState}set videoState(e){var t;e!==this._videoState&&(this._videoState=e,null===(t=this.onVideoStateChanged)||void 0===t||t.call(this,this.videoState))}constructor(e){oO(this,"trackId",void 0),oO(this,"config",void 0),oO(this,"onFirstVideoFrameDecoded",void 0),oO(this,"onFirstVideoFrameRender",void 0),oO(this,"onVideoStateChanged",void 0),oO(this,"freezeTimeCounterList",[]),oO(this,"renderFreezeAccTime",0),oO(this,"renderFreezeAccTime2",0),oO(this,"isKeepLastFrame",!1),oO(this,"isDestroyed",!1),oO(this,"timeUpdatedCount",0),oO(this,"freezeTime",0),oO(this,"playbackTime",0),oO(this,"lastTimeUpdatedTime",0),oO(this,"autoplayFailed",!1),oO(this,"videoTrack",void 0),oO(this,"videoElement",void 0),oO(this,"cacheVideoElement",void 0),oO(this,"internal",!1),oO(this,"_render_interframe_delays",[]),oO(this,"_render_interframe_delays_sizes",[]),oO(this,"_videoState",iO.VideoStateStopped),oO(this,"videoElementCheckInterval",void 0),oO(this,"videoElementFreezeTimeout",void 0),oO(this,"_videoElementStatus",nO.NONE),oO(this,"_isInPage",!0),oO(this,"isGettingVideoDimensions",!1),oO(this,"startGetVideoDimensions",()=>{const e=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return sI.debug("[".concat(this.trackId,"] current video dimensions:"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(e,500)};!this.isGettingVideoDimensions&&e()}),oO(this,"autoResumeAfterInterruption",()=>{this.videoTrack&&"live"===this.videoTrack.readyState&&"running"===mO.curState&&(sI.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(JN())),_A()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))}),oO(this,"handleVideoEvents",e=>{switch(e.type){case"play":case"playing":"play"===e.type&&sI.debug("[".concat(this.trackId,"] video element status: play")),this.startGetVideoDimensions(),this.videoElementStatus=nO.PLAYING;break;case"loadeddata":if(this.videoState=iO.VideoStateStarting,this.onFirstVideoFrameRender&&this.onFirstVideoFrameRender(),this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove()}catch(e){}this.cacheVideoElement=void 0}break;case"canplay":this.videoElementStatus=nO.CANPLAY;break;case"stalled":this.videoElementStatus=nO.STALLED;break;case"suspend":this.videoElementStatus=nO.SUSPEND;break;case"pause":this.videoElementStatus=nO.PAUSED,iA()||vA()||$N()&&this.autoplayFailed||!this.videoTrack||"live"!==this.videoTrack.readyState||(sI.debug("[track-".concat(this.trackId,"] video element paused, auto resume")),this.videoElement.play());break;case"waiting":this.videoElementStatus=nO.WAITING;break;case"abort":this.videoElementStatus=nO.ABORT;break;case"ended":this.videoElementStatus=nO.ENDED;break;case"emptied":this.videoElementStatus=nO.EMPTIED;break;case"error":{const e=this.videoElement.error;e&&(this.videoElementStatus=nO.ERROR,sI.error("[".concat(this.trackId,"] media error: ").concat(e.message," (").concat(e.code,")")));break}case"timeupdate":{const e=performance.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=e);const t=e-this.lastTimeUpdatedTime,n=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=e,QP.lastVisibleTime<QP.lastHiddenTime||n<QP.lastHiddenTime||n<QP.lastVisibleTime)return;if(this.isSkipCalcRenderFreezeTime())return;for(t>AR("VIDEO_FREEZE_DURATION")&&(this.freezeTime+=t),this.playbackTime+=t;this.playbackTime>=6e3;){this.playbackTime-=6e3;const e=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(e),this.freezeTime=Math.max(0,this.freezeTime-6e3)}break}}}),oO(this,"autoResumeAfterInterruptionOnIOS15_16",()=>{this.videoTrack&&"live"===this.videoTrack.readyState&&(sI.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(JN())),_A()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))}),this.trackId=e.trackId,this.config=e,e.element instanceof HTMLVideoElement?this.videoElement=e.element:this.videoElement=document.createElement("video"),mO.on(wI.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),mO.on(wI.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16)}getVideoElement(){return this.videoElement}getContainerElement(){var e;return null!==(e=this.videoElement.parentElement)&&void 0!==e?e:void 0}updateConfig(e){this.config=e,this.trackId=e.trackId,e.element!==this.videoElement&&(this.destroy(),this.videoElement=e.element),this.videoTrack&&this.initVideoElement()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.initVideoElement())}play(e){const t=this.videoElement.play();t&&t.catch&&t.catch(t=>{e&&LO(e,"video",t.message,this.trackId),"NotAllowedError"===t.name?(sI.warning("detected video element autoplay failed",t),this.autoplayFailed=!0,this.handleAutoPlayFailed()):sI.warning("[".concat(this.trackId,"] play warning: "),t)});const n=YN();if(("Safari"===n.name&&15===Number(n.version)||fA())&&t&&t.then){const e=()=>{this.config.mirror&&(this.videoElement.style.transform="rotateY(180deg)")};t.then(e).catch(e)}}getCurrentFrame(){const e=document.createElement("canvas");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;const t=e.getContext("2d");if(!t)return sI.error("create canvas context failed!"),new ImageData(2,2);t.drawImage(this.videoElement,0,0,e.width,e.height);const n=t.getImageData(0,0,e.width,e.height);return e.remove(),n}async getCurrentFrameToUint8Array(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=document.createElement("canvas");n.width=this.videoElement.videoWidth,n.height=this.videoElement.videoHeight;const i=n.getContext("2d");return i?(i.drawImage(this.videoElement,0,0,n.width,n.height),new np((i,r)=>{n.toBlob(async e=>{if(n.remove(),e){const t=await $O(e);i({buffer:t,width:n.width,height:n.height})}else r(new kA(AA.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))},e,t<0?.1:t>1?1:t)})):await QO(e)}destroy(){this.isDestroyed=!0,mO.off(wI.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),mO.off(wI.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[],this.videoState=iO.VideoStateStopped}initVideoElement(){if(this.videoElementStatus=nO.INIT,!this.videoElementCheckInterval&&(Xj.forEach(e=>{this.videoElement.addEventListener(e,this.handleVideoEvents)}),this.videoElementCheckInterval=window.setInterval(()=>{this._isInPage=function(e){return e!==document.body&&document.body.contains(e)}(this.videoElement)},1e3),AR("ENABLE_VIDEO_FRAME_CALLBACK"))){var e,t;let n;const i=()=>{"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",i),this.videoElementFreezeTimeout=window.setTimeout(r,AR("VIDEO_FREEZE_DURATION")))},r=()=>{this.videoElementFreezeTimeout=void 0,this.videoState===iO.VideoStateDecoding&&("visible"===document.visibilityState?this.videoState=iO.VideoStateFrozen:document.addEventListener("visibilitychange",i))},a=(e,t)=>{if(this.videoElementStatus===nO.PLAYING){if(n){const e=t.presentationTime-n.presentationTime,i=t.presentedFrames-n.presentedFrames;this._render_interframe_delays_sizes.push(i),this._render_interframe_delays.push(e);const a=Pk(this._render_interframe_delays_sizes),s=a-this._render_interframe_delays_sizes[0];if(a>30&&s>5&&(this._render_interframe_delays_sizes.shift(),this._render_interframe_delays.shift()),this.videoState===iO.VideoStateStarting&&(this.videoState=iO.VideoStateDecoding),this.videoState===iO.VideoStateDecoding&&this.onVideoStateChanged&&(this.videoElementFreezeTimeout&&window.clearTimeout(this.videoElementFreezeTimeout),this.videoElementFreezeTimeout=window.setTimeout(r,AR("VIDEO_FREEZE_DURATION"))),e<AR("VIDEO_FREEZE_DURATION")&&this.videoState===iO.VideoStateFrozen&&(this.videoState=iO.VideoStateDecoding),e>AR("VIDEO_FREEZE_DURATION")&&QP.lastVisibleTime>=QP.lastHiddenTime&&n.timestamp>QP.lastVisibleTime&&n.timestamp>QP.lastHiddenTime){const t=Math.min(66,qj(this._render_interframe_delays_sizes,this._render_interframe_delays)),n=Math.max(0,e-(i-1)*t);this.renderFreezeAccTime2+=n>t?n:0,this.renderFreezeAccTime+=e}}n=cO(cO({},t),{},{timestamp:e})}else this.isSkipCalcRenderFreezeTime()&&(n=cO(cO({},t),{},{timestamp:e}));var i,s;AR("ENABLE_VIDEO_FRAME_CALLBACK")&&(null===(i=(s=this.videoElement).requestVideoFrameCallback)||void 0===i||i.call(s,a))};null===(e=(t=this.videoElement).requestVideoFrameCallback)||void 0===e||e.call(t,a)}this.videoElement.controls=!1,this.videoElement.setAttribute("playsinline",""),EA()&&!AR("HIDE_NO_POSTER")&&(this.videoElement.poster="noposter");const n=YN();"Safari"===n.name&&15===Number(n.version)||fA()||!this.config.mirror||(this.videoElement.style.transform="rotateY(180deg)"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit="cover",this.videoElement.setAttribute("muted",""),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,nA()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,nA()&&this.videoElement.load());const i=this.videoElement.play();void 0!==i&&i.catch(e=>{sI.debug("[".concat(this.trackId,"] playback interrupted"),e.toString())})}resetVideoElement(){Xj.forEach(e=>{this.videoElement&&this.videoElement.removeEventListener(e,this.handleVideoEvents)}),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.videoElementStatus=nO.NONE}isSkipCalcRenderFreezeTime(){return this.videoElementStatus===nO.DESTROYED||this.internal}handleAutoPlayFailed(){const e=t=>{t.preventDefault(),this.videoElement.play().then(()=>{sI.debug("[".concat(this.trackId,"] Video element for trackId:").concat(this.trackId," autoplay resumed."))}).catch(e=>{sI.error(e)}),this.autoplayFailed=!1,SA()?document.body.removeEventListener("click",e,!0):(document.body.removeEventListener("touchstart",e,!0),document.body.removeEventListener("mousedown",e,!0))};SA()?document.body.addEventListener("click",e,!0):(document.body.addEventListener("touchstart",e,!0),document.body.addEventListener("mousedown",e,!0)),DO()}}const Xj=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","timeupdate","error"];class Kj extends Yj{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(e),oO(this,"container",void 0),oO(this,"slot",void 0),this.slot=e.element,this.internal=t,this.updateConfig(e)}updateConfig(e){this.config=e,this.trackId=e.trackId;const t=e.element;var n;!this.internal||this.slot?(t!==this.slot&&(this.destroy(),this.slot=t),this.createElements()):(this.slot=t,t&&this.container?(this.internal=!1,this.container.id="agora-video-player-".concat(this.trackId),this.videoElement.id="video_".concat(this.trackId),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit="cover",null===(n=this.slot)||void 0===n||n.appendChild(this.container)):this.createElements())}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements())}play(e){var t;null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)&&super.play(e)}getCurrentFrame(){var e;return null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(e,n):await QO(e)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement("video"),this.container){try{var e;this.container.remove(),null===(e=this.slot)||void 0===e||e.removeChild(this.container)}catch(e){}this.container=void 0}}createElements(){var e;this.container||(this.container=document.createElement("div")),this.container.id="agora-video-player-".concat(this.trackId),this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="relative",this.container.style.overflow="hidden",this.videoTrack?(this.container.style.backgroundColor="black",AR("KEEP_LAST_FRAME")&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),null===(e=this.slot)||void 0===e||e.appendChild(this.container)}mountedVideoElement(){var e;!this.container||null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id="video_".concat(this.trackId),this.videoElement.className="agora_video_player",this.videoElement.style.width="100%",this.videoElement.style.height="100%",this.videoElement.style.position="absolute",this.videoElement.style.left="0",this.videoElement.style.top="0"}unmountedVideoElement(){var e;if(null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement)}catch(e){}this.videoElement=document.createElement("video")}}resetVideoElement(){var e;null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement("video"))}getContainerElement(){return this.container}}var Jj,Zj,Qj,$j,eP,tP,nP,iP,rP,aP,sP,oP,lP,cP,dP,uP,hP,pP,mP,fP,gP,_P,vP,bP,yP,xP,wP,EP,SP,CP,TP,NP,AP,kP,RP,IP,OP,jP;let PP=(Jj=pI({argsMap:(e,t,n)=>[e.getTrackId(),"string"==typeof t?t:t instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",n]}),Zj=FO(),Qj=pI({argsMap:e=>[e.getTrackId()]}),$j=Fk("LocalVideoTrack","_enabledMutex"),eP=pI({argsMap:(e,t)=>[e.getTrackId(),t]}),tP=FO(),nP=Fk("LocalVideoTrack","_enabledMutex"),iP=pI({argsMap:(e,t)=>[e.getTrackId(),t]}),rP=FO(),aP=pI({argsMap:(e,t)=>[e.getTrackId(),t,e._saveEncodeBitrateRatio]}),sP=FO(),oP=pI({argsMap:(e,t)=>[e.getTrackId(),t]}),lP=FO(),cP=FO(),dP=pI({argsMap:(e,t,n)=>[e.getTrackId(),t,n]}),uP=FO(),hP=FO(),pP=FO(),mP=pI({argsMap:e=>[e.getTrackId()]}),fP=FO(),gP=FO(),_P=FO(),vP=FO(),bP=FO(),yP=pI({argsMap:(e,t)=>[e.getTrackId(),t.name]}),xP=pI({argsMap:e=>[e.getTrackId()]}),wP=pI({argsMap:e=>[e.getTrackId()]}),EP=pI({argsMap:(e,t,n)=>[e.getTrackId(),t.label,n]}),SP=class e extends uO{get videoHeight(){if($N()){const{height:e}=this._mediaStreamTrack.getSettings();return this._videoHeight=e,this._videoHeight}return this._videoHeight}get videoWidth(){if($N()){const{width:e}=this._mediaStreamTrack.getSettings();return this._videoWidth=e,this._videoWidth}return this._videoWidth}get isPlaying(){return!(!this._player||this._player.videoElementStatus!==nO.PLAYING)}get processorDestination(){return this._processorDestination}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}get __className__(){return"LocalVideoTrack"}constructor(e,t,n,i,r,a){if(super(e,r),oO(this,"trackMediaType",GI.VIDEO),oO(this,"_player",void 0),oO(this,"isUseScaleResolutionDownBy",!1),oO(this,"_videoVisibleTimer",null),oO(this,"_previousVideoVisibleStatus",void 0),oO(this,"_clearPreviousVideoVisibleStatus",()=>this._previousVideoVisibleStatus=void 0),oO(this,"_encoderConfig",void 0),oO(this,"_scalabilityMode",{numSpatialLayers:1,numTemporalLayers:1}),oO(this,"_optimizationMode",void 0),oO(this,"_saveEncodeBitrateRatio",1),oO(this,"_videoHeight",void 0),oO(this,"_videoWidth",void 0),oO(this,"_forceBitrateLimit",void 0),oO(this,"_enabled",!0),oO(this,"_processorDestination",void 0),oO(this,"_processorContext",void 0),$N()){const{width:t,height:n}=e.getSettings();this._videoWidth=t,this._videoHeight=n}else this.updateMediaStreamTrackResolution();if(this._scalabilityMode=n,this._optimizationMode=i,this._hints=a||[],t&&-1!==this._hints.indexOf(UI.CUSTOM_TRACK)?this._encoderConfig=pk(t):this._encoderConfig=t,-1===this._hints.indexOf(UI.SCREEN_TRACK))this.updateBitrateFromProfile();else if(sA(HN.CHROME,115)&&-1!==KN().indexOf("Windows")){const t=function(e,t){if("VideoFrame"in window&&"TransformStream"in window&&_I().supportWebRTCInsertableStream){const n=new MediaStreamTrackProcessor(e),i=new MediaStreamTrackGenerator({kind:"video"});let r,a,s=Date.now();const o=()=>{l&&(clearInterval(l),l=void 0),r&&(r.close(),r=void 0),e.stop(),a=void 0,i.removeEventListener("ended",o)};let l=window.setInterval(()=>{if(a&&r&&Date.now()-s>(null!=t?t:1e3))try{"live"===i.readyState?a.enqueue(r.clone()):o()}catch(e){o()}},null!=t?t:1e3);const c=new TransformStream({transform:(e,t)=>{"live"===i.readyState?(a=t,s=Date.now(),void 0===r?(r=e,t.enqueue(e.clone())):(t.enqueue(r),r=e)):e.close()}});return i.addEventListener("ended",o),n.readable.pipeThrough(c).pipeTo(i.writable),i}}(e);t&&(sI.info("local screen video track begin to inject frame"),this._mediaStreamTrack=t)}t&&-1!==this._hints.indexOf(UI.CUSTOM_TRACK)&&this.setEncoderConfiguration(t),this._processorContext=new VO(this.getTrackId(),"local"),this._processorDestination=new BO(this.processorContext),this.bindProcessorDestinationEvents()}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof e){const t=document.getElementById(e);t?e=t:(sI.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),e=document.body)}sI.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(e instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(t));const n=cO(cO(cO({},this._getDefaultPlayerConfig()),t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(n):(e instanceof HTMLVideoElement?this._player=new Yj(n):this._player=new Kj(n),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(HI.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}},AR("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,sI.debug("[".concat(this.getTrackId(),"] stop video playback")))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(sI.info("[".concat(this.getTrackId(),"] start setEnabled"),e),!e){this._originMediaStreamTrack.enabled=!1;try{await sk(this,MI.NEED_DISABLE_TRACK,this)}catch(e){throw sI.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.toString()),e}return t||(this._enabled=!1),void sI.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}this._originMediaStreamTrack.enabled=!0;try{await sk(this,MI.NEED_ENABLE_TRACK,this)}catch(e){throw sI.error("[".concat(this.getTrackId(),"] setEnabled to true error"),e.toString()),e}sI.info("[".concat(this.getTrackId(),"] setEnabled to true success")),t||(this._enabled=!0)}async setMuted(e){e!==this._muted&&(this.stateCheck("muted",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,sI.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(e)),e?await sk(this,MI.NEED_MUTE_TRACK,this):await sk(this,MI.NEED_UNMUTE_TRACK,this))}async setSaveEncodeBitrateRatio(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._saveEncodeBitrateRatio;if(1!==this._saveEncodeBitrateRatio&&this._encoderConfig&&this._encoderConfig.bitrateMax&&this._encoderConfig.bitrateMin){this._encoderConfig.bitrateMin=Math.floor(this._encoderConfig.bitrateMin*e),this._encoderConfig.bitrateMax=Math.floor(this._encoderConfig.bitrateMax*e),sI.debug("[".concat(this.getTrackId(),"] set save encode bitrate ratio, ").concat(e)),this._saveEncodeBitrateRatio=1;try{await sk(this,MI.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(sI)}}}async setEncoderConfiguration(e,t){if(!this._enabled)throw new kA(AA.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");if(e=RI(e),AR("USE_STANDARD_BITRATE_DEFAULT")&&(delete e.bitrateMax,delete e.bitrateMin),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),e.width||e.height||e.frameRate){const t=YO({encoderConfig:e});($N()||iA()||vA())&&(t.deviceId=void 0),sI.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(e),JSON.stringify(t));try{await this._originMediaStreamTrack.applyConstraints(t),this.updateMediaStreamTrackResolution()}catch(e){const t=new kA(AA.UNEXPECTED_ERROR,e.toString());throw sI.error("[".concat(this.getTrackId(),"] applyConstraints error"),t.toString()),t}}this._encoderConfig=e,-1===this._hints.indexOf(UI.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await sk(this,MI.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(sI)}}getStats(){return gk(()=>{sI.warning("[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead")},"localVideoTrackGetStatsWarning"),ok(this,MI.GET_STATS)||cO({},XI)}async setBeautyEffect(e){sI.error("LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect")}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(e,t):await QO(e)}async findClosestProfile(){const{width:e,height:t,frameRate:n}=this.getMediaStreamTrackSettings(),{width:i,height:r,frameRate:a}=this._encoderConfig||{},s=jk(this._videoWidth||e||i||0),o=jk(this._videoHeight||t||r||0),l=function(e,t,n){if(!Array.isArray(AR("VIDEO_ENCODER_CONFIG_LIST")))return!1;if(0===AR("VIDEO_ENCODER_CONFIG_LIST").length)return!1;const i=Math.min(e,t);return!(i>=480)&&cO(cO({},AR("VIDEO_ENCODER_CONFIG_LIST").find(e=>e.height>i)),{},{frameRate:n})}(s,o,jk(n||a||15));if(l)return sI.debug("[".concat(this.getTrackId(),"] find closest profile, ").concat(s,"x").concat(o," => ").concat(JSON.stringify(l))),this.setEncoderConfiguration(l)}async setBitrateLimit(e){sI.debug("[".concat(this.getTrackId(),"] set bitrate limit, ").concat(JSON.stringify(e))),e&&(this._forceBitrateLimit=e,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<e.max_bitrate?this._encoderConfig.bitrateMax:e.max_bitrate:this._encoderConfig.bitrateMax=e.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=e.min_bitrate))}async setOptimizationMode(e){if("motion"!==e&&"detail"!==e&&"balanced"!==e)return void sI.error(AA.INVALID_PARAMS,"optimization mode must be motion, detail or balanced");const t=this._optimizationMode;try{this._optimizationMode=e,await sk(this,MI.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this)}catch(e){throw this._optimizationMode=t,sI.error("[".concat(this.getTrackId(),"] set optimization mode failed"),e.toString()),e}sI.info("[".concat(this.getTrackId(),"] set optimization mode success (").concat(e,")"))}setScalabiltyMode(e){if(1===e.numSpatialLayers&&1!==e.numTemporalLayers)return sI.error(AA.INVALID_PARAMS,"scalability mode currently not supported, no SVC."),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=e,sI.info("[".concat(this.getTrackId(),"] set scalability mode success (").concat(e,")"))}updateMediaStreamTrackResolution(){qO(this._originMediaStreamTrack).then(e=>{let[t,n]=e;this._videoHeight=n,this._videoWidth=t}).catch(Nk)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:"contain"}}async setSenderConfiguration(e){if(!this._enabled)throw new kA(AA.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");sI.debug("[".concat(this.getTrackId(),"] setSenderConfiguration applyConstraints"),JSON.stringify(e)),e=RI(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),this._encoderConfig=e,-1===this._hints.indexOf(UI.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await sk(this,MI.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(sI)}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:e,height:t,frameRate:n}=this.getMediaStreamTrackSettings();if(!e||!t||!n)return;const{bitrateMax:i,bitrateMin:r}=this._encoderConfig;if(null==r||null==i){const{max:a,min:s}=function(e,t,n,i,r){const a=AR("BITRATE_ADAPTER_TYPE");if("DEFAULT_BITRATE"===a)return{min:i,max:r};if(void 0===r){const s=Math.floor(200*Math.pow(n/15,.6)*Math.pow(e*t/640/360,.75));r="STANDARD_BITRATE"===a?4*s:2*s,i=null!=i?i:s}else i=null!=i?i:Math.floor(r/10);return{min:i,max:r}}(e,t,n,r,i);if(this._encoderConfig.bitrateMin=s,this._encoderConfig.bitrateMax=a,AR("VIDEO_STANDARD_BITRATE_VERSION")&&null==r&&null==i){const[i,r]=function(e,t,n){const i=4*Math.floor(2e5*Math.pow(n/15,.6)*Math.pow(e*t/230400,.75)),r=e*t,a=new Map([[19200,.9],[230400,.85],[518400,.75],[921600,.7],[2073600,.6],[3686400,.5]]),s=new Map([[230400,.95],[518400,.9],[921600,.85],[2073600,.8]]);let o=up(a).call(a).next().value,l=1;if(a.has(r))o=a.get(r);else{var c;const e=Kp(c=Array.from(a.entries())).call(c,(e,t)=>{let[n]=e,[i]=t;return n-i}),t=e.find(e=>{let[t]=e;return t>r});if(t){const n=e.indexOf(t);if(n>0){const i=e[n-1],a=(r-i[0])/(t[0]-i[0]);o=i[1]+a*(t[1]-i[1])}else o=t[1]}else o=e[e.length-1][1]}if(s.has(r))l=s.get(r);else{var d;const e=Kp(d=Array.from(s.entries())).call(d,(e,t)=>{let[n]=e,[i]=t;return n-i}),t=e.find(e=>{let[t]=e;return t>r});if(t){const n=e.indexOf(t);if(n>0){const i=e[n-1],a=(r-i[0])/(t[0]-i[0]);l=i[1]+a*(t[1]-i[1])}else l=t[1]}else l=e[e.length-1][1]}const u=AR("VIDEO_NEW_BITRATE_RATIO");u&&u>0&&(o=u/100);const h=Math.floor(i*o),p=Math.floor(65e4*Math.pow(e*t/230400,.5)*Math.pow(n/15,.69));let m=h;const f=AR("VIDEO_STANDARD_BITRATE_VERSION");return f&&f>0&&(1===f?m=i:2===f?m=h:3===f&&(m=p)),[Math.floor(m/1e3),l]}(e,t,n);this._encoderConfig.bitrateMax=i,this._encoderConfig.bitrateMin=s?Math.min(s,i):i,this._saveEncodeBitrateRatio=r,sI.debug("[".concat(this.getTrackId(),"] update new bitrate from profile, [w: ").concat(e,", h: ").concat(t,", fps: ").concat(n,"] => [brMax: ").concat(this._encoderConfig.bitrateMax,", brMin: ").concat(this._encoderConfig.bitrateMin,", save_bitrate_ratio: ").concat(this._saveEncodeBitrateRatio,"]"))}else sI.debug("[".concat(this.getTrackId(),"] update bitrate from profile, [w: ").concat(e,", h: ").concat(t,", fps: ").concat(n,"] => [brMax: ").concat(a,", brMin: ").concat(s,"]")),this._saveEncodeBitrateRatio=1}}getVideoElementVisibleStatus(){try{var e,t;const n=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),i={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==n?void 0:n.parentElement},{element:r,slot:a}=i;if(this.isPlaying&&r instanceof HTMLVideoElement&&a instanceof HTMLElement){const e=BA.checkOneElementVisible(r),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=mI.reportApiInvoke(null,{tag:XA.TRACER,name:YA.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess("Video is visible"):e.onSuccess("Invisible because of ".concat(t.reason))}return t}return}catch(e){throw new kA(AA.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}async renewMediaStreamTrack(e){}pipe(e){if(this.processor===e)return e;if(e._source)throw new kA(AA.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}clone(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._encoderConfig;t&&(i=cO(cO({},i),RI(t))),i=mk(i);const r=Ck(8,"track-video-cloned-"),a=new e(n?this._mediaStreamTrack.clone():this._mediaStreamTrack,i,mk(this._scalabilityMode),this._optimizationMode,r,mk(this._hints));return t&&i&&a.setEncoderConfiguration(i),sI.debug("clone video track from ".concat(this.getTrackId()," to ").concat(r,", clone ").concat(n)),a}async replaceTrack(e,t){if(!(e instanceof MediaStreamTrack))throw new kA(AA.INVALID_PARAMS,"track should be an instance of MediaStreamTrack");if("video"!==e.kind)throw new kA(AA.INVALID_PARAMS,"track should be a video MediaStreamTrack");await this._updateOriginMediaStreamTrack(e,t,!0),this.updateMediaStreamTrackResolution()}sendSeiData(e){if(gk(()=>{mI.reportApiInvoke(null,{name:YA.LOCAL_VIDEO_SEND_SEI_DATA,options:[],tag:XA.TRACER}).onSuccess("")},this._mediaStreamTrack.id||this.getTrackId()),!AR("ENABLE_VIDEO_SEI")||!AR("ENABLE_ENCODED_TRANSFORM"))return void sI.warning('To send/receive SEI, please call AgoraRTC.setParameter("ENABLE_VIDEO_SEI", true) before instantiate IAgoraRtcClient');if(e instanceof Uint8Array==0)return new kA(AA.INVALID_PARAMS,"Invalid argument type, ILocalVideoTrack.sendSeiData() only accept Uint8Array argument.").throw();const t=this.getRTCRtpTransceiver();if(!t)return void sI.warning("Video track is not published, SEI can not be send");const n=t.sender.getParameters();if(0===n.codecs.length)return;const i=n.codecs[0].mimeType.toLocaleLowerCase();"video/h264"===i||"video/h265"===i?this.safeEmit("sei-to-send",e):sI.warning("SEI is not supported by ".concat(i))}bindProcessorDestinationEvents(){this.processorDestination.on(QI.ON_TRACK,async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(),await sk(this,MI.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await sk(this,MI.NEED_REPLACE_TRACK,this))})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(QI.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners($I.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners($I.REQUEST_CONSTRAINTS)}},sO(SP.prototype,"play",[Jj,Zj],Object.getOwnPropertyDescriptor(SP.prototype,"play"),SP.prototype),sO(SP.prototype,"stop",[Qj],Object.getOwnPropertyDescriptor(SP.prototype,"stop"),SP.prototype),sO(SP.prototype,"setEnabled",[$j,eP,tP],Object.getOwnPropertyDescriptor(SP.prototype,"setEnabled"),SP.prototype),sO(SP.prototype,"setMuted",[nP,iP,rP],Object.getOwnPropertyDescriptor(SP.prototype,"setMuted"),SP.prototype),sO(SP.prototype,"setSaveEncodeBitrateRatio",[aP,sP],Object.getOwnPropertyDescriptor(SP.prototype,"setSaveEncodeBitrateRatio"),SP.prototype),sO(SP.prototype,"setEncoderConfiguration",[oP,lP],Object.getOwnPropertyDescriptor(SP.prototype,"setEncoderConfiguration"),SP.prototype),sO(SP.prototype,"getStats",[cP],Object.getOwnPropertyDescriptor(SP.prototype,"getStats"),SP.prototype),sO(SP.prototype,"setBeautyEffect",[dP,uP],Object.getOwnPropertyDescriptor(SP.prototype,"setBeautyEffect"),SP.prototype),sO(SP.prototype,"getCurrentFrameData",[hP],Object.getOwnPropertyDescriptor(SP.prototype,"getCurrentFrameData"),SP.prototype),sO(SP.prototype,"getCurrentFrameImage",[pP],Object.getOwnPropertyDescriptor(SP.prototype,"getCurrentFrameImage"),SP.prototype),sO(SP.prototype,"findClosestProfile",[mP,fP],Object.getOwnPropertyDescriptor(SP.prototype,"findClosestProfile"),SP.prototype),sO(SP.prototype,"setBitrateLimit",[gP],Object.getOwnPropertyDescriptor(SP.prototype,"setBitrateLimit"),SP.prototype),sO(SP.prototype,"setOptimizationMode",[_P],Object.getOwnPropertyDescriptor(SP.prototype,"setOptimizationMode"),SP.prototype),sO(SP.prototype,"setScalabiltyMode",[vP],Object.getOwnPropertyDescriptor(SP.prototype,"setScalabiltyMode"),SP.prototype),sO(SP.prototype,"updateMediaStreamTrackResolution",[bP],Object.getOwnPropertyDescriptor(SP.prototype,"updateMediaStreamTrackResolution"),SP.prototype),sO(SP.prototype,"pipe",[yP],Object.getOwnPropertyDescriptor(SP.prototype,"pipe"),SP.prototype),sO(SP.prototype,"unpipe",[xP],Object.getOwnPropertyDescriptor(SP.prototype,"unpipe"),SP.prototype),sO(SP.prototype,"close",[wP],Object.getOwnPropertyDescriptor(SP.prototype,"close"),SP.prototype),sO(SP.prototype,"replaceTrack",[EP],Object.getOwnPropertyDescriptor(SP.prototype,"replaceTrack"),SP.prototype),SP),DP=(CP=pI({argsMap:(e,t)=>[e.getTrackId(),t]}),TP=FO(),NP=Fk("CameraVideoTrack","_enabledMutex"),AP=pI({argsMap:(e,t)=>[e.getTrackId(),t]}),kP=FO(),RP=pI({argsMap:(e,t)=>[e.getTrackId(),t]}),IP=FO(),OP=pI({argsMap:e=>[e.getTrackId()]}),jP=class e extends PP{get __className__(){return"CameraVideoTrack"}constructor(e,t,n,i,r,a){super(e,RI(t.encoderConfig),i,r,a),oO(this,"_config",void 0),oO(this,"_originalConstraints",void 0),oO(this,"_constraints",void 0),oO(this,"_enabled",!0),oO(this,"_deviceName","default"),oO(this,"tryResumeVideoForIOS15_16WeChat",async()=>{(fA()||gA())&&!function(){const e=YN();if(e.os!==zN.IOS||!e.osVersion)return!1;const t=e.osVersion.split(".");return 15===Number(t[0])&&Number(t[1])>=2}()&&bA()&&this._enabled&&!this._isClosed&&(sI.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS 15 device on WeChat.")),await this.renewMediaStreamTrack())}),this._config=t,this._originalConstraints=n,this._constraints=n,this._deviceName=e.label,this._encoderConfig=RI(this._config.encoderConfig),mO.on(wI.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),mO.on(wI.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents()}async setDevice(e){return"string"==typeof e?this._setDeviceById(e):e.deviceId?this._setDeviceById(e.deviceId):e.facingMode?this._setDeviceByFacingModel(e.facingMode):void 0}async _setDeviceById(e){if(sI.info("[".concat(this.getTrackId(),"] set device to ").concat(e)),this._enabled)try{const t=await OO.getDeviceById(e),n={};n.video=cO({},this._constraints),n.video.deviceId={exact:e},n.video.facingMode=void 0,this._originMediaStreamTrack.stop();let i=null;try{i=await AO(n,this.getTrackId())}catch(e){throw sI.error("[".concat(this.getTrackId(),"] setDevice failed"),e.toString()),i=await AO({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(i.getVideoTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(i.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw sI.error("[".concat(this.getTrackId(),"] setDevice error"),e.toString()),e}else try{const t=await OO.getDeviceById(e);this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw sI.error("[".concat(this.getTrackId(),"] setDevice error"),e.toString()),e}sI.info("[".concat(this.getTrackId(),"] setDevice success"))}async _setDeviceByFacingModel(e){sI.info("[".concat(this.getTrackId(),"] set facingMode ").concat(e));const t={video:cO(cO({},this._constraints),{},{deviceId:void 0,facingMode:{exact:e}})};if(this._enabled){this._originMediaStreamTrack.stop();let e=null;try{e=await AO(t,this.getTrackId())}catch(t){throw sI.error("[".concat(this.getTrackId(),"] setDeviceByFacingModel failed"),t.toString()),e=await AO({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),t}await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution()}this._deviceName="",this._config.facingMode=e,this._config.cameraId=void 0,this._constraints=cO({},t.video),sI.info("[".concat(this.getTrackId(),"] setDeviceByFacingModel success"))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck("enabled",e)}if(sI.info("[".concat(this.getTrackId(),"] start setEnabled"),e),e){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else{const e=await AO({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1)}await sk(this,MI.NEED_ENABLE_TRACK,this)}catch(e){throw sI.error("[".concat(this.getTrackId(),"] setEnabled true error"),e.toString()),e}this.updateMediaStreamTrackResolution(),sI.info("[".concat(this.getTrackId(),"] setEnabled to true success")),t||(this._enabled=!0)}else{this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),t||(this._enabled=!1);try{await sk(this,MI.NEED_DISABLE_TRACK,this)}catch(e){throw sI.error("[".concat(this.getTrackId(),"] setEnabled to false error"),e.toString()),e}sI.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}}async setEncoderConfiguration(e,t){if(!this._enabled)throw new kA(AA.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");e=RI(e),AR("USE_STANDARD_BITRATE_DEFAULT")&&(delete e.bitrateMax,delete e.bitrateMin),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate||e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate||e.bitrateMin);const n=pk(this._config);n.encoderConfig=e;const i=YO(n);($N()||iA()||vA())&&(i.deviceId=void 0),sI.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(e),JSON.stringify(i));try{await this._originMediaStreamTrack.applyConstraints(i),this.updateMediaStreamTrackResolution()}catch(e){const t=new kA(AA.UNEXPECTED_ERROR,e.toString());throw sI.error("[".concat(this.getTrackId(),"] applyConstraints error"),t.toString()),t}this._config=n,this._constraints=i,this._originalConstraints=i,this._encoderConfig=e,-1===this._hints.indexOf(UI.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await sk(this,MI.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(sI)}}_getDefaultPlayerConfig(){return{mirror:!0,fit:"cover"}}onTrackEnded(){if((iA()||vA())&&this._enabled&&!this._isClosed&&mO.duringInterruption){const e=async()=>{mO.off(wI.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(sI.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};mO.on(wI.IOS_INTERRUPTION_END,e)}else sI.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(HI.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,n=OO.searchDeviceIdByName(this._deviceName);if(n&&!t.deviceId&&(t.deviceId={exact:n}),this._enabled){const e=await AO({video:t},this.getTrackId());this._constraints=t,await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}}close(){super.close(),mO.off(wI.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),mO.off(wI.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat)}clone(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this._encoderConfig;t&&(i=cO(cO({},i),RI(t))),i=mk(i);const r=Ck(8,"track-cam-cloned-"),a=new e(n?this._mediaStreamTrack.clone():this._mediaStreamTrack,mk(cO(cO({},this._config),{},{encoderConfig:i})),mk(this._constraints),mk(this._scalabilityMode),this._optimizationMode,r);return t&&i&&a.setEncoderConfiguration(i),sI.debug("clone track from ".concat(this.getTrackId()," to ").concat(r,", clone ").concat(n)),a}bindProcessorContextEvents(){this.processorContext.on($I.REQUEST_UPDATE_CONSTRAINTS,async(e,t,n)=>{try{const n=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(n),t()}catch(e){n(e)}}),this.processorContext.on($I.REQUEST_CONSTRAINTS,async e=>{e(this._originMediaStreamTrack.getSettings())})}},sO(jP.prototype,"setDevice",[CP,TP],Object.getOwnPropertyDescriptor(jP.prototype,"setDevice"),jP.prototype),sO(jP.prototype,"setEnabled",[NP,AP,kP],Object.getOwnPropertyDescriptor(jP.prototype,"setEnabled"),jP.prototype),sO(jP.prototype,"setEncoderConfiguration",[RP,IP],Object.getOwnPropertyDescriptor(jP.prototype,"setEncoderConfiguration"),jP.prototype),sO(jP.prototype,"close",[OP],Object.getOwnPropertyDescriptor(jP.prototype,"close"),jP.prototype),jP);function LP(e,t,n,i){n.optimizationMode&&(i&&i.width&&i.height?(n.encoderConfig=cO(cO({},i),{},{bitrateMin:i.bitrateMin,bitrateMax:i.bitrateMax}),"motion"!==n.optimizationMode&&"detail"!==n.optimizationMode||(t.contentHint=n.optimizationMode,t.contentHint===n.optimizationMode?sI.debug("[".concat(e,"] set content hint to"),n.optimizationMode):sI.debug("[".concat(e,"] set content hint failed")))):sI.warning("[".concat(e,"] can not apply optimization mode bitrate config, no encoderConfig")))}var MP,UP,FP,BP,VP,zP,HP,WP,GP,qP,YP,XP;class KP extends dO{getUserId(){return this._userId}constructor(e,t,n,i){super(e,"track-".concat(e.kind,"-").concat(t,"-").concat(i.clientId,"_").concat(Ck(5,""))),oO(this,"_userId",void 0),oO(this,"_uintId",void 0),oO(this,"_isDestroyed",!1),oO(this,"store",void 0),oO(this,"processor",void 0),oO(this,"processorContext",void 0),this._userId=t,this._uintId=n,this.store=i}_updateOriginMediaStreamTrack(e){this._originMediaStreamTrack=e,this._mediaStreamTrack=e,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,sI.info("[".concat(this.getTrackId(),"] is destroyed")),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}let JP=(MP=pI({argsMap:(e,t,n)=>[e.getTrackId(),"string"==typeof t?t:t instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",n]}),UP=pI({argsMap:e=>[e.getTrackId()]}),FP=pI({argsMap:(e,t)=>[e.getTrackId(),t.name]}),BP=pI({argsMap:e=>[e.getTrackId()]}),sO((VP=class extends KP{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==nO.PLAYING)}get __className__(){return"RemoteVideoTrack"}constructor(e,t,n,i,r){super(e,t,n,i),oO(this,"_videoVisibleTimer",null),oO(this,"_previousVideoVisibleStatus",void 0),oO(this,"_clearPreviousVideoVisibleStatus",()=>this._previousVideoVisibleStatus=void 0),oO(this,"trackMediaType",GI.VIDEO),oO(this,"_videoWidth",void 0),oO(this,"_videoHeight",void 0),oO(this,"_player",void 0),oO(this,"_prePlayer",void 0),oO(this,"processorDestination",void 0),oO(this,"processorContext",void 0),this._prePlayer=r,this.updateMediaStreamTrackResolution(),this.processorContext=new VO(this.getTrackId(),"remote"),this.processorDestination=new BO(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){return gk(()=>{sI.warning("[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead")},"remoteVideoTrackGetStatsWarning"),ok(this,MI.GET_STATS)||cO({},ZI)}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.safeEmit(WI.PLAY_START),"string"==typeof e){const t=document.getElementById(e);t?e=t:(sI.warning("[".concat(this.getTrackId(),'] can not find "#').concat(e,'" element, use document.body')),e=document.body)}sI.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(e instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(t));const n=cO(cO({fit:"cover"},t),{},{trackId:this.getTrackId(),element:e});if(this._player)this._player.updateConfig(n);else{let t=!1,i=!1;e instanceof HTMLVideoElement?(this._player=new Yj(n),this._prePlayer&&(this._prePlayer.destroy(),this._prePlayer=void 0,i=!0)):this._prePlayer&&!this._prePlayer.isDestroyed?(this._player=this._prePlayer,this._prePlayer=void 0,t=this._player.videoState>0,this._player.updateConfig(n)):this._player=new Kj(n),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),"video",void 0,void 0,Date.now()),this.safeEmit(WI.FIRST_FRAME_DECODED),i&&this.safeEmit(WI.FIRST_FRAME_RENDER)},this._player.onVideoStateChanged=e=>{this.safeEmit(WI.VIDEO_STATE_CHANGED,e)},t&&(this._player.onFirstVideoFrameDecoded(),this._player.onVideoStateChanged(this._player.videoState))}this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(WI.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}},AR("CHECK_VIDEO_VISIBLE_INTERVAL")),this.safeEmit(WI.PLAY_END)}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,sI.debug("[".concat(this.getTrackId(),"] stop video playback")))}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){qO(this._originMediaStreamTrack).then(e=>{let[t,n]=e;this._videoHeight=n,this._videoWidth=t}).catch(Nk)}_updatePlayerSource(){sI.debug("[".concat(this.getTrackId(),"] update player source track")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var e,t;const n=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),i={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==n?void 0:n.parentElement},{element:r,slot:a}=i;if(this.isPlaying&&r instanceof HTMLVideoElement&&a instanceof HTMLElement){const e=BA.checkOneElementVisible(r),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=mI.reportApiInvoke(null,{tag:XA.TRACER,name:YA.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess("Video is visible"):e.onSuccess("Invisible because of ".concat(t.reason))}return t}return}catch(e){throw new kA(AA.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}pipe(e){if(this.processor===e)return e;if(e._source)throw new kA(AA.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(QI.ON_TRACK,async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(QI.ON_TRACK)}_destroy(){this._prePlayer&&(this._prePlayer.destroy(),this._prePlayer=void 0),super._destroy(),this.unbindProcessorDestinationEvents()}_onSei(e){this.emit(zI.SEI_RECEIVED,e)}}).prototype,"play",[MP],Object.getOwnPropertyDescriptor(VP.prototype,"play"),VP.prototype),sO(VP.prototype,"stop",[UP],Object.getOwnPropertyDescriptor(VP.prototype,"stop"),VP.prototype),sO(VP.prototype,"pipe",[FP],Object.getOwnPropertyDescriptor(VP.prototype,"pipe"),VP.prototype),sO(VP.prototype,"unpipe",[BP],Object.getOwnPropertyDescriptor(VP.prototype,"unpipe"),VP.prototype),VP),ZP=(zP=pI({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),HP=pI({argsMap:(e,t)=>[e.getTrackId(),t]}),WP=pI({argsMap:e=>[e.getTrackId()]}),GP=pI({argsMap:e=>[e.getTrackId()]}),qP=pI({argsMap:(e,t)=>[e.getTrackId(),t.name]}),YP=pI({argsMap:e=>[e.getTrackId()]}),sO((XP=class extends KP{get isPlaying(){return this._useAudioElement?UO.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"RemoteAudioTrack"}constructor(e,t,n,i){super(e,t,n,i),oO(this,"trackMediaType",GI.AUDIO),oO(this,"_source",void 0),oO(this,"_useAudioElement",!0),oO(this,"_volume",100),oO(this,"processorContext",void 0),oO(this,"processorDestination",void 0),oO(this,"_played",!1),oO(this,"_bypassWebAudio",!1),AR("DISABLE_WEBAUDIO")?(this._source=new WO,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new xO(e,!0),AR("REMOTE_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1)),this._source.once(qI.RECEIVE_TRACK_BUFFER,()=>{this.safeEmit(WI.FIRST_FRAME_DECODED)}),this.processorContext=new HO(this._source.context,this.getTrackId(),"remote"),this.processorDestination=new zO(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(qI.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})})}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(qI.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(qI.ON_AUDIO_BUFFER),this._source.on(qI.ON_AUDIO_BUFFER,t=>e(t))}setVolume(e){this._volume=e,this._useAudioElement?UO.setVolume(this.getTrackId(),e):this._source.setVolume(e/100)}async setPlaybackDevice(e){if(!this._useAudioElement||!vI())throw new kA(AA.NOT_SUPPORTED,"your browser does not support setting the audio output device");await UO.setSinkID(this.getTrackId(),e)}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){return gk(()=>{sI.warning("[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead")},"remoteAudioTrackGetStatsWarning"),ok(this,MI.GET_STATS)||cO({},KI)}play(){sI.debug("[".concat(this.getTrackId(),"] start audio playback")),this._played=!0,this._useAudioElement?(sI.debug("[".concat(this.getTrackId(),"] use audio element to play")),UO.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play()}stop(){sI.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._played=!1,this._useAudioElement?UO.stop(this.getTrackId()):this._source.stop()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];sI.debug("[".concat(this.getTrackId(),"] update player source track")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&UO.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(e){if(this._bypassWebAudio)throw new kA(AA.NOT_SUPPORTED,"can not pipe extension when WebAudio disabled");if(this.processor===e)return e;if(e._source)throw new kA(AA.INVALID_OPERATION,"Processor ".concat(e.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(this._bypassWebAudio)throw new kA(AA.NOT_SUPPORTED,"can not unpipe extension when WebAudio disabled");if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(QI.ON_TRACK,async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}),this.processorDestination.on(QI.ON_NODE,e=>{this._source.processedNode=e;const t=!e;this._useAudioElement!==t&&(this._played?(this.stop(),this._useAudioElement=t,this.play()):this._useAudioElement=t)})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(QI.ON_TRACK),this.processorDestination.removeAllListeners(QI.ON_NODE)}}).prototype,"setVolume",[zP],Object.getOwnPropertyDescriptor(XP.prototype,"setVolume"),XP.prototype),sO(XP.prototype,"setPlaybackDevice",[HP],Object.getOwnPropertyDescriptor(XP.prototype,"setPlaybackDevice"),XP.prototype),sO(XP.prototype,"play",[WP],Object.getOwnPropertyDescriptor(XP.prototype,"play"),XP.prototype),sO(XP.prototype,"stop",[GP],Object.getOwnPropertyDescriptor(XP.prototype,"stop"),XP.prototype),sO(XP.prototype,"pipe",[qP],Object.getOwnPropertyDescriptor(XP.prototype,"pipe"),XP.prototype),sO(XP.prototype,"unpipe",[YP],Object.getOwnPropertyDescriptor(XP.prototype,"unpipe"),XP.prototype),XP);const QP=new class extends WA{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),oO(this,"_lastHiddenTime",0),oO(this,"_lastVisibleTime",0),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),sI.debug("current web page is ".concat(document.visibilityState)),this.emit("VISIBILITY_CHANGE",document.visibilityState)})}};class $P extends WA{constructor(e,t){super(),oO(this,"trackMediaType",GI.DATA),oO(this,"_version",1),oO(this,"_type",3),oO(this,"_config",void 0),oO(this,"_originDataChannel",void 0),oO(this,"_dataStreamPacketHeader",new ArrayBuffer(4)),oO(this,"_dataStreamPacketHandler",{serialize:e=>e,deserialize:e=>e}),oO(this,"_datachannelEventMap",new Map),this._config=e,t&&(this._originDataChannel=t,this._bandDataChannelEvents(t)),this._initPacketHeader()}useDataStream(e){this._dataStreamPacketHandler=e}get id(){return this._config.id}get ordered(){return this._config.ordered}get maxRetransmits(){return AR("DATASTREAM_MAX_RETRANSMITS")}get metadata(){return this._config.metadata}get readyState(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.readyState)&&void 0!==e?e:"connecting"}get _originDataChannelId(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.id)&&void 0!==e?e:null}getChannelId(){return this.id}getConfig(){return this._config}_close(){this._originDataChannel&&(this._unbindDataChannelEvents(this._originDataChannel),this._originDataChannel=void 0)}async _waitTillOpen(){return new np((e,t)=>{if(this._originDataChannel){"open"===this._originDataChannel.readyState&&e();const n=setTimeout(()=>{var e;t(new kA(AA.DATACHANNEL_CONNECTION_TIMEOUT,"Cannot create datachannel, id: ".concat(null===(e=this._originDataChannel)||void 0===e?void 0:e.id)))},1e4);this._originDataChannel.onopen=()=>{clearTimeout(n),this._originDataChannel&&this._bandDataChannelEvents(this._originDataChannel),e()},this._originDataChannel.onerror=()=>{throw clearTimeout(n),new kA(AA.DATACHANNEL_CONNECTION_TIMEOUT)}}else t(new kA(AA.DATACHANNEL_CONNECTION_TIMEOUT,"cannot find dataChannel"))})}_updateOriginDataChannel(e){this._originDataChannel=e,this._bandDataChannelEvents(e)}_initPacketHeader(){const e=new DataView(this._dataStreamPacketHeader);e.setUint16(0,this._version),e.setUint8(2,this._type),e.setUint8(3,this._config.id)}_bandDataChannelEvents(e){this._unbindDataChannelEvents(e),[aO.OPEN,aO.CLOSE,aO.ERROR].forEach(t=>{const n=()=>{this.emit(t)};this._datachannelEventMap.set(t,n),e.addEventListener(t,n)})}_unbindDataChannelEvents(e){Array.from(this._datachannelEventMap.entries()).forEach(t=>{let[n,i]=t;e.removeEventListener(n,i)}),this._datachannelEventMap.clear()}}class eD extends $P{constructor(e){super(e),oO(this,"_messageListener",void 0),this._messageListener=e=>{if(e.data.byteLength<this._dataStreamPacketHeader.byteLength)throw Error("invalid byteLength: the byte length must exceed "+this._dataStreamPacketHeader.byteLength);const t=e.data.slice(0,this._dataStreamPacketHeader.byteLength),n=new DataView(t).getUint8(3);if(n!==this.id)return void(AR("SHOW_DATASTREAM2_LOG")&&sI.debug("invalid datachannel id: ".concat(n," !== ").concat(this.id)));let i=e.data.slice(this._dataStreamPacketHeader.byteLength);i=this._dataStreamPacketHandler.deserialize(i),this.emit(aO.MESSAGE,i)}}_updateOriginDataChannel(e){super._updateOriginDataChannel(e),this._bandRemoteDataChannelEvents()}_close(){this._originDataChannel&&(this._originDataChannel.removeEventListener("message",this._messageListener),super._close())}_bandRemoteDataChannelEvents(){this._originDataChannel&&this._originDataChannel.addEventListener("message",this._messageListener)}}class tD extends $P{send(e){if(this._originDataChannel){let t=e;t=this._dataStreamPacketHandler.serialize(e);const n=new Uint8Array(this._dataStreamPacketHeader.byteLength+t.byteLength);n.set(new Uint8Array(this._dataStreamPacketHeader),0),n.set(new Uint8Array(t),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(n.buffer)}}}function nD(){const e=new Blob([atob("Y29uc3QgdD0idmlkZW8vaDI2NCIsZT0idmlkZW8vaDI2NSI7ZnVuY3Rpb24gbih0LGUsbil7bGV0IGE9bmV3IFVpbnQ4QXJyYXkodCxlLG4pLHI9W10sbz0wO2Zvcig7ci5sZW5ndGg8bjspbyszPG4mJjA9PT1hW29dJiYwPT09YVtvKzFdJiYzPT09YVtvKzJdJiYoMD09PWFbbyszXXx8MT09PWFbbyszXXx8Mj09PWFbbyszXXx8Mz09PWFbbyszXSk/KHIucHVzaChhW29dLGFbbysxXSxhW28rM10pLG8rPTQpOihyLnB1c2goYVtvXSksbysrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocil9ZnVuY3Rpb24gYShhLHIpe3N3aXRjaChyKXtjYXNlIHQ6cmV0dXJuIGZ1bmN0aW9uKHQpe2NvbnN0IGU9bmV3IERhdGFWaWV3KHQuZGF0YSk7bGV0IGE9MDtmb3IoO2ErNDx0LmRhdGEuYnl0ZUxlbmd0aDspe2lmKDA9PT1lLmdldFVpbnQ4KGErMCkmJjA9PT1lLmdldFVpbnQ4KGErMSkmJjA9PT1lLmdldFVpbnQ4KGErMikmJjE9PT1lLmdldFVpbnQ4KGErMykmJjY9PT1lLmdldFVpbnQ4KGErNCkpe2xldCByPWErNixvPTAsaT0wO2Zvcig7MjU1PT09KGk9ZS5nZXRVaW50OChyKyspKTspbys9MjU1O28rPWk7Y29uc3Qgcz1uKHQuZGF0YSxyLG8pO3JldHVybiBuZXcgVWludDhBcnJheShzKX1hKyt9cmV0dXJuIG51bGx9KGEpO2Nhc2UgZTpyZXR1cm4gZnVuY3Rpb24odCl7Y29uc3QgZT1uZXcgRGF0YVZpZXcodC5kYXRhKTtsZXQgYT0wO2Zvcig7YSs1PHQuZGF0YS5ieXRlTGVuZ3RoOyl7aWYoMD09PWUuZ2V0VWludDgoYSswKSYmMD09PWUuZ2V0VWludDgoYSsxKSYmMD09PWUuZ2V0VWludDgoYSsyKSYmMT09PWUuZ2V0VWludDgoYSszKSYmNzg9PT1lLmdldFVpbnQ4KGErNCkmJjE9PT1lLmdldFVpbnQ4KGErNSkmJjEwMT09PWUuZ2V0VWludDgoYSs2KSl7bGV0IHI9YSs3LG89MCxpPTA7Zm9yKDsyNTU9PT0oaT1lLmdldFVpbnQ4KHIrKykpOylvKz0yNTU7bys9aTtjb25zdCBzPW4odC5kYXRhLHIsbyk7cmV0dXJuIG5ldyBVaW50OEFycmF5KHMpfWErK31yZXR1cm4gbnVsbH0oYSk7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gcih0KXtjb25zdCBlPXQubGVuZ3RoO2xldCBuPVtdLGE9MDtmb3IoO2E8ZTspYSsyPGUmJjA9PT10W2FdJiYwPT09dFthKzFdJiYoMD09PXRbYSsyXXx8MT09PXRbYSsyXXx8Mj09PXRbYSsyXXx8Mz09PXRbYSsyXSk/KG4ucHVzaCh0W2FdLHRbYSsxXSwzLHRbYSsyXSksYSs9Myk6KG4ucHVzaCh0W2FdKSxhKyspO3JldHVybiBuZXcgVWludDhBcnJheShuKX1mdW5jdGlvbiBvKG4sYSxvKXtzd2l0Y2gobyl7Y2FzZSB0OnJldHVybiBmdW5jdGlvbih0LGUpe2NvbnN0IG49cihlKSxhPW4ubGVuZ3RoLG89TWF0aC5mbG9vcihhLzI1NSksaT1hJTI1NSxzPW5ldyBVaW50OEFycmF5KDYrbysxK2ErdC5ieXRlTGVuZ3RoKTtzWzBdPTAsc1sxXT0wLHNbMl09MCxzWzNdPTEsc1s0XT02LHNbNV09MTAxO2xldCBmPTA7Zm9yKDtmPG87KXNbNitmXT0yNTUsZisrO3JldHVybiBzWzYrZl09aSxmKysscy5zZXQobiw2K2YpLHMuc2V0KG5ldyBVaW50OEFycmF5KHQpLDYrZithKSxzLmJ1ZmZlcn0obixhKTtjYXNlIGU6cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1yKGUpLGE9bi5sZW5ndGgsbz1NYXRoLmZsb29yKGEvMjU1KSxpPWElMjU1LHM9bmV3IFVpbnQ4QXJyYXkoNytvKzErYSsxK3QuYnl0ZUxlbmd0aCk7c1swXT0wLHNbMV09MCxzWzJdPTAsc1szXT0xLHNbNF09Nzgsc1s1XT0xLHNbNl09MTAxO2xldCBmPTA7Zm9yKDtmPG87KXNbNytmXT0yNTUsZisrO3JldHVybiBzWzcrZl09aSxmKysscy5zZXQobiw3K2YpLGYrPWEsc1s3K2ZdPTEyOCxmKysscy5zZXQobmV3IFVpbnQ4QXJyYXkodCksNytmKSxzLmJ1ZmZlcn0obixhKTtkZWZhdWx0OnJldHVybiBudWxsfX1mdW5jdGlvbiBpKG4pe2lmKG4ubGVuZ3RoPDUpcmV0dXJuIiI7bGV0IGE9LTE7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aC0zO3QrKyl7aWYoMD09PW5bdF0mJjA9PT1uW3QrMV0mJjE9PT1uW3QrMl0pe2E9dDticmVha31pZih0PG4ubGVuZ3RoLTQmJjA9PT1uW3RdJiYwPT09blt0KzFdJiYwPT09blt0KzJdJiYxPT09blt0KzNdKXthPXQ7YnJlYWt9fWlmKC0xPT09YSlyZXR1cm4iIjtjb25zdCByPWErKDA9PT1uW2ErMl0/NDozKTtpZihyPj1uLmxlbmd0aClyZXR1cm4iIjtjb25zdCBvPW5bcl07aWYoMTI4Jm8pcmV0dXJuIiI7aWYoKG8+PjEmNjMpPj0zMilyZXR1cm4gZTtpZihyKzE8bi5sZW5ndGgpe2lmKDA9PSgyNDgmbltyKzFdKSlyZXR1cm4gZX1yZXR1cm4oMzEmbyk8PTMxP3Q6IiJ9Y29uc3Qgcz03MSxmPTEsbD0yLHU9MSxnPTI7dmFyIGM7ZnVuY3Rpb24gZCh0LGU9ITEpe2NvbnN0IG49dC5nZXRVaW50OCgwKTtpZihuIT09cylyZXR1cm47Y29uc3QgYT10LmdldFVpbnQxNigxKSxyPWYrbCthLG89bmV3IFVpbnQ4QXJyYXkodC5ieXRlTGVuZ3RoLXIpO28uc2V0KG5ldyBVaW50OEFycmF5KHQuYnVmZmVyLHIsdC5ieXRlTGVuZ3RoLXIpKTtjb25zdCBpPXttOm4sdGx2TGVuOmEsdGx2OltdLGZyYW1lOm99O2xldCBkPWYrbDtmb3IoO2Q8cjspe2NvbnN0IG49dC5nZXRVaW50OChkKSxhPXQuZ2V0VWludDE2KGQrdSkscj11K2c7aWYobj09PWMuQVVESU9fTEVWRUwpe2xldCBvPXQuZ2V0VWludDgoZCtyKTtmb3IobGV0IGU9MTtlPGE7ZSsrKW89bzw8OHx0LmdldFVpbnQ4KGQrcitlKTtpLnRsdi5wdXNoKHt0YWc6bixsZW5ndGg6YSx2YWx1ZTplPzEyN15vPj4xOjEyNyZvfSl9ZWxzZSBpZihuPT09Yy5NRVRBREFUQXx8bj09PWMuQVVESU9fNjRfQklUX1BUUyl7Y29uc3QgZT1uZXcgVWludDhBcnJheShhKTtmb3IobGV0IG49MDtuPGE7bisrKWVbbl09dC5nZXRVaW50OChkK3Irbik7aS50bHYucHVzaCh7dGFnOm4sbGVuZ3RoOmEsdmFsdWU6ZX0pfWQrPXIrYX1yZXR1cm4gaX0hZnVuY3Rpb24odCl7dFt0LkFVRElPX0xFVkVMPTFdPSJBVURJT19MRVZFTCIsdFt0Lk1FVEFEQVRBPTJdPSJNRVRBREFUQSIsdFt0LkFVRElPXzY0X0JJVF9QVFM9M109IkFVRElPXzY0X0JJVF9QVFMifShjfHwoYz17fSkpLHNlbGYub25ydGN0cmFuc2Zvcm09dD0+e2NvbnN0IGU9dC50cmFuc2Zvcm1lcjtsZXQgbj1bXSxyPVtdO2Uub3B0aW9ucy5wb3J0Lm9ubWVzc2FnZT10PT57dC5kYXRhLnNlaSYmbi5wdXNoKHQuZGF0YS5zZWkpLHQuZGF0YS5tZXRhZGF0YSYmci5wdXNoKHQuZGF0YS5tZXRhZGF0YSl9LHNlbGYucG9zdE1lc3NhZ2UoInN0YXJ0ZWQiKTtjb25zdCBoPWUucmVhZGFibGUuZ2V0UmVhZGVyKCksVT1lLndyaXRhYmxlLmdldFdyaXRlcigpOyJzZWktcngiPT09ZS5vcHRpb25zLm5hbWU/ZnVuY3Rpb24gdChlKXtoLnJlYWQoKS50aGVuKChuPT57aWYoIW4uZG9uZSl7aWYobi52YWx1ZSBpbnN0YW5jZW9mIFJUQ0VuY29kZWRWaWRlb0ZyYW1lKXtjb25zdCB0PWkobmV3IFVpbnQ4QXJyYXkobi52YWx1ZS5kYXRhKSkscj1hKG4udmFsdWUsdCk7ciYmZS5vcHRpb25zLnBvcnQucG9zdE1lc3NhZ2Uoe3NlaTpyfSl9VS53cml0ZShuLnZhbHVlKSxlLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7dHJhbnNmb3JtZWQ6ITB9KSx0KGUpfX0pKX0oZSk6InNlaS10eCI9PT1lLm9wdGlvbnMubmFtZT9mdW5jdGlvbiB0KGUpe2gucmVhZCgpLnRoZW4oKGE9PntpZighYS5kb25lKXtpZihhLnZhbHVlIGluc3RhbmNlb2YgUlRDRW5jb2RlZFZpZGVvRnJhbWUpe2NvbnN0IHQ9aShuZXcgVWludDhBcnJheShhLnZhbHVlLmRhdGEpKSxlPW4uc2hpZnQoKTtpZihlKXtjb25zdCBuPW8oYS52YWx1ZS5kYXRhLGUsdCk7biYmKGEudmFsdWUuZGF0YT1uKX19VS53cml0ZShhLnZhbHVlKSxlLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7dHJhbnNmb3JtZWQ6ITB9KSx0KGUpfX0pKX0oZSk6ImF1ZGlvLW1ldGFkYXRhLXJ4Ij09PWUub3B0aW9ucy5uYW1lP2Z1bmN0aW9uIHQoZSl7aC5yZWFkKCkudGhlbigobj0+e2lmKCFuLmRvbmUpe2lmKG4udmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkQXVkaW9GcmFtZSl7Y29uc3QgdD1uZXcgRGF0YVZpZXcobi52YWx1ZS5kYXRhKSxhPXQuZ2V0VWludDgoMCk7bGV0IHI7aWYoMCE9KDEyOCZhKSYmNzEhPT1hKXtsZXQgZT1mdW5jdGlvbih0KXtpZih0LmJ5dGVMZW5ndGg8PTApcmV0dXJuW107Y29uc3QgZT1bXTtsZXQgbj0wO2Zvcig7bjx0LmJ5dGVMZW5ndGg7KXtjb25zdCBhPSgxMjgmdC5nZXRVaW50OChuKSk+Pjcscj0xMjcmdC5nZXRVaW50OChuKTtpZighKGEmJm4rNDw9dC5ieXRlTGVuZ3RoKSl7bisrO2JyZWFrfXtjb25zdCBhPXQuZ2V0VWludDMyKG4sITEpLG89KDE2Nzc2MTkyJmEpPj4xMCxpPTEwMjMmYTtlLnB1c2goe3B0OnIsdHNfb2Zmc2V0Om8sbGVuZ3RoOmksZGF0YTpuZXcgVWludDhBcnJheX0pLG4rPTR9fWxldCBhPXQuYnl0ZUxlbmd0aC1uO2Zvcihjb25zdCByIG9mIGUpe2lmKHIubGVuZ3RoPmEpcmV0dXJuIGNvbnNvbGUud2FybigiQnJva2VuIHJlZCBwYXlsb2FkIiksW107ci5sZW5ndGg+MCYmKHIuZGF0YT1uZXcgVWludDhBcnJheSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQrbixyLmxlbmd0aCksbis9ci5sZW5ndGgsYS09ci5sZW5ndGgpfWlmKGE+MCl7Y29uc3Qgcj17cHQ6ZS5sZW5ndGg+MD9lW2UubGVuZ3RoLTFdLnB0OjAsdHNfb2Zmc2V0OjAsbGVuZ3RoOmEsZGF0YTpuZXcgVWludDhBcnJheSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQrbixhKX07ZS5wdXNoKHIpfXJldHVybiBlfSh0KTtpZihlLmxlbmd0aD4wKXtjb25zdCB0PWZ1bmN0aW9uKHQpe2xldCBlPTA7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspZSs9bjx0Lmxlbmd0aC0xPzQ6MSxlKz10W25dLmxlbmd0aDtjb25zdCBuPW5ldyBVaW50OEFycmF5KGUpO2xldCBhPTA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYoZTx0Lmxlbmd0aC0xKXtjb25zdCByPSgyMTQ3NDgzNjQ4fCgxMjcmdFtlXS5wdCk8PDI0fCgyNjIxNDMmdFtlXS50c19vZmZzZXQpPDwxMHwxMDIzJnRbZV0ubGVuZ3RoKT4+PjA7blthKytdPXI+PjI0JjI1NSxuW2ErK109cj4+MTYmMjU1LG5bYSsrXT1yPj44JjI1NSxuW2ErK109MjU1JnJ9ZWxzZSBuW2ErK109MTI3JnRbZV0ucHQ7Zm9yKGNvbnN0IGUgb2YgdCluLnNldChlLmRhdGEsYSksYSs9ZS5sZW5ndGg7cmV0dXJuIG59KGUubWFwKCh0PT57bGV0IGU9bmV3IFVpbnQ4QXJyYXkodC5sZW5ndGgpO2Uuc2V0KHQuZGF0YSk7Y29uc3Qgbj1kKG5ldyBEYXRhVmlldyhlLmJ1ZmZlcikpO3JldHVybiBuPy5mcmFtZSYmKHQuZGF0YT1uPy5mcmFtZSkscj1uLHR9KSkpO24udmFsdWUuZGF0YT10LmJ1ZmZlcn19ZWxzZSByPWQodCksciYmKG4udmFsdWUuZGF0YT1yLmZyYW1lLmJ1ZmZlcik7aWYocil7bGV0IHQ9ci50bHYuZmluZCgodD0+dC50YWc9PT1jLk1FVEFEQVRBKSk7aWYodCYmdC52YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJmUub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHttZXRhZGF0YTp0LnZhbHVlfSksdD1yLnRsdi5maW5kKCh0PT50LnRhZz09PWMuQVVESU9fNjRfQklUX1BUUykpLHQmJnQudmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5JiY4PT10LnZhbHVlLmxlbmd0aCl7Y29uc3Qgbj1uZXcgRGF0YVZpZXcodC52YWx1ZS5idWZmZXIpLmdldEJpZ1VpbnQ2NCgwLCEwKTt0JiZ0LnZhbHVlIGluc3RhbmNlb2YgVWludDhBcnJheSYmZS5vcHRpb25zLnBvcnQucG9zdE1lc3NhZ2Uoe3B0czpufSl9fX1VLndyaXRlKG4udmFsdWUpLGUub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQoZSl9fSkpfShlKToiYXVkaW8tbWV0YWRhdGEtdHgiPT09ZS5vcHRpb25zLm5hbWUmJmZ1bmN0aW9uIHQoZSl7aC5yZWFkKCkudGhlbigobj0+e2lmKCFuLmRvbmUpe2lmKGUub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHtnZXRNZXRhZGF0YTohMH0pLG4udmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkQXVkaW9GcmFtZSl7Y29uc3QgdD1yLnNoaWZ0KCk7dCYmKG4udmFsdWUuZGF0YT1mdW5jdGlvbih0LGUsbil7Y29uc3QgYT1uLmJ5dGVMZW5ndGgscj1hK3UrZyxvPWYrbCtyLGk9bmV3IEFycmF5QnVmZmVyKHQuYnl0ZUxlbmd0aCtvKSxjPW5ldyBEYXRhVmlldyhpKTtjLnNldFVpbnQ4KDAscyksYy5zZXRVaW50MTYoMSxyKSxjLnNldFVpbnQ4KDMsZSksYy5zZXRVaW50MTYoNCxhKTtmb3IobGV0IHQ9MDt0PGE7dCsrKWMuc2V0VWludDgoNit0LG5bdF0pO2NvbnN0IGQ9bmV3IFVpbnQ4QXJyYXkoYy5idWZmZXIpO3JldHVybiBkLnNldChuZXcgVWludDhBcnJheSh0KSxvKSxkLmJ1ZmZlcn0obi52YWx1ZS5kYXRhLGMuQVVESU9fNjRfQklUX1BUUyx0KSl9VS53cml0ZShuLnZhbHVlKSxlLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7dHJhbnNmb3JtZWQ6ITB9KSx0KGUpfX0pKX0oZSl9LHNlbGYucG9zdE1lc3NhZ2UoInJlZ2lzdGVyZWQiKTsK")],{type:"text/javascript"});return setTimeout(()=>xv.revokeObjectURL(e),0),new Worker(xv.createObjectURL(e))}const iD=71,rD=1,aD=2,sD=1,oD=2;var lD=function(e){return e[e.AUDIO_LEVEL=1]="AUDIO_LEVEL",e[e.METADATA=2]="METADATA",e[e.AUDIO_64_BIT_PTS=3]="AUDIO_64_BIT_PTS",e}(lD||{});function cD(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.getUint8(0);if(n!==iD)return;const i=e.getUint16(1),r=rD+aD+i,a=new Uint8Array(e.byteLength-r);a.set(new Uint8Array(e.buffer,r,e.byteLength-r));const s={m:n,tlvLen:i,tlv:[],frame:a};let o=rD+aD;for(;o<r;){const n=e.getUint8(o),i=e.getUint16(o+sD),r=sD+oD;if(n===lD.AUDIO_LEVEL){let a=e.getUint8(o+r);for(let t=1;t<i;t++)a=a<<8|e.getUint8(o+r+t);s.tlv.push({tag:n,length:i,value:t?127^a>>1:127&a})}else if(n===lD.METADATA||n===lD.AUDIO_64_BIT_PTS){const t=new Uint8Array(i);for(let n=0;n<i;n++)t[n]=e.getUint8(o+r+n);s.tlv.push({tag:n,length:i,value:t})}o+=r+i}return s}const dD=new Map,uD=127,hD=1e-10,pD=139/13,mD=new Map;function fD(e,t,n){const i="".concat(e,"-").concat(t,"-").concat(n);let r=0;if(mD.has(i))r=mD.get(i);else{const a=.5;r=Math.log(function(e,t){const n=e-t;t<n&&(t=n);let i=1;for(let r=e,a=1;r>t;r--,a++)i=i*r/a;return i}(t,e))+e*Math.log(a)+(t-e)*Math.log(1-a)-Math.log(n)+n*e,mD.set(i,r)}return r<hD&&(r=hD),r}function gD(e,t,n){const i=t.length,r=e.length/i;let a=!1;for(let s=0,o=0;s<i;s++){let i=0;for(let t=o+r;o<t;o++)e[o]>n&&i++;t[s]!==i&&(t[s]=i,a=!0)}return a}window.cache=mD;let _D=0;class vD{constructor(e){oO(this,"id",void 0),oO(this,"immediates",[]),oO(this,"lastNonSilence",-1),oO(this,"immediateSpeechActivityScore",hD),oO(this,"lastLevelChangedTime",Date.now()),oO(this,"levels",[]),oO(this,"longs",[]),oO(this,"longSpeechActivityScore",hD),oO(this,"mediums",[]),oO(this,"mediumSpeechActivityScore",hD),oO(this,"minLevel",0),oO(this,"nextMinLevel",0),oO(this,"nextMinLevelWindowLength",0),oO(this,"energyScore",0),this.id=e||"".concat(_D++),this.immediates.length=50,this.mediums.length=10,this.longs.length=1,this.levels.length=this.immediates.length}computeImmediates(){const e=this.immediates,t=this.levels,n=this.minLevel+pD;let i=!1;for(let r=0;r<e.length;++r){let a=t[r];a<n&&(a=0);const s=Math.floor(a/pD);e[r]!==s&&(e[r]=s,i=!0)}return i}computeLongs(){return gD(this.mediums,this.longs,4)}computeMediums(){return gD(this.immediates,this.mediums,7)}evaluateImmediateSpeechActivityScore(){this.immediateSpeechActivityScore=fD(this.immediates[0],13,.78)}evaluateLongSpeechActivityScore(e){this.longSpeechActivityScore=fD(this.longs[0],10,47),this.longSpeechActivityScore>hD&&(this.lastNonSilence=e)}evaluateMediumSpeechActivityScore(){this.mediumSpeechActivityScore=fD(this.mediums[0],5,24)}evaluateSpeechActivityScores(e){this.computeImmediates()&&(this.evaluateImmediateSpeechActivityScore(),this.computeMediums()&&(this.evaluateMediumSpeechActivityScore(),this.computeLongs()&&this.evaluateLongSpeechActivityScore(e)))}getLastLevelChangedTime(){return this.lastLevelChangedTime}getLevels(){var e;return"[".concat(_r(e=[...this.levels]).call(e).join(),"]")}getSpeechActivityScore(e){switch(e){case 0:return this.immediateSpeechActivityScore;case 1:return this.mediumSpeechActivityScore;case 2:return this.longSpeechActivityScore;default:throw new Error("interval "+e)}}levelChanged(e,t){if(this.lastLevelChangedTime<=t){this.lastLevelChangedTime=t;let n=e;return e<0&&(n=0),e>uD&&(n=uD),this.levels.unshift(n),this.levels.length>this.immediates.length&&this.levels.pop(),this.updateMinLevel(n),n>=this.minLevel+pD?n:n/2}return-1}levelTimedOut(){this.levelChanged(0,this.lastLevelChangedTime)}updateMinLevel(e){if(0!==e){if(0===this.minLevel||this.minLevel>e)return this.minLevel=e,this.nextMinLevel=0,void(this.nextMinLevelWindowLength=0);if(0===this.nextMinLevel)return this.nextMinLevel=e,void(this.nextMinLevelWindowLength=1);if(this.nextMinLevel>e&&(this.nextMinLevel=e),this.nextMinLevelWindowLength++,this.nextMinLevelWindowLength>=750){let e=Math.sqrt(this.minLevel*this.nextMinLevel);e<0?e=0:e>uD&&(e=uD),this.minLevel=e,this.nextMinLevel=0,this.nextMinLevelWindowLength=0}}}}class bD{constructor(e){oO(this,"algorithm",void 0),this.algorithm=e}execute(){let e=!this.algorithm;if(!e)try{const t=this.algorithm.runInDecisionMaker(this);t<=0?e=!0:setTimeout(this.execute.bind(this),t)}catch(t){e=!0}e&&this.algorithm&&this.algorithm.decisionMakerExited(this)}}class yD{constructor(e,t,n){oO(this,"isDominant",void 0),oO(this,"energyRanking",void 0),oO(this,"energyScore",void 0),this.isDominant=e,this.energyRanking=t,this.energyScore=n}}class xD extends WA{constructor(e){super(),oO(this,"dominantId",null),oO(this,"lastDecisionTime",0),oO(this,"lastLevelChangedTime",0),oO(this,"lastLevelIdleTime",0),oO(this,"relativeSpeechActivities",[]),oO(this,"speakers",new Map),oO(this,"enableSilence",!1),oO(this,"timeoutToSilenceInterval",0),oO(this,"decisionMaker",null),oO(this,"loudest",[]),oO(this,"numLoudestToTrack",3),oO(this,"energyExpireTimeMs",250),oO(this,"energyAlphaPct",50),this.timeoutToSilenceInterval=e,this.enableSilence=e>0,this.relativeSpeechActivities.length=3}setLoudestConfig(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;this.numLoudestToTrack=e,null!=t&&(this.energyExpireTimeMs=t),null!=n&&(this.energyAlphaPct=n),this.loudest.length>e&&this.loudest.splice(e)}getDominantSpeaker(){return this.dominantId}isAmongLoudest(e){return this.loudest.some(t=>t.id===e)}levelChanged(e,t){const n=Date.now(),i=this.getOrCreateSpeaker(e);this.lastLevelChangedTime<n&&(this.lastLevelChangedTime=n,this.maybeStartDecisionMaker());const r=i.levelChanged(t,n);return this.updateLoudestList(i,r,n)}runInDecisionMaker(e){return this.decisionMaker!==e||this.lastDecisionTime>0&&this.lastDecisionTime-this.lastLevelChangedTime>=15e3?-1:this._runInDecisionMaker()}decisionMakerExited(e){this.decisionMaker===e&&(this.decisionMaker=null)}destroy(){this.decisionMaker=null,this.loudest.length=0,this.speakers.clear(),this.removeAllListeners()}addSpeakers(e){e.forEach(e=>{this.speakers.has(e.id)||this.speakers.set(e.id,e)})}removeSpeakers(e){e.forEach(e=>{this.speakers.delete(e.id)})}getOrCreateSpeaker(e){let t=this.speakers.get(e);return t||(t=new vD(e),this.speakers.set(e,t),this.maybeStartDecisionMaker()),t}updateLoudestList(e,t,n){const i=e.id===this.dominantId;if(t<0){let t=0;for(;t<this.loudest.length&&this.loudest[t]!==e;)++t;return new yD(i,t,e.energyScore)}if(e.energyScore=Math.floor((this.energyAlphaPct*t+(100-this.energyAlphaPct)*e.energyScore+50)/100),0===this.numLoudestToTrack)return new yD(i,0,e.energyScore);const r=n-this.energyExpireTimeMs;let a=0;for(;a<this.loudest.length;){const t=this.loudest[a];if(t.getLastLevelChangedTime()<r&&this.loudest.length>=this.numLoudestToTrack)this.loudest.splice(a,1);else if(t.id!==e.id)++a;else if(this.loudest.splice(a,1),this.loudest.length<this.numLoudestToTrack)break}let s=0;for(;s<this.loudest.length&&!(this.loudest[s].energyScore<e.energyScore);)++s;return s<this.numLoudestToTrack&&(this.loudest.splice(s,0,e),this.loudest.length>this.numLoudestToTrack&&this.loudest.splice(this.numLoudestToTrack,1)),new yD(i,s,e.energyScore)}maybeStartDecisionMaker(){!this.decisionMaker&&this.speakers.size>0&&(this.decisionMaker=new bD(this),this.decisionMaker.execute())}makeDecision(e){let t=null,n=null;const i=this.speakers.size;let r=null;if(0===i)r=null;else if(1===i){var a;const t=up(a=this.speakers).call(a).next().value;this.enableSilence&&t&&(r=t.id,t.evaluateSpeechActivityScores(e),e-t.lastNonSilence>this.timeoutToSilenceInterval&&(r=null))}else{let t=null==this.dominantId?null:this.speakers.get(this.dominantId);if(null==t){const e=this.speakers.entries().next();e.value&&(r=e.value[0],t=e.value[1])}else r=t.id;null!=t&&t.evaluateSpeechActivityScores(e);const n=this.relativeSpeechActivities;let i=2;for(const a of this.speakers.entries()){const[s,o]=a;if(o===t)continue;o.evaluateSpeechActivityScores(e);for(let e=0;e<n.length;++e){const i=null==t?hD:t.getSpeechActivityScore(e);n[e]=Math.log(o.getSpeechActivityScore(e)/i)}const l=n[0],c=n[1],d=n[2];l>3&&c>2&&d>0&&c>i&&(i=c,r=s)}this.enableSilence&&null!=t&&r===t.id&&e-t.lastNonSilence>this.timeoutToSilenceInterval&&(r=null)}null==r&&!this.enableSilence||r===this.dominantId||(t=this.dominantId,this.dominantId=r,n=this.dominantId),null==n&&!this.enableSilence||n===t||this.emit("ActiveSpeakerChanged",n)}_runInDecisionMaker(){const e=Date.now(),t=300-(e-this.lastLevelIdleTime);let n=0;t<=0?(0!==this.lastLevelIdleTime&&this.timeoutIdleLevels(e),this.lastLevelIdleTime=e):n=t;let i=300-(e-this.lastDecisionTime);return i<=0&&(this.lastDecisionTime=e,this.makeDecision(e),i=300-(Date.now()-e)),i>0&&n>i&&(n=i),n}timeoutIdleLevels(e){const t=[];for(const i of up(n=this.speakers).call(n)){var n;const r=e-i.getLastLevelChangedTime();36e5<r&&(null==this.dominantId||i.id!==this.dominantId)?t.push(i.id):300<r&&i.levelTimedOut()}t.forEach(e=>this.speakers.delete(e))}}const wD=new Map;let ED=null,SD=null;const CD=3;let TD=[];const ND=new Map,AD=new Map;class kD{get samples(){return this.actives+this.inactives}get activeRate(){return this.actives/this.samples}constructor(e,t){oO(this,"id",void 0),oO(this,"track",void 0),oO(this,"score",0),oO(this,"active",!0),oO(this,"muted",!1),oO(this,"timer",0),oO(this,"actives",0),oO(this,"inactives",0),this.id=e,this.track=t,this.setActive(ND.size<3)}autoCheckActive(){this.autoSetActive(),this.autoAdjustActive(),this.resetTimer(),this.actives=0,this.inactives=0}autoSetActive(){const e=this.active;this.active=this.activeRate>=.8;const{actives:t,inactives:n}=function(){const e=[],t=[];return Array.from(up(ND).call(ND)).forEach(n=>{n.active?e.push(n):t.push(n)}),{actives:e,inactives:t}}();if(t.length>3){let e;t.forEach(t=>{(!e||e.score>t.score)&&(e=t)}),e&&e.setActive(!1)}if(t.length<3&&n.length>0){let t;n.forEach(e=>{(!t||t.score<e.score)&&e.id!==this.id&&(t=e)}),t&&e&&!this.active&&(t.samples>40&&t.activeRate-this.activeRate>.4?t.setActive(!0):this.active=!0)}this.setMuted(!this.active)}setActive(e){this.active=e,this.resetTimer(),this.setMuted(!e)}autoAdjustActive(){this.active?this.autoSwitchToInactive():this.autoSwitchToActive()}autoSwitchToActive(){const e=function(e){let t;return Array.from(up(ND).call(ND)).forEach(n=>{!n.active||n.id===e||n.samples<40||(!t||n.score<t.score)&&(t=n)}),t}(this.id);e&&this.activeRate-e.activeRate>.4&&(e.setActive(!1),this.setActive(!0))}autoSwitchToInactive(){const e=function(e){let t;return Array.from(up(ND).call(ND)).forEach(n=>{n.active||n.id===e||n.samples<40||(!t||n.score>t.score)&&(t=n)}),t}(this.id);e&&e.activeRate-this.activeRate>.4&&(e.setActive(!0),this.setActive(!1))}addSample(e){e?this.actives+=1:this.inactives+=1,this.samples>66.66666666666667&&this.autoCheckActive()}setMuted(e){this.track&&(this.track.enabled=!e,this.muted=e)}resetTimer(){this.clearTimer(),this.timer=window.setTimeout(()=>{if(0!==this.samples)return this.samples<50?this.resetTimer():void this.autoCheckActive()},1e3)}clearTimer(){this.timer&&(clearTimeout(this.timer),this.timer=0)}}let RD;function ID(e){const t=ND.get(e);t&&(ND.delete(e),t.clearTimer())}const OD=new Map,jD=new Map,PD="video/h264",DD="video/h265";function LD(e,t,n){let i=new Uint8Array(e,t,n),r=[],a=0;for(;r.length<n;)a+3<n&&0===i[a]&&0===i[a+1]&&3===i[a+2]&&(0===i[a+3]||1===i[a+3]||2===i[a+3]||3===i[a+3])?(r.push(i[a],i[a+1],i[a+3]),a+=4):(r.push(i[a]),a++);return new Uint8Array(r)}function MD(e){const t=e.length;let n=[],i=0;for(;i<t;)i+2<t&&0===e[i]&&0===e[i+1]&&(0===e[i+2]||1===e[i+2]||2===e[i+2]||3===e[i+2])?(n.push(e[i],e[i+1],3,e[i+2]),i+=3):(n.push(e[i]),i++);return new Uint8Array(n)}function UD(e){if(e.length<5)return"";let t=-1;for(let r=0;r<e.length-3;r++){if(0===e[r]&&0===e[r+1]&&1===e[r+2]){t=r;break}if(r<e.length-4&&0===e[r]&&0===e[r+1]&&0===e[r+2]&&1===e[r+3]){t=r;break}}if(-1===t)return"";const n=t+(0===e[t+2]?4:3);if(n>=e.length)return"";const i=e[n];return 128&i?"":(i>>1&63)>=32||n+1<e.length&&0==(248&e[n+1])?DD:(31&i)<=31?PD:""}const FD=new Map,BD=new Map;!function(){const e=YN();gI.getDisplayMedia=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),gI.getStreamFromExtension=e.name===HN.CHROME&&Number(e.version)>34,gI.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver)return!1;if(!("currentDirection"in RTCRtpTransceiver.prototype))return!1;const e=new RTCPeerConnection;let t=!1;try{e.addTransceiver("audio"),t=!0}catch(e){}return e.close(),t}(),gI.supportMinBitrate=e.name===HN.CHROME||e.name===HN.EDGE,gI.supportSetRtpSenderParameters=function(){const e=YN();return!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!wA()||!(!$N()&&!ZN())||e.name===HN.FIREFOX&&Number(e.version)>=64)}(),e.name===HN.SAFARI&&(Number(e.version)>=14?gI.supportDualStream=!0:gI.supportDualStream=!1),gI.webAudioMediaStreamDest=function(){const e=YN();return!(e.name===HN.SAFARI&&Number(e.version)<12)}(),gI.supportReplaceTrack=!!window.RTCRtpSender&&"function"==typeof RTCRtpSender.prototype.replaceTrack,gI.supportWebGL="undefined"!=typeof WebGLRenderingContext,gI.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,wA()||(gI.webAudioWithAEC=!0),gI.supportShareAudio=function(){const e=YN();return(e.os===zN.WIN_10||e.os===zN.WIN_81||e.os===zN.WIN_7||e.os===zN.LINUX||e.os===zN.MAC_OS||e.os===zN.CHROMIUM_OS)&&e.name===HN.CHROME&&Number(e.version)>=74}(),gI.supportDataChannel=!!(rA(76)||lA(68)||cA(14)),gI.supportPCSetConfiguration=function(){const e=window.RTCPeerConnection;return!nA()&&!!e&&e.prototype.setConfiguration instanceof Function}(),gI.supportWebRTCEncodedTransform=rA(87)||eA()||lA(117),gI.supportWebRTCInsertableStream=function(){const e=YN();return(e.name===HN.CHROME||e.name===HN.EDGE)&&Number(e.version)>=94&&"MediaStreamTrackGenerator"in window&&"MediaStreamTrackProcessor"in window}(),gI.supportRequestVideoFrameCallback="requestVideoFrameCallback"in HTMLVideoElement.prototype,gI.supportWebCrypto="undefined"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.subtle,hk(()=>{gI.supportDualStreamEncoding=function(){const e=YN();return!!AR("DISABLE_WEBAUDIO")||"Safari"===e.name&&Number(e.version)>=14||!!("Chrome"===e.name&&/Windows/i.test(e.os||"")&&Number(e.version)>=100&&AR("CHROME_DUAL_STREAM_USE_ENCODING"))}(),sI.debug("browser ua: ",navigator.userAgent),sI.info("browser info: ",e),sI.info("browser compatibility: ",gI)})}();const VD=["CHINA","GLOBAL"],zD=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],HD=[],WD=[];function GD(e,t){return!!t&&HD.some(n=>n.uid===e&&n.channelName===t)}function qD(){return WD.length>0}var YD=Nw.forEach,XD=Wi("forEach")?[].forEach:function(e){return YD(this,e,arguments.length>1?arguments[1]:void 0)};In({target:"Array",proto:!0,forced:[].forEach!==XD},{forEach:XD});var KD=ei("Array","forEach"),JD=gi,ZD=et,QD=u,$D=KD,eL=Array.prototype,tL={DOMTokenList:!0,NodeList:!0},nL=function(e){var t=e.forEach;return e===eL||QD(eL,e)&&t===eL.forEach||ZD(tL,JD(e))?$D:t},iL=i(nL),rL=Ze,aL=ha;In({target:"Object",stat:!0,forced:r(function(){aL(1)})},{keys:function(e){return aL(rL(e))}});var sL=i(ee.Object.keys),oL=i(ir),lL=i(gr),cL=In,dL=sr,uL=Zl,hL=$,pL=Bn,mL=Gn,fL=Z,gL=Yf,_L=mt,vL=sc,bL=Vx("slice"),yL=_L("species"),xL=Array,wL=Math.max;cL({target:"Array",proto:!0,forced:!bL},{slice:function(e,t){var n,i,r,a=fL(this),s=mL(a),o=pL(e,s),l=pL(void 0===t?s:t,s);if(dL(a)&&(n=a.constructor,(uL(n)&&(n===xL||dL(n.prototype))||hL(n)&&null===(n=n[yL]))&&(n=void 0),n===xL||void 0===n))return vL(a,o,l);for(i=new(void 0===n?xL:n)(wL(l-o,0)),r=0;o<l;o++,r++)o in a&&gL(i,r,a[o]);return i.length=r,i}});var EL=ei("Array","slice"),SL=u,CL=EL,TL=Array.prototype,NL=function(e){var t=e.slice;return e===TL||SL(TL,e)&&t===TL.slice?CL:t},AL=i(NL);function kL(e,t,n,i,r){var a,s,o,l={};return iL(a=sL(i)).call(a,function(e){l[e]=i[e]}),l.enumerable=!!l.enumerable,l.configurable=!!l.configurable,("value"in l||l.initializer)&&(l.writable=!0),l=oL(s=lL(o=AL(n).call(n)).call(o)).call(s,function(n,i){return i(e,t,n)||n},l),r&&void 0!==l.initializer&&(l.value=l.initializer?l.initializer.call(r):void 0,l.initializer=void 0),void 0===l.initializer?(kx(e,t,l),null):l}let RL=function(e){return e[e.ACCESS_POINT=101]="ACCESS_POINT",e[e.UNILBS=201]="UNILBS",e[e.STRING_UID_ALLOCATOR=901]="STRING_UID_ALLOCATOR",e}({}),IL=function(e){return e[e.IIIEGAL_APPID=1]="IIIEGAL_APPID",e[e.IIIEGAL_UID=2]="IIIEGAL_UID",e[e.INTERNAL_ERROR=3]="INTERNAL_ERROR",e}({}),OL=function(e){return e[e.INVALID_VENDOR_KEY=5]="INVALID_VENDOR_KEY",e[e.INVALID_CHANNEL_NAME=7]="INVALID_CHANNEL_NAME",e[e.INTERNAL_ERROR=8]="INTERNAL_ERROR",e[e.NO_AUTHORIZED=9]="NO_AUTHORIZED",e[e.DYNAMIC_KEY_TIMEOUT=10]="DYNAMIC_KEY_TIMEOUT",e[e.NO_ACTIVE_STATUS=11]="NO_ACTIVE_STATUS",e[e.DYNAMIC_KEY_EXPIRED=13]="DYNAMIC_KEY_EXPIRED",e[e.STATIC_USE_DYNAMIC_KEY=14]="STATIC_USE_DYNAMIC_KEY",e[e.DYNAMIC_USE_STATIC_KEY=15]="DYNAMIC_USE_STATIC_KEY",e[e.USER_OVERLOAD=16]="USER_OVERLOAD",e[e.FORBIDDEN_REGION=18]="FORBIDDEN_REGION",e[e.CANNOT_MEET_AREA_DEMAND=19]="CANNOT_MEET_AREA_DEMAND",e}({}),jL=function(e){return e[e.NO_FLAG_SET=100]="NO_FLAG_SET",e[e.FLAG_SET_BUT_EMPTY=101]="FLAG_SET_BUT_EMPTY",e[e.INVALID_FALG_SET=102]="INVALID_FALG_SET",e[e.FLAG_SET_BUT_NO_RE=103]="FLAG_SET_BUT_NO_RE",e[e.INVALID_SERVICE_ID=104]="INVALID_SERVICE_ID",e[e.NO_SERVICE_AVAILABLE=200]="NO_SERVICE_AVAILABLE",e[e.NO_SERVICE_AVAILABLE_P2P=201]="NO_SERVICE_AVAILABLE_P2P",e[e.NO_SERVICE_AVAILABLE_VOICE=202]="NO_SERVICE_AVAILABLE_VOICE",e[e.NO_SERVICE_AVAILABLE_WEBRTC=203]="NO_SERVICE_AVAILABLE_WEBRTC",e[e.NO_SERVICE_AVAILABLE_CDS=204]="NO_SERVICE_AVAILABLE_CDS",e[e.NO_SERVICE_AVAILABLE_CDN=205]="NO_SERVICE_AVAILABLE_CDN",e[e.NO_SERVICE_AVAILABLE_TDS=206]="NO_SERVICE_AVAILABLE_TDS",e[e.NO_SERVICE_AVAILABLE_REPORT=207]="NO_SERVICE_AVAILABLE_REPORT",e[e.NO_SERVICE_AVAILABLE_APP_CENTER=208]="NO_SERVICE_AVAILABLE_APP_CENTER",e[e.NO_SERVICE_AVAILABLE_ENV0=209]="NO_SERVICE_AVAILABLE_ENV0",e[e.NO_SERVICE_AVAILABLE_VOET=210]="NO_SERVICE_AVAILABLE_VOET",e[e.NO_SERVICE_AVAILABLE_STRING_UID=211]="NO_SERVICE_AVAILABLE_STRING_UID",e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]="NO_SERVICE_AVAILABLE_WEBRTC_UNILBS",e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]="NO_SERVICE_AVAILABLE_UNILBS_FLV",e}({}),PL=function(e){return e[e.K_TIMESTAMP_EXPIRED=2]="K_TIMESTAMP_EXPIRED",e[e.K_CHANNEL_PERMISSION_INVALID=3]="K_CHANNEL_PERMISSION_INVALID",e[e.K_CERTIFICATE_INVALID=4]="K_CERTIFICATE_INVALID",e[e.K_CHANNEL_NAME_EMPTY=5]="K_CHANNEL_NAME_EMPTY",e[e.K_CHANNEL_NOT_FOUND=6]="K_CHANNEL_NOT_FOUND",e[e.K_TICKET_INVALID=7]="K_TICKET_INVALID",e[e.K_CHANNEL_CONFLICTED=8]="K_CHANNEL_CONFLICTED",e[e.K_SERVICE_NOT_READY=9]="K_SERVICE_NOT_READY",e[e.K_SERVICE_TOO_HEAVY=10]="K_SERVICE_TOO_HEAVY",e[e.K_UID_BANNED=14]="K_UID_BANNED",e[e.K_IP_BANNED=15]="K_IP_BANNED",e[e.K_CHANNEL_BANNED=16]="K_CHANNEL_BANNED",e[e.DATASTREAM2_NOT_AVAILABLE=27]="DATASTREAM2_NOT_AVAILABLE",e[e.K_AUTO_REBALANCE=28]="K_AUTO_REBALANCE",e[e.WARN_NO_AVAILABLE_CHANNEL=103]="WARN_NO_AVAILABLE_CHANNEL",e[e.WARN_LOOKUP_CHANNEL_TIMEOUT=104]="WARN_LOOKUP_CHANNEL_TIMEOUT",e[e.WARN_LOOKUP_CHANNEL_REJECTED=105]="WARN_LOOKUP_CHANNEL_REJECTED",e[e.WARN_OPEN_CHANNEL_TIMEOUT=106]="WARN_OPEN_CHANNEL_TIMEOUT",e[e.WARN_OPEN_CHANNEL_REJECTED=107]="WARN_OPEN_CHANNEL_REJECTED",e[e.WARN_REQUEST_DEFERRED=108]="WARN_REQUEST_DEFERRED",e[e.ERR_DYNAMIC_KEY_TIMEOUT=109]="ERR_DYNAMIC_KEY_TIMEOUT",e[e.ERR_NO_AUTHORIZED=110]="ERR_NO_AUTHORIZED",e[e.ERR_VOM_SERVICE_UNAVAILABLE=111]="ERR_VOM_SERVICE_UNAVAILABLE",e[e.ERR_NO_CHANNEL_AVAILABLE_CODE=112]="ERR_NO_CHANNEL_AVAILABLE_CODE",e[e.ERR_MASTER_VOCS_UNAVAILABLE=114]="ERR_MASTER_VOCS_UNAVAILABLE",e[e.ERR_INTERNAL_ERROR=115]="ERR_INTERNAL_ERROR",e[e.ERR_NO_ACTIVE_STATUS=116]="ERR_NO_ACTIVE_STATUS",e[e.ERR_INVALID_UID=117]="ERR_INVALID_UID",e[e.ERR_DYNAMIC_KEY_EXPIRED=118]="ERR_DYNAMIC_KEY_EXPIRED",e[e.ERR_STATIC_USE_DYANMIC_KE=119]="ERR_STATIC_USE_DYANMIC_KE",e[e.ERR_DYNAMIC_USE_STATIC_KE=120]="ERR_DYNAMIC_USE_STATIC_KE",e[e.ERR_NO_VOCS_AVAILABLE=2e3]="ERR_NO_VOCS_AVAILABLE",e[e.ERR_NO_VOS_AVAILABLE=2001]="ERR_NO_VOS_AVAILABLE",e[e.ERR_JOIN_CHANNEL_TIMEOUT=2002]="ERR_JOIN_CHANNEL_TIMEOUT",e[e.ERR_REPEAT_JOIN_CHANNEL=2003]="ERR_REPEAT_JOIN_CHANNEL",e[e.ERR_JOIN_BY_MULTI_IP=2004]="ERR_JOIN_BY_MULTI_IP",e[e.ERR_NOT_JOINED=2011]="ERR_NOT_JOINED",e[e.ERR_REPEAT_JOIN_REQUEST=2012]="ERR_REPEAT_JOIN_REQUEST",e[e.ERR_INVALID_VENDOR_KEY=2013]="ERR_INVALID_VENDOR_KEY",e[e.ERR_INVALID_CHANNEL_NAME=2014]="ERR_INVALID_CHANNEL_NAME",e[e.ERR_INVALID_STRINGUID=2015]="ERR_INVALID_STRINGUID",e[e.ERR_TOO_MANY_USERS=2016]="ERR_TOO_MANY_USERS",e[e.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]="ERR_SET_CLIENT_ROLE_TIMEOUT",e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]="ERR_SET_CLIENT_ROLE_NO_PERMISSION",e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]="ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",e[e.ERR_PUBLISH_REQUEST_INVALID=2020]="ERR_PUBLISH_REQUEST_INVALID",e[e.ERR_SUBSCRIBE_REQUEST_INVALID=2021]="ERR_SUBSCRIBE_REQUEST_INVALID",e[e.ERR_NOT_SUPPORTED_MESSAGE=2022]="ERR_NOT_SUPPORTED_MESSAGE",e[e.ERR_ILLEAGAL_PLUGIN=2023]="ERR_ILLEAGAL_PLUGIN",e[e.ERR_REJOIN_TOKEN_INVALID=2024]="ERR_REJOIN_TOKEN_INVALID",e[e.ERR_REJOIN_USER_NOT_JOINED=2025]="ERR_REJOIN_USER_NOT_JOINED",e[e.ERR_INVALID_OPTIONAL_INFO=2027]="ERR_INVALID_OPTIONAL_INFO",e[e.ILLEGAL_AES_PASSWORD=2028]="ILLEGAL_AES_PASSWORD",e[e.ILLEGAL_CLIENT_ROLE_LEVEL=2029]="ILLEGAL_CLIENT_ROLE_LEVEL",e[e.ERR_TOO_MANY_BROADCASTERS=2031]="ERR_TOO_MANY_BROADCASTERS",e[e.ERR_TOO_MANY_SUBSCRIBERS=2032]="ERR_TOO_MANY_SUBSCRIBERS",e[e.ERR_LICENSE_MISSING=32769]="ERR_LICENSE_MISSING",e[e.ERR_LICENSE_EXPIRED=32771]="ERR_LICENSE_EXPIRED",e[e.ERR_LICENSE_MINUTES_EXCEEDED=32773]="ERR_LICENSE_MINUTES_EXCEEDED",e[e.ERR_LICENSE_PERIOD_INVALID=32774]="ERR_LICENSE_PERIOD_INVALID",e[e.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]="ERR_LICENSE_MULTIPLE_SDK_SERVICE",e[e.ERR_LICENSE_ILLEGAL=32783]="ERR_LICENSE_ILLEGAL",e[e.ERR_TEST_RECOVER=9e3]="ERR_TEST_RECOVER",e[e.ERR_TEST_TRYNEXT=9001]="ERR_TEST_TRYNEXT",e[e.ERR_TEST_RETRY=9002]="ERR_TEST_RETRY",e}({}),DL=function(e){return e.CONNECTING="connecting",e.CONNECTED="connected",e.RECONNECTING="reconnecting",e.CLOSED="closed",e}({}),LL=function(e){return e.WS_CONNECTED="ws_connected",e.WS_RECONNECTING="ws_reconnecting",e.WS_CLOSED="ws_closed",e.WS_RECONNECT_CREATE_CONNECTION="ws_reconnect_create_connection",e.ON_BINARY_DATA="on_binary_data",e.REQUEST_RECOVER="request_recover",e.REQUEST_JOIN_INFO="request_join_info",e.REQUEST_REJOIN_INFO="req_rejoin_info",e.IS_P2P_DISCONNECTED="is_p2p_dis",e.DISCONNECT_P2P="dis_p2p",e.ABORT_P2P_EXECUTION="abort_p2p_execution",e.NEED_RENEW_SESSION="need-sid",e.REPORT_JOIN_GATEWAY="report_join_gateway",e.REQUEST_TIMEOUT="request_timeout",e.REQUEST_SUCCESS="request_success",e.JOIN_RESPONSE="join_response",e.PRE_CONNECT_PC="pre_connect_pc",e.P2P_CONNECTION="p2p_connection",e.P2P_REMOTE_CANDIDATE_UPDATE="p2p_remote_candidate_update",e.P2P_SUBSCRIBE="p2p_subscribe",e.P2P_UNSUBSCRIBE="p2p_unsubscribe",e.P2P_EXCHANGE_SDP="p2p_exchange_sdp",e.P2P_ON_ADD_VIDEO_STREAM="p2p_on_add_video_stream",e.P2P_ON_ADD_AUDIO_STREAM="p2p_on_add_audio_stream",e.RECOVER_NOTIFICATION="recover_notification",e}({}),ML=function(e){return e.PING="ping",e.PING_BACK="ping_back",e.JOIN="join_v3",e.REJOIN="rejoin_v3",e.LEAVE="leave",e.SET_CLIENT_ROLE="set_client_role",e.PUBLISH="publish",e.PUBLISH_DATASTREAM="publish_datastream",e.UNPUBLISH="unpublish",e.UNPUBLISH_DATASTREAM="unpublish_datastream",e.SUBSCRIBE="subscribe",e.PRE_SUBSCRIBE="pre_subscribe",e.SUBSCRIBE_DATASTREAM="subscribe_datastream",e.SUBSCRIBE_STREAMS="subscribe_streams",e.UNSUBSCRIBE="unsubscribe",e.UNSUBSCRIBE_DATASTREAM="unsubscribe_datastream",e.UNSUBSCRIBE_STREAMS="unsubscribe_streams",e.SUBSCRIBE_CHANGE="subscribe_change",e.TRAFFIC_STATS="traffic_stats",e.RENEW_TOKEN="renew_token",e.SWITCH_VIDEO_STREAM="switch_video_stream",e.DEFAULT_VIDEO_STREAM="default_video_stream",e.SET_FALLBACK_OPTION="set_fallback_option",e.GATEWAY_INFO="gateway_info",e.CONTROL="control",e.SEND_METADATA="send_metadata",e.DATA_STREAM="data_stream",e.PICK_SVC_LAYER="pick_svc_layer",e.RESTART_ICE="restart_ice",e.CONNECT_PC="connect_pc",e.SET_VIDEO_PROFILE="set_video_profile",e.SET_PARAMETER="set_parameter",e.SET_RTM2_FLAG="set_rtm2_flag",e.DOWNGRADE_CODEC="downgrade_codec",e}({}),UL=function(e){return e.WRTC_STATS="wrtc_stats",e.WS_INFLATE_DATA_LENGTH="ws_inflate_data_length",e.DENOISER_STATS="denoiser_stats",e.EXTENSION_USAGE_STATS="extension_usage_stats",e}({}),FL=function(e){return e.ON_USER_ONLINE="on_user_online",e.ON_USER_OFFLINE="on_user_offline",e.ON_STREAM_FALLBACK_UPDATE="on_stream_fallback_update",e.ON_PUBLISH_STREAM="on_publish_stream",e.ON_UPLINK_STATS="on_uplink_stats",e.ON_P2P_LOST="on_p2p_lost",e.ON_REMOVE_STREAM="on_remove_stream",e.ON_ADD_AUDIO_STREAM="on_add_audio_stream",e.ON_ADD_VIDEO_STREAM="on_add_video_stream",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="on_token_privilege_will_expire",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="on_token_privilege_did_expire",e.ON_USER_BANNED="on_user_banned",e.ON_USER_LICENSE_BANNED="on_user_license_banned",e.ON_NOTIFICATION="on_notification",e.ON_CRYPT_ERROR="on_crypt_error",e.MUTE_AUDIO="mute_audio",e.MUTE_VIDEO="mute_video",e.UNMUTE_AUDIO="unmute_audio",e.UNMUTE_VIDEO="unmute_video",e.ON_P2P_OK="on_p2p_ok",e.RECEIVE_METADATA="receive_metadata",e.ON_DATA_STREAM="on_data_stream",e.ON_RTP_CAPABILITY_CHANGE="on_rtp_capability_change",e.ON_REMOTE_DATASTREAM_UPDATE="on_remote_datastream_update",e.ON_REMOTE_FULL_DATASTREAM_INFO="on_remote_full_datastream_info",e.ENABLE_LOCAL_VIDEO="enable_local_video",e.DISABLE_LOCAL_VIDEO="disable_local_video",e.ENABLE_LOCAL_AUDIO="enable_local_audio",e.DISABLE_LOCAL_AUDIO="disable_local_audio",e.ON_PUBLISHED_USER_LIST="on_published_user_list",e}({}),BL=function(e){return e.SEND_ONLY="SEND_ONLY",e.RECEIVE_ONLY="RECEIVE_ONLY",e}({}),VL=function(e){return e.CONNECTED="websocket:connected",e.RECONNECTING="websocket:reconnecting",e.WILL_RECONNECT="websocket:will_reconnect",e.CLOSED="websocket:closed",e.FAILED="websocket:failed",e.ON_MESSAGE="websocket:on_message",e.REQUEST_NEW_URLS="websocket:request_new_urls",e.RECONNECT_CREATE_CONNECTION="websocket:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="websocket:on_token_privilege_did_expire",e}({});function zL(e){if("string"!=typeof e||!/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(e))throw sI.error("Invalid Channel Name ".concat(e)),new fI(AA.INVALID_PARAMS,"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")}function HL(e){if(!("number"==typeof(t=e)&&Math.floor(t)===t&&0<=t&&t<=4294967295||MA(e,1,255)))throw new fI(AA.INVALID_PARAMS,"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]");var t;"string"==typeof e&&sI.warn("You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.")}let WL=function(e){return e.TRANSCODE="mix_streaming",e.RAW="raw_streaming",e}({});const GL={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},qL={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function YL(e,t){PA(e.url,"".concat(t,".url"),1,1e3,!1),LA(e.x)||OA(e.x,"".concat(t,".x"),0,1e4),LA(e.y)||OA(e.y,"".concat(t,".y"),0,1e4),LA(e.width)||OA(e.width,"".concat(t,".width"),0,1e4),LA(e.height)||OA(e.height,"".concat(t,".height"),0,1e4),LA(e.zOrder)||OA(e.zOrder,"".concat(t,".zOrder"),0,255),LA(e.alpha)||OA(e.alpha,"".concat(t,".alpha"),0,1,!1)}const XL={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""};let KL=function(e){return e.WARNING="@live_uap-warning",e.ERROR="@line_uap-error",e.PUBLISH_STREAM_STATUS="@live_uap-publish-status",e.WORKER_STATUS="@live_uap-worker-status",e.REQUEST_NEW_ADDRESS="@live_uap-request-address",e}({}),JL=function(e){return e.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager",e}({}),ZL=function(e){return e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",e[e.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN",e}({});function QL(e){if(!e.channelName)throw new fI(AA.INVALID_PARAMS,"invalid channelName in info");if("number"!=typeof e.uid)throw new fI(AA.INVALID_PARAMS,"invalid uid in info, uid must be a number");return e.token&&PA(e.token,"info.token",1,2047),HL(e.uid),zL(e.channelName),!0}let $L=function(e){return e[e.SetSdkProfile=0]="SetSdkProfile",e[e.SetSourceChannel=1]="SetSourceChannel",e[e.SetSourceUserId=2]="SetSourceUserId",e[e.SetDestChannel=3]="SetDestChannel",e[e.StartPacketTransfer=4]="StartPacketTransfer",e[e.StopPacketTransfer=5]="StopPacketTransfer",e[e.UpdateDestChannel=6]="UpdateDestChannel",e[e.Reconnect=7]="Reconnect",e[e.SetVideoProfile=8]="SetVideoProfile",e}({}),eM=function(e){return e.NETWORK_DISCONNECTED="NETWORK_DISCONNECTED",e.NETWORK_CONNECTED="NETWORK_CONNECTED",e.PACKET_JOINED_SRC_CHANNEL="PACKET_JOINED_SRC_CHANNEL",e.PACKET_JOINED_DEST_CHANNEL="PACKET_JOINED_DEST_CHANNEL",e.PACKET_SENT_TO_DEST_CHANNEL="PACKET_SENT_TO_DEST_CHANNEL",e.PACKET_RECEIVED_VIDEO_FROM_SRC="PACKET_RECEIVED_VIDEO_FROM_SRC",e.PACKET_RECEIVED_AUDIO_FROM_SRC="PACKET_RECEIVED_AUDIO_FROM_SRC",e.PACKET_UPDATE_DEST_CHANNEL="PACKET_UPDATE_DEST_CHANNEL",e.PACKET_UPDATE_DEST_CHANNEL_REFUSED="PACKET_UPDATE_DEST_CHANNEL_REFUSED",e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE",e}({}),tM=function(e){return e.RELAY_STATE_IDLE="RELAY_STATE_IDLE",e.RELAY_STATE_CONNECTING="RELAY_STATE_CONNECTING",e.RELAY_STATE_RUNNING="RELAY_STATE_RUNNING",e.RELAY_STATE_FAILURE="RELAY_STATE_FAILURE",e}({}),nM=function(e){return e.RELAY_OK="RELAY_OK",e.SERVER_CONNECTION_LOST="SERVER_CONNECTION_LOST",e.SRC_TOKEN_EXPIRED="SRC_TOKEN_EXPIRED",e.DEST_TOKEN_EXPIRED="DEST_TOKEN_EXPIRED",e}({}),iM=function(e){return e.High="high",e.Low="low",e.Audio="audio",e.Screen="screen",e.ScreenLow="screen_low",e}({}),rM=function(e){return e.DISCONNECT="disconnect",e.CONNECTION_STATE_CHANGE="connection-state-change",e.NETWORK_QUALITY="network-quality",e.STREAM_TYPE_CHANGE="stream-type-change",e.IS_P2P_DISCONNECTED="is-p2p-dis",e.DISCONNECT_P2P="dis-p2p",e.REQUEST_NEW_GATEWAY_LIST="req-gate-url",e.NEED_RENEW_SESSION="need-sid",e.REQUEST_P2P_CONNECTION_PARAMS="request-p2p-connection-params",e.JOIN_RESPONSE="join-response",e.RESET_CONNECTION_EVENTS="reset-connection-events",e.PRE_CONNECT_PC="pre-connect_pc",e.UPDATE_GATEWAY_CONFIG="update-gateway-config",e}({}),aM=function(e){return e.P2P_DISCONNECTED="P2P_DISCONNECTED",e.A_ROUND_WS_FAILED="A_ROUND_WS_FAILED",e.TIMEOUT="TIMEOUT",e.UNKNOWN_REASON="UNKNOWN_REASON",e}({}),sM=function(e){return e[e.Nothing=0]="Nothing",e[e.Audio=1]="Audio",e[e.LwoVideo=2]="LwoVideo",e[e.Video=4]="Video",e[e.Data=8]="Data",e[e.DataStream0=256]="DataStream0",e[e.DataStream1=512]="DataStream1",e[e.DataStream2=1024]="DataStream2",e[e.DataStream3=2048]="DataStream3",e[e.DataStream4=4096]="DataStream4",e[e.DataStream5=8192]="DataStream5",e[e.DataStream6=16384]="DataStream6",e[e.DataStream7=32768]="DataStream7",e}({}),oM=function(e){return e.CHINA="CHINA",e.ASIA="ASIA",e.NORTH_AMERICA="NORTH_AMERICA",e.EUROPE="EUROPE",e.JAPAN="JAPAN",e.INDIA="INDIA",e.KOREA="KOREA",e.HKMC="HKMC",e.US="US",e.OCEANIA="OCEANIA",e.SOUTH_AMERICA="SOUTH_AMERICA",e.AFRICA="AFRICA",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL",e.EXTENSIONS="EXTENSIONS",e}({});const lM=[oM.AFRICA,oM.ASIA,oM.CHINA,oM.EUROPE,oM.GLOBAL,oM.INDIA,oM.JAPAN,oM.NORTH_AMERICA,oM.OCEANIA,oM.OVERSEA,oM.SOUTH_AMERICA];let cM=function(e){return e.CHINA="CN",e.ASIA="AS",e.NORTH_AMERICA="NA",e.EUROPE="EU",e.JAPAN="JP",e.INDIA="IN",e.KOREA="KR",e.HKMC="HK",e.US="US",e.OCEANIA="OC",e.SOUTH_AMERICA="SA",e.AFRICA="AF",e.OVERSEA="OVERSEA",e.GLOBAL="GLOBAL",e.EXTENSIONS="GLOBAL",e}({});const dM={CHINA:{},ASIA:{CODE:cM.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_SERVER_TYPE3:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:cM.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_SERVER_TYPE3:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:cM.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_SERVER_TYPE3:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:cM.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","uap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_SERVER_TYPE3:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:cM.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_SERVER_TYPE3:["india.webrtc-cloud-proxy.sd-rtn.com"]},KOREA:{CODE:cM.KOREA,WEBCS_DOMAIN:["ap-web-1-korea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-korea.agora.io"],PROXY_CS:["proxy-ap-web-korea.agora.io"],CDS_AP:["cds-ap-web-korea.agora.io","cds-ap-web-korea2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-korea.agora.io","sua-ap-web-korea2.agora.io"],UAP_AP:["uap-ap-web-korea.agora.io","uap-ap-web-korea2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_SERVER_TYPE3:["korea.webrtc-cloud-proxy.sd-rtn.com"]},HKMC:{CODE:cM.HKMC,WEBCS_DOMAIN:["ap-web-1-hkmc.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-hkmc.agora.io"],PROXY_CS:["proxy-ap-web-hkmc.agora.io"],CDS_AP:["cds-ap-web-hkmc.agora.io","cds-ap-web-hkmc2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-hkmc.agora.io","sua-ap-web-hkmc2.agora.io"],UAP_AP:["uap-ap-web-hkmc.agora.io","uap-ap-web-hkmc2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-hkmc.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-hkmc.agora.io"],LOG_UPLOAD_SERVER:["logservice-hkmc.agora.io"],PROXY_SERVER_TYPE3:["hkmc.webrtc-cloud-proxy.sd-rtn.com"]},US:{CODE:cM.US,WEBCS_DOMAIN:["ap-web-1-us.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-us.agora.io"],PROXY_CS:["proxy-ap-web-us.agora.io"],CDS_AP:["cds-ap-web-us.agora.io","cds-ap-web-us2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-us.agora.io","sua-ap-web-us2.agora.io"],UAP_AP:["uap-ap-web-us.agora.io","uap-ap-web-us2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_SERVER_TYPE3:["us.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:cM.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:cM.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:cM.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_SERVER_TYPE3:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:cM.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_SERVER_TYPE3:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:cM.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_SERVER_TYPE3:["africa.webrtc-cloud-proxy.sd-rtn.com"]},EXTENSIONS:{}};bR&&(dM.CHINA={CODE:cM.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_SERVER_TYPE3:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]});let uM=function(e){return e.UPDATE_BITRATE_LIMIT="update_bitrate_limit",e.UPDATE_CLIENT_ROLE_OPTIONS="update_client_role_options",e}({});function hM(e){return!!e&&!(!e.uplink||!e.id)&&void 0!==e.uplink.max_bitrate&&void 0!==e.uplink.min_bitrate}class pM extends WA{constructor(e,t){super(),uC(this,"onICEConnectionStateChange",void 0),uC(this,"onConnectionStateChange",void 0),uC(this,"onDTLSTransportStateChange",void 0),uC(this,"onDTLSTransportError",void 0),uC(this,"onICETransportStateChange",void 0),uC(this,"onFirstAudioReceived",void 0),uC(this,"onFirstVideoReceived",void 0),uC(this,"onFirstAudioDecoded",void 0),uC(this,"onFirstVideoDecoded",void 0),uC(this,"onFirstVideoRender",void 0),uC(this,"onFirstVideoDecodedTimeout",void 0),uC(this,"onSelectedLocalCandidateChanged",void 0),uC(this,"onSelectedRemoteCandidateChanged",void 0),uC(this,"onICECandidateError",void 0),uC(this,"getLocalVideoStats",void 0)}}class mM extends pM{constructor(e,t){super(e,t),uC(this,"establishPromise",void 0)}}let fM=function(e){return e.VIDEO="video",e.AUDIO="audio",e}({}),gM=function(e){return e.UDP_RELAY="udp_relay",e.UDP_TCP_RELAY="udp_tcp_relay",e.TCP_RELAY="tcp_relay",e.RELAY="relay",e}({}),_M=function(e){return e[e.FIRST_CONNECTION=0]="FIRST_CONNECTION",e[e.UDP_TCP_RESTART=1]="UDP_TCP_RESTART",e[e.RELAY_RESTART=2]="RELAY_RESTART",e[e.TCP_RESTART=3]="TCP_RESTART",e[e.OLD_FIRST_CONNECTION=10]="OLD_FIRST_CONNECTION",e[e.OLD_RESTART=11]="OLD_RESTART",e[e.DISCONNECTED_OR_FAILED=20]="DISCONNECTED_OR_FAILED",e}({});const vM=["disconnected","failed"];let bM=function(e){return e.LocalVideoTrack="videoTrack",e.LocalAudioTrack="audioTrack",e.LocalVideoLowTrack="videoLowTrack",e}({}),yM=function(e){return e.New="new",e.Connected="connected",e.Reconnecting="reconnecting",e.Disconnected="disconnected",e}({}),xM=function(e){return e.AudioMetadata="audioMetadata",e.AudioPts="audioPts",e.StateChange="stateChange",e.IceConnectionStateChange="iceConnectionStateChange",e.RequestMuteLocal="requestMuteLocal",e.RequestUnmuteLocal="requestUnmuteLocal",e.RequestRePublish="requestRePublish",e.RequestRePublishDataChannel="requestRePublishDataChannel",e.RequestReSubscribe="requestReSubscribe",e.RequestUploadStats="requestUploadStats",e.RequestUpload="requestUpload",e.MediaReconnectStart="MediaReconnectStart",e.MediaReconnectEnd="MediaReconnectEnd",e.NeedSignalRTT="NeedSignalRTT",e.RequestRestartICE="RequestRestartIce",e.PeerConnectionStateChange="PeerConnectionStateChange",e.RequestReconnect="RequestReconnect",e.RequestReconnectPC="RequestReconnectPC",e.RequestUnpublishForReconnectPC="RequestUnpublishForReconnectPC",e.P2PLost="P2PLost",e.UpdateVideoEncoder="UpdateVideoEncoder",e.ConnectionTypeChange="ConnectionTypeChange",e.RequestLowStreamParameter="RequestLowStreamParameter",e.QueryClientConnectionState="QueryClientConnectionState",e.LocalCandidate="LocalCandidate",e.RequestP2PMuteLocal="requestP2PMuteLocal",e.RequestP2PUnPublish="RequestP2PUnPublish",e.RequestP2PUnmuteRemote="RequestP2PUnmuteRemote",e.RequestP2PMuteRemote="RequestP2PMuteRemote",e.RequestP2PRestartICE="RequestP2PRestartICE",e}({}),wM=function(e){return e.CONNECTING="CONNECTING",e.RECONNECTING="RECONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED",e}({}),EM=function(e){return e[e.CONNECT_AP=0]="CONNECT_AP",e[e.AP_CONNECTED=1]="AP_CONNECTED",e[e.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",e[e.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",e[e.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",e[e.CONNECT_WORKER=5]="CONNECT_WORKER",e[e.WORKER_CONNECTED=6]="WORKER_CONNECTED",e[e.CLOSED=7]="CLOSED",e}({}),SM=function(e){return e.CONNECTION_STATE_CHANGE="connection-state-change",e.STATE_CHANGE="state-change",e.INSPECT_RESULT="inspect-result",e.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",e.REQUEST_NEW_WORKER_URL="request-new-worker-url",e}({}),CM=function(e){return e.CONNECTED="transmitter:connected",e.RECONNECTING="transmitter:reconnecting",e.WILL_RECONNECT="transmitter:will_reconnect",e.CLOSED="transmitter:closed",e.FAILED="transmitter:failed",e.ON_MESSAGE="transmitter:on_message",e.REQUEST_NEW_URLS="transmitter:request_new_urls",e.RECONNECT_CREATE_CONNECTION="transmitter:reconnect_create_connection",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE="transmitter:on_token_privilege_did_expire",e.TO_CONNECT_DATACHANNEL="transmitter:to_connect_datachannel",e.FAILBACK="transmitter:failback",e.PRE_CONNECT_PC="transmitter:pre_connect_pc",e}({}),TM=function(e){return e.CAMERA_CHANGED="camera-changed",e.MICROPHONE_CHANGED="microphone-changed",e.PLAYBACK_DEVICE_CHANGED="playback-device-changed",e.AUDIO_AUTOPLAY_FAILED="audio-autoplay-failed",e.AUTOPLAY_FAILED="autoplay-failed",e.AUDIO_CONTEXT_STATE_CHANGED="audio-context-state-changed",e.SECURITY_POLICY_VIOLATION="security-policy-violation",e}({}),NM=function(e){return e.CONNECTING="CONNECTING",e.RECONNECTING="RECONNECTING",e.CONNECTED="CONNECTED",e.CLOSED="CLOSED",e}({}),AM=function(e){return e.CONNECTION_STATE_CHANGE="connection-state-change",e.STATE_CHANGE="state-change",e.INSPECT_RESULT="inspect-result",e.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",e.REQUEST_NEW_WORKER_URL="request-new-worker-url",e}({}),kM=function(e){return e[e.CONNECT_AP=0]="CONNECT_AP",e[e.AP_CONNECTED=1]="AP_CONNECTED",e[e.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",e[e.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",e[e.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",e[e.CONNECT_WORKER=5]="CONNECT_WORKER",e[e.WORKER_CONNECTED=6]="WORKER_CONNECTED",e[e.CLOSED=7]="CLOSED",e}({}),RM=function(e){return e.CALL="call",e.CANDIDATE="candidate",e.PUBLISH="publish",e.UNPUBLISH="unpublish",e.CONTROL="control",e.RESTART_ICE="restart_ice",e.ACK="ack",e.RESPONSE="response",e.JOIN="join",e.CHECK="check",e}({}),IM=function(e){return e.ABORT="abort",e}({}),OM=function(e){return e.MUTE_LOCAL_AUDIO="mute_local_audio",e.MUTE_LOCAL_VIDEO="mute_local_video",e.UNMUTE_LOCAL_AUDIO="unmute_local_audio",e.UNMUTE_LOCAL_VIDEO="unmute_local_video",e}({}),jM=function(e){return e.P2P_TOKEN_TIMEOUT="p2p_token_timeout",e.P2P_TOKEN_CHANGED="p2p_token_changed",e}({});const PM={[RL.ACCESS_POINT]:{[jL.NO_FLAG_SET]:{desc:"flag is zero",retry:!1},[jL.FLAG_SET_BUT_EMPTY]:{desc:"flag is empty",retry:!1},[jL.INVALID_FALG_SET]:{desc:"invalid flag",retry:!1},[jL.FLAG_SET_BUT_NO_RE]:{desc:"flag set unilbs but no request",retry:!1},[jL.INVALID_SERVICE_ID]:{desc:"invalid service id",retry:!1},[jL.NO_SERVICE_AVAILABLE]:{desc:"no service available",retry:!0},[jL.NO_SERVICE_AVAILABLE_P2P]:{desc:"no unilbs p2p service available",retry:!0},[jL.NO_SERVICE_AVAILABLE_VOICE]:{desc:"no unilbs voice service available",retry:!0},[jL.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:"no unilbs webrtc service available",retry:!0},[jL.NO_SERVICE_AVAILABLE_CDS]:{desc:"no cds service available",retry:!0},[jL.NO_SERVICE_AVAILABLE_CDN]:{desc:"no cdn dispatcher service available",retry:!0},[jL.NO_SERVICE_AVAILABLE_TDS]:{desc:"no tds service available",retry:!0},[jL.NO_SERVICE_AVAILABLE_REPORT]:{desc:"no unilbs report service available",retry:!0},[jL.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:"no app center service available",retry:!0},[jL.NO_SERVICE_AVAILABLE_ENV0]:{desc:"no unilbs sig env0 service available",retry:!0},[jL.NO_SERVICE_AVAILABLE_VOET]:{desc:"no unilbs voet service available",retry:!0},[jL.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:"no string uid service available",retry:!0},[jL.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:"no webrtc unilbs service available",retry:!0}},[RL.UNILBS]:{[OL.INVALID_VENDOR_KEY]:{desc:"invalid vendor key, can not find appid",retry:!1},[OL.INVALID_CHANNEL_NAME]:{desc:"invalid channel name",retry:!1},[OL.INTERNAL_ERROR]:{desc:"unilbs internal error",retry:!1},[OL.NO_AUTHORIZED]:{desc:"invalid token, authorized failed",retry:!1},[OL.DYNAMIC_KEY_TIMEOUT]:{desc:"dynamic key or token timeout",retry:!1},[OL.NO_ACTIVE_STATUS]:{desc:"no active status",retry:!1},[OL.DYNAMIC_KEY_EXPIRED]:{desc:"dynamic key expired",retry:!1},[OL.STATIC_USE_DYNAMIC_KEY]:{desc:"static use dynamic key",retry:!1},[OL.DYNAMIC_USE_STATIC_KEY]:{desc:"dynamic use static key",retry:!1},[OL.USER_OVERLOAD]:{desc:"amount of users over load",retry:!1},[OL.FORBIDDEN_REGION]:{desc:"the request is forbidden in this area",retry:!1},[OL.CANNOT_MEET_AREA_DEMAND]:{desc:"unable to allocate services in this area",retry:!1}},[RL.STRING_UID_ALLOCATOR]:{[IL.IIIEGAL_APPID]:{desc:"invalid appid",retry:!1},[IL.IIIEGAL_UID]:{desc:"invalid string uid",retry:!1},[IL.INTERNAL_ERROR]:{desc:"string uid allocator internal error",retry:!0}}};function DM(e){const t=PM[Math.floor(e/1e4)];if(!t)return{desc:"unknown error",retry:!1};const n=t[e%1e4];if(!n){if(Math.floor(e/1e4)===RL.ACCESS_POINT){const t=e%1e4;if("1"===t.toString()[0])return{desc:e.toString(),retry:!1};if("2"===t.toString()[0])return{desc:e.toString(),retry:!0}}return{desc:"unknown error",retry:!1}}return n}const LM={[PL.K_TIMESTAMP_EXPIRED]:{desc:"K_TIMESTAMP_EXPIRED",action:"failed"},[PL.K_CHANNEL_PERMISSION_INVALID]:{desc:"K_CHANNEL_PERMISSION_INVALID",action:"failed"},[PL.K_CERTIFICATE_INVALID]:{desc:"K_CERTIFICATE_INVALID",action:"failed"},[PL.K_CHANNEL_NAME_EMPTY]:{desc:"K_CHANNEL_NAME_EMPTY",action:"failed"},[PL.K_CHANNEL_NOT_FOUND]:{desc:"K_CHANNEL_NOT_FOUND",action:"failed"},[PL.K_TICKET_INVALID]:{desc:"K_TICKET_INVALID",action:"failed"},[PL.K_CHANNEL_CONFLICTED]:{desc:"K_CHANNEL_CONFLICTED",action:"failed"},[PL.K_SERVICE_NOT_READY]:{desc:"K_SERVICE_NOT_READY",action:"tryNext"},[PL.K_SERVICE_TOO_HEAVY]:{desc:"K_SERVICE_TOO_HEAVY",action:"tryNext"},[PL.K_UID_BANNED]:{desc:"K_UID_BANNED",action:"failed"},[PL.K_IP_BANNED]:{desc:"K_IP_BANNED",action:"failed"},[PL.DATASTREAM2_NOT_AVAILABLE]:{desc:"DATASTREAM2_NOT_AVAILABLE",action:"quit"},[PL.K_AUTO_REBALANCE]:{desc:"k_AUTO_REBALANCE",action:"recover"},[PL.ERR_INVALID_VENDOR_KEY]:{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"},[PL.ERR_INVALID_CHANNEL_NAME]:{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"},[PL.WARN_NO_AVAILABLE_CHANNEL]:{desc:"WARN_NO_AVAILABLE_CHANNEL",action:"failed"},[PL.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:"WARN_LOOKUP_CHANNEL_TIMEOUT",action:"tryNext"},[PL.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:"WARN_LOOKUP_CHANNEL_REJECTED",action:"failed"},[PL.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:"WARN_OPEN_CHANNEL_TIMEOUT",action:"tryNext"},[PL.WARN_OPEN_CHANNEL_REJECTED]:{desc:"WARN_OPEN_CHANNEL_REJECTED",action:"failed"},[PL.WARN_REQUEST_DEFERRED]:{desc:"WARN_REQUEST_DEFERRED",action:"failed"},[PL.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:"ERR_DYNAMIC_KEY_TIMEOUT",action:"failed"},[PL.ERR_NO_AUTHORIZED]:{desc:"ERR_NO_AUTHORIZED",action:"failed"},[PL.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:"ERR_VOM_SERVICE_UNAVAILABLE",action:"tryNext"},[PL.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:"ERR_NO_CHANNEL_AVAILABLE_CODE",action:"failed"},[PL.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:"ERR_MASTER_VOCS_UNAVAILABLE",action:"tryNext"},[PL.ERR_INTERNAL_ERROR]:{desc:"ERR_INTERNAL_ERROR",action:"tryNext"},[PL.ERR_NO_ACTIVE_STATUS]:{desc:"ERR_NO_ACTIVE_STATUS",action:"failed"},[PL.ERR_INVALID_UID]:{desc:"ERR_INVALID_UID",action:"failed"},[PL.ERR_DYNAMIC_KEY_EXPIRED]:{desc:"ERR_DYNAMIC_KEY_EXPIRED",action:"failed"},[PL.ERR_STATIC_USE_DYANMIC_KE]:{desc:"ERR_STATIC_USE_DYANMIC_KE",action:"failed"},[PL.ERR_DYNAMIC_USE_STATIC_KE]:{desc:"ERR_DYNAMIC_USE_STATIC_KE",action:"failed"},[PL.ERR_NO_VOCS_AVAILABLE]:{desc:"ERR_NO_VOCS_AVAILABLE",action:"tryNext"},[PL.ERR_NO_VOS_AVAILABLE]:{desc:"ERR_NO_VOS_AVAILABLE",action:"tryNext"},[PL.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:"ERR_JOIN_CHANNEL_TIMEOUT",action:"tryNext"},[PL.ERR_JOIN_BY_MULTI_IP]:{desc:"ERR_JOIN_BY_MULTI_IP",action:"recover"},[PL.ERR_NOT_JOINED]:{desc:"ERR_NOT_JOINED",action:"failed"},[PL.ERR_REPEAT_JOIN_REQUEST]:{desc:"ERR_REPEAT_JOIN_REQUEST",action:"quit"},[PL.ERR_REPEAT_JOIN_CHANNEL]:{desc:"ERR_REPEAT_JOIN_CHANNEL",action:"quit"},[PL.ERR_INVALID_STRINGUID]:{desc:"ERR_INVALID_STRINGUID",action:"failed"},[PL.ERR_TOO_MANY_USERS]:{desc:"ERR_TOO_MANY_USERS",action:"tryNext"},[PL.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[PL.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[PL.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",action:"success"},[PL.ERR_PUBLISH_REQUEST_INVALID]:{desc:"ERR_PUBLISH_REQUEST_INVALID",action:"failed"},[PL.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:"ERR_SUBSCRIBE_REQUEST_INVALID",action:"failed"},[PL.ERR_NOT_SUPPORTED_MESSAGE]:{desc:"ERR_NOT_SUPPORTED_MESSAGE",action:"failed"},[PL.ERR_ILLEAGAL_PLUGIN]:{desc:"ERR_ILLEAGAL_PLUGIN",action:"failed"},[PL.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:"ILLEGAL_CLIENT_ROLE_LEVEL",action:"failed"},[PL.ERR_REJOIN_TOKEN_INVALID]:{desc:"ERR_REJOIN_TOKEN_INVALID",action:"failed"},[PL.ERR_REJOIN_USER_NOT_JOINED]:{desc:"ERR_REJOIN_NOT_JOINED",action:"failed"},[PL.ERR_INVALID_OPTIONAL_INFO]:{desc:"ERR_INVALID_OPTIONAL_INFO",action:"quit"},[PL.ERR_TEST_RECOVER]:{desc:"ERR_TEST_RECOVER",action:"recover"},[PL.ERR_TEST_TRYNEXT]:{desc:"ERR_TEST_TRYNEXT",action:"recover"},[PL.ERR_TEST_RETRY]:{desc:"ERR_TEST_RETRY",action:"recover"},[PL.ILLEGAL_AES_PASSWORD]:{desc:"ERR_TEST_RETRY",action:"failed"},[PL.ERR_TOO_MANY_BROADCASTERS]:{desc:"ERR_TOO_MANY_BROADCASTERS",action:"failed"},[PL.ERR_TOO_MANY_SUBSCRIBERS]:{desc:"ERR_TOO_MANY_SUBSCRIBERS",action:"failed"},[PL.ERR_LICENSE_ILLEGAL]:{desc:"ERR_LICENSE_ILLEGAL",action:"quit"},[PL.ERR_LICENSE_MISSING]:{desc:"ERR_LICENSE_MISSING",action:"quit"},[PL.ERR_LICENSE_EXPIRED]:{desc:"ERR_LICENSE_EXPIRED",action:"quit"},[PL.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:"ERR_LICENSE_MINUTES_EXCEEDED",action:"quit"},[PL.ERR_LICENSE_PERIOD_INVALID]:{desc:"ERR_LICENSE_PERIOD_INVALID",action:"quit"},[PL.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:"ERR_LICENSE_MULTIPLE_SDK_SERVICE",action:"quit"}};function MM(e){return LM[e]||{desc:"UNKNOWN_ERROR_".concat(e),action:"failed"}}function UM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function FM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UM(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function BM(e,t){if("string"==typeof e)return e;const{proxy:n,host:i,port:r}=e;if(t){const e=AR("JOIN_GATEWAY_FALLBACK_PORT")||443;return 443===e?"wss://".concat(i,"/ws/?p=").concat(Number(r)+150):"wss://".concat(i,":").concat(e,"/ws/?p=").concat(Number(r)+150)}return n?"wss://".concat(n,"/ws/?h=").concat(i,"&p=").concat(r):"wss://".concat(i,":").concat(r)}const VM=/wss:\/\/(.+)\/ws\/\?h=(.+)&p=([0-9]+)\/?/,zM=/wss:\/\/(.+)\/ws\/\?p=([0-9]+)\/?/,HM=/wss:\/\/(.+):([0-9]+)\/?/,WM=/wss:\/\/(.[^\/]+)\/?/;let GM=0;class qM{constructor(e,t){uC(this,"id",0),uC(this,"store",void 0),uC(this,"recordIndex",void 0),uC(this,"websockets",[]),uC(this,"try443PortDuration",2e3),uC(this,"forceCloseWSDuration",5e3),uC(this,"try443PortTimeout",null),uC(this,"forceCloseTimeout",null),uC(this,"isTry443PortFailed",!1),uC(this,"isNormalPortFailed",!1),uC(this,"useDoubleDomain",!1),uC(this,"useProxy",!1),uC(this,"startTime",Date.now()),this.id=++GM,this.try443PortDuration=AR("JOIN_GATEWAY_TRY_443PORT_DURATION")||2e3,this.forceCloseWSDuration=e||5e3,this.store=t}closeAllWebsockets(){this.websockets.forEach(e=>{e.onopen=null,e.onclose=null,e.onmessage=null,e.close()}),this.websockets.length=0}clearTimeout(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout),this.forceCloseTimeout=null,this.try443PortTimeout=null}logger(){var e;const t=Date.now()-this.startTime;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];sI.debug("[choose-best-ws ".concat(null===(e=this.store)||void 0===e?void 0:e.clientId," ").concat(this.id,"] ").concat(t,"ms:"),...i)}createWebSocket(e,t,n){this.logger("createWebSocket:",e,{isTry443Port:t,hasTimeoutDetection:n});const i=AR("GATEWAY_DOMAINS"),r=Date.now(),a=[],s=i.find(t=>{var n;return Pi(n=e.host).call(n,t)});s||(this.useDoubleDomain=!1);const o=[];if(this.useDoubleDomain)i.forEach(n=>{o.push(BM(FM(FM({},e),{},{host:e.host.replace(s,n)}),t))});else{const n=FM({},e);if(t&&s){const e=i.find(e=>e!==s);e&&(n.host=n.host.replace(s,e))}o.push(BM(n,t))}try{o.forEach(e=>{const t=new WebSocket(e);t.binaryType="arraybuffer",a.push(t),this.logger("ws is connecting:",t.url)})}catch(i){if(this.logger("ws create failed"),a.forEach(e=>e.close()),a.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(e,t,n);if(!t&&443!==Number(e.port))return this.createWebSocket(e,!0,n);throw new fI(AA.WS_ERR,"init websocket failed! Error: ".concat(i.toString()))}const l=UN();this.store&&this.store.recordJoinChannelService({urls:a.map(e=>e.url),service:"gateway"},this.recordIndex),a.forEach(e=>{e.onopen=()=>{this.logger("onopen: ws ".concat(e.url," open cost ").concat(Date.now()-r,"ms")),this.websockets.forEach(t=>{t!==e&&(t.onopen=null,t.onclose=null,t.onmessage=null,t.close(),this.logger("close backup websocket: ".concat(t.url)))}),this.websockets.length=0,l.resolve(e)},e.onclose=n=>{this.logger("onclose: ws ".concat(e.url," closed cost ").concat(Date.now()-r,"ms state: ").concat(e.readyState));const i=a.every(e=>e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING);this.logger("".concat(t?"443":"47xx"," websocket closed, all failed: ").concat(i)),i&&(t||this.isTry443PortFailed||this.useProxy)?(this.logger("onclose: all websocket is closed, ".concat(n.reason)),l.reject({code:n.code,reason:aM.A_ROUND_WS_FAILED})):!t&&i&&!this.isNormalPortFailed&&this.try443PortTimeout&&(this.logger("all 47xx websocket is closed, try 443 port"),this.clearTimeout(),d()),t?this.isTry443PortFailed=i:this.isNormalPortFailed=i},e.onmessage=t=>this.logger("".concat(e.url," onmessage: ").concat(t.data))}),this.websockets.push(...a);const c=()=>{this.websockets.forEach(e=>e.readyState!==WebSocket.OPEN&&e.close())},d=()=>{if(l.isResolved)return c();YN().os===zN.MAC_OS&&nA()&&c(),this.createWebSocket(e,!0,!0).then(e=>{l.resolve(e)}).catch(e=>{this.isNormalPortFailed&&l.reject(e),this.logger("try 443 port to create ws failed")}),this.forceCloseTimeout=window.setTimeout(()=>{this.logger("5s timeout close un-opens, isWebsocket created: ",l.isResolved),this.forceCloseTimeout=null,c()},this.forceCloseWSDuration)};return n||(()=>{if(t||this.useProxy)return this.logger("add 5s timeout at ".concat(t?"try-443":"proxy"," condition")),this.forceCloseTimeout=window.setTimeout(()=>{this.forceCloseTimeout=null,c()},this.forceCloseWSDuration);this.try443PortTimeout=window.setTimeout(()=>{this.logger("2s timeout, isWebsocket created: ",l.isResolved),this.try443PortTimeout=null,d()},this.try443PortDuration)})(),l.promise}chooseBestWebsocket(e,t,n,i){return this.useDoubleDomain=!!t,"string"==typeof e&&(e=function(e){let t,n,i;return[,t,n,i]=e.match(VM)||[],t||([,n,i]=e.match(zM)||[]),n&&i||([,n,i]=e.match(HM)||[]),n&&i||([,n]=e.match(WM)||[]),n||sI.warning("un-destructible url: ",e),{proxy:t,host:n,port:i||"443"}}(e)),this.recordIndex=i,this.useProxy=!!e.proxy,n&&this.useProxy&&(sI.warn("cannot use 443 only when use proxy"),n=!1),this.createWebSocket(e,!!n,!1).finally(()=>this.clearTimeout())}}function YM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}class XM extends WA{get url(){return this.websocket&&this.websocket.url||this._websocketUrl}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){var t;Pi(t=["tryNext","recover"]).call(t,e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,"reconnecting"===this._state?this.emit(VL.RECONNECTING,this.reconnectReason):"connected"===this._state?this.emit(VL.CONNECTED):"closed"===this._state?this.emit(VL.CLOSED):"failed"===this._state&&this.emit(VL.FAILED))}resetReconnectCount(e){sI.debug("websocket reset reconnect count, reason: "+e),this.reconnectCount=0}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0;super(),uC(this,"_websocketUrl",null),uC(this,"connectionID",0),uC(this,"currentURLIndex",0),uC(this,"urls",[]),uC(this,"_reconnectMode","tryNext"),uC(this,"reconnectReason",void 0),uC(this,"_initMutex",void 0),uC(this,"name",void 0),uC(this,"_state","closed"),uC(this,"reconnectInterrupter",void 0),uC(this,"websocket",void 0),uC(this,"retryConfig",void 0),uC(this,"reconnectCount",0),uC(this,"forceCloseTimeout",5e3),uC(this,"onlineReconnectListener",void 0),uC(this,"useCompress",void 0),uC(this,"tryDoubleDomain",!1),uC(this,"use443PortOnly",!1),uC(this,"wsInflateLength",0),uC(this,"wsDeflateLength",0),uC(this,"closeEstablishingWs",()=>{}),uC(this,"store",void 0),uC(this,"joinGatewayRecordIndex",void 0),this.store=a,this.name=e,this.retryConfig=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YM(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t),this.useCompress=n,this.tryDoubleDomain=i,this.use443PortOnly=r,this._initMutex=new Uk("websocket",a?a.clientId:void 0);const{timeout:s,timeoutFactor:o}=t,l=Math.max(300,Math.floor(3*s/5)),c=Math.max(1.2,Math.floor(8*o)/10);ik.ONLINE&&(this.retryConfig.timeout=l,this.retryConfig.timeoutFactor=c),ck.on(rk.NETWORK_STATE_CHANGE,(e,t)=>{e!==t&&(this.resetReconnectCount("network state change: ".concat(t," -> ").concat(e)),e===ik.ONLINE?(this.retryConfig.timeout=l,this.retryConfig.timeoutFactor=c):(this.retryConfig.timeout=s,this.retryConfig.timeoutFactor=o))})}getConnection(){return this.websocket||void 0}async init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=await this._initMutex.lock();this._reconnectMode="tryNext",this.forceCloseTimeout=t,this.urls=e,this.state="connecting";try{var i;const e=UN(),t=this.urls[this.currentURLIndex];null===(i=this.store)||void 0===i||i.beforeConnect(),function(e){return!(bI()||AR("USE_NEW_TOKEN")||!AR("ENABLE_PREALLOC_PC")&&(null==e||!e.autoSubscribe||AR("FORCE_DISABLE_AUTO_SUB")))}(this.store)&&this.emit(CM.PRE_CONNECT_PC),this.createWebSocketConnection(t).then(e.resolve).catch(e.reject),this.once(VL.CLOSED,()=>{e.reject(new kA(AA.WS_DISCONNECT))}),this.once(VL.CONNECTED,e.resolve),await e.promise}catch(e){}finally{n()}}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const e=this.websocket;t?setTimeout(()=>e.close(),500):e.close(),this.websocket=void 0,this._websocketUrl=null}this.state=e?"failed":"closed",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(e,t){if(!this.websocket)return void sI.warning("[".concat(this.name,"] can not reconnect, no websocket"));void 0!==e&&(this.reconnectMode=e),sI.debug("[".concat(this.name,"] reconnect is triggered initiative")),"number"==typeof this.joinGatewayRecordIndex&&this.store&&this.store.recordJoinChannelService({status:"error",errors:[new Error(t)]},this.joinGatewayRecordIndex);const n=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),n&&n.bind(this.websocket)({code:9999,reason:t})}sendMessage(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new kA(AA.WS_ABORT,"websocket is not ready");try{t||(e=JSON.stringify(e)),this.websocket.send(e)}catch(e){throw new kA(AA.WS_ERR,"send websocket message error"+e.toString())}}setWsInflateData(e){this.wsDeflateLength=this.wsDeflateLength+e.originLength,this.wsInflateLength=this.wsInflateLength+e.compressedLength}getWsInflateData(){const e=this.wsInflateLength,t=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:t}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(e){var t;const n=UN();this.connectionID+=1,this.joinGatewayRecordIndex=void 0;const i=e=>{var t;null===(t=this.store)||void 0===t||t.signalChannelOpen(),sI.debug("[".concat(this.name,"] websocket opened:"),e),this.reconnectMode="retry",this.state="connected",this.resetReconnectCount("opened"),n.resolve()},r=async e=>{var t;if(sI.debug("[".concat(this.name,"] websocket close ").concat(null===(t=this.websocket)||void 0===t?void 0:t.url,", code: ").concat(e.code,", reason: ").concat(e.reason,", current mode: ").concat(this.reconnectMode)),this.reconnectCount>=this.retryConfig.maxRetryCount)n.reject(new kA(AA.WS_DISCONNECT,"websocket close: ".concat(e.code))),this.close();else{"connected"===this.state&&(this.reconnectReason=e.reason,this.state="reconnecting");const t=ok(this,VL.WILL_RECONNECT,this.reconnectMode,e.reason)||this.reconnectMode,i=await this.reconnectWithAction(t);if("closed"===this.state)return void sI.debug("[".concat(this.connectionID,"] ws is closed, no need to reconnect"));if(!i)return n.reject(new kA(AA.WS_DISCONNECT,"websocket reconnect failed: ".concat(e.code))),this.close(!0);n.resolve()}},a=e=>{this.emit(VL.ON_MESSAGE,e)},s=e=>{sI.warn("[".concat(this.connectionID,"] ws open error ").concat(e))};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),AR("GATEWAY_WSS_ADDRESS")&&this.name.startsWith("gateway")&&(e=AR("GATEWAY_WSS_ADDRESS")),sI.debug("[".concat(this.name,"] start connect, url:"),e);const o=null===(t=this.store)||void 0===t?void 0:t.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"});try{var l;this._websocketUrl=BM(e);const t=await this.chooseBestWebsocketConnection(e);this.websocket=t,i&&i(this.websocket.url),this.websocket.onclose=r,this.websocket.onmessage=a,this.websocket.onerror=s,null===(l=this.store)||void 0===l||l.recordJoinChannelService({endTs:Date.now(),status:"success"},o),this.joinGatewayRecordIndex=o}catch(e){const t="closed"===this.state,i=e instanceof kA,a=i&&e.code===AA.WS_ABORT,s=i&&e.code===AA.WS_ERR,l=i?e.message:e&&(e.reason||e.toString());sI.warning("[choose-best-ws] chooseBestWebsocket error: ".concat(l)),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:a?"aborted":"error",errors:[e]},o),t||s?(n.reject(t?new kA(AA.WS_DISCONNECT,"websocket is closed: ".concat(l)):new kA(AA.WS_ERR,"init websocket failed: ".concat(l))),s&&sI.error("[".concat(this.name,"] init websocket failed: ").concat(l))):r&&r(e)}return n.promise}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount)return!1;if(0===this.urls.length)return!1;if("closed"===this.state)return!1;sI.warning("[choose-best-ws] action: =>",e),this.onlineReconnectListener||ck.isOnline||!ck.onlineWaiter||(this.onlineReconnectListener=ck.onlineWaiter.then(()=>{this.onlineReconnectListener=void 0}));let n=!0;if(this.reconnectInterrupter=()=>n=!1,t){const t=Vk(this.reconnectCount,this.retryConfig);sI.debug("[".concat(this.name,"] wait ").concat(t,"ms to reconnect websocket, mode: ").concat(e)),await np.race([Sk(t),this.onlineReconnectListener||new np(()=>{})])}if("closed"===this._state||!n)return!1;this.reconnectCount+=1;const i=async(e,t)=>{this.emit(VL.RECONNECT_CREATE_CONNECTION,t),await this.createWebSocketConnection(e)};try{if("retry"===e)await i(this.urls[this.currentURLIndex],e);else if("tryNext"===e){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return this.reconnectWithAction("recover",!1);sI.debug("[".concat(this.name,"] websocket url length: ").concat(this.urls.length," current index: ").concat(this.currentURLIndex)),await i(this.urls[this.currentURLIndex],e)}else"recover"===e&&(sI.debug("[".concat(this.name,"] request new urls")),this.resetReconnectCount("recover mode"),this.urls=await ak(this,VL.REQUEST_NEW_URLS),this.currentURLIndex=0,await i(this.urls[this.currentURLIndex],e))}catch(n){var r;sI.error("[".concat(this.name,"] reconnect failed ").concat(n&&n.toString()));const i=null==n||null===(r=n.data)||void 0===r?void 0:r.desc;return Array.isArray(i)&&Pi(i).call(i,"dynamic key expired")?(this.emit(VL.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):this.reconnectWithAction(e,t)}return!0}}class KM extends XM{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e,t){const n=UN(),i=function(e,t){return new qM(e,t)}(this.forceCloseTimeout,this.store);this.closeEstablishingWs=()=>{sI.debug("[choose-best-ws] close establishing websockets"),i.closeAllWebsockets(),n.reject(new kA(AA.WS_ABORT,"choose best websocket aborted"))};const r=AR("GATEWAY_DOMAINS");return sI.debug("[choose-best-ws] currentDomain: ",e,", domains: ",r,"total: ".concat(this.urls.length),"current: ".concat(this.currentURLIndex+1)),i.chooseBestWebsocket(e,this.tryDoubleDomain,this.use443PortOnly,t).then(n.resolve).catch(n.reject),n.promise.finally(()=>{this.closeEstablishingWs=void 0})}}class JM extends XM{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e,t){return new np((n,i)=>{let r=!1;const a=[];this.closeEstablishingWs=()=>{sI.debug("[choose-best-ws] close establishing websockets"),a.forEach(e=>{e.onclose=null,e.onopen=null,e.onmessage=null,e.close()}),i(new kA(AA.WS_ABORT,"choose best websocket aborted"))};const s=AR("GATEWAY_DOMAINS");let o;const l=e.indexOf("?h="),c=s.find(t=>-1!==l?Pi(e).call(e,t,l):Pi(e).call(e,t));sI.debug("[choose-best-ws] currentDomain: ",c,", domains: ",s);let d=!this.tryDoubleDomain||!c;if(!d&&c){var u;const h=Date.now();try{s.forEach(t=>{const n=-1===l?e.replace(c,t):e.substr(0,l)+e.substr(l).replace(c,t),i=new WebSocket(n);i.binaryType="arraybuffer",a.push(i),sI.debug("[choose-best-ws] ws is connecting:",i.url)})}catch(e){for(sI.debug("[choose-best-ws] ws create failed, fallback to single url"),a.forEach(e=>e.close());a.length;)a.pop();d=!0}null===(u=this.store)||void 0===u||u.recordJoinChannelService({urls:a.map(e=>e.url),service:"gateway"},t),a.forEach(e=>{e.onopen=()=>{if(r)return;const t=Date.now()-h;sI.debug("[choose-best-ws] ws open cost ".concat(t,"ms")),a.filter(t=>t!==e).forEach(e=>{sI.debug("[choose-best-ws]close backup websocket: ".concat(e.url)),e.close()}),r=!0,n(e)},e.onclose=e=>{o=e,r||a.find(e=>!(e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING))||(sI.debug("[choose-best-ws] all websocket is closed"),r=!0,i(o))},e.onmessage=t=>{sI.debug("[choose-best-ws]".concat(e.url," onmessage: ").concat(t.data))}}),Sk(this.forceCloseTimeout).then(()=>{a.forEach(e=>{e.readyState!==WebSocket.OPEN&&e.close()})})}if(d){var h;let r;sI.debug("[choose-best-ws] use single url: ",e),null===(h=this.store)||void 0===h||h.recordJoinChannelService({urls:[e],service:"gateway"},t);try{r=new WebSocket(e),a.push(r),r.binaryType="arraybuffer"}catch(e){const n=new kA(AA.WS_ERR,"init websocket failed! Error: ".concat(e.toString()));return sI.error("[".concat(this.name,"]").concat(n)),void i(n)}r.onopen=()=>{n(r)},r.onclose=e=>{i(e)},r.onmessage=e=>{sI.debug("[choose-best-ws]".concat(r.url," onmessage: ").concat(e.data))},Sk(this.forceCloseTimeout).then(()=>{r&&r.readyState!==WebSocket.OPEN&&r.close()})}}).then(e=>(this.closeEstablishingWs=void 0,e)).catch(e=>{throw this.closeEstablishingWs=void 0,e})}}class ZM extends WA{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===DL.CONNECTED?this.emit(LL.WS_CONNECTED):e===DL.RECONNECTING?this.emit(LL.WS_RECONNECTING,this._websocketReconnectReason):e===DL.CLOSED&&this.emit(LL.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),uC(this,"_disconnectedReason",void 0),uC(this,"_websocketReconnectReason",void 0),uC(this,"_connectionState",DL.CLOSED),uC(this,"reconnectToken",void 0),uC(this,"websocket",void 0),uC(this,"openConnectionTime",void 0),uC(this,"clientId",void 0),uC(this,"lastMsgTime",Date.now()),uC(this,"uploadCache",[]),uC(this,"uploadCacheInterval",void 0),uC(this,"rttRolling",new Wk(5)),uC(this,"pingpongTimer",void 0),uC(this,"wsInflateDataTimer",void 0),uC(this,"pingpongTimeoutCount",0),uC(this,"ortc",void 0),uC(this,"joinResponse",void 0),uC(this,"multiIpOption",void 0),uC(this,"initError",void 0),uC(this,"spec",void 0),uC(this,"store",void 0),uC(this,"onWebsocketMessage",e=>{if(e.data instanceof ArrayBuffer)return void this.emit(LL.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,"_id")){const e="res-@".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,"_type")){if(this.emit(t._type,t._message),t._type===FL.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===FL.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(ZA.UID_BANNED);break;case 15:this.close(ZA.IP_BANNED);break;case 16:this.close(ZA.CHANNEL_BANNED)}if(t._type===FL.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case PL.ERR_LICENSE_MISSING:this.close(ZA.LICENSE_MISSING);break;case PL.ERR_LICENSE_EXPIRED:this.close(ZA.LICENSE_EXPIRED);break;case PL.ERR_LICENSE_MINUTES_EXCEEDED:this.close(ZA.LICENSE_MINUTES_EXCEEDED);break;case PL.ERR_LICENSE_PERIOD_INVALID:this.close(ZA.LICENSE_PERIOD_INVALID);break;case PL.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(ZA.LICENSE_MULTIPLE_SDK_SERVICE);break;case PL.ERR_LICENSE_ILLEGAL:this.close(ZA.LICENSE_ILLEGAL);break;default:this.close()}}}),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new KM("gateway-".concat(this.clientId),this.spec.retryConfig,!0,AR("JOIN_GATEWAY_USE_DUAL_DOMAIN"),AR("JOIN_GATEWAY_USE_443PORT_ONLY"),t),this.handleWebsocketEvents(),window.addEventListener("offline",()=>{this.connectionState===DL.CONNECTED&&this.reconnect("retry",nk.OFFLINE)})}async request(e,t,n,i){const r=Ck(6,""),a={_id:r,_type:e,_message:t},s=this.websocket.connectionID,o=()=>new np((t,n)=>{if(this.connectionState===DL.CONNECTED)return t();const i=()=>{this.off(LL.WS_CLOSED,r),t()},r=()=>{this.off(LL.WS_CONNECTED,i),n(new fI(AA.WS_ABORT))};this.once(LL.WS_CONNECTED,i),this.once(LL.WS_CLOSED,r),e!==ML.PUBLISH&&e!==ML.PUBLISH_DATASTREAM&&e!==ML.SUBSCRIBE&&e!==ML.SUBSCRIBE_DATASTREAM&&e!==ML.UNSUBSCRIBE&&e!==ML.UNSUBSCRIBE_DATASTREAM&&e!==ML.UNPUBLISH&&e!==ML.UNPUBLISH_DATASTREAM&&e!==ML.CONTROL&&e!==ML.RESTART_ICE||this.once(LL.DISCONNECT_P2P,()=>{n(new fI(AA.DISCONNECT_P2P))}),e!==ML.PUBLISH&&e!==ML.RESTART_ICE||this.once(LL.ABORT_P2P_EXECUTION,()=>{n(new fI(AA.DISCONNECT_P2P))})});if(this.connectionState!==DL.CONNECTING&&this.connectionState!==DL.RECONNECTING||e===ML.JOIN||e===ML.REJOIN||await o(),this.websocket.sendMessage(a,!0),i)return;const l=new np((n,i)=>{let a=!1;const o=(i,r)=>{a=!0,n({isSuccess:"success"===i,message:r||{}}),this.off(LL.WS_CLOSED,l),this.off(LL.WS_RECONNECTING,l),this.emit(LL.REQUEST_SUCCESS,e,t)};this.once("res-@".concat(r),o);const l=()=>{i(new fI(AA.WS_ABORT,"type: ".concat(e))),this.off(LL.WS_CLOSED,l),this.off(LL.WS_RECONNECTING,l),this.off("res-@".concat(r),o)};this.once(LL.WS_CLOSED,l),this.once(LL.WS_RECONNECTING,l),Sk(AR("SIGNAL_REQUEST_TIMEOUT")).then(()=>{this.websocket.connectionID!==s||a||(sI.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(e)),this.emit(LL.REQUEST_TIMEOUT,e,t))})});let c=null;try{c=await l}catch(i){if(this.connectionState===DL.CLOSED||e===ML.LEAVE)throw new fI(AA.WS_ABORT);return!this.spec.forceWaitGatewayResponse||n?i.throw():e===ML.JOIN||e===ML.REJOIN?null:(await o(),await this.request(e,t))}if(c.isSuccess)return c.message;const d=Number(c.message.error_code||c.message.code),u=MM(d),h=new fI(AA.UNEXPECTED_RESPONSE,"".concat(u.desc,": ").concat(c.message.error_str),{code:d,data:c.message,desc:u.desc});return"success"===u.action?c.message:(sI.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(e,", error_code: ").concat(d,", message: ").concat(u.desc,", action: ").concat(u.action)),d===PL.ERR_TOO_MANY_BROADCASTERS?e===ML.JOIN||e===ML.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():"failed"===u.action?h.throw():"quit"===u.action?(this.initError=h,this.close(),h.throw()):(d===PL.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=c.message.option,sI.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",nk.MULTI_IP)):this.reconnect(u.action,nk.SERVER_ERROR),e===ML.JOIN||e===ML.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new np(n=>{const i=r=>{(!t||t(r))&&(this.off(e,i),n(r))};this.on(e,i)})}uploadWRTCStats(e){if(!this.store.sessionId)return void sI.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const t={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(UL.WRTC_STATS,t)}upload(e,t){const n={_type:e,_message:t};try{this.websocket.sendMessage(n)}catch(e){const t=AR("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(n),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==DL.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)},AR("UPLOAD_CACHE_INTERVAL")||2e3))}}send(e,t){const n={_type:e,_message:t};this.websocket.sendMessage(n)}init(e){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new np((t,n)=>{this.once(LL.WS_CONNECTED,()=>t(this.joinResponse)),this.once(LL.WS_CLOSED,e=>n(this.initError||new fI(AA.WS_ABORT,e))),this.connectionState=DL.CONNECTING,this.websocket.init(e).catch(n),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval(()=>{this.handleWsInflateData()},2e4)})}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||ZA.LEAVE,this.connectionState=DL.CLOSED,sI.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close()}async join(){if(!this.joinResponse){this.emit(LL.ABORT_P2P_EXECUTION),this.store.signalConnected();const e=await ak(this,LL.REQUEST_JOIN_INFO);this.store.joinReq();const t=await this.request(ML.JOIN,e);if(this.ortc=null==e?void 0:e.ortc,this.store.joinRep(),!t)return this.emit(LL.REPORT_JOIN_GATEWAY,aM.TIMEOUT,this.url||""),!1;this.joinResponse=t,this.emit(LL.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=DL.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new fI(AA.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");const e=lk(this,LL.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(ML.REJOIN,e);return!!t&&(this.connectionState=DL.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach(e=>{this.emit(FL.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(FL.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(FL.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(FL.MUTE_AUDIO,{uid:e.uid}):this.emit(FL.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(FL.MUTE_VIDEO,{uid:e.uid}):this.emit(FL.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(FL.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(FL.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(FL.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(FL.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(FL.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})}),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}async downgradeCodec(e){if(!this.ortc)return!1;const t={downgrade_codec:e,ortc:this.ortc};return!!await this.request(ML.DOWNGRADE_CODEC,t)}handleNotification(e){sI.debug("[".concat(this.clientId,"] receive notification: "),e);const t=MM(e.code);if(28===e.code&&"detail"in e&&(sI.info("[".concat(this.clientId,"] receive recover notification: "),e.detail),this.emit(LL.RECOVER_NOTIFICATION,e.detail)),"success"!==t.action){if("failed"!==t.action)return"quit"===t.action?("ERR_REPEAT_JOIN_CHANNEL"===t.desc&&this.close(ZA.UID_BANNED),void this.close()):void this.reconnect(t.action,nk.SERVER_ERROR);sI.error("[".concat(this.clientId,"] ignore error: "),t.desc)}}handlePingPong(){if(!this.websocket||"connected"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=AR("PING_PONG_TIME_OUT"),t=Date.now();this.pingpongTimeoutCount>=e&&(sI.warning("[".concat(this.clientId,"] PING-PONG Timeout. Last Socket Message: ").concat(t-this.lastMsgTime,"ms")),t-this.lastMsgTime>AR("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",nk.TIMEOUT):this.request(ML.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),AR("REPORT_STATS")&&this.send(ML.PING_BACK,{pingpongElapse:e})}).catch(e=>{})}handleWsInflateData(){const{wsInflateLength:e,wsDeflateLength:t}=this.websocket.getWsInflateData();0!==e&&0!==t&&this.upload(UL.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(VL.RECONNECT_CREATE_CONNECTION,e=>{this.emit(LL.WS_RECONNECT_CREATE_CONNECTION,e)}),this.websocket.on(VL.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(VL.CLOSED,()=>{this.connectionState=DL.CLOSED}),this.websocket.on(VL.FAILED,()=>{this._disconnectedReason=ZA.NETWORK_ERROR,this.connectionState=DL.CLOSED}),this.websocket.on(VL.RECONNECTING,e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===DL.CONNECTED?this.connectionState=DL.RECONNECTING:this.connectionState=DL.CONNECTING}),this.websocket.on(VL.WILL_RECONNECT,(e,t,n)=>{const i=lk(this,LL.IS_P2P_DISCONNECTED),r=i||"retry"!==e;i&&"retry"===e&&(sI.debug("".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),e="tryNext",t=aM.P2P_DISCONNECTED),r&&(sI.debug("".concat(this.clientId," will renewSession, reconnect mode: ").concat(e)),this.emit(LL.REPORT_JOIN_GATEWAY,t||aM.UNKNOWN_REASON,this.url||""),this.reconnectToken=void 0,this.emit(LL.DISCONNECT_P2P)),n(e)}),this.websocket.on(VL.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch(e=>{sI.warning("[".concat(this.clientId,"] rejoin failed ").concat(e)),this.reconnect("tryNext",nk.SERVER_ERROR)}):this.join().catch(e=>{if(this.emit(LL.REPORT_JOIN_GATEWAY,e,this.url||""),e instanceof fI){if(e.code===AA.UNEXPECTED_RESPONSE&&e.data.code===PL.ERR_NO_AUTHORIZED)return this.initError=new fI(AA.TOKEN_EXPIRE,"dynamic key expired"),void this.close(ZA.TOKEN_EXPIRE);sI.error("[".concat(this.clientId,"] join gateway request failed"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",nk.SERVER_ERROR):(this.initError=e,this.close())}})}),this.websocket.on(VL.REQUEST_NEW_URLS,(e,t)=>{ak(this,LL.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)}),this.websocket.on(VL.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(FL.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}),this.websocket.on(CM.PRE_CONNECT_PC,()=>{this.emit(LL.PRE_CONNECT_PC)})}}let QM=function(e){return e.NATIVE_RTC="native_rtc",e.NATIVE_RTM="native_rtm",e.WEB_RTC="web_rtc",e.WEB_RTM="web_rtm",e}({}),$M=function(e){return e[e.CHOOSE_SERVER=11]="CHOOSE_SERVER",e[e.CLOUD_PROXY=18]="CLOUD_PROXY",e[e.CLOUD_PROXY_5=20]="CLOUD_PROXY_5",e[e.CLOUD_PROXY_FALLBACK=26]="CLOUD_PROXY_FALLBACK",e}({});function eU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function tU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eU(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nU(e){return e.match(/^[\.\:\d]+$/)?"".concat(e.replace(/[^\d]/g,"-"),".").concat(AR("TURN_DOMAIN")):(sI.debug("Cannot recognized as ip address: ".concat(e,", use as host2")),e)}function iU(e){try{const t=AR("GATEWAY_DOMAINS").concat(AR("TURN_DOMAIN")).find(t=>Pi(e).call(e,t));return t?e.split(".".concat(t))[0].replace(/-/g,"."):e}catch(t){return sI.debug("serverUrlToIp error, fallback to url",e),e}}function rU(e,t){e.addresses||(e.addresses=[]);const n=function(e,t){if(AR("CONNECT_GATEWAY_WITHOUT_DOMAIN"))return e.map(e=>{let{ip:t,port:n}=e;return{address:"".concat(t,":").concat(n)}});const n=AR("GATEWAY_DOMAINS");let i=n[1]&&Pi(t).call(t,n[1])?1:0;return e.map(e=>{let{domain_prefix:t,port:r,ip:a}=e;if(t)return{address:"".concat(t,".").concat(n[i++%n.length],":").concat(r)};const s=/^[\.\:\d]+$/.test(a),o=s?"".concat(a.replace(/[^\d]/g,"-"),".").concat(n[i++%n.length],":").concat(r):"".concat(a,":").concat(r);return s||sI.debug("Cannot recognized as ip address: ".concat(a,", use as host3")),{ip:a,port:r,address:o}})}(e.addresses,t),i=Array.isArray(e.detail)&&e.detail[18];if(i&&"string"==typeof i){const e=i.split(";");for(let t=0;t<e.length;t++){var r;const i=Ob(r=e[t]).call(r);n[t]&&i&&(n[t].ip6=i)}}const a=e.detail&&e.detail.candidate;let s;if(a){const[e,t]=a.split(":");e&&t&&(s={port:Number(t),ip:e,address:"".concat(e,":").concat(t)})}return{gatewayAddrs:n,apGatewayAddress:s,uid:e.uid,cid:e.cid,cert:e.cert,vid:e.detail&&e.detail[8],uni_lbs_ip:e.detail&&e.detail[1],res:e,csIp:e.detail&&e.detail[502]}}function aU(e){return"number"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function sU(e){const t=e._encoderConfig;if(!t)return{};const n={resolution:t.width&&t.height?"".concat(aU(t.width),"x").concat(aU(t.height)):void 0,maxVideoBW:t.bitrateMax,minVideoBW:t.bitrateMin};return"number"==typeof t.frameRate?(n.maxFrameRate=t.frameRate,n.minFrameRate=t.frameRate):t.frameRate&&(n.maxFrameRate=t.frameRate.max||t.frameRate.ideal||t.frameRate.exact||t.frameRate.min,n.minFrameRate=t.frameRate.min||t.frameRate.ideal||t.frameRate.exact||t.frameRate.max),n}function oU(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0}function lU(e,t){let n,i,r;switch(t){case $M.CHOOSE_SERVER:i=4096,r="choose server";break;case $M.CLOUD_PROXY:i=1048576,r="proxy";break;case $M.CLOUD_PROXY_5:i=4194304,r="proxy5";break;case $M.CLOUD_PROXY_FALLBACK:i=4194310,r="proxy fallback";break;default:throw new fI(AA.UNEXPECTED_ERROR,"multi unlibs response transformer get unknown service id",{csIp:e.detail&&e.detail[502],retry:!1})}if(e.response_body.forEach(t=>{t.buffer&&t.buffer.flag===i&&(n={code:t.buffer.code,addresses:(t.buffer.edges_services||[]).map(e=>tU(tU({},e),{},{ticket:t.buffer.cert})),server_ts:e.enter_ts,uid:t.buffer.uid,cid:t.buffer.cid,cname:t.buffer.cname,detail:tU(tU({},t.buffer.detail),e.detail),flag:t.buffer.flag,opid:e.opid,cert:t.buffer.cert})}),!n)throw new fI(AA.MULTI_UNILBS_RESPONSE_ERROR,"cannot parse response ".concat(r," from multi unilbs response"),{csIp:e.detail&&e.detail[502]});return n}async function cU(e,t){return await np.all(e.addresses.map(async e=>({address:nU(e.ip),tcpport:e.port,udpport:e.port,username:t&&AR("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?t.toString():xR.username,password:t&&AR("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?await HA(t.toString()):xR.password})))}function dU(e,t){const n=t.getMediaStreamTrack(!0).getSettings(),i=t.videoHeight||n.height,r=t.videoWidth||n.width;return i&&r?Math.max(Math.min(i,r)/Math.min(aU(e.height),aU(e.width)),1):(sI.warning("can't get ori-track's height, default scale down 4 times for low stream"),4)}function uU(e){let{candidateType:t,relayProtocol:n,type:i,address:r,port:a,protocol:s}=e;const o={candidateType:t,relayProtocol:n,protocol:s};if("local-candidate"!==i){const e=r.split(".");e.length>=4&&(e[1]="*",e[2]="*"),o.address=e.join("."),o.port=a}return o}function hU(e){const t=e.split(":"),n=e.split(/[-.]/),i=Pi(e).call(e,"-")?"-":".";let r=e;return t.length>1?n.length>1?(n[1]="**",r=n[0]+i+"**:"+t[t.length-1]):r=t.length>2?t[0]+i+"**:"+t[t.length-1]:"**:"+t[t.length-1]:n.length>1&&(r=n[0]+i+"**"),r}function pU(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AR("SVC_MODE");if(AR("ENABLE_SVC"))return function(e){return e in lR}(e)?e:lR.L1T3}const mU={[fM.VIDEO]:[{key:"abs-send-time",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"},{key:"video-orientation",extensionName:"urn:3gpp:video-orientation"},{key:"draft-holmer-rmcat-transport-wide-cc-extensions-01",extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"},{key:"playout-delay",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/playout-delay"},{key:"video-content-type",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/video-content-type"},{key:"color-space",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/color-space"},{key:"video-timing",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/video-timing"}],[fM.AUDIO]:[{key:"ssrc-audio-level",extensionName:"urn:ietf:params:rtp-hdrext:ssrc-audio-level"},{key:"draft-holmer-rmcat-transport-wide-cc-extensions-01",extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"},{key:"abs-send-time",extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"}]};function fU(e,t,n){t.forEach(t=>{var i;const r=mU[e].find(e=>{var n;let{key:i}=e;return Pi(n=t.extensionName).call(n,i)});if(!r)return;const a=n.find(e=>{let{extensionName:t}=e;return Pi(t).call(t,r.key)});a&&Pi(i=a.extensionName).call(i,"gdpr_forbidden")&&(t.extensionName=a.extensionName)})}function gU(e,t){t.forEach(t=>{var n;const i=mU[e].find(e=>{var n;let{key:i}=e;return Pi(n=t.extensionName).call(n,i)});Pi(n=t.extensionName).call(n,"gdpr_forbidden")&&i&&(t.extensionName=i.extensionName)})}function _U(e){return"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"===e||Pi(e).call(e,"abs-send-time")}function vU(e){return"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"===e||Pi(e).call(e,"draft-holmer-rmcat-transport-wide-cc-extensions-01")}function bU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function yU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bU(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;const{filterRTX:r,filterVideoFec:a,filterAudioFec:s,filterAudioCodec:o,filterVideoCodec:l,unsupportedVideoUplinkCodec:c,unsupportedVideoDownlinkCodec:d}=t,{useXR:u}=n;let h=[],p=[],m=[],f=[],g=!1,_=!1;if(FR(e).mediaDescriptions.forEach(e=>{i&&i!==e.attributes.direction||("video"!==e.media.mediaType||g||(p=e.attributes.payloads,f=e.attributes.extmaps,g=!0),"audio"!==e.media.mediaType||_||(h=e.attributes.payloads,m=e.attributes.extmaps,_=!0))}),!f||0===p.length)throw new Error("Cannot get video capabilities from SDP.");if(!m||0===h.length)throw new Error("Cannot get audio capabilities from SDP.");if(p.forEach(e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),u&&e.rtcpFeedbacks.push({type:"rrtr"})}),h.forEach(e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),u&&e.rtcpFeedbacks.push({type:"rrtr"})}),r&&(h=h.filter(e=>{var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())}),p=p.filter(e=>{var t;return"rtx"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})),a){const e=p.filter(e=>{var t;return/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")}),t=FU(e,p).map(e=>e.payloadType),n=[...e.map(e=>e.payloadType),...t];p=p.filter(e=>!Pi(n).call(n,e.payloadType))}if(s&&(h=h.filter(e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||"")})),o&&(null==o?void 0:o.length)>0&&(h=h.filter(e=>{var t;return Pi(o).call(o,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")})),l&&(null==l?void 0:l.length)>0){const e=p.filter(e=>{var t;return Pi(l).call(l,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||"")});p=e.concat(r?[]:FU(e,p))}const v=AR("UNSUPPORTED_VIDEO_CODEC");if(v&&v.length>0){const e=p.filter(e=>e.rtpMap&&Pi(v).call(v,e.rtpMap.encodingName.toLowerCase())),t=FU(e,p),n=e.concat(t).map(e=>e.payloadType);p=p.filter(e=>!Pi(n).call(n,e.payloadType)),sI.debug("unsupportedVideoCodec: ".concat(v,", toBeRemoved: ").concat(n))}if(c&&c.length>0&&"sendonly"===i){const e=p.filter(e=>e.rtpMap&&Pi(c).call(c,e.rtpMap.encodingName.toLowerCase())),t=FU(e,p),n=e.concat(t).map(e=>e.payloadType);p=p.filter(e=>!Pi(n).call(n,e.payloadType)),sI.debug("unsupportedVideoUplinkCodec: ".concat(c,", toBeRemoved: ").concat(n))}if(d&&d.length>0&&"recvonly"===i){const e=p.filter(e=>e.rtpMap&&Pi(d).call(d,e.rtpMap.encodingName.toLowerCase())),t=FU(e,p),n=e.concat(t).map(e=>e.payloadType);p=p.filter(e=>!Pi(n).call(n,e.payloadType)),sI.debug("unsupportedVideoDownlinkCodec: ".concat(d,", toBeRemoved: ").concat(n))}return{audioCodecs:h,videoCodecs:p,audioExtensions:m,videoExtensions:f}}function wU(e){const t=FR(e);let n,i;for(const r of t.mediaDescriptions){if(!n){const e=r.attributes.iceUfrag,t=r.attributes.icePwd;if(!e||!t)throw new Error("Cannot get iceUfrag or icePwd from SDP.");n={iceUfrag:e,icePwd:t}}if(!i){const e=r.attributes.fingerprints;e.length>0&&(i={fingerprints:e})}}if(!i&&t.attributes.fingerprints.length>0&&(i={fingerprints:t.attributes.fingerprints}),!i||!n)throw new Error("Cannot get iceParameters or dtlsParameters from SDP.");return{iceParameters:n,dtlsParameters:i}}function EU(e,t){const n=[],i=e.attributes.ssrcGroups.filter(e=>"FID"===e.semantic),r=e.attributes.ssrcGroups.find(e=>"SIM"===e.semantic),a=e.attributes.ssrcs;if(r)r.ssrcIds.forEach(e=>{var r;const a=null===(r=i.find(t=>t.ssrcIds[0]===e))||void 0===r?void 0:r.ssrcIds[1];n.push({ssrcId:e,rtx:t?a:void 0})});else if(i.length>0){const e=i[0].ssrcIds[0],r=i[0].ssrcIds[1];n.push({ssrcId:e,rtx:t?r:void 0})}else{if(0===a.length)throw new Error("No ssrcs found on local media description.");n.push({ssrcId:a[0].ssrcId})}return n}function SU(e,t,n){const{cname:i}=e;let r=[];t&&(r=CU(t)),0===r.length&&(r=e.iceParameters.candidates.map(e=>({foundation:e.foundation,componentId:"1",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}})),sI.debug("Using candidates from gateway."));const a={fingerprints:e.dtlsParameters.fingerprints.map(e=>({hashFunction:e.algorithm,fingerprint:e.fingerprint}))},s={iceUfrag:e.iceParameters.iceUfrag,icePwd:e.iceParameters.icePwd};let o;switch(e.dtlsParameters.role){case"server":o="passive";break;case"client":o="active";break;case"auto":o="actpass"}const l=LU(e.rtpCapabilities),c=[];return Array.isArray(n)&&n.length>0&&n.forEach(e=>{c.push({kind:fM.VIDEO,ssrcMsg:[{ssrcId:e.v,rtx:e.v_rtx}],mslabel:"".concat(e.v,"_").concat(e.a)},{kind:fM.AUDIO,ssrcMsg:[{ssrcId:e.a}],mslabel:"".concat(e.v,"_").concat(e.a)})}),{dtlsParameters:a,iceParameters:s,candidates:r,rtpCapabilities:l,setup:o,cname:i,preSSRCs:c}}function CU(e){let t=[];return e.ip&&"number"==typeof e.port&&(t=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:e.ip,port:e.port.toString(),type:"host",extension:{}}],sI.debug("Using remote candidate from AP ".concat(hU(e.ip),":").concat(e.port)),e.ip6&&(t.push({foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:e.ip6,port:e.port.toString(),type:"host",extension:{}}),sI.debug("Using IPV6 remote candidate from AP ".concat(hU(e.ip6),":").concat(e.port)))),t}function TU(e,t,n){const i=[],r=[];return e.forEach(e=>{let{ssrcId:a,rtx:s}=e;const o=Ck(8,"track-"),l={ssrcId:a,attributes:yU({label:o,mslabel:n=n||Ck(10,""),msid:"".concat(n," ").concat(o)},t&&{cname:t})};if(i.push(l),void 0!==s){const e={ssrcId:s,attributes:yU({label:o,mslabel:n,msid:"".concat(n," ").concat(o)},t&&{cname:t})};i.push(e),r.push({semantic:"FID",ssrcIds:[a,s]})}}),e.length>1&&r.push({semantic:"SIM",ssrcIds:e.map(e=>{let{ssrcId:t}=e;return t})}),{ssrcs:i,ssrcGroups:r}}function NU(e,t){t instanceof Bj&&e.attributes.payloads.forEach(e=>{var n;const i=null===(n=e.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase();if(!i||-1===["opus","pcmu","pcma","g722"].indexOf(i))return;e.fmtp||(e.fmtp={parameters:{}}),"opus"===i&&"number"==typeof AR("OPUS_PTIME")?e.fmtp.parameters.ptime=AR("OPUS_PTIME"):e.fmtp.parameters.minptime="10",e.fmtp.parameters.useinbandfec="1";const r=t._encoderConfig;r&&("pcmu"!==i&&"pcma"!==i&&"g722"!==i&&(r.bitrate&&!nA()&&(e.fmtp.parameters.maxaveragebitrate="".concat(Math.floor(1e3*r.bitrate))),r.sampleRate&&(e.fmtp.parameters.maxplaybackrate="".concat(r.sampleRate),e.fmtp.parameters["sprop-maxcapturerate"]="".concat(r.sampleRate)),r.stereo&&(e.fmtp.parameters.stereo="1",e.fmtp.parameters["sprop-stereo"]="1")),t instanceof Vj&&"opus"===i&&t._config.DTX&&(e.fmtp.parameters.usedtx="1"))})}function AU(e){const t=e.attributes.unrecognized.findIndex(e=>"x-google-flag"===e.attField&&"conference"===e.attValue);-1!==t&&e.attributes.unrecognized.splice(t,1)}function kU(e,t){var n;if(!(t instanceof PP&&t._encoderConfig&&-1===t._hints.indexOf(UI.SCREEN_TRACK)))return;const i=t._encoderConfig;_I().supportMinBitrate&&i.bitrateMin&&e.attributes.payloads.forEach(e=>{var t,n;Pi(t=["h264","h265","vp8","vp9","av1"]).call(t,(null===(n=e.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-min-bitrate"]="".concat(i.bitrateMin))}),_I().supportMinBitrate&&!Pi(n=t._hints).call(n,UI.LOW_STREAM)&&i.bitrateMax&&e.attributes.payloads.forEach(e=>{var t,n;Pi(t=["h264","h265","vp8","vp9","av1"]).call(t,(null===(n=e.rtpMap)||void 0===n?void 0:n.encodingName.toLowerCase())||"")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters["x-google-start-bitrate"]="".concat(AR("X_GOOGLE_START_BITRATE")||Math.floor(i.bitrateMax)))})}function RU(e){if("video"!==e.media.mediaType)return;const t=YN();if(t.name!==HN.SAFARI&&t.os!==zN.IOS)return;const n=e.attributes.extmaps.findIndex(e=>/video-orientation/g.test(e.extensionName));-1!==n&&e.attributes.extmaps.splice(n,1)}function IU(e,t,n){if(!t)return;let i,r;if("video"===e.media.mediaType?(i=n.videoExtensions,r=n.videoCodecs):(i=n.audioExtensions,r=n.audioCodecs),!0===t.twcc){const t=i.find(e=>vU(e.extensionName));if(t){const n=t.extensionName;e.attributes.extmaps.find(e=>vU(e.extensionName))||e.attributes.extmaps.push({entry:t.entry,extensionName:n});const i=function(e,t){return t.filter(t=>!!e.find(e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find(e=>"transport-cc"===e.type)))}(r,e.attributes.payloads);i.forEach(e=>{e.rtcpFeedbacks.find(e=>"transport-cc"===e.type)||e.rtcpFeedbacks.push({type:"transport-cc"})})}}else if(!1===t.twcc){const t=e.attributes.extmaps.findIndex(e=>vU(e.extensionName));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach(e=>{const t=e.rtcpFeedbacks.findIndex(e=>"transport-cc"===e.type);-1!==t&&e.rtcpFeedbacks.splice(t,1)})}if(!0===t.remb){const t=i.find(e=>_U(e.extensionName));if(t){const n=t.extensionName;e.attributes.extmaps.find(e=>e.extensionName===n)||e.attributes.extmaps.push({entry:t.entry,extensionName:n});const i=function(e,t){return t.filter(t=>!!e.find(e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find(e=>"goog-remb"===e.type)))}(r,e.attributes.payloads);i.forEach(e=>{e.rtcpFeedbacks.find(e=>"goog-remb"===e.type)||e.rtcpFeedbacks.push({type:"goog-remb"})})}}else if(!1===t.remb){const t=e.attributes.extmaps.findIndex(e=>_U(e.extensionName));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach(e=>{const t=e.rtcpFeedbacks.findIndex(e=>"goog-remb"===e.type);-1!==t&&e.rtcpFeedbacks.splice(t,1)})}}function OU(e,t,n){if(nA())return;if("video"!==e.media.mediaType)return;if(!(t instanceof PP))return;if("vp9"!==n&&"vp8"!==n)return;if("vp8"===n&&!AR("SIMULCAST"))return;if("vp9"===n&&AR("ENABLE_SVC"))return;if(void 0===t._scalabilityMode||t._scalabilityMode.numSpatialLayers<=1)return;const i="vp8"===n?2:t._scalabilityMode.numSpatialLayers,r=e.attributes.ssrcs[0],a=e.attributes.ssrcGroups.find(e=>"FID"===e.semantic&&e.ssrcIds[0]===r.ssrcId),s={semantic:"SIM",ssrcIds:[r.ssrcId]};for(let o=1;o<i;o++)e.attributes.ssrcs.push({ssrcId:r.ssrcId+o,attributes:pk(r.attributes)}),s.ssrcIds.push(r.ssrcId+o),a&&(e.attributes.ssrcs.push({ssrcId:a.ssrcIds[1]+o,attributes:pk(r.attributes)}),e.attributes.ssrcGroups.push({semantic:"FID",ssrcIds:[r.ssrcId+o,a.ssrcIds[1]+o]}));e.attributes.ssrcGroups.unshift(s)}async function jU(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new RTCPeerConnection;n.addTransceiver("video",{direction:"sendonly"}),n.addTransceiver("audio",{direction:"sendonly"}),n.addTransceiver("video",{direction:"recvonly"}),n.addTransceiver("audio",{direction:"recvonly"});const i=(await n.createOffer()).sdp,{send:r,recv:a,sendrecv:s}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=xU(n,e,t,"sendonly"),r=xU(n,e,t,"recvonly"),a={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},s={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(DU(i,r,"videoExtensions",a,s,o),DU(i,r,"videoCodecs",a,s,o),DU(i,r,"audioExtensions",a,s,o),DU(i,r,"audioCodecs",a,s,o),AR("RAISE_H264_BASELINE_PRIORITY")){const e=[],t=[];if(o.videoCodecs.forEach((n,i)=>{var r;if("h264"===(null===(r=n.rtpMap)||void 0===r?void 0:r.encodingName.toLocaleLowerCase())){var a,s;const r=o.videoCodecs[i+1],l=r&&WU(n,r),c=null===(a=n.fmtp)||void 0===a?void 0:a.parameters["profile-level-id"],d=null===(s=n.fmtp)||void 0===s?void 0:s.parameters["packetization-mode"];!c||c!==AR("FIRST_H264_PROFILE_LEVEL_ID")||AR("FIRST_PACKETIZATION_MODE")&&d!==AR("FIRST_PACKETIZATION_MODE")?l?t.push([n,r]):t.push([n]):l?e.push([n,r]):e.push([n])}}),e.length>0&&t.length>0){sI.debug("raising H264 baseline profile priority"),o.videoCodecs.forEach((n,i)=>{var r;if("h264"===(null===(r=n.rtpMap)||void 0===r?void 0:r.encodingName.toLocaleLowerCase())){const r=WU(n,o.videoCodecs[i+1]),a=e.shift()||t.shift()||[];a.length>0&&(r?o.videoCodecs.splice(i,2,...a):o.videoCodecs.splice(i,1,...a))}});const n=s.videoCodecs.filter(e=>{var t,n;return"h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])!==AR("FIRST_H264_PROFILE_LEVEL_ID")});if(n.length>0){const e=FU(n,s.videoCodecs).map(e=>e.payloadType),t=[...n.map(e=>e.payloadType),...e];s.videoCodecs=s.videoCodecs.filter(e=>!Pi(t).call(t,e.payloadType))}AR("FILTER_SEND_H264_BASELINE")&&(a.videoCodecs=a.videoCodecs.filter(e=>{var t,n;return!("h264"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&(null===(n=e.fmtp)||void 0===n?void 0:n.parameters["profile-level-id"])!==AR("FIRST_H264_PROFILE_LEVEL_ID"))}))}return{send:a,recv:s,sendrecv:o}}return{send:a,recv:s,sendrecv:o}}(e,t,i);try{n.close()}catch(e){}return{send:r,recv:a,sendrecv:s}}function PU(){const e={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t=xU(arguments.length>2?arguments[2]:void 0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"recvonly"),n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(DU(e,t,"videoExtensions",n,i,r),DU(e,t,"videoCodecs",n,i,r),DU(e,t,"audioExtensions",n,i,r),DU(e,t,"audioCodecs",n,i,r),AR("RAISE_H264_BASELINE_PRIORITY")){const e=r.videoCodecs.findIndex(e=>e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"===e.fmtp.parameters["profile-level-id"]);if(-1!==e){const t=r.videoCodecs.findIndex(e=>e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase());if(t<e){sI.debug("raising H264 baseline profile priority");const n=r.videoCodecs[e];r.videoCodecs.splice(e,1),r.videoCodecs.splice(t,0,n)}-1!==t&&(i.videoCodecs=i.videoCodecs.filter(e=>!(e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"!==e.fmtp.parameters["profile-level-id"])))}}return{send:n,recv:i,sendrecv:r}}function DU(e,t,n,i,r,a){if("videoExtensions"===n||"audioExtensions"===n){const s=[];return e[n].forEach(e=>{t[n].some((t,n)=>{if(e.entry===t.entry&&e.extensionName===t.extensionName)return s.push(n),!0})?a[n].push(e):i[n].push(e)}),void t[n].forEach((e,t)=>{-1===s.indexOf(t)&&r[n].push(e)})}if("videoCodecs"===n||"audioCodecs"===n){const s=[];return e[n].forEach(e=>{t[n].some((t,n)=>{if(e.payloadType===t.payloadType&&JSON.stringify(e)===JSON.stringify(t))return s.push(n),!0})?a[n].push(e):i[n].push(e)}),void t[n].forEach((e,t)=>{-1===s.indexOf(t)&&r[n].push(e)})}}function LU(e){const{send:t,recv:n,sendrecv:i}=e;if(!i){if(!t||!n)throw new Error("cannot merge rtp capabilities because one of send or recv is empty!");return{send:t,recv:n}}let r,a;return t?(r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r.audioCodecs=[...t.audioCodecs,...i.audioCodecs],r.videoCodecs=[...t.videoCodecs,...i.videoCodecs],r.audioExtensions=[...t.audioExtensions,...i.audioExtensions],r.videoExtensions=[...t.videoExtensions,...i.videoExtensions]):r=i,n?(a={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},a.audioCodecs=[...n.audioCodecs,...i.audioCodecs],a.videoCodecs=[...n.videoCodecs,...i.videoCodecs],a.audioExtensions=[...n.audioExtensions,...i.audioExtensions],a.videoExtensions=[...n.videoExtensions,...i.videoExtensions]):a=i,{send:r,recv:a}}function MU(e){"audio"===e.media.mediaType&&e.attributes.payloads.filter(e=>{var t;return"opus"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())}).forEach(e=>{e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.stereo="1",e.fmtp.parameters["sprop-stereo"]="1"})}function UU(e,t,n,i){let r=[];if(e===fM.VIDEO){if(AR("H264_PROFILE_LEVEL_ID")&&"h264"===i&&(r=t.videoCodecs.filter(e=>{var t;return Pi(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,i)&&e&&e.fmtp&&e.fmtp.parameters["profile-level-id"]===AR("H264_PROFILE_LEVEL_ID")})),!Array.isArray(r)||0===r.length){let e=[];const a=[],s=[],o=[];if(n.videoCodecs.forEach(t=>{const n=t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||"";Pi(n).call(n,i)?e.push(t):Pi(n).call(n,"vp9")?a.push(t):Pi(n).call(n,"vp8")?s.push(t):Pi(n).call(n,"h264")&&o.push(t)}),0===e.length){let t="";0!==a.length?(e=a,t="vp9"):0!==s.length?(e=s,t="vp8"):0!==o.length&&(e=o,t="h264"),sI.warning("codec ".concat(i," not included in rtpCapabilities, fallback to default payloads: ").concat(t))}0!==e.length&&(r=t.videoCodecs.filter(t=>e.some(e=>e.payloadType===t.payloadType)))}if(0===r.length&&(sI.warning("codec ".concat(i," not included in rtpCapabilities, fallback to default payloads: ").concat(t.videoCodecs[0].rtpMap&&t.videoCodecs[0].rtpMap.encodingName)),r=t.videoCodecs),AR("USE_PUB_RTX")||AR("USE_SUB_RTX")){const e=FU(r,t.videoCodecs);r=[...r,...e]}}else{r=t.audioCodecs.filter(e=>{var t;return Pi(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,i)});const e=t.audioCodecs.filter(e=>{var t;return Pi(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,"red")});0===r.length&&(sI.warning("codec ".concat(i," not included in rtpCapabilities, fallback to opus")),r=t.audioCodecs.filter(e=>{var t;return Pi(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(t,"opus")})),AR("ENABLE_AUDIO_RED")&&0!==e.length&&(r=[...e,...r])}return r}function FU(e,t){const n=e.map(e=>e.payloadType.toString());return t.filter(e=>e.rtpMap&&"rtx"===e.rtpMap.encodingName&&e.fmtp&&e.fmtp.parameters.apt&&Pi(n).call(n,e.fmtp&&e.fmtp.parameters.apt))}async function BU(e,t,n){const i=t.toString(),r=zU(i,"offer","remote","exchangeSDP");await e.setRemoteDescription({type:"offer",sdp:i});const a=await e.createAnswer();if(!a.sdp)throw new Error("cannot get answer sdp");let s=a.sdp;s=VU(s,n||{}),null==r||r(s||""),await e.setLocalDescription({type:"answer",sdp:s})}function VU(e,t,n){const i=FR(e),{useXR:r}=t;return i.mediaDescriptions.forEach(e=>{var t;e.attributes.mid&&(Array.isArray(n)&&!Pi(n).call(n,e.attributes.mid)||("audio"===e.media.mediaType&&MU(e),r&&Pi(t=["audio","video"]).call(t,e.media.mediaType)&&e.attributes.payloads.forEach(e=>{-1===e.rtcpFeedbacks.findIndex(e=>"rrtr"===e.type)&&e.rtcpFeedbacks.push({type:"rrtr"})})))}),BR(i)}function zU(e,t,n,i){if(AR("SDP_LOGGING"))return sI.upload("exchanging ".concat(n," ").concat(t," SDP during P2PConnection.").concat(i,"\n"),e),"offer"===t?e=>{zU(e,"answer","local"===n?"remote":"local",i)}:void 0}function HU(e){const t=AR("COMPATIBLE_SDP_EXTENSION");return!!(Array.isArray(t)&&t.length>0)&&t.some(t=>Pi(e).call(e,t))}function WU(e,t){try{var n;return(null===(n=e.fmtp)||void 0===n?void 0:n.parameters.apt)===t.payloadType.toString()}catch(e){return!1}}function GU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function qU(e,t){return typeof AR(e)===t?AR(e):void 0}function YU(){try{const e=AR("EXPERIMENTS")||{};return"string"==typeof e||Array.isArray(e)?{}:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?GU(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e)}catch(e){return sI.debug("handle gateway attributes failed: ",e),{}}}const XU={};function KU(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&sI.debug("install service ".concat(e.name)),XU[e.name]=e}function JU(e){const t=XU[e];if(!t)throw new kA(AA.INVALID_OPERATION,"".concat(e," not found, please use AgoraRTC.use(").concat(e,"Service) to load it first"));return t}function ZU(e,t){return JU("DataStream").create(e,t)}function QU(){return JU("InterceptFrame").create()}function $U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$U(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$U(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const tF=new Map;class nF extends WA{get state(){return this._state}set state(e){if(e===this._state)return;const t=this._state;this._state=e,"DISCONNECTED"===e&&this._disconnectedReason?this.emit(rM.CONNECTION_STATE_CHANGE,e,t,this._disconnectedReason):this.emit(rM.CONNECTION_STATE_CHANGE,e,t)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(e){sI.debug("[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(e)),this._joinGatewayStartTime=e}constructor(e,t){var n,i,r;super(),uC(this,"store",void 0),uC(this,"joinInfo",void 0),uC(this,"key",void 0),uC(this,"ntpOffset",0),uC(this,"signal",void 0),uC(this,"role",void 0),uC(this,"isPreallocation",void 0),uC(this,"isPreSub",void 0),uC(this,"inChannelInfo",{joinAt:null,duration:0}),uC(this,"spec",void 0),uC(this,"_state","DISCONNECTED"),uC(this,"_statsCollector",void 0),uC(this,"_disconnectedReason",void 0),uC(this,"isSignalRecover",!1),uC(this,"hasChangeBGPAddress",!1),uC(this,"trafficStatsInterval",void 0),uC(this,"networkQualityInterval",void 0),uC(this,"_joinGatewayStartTime",0),uC(this,"_signalTimeout",!1),uC(this,"_clientRoleOptions",void 0),uC(this,"_isProactiveJoin",!1),this.store=e,this.spec=t,this.signal=this.store.useP2P?(n={spec:eF(eF({},t),{},{retryConfig:t.websocketRetryConfig}),store:e},null===(i=(r=JU("P2PChannel")).createSubmodule)||void 0===i?void 0:i.call(r,n)):new ZM(eF(eF({},t),{},{retryConfig:t.websocketRetryConfig}),e),this._statsCollector=t.statsCollector,this.role=t.role||"audience",this._clientRoleOptions=t.clientRoleOptions,this.handleSignalEvents()}async join(e,t,n){this.store.joinGatewayStart(),"disabled"!==e.cloudProxyServer&&(this.hasChangeBGPAddress=!0);const i=Date.now();let r=tF.get(e.cname);if(r||(r=new Map,tF.set(e.cname,r)),this._isProactiveJoin=!0,r.has(e.uid)){const t=new fI(AA.UID_CONFLICT);throw mI.joinGateway(e.sid,{lts:i,succ:!1,ec:t.code,addr:null,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,isProxy:!!e.proxyServer,signalChannel:"0",preload:e.preload}),t}r.set(e.uid,!0),this.joinInfo=e,this.key=t;let a=0;this.joinGatewayStartTime=i;const s=e.proxyServer;try{sI.debug("[".concat(this.store.clientId,"] use websocket join uid ").concat(a));const t=e.gatewayAddrs.map(t=>{let{address:n}=t;const[i,r]=n.split(":"),a={host:i,port:r};return e.proxyServer&&(a.proxy=e.proxyServer),a});a=(await this.signal.init(t)).uid,sI.debug("[".concat(this.store.clientId,"] websocket join uid ").concat(a," cost ").concat(Date.now()-this.joinGatewayStartTime))}catch(t){var o;throw sI.error("[".concat(this.store.clientId,"] User join failed"),t.toString()),mI.joinGateway(e.sid,{lts:i,succ:!1,ec:(null===(o=t.data)||void 0===o?void 0:o.desc)||t.code,errorMsg:t.message,addr:this.signal.url,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,isProxy:!!s,signalChannel:"0",preload:e.preload}),r.delete(e.uid),this.signal.close(),t}return this.state="CONNECTED",this.inChannelInfo.joinAt=Date.now(),sI.debug("[".concat(this.store.clientId,"] Connected to gateway server")),this.trafficStatsInterval=window.setInterval(()=>{this.updateTrafficStats().catch(e=>{sI.warning("[".concat(this.store.clientId,"] get traffic stats error"),e.toString())})},3e3),this.networkQualityInterval=window.setInterval(()=>{navigator&&void 0!==navigator.onLine&&!navigator.onLine?this.emit(rM.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(rM.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):"CONNECTED"===this.state&&this._statsCollector.trafficStats?this.emit(rM.NETWORK_QUALITY,{uplinkNetworkQuality:oU(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:oU(this._statsCollector.trafficStats.B_dnq)}):this.emit(rM.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})},2e3),this.store.joinGatewayEnd(),a}async leave(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if("DISCONNECTED"!==this.state){t!==ZA.FALLBACK&&(this.state="DISCONNECTING");try{e||this.signal.connectionState!==DL.CONNECTED||await function(e,t){return t===1/0?e:np.race([e,Ek(t)])}(this.signal.request(ML.LEAVE,void 0,!0),3e3)}catch(e){sI.warning("[".concat(this.store.clientId,"] leave request failed, ignore"),e)}this.signal.close(t),t!==ZA.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}}async publish(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new fI(AA.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const i={state:"offer",p2p_id:this.store.p2pId,ortc:t,mode:this.spec.mode,extend:AR("PUB_EXTEND"),twcc:!!AR("PUBLISH_TWCC"),rtx:!!AR("USE_PUB_RTX")};try{return(await this.signal.request(ML.PUBLISH,i,!0))._message}catch(i){if(n&&i.data&&i.data.code===PL.ERR_PUBLISH_REQUEST_INVALID)return sI.warning("[".concat(this.store.clientId,"] receive publish error code, retry"),i.toString()),await this.tryUnpubBeforeRepub(e,t),this.publish(e,t,!1);throw i}}async publishDataChannel(e,t,n){var i;if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new fI(AA.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const r={stream_id:t.streamId,ordered:t.ordered?1:0,max_retrans_times:null!==(i=t.maxRetransmits)&&void 0!==i?i:10,channel_id:t.channelId,metadata:t.metadata};try{await this.signal.request(ML.PUBLISH_DATASTREAM,r,!0)}catch(i){if(n&&i.data&&i.data.code===PL.ERR_PUBLISH_REQUEST_INVALID)return sI.warning("[".concat(this.store.clientId,"] receive publish datachannels error code, retry"),i.toString()),await this.tryUnpubDataChannelBeforeRepub(e,t),this.publishDataChannel(e,t,!1);throw i}}async unpublish(e,t){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new fI(AA.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await this.signal.request(ML.UNPUBLISH,{stream_id:t,ortc:e},!0)}catch(e){sI.warning("[".concat(this.store.clientId,"] unpublish warning: "),e)}}async unpublishDataChannel(e){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new fI(AA.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await np.all(e.map(e=>this.signal.request(ML.UNPUBLISH_DATASTREAM,{channel_id:e},!0)))}catch(e){sI.warning("unpublish datachannels warning: ",e)}}async presubscribe(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new fI(AA.INVALID_OPERATION,"can not presubscribe when connection state is ".concat(this.state));const i={stream_id:e,stream_type:t,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!AR("SUBSCRIBE_TWCC"),rtx:!!AR("USE_SUB_RTX")||void 0,extend:AR("SUB_EXTEND"),svc:Array.isArray(AR("SVC"))&&0!==AR("SVC").length?AR("SVC"):void 0};try{return await this.signal.request(ML.PRE_SUBSCRIBE,i,!0)}catch(i){if(n&&i.data&&i.data.code===PL.ERR_SUBSCRIBE_REQUEST_INVALID)return sI.warning("[".concat(this.store.clientId,"] pre-subscribe error, retry"),i.toString()),this.presubscribe(e,t,!1);throw i}}async subscribe(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new fI(AA.INVALID_OPERATION,"can not subscribe when connection state is ".concat(this.state));const i={stream_id:e,stream_type:t.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!AR("SUBSCRIBE_TWCC"),rtx:!!AR("USE_SUB_RTX"),extend:AR("SUB_EXTEND"),ssrcId:t.ssrcId,svc:Array.isArray(AR("SVC"))&&0!==AR("SVC").length?AR("SVC"):void 0};try{return(await this.signal.request(ML.SUBSCRIBE,i,!0))._message}catch(i){if(n&&i.data&&i.data.code===PL.ERR_SUBSCRIBE_REQUEST_INVALID)return sI.warning("[".concat(this.store.clientId,"] receiver subscribe error code, retry"),i.toString()),await this.tryUnsubBeforeResub(e,t),await this.subscribe(e,t,!1);throw i}}async subscribeDataChannel(e,t,n){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new fI(AA.INVALID_OPERATION,"can not subscribe datachannel when connection state is ".concat(this.state));const i={uid:e,stream_id:t.id,channel_id:t.datachannelId};try{return void await this.signal.request(ML.SUBSCRIBE_DATASTREAM,i,!0)}catch(i){if(n&&i.data&&i.data.code===PL.ERR_SUBSCRIBE_REQUEST_INVALID)return sI.warning("[".concat(this.store.clientId,"] receiver subscribe datachannel error code, retry"),i.toString()),await this.tryUnsubDataChannelBeforeResub(e,t),await this.subscribeDataChannel(e,t,!1);throw i}}async subscribeAll(e,t){if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new fI(AA.INVALID_OPERATION,"can not massSubscribe when connection state is ".concat(this.state));const n={p2p_id:this.store.p2pId,users:e,dtx:!1,rtx:!!AR("USE_SUB_RTX"),twcc:!!AR("SUBSCRIBE_TWCC"),svc:Array.isArray(AR("SVC"))&&0!==AR("SVC").length?AR("SVC"):void 0};try{return await this.signal.request(ML.SUBSCRIBE_STREAMS,n,!0)}catch(n){if(t&&n.data&&n.data.code===PL.ERR_SUBSCRIBE_REQUEST_INVALID)return sI.warning("[".concat(this.store.clientId,"] receiver massSubscribe error code, retry"),n.toString()),await this.tryMassUnsubBeforeResub(e),await this.subscribeAll(e,!1);throw n}}async setVideoProfile(e){const t=function(e){if(!(e.bitrateMax&&e.bitrateMin&&e.frameRate&&e.height&&e.width))return;let t=e.frameRate,n=e.width,i=e.height,r=!0;return"number"!=typeof t&&(t=t.exact||t.ideal||t.max||t.min||0,t||(r=!1)),"number"!=typeof n&&(n=n.exact||n.ideal||n.max||n.min||0,n||(r=!1)),"number"!=typeof i&&(i=i.exact||i.ideal||i.max||i.min||0,t||(r=!1)),r?{stream_type:0,width:n,height:i,fps:t,start_bps:1e3*e.bitrateMax,min_bps:1e3*e.bitrateMin,target_bps:1e3*e.bitrateMax}:void 0}(e);if(t)return this.signal.request(ML.SET_VIDEO_PROFILE,t);sI.debug("[".concat(this.store.clientId,"] encoder config is not complete, do not report to gateway"))}async unsubscribe(e,t){try{await this.signal.request(ML.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:e,stream_id:t},!0)}catch(e){sI.warning("[".concat(this.store.clientId,"] unsubscribe warning: "),e)}}async unsubscribeDataChannel(e,t){try{if("CONNECTED"!==this.state&&"RECONNECTING"!==this.state)throw new fI(AA.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await np.all(e.map(e=>this.signal.request(ML.UNSUBSCRIBE_DATASTREAM,{stream_id:e,uid:t},!0)))}catch(e){sI.warning("unsubscribeDataChannel warning: ",e)}}async massUnsubscribe(e){try{await this.signal.request(ML.UNSUBSCRIBE_STREAMS,e,!0)}catch(e){sI.warning("[".concat(this.store.clientId,"] massUnsubscribeAll warning: "),e)}}async reconnectPC(e){const{iceParameters:t,dtlsParameters:n,rtpCapabilities:i}=e;return{gatewayEstablishParams:await this.signal.request(ML.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:t,dtlsParameters:n,rtpCapabilities:i}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(ML.GATEWAY_INFO)}async renewToken(e){await this.signal.request(ML.RENEW_TOKEN,e),this.key=e.token}updateClientRole(e,t){t&&(this._clientRoleOptions=Object.assign({},t)),AR("CLIENT_ROLE_OPTIONS")&&(sI.debug("[".concat(this.store.clientId,"] Set roleOptions for ").concat(JSON.stringify(AR("CLIENT_ROLE_OPTIONS"))," instead of ").concat(JSON.stringify(this._clientRoleOptions)," ")),this._clientRoleOptions=Object.assign({},AR("CLIENT_ROLE_OPTIONS"))),this.role=e}async setClientRole(e,t){if(t&&(this._clientRoleOptions=Object.assign({},t)),AR("CLIENT_ROLE_OPTIONS")&&(this._clientRoleOptions=Object.assign({},AR("CLIENT_ROLE_OPTIONS")),sI.debug("[".concat(this.store.clientId,"] Set roleOptions for ").concat(JSON.stringify(AR("CLIENT_ROLE_OPTIONS"))," instead of ").concat(JSON.stringify(this._clientRoleOptions)," "))),"CONNECTED"!==this.state)return void(this.role=e);let n,i=0;"audience"===e?this._clientRoleOptions&&this._clientRoleOptions.delay?(n=this._clientRoleOptions.delay,i=1):i=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:i=0;const r=Object.assign({},t);delete r.delay,delete r.level,await this.signal.request(ML.SET_CLIENT_ROLE,eF(eF({role:e,level:i,delay:n},r),{},{client_ts:Date.now()})),this.role=e}async setRemoteVideoStreamType(e,t){await this.signal.request(ML.SWITCH_VIDEO_STREAM,{stream_id:e,stream_type:t})}async setDefaultRemoteVideoStreamType(e){await this.signal.request(ML.DEFAULT_VIDEO_STREAM,{stream_type:e})}async setStreamFallbackOption(e,t){await this.signal.request(ML.SET_FALLBACK_OPTION,{stream_id:e,fallback_type:t})}async pickSVCLayer(e,t){await this.signal.request(ML.PICK_SVC_LAYER,{stream_id:e,spatial_layer:t.spatialLayer,temporal_layer:t.temporalLayer})}async setRTM2Flag(e){await this.signal.request(ML.SET_RTM2_FLAG,{rtm2_flag:e})}async sendExtensionMessage(e,t,n){if(this.store.useP2P)return this.signal.sendExtensionMessage(e,t,n)}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),eF({},this.inChannelInfo)}async getGatewayVersion(){return(await this.signal.request(ML.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const e=tF.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const e=function(e){let t;return t=e.startsWith("dc")?e.match(/(dc\:\/\/)?([^:]+):(\d+)/):e.match(/(wss\:\/\/)?([^:]+):(\d+)/),t?{username:xR.username,password:xR.password,turnServerURL:t[2],tcpport:parseInt(t[3])+30,udpport:parseInt(t[3])+30,forceturn:!1}:null}(("disabled"===this.joinInfo.cloudProxyServer?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||"");this.joinInfo.turnServer.serversFromGateway=[],e&&"off"!==this.joinInfo.turnServer.mode&&"disabled"===this.joinInfo.cloudProxyServer&&this.joinInfo.turnServer.serversFromGateway.push(eF(eF({},xR),{},{turnServerURL:e.turnServerURL,tcpport:e.tcpport,udpport:e.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if("CONNECTED"!==this.state)return;const e=await this.signal.request(ML.TRAFFIC_STATS,void 0,!0);e.timestamp=Date.now(),null!=e.ntp_offset&&(this.ntpOffset=e.ntp_offset),e.peer_delay.forEach(e=>{const t=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find(t=>t.peer_uid===e.peer_uid);t&&t.B_st!==e.B_st&&hk(()=>{this.emit(rM.STREAM_TYPE_CHANGE,e.peer_uid,e.B_st)})}),this._statsCollector.updateTrafficStats(e)}getJoinMessage(e){var t,n;if(!this.joinInfo||!this.key)throw new fI(AA.UNEXPECTED_ERROR,"can not generate join message, no join info");const i=Object.assign({},this.joinInfo.apResponse);let r=AR("REPORT_APP_SCENARIO");if("string"!=typeof r)try{r=JSON.stringify(r)}catch(e){r=void 0}var a;r&&r.length>128&&(r=void 0),this.store.hasStartJoinChannel=!0,this.store.isABTestSuccess||this.emit(rM.UPDATE_GATEWAY_CONFIG),a=this.store.clientId,Pi(WD).call(WD,a)||WD.push(a);const s=yI(this.store),o=!(null===(t=this.isPreallocation)||void 0===t||!t.call(this)),l=xI(this.store),c=YU(),d=rA(87)||eA()||lA(117),u=(function(){const e=YN();if(e.name!==HN.SAFARI||!e.browserVersion)return!1;const t=e.browserVersion.split(".");return Number(t[0])>18||18===Number(t[0])&&Number(t[1])>=4}()||dA(18,4,!1))&&hA(18,6,!0)&&"h264"===this.spec.codec&&AR("ENABLE_ABSSENDTIME_AS_SENTTS"),h=eF({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:vR,browser:navigator.userAgent,process_id:AR("PROCESS_ID"),mode:this.store.useP2P?"p2p":this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:i,extend:AR("JOIN_EXTEND"),details:{6:this.joinInfo.stringUid,cservice_map:"proxy3"===this.joinInfo.cloudProxyServer?"1":"proxy5"===this.joinInfo.cloudProxyServer?"2":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:r,attributes:{userAttributes:eF(eF({enableEncodedTransform:(!!AR("ENABLE_AUDIO_METADATA")||!!AR("ENABLE_AUDIO_PTS"))&&d||!!AR("ENABLE_AUDIO_TOPN")&&sA(HN.CHROME,87,116)||void 0,enableAudioMetadata:!!AR("ENABLE_AUDIO_METADATA")&&d,enableAudioPts:!!AR("ENABLE_AUDIO_PTS")&&d,topnSmoothLevel:AR("TOPN_SMOOTH_LEVEL"),topnNewSpeakerDelay:AR("TOPN_NEW_SPEAKER_DELAY"),topnSwitchHoldMs:AR("TOPN_SWITCH_HOLD_MS"),topnAudioGain:AR("TOPN_AUDIO_GAIN"),enablePublishedUserList:AR("ENABLE_PUBLISHED_USER_LIST"),maxSubscription:AR("MAX_SUBSCRIPTION"),subscribeAudioFilterTopN:qU("SUBSCRIBE_AUDIO_FILTER_TOPN","number"),enablePublishAudioFilter:qU("ENABLE_PUBLISH_AUDIO_FILTER","boolean"),enableUserLicenseCheck:qU("ENABLE_USER_LICENSE_CHECK","boolean"),enableRTX:!0===AR("USE_PUB_RTX")||!0===AR("USE_SUB_RTX")||void 0,disableFEC:AR("DISABLE_FEC"),enableNTPReport:!!AR("ENABLE_NTP_REPORT")||void 0,enableInstantVideo:l,enableFulllinkAvSync:!!AR("ENABLE_FULL_LINK_AV_SYNC")||void 0,enableDataStream2:qU("ENABLE_DATASTREAM_2","boolean"),enableAutFeedback:!!AR("FORCE_ENABLE_AUT_CC")||!bI()&&(!!AR("ENABLE_AUT_FEEDBACK")||void 0),rtm2Flag:"number"==typeof this.joinInfo.rtmFlag?this.joinInfo.rtmFlag:void 0,enableUserAutoRebalanceCheck:!!AR("ENABLE_USER_AUTO_REBALANCE_CHECK"),enableXR:qU("USE_XR","boolean"),enableLossbasedBwe:qU("ENABLE_LOSSBASED_BWE","boolean"),enableAutCC:!!AR("FORCE_ENABLE_AUT_CC")||!bI()&&(!!AR("ENABLE_AUT_CC")||void 0),enableCCFallback:qU("ENABLE_CC_FALLBACK","boolean"),enablePreallocPC:o,preSubNum:s?qU("PRE_SUB_NUM","number"):void 0,enablePubTWCC:qU("PUBLISH_TWCC","boolean"),enableSubTWCC:qU("SUBSCRIBE_TWCC","boolean"),enablePubRTX:qU("USE_PUB_RTX","boolean"),enableSubRTX:qU("USE_SUB_RTX","boolean"),enableSubSVC:AR("ENABLE_SVC")?AR("ENABLE_SVC_DEFAULT_CODECS"):Array.isArray(AR("SVC"))&&0!==AR("SVC").length?AR("SVC"):void 0,enableSvcExtended:AR("ENABLE_SVC")&&Array.isArray(AR("SVC_EXTENDED"))&&0!==AR("SVC_EXTENDED").length?AR("SVC_EXTENDED"):void 0},c),{},{audioDuplicate:qU("ENABLE_AUDIO_RED","boolean")?null!==(n=qU("AUDIO_DUPLICATE_NUM","number"))&&void 0!==n?n:2:void 0,senttsUsesAbsSendTime:!!u||void 0})},join_ts:this.joinGatewayStartTime},e);return this.joinInfo.stringUid&&(h.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(h.aes_mode=this.joinInfo.aesmode,AR("ENCRYPT_AES")?(h.aes_secret=this.joinInfo.aespassword,h.aes_encrypt=!0):h.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(h.aes_salt=this.joinInfo.aessalt)),i.addresses[this.signal.websocket.currentURLIndex]&&(h.ap_response.ticket=i.addresses[this.signal.websocket.currentURLIndex].ticket,delete i.addresses),void 0!==this.joinInfo.defaultVideoStream&&(h.default_video_stream=this.joinInfo.defaultVideoStream),h}getRejoinMessage(){if(!this.joinInfo)throw new fI(AA.UNEXPECTED_ERROR,"can not generate rejoin message, no join info");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(LL.WS_RECONNECT_CREATE_CONNECTION,e=>{this.joinGatewayStartTime=Date.now()}),this.signal.on(LL.WS_RECONNECTING,e=>{this.joinInfo&&mI.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:e||nk.NETWORK_ERROR}),this.joinInfo&&(this.state="RECONNECTING",mI.sessionInit(this.joinInfo.sid,{lts:(new Date).getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode,stringUid:this.joinInfo.stringUid,channelProfile:"live"===this.spec.mode?1:0,channelMode:0,lsid:this.joinInfo.sid,clientRole:"audience"===this.role?2:1,buildFormat:1}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())}),this.signal.on(LL.WS_CLOSED,e=>{let t;switch(e){case ZA.LEAVE:t=nk.LEAVE;break;case ZA.UID_BANNED:case ZA.IP_BANNED:case ZA.CHANNEL_BANNED:case ZA.SERVER_ERROR:t=nk.SERVER_ERROR;break;case ZA.FALLBACK:t=nk.FALLBACK;break;case ZA.LICENSE_MISSING:case ZA.LICENSE_EXPIRED:case ZA.LICENSE_MINUTES_EXCEEDED:case ZA.LICENSE_PERIOD_INVALID:case ZA.LICENSE_MULTIPLE_SDK_SERVICE:case ZA.LICENSE_ILLEGAL:case ZA.TOKEN_EXPIRE:t=e;break;default:t=nk.NETWORK_ERROR}sI.debug("[".concat(this.store.clientId,"] [signal] websocket closed, reason: ").concat(t||"undefined -> "+nk.NETWORK_ERROR)),this.joinInfo&&mI.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:e===ZA.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:t}),this._disconnectedReason=e,e!==ZA.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}),this.signal.on(LL.WS_CONNECTED,()=>{if(this.updateTurnConfigFromSignal(),this.state="CONNECTED",this.joinInfo){if("audience"===this.role){const e=AR("CLIENT_ROLE_OPTIONS")||this._clientRoleOptions;e&&(e.level||e.delay)&&(sI.debug("[".concat(this.store.clientId,"] patch to send set client role, role: ").concat(this.role,", mode: ").concat(this.spec.mode,", level: ").concat(e.level,", delay: ").concat(e.delay)),this.setClientRole(this.role,e))}if(mI.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,isProxy:!!this.joinInfo.proxyServer,signalChannel:"0",preload:this.joinInfo.preload,isABTestSuccess:this.store.isABTestSuccess}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&1===this.joinInfo.setLocalAPVersion){const e=this.signal.url&&this.signal.url.match(/wss\:\/\/([^:]+):(\d+)/);if(!e)return void sI.error("[".concat(this.store.clientId,"] set local access point after joined failed: ").concat(e));NR("EVENT_REPORT_DOMAIN",e[1]),NR("EVENT_REPORT_BACKUP_DOMAIN",e[1]),NR("LOG_UPLOAD_SERVER","".concat(e[1],":6444"))}}}),this.signal.on(FL.ON_UPLINK_STATS,e=>{this._statsCollector.updateUplinkStats(e)}),this.signal.on(LL.REQUEST_RECOVER,(e,t,n)=>{if(!this.joinInfo)return n(new fI(AA.UNEXPECTED_ERROR,"gateway: can not recover, no join info"));e&&(this.joinInfo.multiIP=e,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,ak(this,rM.REQUEST_NEW_GATEWAY_LIST).then(t).catch(n)}),this.signal.on(LL.REQUEST_JOIN_INFO,async(e,t,n)=>{var i,r,a;if(this.updateTurnConfigFromSignal(),this.store.useP2P)return void e(this.getJoinMessage({ortc:{}}));const s=pk(null===(i=this.joinInfo)||void 0===i?void 0:i.turnServer);if(AR("NEW_TURN_MODE")&&s&&"disabled"===(null===(r=this.joinInfo)||void 0===r?void 0:r.cloudProxyServer)){var o;let e=s.servers.map(e=>"turnServerURL"in e&&AR("USE_TURN_IP")?eF(eF({},e),{},{turnServerURL:iU(e.turnServerURL)}):e),t=null===(o=s.serversFromGateway)||void 0===o?void 0:o.map(e=>AR("USE_TURN_IP")?eF(eF({},e),{},{turnServerURL:iU(e.turnServerURL)}):e);const n=this.signal.currentURLIndex;e.length>0&&(e=[e[n%e.length]],s.servers=e),Array.isArray(t)&&t.length>0&&(t=[t[0]],s.serversFromGateway=t),sI.debug("[".concat(this.store.clientId,"] use single turn, use turn server index: ").concat(n))}const{iceParameters:l,dtlsParameters:c,rtpCapabilities:d}=await ak(this,rM.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:s,cloudProxyServer:null===(a=this.joinInfo)||void 0===a?void 0:a.cloudProxyServer});try{e(this.getJoinMessage({ortc:{iceParameters:l,dtlsParameters:c,rtpCapabilities:d,version:"2"}}))}catch(e){t(e)}}),this.signal.on(LL.REQUEST_REJOIN_INFO,e=>{e(this.getRejoinMessage())}),this.signal.on(LL.REPORT_JOIN_GATEWAY,(e,t)=>{if(!this.joinInfo)return;let n,i="";var r;e instanceof fI?(n=(null===(r=e.data)||void 0===r?void 0:r.desc)||e.code,i=e.message):n=e,mI.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:n,errorMsg:i,addr:t,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,isProxy:!!this.joinInfo.proxyServer,signalChannel:"0",preload:this.joinInfo.preload})}),this.signal.on(LL.IS_P2P_DISCONNECTED,e=>{e(lk(this,rM.IS_P2P_DISCONNECTED))}),this.signal.on(LL.DISCONNECT_P2P,()=>{this.emit(rM.DISCONNECT_P2P)}),this.signal.on(LL.REQUEST_SUCCESS,()=>{this._signalTimeout=!1}),this.signal.on(LL.REQUEST_TIMEOUT,()=>{this._signalTimeout=!0}),this.signal.on(LL.JOIN_RESPONSE,e=>{const t=this.getCurrentGatewayAddress();this.emit(rM.JOIN_RESPONSE,e,t)}),this.signal.on(LL.PRE_CONNECT_PC,async()=>{if(this.joinInfo){var e,t;this.updateTurnConfigFromSignal();const i=this.getCurrentGatewayAddress(),r=pk(null===(e=this.joinInfo)||void 0===e?void 0:e.turnServer);if(AR("NEW_TURN_MODE")&&r&&"disabled"===(null===(t=this.joinInfo)||void 0===t?void 0:t.cloudProxyServer)){var n;let e=r.servers.map(e=>"turnServerURL"in e&&AR("USE_TURN_IP")?eF(eF({},e),{},{turnServerURL:iU(e.turnServerURL)}):e),t=null===(n=r.serversFromGateway)||void 0===n?void 0:n.map(e=>AR("USE_TURN_IP")?eF(eF({},e),{},{turnServerURL:iU(e.turnServerURL)}):e);const i=this.signal.currentURLIndex;e.length>0&&(e=[e[i%e.length]],r.servers=e),Array.isArray(t)&&t.length>0&&(t=[t[0]],r.serversFromGateway=t),sI.debug("[".concat(this.store.clientId,"] use single turn, use turn server index: ").concat(i,",in pre pc"))}const a=AR("FINGERPRINT")||this.joinInfo.apResponse.addresses[this.signal.currentURLIndex].fingerprint;if(i&&a){const e=CU(i);this.emit(rM.PRE_CONNECT_PC,{candidates:e,fingerprint:a,turnServer:r})}}}),this.signal.on(LL.RECOVER_NOTIFICATION,e=>{this.joinInfo&&"string"==typeof AR("AP_REQUEST_DETAIL")&&(this.joinInfo.apRequestDetail="".concat(AR("AP_REQUEST_DETAIL"),";").concat(e))})}async tryUnsubBeforeResub(e,t){try{await this.signal.request(ML.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:e,ortc:[t]},!0)}catch(e){throw sI.warning("[".concat(this.store.clientId,"] tryUnsubBeforeResub warning"),e),e}}async tryUnsubDataChannelBeforeResub(e,t){try{await this.signal.request(ML.UNSUBSCRIBE,{stream_id:t.id},!0)}catch(e){throw sI.warning("unsubscribe datachannel warning",e),e}}async tryUnpubBeforeRepub(e,t){try{await this.signal.request(ML.UNPUBLISH,{stream_id:e,ortc:t},!0)}catch(e){throw sI.warning("[".concat(this.store.clientId,"] tryUnpubBeforeRepub warning: "),e),e}}async tryUnpubDataChannelBeforeRepub(e,t){try{await this.signal.request(ML.UNPUBLISH_DATASTREAM,{channnel_id:t.channelId},!0)}catch(e){throw sI.warning("unpublish datastream warning: ",e),e}}async tryMassUnsubBeforeResub(e){const t={users:e.map(e=>({stream_id:e.stream_id,stream_type:e.stream_type}))};try{await this.signal.request(ML.UNSUBSCRIBE_STREAMS,t,!0)}catch(e){throw sI.warning("[".concat(this.store.clientId,"] tryMassUnsubBeforeResub warning"),e),e}}async muteLocal(e,t){const n={action:e.find(e=>e.stream_type===iM.Audio)?"mute_local_audio":"mute_local_video",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(ML.CONTROL,n,!0,!0)}catch(e){throw sI.warning("[".concat(this.store.clientId,"] gateway muteLocal warning: "),e),e}}async unmuteLocal(e,t){const n={action:e.find(e=>e.stream_type===iM.Audio)?"unmute_local_audio":"unmute_local_video",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(ML.CONTROL,n,!0,!0)}catch(e){throw sI.warning("[".concat(this.store.clientId,"] gateway unmuteLocal warning: "),e),e}}async muteRemote(e,t){const n={action:e===fM.AUDIO?"mute_remote_audio":"mute_remote_video",p2p_id:this.store.p2pId,stream_id:t};try{await this.signal.request(ML.CONTROL,n,!0,!0)}catch(e){throw sI.warning("[".concat(this.store.clientId,"] gateway muteRemote warning: "),e),e}}async unmuteRemote(e,t){const n={action:e===fM.AUDIO?"unmute_remote_audio":"unmute_remote_video",p2p_id:this.store.p2pId,stream_id:t};try{await this.signal.request(ML.CONTROL,n,!0,!0)}catch(e){throw sI.warning("[".concat(this.store.clientId,"] gateway unmuteRemote warning: "),e),e}}uploadWRTCStats(e){this.signal.uploadWRTCStats(e)}upload(e,t){this.signal.upload(e,t)}getSignalRTT(){return this.signal.rtt}async restartICE(e){const t={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:e};try{return await this.signal.request(ML.RESTART_ICE,t,!0)}catch(e){throw sI.warning("[".concat(this.store.clientId,"] P2PChannel.restartICE warning: "),e),e}}reconnect(e,t){"CONNECTED"===this.state&&this.signal.reconnect(e||void 0,t||nk.P2P_FAILED)}getCurrentGatewayAddress(){var e,t;if(!AR("GATEWAY_WSS_ADDRESS"))return AR("USE_CANDIDATE_FROM_AP_DETAIL")&&null!==(e=this.joinInfo)&&void 0!==e&&e.apGatewayAddress?(sI.debug("[".concat(this.store.clientId,"] use candidate from ap detail, ").concat(JSON.stringify(this.joinInfo.apGatewayAddress))),this.joinInfo.apGatewayAddress):null!==(t=this.joinInfo)&&void 0!==t&&t.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(e){await this.signal.request(ML.SET_PARAMETER,{enablePublishAudioFilter:e})}downgradeCodec(e){this.signal.downgradeCodec(e)}}let iF=0,rF=0;function aF(e,t,n,i){return new np((r,a)=>{t.timeout=t.timeout||AR("HTTP_CONNECT_TIMEOUT"),t.responseType=t.responseType||"json",t.data&&!n?(t.data=JSON.stringify(t.data),iF+=xk(t.data)):n&&(t.data.size?iF+=t.data.size:t.data instanceof FormData?iF+=wk(t.data):iF+=xk(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.method="POST",t.url=e,LN.request(t).then(e=>{"string"==typeof e.data?rF+=xk(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?rF+=e.data.byteLength:rF+=xk(JSON.stringify(e.data)),i&&r({data:e.data,headers:e.headers}),r(e.data)}).catch(e=>{LN.isCancel(e)?a(new fI(AA.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===e.code?a(new fI(AA.NETWORK_TIMEOUT,e.message)):e.response?a(new fI(AA.NETWORK_RESPONSE_ERROR,e.response.status)):a(new fI(AA.NETWORK_ERROR,e.message))})})}!function(){var e;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var i,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},a=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t];for(var n=0;n<e.length;++n){var i=e[n];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function s(e,t){if(t)e:{var n=a;e=e.split(".");for(var i=0;i<e.length-1;i++){var s=e[i];if(!(s in n))break e;n=n[s]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}function o(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function l(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}if(s("Symbol",function(e){function t(e,t){this.A=e,r(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.A};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return function e(r){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(n+(r||"")+"_"+i++,r)}}),s("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<t.length;i++){var s=a[t[i]];"function"==typeof s&&"function"!=typeof s.prototype[e]&&r(s.prototype,e,{configurable:!0,writable:!0,value:function(){return o(n(this))}})}return e}),"function"==typeof Object.setPrototypeOf)i=Object.setPrototypeOf;else{var c;e:{var d={};try{d.__proto__={a:!0},c=d.a;break e}catch(e){}c=!1}i=c?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var u=i;function h(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function p(e){if(e.m)throw new TypeError("Generator is already running");e.m=!0}function m(e,t){return e.h=3,{value:t}}function f(e){this.g=new h,this.G=e}function g(e,t,n,i){try{var r=t.call(e.g.j,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.m=!1,r;var a=r.value}catch(t){return e.g.j=null,e.g.s(t),_(e)}return e.g.j=null,i.call(e.g,a),_(e)}function _(e){for(;e.g.h;)try{var t=e.G(e.g);if(t)return e.g.m=!1,{value:t.value,done:!1}}catch(t){e.g.v=void 0,e.g.s(t)}if(e.g.m=!1,e.g.l){if(t=e.g.l,e.g.l=null,t.F)throw t.D;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function v(e){this.next=function(t){return e.o(t)},this.throw=function(t){return e.s(t)},this.return=function(t){return function(e,t){p(e.g);var n=e.g.j;return n?g(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),_(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function b(e,t){return t=new v(new f(t)),u&&e.prototype&&u(t,e.prototype),t}if(h.prototype.o=function(e){this.v=e},h.prototype.s=function(e){this.l={D:e,F:!0},this.h=this.C||this.u},h.prototype.return=function(e){this.l={return:e},this.h=this.u},f.prototype.o=function(e){return p(this.g),this.g.j?g(this,this.g.j.next,e,this.g.o):(this.g.o(e),_(this))},f.prototype.s=function(e){return p(this.g),this.g.j?g(this,this.g.j.throw,e,this.g.o):(this.g.s(e),_(this))},s("Array.prototype.entries",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,function(e,t){return[e,t]})}}),"undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var y=function(e,t){for(var n=0;n<e.length;n++)t(e[n])},x=function(e){return e.replace(/\r?\n|\r/g,"\r\n")},w=function(e,t,n){return t instanceof Blob?(n=void 0!==n?String(n+""):"string"==typeof t.name?t.name:"blob",t.name===n&&"[object Blob]"!==Object.prototype.toString.call(t)||(t=new File([t],n)),[String(e),t]):[String(e),String(t)]},E=function(e,t){if(e.length<t)throw new TypeError(t+" argument required, but only "+e.length+" present.")},S="object"==typeof globalThis?globalThis:"object"==typeof window?window:"object"==typeof self?self:this,C=S.FormData,T=S.XMLHttpRequest&&S.XMLHttpRequest.prototype.send,N=S.Request&&S.fetch,A=S.navigator&&S.navigator.sendBeacon,k=S.Element&&S.Element.prototype,R=S.Symbol&&Symbol.toStringTag;R&&(Blob.prototype[R]||(Blob.prototype[R]="Blob"),"File"in S&&!File.prototype[R]&&(File.prototype[R]="File"));try{new File([],"")}catch(e){S.File=function(e,t,n){return e=new Blob(e,n||{}),Object.defineProperties(e,{name:{value:t},lastModified:{value:+(n&&void 0!==n.lastModified?new Date(n.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),R&&Object.defineProperty(e,R,{value:"File"}),e}}var I=function(e){return e.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},O=function(e){this.i=[];var t=this;e&&y(e.elements,function(e){if(e.name&&!e.disabled&&"submit"!==e.type&&"button"!==e.type&&!e.matches("form fieldset[disabled] *"))if("file"===e.type){var n=e.files&&e.files.length?e.files:[new File([],"",{type:"application/octet-stream"})];y(n,function(n){t.append(e.name,n)})}else"select-multiple"===e.type||"select-one"===e.type?y(e.options,function(n){!n.disabled&&n.selected&&t.append(e.name,n.value)}):"checkbox"===e.type||"radio"===e.type?e.checked&&t.append(e.name,e.value):(n="textarea"===e.type?x(e.value):e.value,t.append(e.name,n))})};if((e=O.prototype).append=function(e,t,n){E(arguments,2),this.i.push(w(e,t,n))},e.delete=function(e){E(arguments,1);var t=[];e=String(e),y(this.i,function(n){n[0]!==e&&t.push(n)}),this.i=t},e.entries=function e(){var t,n=this;return b(e,function(e){if(1==e.h&&(t=0),3!=e.h)return t<n.i.length?e=m(e,n.i[t]):(e.h=0,e=void 0),e;t++,e.h=2})},e.forEach=function(e,t){E(arguments,1);for(var n=l(this),i=n.next();!i.done;i=n.next()){var r=l(i.value);i=r.next().value,r=r.next().value,e.call(t,r,i,this)}},e.get=function(e){E(arguments,1);var t=this.i;e=String(e);for(var n=0;n<t.length;n++)if(t[n][0]===e)return t[n][1];return null},e.getAll=function(e){E(arguments,1);var t=[];return e=String(e),y(this.i,function(n){n[0]===e&&t.push(n[1])}),t},e.has=function(e){E(arguments,1),e=String(e);for(var t=0;t<this.i.length;t++)if(this.i[t][0]===e)return!0;return!1},e.keys=function e(){var t,n,i,r=this;return b(e,function(e){if(1==e.h&&(t=l(r),n=t.next()),3!=e.h)return n.done?void(e.h=0):(i=n.value,m(e,l(i).next().value));n=t.next(),e.h=2})},e.set=function(e,t,n){E(arguments,2),e=String(e);var i=[],r=w(e,t,n),a=!0;y(this.i,function(t){t[0]===e?a&&(a=!i.push(r)):i.push(t)}),a&&i.push(r),this.i=i},e.values=function e(){var t,n,i,r,a=this;return b(e,function(e){if(1==e.h&&(t=l(a),n=t.next()),3!=e.h)return n.done?void(e.h=0):(i=n.value,(r=l(i)).next(),m(e,r.next().value));n=t.next(),e.h=2})},O.prototype._asNative=function(){for(var e=new C,t=l(this),n=t.next();!n.done;n=t.next()){var i=l(n.value);n=i.next().value,i=i.next().value,e.append(n,i)}return e},O.prototype._blob=function(){var e="----formdata-polyfill-"+Math.random(),t=[],n="--"+e+'\r\nContent-Disposition: form-data; name="';return this.forEach(function(e,i){return"string"==typeof e?t.push(n+I(x(i))+'"\r\n\r\n'+x(e)+"\r\n"):t.push(n+I(x(i))+'"; filename="'+I(e.name)+'"\r\nContent-Type: '+(e.type||"application/octet-stream")+"\r\n\r\n",e,"\r\n")}),t.push("--"+e+"--"),new Blob(t,{type:"multipart/form-data; boundary="+e})},O.prototype[Symbol.iterator]=function(){return this.entries()},O.prototype.toString=function(){return"[object FormData]"},k&&!k.matches&&(k.matches=k.matchesSelector||k.mozMatchesSelector||k.msMatchesSelector||k.oMatchesSelector||k.webkitMatchesSelector||function(e){for(var t=(e=(this.document||this.ownerDocument).querySelectorAll(e)).length;0<=--t&&e.item(t)!==this;);return-1<t}),R&&(O.prototype[R]="FormData"),T){var j=S.XMLHttpRequest.prototype.setRequestHeader;S.XMLHttpRequest.prototype.setRequestHeader=function(e,t){j.call(this,e,t),"content-type"===e.toLowerCase()&&(this.B=!0)},S.XMLHttpRequest.prototype.send=function(e){e instanceof O?(e=e._blob(),this.B||this.setRequestHeader("Content-Type",e.type),T.call(this,e)):T.call(this,e)}}N&&(S.fetch=function(e,t){return t&&t.body&&t.body instanceof O&&(t.body=t.body._blob()),N.call(this,e,t)}),A&&(S.navigator.sendBeacon=function(e,t){return t instanceof O&&(t=t._asNative()),A.call(this,e,t)}),S.FormData=O}}();const sF=()=>{const e=AR("AREAS");return 0===e.length&&e.push(oM.GLOBAL),rr(e).call(e,(e,t,n)=>{const i=oF(t);return i?0===n?i:"".concat(e,",").concat(i):e},"")},oF=e=>e===oM.OVERSEA?"".concat(cM.ASIA,",").concat(cM.EUROPE,",").concat(cM.AFRICA,",").concat(cM.NORTH_AMERICA,",").concat(cM.SOUTH_AMERICA,",").concat(cM.OCEANIA):cM[e],lF=e=>{const t={CODE:"",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return e.map(e=>{const n=dM[e],i=Object.keys(n);i&&i.map(e=>{"CODE"!==e&&(t[e]=t[e].concat(n[e]))})}),t},cF={GLOBAL:{ASIA:[oM.CHINA,oM.JAPAN,oM.INDIA,oM.KOREA,oM.HKMC],EUROPE:[],NORTH_AMERICA:[oM.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},dF=Object.keys(cF[oM.GLOBAL]),uF=[oM.CHINA,oM.NORTH_AMERICA,oM.EUROPE,oM.ASIA,oM.JAPAN,oM.INDIA,oM.OCEANIA,oM.SOUTH_AMERICA,oM.AFRICA,oM.KOREA,oM.HKMC,oM.US],hF=function(e,t){let n=[];if(Pi(e).call(e,oM.GLOBAL)){const a=[oM.GLOBAL,oM.OVERSEA],s=Object.keys(dM);if(t===oM.GLOBAL)throw new fI(AA.INVALID_PARAMS,"GLOBAL is an invalid excludedArea value");if(t===oM.CHINA)n=[oM.OVERSEA];else if(r=t,Pi(dF).call(dF,r)){const e=(i=t,cF[oM.GLOBAL][i]||[]),r=[...a,t,...e];n=s.filter(e=>!Pi(r).call(r,e))}else if(function(e){let t=!1;return dF.forEach(n=>{var i;Pi(i=cF[oM.GLOBAL][n]).call(i,e)&&(t=!0)}),t}(t)){const e=function(e){let t;return dF.forEach(n=>{var i;Pi(i=cF[oM.GLOBAL][n]).call(i,e)&&(t=n)}),t}(t),i=[...a,e,t];n=s.filter(e=>!Pi(i).call(i,e))}else n=e;n=function(e){const t=[];return uF.forEach(n=>{Pi(e).call(e,n)&&t.push(n)}),t.concat(e.filter(e=>!Pi(uF).call(uF,e)))}(n)}else n=e;var i,r;return n};function pF(e){var t,n;if(!e&&Pi(t=AR("AREAS")).call(t,oM.EXTENSIONS))return sI.debug("update area from ap : reset"),void mF(VD,!0);if(!Pi(n=AR("AREAS")).call(n,oM.GLOBAL)||!e)return;let i=dM.EXTENSIONS;i&&(i={CODE:oF(oM.EXTENSIONS),WEBCS_DOMAIN:["ap-web-1-".concat(e,".agora.io")],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-".concat(e,".ap.sd-rtn.com")],PROXY_CS:["proxy-ap-web-".concat(e,".agora.io")],CDS_AP:["cds-ap-web-1-".concat(e,".agora.io"),"cds-ap-web-2-".concat(e,".ap.sd-rtn.com")],ACCOUNT_REGISTER:["sua-ap-web-1-".concat(e,".agora.io"),"sua-ap-web-2-".concat(e,".ap.sd-rtn.com")],UAP_AP:["uap-ap-web-1-".concat(e,".agora.io"),"uap-ap-web-2-".concat(e,".ap.sd-rtn.com")],EVENT_REPORT_DOMAIN:["statscollector-1-".concat(e,".agora.io")],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-".concat(e,".agora.io")],LOG_UPLOAD_SERVER:["logservice-".concat(e,".agora.io")],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy-".concat(e,".agora.io")]},sI.debug("update area from ap success: ".concat(e,",config is "),i),NR("AREAS",[oM.EXTENSIONS],!0),Object.keys(i).map(e=>{NR(e,"LOG_UPLOAD_SERVER"===e||"EVENT_REPORT_DOMAIN"===e||"EVENT_REPORT_BACKUP_DOMAIN"===e||"PROXY_SERVER_TYPE3"===e?i[e][0]:i[e])}))}function mF(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=mI.reportApiInvoke(null,{name:YA.SET_AREA,options:e,tag:XA.TRACER});try{let i=[];if("string"==typeof e&&(i=[e]),Array.isArray(e)&&(e.forEach(e=>{if(!Pi(lM).call(lM,e))throw new fI(AA.INVALID_PARAMS,"invalid area code")}),i=e),"[object Object]"===Object.prototype.toString.call(e)){const{areaCode:t,excludedArea:n}=e;if(!t)throw new fI(AA.INVALID_PARAMS,"area code is needed");let r=t;"string"==typeof t&&(r=[t]),i=n?hF(r,n):r}if(!t){if(RR.AREAS){const e=new fI(AA.PROHIBITED_OPERATION,"setArea is prohibited because of config-distribute");return n.onError(e),void sI.warning("setArea is prohibited because of config-distribute")}if(Pi(i).call(i,oM.GLOBAL)&&AR("AREAS")===oM.EXTENSIONS){const e=new fI(AA.PROHIBITED_OPERATION,"setArea is prohibited because of ap extensions");return n.onError(e),void sI.warning("setArea is prohibited because of ap extensions")}}NR("AREAS",i,t);const r=lF(i);Object.keys(r).map(e=>{NR(e,"LOG_UPLOAD_SERVER"===e||"EVENT_REPORT_DOMAIN"===e||"EVENT_REPORT_BACKUP_DOMAIN"===e||"PROXY_SERVER_TYPE3"===e?r[e][0]:r[e])}),sI.debug("set area success:",i.join(","))}catch(e){throw n.onError(e),e}n.onSuccess()}function fF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function gF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fF(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let _F=1;function vF(e,t,n,i,r){_F+=1;const a={sid:n.sid,command:"convergeAllocateEdge",uid:"666",appId:n.appId,ts:Math.floor(Date.now()/1e3),seq:_F,requestId:_F,version:vR,cname:n.cname},s={service_name:t,json_body:JSON.stringify(a)};let o,l,c=e[0];return zk(async()=>{o=Date.now();const e=await aF(c,{data:s,cancelToken:i,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}});if(l=Date.now()-o,0!==e.code){const t=new fI(AA.UNEXPECTED_RESPONSE,"live streaming ap error, code"+e.code,{retry:!0,responseTime:l});throw sI.error(t.toString()),t}const n=JSON.parse(e.json_body);if(200!==n.code){const e=new fI(AA.UNEXPECTED_RESPONSE,"live streaming app center error, code: ".concat(n.code,", reason: ").concat(n.reason),{code:n.code,responseTime:l});throw sI.error(e.toString()),e}if(!n.servers||0===n.servers.length){const e=new fI(AA.UNEXPECTED_RESPONSE,"live streaming app center empty server",{code:n.code,responseTime:l});throw sI.error(e.toString()),e}const r=function(e,t){return{addressList:e.servers.map(e=>"wss://".concat(e.address.replace(/\./g,"-"),".").concat(AR("WORKER_DOMAIN"),":").concat(e.wss,"?serviceName=").concat(encodeURIComponent(t))),workerToken:e.workerToken,vid:e.vid}}(n,t);return AR("LIVE_STREAMING_ADDRESS")&&(r.addressList=AR("LIVE_STREAMING_ADDRESS")instanceof Array?AR("LIVE_STREAMING_ADDRESS"):[AR("LIVE_STREAMING_ADDRESS")]),gF(gF({},r),{},{responseTime:l})},(i,r)=>(mI.apworkerEvent(n.sid,{success:!0,sc:200,serviceName:t,responseDetail:JSON.stringify(i.addressList),firstSuccess:0===r,responseTime:l,serverIp:e[r%e.length]}),!1),(i,r)=>(mI.apworkerEvent(n.sid,{success:!1,sc:i.data&&i.data.code||200,serviceName:t,responseTime:l,serverIp:e[r%e.length]}),!!(i.code!==AA.OPERATION_ABORTED&&i.code!==AA.UNEXPECTED_RESPONSE||i.data&&i.data.retry)&&(c=e[(r+1)%e.length],!0)),r)}let bF=1;function yF(e,t,n,i){let{url:r,areaCode:a}=e;const{clientId:s,sid:o}=t,l=Date.now();let c;const d=t.role,[u,h]=CF(t,a,[$M.CHOOSE_SERVER]);let p=ck.networkState;return zk(async()=>{p&&ck.networkState===ik.OFFLINE&&ck.onlineWaiter&&await np.race([ck.onlineWaiter,Sk(i&&i.maxRetryTimeout||Bk.maxRetryTimeout)]),p=ck.networkState;const{data:e,headers:a}=await aF(r,{data:u,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);c="1"===a.http3?1:-1,mI.reportResourceTiming(r,o),wF(e,r,t,l,[$M.CHOOSE_SERVER],c);const s=lU(e,$M.CHOOSE_SERVER);return EF(s),rU(s,r)},e=>(e&&mI.joinChooseServer(o,{role:d,lts:l,succ:!0,csAddr:r,opid:h,serverList:e.gatewayAddrs.map(e=>e.address),ec:null,cid:e.cid.toString(),uid:e.uid.toString(),csIp:e.csIp,unilbsServerIds:[$M.CHOOSE_SERVER].toString(),isHttp3:c,corssRegionTagReq:t.apRequestDetail,corssRegionTagRes:e.res.detail&&e.res.detail[38]}),!1),e=>e.code!==AA.OPERATION_ABORTED&&(e.code===AA.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(mI.joinChooseServer(o,{role:d,lts:l,succ:!1,csAddr:r,serverList:null,opid:h,ec:e.code,csIp:e.data&&e.data.csIp,unilbsServerIds:[$M.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:p}),isHttp3:c,corssRegionTagReq:t.apRequestDetail}),sI.warning("[".concat(s||"sid-".concat(o.slice(0,6)),"] Choose server network error, retry"),e),!0)),i)}function xF(e,t,n,i){let r,{url:a,areaCode:s,serviceIds:o}=e;const l=Date.now(),c=t.role,[d,u]=CF(t,s,o);let h;return zk(async()=>{h&&ck.networkState===ik.OFFLINE&&ck.onlineWaiter&&await np.race([ck.onlineWaiter,Sk(i&&i.maxRetryTimeout||Bk.maxRetryTimeout)]),h=ck.networkState;const{data:e,headers:s}=await aF(a,{data:d,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);r="1"===s.http3?1:-1,mI.reportResourceTiming(a,t.sid),wF(e,a,t,l,o,r);const c=lU(e,$M.CHOOSE_SERVER),u=lU(e,"proxy5"===t.cloudProxyServer?$M.CLOUD_PROXY_5:"proxy3"===t.cloudProxyServer||"proxy4"===t.cloudProxyServer?$M.CLOUD_PROXY:$M.CLOUD_PROXY_FALLBACK),p=performance.getEntriesByName(a),m=p[p.length-1];let f;return m&&(f={name:m.name,protocol:"nextHopProtocol"in m?m.nextHopProtocol:"",dnscost:"domainLookupEnd"in m&&"domainLookupStart"in m&&"number"==typeof m.domainLookupEnd&&"number"==typeof m.domainLookupStart?m.domainLookupEnd-m.domainLookupStart:-1,tcpTlsCost:"connectEnd"in m&&"connectStart"in m&&"number"==typeof m.connectEnd&&"number"==typeof m.connectStart?m.connectEnd-m.connectStart:-1,reqCost:"requestStart"in m&&"number"==typeof m.requestStart&&"responseEnd"in m&&"number"==typeof m.responseEnd?m.responseEnd-m.requestStart:-1,handleCost:"leave_ts"in e&&"enter_ts"in e&&"number"==typeof e.leave_ts&&"number"==typeof e.enter_ts?e.leave_ts-e.enter_ts:-1}),EF(c),{gatewayInfo:rU(c,a),proxyInfo:u,url:a,resourceTimingInfo:f}},e=>(e.gatewayInfo&&mI.joinChooseServer(t.sid,{role:c,lts:l,succ:!0,csAddr:a,serverList:e.gatewayInfo.gatewayAddrs.map(e=>e.address),ec:null,opid:u,cid:e.gatewayInfo.cid.toString(),uid:e.gatewayInfo.uid.toString(),csIp:e.gatewayInfo.csIp,unilbsServerIds:o.toString(),isHttp3:r,corssRegionTagReq:t.apRequestDetail,corssRegionTagRes:e.gatewayInfo.res.detail&&e.gatewayInfo.res.detail[38],resourceTimingInfo:e.resourceTimingInfo?JSON.stringify(e.resourceTimingInfo):void 0}),e.proxyInfo&&mI.joinWebProxyAP(t.sid,{lts:l,sucess:1,apServerAddr:a,turnServerAddrList:e.proxyInfo.addresses.map(e=>e.ip).join(","),errorCode:null,eventType:t.cloudProxyServer,unilbsServerIds:o.toString()}),!1),e=>e.code!==AA.OPERATION_ABORTED&&(e.code===AA.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(mI.joinWebProxyAP(t.sid,{lts:l,sucess:0,apServerAddr:a,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer,unilbsServerIds:o.toString(),extend:JSON.stringify({networkState:h})}),sI.warning("[".concat(t.clientId,"] multi unilbs network error, retry"),e),!0)),i)}const wF=(e,t,n,i,r,a)=>{const{sid:s,clientId:o,cloudProxyServer:l}=n,c=[],d=o=>{4096===o.flag?mI.joinChooseServer(s,{role:n.role,lts:i,succ:!1,csAddr:t,opid:e.opid,serverList:null,ec:o.error.message,csIp:o.error.data&&o.error.data.csIp,unilbsServerIds:r.toString(),isHttp3:a,corssRegionTagReq:n.apRequestDetail}):1048576!==o.flag&&4194304!==o.flag&&4194310!==o.flag||mI.joinWebProxyAP(s,{lts:i,sucess:0,apServerAddr:t,turnServerAddrList:null,errorCode:o.error.code,eventType:l,unilbsServerIds:r.toString()})};if(e.response_body.forEach(t=>{const n=t.buffer.code;if(23===t.uri&&0===n&&!t.buffer.edges_services)if(4194310===t.buffer.flag)sI.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers"),t.buffer.edges_services=[];else{const n={error:new fI(AA.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:e.detail[502]}),flag:t.buffer.flag};c.push(n),d(n)}if(0!==n){const i=DM(n),r={error:new fI(AA.CAN_NOT_GET_GATEWAY_SERVER,i.desc,{desc:i.desc,retry:i.retry,csIp:e.detail[502]}),flag:t.buffer.flag};4194310===t.buffer.flag?sI.warning(r.error.toString()):c.push(r),d(r)}}),c.length)throw sI.warning("[".concat(o||"sid-".concat(s.slice(0,6)),"] multi unilbs ").concat(t," failed, ").concat(c.map(e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message,", retry: ").concat(e.error.data.retry)).join(" | "))),new fI(AA.CAN_NOT_GET_GATEWAY_SERVER,c.map(e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message)).join(" | "),{retry:!!c.find(e=>e.error.data.retry),csIp:e.detail[502],desc:[...new Set(c.map(e=>{var t;return null==e||null===(t=e.error)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.desc}).filter(e=>!!e))]})},EF=e=>{var t,n,i,r;if(e.addresses&&0===e.addresses.length&&0===e.code)throw new fI(AA.CAN_NOT_GET_GATEWAY_SERVER,"void gateway address",{retry:!0,csIp:e.detail&&e.detail[502]});if(AR("AP_AREA")&&(null!==(i=e.detail)&&void 0!==i&&i[23]&&"string"==typeof(null===(r=e.detail)||void 0===r?void 0:r[23])?pF(e.detail[23].toLowerCase()):pF()),null!==(t=e.detail)&&void 0!==t&&t[19]&&"string"==typeof(null===(n=e.detail)||void 0===n?void 0:n[19])){const t=e.detail[19],n=null==t?void 0:t.split(";");for(let i=0;i<n.length;i++){var a;const t=Ob(a=n[i]).call(a);e.addresses[i]&&n&&(e.addresses[i].fingerprint=t)}}if(AR("GATEWAY_ADDRESS")&&AR("GATEWAY_ADDRESS").length>0){sI.debug("assign gateway address to",AR("GATEWAY_ADDRESS"));const t=AR("GATEWAY_ADDRESS").map(t=>{var n,i;const r=null!==(n=null===(i=e.addresses.find(e=>e.ip===t.ip&&e.port===t.port))||void 0===i?void 0:i.fingerprint)&&void 0!==n?n:"";return{ip:t.ip,port:t.port,ticket:e.addresses[0]&&e.addresses[0].ticket,fingerprint:r}});e.addresses=t}},SF=(e,t)=>{if(e.response_body&&e.response_body.length){const t=e.response_body[0];if(0!==t.buffer.code){const e=DM(t.buffer.code);throw new fI(AA.UPDATE_TICKET_FAILED,"[".concat(t.buffer.code,"]: ").concat(e.desc),{retry:e.retry})}return t.buffer.ticket}throw sI.debug("update ticket request received ap response without response body:",t),new fI(AA.UPDATE_TICKET_FAILED,"cannot find response body from ap response",{retry:!1})},CF=(e,t,n)=>{const i=Math.floor(Math.random()*10**12),r="host"===e.role?"1":"audience"===e.role?"2":void 0,a={appid:e.appId,client_ts:Date.now(),opid:i,sid:e.sid,request_bodies:[{uri:22,buffer:{cname:e.cname,detail:gF(gF(gF({6:e.stringUid,11:t,12:AR("USE_NEW_TOKEN")?"1":void 0},r?{17:r}:{}),{},{22:t},e.apRequestDetail?{33:e.apRequestDetail}:{}),e.apRTM?{26:"RTM2"}:{}),key:e.token,service_ids:n,uid:e.uid||0}}]};a.request_bodies.forEach(t=>{e.multiIP&&e.multiIP.gateway_ip&&(t.buffer.detail[5]=JSON.stringify({vocs_ip:[e.multiIP.uni_lbs_ip],vos_ip:[e.multiIP.gateway_ip]}))});const s=new FormData;return s.append("request",JSON.stringify(a)),[s,i]},TF=(e,t)=>{const n=Math.floor(Math.random()*10**12),i={appid:e.appId,client_ts:Date.now(),opid:n,sid:e.sid,request_bodies:[{uri:28,buffer:{cname:e.cname,detail:{1:"",6:e.stringUid,12:"1"},token:e.token,service_ids:t,uid:e.uid||0,edges_services:e.apResponse.addresses.map(e=>({ip:e.ip,port:e.port}))}}]},r=new FormData;return r.append("request",JSON.stringify(i)),[r,n]};let NF=0;function AF(e){return np.all(e.map(e=>e.then(e=>{throw e},e=>e))).then(e=>{throw e},e=>e)}const kF=async e=>{let{fragementLength:t,referenceList:n,asyncMapHandler:i,allFailedhandler:r,promisesCollector:a}=e,s=0;const o=t;let l,c=0;const d=async()=>{const e=(()=>{const e=s*o,t=e+o;return n.slice(e,t).map(i)})();a&&a.push(...e);try{l=await AF(e)}catch(e){if(c+=o,s++,!(c>=n.length))return void await d();r(e)}e.forEach(e=>e.cancel())};return await d(),l},RF=async e=>{let{referenceList:t,asyncMapHandler:n,closeFn:i}=e;const r=t.length;let a=0;const s=async()=>{const e=n(t.shift());try{return await e}catch(e){if(a++,a>=r||null!=i&&i(e))throw e;return s()}};return s()};async function IF(){if("undefined"==typeof VideoDecoder)return!0;let e;const t=[18,0,10,13,0,0,0,3,180,253,144,6,136,8,8,8,32,50,85,16,66,128,2,8,32,132,0,8,0,180,90,204,169,166,242,109,241,190,143,149,160,133,4,144,43,122,168,159,120,159,205,39,82,131,57,52,87,187,68,23,248,134,204,226,97,17,49,183,55,236,219,249,221,98,208,215,190,59,179,167,213,47,1,246,150,14,194,245,159,83,35,64,103,218,38,21,82,3,135,21,185,84,248,134],n=[18,0,10,13,0,0,0,3,180,253,144,6,136,8,8,8,32,50,87,16,66,128,2,8,32,132,0,8,0,180,90,204,169,166,242,109,241,190,143,148,62,134,140,92,172,141,77,35,94,181,164,65,169,65,156,154,43,221,162,11,252,67,102,113,48,136,137,219,62,43,113,239,23,126,250,186,252,10,138,218,25,193,244,74,68,194,209,107,23,52,206,199,78,72,98,103,151,71,96,62,51,210,158,72,231,158],i=[18,0,10,13,0,0,0,3,180,253,144,6,136,8,8,8,32,50,87,16,66,128,2,8,32,132,0,8,0,180,90,204,169,166,242,109,241,190,143,143,233,163,51,196,98,95,151,224,22,134,33,240,150,248,67,18,34,196,142,81,238,173,140,80,205,232,132,144,67,12,131,157,4,171,243,86,122,35,6,166,184,243,85,126,13,206,103,152,62,168,160,187,2,241,138,52,211,72,121,128,151,63,147,128,19,42],r=[18,0,50,138,1,48,192,64,253,248,65,17,67,192,32,0,16,0,0,0,0,0,0,0,195,12,48,144,64,32,0,209,75,61,9,204,25,115,79,226,115,63,63,208,70,210,220,153,126,241,237,37,107,195,153,1,99,112,230,189,209,169,130,10,11,22,167,215,159,205,197,7,183,162,26,48,254,141,134,103,32,16,235,45,1,15,18,119,169,110,206,251,51,115,202,60,148,1,46,39,109,25,28,86,168,15,77,211,239,2,58,43,146,26,230,184,81,48,140,226,226,250,222,146,171,133,164,13,188,180,64,122,142,146,32,208,238,170,193,35,53,44,225],a=[18,0,50,107,48,0,133,125,248,65,26,195,64,62,32,31,16,0,0,0,0,0,1,4,16,64,144,64,32,0,204,24,122,65,56,165,18,52,206,218,4,187,51,97,9,29,191,90,253,106,185,31,197,155,52,205,245,185,203,131,20,226,25,124,95,113,220,113,141,15,15,104,211,144,152,237,150,157,127,51,143,24,231,218,171,255,176,241,128,229,149,150,148,66,245,228,91,27,182,228,136,61,182,237,133,45,220,24,103,214,152],s=[18,0,50,122,48,1,9,253,248,65,26,67,64,62,32,31,16,0,0,0,0,0,1,4,16,64,144,64,32,0,198,182,231,242,220,235,163,140,12,36,36,166,46,132,210,4,71,23,218,132,27,30,17,45,244,79,31,243,195,136,100,169,76,88,142,85,204,217,121,168,29,163,198,17,251,223,73,12,212,244,139,123,151,179,75,216,96,208,136,40,229,42,59,149,10,116,228,85,99,93,221,108,255,140,248,20,30,167,122,109,206,164,108,197,110,251,23,243,133,160,63,13,207,177,12,128],o=await new np((o,l)=>{let c;!async function(){e&&"closed"!==e.state||await async function(){e=new VideoDecoder({output:e=>{e.close(),clearTimeout(c),o(!0)},error:e=>{clearTimeout(c),o(!1)}}),await e.configure({codec:"av01.0.05M.08",width:160,height:90})}();const l=[t,n,i,r,a,s];for(let t=0;t<l.length;t++){const n=new EncodedVideoChunk({type:0==t?"key":"delta",timestamp:33333*t,duration:33333,data:new Uint8Array(l[t])});try{await e.decode(n)}catch(e){return void o(!1)}}}(),c=setTimeout(()=>{o(!1)},5e3)});return o}async function OF(e,t,n,i){const r=async function(e,t,n,i){let r=null;const a=[],s=async()=>{const r=AR("WEBCS_DOMAIN").slice(0,AR("AJAX_REQUEST_CONCURRENT")).map(t=>({url:e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2"),areaCode:sF()})),s=i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:r.map(e=>e.url)}),o=await kF({fragementLength:AR("FRAGEMENT_LENGTH"),referenceList:r,asyncMapHandler:i=>(sI.debug("[".concat(e.clientId,"] Connect to choose_server:"),i.url),yF(i,e,t,n)),allFailedhandler:e=>{throw i.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},s),e[0]},promisesCollector:a});return i.recordJoinChannelService({endTs:Date.now(),status:"success"},s),o},o=async()=>{if(await Sk(1e3),null!==r)return r;const s=AR("WEBCS_DOMAIN_BACKUP_LIST").map(t=>({url:e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2"),areaCode:sF()})),o=i.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:"pending",service:"chooseServer",urls:s.map(e=>e.url)}),l=await kF({fragementLength:AR("FRAGEMENT_LENGTH"),referenceList:s,asyncMapHandler:i=>(sI.debug("[".concat(e.clientId,"] Connect to backup choose_server:"),i.url),yF(i,e,t,n)),allFailedhandler:e=>{throw i.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},o),e[0]},promisesCollector:a});return i.recordJoinChannelService({endTs:Date.now(),status:"success"},o),l};try{return r=await AF([s(),o()]),a.length&&a.forEach(e=>e.cancel&&"function"==typeof e.cancel&&e.cancel()),r}catch(e){throw e[0]}}(e,t,n,i);return{gatewayInfo:await r}}async function jF(e,t,n,i,r){const a=e.cloudProxyServer;if("disabled"===a){if(!i)return;if(e.useLocalAccessPoint)return await OF(e,t,n,r);if(AR("JOIN_WITH_FALLBACK_MEDIA_PROXY")){const{gatewayInfo:i,proxyInfo:a}=await UF(e,t,n,r);if(e.turnServer&&"auto"!==e.turnServer.mode)return{gatewayInfo:i};const o=a.map(e=>({turnServerURL:e.address,tcpport:e.tcpport||xR.tcpport,udpport:e.udpport||xR.udpport,username:e.username||xR.username,password:e.password||xR.password,forceturn:!1,security:!0}));if(r.useP2P){var s;const t=null!==(s=e.uid)&&void 0!==s?s:i.uid,n="glb:".concat(t.toString()),r=await HA(n),l=a.map(e=>({turnServerURL:e.address,tcpport:e.tcpport||xR.tcpport,udpport:e.udpport||xR.udpport,username:n,password:r,forceturn:!1,security:!0}));o.push(...l)}return e.turnServer={mode:"manual",servers:o},{gatewayInfo:i}}return await OF(e,t,n,r)}const{proxyInfo:o,gatewayInfo:l}=await UF(e,t,n,r),c={gatewayInfo:l},d=o.map(e=>({turnServerURL:e.address,tcpport:"proxy3"===a?void 0:e.tcpport?e.tcpport:xR.tcpport,udpport:"proxy4"===a?void 0:e.udpport?e.udpport:xR.udpport,username:e.username||xR.username,password:e.password||xR.password,forceturn:"proxy4"!==a,security:"proxy5"===a}));if(r.useP2P){var u;const t=null!==(u=e.uid)&&void 0!==u?u:l.uid,n="glb:".concat(t.toString()),i=await HA(n),r=o.map(e=>({turnServerURL:e.address,tcpport:"proxy3"===a?void 0:e.tcpport||xR.tcpport,udpport:"proxy4"===a?void 0:e.udpport||xR.udpport,username:n,password:i,forceturn:"proxy4"!==a,security:"proxy5"===a}));d.push(...r)}return e.turnServer={mode:"manual",servers:d},sI.debug("[".concat(e.clientId,"] set proxy server: ").concat(e.proxyServer,", mode: ").concat(a)),c}async function PF(e,t,n,i,r){const a=AR("ACCOUNT_REGISTER").slice(0,AR("AJAX_REQUEST_CONCURRENT"));let s=[];s=t.proxyServer?a.map(e=>"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1")):a.map(e=>"https://".concat(e,"/api/v1"));const o=null==r?void 0:r.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"stringUID",urls:s});try{const a=await async function(e,t,n,i,r){const a=Date.now(),s={sid:n.sid,opid:10,appid:n.appId,string_uid:t};let o=e[0];const l=await zk(()=>aF(o+"".concat(-1===o.indexOf("?")?"?":"&","action=stringuid"),{data:s,cancelToken:i,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}}),(n,i)=>{if(0===n.code){if(n.uid<=0||n.uid>=Math.pow(2,32))throw sI.error("Invalid Uint Uid ".concat(t," => ").concat(n.uid),n),mI.reqUserAccount(s.sid,{lts:a,success:!1,serverAddr:o,stringUid:s.string_uid,uid:n.uid,errorCode:AA.INVALID_UINT_UID_FROM_STRING_UID,extend:s}),new fI(AA.INVALID_UINT_UID_FROM_STRING_UID);return mI.reqUserAccount(s.sid,{lts:a,success:!0,serverAddr:o,stringUid:s.string_uid,uid:n.uid,errorCode:null,extend:s}),!1}const r=DM(n.code);return r.retry&&(o=e[(i+1)%e.length]),mI.reqUserAccount(s.sid,{lts:a,success:!1,serverAddr:o,stringUid:s.string_uid,uid:n.uid,errorCode:r.desc,extend:s}),r.retry},(t,n)=>t.code!==AA.OPERATION_ABORTED&&(mI.reqUserAccount(s.sid,{lts:a,success:!1,serverAddr:o,stringUid:s.string_uid,uid:null,errorCode:t.code,extend:s}),o=e[(n+1)%e.length],!0),r);if(0!==l.code){const e=DM(l.code);throw new fI(AA.UNEXPECTED_RESPONSE,e.desc)}return l}(s,e,t,n,i);return null==r||r.recordJoinChannelService({status:"success",endTs:Date.now()},o),a.uid}catch(e){throw null==r||r.recordJoinChannelService({status:"error",endTs:Date.now(),errors:[e]},o),e}}async function DF(e,t,n){const i=AR("ACCOUNT_REGISTER");let r=[];r=t.proxyServer?i.map(e=>"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1")):i.map(e=>"https://".concat(e,"/api/v1"));try{const i=await RF({referenceList:r,asyncMapHandler:i=>async function(e,t,n,i){const r=Date.now(),a={sid:n.sid,opid:10,appid:n.appId,string_uid:t};try{const t=await aF(e+"".concat(-1===e.indexOf("?")?"?":"&","action=stringuid"),{data:a,cancelToken:i,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}});if(0!==t.code){const e=DM(t.code);throw new fI(AA.UNEXPECTED_RESPONSE,"preload sua error:".concat(e.desc),e)}if(t.uid<=0||t.uid>=Math.pow(2,32))throw new fI(AA.INVALID_UINT_UID_FROM_STRING_UID);return{requestTime:r,url:e,req:a,uid:t.uid,elapse:Date.now()-r}}catch(e){throw e}}(i,e,t,n),closeFn:e=>e.code===AA.OPERATION_ABORTED||e.code===AA.UNEXPECTED_RESPONSE&&!e.data.retry});return i}catch(e){throw e}}async function LF(e,t,n){const i=AR("CDS_AP").slice(0,AR("AJAX_REQUEST_CONCURRENT")).map(t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1"):"https://".concat(t,"/api/v1?action=config")),r=i.map(i=>function(e,t,n,i){const r=YN(),a={flag:64,cipher_method:0,features:gF(gF(gF(gF(gF({install_id:_R(),device:r.name,system:r.os,system_general:navigator.userAgent,vendor:t.appId,version:vR,cname:t.cname,session_id:t.sid,proxyServer:t.proxyServer,sdk_type:QM.WEB_RTC,browser_name:r.name,browser_version:r.version,user_agent:navigator.userAgent,channel_name:t.cname},t.stringUid&&{string_uid:t.stringUid}),t.uid&&{uid:t.uid+""}),r.os&&{os_name:r.os}),r.osVersion&&{os_version:r.osVersion}),{},{detail:""})};return zk(()=>aF(e,{data:a,timeout:1e3,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":54}}),void 0,e=>e.code!==AA.OPERATION_ABORTED,i)}(i,e,t,n));let a=null,s=null,o={};try{a=await AF(r)}catch(e){if(e.code===AA.OPERATION_ABORTED)throw e;s=e}if(r.forEach(e=>e.cancel()),mI.reportApiInvoke(e.sid,{name:YA.REQUEST_CONFIG_DISTRIBUTE,options:{error:s,res:a}}).onSuccess(),a&&a.test_tags)try{o=function(e){if(!e.test_tags)return{};const t=e.test_tags,n=Object.keys(t),i={};return n.forEach(e=>{var n;const r=Ob(n=e.slice(4)).call(n),a=JSON.parse(t[e]),s=a[1];i[r]={tag:a[0]||"",value:s}}),i}(a)}catch(e){}return o}async function MF(e,t){const n=AR("WEBCS_DOMAIN").concat(AR("WEBCS_DOMAIN_BACKUP_LIST")).map(e=>({url:"https://".concat(e,"/api/v2/transpond/webrtc?v=2"),areaCode:sF(),serviceIds:[$M.CHOOSE_SERVER,$M.CLOUD_PROXY_FALLBACK]}));try{const i=await RF({referenceList:n,asyncMapHandler:n=>async function(e,t,n){let i,{url:r,areaCode:a,serviceIds:s}=e;const o=Date.now(),[l,c]=CF(t,a,s);let d=ck.networkState;try{d&&ck.networkState===ik.OFFLINE&&ck.onlineWaiter&&await np.race([ck.onlineWaiter,Sk(Bk.maxRetryTimeout)]),d=ck.networkState;const{data:e,headers:t}=await aF(r,{data:l,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);i="1"===t.http3?1:-1;const a=e=>{const t=[];if(e.response_body.forEach(n=>{const i=n.buffer.code;if(23===n.uri&&0===i&&!n.buffer.edges_services)if(4194310===n.buffer.flag)n.buffer.edges_services=[];else{const i={error:new fI(AA.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:e.detail[502]}),flag:n.buffer.flag};t.push(i)}if(0!==i){const r=DM(i),a={error:new fI(AA.CAN_NOT_GET_GATEWAY_SERVER,r.desc,{desc:r.desc,retry:r.retry,csIp:e.detail[502]}),flag:n.buffer.flag};4194310===n.buffer.flag?sI.warning(a.error.toString()):t.push(a)}}),t.length)throw new fI(AA.CAN_NOT_GET_GATEWAY_SERVER,t.map(e=>"flag: ".concat(e.flag,", message: ").concat(e.error.message)).join(" | "),{retry:!!t.find(e=>e.error.data.retry),csIp:e.detail[502],desc:[...new Set(t.map(e=>{var t;return null==e||null===(t=e.error)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.desc}).filter(e=>!!e))]})};a(e);const s=lU(e,$M.CHOOSE_SERVER),u=lU(e,$M.CLOUD_PROXY_FALLBACK);return EF(s),{gatewayInfo:rU(s,r),proxyInfo:u,opid:c,requestTime:o,url:r,isHttp3:i,elapse:Date.now()-o}}catch(e){throw e}}(n,e,t),closeFn:e=>e.code===AA.OPERATION_ABORTED||e.code===AA.CAN_NOT_GET_GATEWAY_SERVER&&!e.data.retry});return i}catch(e){throw e}}async function UF(e,t,n,i){const r=AR("PROXY_SERVER_TYPE3"),a=(e,t,n)=>{let i=n||r;return Array.isArray(i)&&(i=t%2==0&&r[1]||r[0]),"https://".concat(i,"/ap/?url=").concat(e)};let s=null;const o=[],l=async()=>{const r=AR("WEBCS_DOMAIN").slice(0,AR("AJAX_REQUEST_CONCURRENT")).map((t,n)=>{let i;return i="disabled"===e.cloudProxyServer&&e.proxyServer?a("".concat(t,"/api/v2/transpond/webrtc?v=2"),n,e.proxyServer):"disabled"===e.cloudProxyServer||"fallback"===e.cloudProxyServer?"https://".concat(t,"/api/v2/transpond/webrtc?v=2"):a("".concat(t,"/api/v2/transpond/webrtc?v=2"),n),{url:i,areaCode:sF(),serviceIds:[$M.CHOOSE_SERVER,"proxy5"===e.cloudProxyServer?$M.CLOUD_PROXY_5:"proxy3"===e.cloudProxyServer||"proxy4"===e.cloudProxyServer?$M.CLOUD_PROXY:$M.CLOUD_PROXY_FALLBACK]}}),s=i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:r.map(e=>e.url)}),l=await kF({fragementLength:AR("FRAGEMENT_LENGTH"),referenceList:r,asyncMapHandler:i=>(sI.debug("[".concat(e.clientId,"] Connect to choose_server:"),i.url),xF(i,e,t,n)),allFailedhandler:e=>{throw i.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},s),e[0]},promisesCollector:o});return i.recordJoinChannelService({endTs:Date.now(),status:"success"},s),l},c=async()=>{if(await Sk(1e3),null!==s)return s;const r=AR("WEBCS_DOMAIN_BACKUP_LIST").map((t,n)=>{let i;return i="disabled"===e.cloudProxyServer&&e.proxyServer?a("".concat(t,"/api/v2/transpond/webrtc?v=2"),n,e.proxyServer):"disabled"===e.cloudProxyServer||"fallback"===e.cloudProxyServer?"https://".concat(t,"/api/v2/transpond/webrtc?v=2"):a("".concat(t,"/api/v2/transpond/webrtc?v=2"),n),{url:i,areaCode:sF(),serviceIds:[$M.CHOOSE_SERVER,"proxy5"===e.cloudProxyServer?$M.CLOUD_PROXY_5:"proxy3"===e.cloudProxyServer||"proxy4"===e.cloudProxyServer?$M.CLOUD_PROXY:$M.CLOUD_PROXY_FALLBACK]}}),l=i.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:r.map(e=>e.url)}),c=await kF({fragementLength:AR("FRAGEMENT_LENGTH"),referenceList:r,asyncMapHandler:i=>(sI.debug("[".concat(e.clientId,"] Connect to backup choose_server:"),i.url),xF(i,e,t,n)),allFailedhandler:e=>{throw i.recordJoinChannelService({endTs:Date.now(),status:"error",errors:e},l),e[0]},promisesCollector:o});return i.recordJoinChannelService({endTs:Date.now(),status:"success"},l),c};let d,u,h;try{({gatewayInfo:d,proxyInfo:u,url:h}=await AF([l(),c()]))}catch(e){throw e[0]}if(o.length&&o.forEach(e=>e.cancel&&"function"==typeof e.cancel&&e.cancel()),!d||!u)throw new fI(AA.UNEXPECTED_ERROR,"missing gateway or proxy response").print();if(e.apUrl=h,"disabled"!==e.cloudProxyServer&&Array.isArray(r)&&h){const t=/^https?:\/\/(.+?)(\/.*)?$/.exec(h)[1];Pi(r).call(r,t)&&(e.proxyServer=t,sI.setProxyServer(t),mI.setProxyServer(t))}return s={gatewayInfo:d,proxyInfo:await cU(u,d.uid)},s}async function FF(e,t,n){const i=AR("UAP_AP").slice(0,AR("AJAX_REQUEST_CONCURRENT")).map(t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v1?action=uap"):"https://".concat(t,"/api/v1?action=uap")),r=i.map(i=>function(e,t,n,i){const r={command:"convergeAllocateEdge",sid:t.sid,appId:t.appId,token:t.token,ts:Date.now(),version:vR,cname:t.cname,uid:t.uid.toString(),requestId:bF,seq:bF};bF+=1;const a={service_name:"tele_channel",json_body:JSON.stringify(r)};return zk(async()=>{const t=await aF(e,{data:a,cancelToken:n,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});if(0!==t.code){const e=new fI(AA.UNEXPECTED_RESPONSE,"cross channel ap error, code"+t.code,{retry:!0});throw sI.error(e.toString()),e}const i=JSON.parse(t.json_body);if(200!==i.code){const e=new fI(AA.UNEXPECTED_RESPONSE,"cross channel app center error, code: ".concat(i.code,", reason: ").concat(i.reason));throw sI.error(e.toString()),e}if(!i.servers||0===i.servers.length){const e=new fI(AA.UNEXPECTED_RESPONSE,"cross channel app center empty server");throw sI.error(e.toString()),e}return{vid:i.vid,workerToken:i.workerToken,addressList:(AR("CHANNEL_MEDIA_RELAY_SERVERS")||i.servers).map(e=>"wss://".concat(e.address.replace(/\./g,"-"),".").concat(AR("WORKER_DOMAIN"),":").concat(e.wss))}},void 0,e=>!!(e.code!==AA.OPERATION_ABORTED&&e.code!==AA.UNEXPECTED_RESPONSE||e.data&&e.data.retry),i)}(i,e,t,n));try{const e=await AF(r);return r.forEach(e=>e.cancel()),e}catch(e){throw e[0]}}async function BF(e,t,n){let i=null;const r=[],a=async a=>{const s=AR(a?"WEBCS_DOMAIN_BACKUP_LIST":"WEBCS_DOMAIN").map(t=>e.proxyServer?"https://".concat(e.proxyServer,"/ap/?url=").concat(t+"/api/v2/transpond/webrtc?v=2"):"https://".concat(t,"/api/v2/transpond/webrtc?v=2"));return a&&(await Sk(1e3),null!==i)?i:await kF({fragementLength:AR("FRAGEMENT_LENGTH"),referenceList:s,asyncMapHandler:i=>(sI.debug("[".concat(e.clientId,"] update ticket, Connect to ").concat(a?"backup":""," choose_server:"),i),function(e,t,n,i){const[r]=TF(t,[$M.CHOOSE_SERVER]);let a=ck.networkState;return zk(async()=>{a&&ck.networkState===ik.OFFLINE&&ck.onlineWaiter&&await np.race([ck.onlineWaiter,Sk(i&&i.maxRetryTimeout||Bk.maxRetryTimeout)]),a=ck.networkState;const t=await aF(e,{data:r,cancelToken:n,headers:{"Content-Type":"multipart/form-data;"}},!0);return SF(t,e)},()=>!1,e=>e.code!==AA.OPERATION_ABORTED&&(e.code===AA.UPDATE_TICKET_FAILED?e.data.retry:(sI.warning("[".concat(t.clientId,"] update ticket network error, retry"),e),!0)),i)}(i,e,t,n)),allFailedhandler:e=>{throw e[0]},promisesCollector:r})};try{return i=await AF([a(!1),a(!0)]),r.length&&r.forEach(e=>e.cancel&&"function"==typeof e.cancel&&e.cancel()),i}catch(e){throw e[0]}}function VF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function zF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VF(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}class HF extends WA{get isSuccess(){return!!this.configs}constructor(e,t){super(),uC(this,"configs",void 0),uC(this,"store",void 0),uC(this,"joinInfo",void 0),uC(this,"cancelToken",void 0),uC(this,"retryConfig",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),uC(this,"interval",void 0),uC(this,"mutex",void 0),uC(this,"mutableParamsRead",!1),uC(this,"configCache",{}),uC(this,"limit_bitrate",void 0),this.mutex=new Uk("config-distribute",e),this.store=t}startGetConfigDistribute(e,t){this.joinInfo=e,this.cancelToken=t,this.interval&&this.stopGetConfigDistribute(),AR("ENABLE_CONFIG_DISTRIBUTE")&&(this.updateConfigDistribute(),this.interval=window.setInterval(()=>{this.updateConfigDistribute()},AR("CONFIG_DISTRIBUTE_INTERVAL")))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0,this.configs=void 0,this.limit_bitrate=void 0}async awaitConfigDistributeComplete(){this.mutex.isLocked&&(await this.mutex.lock())()}async updateConfigDistribute(){if(this.mutableParamsRead||(this.mutableParamsRead=!0,mI.reportApiInvoke(null,{options:void 0,name:YA.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:XA.TRACER}).onSuccess(JSON.stringify(RR))),!this.joinInfo||!this.cancelToken||!this.retryConfig)return void sI.debug("[config-distribute] get config distribute interrupted have no joininfo");let e;const t=await this.mutex.lock();try{e=await LF(this.joinInfo,this.cancelToken,this.retryConfig),sI.debug("[config-distribute] get config distribute",JSON.stringify(e));const t=function(e){var t;const n=Kp(t=Object.keys(e).filter(e=>/^webrtc_ng_global_parameter/.test(e))).call(t);for(let a=0;a<n.length;a++)for(let t=n.length-1;t>a;t--){const i=n[t],r=e[i].value;if("number"==typeof r.__priority){const a=r.__priority,s=n[t-1],o=e[s].value;if("number"==typeof o.__priority){if(!(a>o.__priority))continue;{const e=i;n[t]=n[t-1],n[t-1]=e}}else{const e=i;n[t]=n[t-1],n[t-1]=e}}}const i=Date.now();let r={};return n.forEach(t=>{const n=e[t].value.__expires;n&&n<=i||(r[t]=e[t])}),r}(e);this.cacheGlobalParameterConfig(t),this.store.hasStartJoinChannel||(this.store.isABTestSuccess=!0),this.configs=t}catch(e){const t=new fI(AA.NETWORK_RESPONSE_ERROR,e);sI.warning("[config-distribute] ".concat(t.toString()))}finally{t()}}getBitrateLimit(){return this.limit_bitrate||void 0}handleBitrateLimit(e){hM(e)&&(this.limit_bitrate?this.limit_bitrate&&this.limit_bitrate.id!==e.id&&this.emit(uM.UPDATE_BITRATE_LIMIT,e):this.emit(uM.UPDATE_BITRATE_LIMIT,e))}getLowStreamConfigDistribute(){return this.limit_bitrate&&zF({},this.limit_bitrate.low_stream_uplink)}handleABTestConfigDistribute(e){try{const t={},n=Object.keys(e),i=[];n.forEach(n=>{const r=e[n].value;t[n]=r;const a=r.__id;if(a&&this.configCache[n]&&this.configCache[n].__id===a)return;const s=r.__type,o=e[n].value,l=e[n].tag;let c=0;s?s===kR.REALTIME&&(c=1):Object.keys(o).some(e=>Object.prototype.hasOwnProperty.call(CR,e)||!qD()&&Object.prototype.hasOwnProperty.call(wR,e)?(c=1,!0):void 0),i.push({tag:l,isApplied:c,feature:n,params:JSON.stringify(r)})}),i.forEach(e=>{let{tag:t,feature:n,params:i,isApplied:r}=e;this.store.sessionId&&mI.abTest(this.store.sessionId,{intSucc:1,isApplied:r,tag:t,feature:n,params:i,cid:this.store.cid,uid:this.store.intUid})}),this.configCache=t}catch(e){sI.debug("handleABTestConfigDistribute error",e)}}cacheGlobalParameterConfig(e){const t=function(e){const t={};return Object.keys(e).forEach(n=>{const i=e[n].value,r=i.__expires,a=i.__type;Object.keys(i).forEach(e=>{"__id"===e||"__type"===e||"__priority"===e||"__expires"===e||Object.prototype.hasOwnProperty.call(t,e)||(t[e]=zF(zF({value:i[e]},r&&{expires:r}),a&&{type:a}))})}),t}(e);try{var n;const i=null===(n=t.LIMIT_BITRATE)||void 0===n?void 0:n.value;delete t.LIMIT_BITRATE,i&&hM(i)&&this.handleBitrateLimit(i),this.limit_bitrate=i,this.handleGlobalParameterConfig(t),this.handleABTestConfigDistribute(e),function(e){try{const t=Date.now();Object.keys(e).forEach(n=>{const{value:i,type:r,expires:a}=e[n];a&&a<=t||((r===kR.REALTIME||Object.prototype.hasOwnProperty.call(CR,n))&&(RR[n]=i,TR[n]=i,sI.debug("Update realtime parameters from config distribute",n,i)),r||qD()||!Object.prototype.hasOwnProperty.call(wR,n)||(RR[n]=i,TR[n]=i,sI.debug("Update gateway parameters from config distribute",n,i)))})}catch(t){sI.error("Error update config immediately: ".concat(e),t.message)}}(t);const r=JSON.stringify(t),a=window.btoa(r);window.localStorage.setItem("websdk_ng_global_parameter",a),sI.debug("Caching global parameters ".concat(r))}catch(e){sI.error("Error caching global parameters:",e.message)}}handleGlobalParameterConfig(e){try{const t=Date.now();Object.keys(e).forEach(n=>{if("CLIENT_ROLE_OPTIONS"===n&&Object.prototype.hasOwnProperty.call(TR,n)){const{value:i,expires:r}=e[n];if(r&&r<=t)return;(function(e,t){try{return"object"==typeof e&&"object"==typeof t&&JSON.stringify(e)===JSON.stringify(t)}catch(e){return!1}})(TR[n],i)||(RR[n]=i,TR[n]=i,this.emit(uM.UPDATE_CLIENT_ROLE_OPTIONS,i),sI.debug("Updating client role options: ".concat(JSON.stringify(i))))}})}catch(e){sI.error("Error handling global parameter config:",e.message)}}}class WF extends WA{constructor(){super(...arguments),uC(this,"resultStorage",new Map)}setLocalAudioStats(e,t,n){this.record("AUDIO_INPUT_LEVEL_TOO_LOW",e,this.checkAudioInputLevel(n,t)),this.record("SEND_AUDIO_BITRATE_TOO_LOW",e,this.checkSendAudioBitrate(n,t))}setLocalVideoStats(e,t,n){this.record("SEND_VIDEO_BITRATE_TOO_LOW",e,this.checkSendVideoBitrate(n,t)),this.record("FRAMERATE_INPUT_TOO_LOW",e,this.checkFramerateInput(n,t)),this.record("FRAMERATE_SENT_TOO_LOW",e,this.checkFramerateSent(n)),!t.muted&&this.record("VIDEO_ENCODE_FAILED",e,this.checResolutionSent(n))}setRemoteAudioStats(e,t){const n=e.getUserId();this.record("AUDIO_OUTPUT_LEVEL_TOO_LOW",n,this.checkAudioOutputLevel(t))}setRemoteVideoStats(e,t){const n=e.getUserId();this.record("RECV_VIDEO_DECODE_FAILED",n,this.checkVideoDecode(t))}record(e,t,n){if(AR("STATS_UPDATE_INTERVAL")>500)return;this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});const i=this.resultStorage.get(e);if(!i)return;i.result.push(n);const r="VIDEO_ENCODE_FAILED"===e?AR("ENCODE_EXCEPTION_TIMES"):5;if(i.result.length>=r){var a;const n=Pi(a=i.result).call(a,!0);i.isPrevNormal&&!n&&this.emit("exception",GF[e],e,t),!i.isPrevNormal&&n&&this.emit("exception",GF[e]+2e3,e+"_RECOVER",t),i.isPrevNormal=n,i.result=[]}}checkAudioOutputLevel(e){return!(e.receiveBitrate>0&&0===e.receiveLevel)}checkAudioInputLevel(e,t){return t instanceof Hj&&!t.isActive||!!t.muted||0!==e.sendVolumeLevel}checkFramerateInput(e,t){let n=null;t._encoderConfig&&t._encoderConfig.frameRate&&(n=aU(t._encoderConfig.frameRate));const i=e.captureFrameRate;return!n||!i||!(n>10&&i<5||n<10&&n>=5&&i<=1)}checkFramerateSent(e){return!(e.captureFrameRate&&e.sendFrameRate&&e.captureFrameRate>5&&e.sendFrameRate<=1)}checResolutionSent(e){var t;return!(!e.codecType||Pi(t=AR("ENCODE_EXCEPTION_VALIDATE_CODEC")).call(t,e.codecType.toLocaleLowerCase()))||!e.captureFrameRate||0!==e.sendFrameRate||0!==e.sendResolutionWidth||0!==e.sendResolutionHeight}checkSendVideoBitrate(e,t){return!!t.muted||0!==e.sendBitrate}checkSendAudioBitrate(e,t){return t instanceof Hj&&!t.isActive||!!t.muted||0!==e.sendBitrate}checkVideoDecode(e){return 0===e.receiveBitrate||0!==e.decodeFrameRate}}const GF={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003,VIDEO_ENCODE_FAILED:2004},qF=new class{markSubscribeStart(e,t){performance.mark("agora-web-sdk/".concat(e,"/subscribe-").concat(t))}markPublishStart(e,t){performance.mark("agora-web-sdk/".concat(e,"/publish-").concat(t))}measureFromSubscribeStart(e,t){const n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/subscribe-").concat(t));if(n.length>0){const e=n[n.length-1];return Math.round(performance.now()-e.startTime)}return 0}measureFromPublishStart(e,t){const n=performance.getEntriesByName("agora-web-sdk/".concat(e,"/publish-").concat(t));if(n.length>0){const e=n[n.length-1];return Math.round(performance.now()-e.startTime)}return 0}};function YF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function XF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YF(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}class KF{constructor(e){uC(this,"store",void 0),uC(this,"onStatsException",void 0),uC(this,"onUploadPublishDuration",void 0),uC(this,"onStatsChanged",void 0),uC(this,"onVideoCodecChanged",void 0),uC(this,"localStats",new Map),uC(this,"remoteStats",new Map),uC(this,"updateStatsInterval",void 0),uC(this,"trafficStats",void 0),uC(this,"trafficStatsPeerList",[]),uC(this,"uplinkStats",void 0),uC(this,"exceptionMonitor",void 0),uC(this,"p2pChannel",void 0),uC(this,"scalabilityMode",lR.L1T1),uC(this,"updateStats",()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))}),this.store=e,this.exceptionMonitor=new WF,this.exceptionMonitor.on("exception",(e,t,n)=>{this.onStatsException&&this.onStatsException(e,t,n)})}startUpdateStats(){this.updateStatsInterval||(this.updateStatsInterval=window.setInterval(this.updateStats,1e3))}stopUpdateStats(){this.updateStatsInterval&&(window.clearInterval(this.updateStatsInterval),this.updateStatsInterval=void 0)}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(bM.LocalAudioTrack)||XF({},YI)}getLocalVideoTrackStats(){return this.localStats.get(bM.LocalVideoTrack)||XF({},XI)}getRemoteAudioTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const n=this.trafficStats.peer_delay.find(t=>t.peer_uid===e);return n&&(t.publishDuration=n.B_ppad+(Date.now()-this.trafficStats.timestamp)),t},n={};if(e){var i;const r=null===(i=this.remoteStats.get(e))||void 0===i?void 0:i.audioStats;r&&(n[e]=t(e,r))}else Array.from(this.remoteStats.entries()).forEach(e=>{let[i,{audioStats:r}]=e;r&&(n[i]=t(i,r))});return n}getRemoteNetworkQualityStats(e){const t={};if(e){var n;const i=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.networkStats;i&&(t[e]=i)}else Array.from(this.remoteStats.entries()).forEach(e=>{let[n,{networkStats:i}]=e;i&&(t[n]=i)});return t}getRemoteVideoTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const n=this.trafficStats.peer_delay.find(t=>t.peer_uid===e);return n&&(t.publishDuration=n.B_ppvd+(Date.now()-this.trafficStats.timestamp)),t},n={};if(e){var i;const r=null===(i=this.remoteStats.get(e))||void 0===i?void 0:i.videoStats;r&&(n[e]=t(e,r))}else Array.from(this.remoteStats.entries()).forEach(e=>{let[i,{videoStats:r}]=e;r&&(n[i]=t(i,r))});return n}getRTCStats(){let e=0,t=0,n=0,i=0;const r=this.localStats.get(bM.LocalAudioTrack);r&&(e+=r.sendBytes,t+=r.sendBitrate);const a=this.localStats.get(bM.LocalVideoTrack);a&&(e+=a.sendBytes,t+=a.sendBitrate);const s=this.localStats.get(bM.LocalVideoLowTrack);s&&(e+=s.sendBytes,t+=s.sendBitrate),this.remoteStats.forEach(e=>{let{audioStats:t,videoStats:r}=e;t&&(n+=t.receiveBytes,i+=t.receiveBitrate),r&&(n+=r.receiveBytes,i+=r.receiveBitrate)});let o=1;return this.trafficStats&&(o+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:o,SendBitrate:t,SendBytes:e,RecvBytes:n,RecvBitrate:i,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(e){this.localStats.set(e,void 0)}removeLocalStats(e){e?this.localStats.delete(e):this.localStats.clear()}addRemoteStats(e){this.remoteStats.set(e,{})}removeRemoteStats(e){e?this.remoteStats.delete(e):this.remoteStats.clear()}addP2PChannel(e){this.p2pChannel=e}updateTrafficStats(e){e.peer_delay=e.peer_delay.filter(e=>void 0!==e.B_ppad||void 0!==e.B_ppvd),e.peer_delay.filter(e=>-1===this.trafficStatsPeerList.indexOf(e.peer_uid)).forEach(e=>{var t;const n=null===(t=this.p2pChannel)||void 0===t?void 0:t.getRemoteMedia(e.peer_uid),i=null!=n&&n.videoSSRC?qF.measureFromSubscribeStart(this.store.clientId,n.videoSSRC):0,r=null!=n&&n.audioSSRC?qF.measureFromSubscribeStart(this.store.clientId,n.audioSSRC):0;void 0!==e.B_ppad&&void 0!==e.B_ppvd&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(e.peer_uid,e.B_ppad,e.B_ppvd,i>r?i:r),this.trafficStatsPeerList.push(e.peer_uid))}),this.trafficStats=e}updateUplinkStats(e){this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&sI.debug("[".concat(this.store.clientId,"]: Period fir changes to ").concat(e.B_fir)),this.uplinkStats=e}static isRemoteVideoFreeze(e,t,n){if(!e)return!1;const i=!!n&&t.framesDecodeFreezeTime>n.framesDecodeFreezeTime,r=!n||t.framesDecodeCount>n.framesDecodeCount;return i||!r}static isRemoteAudioFreeze(e){return!!e&&e._isFreeze()}isLocalVideoFreeze(e){return!(!e.inputFrame||!e.sentFrame)&&e.inputFrame.frameRate>5&&e.sentFrame.frameRate<3}updateLocalStats(e){Array.from(this.localStats.entries()).forEach(t=>{let[n,i]=t;switch(n){case bM.LocalVideoTrack:case bM.LocalVideoLowTrack:{const t=i,s=XF({},XI),o=e.getStats(),l=e.getLocalMedia(n);if(o){const n=o.videoSend.find(e=>e.ssrc===(null==l?void 0:l.ssrcs[0].ssrcId));if(n){const i=e.getLocalVideoSize(),a=e.getEncoderConfig(bM.LocalVideoTrack);var r;"H264"!==n.codec&&"H265"!==n.codec&&"VP8"!==n.codec&&"VP9"!==n.codec&&"AV1X"!==n.codec&&"AV1"!==n.codec||(s.codecType=n.codec,(null==t?void 0:t.codecType)!==n.codec&&(null===(r=this.onVideoCodecChanged)||void 0===r||r.call(this,n.codec.toLocaleLowerCase()))),s.sendBytes=n.bytes,s.sendBitrate=t?8*Math.max(0,s.sendBytes-t.sendBytes):0,n.inputFrame?(s.captureFrameRate=n.inputFrame.frameRate,s.captureResolutionHeight=n.inputFrame.height,s.captureResolutionWidth=n.inputFrame.width):i&&(s.captureResolutionWidth=i.width,s.captureResolutionHeight=i.height),n.sentFrame?(s.sendFrameRate=n.sentFrame.frameRate,s.sendResolutionHeight=n.sentFrame.height,s.sendResolutionWidth=n.sentFrame.width):i&&(s.sendResolutionWidth=i.width,s.sendResolutionHeight=i.height),n.avgEncodeMs&&(s.encodeDelay=n.avgEncodeMs),a&&a.bitrateMax?s.targetSendBitrate=1e3*a.bitrateMax:n.targetBitrate&&(s.targetSendBitrate=n.targetBitrate),s.sendPackets=n.packets,s.sendPacketsLost=n.packetsLost,s.sendJitterMs=n.jitterMs,s.sendRttMs=n.rttMs,s.totalDuration=t?t.totalDuration+1:1,s.totalFreezeTime=t?t.totalFreezeTime:0,this.isLocalVideoFreeze(n)&&(s.totalFreezeTime+=1),n.scalabilityMode&&this.scalabilityMode!==n.scalabilityMode&&(sI.debug("[".concat(this.store.clientId,"]: The scalabilityMode of the video sending stream is ").concat(n.scalabilityMode)),this.scalabilityMode=n.scalabilityMode)}this.trafficStats&&(s.currentPacketLossRate=(this.trafficStats.B_pvlr4||0)/100)}var a;this.localStats.set(n,s),((null==t?void 0:t.sendResolutionWidth)!==s.sendResolutionWidth||(null==t?void 0:t.sendResolutionHeight)!==s.sendResolutionHeight)&&(null===(a=this.onStatsChanged)||void 0===a||a.call(this,"resolution",{width:s.sendResolutionWidth,height:s.sendResolutionHeight})),s&&l&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,l.track,s);break}case bM.LocalAudioTrack:{const t=i,r=XF({},YI),a=e.getStats(),s=e.getLocalMedia(n);if(a){const n=a.audioSend.find(e=>e.ssrc===(null==s?void 0:s.ssrcs[0].ssrcId));if(n){if("opus"!==n.codec&&"aac"!==n.codec&&"PCMU"!==n.codec&&"PCMA"!==n.codec&&"G722"!==n.codec||(r.codecType=n.codec),n.inputLevel)r.sendVolumeLevel=Math.round(32767*n.inputLevel);else{const t=e.getLocalAudioVolume();t&&(r.sendVolumeLevel=Math.round(32767*t))}r.sendBytes=n.bytes,r.sendPackets=n.packets,r.sendPacketsLost=n.packetsLost,r.sendJitterMs=n.jitterMs,r.sendRttMs=n.rttMs,r.sendBitrate=t?8*Math.max(0,r.sendBytes-t.sendBytes):0}}this.trafficStats&&(r.currentPacketLossRate=(this.trafficStats.B_palr4||0)/100),this.localStats.set(bM.LocalAudioTrack,r),r&&s&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,s.track,r);break}}})}updateRemoteStats(e){Array.from(this.remoteStats.entries()).forEach(t=>{var n,i;let[r,{videoStats:a,audioStats:s,videoPcStats:o}]=t;const l=s,c=a,d=o,u=XF({},KI),h=XF({},ZI),p=XF({},JI),{audioTrack:m,videoTrack:f,audioSSRC:g,videoSSRC:_}=e.getRemoteMedia(r);let v;v=this.store.useP2P?e.getStats(!0):e.getStats();const b=null===(n=v)||void 0===n?void 0:n.audioRecv.find(e=>e.ssrc===g),y=null===(i=v)||void 0===i?void 0:i.videoRecv.find(e=>e.ssrc===_),x=this.trafficStats&&this.trafficStats.peer_delay.find(e=>e.peer_uid===r);if(b&&("opus"!==b.codec&&"aac"!==b.codec&&"PCMU"!==b.codec&&"PCMA"!==b.codec&&"G722"!==b.codec||(u.codecType=b.codec),b.outputLevel?u.receiveLevel=Math.round(32767*b.outputLevel):m&&(u.receiveLevel=Math.round(32767*m.getVolumeLevel())),u.receiveBytes=b.bytes,u.receivePackets=b.packets,u.receivePacketsLost=b.packetsLost,u.receivePacketsDiscarded=b.packetsDiscarded,u.packetLossRate=u.receivePacketsLost/(u.receivePackets+u.receivePacketsLost),u.receiveBitrate=l?8*Math.max(0,u.receiveBytes-l.receiveBytes):0,u.totalDuration=l?l.totalDuration+1:1,u.totalFreezeTime=l?l.totalFreezeTime:0,u.freezeRate=u.totalFreezeTime/u.totalDuration,u.receiveDelay=b.jitterBufferMs,u.totalDuration>10&&KF.isRemoteAudioFreeze(m)&&(u.totalFreezeTime+=1)),y){var w;"H264"!==y.codec&&"H265"!==y.codec&&"VP8"!==y.codec&&"VP9"!==y.codec&&"AV1X"!==y.codec&&"AV1"!==y.codec||(h.codecType=y.codec),h.receiveBytes=y.bytes,h.receiveBitrate=c?8*Math.max(0,h.receiveBytes-c.receiveBytes):0,h.decodeFrameRate=y.decodeFrameRate<0?0:y.decodeFrameRate,h.renderFrameRate=y.decodeFrameRate<0?0:y.decodeFrameRate,y.outputFrame&&(h.renderFrameRate=y.outputFrame.frameRate),y.receivedFrame?(h.receiveFrameRate=y.receivedFrame.frameRate,h.receiveResolutionHeight=y.receivedFrame.height,h.receiveResolutionWidth=y.receivedFrame.width):f&&(h.receiveResolutionHeight=f._videoHeight||0,h.receiveResolutionWidth=f._videoWidth||0),void 0!==y.framesRateFirefox&&(h.receiveFrameRate=Math.round(y.framesRateFirefox)),h.receivePackets=y.packets,h.receivePacketsLost=y.packetsLost,h.packetLossRate=h.receivePacketsLost/(h.receivePackets+h.receivePacketsLost);const t=c?c.totalFreezeTime:0,n=c?c.totalDuration:0;h.totalDuration=c?c.totalDuration+1:1,h.totalFreezeTime=null!==(w=y.totalFreezesDuration)&&void 0!==w?w:t||0,h.receiveDelay=y.jitterBufferMs||0;const i=!!_&&e.getRemoteVideoIsReady(_);void 0===y.totalFreezesDuration&&f&&i&&KF.isRemoteVideoFreeze(f,y,d)&&(h.totalFreezeTime+=1),h.freezeRate=Math.max(0,Math.min((h.totalFreezeTime-t)/(h.totalDuration-n),1))}x&&(u.end2EndDelay=x.B_ad,h.end2EndDelay=x.B_vd,u.transportDelay=x.B_ed,h.transportDelay=x.B_ed,u.currentPacketLossRate=x.B_ealr4/100,h.currentPacketLossRate=x.B_evlr4/100,p.uplinkNetworkQuality=x.B_punq?x.B_punq:0,p.downlinkNetworkQuality=x.B_pdnq?x.B_pdnq:0),this.remoteStats.set(r,{audioStats:u,videoStats:h,videoPcStats:y,networkStats:p}),m&&this.exceptionMonitor.setRemoteAudioStats(m,u),f&&this.exceptionMonitor.setRemoteVideoStats(f,h)})}}class JF{constructor(){uC(this,"destChannelMediaInfos",new Map),uC(this,"srcChannelMediaInfo",void 0)}setSrcChannelInfo(e){QL(e),this.srcChannelMediaInfo=e}addDestChannelInfo(e){QL(e),this.destChannelMediaInfos.set(e.channelName,e)}removeDestChannelInfo(e){zL(e),this.destChannelMediaInfos.delete(e)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function ZF(e){if(!(e instanceof JF))return new fI(AA.INVALID_PARAMS,"Config should be instance of [ChannelMediaRelayConfiguration]").throw();const t=e.getSrcChannelMediaInfo(),n=e.getDestChannelMediaInfo();return t?0===n.size?new fI(AA.INVALID_PARAMS,"destChannelMediaInfo should not be empty").throw():void 0:new fI(AA.INVALID_PARAMS,"srcChannelMediaInfo should not be empty").throw()}class QF{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio||this._audio_pre_subscribed)return this._audioTrack}get videoTrack(){if(this.hasVideo||this._video_pre_subscribed)return this._videoTrack}get dataChannels(){return this._dataChannels}constructor(e,t){uC(this,"uid",void 0),uC(this,"_uintid",void 0),uC(this,"_trust_in_room_",!0),uC(this,"_trust_audio_enabled_state_",!0),uC(this,"_trust_video_enabled_state_",!0),uC(this,"_trust_audio_mute_state_",!0),uC(this,"_trust_video_mute_state_",!0),uC(this,"_audio_muted_",!1),uC(this,"_video_muted_",!1),uC(this,"_audio_enabled_",!0),uC(this,"_video_enabled_",!0),uC(this,"_audio_added_",!1),uC(this,"_video_added_",!1),uC(this,"_is_pre_created",!1),uC(this,"_video_pre_subscribed",!1),uC(this,"_audio_pre_subscribed",!1),uC(this,"_trust_video_stream_added_state_",!0),uC(this,"_trust_audio_stream_added_state_",!0),uC(this,"_audioTrack",void 0),uC(this,"_videoTrack",void 0),uC(this,"_dataChannels",[]),uC(this,"_audioSSRC",void 0),uC(this,"_videoSSRC",void 0),uC(this,"_audioOrtc",void 0),uC(this,"_videoOrtc",void 0),uC(this,"_cname",void 0),uC(this,"_rtxSsrcId",void 0),uC(this,"_videoMid",void 0),uC(this,"_audioMid",void 0),this.uid=e,this._uintid=t}}function $F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$F(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const tB="9",nB=2e4,iB=4e4;function rB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function aB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rB(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var sB=function(e){return e[e.DOWN=0]="DOWN",e[e.UP=1]="UP",e}(sB||{});const oB=new Map;function lB(e,t,n,i){let{scale:r}=e;if(0===r&&i===sB.UP||r>=t.length-1&&i===sB.DOWN)return e;let a=aB(aB({},e),{},{scale:i===sB.DOWN?++r:--r});switch(n){case"maintain-framerate":a=aB(aB({},a),t[r].motion);break;case"maintain-resolution":a=aB(aB({},a),t[r].detail);break;case"balanced":a=aB(aB({},a),t[r].balanced)}return a}function cB(e,t){if(t){const n={overUse:0,underUse:0,adaptationList:dB(t)};oB.set(e,n)}else oB.delete(e)}function dB(e){const t=aB({},e),{bitrateMax:n,frameRate:i,scaleResolutionDownBy:r,bitrateMin:a}=t,{MIN_FRAME_RATE:s,MAX_THRESHOLD_FRAMERATE:o,MAX_SCALE:l,BITRATE_MIN_THRESHOLD:c,BITRATE_MAX_THRESHOLD:d,BWE_SCALE_UP_THRESHOLD:u,BWE_SCALE_DOWN_THRESHOLD:h,PERF_SCALE_DOWN_THRESHOLD:p,PERF_SCALE_UP_THRESHOLD:m,BALANCE_BITRATE_FACTOR:f,BALANCE_FRAMERATE_FACTOR:g,BALANCE_RESOLUTION_FACTOR:_,MOTION_RESOLUTION_FACTOR:v,MOTION_BITRATE_FACTOR:b,DETAIL_FRAMERATE_FACTOR:y,DETAIL_BITRATE_FACTOR:x}=ER,w=Math.min(t.frameRate,o),E=[{scale:0,threshold:{bwe_down:Math.round(Math.pow(h,1)*n),bwe_up:n,fps_down:Math.round(Math.pow(p,1)*w),fps_up:i},balanced:{scaleResolutionDownBy:1,frameRate:i,bitrateMax:n,bitrateMin:a},motion:{scaleResolutionDownBy:1,frameRate:i,bitrateMax:n,bitrateMin:a},detail:{scaleResolutionDownBy:1,frameRate:i,bitrateMax:n,bitrateMin:a}}];for(let S=1;S<=l;S++){const e={bwe_up:Math.round(Math.pow(u,S)*n),bwe_down:Math.round(Math.pow(h,S+1)*n),fps_up:Math.round(Math.pow(m,S)*w),fps_down:Math.round(Math.pow(p,S+1)*w)},t={scaleResolutionDownBy:r/Math.pow(_,S),frameRate:Math.max(Math.round(Math.pow(g,S)*i),s),bitrateMax:Math.max(Math.round(Math.pow(f,S)*n),d),bitrateMin:Math.max(Math.round(Math.pow(f,S)*a),c)},o={scaleResolutionDownBy:r/Math.pow(v,S),frameRate:i,bitrateMax:Math.max(Math.round(Math.pow(b,S)*n),d),bitrateMin:Math.max(Math.round(Math.pow(b,S)*a),c)},l={scaleResolutionDownBy:1,frameRate:Math.max(Math.round(Math.pow(y,S)*i),s),bitrateMax:Math.max(Math.round(Math.pow(x,S)*n),d),bitrateMin:Math.max(Math.round(Math.pow(x,S)*a),c)};E.push({scale:S,threshold:e,balanced:t,motion:o,detail:l})}return E}function uB(e,t,n,i,r,a){const s=oB.get(e)||{overUse:0,underUse:0,adaptationList:dB(r)},{adaptationList:o}=s;oB.set(e,s);const{OVERUSE_TIMES_THRESHOLD:l,UNDERUSE_TIMES_THRESHOLD:c}=ER,{scale:d}=i;let u,h;return"number"==typeof t&&t>0&&function(e,t,n,i){if(t>=n.length)return!1;let{threshold:{fps_down:r}}=n[t];return AR("FORCE_AG_HIGH_FRAMERATE")&&"maintain-framerate"===i&&(r=n[0].threshold.fps_down),e<r}(t,d,o,a)&&(s.overUse++,h=oR.CPU,s.overUse>l)||"number"==typeof n&&n>0&&function(e,t,n){if(t>=n.length)return!1;const{threshold:{bwe_down:i}}=n[t];return e<i}(n,d,o)&&(s.overUse++,h=oR.BANDWIDTH,s.overUse>l)?(s.overUse=0,s.underUse=0,u=lB(i,o,a,sB.DOWN),[u,h]):("number"==typeof t&&t>0&&"number"==typeof n&&n>0&&function(e,t,n,i){if(0===t)return;let{threshold:{fps_up:r}}=n[t];return AR("FORCE_AG_HIGH_FRAMERATE")&&"maintain-framerate"===i&&(r=n[1].threshold.fps_up),e>r}(t,d,o,a)&&function(e,t,n){if(0===t)return;const{threshold:{bwe_up:i}}=n[t];return e>i}(n,d,o)&&(s.underUse++,s.underUse>c&&(s.overUse=0,s.underUse=0,u=lB(i,o,a,sB.UP),0===u.scale&&(h=oR.NONE))),[u,h])}function hB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function pB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hB(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const mB=new Map;function fB(e,t){const n=mB.get(e);if(n){const{timer:t}=n;window.clearTimeout(t),mB.delete(e)}t.qualityLimitationReason=oR.NONE,cB(e)}function gB(e,t){var n;let i;switch(t){case bM.LocalAudioTrack:i=iM.Audio;break;case bM.LocalVideoTrack:i=Pi(n=e._hints).call(n,UI.SCREEN_TRACK)?iM.Screen:iM.High;break;case bM.LocalVideoLowTrack:i=iM.Low}return i}function _B(e){const t=_I();if(e.some(e=>e._bypassWebAudio))throw new kA(AA.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");if(!t.webAudioMediaStreamDest)throw new kA(AA.NOT_SUPPORTED,"cannot publish multiple tracks because your browser does not support audio mixing")}function vB(e,t){_B(e);const n=t||new Hj;return e.forEach(e=>n.addAudioTrack(e)),n}const bB=!_I().supportUnifiedPlan||AR("CHROME_FORCE_PLAN_B")&&wA();function yB(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return bB?(n={spec:t,store:e},JU("PlanBConnection").create(n)):new TB(t,e)}function xB(e){return e&&("disconnected"===e.iceConnectionState||"checking"===e.iceConnectionState||"failed"===e.iceConnectionState)}function wB(e){try{if(e.iceServers)return!1;if(e.turnServer&&"off"!==e.turnServer.mode){if(QA(e.turnServer.servers))return!1;if(AR("FORCE_TURN_TCP")||e.turnServer.servers.concat(e.turnServer.serversFromGateway||[]).some(e=>e.forceturn))return!0}return!1}catch(e){return!1}}var EB;function SB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function CB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SB(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let TB=(EB=class e extends mM{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map(e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").filter(e=>{var t;return Pi(t=Object.keys(OR)).call(t,e)}))]}constructor(t,n){super(t,n),uC(this,"id",Ck(5,"connection-")),uC(this,"store",void 0),uC(this,"peerConnection",void 0),uC(this,"forceTurn",!1),uC(this,"remoteSDP",void 0),uC(this,"initialOffer",void 0),uC(this,"transportEventReceiver",void 0),uC(this,"statsFilter",void 0),uC(this,"extension",{useXR:AR("USE_XR")}),uC(this,"localCapabilities",void 0),uC(this,"remoteCodecs",void 0),uC(this,"localCandidateCount",0),uC(this,"allCandidatesReceived",!1),uC(this,"isPreallocation",!1),uC(this,"preMediaMap",new Map),uC(this,"dataStreamChannelMap",new Map),uC(this,"establishPromise",void 0),uC(this,"recoveredDataChannelIds",[]),uC(this,"currentDataChannelId",1),uC(this,"supportAV1RtpSpec",!1),uC(this,"mutex",void 0),uC(this,"qualityLimitationReason",oR.NONE),uC(this,"isFirstConnected",!1),this.store=n,this.forceTurn=wB(t),this.mutex=new Uk("P2PConnection-mutex",n.clientId),this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.isFirstConnected=!1,this.statsFilter=fR(this.peerConnection,AR("STATS_UPDATE_INTERVAL"),void 0,nA()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,t.isPreallocation&&(this.isPreallocation=!0),this.establishPromise=this.establish()}getPreMedia(e){return this.preMediaMap.get(e)}isPreSub(){return this.preMediaMap.size>0}async updateRemoteRTPCapabilities(e,t){if(this.remoteCodecs=t,this.remoteSDP)if(this.remoteSDP.updateRemoteCodec(e,t,this.store.codec)){const e=await this.peerConnection.createOffer(),t=this.logSDPExchange(e.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(e);const n=this.remoteSDP.toString();null==t||t(n),await this.peerConnection.setRemoteDescription({type:"answer",sdp:n})}else sI.debug("[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.");else sI.debug("[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: ".concat(this.localCodecs,", codecs: ").concat(t))}async establish(){try{this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"});const n=await this.peerConnection.createOffer();if(!n.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const i=wU(n.sdp),r=await jU({filterRTX:!AR("USE_PUB_RTX")&&!AR("USE_SUB_RTX"),filterVideoFec:AR("FILTER_VIDEO_FEC"),filterAudioFec:AR("FILTER_AUDIO_FEC"),filterVideoCodec:AR("FILTER_VIDEO_CODEC"),unsupportedVideoUplinkCodec:AR("UNSUPPORTED_VIDEO_UPLINK_CODEC"),unsupportedVideoDownlinkCodec:AR("UNSUPPORTED_VIDEO_DOWNLINK_CODEC")},this.extension);if(this.localCapabilities=LU(r),this.initialOffer=n,AR("ENABLE_SVC")&&"av1"==this.store.codec){const t=await async function(){try{const e=new RTCPeerConnection;e.addTransceiver("video",{direction:"sendonly",sendEncodings:[{scalabilityMode:lR.L1T3}]});const t=await e.createOffer();if(!t.sdp)return void e.close();const n=FR(t.sdp).mediaDescriptions[0];if(!n)return;const i=n.attributes.extmaps.find(e=>"https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension"===e.extensionName);return e.close(),i}catch(e){return}}();var e;t&&(this.supportAV1RtpSpec=!0,null===(e=r.send)||void 0===e||e.videoExtensions.push(t))}let a;return n.sdp&&HU(n.sdp)&&(a=pk(r),(t=a).send&&(gU(fM.VIDEO,t.send.videoExtensions),gU(fM.AUDIO,t.send.audioExtensions)),t.recv&&(gU(fM.VIDEO,t.recv.videoExtensions),gU(fM.AUDIO,t.recv.audioExtensions)),t.sendrecv&&(gU(fM.VIDEO,t.sendrecv.videoExtensions),gU(fM.AUDIO,t.sendrecv.audioExtensions))),CB(CB({},i),{},{rtpCapabilities:a||r,offerSDP:n.sdp})}catch(e){throw new kA(AA.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}var t}async connect(e){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.initialOffer.sdp&&HU(this.initialOffer.sdp)&&(t=e.rtpCapabilities,n=this.localCapabilities,t.send&&(fU(fM.VIDEO,t.send.videoExtensions,n.send.videoExtensions),fU(fM.AUDIO,t.send.audioExtensions,n.send.audioExtensions)),t.recv&&(fU(fM.VIDEO,t.recv.videoExtensions,n.recv.videoExtensions),fU(fM.AUDIO,t.recv.audioExtensions,n.recv.audioExtensions))),this.remoteSDP=new class{get localCapabilities(){return pk(this._localCapabilities)}get rtpCapabilities(){return pk(this._rtpCapabilities)}get candidates(){return pk(this._candidates)}get iceParameters(){return pk(this._iceParameters)}get dtlsParameters(){return pk(this._dtlsParameters)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];uC(this,"sessionDesc",void 0),uC(this,"_localCapabilities",void 0),uC(this,"_rtpCapabilities",void 0),uC(this,"_candidates",void 0),uC(this,"_originCandidates",void 0),uC(this,"_iceParameters",void 0),uC(this,"_isUseExtmapAllowMixed",void 0),uC(this,"_isUseLocalCodecs",void 0),uC(this,"_dtlsParameters",void 0),uC(this,"setup",void 0),uC(this,"currentMidIndex",void 0),uC(this,"cname",void 0),uC(this,"useLocalCodecsMids",[]),uC(this,"preloadSsrcs",[]),uC(this,"firefoxSsrcMidMap",new Map),this._isUseExtmapAllowMixed=t,this._isUseLocalCodecs=n,e=pk(e);const{iceParameters:i,dtlsParameters:r,candidates:a,rtpCapabilities:s,setup:o,localCapabilities:l,cname:c}=e;this._rtpCapabilities=s,this._candidates=a,this._originCandidates=pk(a),this._iceParameters=i,this._dtlsParameters=r,this._localCapabilities=l,this.setup=o,this.cname=c,[this.sessionDesc]=this.updateRemoteRTPCapabilities(s),this.currentMidIndex=this.sessionDesc.mediaDescriptions.length-1}checkPreloadSsrcs(e){return e.length===this.preloadSsrcs.length&&e.every(e=>{var t;return Pi(t=this.preloadSsrcs).call(t,e)})}preloadRemoteMedia(e){let t=0;const n=[],i=[];for(;e>0;){const r=[eB({ssrcId:iB+t},AR("USE_SUB_RTX")?{rtx:iB+t+1}:{})],a="".concat(iB+t,"_").concat(nB+t),{ssrcs:s,ssrcGroups:o}=TU(r,this.cname,AR("SYNC_GROUP")?a:void 0),l=this.preCreateOrRecycleSendMedia("video",s,o,void 0),c=[{ssrcId:nB+t}],d="".concat(iB+t,"_").concat(nB+t),{ssrcs:u,ssrcGroups:h}=TU(c,this.cname,AR("SYNC_GROUP")?d:void 0),p=this.preCreateOrRecycleSendMedia("audio",u,h,void 0);e--,t+=2,n.push(l,p),i.push(s[0].ssrcId,u[0].ssrcId)}return this.useLocalCodecsMids.push(...n),this.preloadSsrcs=i,{mids:n,preSSRCs:i,isAvailable:!0}}preCreateOrRecycleSendMedia(e,t,n,i){const r=this.rtpCapabilities.send.videoCodecs,a=this._isUseLocalCodecs||0===r.length?this.localCapabilities.recv:this.rtpCapabilities.send;sI.debug("create or recycle send media without remote rtp capabilities, ssrcs ",t[0].ssrcId);const s=e===fM.VIDEO?a.videoCodecs:a.audioCodecs,o=e===fM.VIDEO?a.videoExtensions:a.audioExtensions;this.currentMidIndex+=1;const l="".concat(this.currentMidIndex);let c={media:{mediaType:e,port:tB,protos:["UDP","TLS","RTP","SAVPF"],fmts:s.map(e=>e.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:o,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:s,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(l)}};return c=this.mungSendMediaDesc(c,i),this.sessionDesc.mediaDescriptions.push(c),this.updateBundleMids(),l}toString(){return BR(this.sessionDesc)}send(e,t,n,i){const{ssrcs:r,ssrcGroups:a}=TU(t,this.cname,AR("SYNC_GROUP")?n:void 0),s=this.findPreloadMediaDesc(r);if(s){if(nA()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,s.attributes.mid),i&&(i.twcc||i.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(s);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(s,i),{mid:s.attributes.mid,needExchangeSDP:!0}}return{mid:s.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,r);let n;return-1===t||1===t&&($N()||function(){const e=YN();return!(e.name!==HN.CHROME||!e.osVersion)&&Number(e.version)<=90}()||AR("ENABLE_ENCODED_TRANSFORM")&&QN())||0===t&&!function(e){const t=YN();return!(t.name!==HN.FIREFOX||!t.osVersion)&&Number(t.version)===e}(138)&&AR("USE_SUB_RTX")||mA()?(n=this.createOrRecycleSendMedia(e,r,a,"sendonly",i),this.updateBundleMids()):(n=pk(this.sessionDesc.mediaDescriptions[t]),n.attributes.direction="sendonly",n.attributes.ssrcs=r,n.attributes.ssrcGroups=a,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(n,i)),nA()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,n.attributes.mid),{mid:n.attributes.mid,needExchangeSDP:!0}}}sendDataChannel(){const{mediaDesc:e,needExchangeSDP:t}=this.createOrRecycleDataChannel();return this.updateBundleMids(),{mid:e.attributes.mid,needExchangeSDP:t}}batchSend(e){const t=e.map(e=>{let{kind:t,ssrcMsg:n,mslabel:i}=e;return this.send(t,n,i)}),n=[];let i=!1;return t.forEach(e=>{let{mid:t,needExchangeSDP:r}=e;r&&(i=!0),n.push(t)}),{mids:n,needExchangeSDP:i}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter(t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach(e=>{"0"===e.attributes.mid||nA()||mA()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction="inactive",e.media.port="0")}),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find(t=>t.attributes.mid===e);if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find(t=>t.attributes.mid===e);if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter(t=>Pi(e).call(e,t.attributes.mid||""));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach(e=>{e.attributes.direction="inactive"})}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter(t=>Pi(e).call(e,t.attributes.mid||""));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach(e=>{e.attributes.direction="recvonly"})}receive(e,t,n,i){e.forEach((e,r)=>{this.createOrRecycleRecvMedia(e,[],"recvonly",t,n,i[r])}),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter(t=>-1!==e.indexOf(t.attributes.mid));if(t.length!==e.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach(e=>{e.media.port="0",e.attributes.direction="inactive"}),this.updateBundleMids()}updateRemoteRTPCapabilities(e){const t=this.sessionDesc||FR((n=this._isUseExtmapAllowMixed,"v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=ice-lite".concat(n?"\na=extmap-allow-mixed":"","\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n")));var n;this._rtpCapabilities=e;let i=!1;const r=this.rtpCapabilities.send,a=this.localCapabilities.send,s=this.localCapabilities.recv,o=s.videoCodecs,l=s.audioCodecs,c=s.videoExtensions,d=s.audioExtensions;for(const m of t.mediaDescriptions){var u;if("sendonly"!==m.attributes.direction||"string"!=typeof m.attributes.mid||!Pi(u=this.useLocalCodecsMids).call(u,m.attributes.mid)){if(i=!0,m.attributes.iceUfrag=this._iceParameters.iceUfrag,m.attributes.icePwd=this._iceParameters.icePwd,m.attributes.fingerprints=this._dtlsParameters.fingerprints,m.attributes.candidates=this._candidates,m.attributes.setup=this.setup,"application"===m.media.mediaType&&(m.attributes.sctpPort="5000"),"video"===m.media.mediaType)if(this._isUseLocalCodecs&&"sendonly"===m.attributes.direction){var h;m.media.fmts=o.map(e=>e.payloadType.toString(10)),m.attributes.payloads=o,m.attributes.extmaps=c;const e=m.attributes.mid;"string"!=typeof e||Pi(h=this.useLocalCodecsMids).call(h,e)||this.useLocalCodecsMids.push(e)}else if(0===r.videoCodecs.length){const e=a.videoCodecs.filter(e=>{var t,n;return null===(t=e.rtpMap)||void 0===t?void 0:Pi(n=t.encodingName.toLowerCase()).call(n,"vp8")})||[a.videoCodecs[0]];m.media.fmts=e.map(e=>e.payloadType.toString(10)),m.attributes.payloads=e,m.attributes.extmaps=[]}else m.media.fmts=r.videoCodecs.map(e=>e.payloadType.toString(10)),m.attributes.payloads=r.videoCodecs,m.attributes.extmaps=r.videoExtensions;if("audio"===m.media.mediaType)if(this._isUseLocalCodecs&&"sendonly"===m.attributes.direction){var p;m.media.fmts=l.map(e=>e.payloadType.toString(10)),m.attributes.payloads=l,m.attributes.extmaps=d;const e=m.attributes.mid;"string"!=typeof e||Pi(p=this.useLocalCodecsMids).call(p,e)||this.useLocalCodecsMids.push(e)}else if(0===r.audioCodecs.length){const e=a.audioCodecs.filter(e=>{var t,n;return null===(t=e.rtpMap)||void 0===t?void 0:Pi(n=t.encodingName.toLowerCase()).call(n,"opus")})||[a.audioCodecs[0]];m.media.fmts=e.map(e=>e.payloadType.toString(10)),m.attributes.payloads=e,m.attributes.extmaps=[]}else m.media.fmts=r.audioCodecs.map(e=>e.payloadType.toString(10)),m.attributes.payloads=r.audioCodecs,m.attributes.extmaps=r.audioExtensions,MU(m)}}return this.sessionDesc=t,this.currentMidIndex=t.mediaDescriptions.length-1,[this.sessionDesc,i]}updateCandidates(e){const t=this._originCandidates.filter(e=>"udp"===e.transport),n=[];if(t.forEach(e=>{n.push(eB(eB({},e),{},{foundation:"tcpcandidate",priority:Number(e.priority)-1+"",transport:"tcp",port:Number(e.port)+90+""}))}),0!==t.length){switch(e){case gM.TCP_RELAY:this._candidates=n;break;case gM.UDP_TCP_RELAY:case gM.RELAY:this._candidates=[...t,...n];break;default:this._candidates=t}for(const e of this.sessionDesc.mediaDescriptions)e.attributes.candidates=this.candidates}}restartICE(e){e=pk(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach(t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd})}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex(n=>{const i=n.media.mediaType===e&&"0"!==n.media.port&&("sendonly"===n.attributes.direction||"sendrecv"===n.attributes.direction)&&0===n.attributes.ssrcs.length;if(nA()){if(i){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||"0"!==n.attributes.mid&&"1"!==n.attributes.mid)||!(!e||e!==n.attributes.mid)}return!1}return i})}createOrRecycleDataChannel(){for(const n of this.sessionDesc.mediaDescriptions)if("application"===n.media.mediaType)return{mediaDesc:n,needExchangeSDP:!1};this.currentMidIndex+=1;const e="".concat(this.currentMidIndex),t={media:{mediaType:"application",port:tB,protos:["UDP","DTLS","SCTP"],fmts:["webrtc-datachannel"]},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,mid:"".concat(e),sctpPort:"5000"}};return this.sessionDesc.mediaDescriptions.push(t),{mediaDesc:t,needExchangeSDP:!0}}createOrRecycleRecvMedia(e,t,n,i,r,a){const s=e._mediaStreamTrack.kind,o=this.rtpCapabilities.recv,l=UU(s,o,this.localCapabilities.send,s===fM.VIDEO?i:r),c=s===fM.VIDEO?o.videoExtensions:o.audioExtensions;this.currentMidIndex+=1;const d="".concat(this.currentMidIndex);let u={media:{mediaType:s,port:tB,protos:["UDP","TLS","RTP","SAVPF"],fmts:l.map(e=>e.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:l,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(d)}};u=this.mungRecvMediaDsec(u,e,a);const h=this.findFirstClosedMedia(s);if(h){const e=this.sessionDesc.mediaDescriptions.indexOf(h);this.sessionDesc.mediaDescriptions[e]=u}else this.sessionDesc.mediaDescriptions.push(u);return u}updateRemoteDtlsParameters(e){const t=new Set(this._dtlsParameters.fingerprints.map(e=>e.fingerprint)),n=new Set(e.map(e=>e.fingerprint));let i=!1;t.size!==n.size&&(i=!0);for(const r of t)n.has(r)||(i=!0);return i}updateRemoteCodec(e,t,n){const i=[...new Set(this._rtpCapabilities.recv.videoCodecs.map(e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").filter(e=>{var t;return Pi(t=Object.keys(OR)).call(t,e)}))],r=new Set(t);if(i.every(e=>r.has(e)))return sI.debug("codecs has not changed, no need to updateRemoteCodec, codecs: ".concat(t)),!1;const a=this._rtpCapabilities.recv.videoCodecs.filter(e=>t.some(t=>{var n;return Pi(n=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").call(n,t)}));if(0===a.length)return sI.debug("updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: ".concat(i," codecs: ").concat(t)),!1;const s=[...new Set(a.map(e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||""))];let o;if(sI.debug("updateRemoteCodec, from ".concat(i," to ").concat(s)),0===e.length)o=this.sessionDesc.mediaDescriptions.filter(e=>"video"===e.media.mediaType&&"recvonly"===e.attributes.direction);else if(o=this.sessionDesc.mediaDescriptions.filter(t=>t.attributes.mid&&"video"===t.media.mediaType&&Pi(e).call(e,t.attributes.mid)&&"recvonly"===t.attributes.direction),o.length!==e.length)return sI.debug("updateRemoteCodec failed, because cannot find mids, mids: ".concat(e,", codecs: ").concat(t)),!1;if(AR("USE_PUB_RTX")||AR("USE_SUB_RTX")){const e=FU(a,this.rtpCapabilities.recv.videoCodecs);a.push(...e)}this._rtpCapabilities.recv.videoCodecs=a;const l=this.localCapabilities.send,c=this.rtpCapabilities.recv,d=UU(fM.VIDEO,c,l,n);return o.forEach(e=>{const t=d.map(e=>e.payloadType.toString(10));sI.debug("updateRemoteCodec mid: ".concat(e.attributes.mid,", from"),e.attributes.payloads,"to",d),e.attributes.payloads=d,e.media.fmts=t}),!0}createOrRecycleSendMedia(e,t,n,i,r){const a=this.rtpCapabilities.send.videoCodecs,s=this._isUseLocalCodecs||0===a.length?this.localCapabilities.recv:this.rtpCapabilities.send,o=e===fM.VIDEO?s.videoCodecs:s.audioCodecs,l=e===fM.VIDEO?s.videoExtensions:s.audioExtensions;this.currentMidIndex+=1;const c="".concat(this.currentMidIndex);let d={media:{mediaType:e,port:tB,protos:["UDP","TLS","RTP","SAVPF"],fmts:o.map(e=>e.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:l,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:o,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(c)}};d=this.mungSendMediaDesc(d,r);const u=this.findFirstClosedMedia(e);if(u){const e=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[e]=d}else this.sessionDesc.mediaDescriptions.push(d);return d}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(e=>"0"!==e.media.port).map(e=>e.attributes.mid)}mungRecvMediaDsec(e,t,n){const i=pk(e);return AU(i),NU(i,t),kU(i,t),RU(i),IU(i,n,this.localCapabilities.send),i}mungSendMediaDesc(e,t){const n=pk(e);return IU(n,t,this.localCapabilities.recv),MU(n),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex(t=>t.attributes.mid===e);if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find(t=>nA()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port)}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find(t=>{var n;return(null===(n=t.attributes)||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId)===e[0].ssrcId})}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find(t=>t.attributes.mid===e))||void 0===t?void 0:t.attributes.ssrcs}}(CB(CB({},e),{},{localCapabilities:this.localCapabilities}),this.supportAV1RtpSpec,!(!AR("ENABLE_PRE_SUB_WITH_PRE_PC")||!AR("PRE_USE_LOCAL_CODECS"))&&yI(this.store)),e.preallocation&&(this.isPreallocation=!0),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const i=this.remoteSDP.toString(),r=VU(this.initialOffer.sdp,this.extension),a=this.logSDPExchange(r||"","offer","local","connect");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:"offer",sdp:r}),null==a||a(i),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i});const s=this.peerConnection.getTransceivers()[0];if(null!=s&&s.receiver&&this.tryBindTransportEvents(s.receiver),yI(this.store))if(e.preallocation&&AR("ENABLE_PRE_SUB_WITH_PRE_PC")){const e=AR("PRE_SUB_NUM"),{mids:t,preSSRCs:n}=this.remoteSDP.preloadRemoteMedia(e);await BU(this.peerConnection,this.remoteSDP,this.extension),sI.debug("[".concat(this.store.clientId,"] [P2PConnection] preload media, in pre pc,add preload ssrcs ").concat(n)),this.presetMedia(t,n)}else{const{preSSRCs:t=[]}=e,n=t.map(e=>e.ssrcMsg[0].ssrcId);if(0===t.length)return;const{mids:i}=this.remoteSDP.batchSend(t.map(e=>Object.assign({},e)));await BU(this.peerConnection,this.remoteSDP,this.extension),sI.debug("[P2PConnection.connect] preload media, after join, add preload ssrcs ".concat(n)),this.presetMedia(i,n)}}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.toString()))}var t,n}presetMedia(e,t){e.forEach((e,n)=>{this.peerConnection.getTransceivers().forEach(i=>{if(null!=i.mid&&e===i.mid&&i.receiver.track){const r=i.receiver.track;let a;"video"===r.kind&&AR("ENABLE_PRE_RENDER")&&(a=new Kj({trackId:"track-".concat(r.kind,"-unknown-").concat(this.store.clientId,"_").concat(Ck(5,""))},!0),a.updateVideoTrack(r),a.onFirstVideoFrameRender=()=>{var e;const i=this.preMediaMap.get(t[n]);i&&(i.firstVideoRender=Date.now()),null===(e=this.onFirstVideoRender)||void 0===e||e.call(this,t[n])},a.play(this.store.sessionId||void 0)),this.preMediaMap.set(t[n],{mid:e,track:r,player:a,transceiver:i})}}),this.store.peerReceiver()})}checkDtlsParameters(e){return!!this.remoteSDP&&e.length>0&&this.remoteSDP.updateRemoteDtlsParameters(e)}async updateRemoteConnect(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateRemoteConnect before remote SDP created");let t=!1;const{rtpCapabilities:n}=e;if([,t]=this.remoteSDP.updateRemoteRTPCapabilities(n),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0){const e=this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);t=t||e}const{preSSRCs:i=[]}=e,r=i.map(e=>e.ssrcMsg[0].ssrcId);if(!this.remoteSDP.checkPreloadSsrcs(r)){const e=[],t=[];if(Array.from(this.preMediaMap.entries()).every(n=>{let[i,{mid:r,player:a,track:s}]=n;return e.push(r),t.push(i),this.preMediaMap.delete(i),a&&a.destroy(),!0}),e.length>0&&(this.remoteSDP.stopSending(e),await BU(this.peerConnection,this.remoteSDP,this.extension),sI.warn("[P2PConnection.updateRemoteConnect] preload media, failed, del preload ssrcs ".concat(t)),mI.reportApiInvoke(this.store.sessionId,{name:YA.PRELOAD_MEDIA_FAILED,options:[i,t],tag:XA.TRACER}).onSuccess()),i.length>0){const{mids:e}=this.remoteSDP.batchSend(i.map(e=>Object.assign({},e)));await BU(this.peerConnection,this.remoteSDP,this.extension),sI.debug("[P2PConnection.updateRemoteConnect] preload media, after join, add preload ssrcs ".concat(r)),this.presetMedia(e,r)}}t?(await BU(this.peerConnection,this.remoteSDP,this.extension),sI.debug("[P2PConnection] updateRemoteConnect by exchanging SDP.")):sI.debug("[P2PConnection] updateRemoteConnect no need to exchange SDP, because no need to update remote codecs (use local codecs)")}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.updateRemoteConnect failed; ".concat(e.toString()))}}send(e,t,n){var i=this;return XT(function*(){const r=yield JT(i.mutex.lock("From P2PConnection.send"));try{if(!i.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const a=[],s=pU();e.forEach(e=>{const t=i.peerConnection.addTransceiver(e._mediaStreamTrack,CB({direction:"sendonly"},"video"===e.trackMediaType&&i.supportAV1RtpSpec&&s?{sendEncodings:[{scalabilityMode:s}]}:{}));a.push(t),e._updateRtpTransceiver(t)}),nA()&&!0===AR("SIMULCAST")&&(yield JT(i.applySimulcastForFirefox(a,e)));const o=yield JT(i.peerConnection.createOffer()),l=i.remoteSDP.predictReceivingMids(e.length),c=i.mungSendOfferSDP(o.sdp,e,l),d=FR(c),u=l.map(e=>{const t=d.mediaDescriptions.find(t=>t.attributes.mid===e);if(!t)throw new Error("Cannot extract ssrc from mediaDescription.");return EU(t,AR("USE_PUB_RTX"))});let h;try{h=yield u}catch(r){h=[],i.remoteSDP.receive(e,t,n,h);const a=i.remoteSDP.toString();throw yield JT(i.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield JT(i.peerConnection.setRemoteDescription({type:"answer",sdp:a})),yield JT(i.stopSending(l,!0)),r}i.remoteSDP.receive(e,t,n,h);const p=i.remoteSDP.toString(),m=i.logSDPExchange(c,"offer","local","send");return yield JT(i.peerConnection.setLocalDescription({type:"offer",sdp:c})),yield JT(i.applySimulcastEncodings(a,e)),yield JT(i.applySendEncodings(a,e)),null==m||m(p),yield JT(i.peerConnection.setRemoteDescription({type:"answer",sdp:p})),a.map((e,t)=>{const n=l[t];return{localSSRC:u[t],id:n,transceiver:e}})}catch(e){throw e instanceof kA?e:new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(e.toString()))}finally{r()}})()}async createDataChannels(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.createDataChannels before remote SDP created");let n=this.dataStreamChannelMap.get(e);if(n&&"open"===n.readyState)sI.debug("[P2PConnection] Channels are already available and can be reused directly.");else{const t=this.currentDataChannelId<1023?this.currentDataChannelId++:this.recoveredDataChannelIds.shift();if("number"!=typeof t)throw new Error("create DataChannel error, because cannot get dc id");n=this.peerConnection.createDataChannel("datastream-channel",{id:t,negotiated:!0,ordered:!1,maxRetransmits:AR("DATASTREAM_MAX_RETRANSMITS")}),n.binaryType="arraybuffer",this.dataStreamChannelMap.set(e,n)}t.forEach(e=>{e._updateOriginDataChannel(n)});const{needExchangeSDP:i}=this.remoteSDP.sendDataChannel();if(i){const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t),sI.debug("[P2PConnection] createDataChannels by exchanging SDP.")}else sI.debug("[P2PConnection] createDataChannels no need to exchange SDP.");return}catch(e){throw e instanceof kA?e:new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.createDataChannels failed; ".concat(e.toString()))}}async stopDataChannels(e){try{const t=this.dataStreamChannelMap.get(e);return t&&(t.id&&this.recoveredDataChannelIds.push(t.id),t.close()),void this.dataStreamChannelMap.delete(e)}catch(e){throw e instanceof kA?e:new kA(AA.DATACHANNEL_FAILED,"P2PConnection.stopDataChannels failed; ".concat(e.toString()))}}async stopSending(e,t){const n=t?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getTransceivers().filter(t=>-1!==e.indexOf(t.mid));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");t.map(e=>{var t;fB(this.id+e.mid,this),e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)});const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const r=this.remoteSDP.toString();null==i||i(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.toString()))}finally{n&&n()}}async receive(e,t,n,i){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{mid:r,needExchangeSDP:a}=this.remoteSDP.send(e,t,n,i);a&&(await BU(this.peerConnection,this.remoteSDP,this.extension),sI.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," by exchanging SDP.")));const s=this.peerConnection.getTransceivers().find(e=>e.mid===r);if(!s)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:s.receiver.track,id:r,transceiver:s}}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const{mids:t,needExchangeSDP:n}=this.remoteSDP.batchSend(e);return n&&(await BU(this.peerConnection,this.remoteSDP,this.extension),sI.debug("[".concat(this.store.clientId,"] [P2PConnection] batchReceive by exchanging SDP."))),t.map(e=>{const t=this.peerConnection.getTransceivers().find(t=>t.mid===e);if(!t)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:t.receiver.track,id:e,transceiver:t}})}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");e.forEach(e=>{Array.from(this.preMediaMap.entries()).some(t=>{let[n,{mid:i,player:r}]=t;if(i===e)return this.preMediaMap.delete(n),r&&r.destroy(),!0})}),this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","stopReceiving");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer();null==n||n(i.sdp||""),await this.peerConnection.setLocalDescription(i)}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","muteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer();null==n||n(i.sdp||""),await this.peerConnection.setLocalDescription(i)}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.muteRemote failed; ".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteRemote mid=".concat(e," before remote SDP created."));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","unmuteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer();null==n||n(i.sdp||""),await this.peerConnection.setLocalDescription(i)}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteRemote failed; ".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter(t=>t.mid&&-1!==e.indexOf(t.mid));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map(e=>{e.direction="inactive"});const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.muteRemote(e);const r=this.remoteSDP.toString();null==i||i(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter(t=>t.mid&&-1!==e.indexOf(t.mid));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map(async(e,t)=>{e.direction="sendonly"});const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.unmuteRemote(e),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec(e,this.remoteCodecs,this.store.codec);const r=this.remoteSDP.toString();null==i||i(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.toString()))}}restartICE(e){var t=this;return XT(function*(){const n=yield JT(t.mutex.lock("From P2PConnection.restartICE"));try{if(!t.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");const n=_I().supportPCSetConfiguration,i=AR("FORCE_TURN_TCP")||t.forceTurn;if(e===gM.RELAY&&!n)return;if(n&&!i){const n=e===gM.RELAY?"relay":"all",i=t.peerConnection.getConfiguration();i.iceTransportPolicy!==n&&(sI.debug("[".concat(t.store.clientId,"] restartICE change iceTransportPolicy from [").concat(i.iceTransportPolicy,"] to [").concat(n,"]")),i.iceTransportPolicy=n,t.peerConnection.setConfiguration(i))}t.remoteSDP.updateCandidates(e);const r=yield JT(t.peerConnection.createOffer({iceRestart:!0}));if(!r.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const a=wU(r.sdp),{remoteIceParameters:s}=yield a.iceParameters;t.remoteSDP.restartICE(s);const o=t.remoteSDP.toString(),l=t.logSDPExchange(r.sdp||"","offer","local","restartICE");t.store.descriptionStart(),yield JT(t.peerConnection.setLocalDescription(r)),null==l||l(o),yield JT(t.peerConnection.setRemoteDescription({type:"answer",sdp:o}))}catch(e){sI.warning("[".concat(t.store.clientId,"] restart ICE failed, abort operation"),e)}finally{n()}})()}async extendCandidate(){if(!this.remoteSDP||this.isFirstConnected)return;const e=await this.mutex.lock("From P2PConnection.extendCandidate");try{this.remoteSDP.updateCandidates(gM.TCP_RELAY),await BU(this.peerConnection,this.remoteSDP,this.extension)}catch(e){sI.warning("[".concat(this.store.clientId,"] extend candidate failed, abort operation"),e)}finally{e()}}close(){var e;this.peerConnection.getTransceivers().forEach(e=>{fB(this.id+e.mid,this)}),this.preMediaMap.forEach(e=>{let{player:t}=e;t&&t.destroy()}),this.preMediaMap.clear(),this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear(),this.recoveredDataChannelIds=[],this.currentDataChannelId=1}getStats(){return CB(CB({},this.statsFilter.getStats()),{},{qualityLimitationReason:this.qualityLimitationReason})}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const n=await this.peerConnection.createOffer(),i=this.mungSendOfferSDP(n.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const r=this.remoteSDP.toString(),a=this.logSDPExchange(i,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:i}),null==a||a(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getTransceivers().filter(t=>t.mid===e);1===n.length&&(this.isVP8Simulcast(t)?nA()||await this.applySimulcastEncodings(n,[t]):await this.applySendEncodings(n,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getTransceivers().find(e=>e.mid===t);n&&await n.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:n,remote:i}=t.getSelectedCandidatePair();return{local:CB(CB({},$k),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port}),remote:CB(CB({},$k),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;"connected"===this.peerConnection.connectionState&&(this.isFirstConnected=!0),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidateerror=e=>{if(e&&(e.errorCode||e.errorText)){var t;const n="code: ".concat(e.errorCode,", message: ").concat(e.errorText),i=e.port?"local: ".concat(e.port):"",r=hU(e.url||"");sI.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICECandidateError(").concat(n,"), url: ").concat(r||"",", host_candidate:").concat(i)),null===(t=this.onICECandidateError)||void 0===t||t.call(this,n)}},this.peerConnection.onicegatheringstatechange=e=>{e&&e.target&&"iceGatheringState"in e.target&&sI.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] RTCPeerConnection.onicegatheringstatechange(").concat(e.target.iceGatheringState,")"))},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,sI.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,sI.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))},AR("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const n={iceServers:[]},i=t.cloudProxyServer||"disabled";return t.iceServers?n.iceServers=t.iceServers:t.turnServer&&(QA(t.turnServer.servers)?n.iceServers=t.turnServer.servers:AR("NEW_TURN_MODE")&&n.iceServers&&"disabled"===i?(AR("USE_TURN_SERVER_OF_GATEWAY")?t.turnServer.serversFromGateway&&n.iceServers.push(...e.newTurnServerConfigToIceServers(t.turnServer.serversFromGateway)):n.iceServers.push(...e.newTurnServerConfigToIceServers(t.turnServer.servers)),AR("NEW_FORCE_TURN")&&(n.iceTransportPolicy="relay")):"off"!==t.turnServer.mode&&(n.iceServers&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),AR("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&t.turnServer.serversFromGateway&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),AR("FORCE_TURN_TCP")?n.iceTransportPolicy="relay":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach(e=>{e.forceturn&&(n.iceTransportPolicy="relay")}))),AR("ENABLE_ENCODED_TRANSFORM")&&_I().supportWebRTCEncodedTransform&&(n.encodedInsertableStreams=!0),n}static turnServerConfigToIceServers(e){const t=[];return e.forEach(e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(nU(e.turnServerURL),":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&!AR("FORCE_TURN_TCP")&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))}),t}static newTurnServerConfigToIceServers(e){const t=[];return e.forEach(e=>{const n=AR("NEW_TURN_MODE");1===n?t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":3478?transport=udp")}):2===n?t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":3478?transport=tcp")}):3===n?t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(nU(e.turnServerURL),":443?transport=tcp")}):4===n&&(t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":3478?transport=udp")}),t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":3478?transport=tcp")}),t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(nU(e.turnServerURL),":443?transport=tcp")}))}),t}tryBindTransportEvents(e){const t=e.transport;if(t){this.transportEventReceiver=e,t.onstatechange=()=>{var e;null!=t&&t.state&&(null===(e=this.onDTLSTransportStateChange)||void 0===e||e.call(this,t.state))},t.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,"error"in e?e.error:e)};const n=t.iceTransport;n&&(n.onstatechange=()=>{const e=null==t?void 0:t.iceTransport.state;var n;e&&(null===(n=this.onICETransportStateChange)||void 0===n||n.call(this,e))},n.getSelectedCandidatePair&&(n.onselectedcandidatepairchange=()=>{if(n.getSelectedCandidatePair()){const{local:e,remote:t}=n.getSelectedCandidatePair()||{};if(e&&t){const n=e.address+":"+e.port,i=t.address+":"+t.port;sI.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify(hU(n)),", remote ").concat(JSON.stringify(hU(i))))}}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var n,i;if(!t){const n=this.peerConnection.getSenders();t=n.find(t=>t.track===e._mediaStreamTrack)}if(!t)return sI.warn("[".concat(e.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(e))return sI.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!_I().supportSetRtpSenderParameters)return sI.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const r={},a={};switch(e._optimizationMode){case"motion":r.degradationPreference="maintain-framerate";break;case"detail":r.degradationPreference="maintain-resolution";break;case"balanced":r.degradationPreference="balanced"}const s=function(e,t){return e.getTransceivers().find(e=>e.sender.track===t||e.receiver.track===t)}(this.peerConnection,e._mediaStreamTrack),o=JO(e);if(function(e){var t;return!(!AR("ENABLE_AG_ADAPTATION")||!(e instanceof DP||Pi(t=e._hints).call(t,UI.CUSTOM_TRACK))||!AR("FORCE_SUPPORT_AG_ADAPTATION")&&!(dA(14,0,!1)&&uA(17,4,!0)||cA(14)&&hA(17,4,!0)))}(e)&&s&&t&&o&&this.getLocalVideoStats&&Pi(n=["vp8","vp9"]).call(n,this.store.codec)){var l;const n=r.degradationPreference||(Pi(l=e._hints).call(l,UI.CUSTOM_TRACK)?AR("CUSTOM_ADAPTATION_DEFAULT_MODE"):"maintain-framerate");!function(e,t,n,i,r,a){if(fB(e,n),r(t),"balanced"!==i&&"maintain-framerate"!==i&&"maintain-resolution"!==i)return;let s=-1;cB(e,t);const o=window.setInterval(()=>{const o=mB.get(e);if(!AR("ENABLE_AG_ADAPTATION")||!o)return fB(e,n),void r(t);const l=a();if(l.sendPackets>0&&l.OutgoingAvailableBandwidth>0){if(-1===s)return void(s=Date.now());if(Date.now()-s<1e3)return;const a=l.sendFrameRate,c=l.OutgoingAvailableBandwidth,[d,u]=uB(e,a,c,o.adaptationConfig,t,i);u&&(n.qualityLimitationReason=u),d&&o.adaptationConfig.scale!==d.scale&&(sI.debug("[".concat(e,"] applyAdaptation: ").concat(n.qualityLimitationReason,"\n           sendFps ").concat(a,", bwe ").concat(c,", switch from ").concat(o.adaptationConfig.scale," to ").concat(d.scale," ")),o.adaptationConfig=pB(pB({},o.adaptationConfig),d),r(d))}},AR("CHECK_LOCAL_STATS_INTERVAL")),l=pB({},t);mB.set(e,{timer:o,adaptationConfig:l,originConfig:t,adaptationFunc:r}),sI.debug("[".concat(e,"] start adaptation, originConfig: ").concat(JSON.stringify(t),", degradationPreference: ").concat(i))}(this.id+s.mid,o,this,n,e=>{t&&this.updateAdaptation(t,e)},this.getLocalVideoStats.bind(this))}if(e._encoderConfig){var c;const{bitrateMax:t,frameRate:n,scaleResolutionDownBy:i}=e._encoderConfig;t&&(a.maxBitrate=1e3*t),(Pi(c=e._hints).call(c,UI.LOW_STREAM)||e.isUseScaleResolutionDownBy)&&(n&&(a.maxFramerate=aU(n)),i&&i>=1&&(a.scaleResolutionDownBy=i))}const{maxFramerate:d}=AR("ENCODER_CONFIG_LIMIT");if(d&&"number"==typeof d&&(a.maxFramerate=a.maxFramerate?Math.min(a.maxFramerate,d):d),AR("DSCP_TYPE")&&wA()){var u;const e=AR("DSCP_TYPE");Pi(u=["very-low","low","medium","high"]).call(u,e)&&(a.networkPriority=e)}const h=t.getParameters(),p=null===(i=h.encodings)||void 0===i?void 0:i[0];nA()&&!p&&(r.encodings=[a]),p&&Object.assign(p,a),Object.assign(h,r),sI.debug("[".concat(e.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(h.encodings))),await t.setParameters(h),await async function(e,t,n){try{var i;if(!_I().supportSetRtpSenderParameters)return;if(!function(e){return"vp9"===e||"av1"===e}(e)||!AR("ENABLE_SVC"))return;const r={},a={},s=t.getParameters(),o=null===(i=s.encodings)||void 0===i?void 0:i[0];a.scalabilityMode=pU(n),o&&Object.assign(o,a),Object.assign(s,r),await t.setParameters(s),sI.debug("[updateAdaptation] updateRtpSenderEncodings scalabilityMode success: ".concat(JSON.stringify(s.encodings)))}catch(e){sI.debug("[updateAdaptation] updateRtpSenderEncodings scalabilityMode failed",e)}}(this.store.codec,t,AR("SVC_MODE"))}async updateAdaptation(e,t){var n,i;if(!e)return sI.debug("[updateAdaptation] no rtpSender found");if(!_I().supportSetRtpSenderParameters)return sI.debug("[updateAdaptation] Browser not support set rtp-sender parameters");const r={},{bitrateMax:a,frameRate:s,scaleResolutionDownBy:o}=t;a&&(r.maxBitrate=1e3*a),s&&(r.maxFramerate=aU(s)),o&&o>=1&&Pi(n=["vp8","vp9"]).call(n,this.store.codec)&&(r.scaleResolutionDownBy=o);const l=e.getParameters(),c=null===(i=l.encodings)||void 0===i?void 0:i[0];c&&Object.assign(c,r),Object.assign(l,{});try{await e.setParameters(l),sI.debug("[updateAdaptation] updateRtpSenderEncodings: ".concat(JSON.stringify(l.encodings)))}catch(t){!("transport"in e)||e.transport&&"connected"===e.transport.state?"connected"!==this.peerConnectionState?sI.debug("[updateAdaptation] peerConnection not connected}"):sI.debug("[updateAdaptation] updateRtpSenderEncodings failed",t):sI.debug("[updateAdaptation] rtpSender transport not connected}")}}async applySendEncodings(e,t){try{if(!_I().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let n=0;n<e.length;n++){const i=e[n],r=t[n];r instanceof PP&&!this.isVP8Simulcast(r)&&await this.updateRtpSenderEncodings(r,i.sender)}}catch(e){sI.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(e,t,n){const i=FR(e);return t.forEach((e,t)=>{const r=n[t],a=i.mediaDescriptions.find(e=>e.attributes.mid===r);a&&(NU(a,e),OU(a,e,this.store.codec))}),BR(i)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var i;null===(i=this.onFirstVideoDecoded)||void 0===i||i.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let o=0;o<e.length;o++){var n,i,r,a,s;const l=e[o],c=t[o];if(c instanceof PP&&!Pi(n=c._hints).call(n,UI.LOW_STREAM)&&null!==(i=c._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(r=c._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(a=c._scalabilityMode)&&void 0!==a&&a.numSpatialLayers&&(null===(s=c._scalabilityMode)||void 0===s?void 0:s.numSpatialLayers)>1&&"vp8"===this.store.codec){const e={},t={high:1e3*(c._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:"m",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:t.high}];const n=l.sender.getParameters();await l.sender.setParameters(Object.assign(n,e))}}}async applySimulcastEncodings(e,t){if(!nA()&&e.length===t.length)for(let n=0;n<e.length;n++){const i=t[n];if(i instanceof PP&&this.isVP8Simulcast(i)){const t=e[n],r={},a={high:1e3*(i._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:a.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:a.medium,scaleResolutionDownBy:4}];const s=t.sender.getParameters();await t.sender.setParameters(Object.assign(s,r))}}}isVP8Simulcast(e){var t,n,i,r,a;return!!(e instanceof PP&&AR("SIMULCAST")&&"vp8"===this.store.codec&&!Pi(t=e._hints).call(t,UI.LOW_STREAM)&&null!==(n=e._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(i=e._encoderConfig)||void 0===i?void 0:i.bitrateMax)>200&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(a=e._scalabilityMode)||void 0===a?void 0:a.numSpatialLayers)>1)}logSDPExchange(e,t,n,i){if(AR("SDP_LOGGING"))return sI.upload("[".concat(this.store.clientId,"] exchanging ").concat(n," ").concat(t," SDP during P2PConnection.").concat(i,"\n"),e),"offer"===t?e=>{this.logSDPExchange(e,"answer","local"===n?"remote":"local",i)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return t&&0!==t.length?t[0].ssrcId:void 0}setConfiguration(t){if(_I().supportPCSetConfiguration){const n=e.resolvePCConfiguration(t);this.peerConnection.setConfiguration(n)}t.isPreallocation&&(this.isPreallocation=!0)}},kL(EB.prototype,"updateRemoteRTPCapabilities",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"updateRemoteRTPCapabilities"),EB.prototype),kL(EB.prototype,"connect",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"connect"),EB.prototype),kL(EB.prototype,"updateRemoteConnect",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"updateRemoteConnect"),EB.prototype),kL(EB.prototype,"createDataChannels",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"createDataChannels"),EB.prototype),kL(EB.prototype,"receive",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"receive"),EB.prototype),kL(EB.prototype,"batchReceive",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"batchReceive"),EB.prototype),kL(EB.prototype,"stopReceiving",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"stopReceiving"),EB.prototype),kL(EB.prototype,"muteRemote",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"muteRemote"),EB.prototype),kL(EB.prototype,"unmuteRemote",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"unmuteRemote"),EB.prototype),kL(EB.prototype,"muteLocal",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"muteLocal"),EB.prototype),kL(EB.prototype,"unmuteLocal",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"unmuteLocal"),EB.prototype),kL(EB.prototype,"close",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"close"),EB.prototype),kL(EB.prototype,"updateEncoderConfig",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"updateEncoderConfig"),EB.prototype),kL(EB.prototype,"updateSendParameters",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"updateSendParameters"),EB.prototype),kL(EB.prototype,"replaceTrack",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"replaceTrack"),EB.prototype),kL(EB.prototype,"updateAdaptation",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"updateAdaptation"),EB.prototype),kL(EB.prototype,"getRemoteSSRC",[NB],Object.getOwnPropertyDescriptor(EB.prototype,"getRemoteSSRC"),EB.prototype),EB);function NB(e,t,n){const i=e[t];if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PConnection.".concat(t));try{for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return await i.apply(this,a)}finally{n()}},n}function AB(e,t){let n=document.createElement("video"),i=document.createElement("canvas");n.setAttribute("style","display:none"),i.setAttribute("style","display:none"),n.setAttribute("muted",""),n.muted=!0,n.setAttribute("autoplay",""),n.autoplay=!0,n.setAttribute("playsinline",""),i.width=aU(t.width),i.height=aU(t.height);const r=aU(t.framerate||15);document.body.append(n),document.body.append(i);let a=e._mediaStreamTrack;n.srcObject=new MediaStream([a]),n.play();const s=i.getContext("2d");if(!s)throw new fI(AA.UNEXPECTED_ERROR,"can not get canvas context");const o=_I(),l=i.captureStream(o.supportRequestFrame?0:r).getVideoTracks()[0];l.canvas||(l.canvas=i),i.startCapture=()=>{if(!n)return i.stopCapture&&i.stopCapture();if(n.paused&&n.play(),n.videoHeight>2&&n.videoWidth>2){const e=n.videoWidth,t=n.videoHeight/e,r=i.width*t;Math.abs(r-i.height)>=2&&(sI.debug("adjust low stream resolution","".concat(i.width,"x").concat(i.height," -> ").concat(i.width,"x").concat(r)),i.height=r)}s.drawImage(n,0,0,i.width,i.height),l.requestFrame&&l.requestFrame(),a!==e._mediaStreamTrack&&(a=e._mediaStreamTrack,n.srcObject=new MediaStream([a]))},i.stopCapture=vO(()=>i.startCapture&&i.startCapture(),r);const c=l.stop;return l.stop=()=>{c.call(l),n&&(n.remove(),n.srcObject=null,n=null),i&&(i.width=0,i.remove(),i.stopCapture&&i.stopCapture(),i.startCapture=void 0,i.stopCapture=void 0,i=null),sI.debug("clean low stream renderer")},l}var kB=function(e){return e[e.Video_Send_Type=190]="Video_Send_Type",e}(kB||{}),RB=function(e){return e[e.Video_Send_Qp_Sum=2143]="Video_Send_Qp_Sum",e[e.Video_Send_Freeze=2082]="Video_Send_Freeze",e[e.Video_Recv_Qp_Sum=2144]="Video_Recv_Qp_Sum",e[e.Video_Recv_Freeze=2084]="Video_Recv_Freeze",e[e.Video_Render_Freeze_Time=2109]="Video_Render_Freeze_Time",e[e.Video_Render_Freeze_Time_Render=2147]="Video_Render_Freeze_Time_Render",e[e.Video_Render_Freeze_Time_Render2=2223]="Video_Render_Freeze_Time_Render2",e[e.Audio_Recv_Freeze=2083]="Audio_Recv_Freeze",e}(RB||{}),IB=function(e){return e[e.Video_Send_Retransmit=2062]="Video_Send_Retransmit",e[e.Video_Send_Target_Encoded=2064]="Video_Send_Target_Encoded",e[e.Video_Send_Actual_Encoded=2060]="Video_Send_Actual_Encoded",e[e.Video_Send_Transmit=2066]="Video_Send_Transmit",e[e.Video_Send_Bandwidth=2061]="Video_Send_Bandwidth",e[e.Video_Capture_Height=2033]="Video_Capture_Height",e[e.Video_Capture_Width=2035]="Video_Capture_Width",e[e.Video_Capture_Frame_Rate=2034]="Video_Capture_Frame_Rate",e[e.Video_Send_Low_Height=2073]="Video_Send_Low_Height",e[e.Video_Send_Low_Frame_Rate=2075]="Video_Send_Low_Frame_Rate",e[e.Video_Send_Low_Width=2077]="Video_Send_Low_Width",e[e.Video_Send_Low_Bitrate=2069]="Video_Send_Low_Bitrate",e[e.Video_Send_Low_Package_Lost=2070]="Video_Send_Low_Package_Lost",e[e.Video_Send_Low_Package_Rate=2071]="Video_Send_Low_Package_Rate",e[e.Video_Send_Frame_Rate=2002]="Video_Send_Frame_Rate",e[e.Video_Send_Width=2003]="Video_Send_Width",e[e.Video_Send_Height=2004]="Video_Send_Height",e[e.Video_Send_Disabled=2095]="Video_Send_Disabled",e[e.Video_Send_Adaptation=2032]="Video_Send_Adaptation",e[e.Video_Send_Player_Status=2128]="Video_Send_Player_Status",e[e.Video_Send_Nacks=2009]="Video_Send_Nacks",e[e.Video_Send_Plis=2010]="Video_Send_Plis",e[e.Video_Send_Firs=2011]="Video_Send_Firs",e[e.Video_Send_Avg_Encode=2007]="Video_Send_Avg_Encode",e[e.Video_Send_Huge_Frame_Sent=2174]="Video_Send_Huge_Frame_Sent",e[e.Video_Send_Bytes_Retransmit=2173]="Video_Send_Bytes_Retransmit",e[e.Video_Send_Packages_Retransmit=2172]="Video_Send_Packages_Retransmit",e[e.Video_Send_Key_Frames_Encoded=2207]="Video_Send_Key_Frames_Encoded",e[e.Video_Send_Bitrate=2012]="Video_Send_Bitrate",e[e.Video_Send_Package_Rate=2031]="Video_Send_Package_Rate",e[e.Video_Send_Package_Lost=2005]="Video_Send_Package_Lost",e[e.Audio_Capture_PCM_Level=2104]="Audio_Capture_PCM_Level",e[e.Audio_Send_Level=2038]="Audio_Send_Level",e[e.Audio_Send_Bitrate=2039]="Audio_Send_Bitrate",e[e.Audio_Send_Package_Rate=2040]="Audio_Send_Package_Rate",e[e.Audio_Send_AEC_Return_Loss=2041]="Audio_Send_AEC_Return_Loss",e[e.Audio_Send_AEC_Return_Loss_Enhancement=2042]="Audio_Send_AEC_Return_Loss_Enhancement",e[e.Audio_Send_Freeze=2081]="Audio_Send_Freeze",e[e.Audio_Send_Disabled=2096]="Audio_Send_Disabled",e[e.Audio_Send_Bytes_Retransmit=2179]="Audio_Send_Bytes_Retransmit",e[e.Audio_Send_Packages_Retransmit=2180]="Audio_Send_Packages_Retransmit",e[e.Video_Recv_Height=2019]="Video_Recv_Height",e[e.Video_Recv_Width=2018]="Video_Recv_Width",e[e.Video_Recv_Frame_Rate_Output=2155]="Video_Recv_Frame_Rate_Output",e[e.Video_Recv_Jitter_Buffer=2023]="Video_Recv_Jitter_Buffer",e[e.Video_Recv_Current_Delay=2024]="Video_Recv_Current_Delay",e[e.Video_Recv_Nacks=2026]="Video_Recv_Nacks",e[e.Video_Recv_Plis=2027]="Video_Recv_Plis",e[e.Video_Recv_Firs=2028]="Video_Recv_Firs",e[e.Video_Recv_Disabled=2101]="Video_Recv_Disabled",e[e.Video_Recv_Player_Status=2129]="Video_Recv_Player_Status",e[e.Video_Recv_I_Frame_Delay=2149]="Video_Recv_I_Frame_Delay",e[e.Video_Render_Frame_Rate_Render=2022]="Video_Render_Frame_Rate_Render",e[e.Video_Render_Freeze_Duration=2156]="Video_Render_Freeze_Duration",e[e.Audio_Render_Level=2043]="Audio_Render_Level",e[e.Audio_Render_Freeze_Time_80ms=2226]="Audio_Render_Freeze_Time_80ms",e[e.Audio_Render_Freeze_Time_200ms=2227]="Audio_Render_Freeze_Time_200ms",e[e.Audio_Render_Freeze_Samples_80ms=2228]="Audio_Render_Freeze_Samples_80ms",e[e.Audio_Render_Freeze_Samples_200ms=2229]="Audio_Render_Freeze_Samples_200ms",e[e.Audio_Recv_PCM_Level=2105]="Audio_Recv_PCM_Level",e[e.Audio_Recv_Disabled=2102]="Audio_Recv_Disabled",e[e.Audio_Recv_Jitter_Buffer=2054]="Audio_Recv_Jitter_Buffer",e[e.Audio_Recv_Current_Delay=2047]="Audio_Recv_Current_Delay",e[e.Audio_Recv_Player_Status=2130]="Audio_Recv_Player_Status",e[e.Audio_Recv_Bitrate=2044]="Audio_Recv_Bitrate",e[e.Audio_Recv_Concealed_Samples=2148]="Audio_Recv_Concealed_Samples",e[e.Audio_Recv_Total_Samples_Received=2224]="Audio_Recv_Total_Samples_Received",e}(IB||{}),OB=function(e){return e[e.Video_Render_Frame_Rate_Decode=2021]="Video_Render_Frame_Rate_Decode",e[e.Video_Recv_Frame_Rate=2020]="Video_Recv_Frame_Rate",e[e.Video_Recv_Frame_Dropped=2181]="Video_Recv_Frame_Dropped",e[e.Video_Recv_Bytes_Retransmit=2175]="Video_Recv_Bytes_Retransmit",e[e.Video_Recv_Packages_Retransmit=2176]="Video_Recv_Packages_Retransmit",e[e.Video_Recv_Packages_Discarded=2198]="Video_Recv_Packages_Discarded",e[e.Video_Recv_Avg_Decode=2200]="Video_Recv_Avg_Decode",e[e.Video_Recv_Avg_Processing_Delay=2202]="Video_Recv_Avg_Processing_Delay",e[e.Video_Recv_Avg_Assembly_Time=2203]="Video_Recv_Avg_Assembly_Time",e[e.Video_Recv_Avg_Inter_Frame_Delay=2204]="Video_Recv_Avg_Inter_Frame_Delay",e[e.Video_Recv_Key_Frames_Decoded=2206]="Video_Recv_Key_Frames_Decoded",e[e.Video_Recv_Package_Lost=2014]="Video_Recv_Package_Lost",e[e.Video_Recv_Bitrate=2029]="Video_Recv_Bitrate",e[e.Video_Recv_Package_Rate=2078]="Video_Recv_Package_Rate",e[e.Audio_Recv_Jitter=2055]="Audio_Recv_Jitter",e[e.Audio_Recv_Bytes_Retransmit=2178]="Audio_Recv_Bytes_Retransmit",e[e.Audio_Recv_Packages_Retransmit=2177]="Audio_Recv_Packages_Retransmit",e[e.Audio_Recv_Packages_Discarded=2199]="Audio_Recv_Packages_Discarded",e[e.Audio_Recv_Avg_Processing_Delay=2201]="Audio_Recv_Avg_Processing_Delay",e[e.Audio_Recv_Package_Rate=2046]="Audio_Recv_Package_Rate",e[e.Audio_Recv_Package_Lost=2045]="Audio_Recv_Package_Lost",e}(OB||{}),jB=function(e){return e[e.RTT=2006]="RTT",e[e.CONN_TYPE=801]="CONN_TYPE",e[e.STATS_UPDATE_INTERVAL=2205]="STATS_UPDATE_INTERVAL",e}(jB||{}),PB=function(e){return e[e.RTC_PEER_CONNECTION_STATE=2219]="RTC_PEER_CONNECTION_STATE",e}(PB||{});const DB=1e3,LB=6,MB=3,UB=Math.max(LB,MB,60);function FB(e,t,n){null!=n&&Number.isFinite(n)&&(e[t]=Math.round(Math.max(0,n)))}function BB(e){const t={[jB.CONN_TYPE]:0,[jB.RTT]:e.rtt,[jB.STATS_UPDATE_INTERVAL]:e.updateInterval?Math.round(Math.max(0,e.updateInterval)):void 0};switch(e.selectedCandidatePair.localCandidate.candidateType){case"relay":{const n=e.selectedCandidatePair.localCandidate.relayProtocol;"udp"===n&&(t[jB.CONN_TYPE]=1),"tcp"===n&&(t[jB.CONN_TYPE]=3),"tls"===n&&(t[jB.CONN_TYPE]=4);break}case"srflx":t[jB.CONN_TYPE]=2;break;case"unknown":t[jB.CONN_TYPE]=5;break;default:t[jB.CONN_TYPE]=0}return t}function VB(e){let t=0;switch(e){case"none":t=0;break;case"cpu":t=1;break;case"bandwidth":t=2;break;case"other":t=3}return t}class zB extends WA{constructor(e){super(),uC(this,"store",void 0),uC(this,"uploadWRTCStatsTimer",void 0),uC(this,"uploadOutboundDenoiserStatsTimer",void 0),uC(this,"uploadExtStatsTimer",void 0),uC(this,"uploadExtUsageStatsTimer",void 0),uC(this,"uploadInboundExtStatsTimer",void 0),uC(this,"requestStats",void 0),uC(this,"requestTransportStats",void 0),uC(this,"requestLocalMedia",void 0),uC(this,"requestRemoteMedia",void 0),uC(this,"requestAllTracks",void 0),uC(this,"requestVideoIsReady",void 0),uC(this,"requestUploadStats",void 0),uC(this,"requestUpload",void 0),uC(this,"uploadOutboundStarted",!1),uC(this,"uploadInboundStarted",!1),uC(this,"uploadTransportStarted",!1),uC(this,"uploadBaseStatsStarted",!1),uC(this,"uploadExtensionUsageStarted",!1),uC(this,"lastRecvStats",void 0),uC(this,"lastSendStats",void 0),uC(this,"lastRefRecvStats",void 0),uC(this,"lastRefSendStats",void 0),uC(this,"lastNormalRecvStats",void 0),uC(this,"lastNormalSendStats",void 0),uC(this,"lastExtendStats",{}),uC(this,"needUploadStats",{}),uC(this,"needUploadRenderFreezeTime",!0),uC(this,"lastUploadCompensateTime",-1),uC(this,"uploadCompensateDeltaTime",0),this.store=e}uploadWRTCStats(e){if(!this.requestStats||!this.requestUploadStats)return;const t=e%MB==0,n=e%LB==0,i=e%60==0;let r,a;if(this.uploadTransportStarted&&(r=this.requestStats(),this.store.useP2P&&(a=this.requestStats(!0))),!r&&this.uploadOutboundStarted&&(r=this.requestStats()),!a&&this.uploadInboundStarted&&(a=this.requestStats(!0)),r||a){var s;const o={};if(this.uploadTransportStarted&&r){const e=this.getTransportStats(r,a,t);e&&(o.misc=[e])}if(this.uploadOutboundStarted&&r){const e=this.getOutboundStats(r,n?this.lastNormalSendStats:void 0,t?this.lastRefSendStats:void 0,this.lastSendStats,i);e&&(o.outbound=[e])}if(this.uploadInboundStarted&&a){this.uploadCompensateStats(e);const i=this.getInboundStats(a,n?this.lastNormalRecvStats:void 0,t?this.lastRefRecvStats:void 0,this.lastRecvStats);i&&(o.inbound=i)}const l=null===(s=this.requestTransportStats)||void 0===s?void 0:s.call(this).connectState;l&&(Array.isArray(o.misc)?o.misc[0]&&o.misc[0].addition&&(o.misc[0].addition[PB.RTC_PEER_CONNECTION_STATE]=cR[l]):o.misc=[{addition:{[PB.RTC_PEER_CONNECTION_STATE]:cR[l]}}]),this.needUploadStats.sendType&&(Array.isArray(o.outbound)&&o.outbound[0]&&o.outbound[0].high&&(o.outbound[0].high[kB.Video_Send_Type]=this.needUploadStats.sendType),this.needUploadStats.sendType=void 0),this.requestUploadStats(o)}this.lastRecvStats=a,this.lastSendStats=r,n&&(this.lastNormalRecvStats=a,this.lastNormalSendStats=r),t&&(this.lastRefRecvStats=a,this.lastRefSendStats=r)}startUploadWRTCStats(){if(this.uploadWRTCStatsTimer)return;this.uploadBaseStatsStarted=!0;let e=1;this.uploadWRTCStatsTimer=window.setInterval(()=>{if(!this.uploadTransportStarted&&!this.uploadInboundStarted&&!this.uploadOutboundStarted){if(this.uploadBaseStatsStarted){var t,n;const e=null===(t=this.requestTransportStats)||void 0===t?void 0:t.call(this);return void(e&&(null===(n=this.requestUploadStats)||void 0===n||n.call(this,{misc:[{addition:{[PB.RTC_PEER_CONNECTION_STATE]:cR[e.connectState]}}]})))}return this.stopUploadWRTCStats()}this.uploadWRTCStats(e),++e===UB+1&&(e=1)},DB)}uploadCompensateStats(e){if(!this.requestStats||!this.requestUploadStats||!this.requestRemoteMedia)return;const t=e%MB==0&&this.needUploadRenderFreezeTime;if(!this.uploadInboundStarted||!t)return;if(-1===this.lastUploadCompensateTime)return void(this.lastUploadCompensateTime=Date.now());const n=Math.max(-6e3,Date.now()-this.lastUploadCompensateTime-6e3);if(this.uploadCompensateDeltaTime+=n,this.lastUploadCompensateTime=Date.now(),this.uploadCompensateDeltaTime<6e3)return;const i=Math.min(Math.floor(this.uploadCompensateDeltaTime/6e3),10);this.uploadCompensateDeltaTime-=6e3*i;const r=this.requestStats(!0);new Array(i).fill(0).forEach(()=>{if(!this.requestStats||!this.requestUploadStats||!this.requestRemoteMedia)return;const e={};if(this.uploadInboundStarted&&r){const t=this.requestRemoteMedia()||[],n=[];t.forEach(e=>{let[t,i]=e;const a={peer:t.uid};if(t._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(t._videoSSRC)&&i.has(fM.VIDEO)&&t.videoTrack){const e=function(e,t,n){if(!t.videoRecv.find(t=>t.ssrc===e))return;const i={};if(n&&n._player){const e=n._player,{renderFreezeAccTime2:t,videoElementStatus:r}=e;if("visible"===QP.visibility&&r===nO.PLAYING&&_I().supportRequestVideoFrameCallback){const n=Math.min(6e3,t);e.renderFreezeAccTime2=Math.max(0,t-n),FB(i,RB.Video_Render_Freeze_Time_Render2,n),AR("USE_NEW_RENDER_FREEZE_TIME")&&FB(i,RB.Video_Render_Freeze_Time_Render,n)}}return i}(t._videoSSRC,r,t.videoTrack);e&&(a.video=e)}a.video&&n.push(a)}),n.length>0&&(e.inbound=n,this.requestUploadStats(e))}})}stopUploadWRTCStats(){window.clearInterval(this.uploadWRTCStatsTimer),this.uploadWRTCStatsTimer=void 0,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0),this.lastRefSendStats&&(this.lastRefSendStats.videoSend=[],this.lastRefSendStats.audioSend=[],this.lastRefSendStats=void 0),this.lastRefRecvStats&&(this.lastRefRecvStats.videoRecv=[],this.lastRefRecvStats.audioRecv=[],this.lastRefRecvStats=void 0),this.lastNormalSendStats&&(this.lastNormalSendStats.videoSend=[],this.lastNormalSendStats.audioSend=[],this.lastNormalSendStats=void 0),this.lastNormalRecvStats&&(this.lastNormalRecvStats.videoRecv=[],this.lastNormalRecvStats.audioRecv=[],this.lastNormalRecvStats=void 0),this.lastExtendStats={},this.needUploadStats={},this.lastUploadCompensateTime=-1,this.uploadCompensateDeltaTime=0,this.needUploadRenderFreezeTime=!0}getTransportStats(e,t,n){if(!this.requestStats)return;if(!n)return null==e.rtt?void 0:{addition:{[jB.RTT]:e.rtt,[jB.CONN_TYPE]:void 0,[jB.STATS_UPDATE_INTERVAL]:e.updateInterval||void 0}};const i=BB(e);if(this.store.useP2P){if(t){const e=BB(t);i[jB.CONN_TYPE]+=e[jB.CONN_TYPE]<<3}i[jB.CONN_TYPE]+=110}else i[jB.CONN_TYPE]+=100;return{addition:i}}getOutboundStats(e,t,n,i,r){if(!this.requestUploadStats||!this.requestLocalMedia)return;const a=this.requestLocalMedia();if(!a||0===a.length)return;let s,o,l;return a.forEach(i=>{let[a,{track:c,ssrcs:d}]=i;switch(a){case bM.LocalVideoLowTrack:case bM.LocalVideoTrack:if(a===bM.LocalVideoTrack){var u;const i=function(e,t,n,i,r){const a=t.videoSend.find(t=>t.ssrc===e);if(!a)return;const s={},{sentFrame:o,inputFrame:l}=a;if(i&&(FB(s,RB.Video_Send_Qp_Sum,a.qpSumPerFrame),l&&o)){const e=l.frameRate,t=o.frameRate;s[RB.Video_Send_Freeze]=function(e,t){let n=!0;return n=!(e<=5)&&(e<=10?t<3:e<=20?t<4:t<5),n}(e,t)?1:0}if(r){switch(o&&(FB(s,IB.Video_Send_Height,o.height),FB(s,IB.Video_Send_Width,o.width),FB(s,IB.Video_Send_Frame_Rate,o.frameRate)),s[IB.Video_Send_Disabled]=n._originMediaStreamTrack&&!n._originMediaStreamTrack.enabled||n._mediaStreamTrack&&!n._mediaStreamTrack.enabled?1:0,a.adaptionChangeReason){case"none":s[IB.Video_Send_Adaptation]=0;break;case"cpu":s[IB.Video_Send_Adaptation]=1;break;case"bandwidth":s[IB.Video_Send_Adaptation]=2;break;case"other":s[IB.Video_Send_Adaptation]=3}let i=0;a.adaptionChangeReason&&(i+=VB(a.adaptionChangeReason)),t.qualityLimitationReason&&(i+=VB(t.qualityLimitationReason)<<3),s[IB.Video_Send_Adaptation]=i,s[IB.Video_Send_Player_Status]=rO[n._player?n._player.videoElementStatus:"uninit"],FB(s,IB.Video_Send_Nacks,a.nacksCount),FB(s,IB.Video_Send_Plis,a.plisCount),FB(s,IB.Video_Send_Firs,a.firsCount),FB(s,IB.Video_Send_Avg_Encode,a.avgEncodeMs),FB(s,IB.Video_Send_Huge_Frame_Sent,a.hugeFramesSent),FB(s,IB.Video_Send_Bytes_Retransmit,a.retransmittedBytesSent),FB(s,IB.Video_Send_Packages_Retransmit,a.retransmittedPacketsSent),FB(s,IB.Video_Send_Key_Frames_Encoded,a.keyFramesEncoded);const l=r.videoSend.find(t=>t.ssrc===e);if(l){let e=DB*MB;l.timestamp&&a.timestamp&&(e=a.timestamp-l.timestamp),null!=l.packets&&null!=a.packets&&FB(s,IB.Video_Send_Package_Rate,1e3*(a.packets-l.packets)/e),null!=a.packetsLost&&null!=l.packetsLost&&FB(s,IB.Video_Send_Package_Lost,a.packetsLost-l.packetsLost),null!=l.bytes&&null!=a.bytes&&FB(s,IB.Video_Send_Bitrate,8*(a.bytes-l.bytes)/e)}}return s}(d[0].ssrcId,e,c,t,n),a="CameraVideoTrack"===c.__className__?3:Pi(u=c._hints).call(u,UI.SCREEN_TRACK)?7:10;(this.lastExtendStats.sendType!==a||r)&&(this.needUploadStats={sendType:a},this.lastExtendStats.sendType=a);const s=c&&function(e,t,n,i){const r=t.videoSend.find(t=>t.ssrc===e);if(!r)return null;const a={};if(i){const e=r.inputFrame,t=e&&e.height||n.videoHeight||0,i=e&&e.width||n.videoWidth||0,s=e&&e.frameRate||0;FB(a,IB.Video_Capture_Height,t),FB(a,IB.Video_Capture_Width,i),FB(a,IB.Video_Capture_Frame_Rate,s)}return a}(d[0].ssrcId,e,c,!!n),l=function(e,t){const n={};return t&&(FB(n,IB.Video_Send_Retransmit,e.bitrate.retransmit),FB(n,IB.Video_Send_Target_Encoded,e.bitrate.targetEncoded),FB(n,IB.Video_Send_Actual_Encoded,e.bitrate.actualEncoded),FB(n,IB.Video_Send_Transmit,e.bitrate.transmit),FB(n,IB.Video_Send_Bandwidth,e.sendBandwidth)),n}(e,!!n);o=Object.assign({},i,s,l)}else l=function(e,t,n,i){const r=t.videoSend.find(t=>t.ssrc===e);if(!r)return;const a={};if(i){const t=r.sentFrame;t&&(FB(a,IB.Video_Send_Low_Height,t.height),FB(a,IB.Video_Send_Low_Width,t.width),FB(a,IB.Video_Send_Low_Frame_Rate,t.frameRate));const n=i.videoSend.find(t=>t.ssrc===e);if(n){let e=DB*LB;n.timestamp&&r.timestamp&&(e=r.timestamp-n.timestamp),null!=n.packets&&null!=r.packets&&FB(a,IB.Video_Send_Low_Package_Rate,1e3*(r.packets-n.packets)/e),null!=r.packetsLost&&null!=n.packetsLost&&FB(a,IB.Video_Send_Low_Package_Lost,r.packetsLost-n.packetsLost),null!=n.bytes&&null!=r.bytes&&FB(a,IB.Video_Send_Low_Bitrate,8*(r.bytes-n.bytes)/e)}}return a}(d[0].ssrcId,e,0,n);break;case bM.LocalAudioTrack:s=c&&function(e,t,n,i,r){const a=t.audioSend.find(t=>t.ssrc===e);if(!a)return;const s={};if(r){s[IB.Audio_Send_Disabled]=n._originMediaStreamTrack&&!n._originMediaStreamTrack.enabled||n._mediaStreamTrack&&!n._mediaStreamTrack.enabled?1:0;const t=100*n._source.getAccurateVolumeLevel(),i=a.inputLevel;if(null!=i){const e=Math.ceil(50*Math.log10(100*i+1));FB(s,IB.Audio_Send_Level,e)}FB(s,IB.Audio_Capture_PCM_Level,t),FB(s,IB.Audio_Send_AEC_Return_Loss,a.aecReturnLoss),FB(s,IB.Audio_Send_AEC_Return_Loss_Enhancement,a.aecReturnLossEnhancement),FB(s,IB.Audio_Send_Bytes_Retransmit,a.retransmittedBytesSent),FB(s,IB.Audio_Send_Packages_Retransmit,a.retransmittedPacketsSent),s[IB.Audio_Send_Freeze]=0;const o=r.audioSend.find(t=>t.ssrc===e);if(o){let e=DB*LB;o.timestamp&&a.timestamp&&(e=a.timestamp-o.timestamp),null!=o.bytes&&null!=a.bytes&&FB(s,IB.Audio_Send_Bitrate,8*(a.bytes-o.bytes)/e),null!=o.packets&&null!=a.packets&&FB(s,IB.Audio_Send_Package_Rate,1e3*(a.packets-o.packets)/e)}}return s}(d[0].ssrcId,e,c,0,n)}}),{high:o,low:l,audio:s}}getInboundStats(e,t,n,i){if(!this.requestRemoteMedia)return;const r=this.requestRemoteMedia()||[],a=[];return r.forEach(r=>{let[s,o]=r;const l={peer:s.uid};if(o.has(fM.VIDEO)&&s.videoTrack){const r=s._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(s._videoSSRC)||!1,a=s.videoTrack?function(e,t,n,i,r,a,s,o){const l=t.videoRecv.find(t=>t.ssrc===e);if(!l)return;const c={},{receivedFrame:d,outputFrame:u,decodeFrameRate:h}=l;FB(c,OB.Video_Render_Frame_Rate_Decode,h),l.framesRateFirefox&&FB(c,OB.Video_Recv_Frame_Rate,l.framesRateFirefox),d&&FB(c,OB.Video_Recv_Frame_Rate,d.frameRate),FB(c,OB.Video_Recv_Frame_Dropped,l.framesDroppedCount),FB(c,OB.Video_Recv_Bytes_Retransmit,l.retransmittedBytesReceived),FB(c,OB.Video_Recv_Packages_Retransmit,l.retransmittedPacketsReceived),FB(c,OB.Video_Recv_Packages_Discarded,l.packetsDiscarded),FB(c,OB.Video_Recv_Avg_Decode,l.avgDecodeMs),FB(c,OB.Video_Recv_Avg_Processing_Delay,l.avgProcessingDelayMs),FB(c,OB.Video_Recv_Avg_Assembly_Time,l.avgFramesAssembledFromMultiplePacketsMs),FB(c,OB.Video_Recv_Avg_Inter_Frame_Delay,l.avgInterFrameDelayMs),FB(c,OB.Video_Recv_Key_Frames_Decoded,l.keyFramesDecoded);const p=o&&o.videoRecv.find(t=>t.ssrc===e);if(p){const e=t.timestamp-o.timestamp||DB;null!=l.packetsLost&&null!=p.packetsLost&&FB(c,OB.Video_Recv_Package_Lost,l.packetsLost-p.packetsLost),null!=p.bytes&&null!=l.bytes&&FB(c,OB.Video_Recv_Bitrate,8*(l.bytes-p.bytes)/e),null!=p.packets&&null!=l.packets&&FB(c,OB.Video_Recv_Package_Rate,1e3*(l.packets-p.packets)/e)}const m=a&&a.videoRecv.find(t=>t.ssrc===e);if(m&&(FB(c,RB.Video_Recv_Qp_Sum,l.qpSumPerFrame),c[RB.Video_Recv_Freeze]=i&&KF.isRemoteVideoFreeze(n,l,m)?1:0),s){var f;const t=s.videoRecv.find(t=>t.ssrc===e);d?(FB(c,IB.Video_Recv_Height,d.height),FB(c,IB.Video_Recv_Width,d.width)):n&&(FB(c,IB.Video_Recv_Height,n._videoHeight||0),FB(c,IB.Video_Recv_Width,n._videoWidth||0)),u&&FB(c,IB.Video_Recv_Frame_Rate_Output,u.frameRate);const i=null===(f=n._player)||void 0===f?void 0:f.rendFrameRate.toFixed(0);if(i&&FB(c,IB.Video_Render_Frame_Rate_Render,+i),FB(c,IB.Video_Recv_Jitter_Buffer,l.jitterBufferMs),FB(c,IB.Video_Recv_Current_Delay,l.currentDelayMs),FB(c,IB.Video_Recv_Firs,l.firsCount),FB(c,IB.Video_Recv_Nacks,l.nacksCount),FB(c,IB.Video_Recv_Plis,l.plisCount),n){c[IB.Video_Recv_Disabled]=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?0:1;const e=n._player;if(e){const{freezeTimeCounterList:n,renderFreezeAccTime:i,renderFreezeAccTime2:a,videoElementStatus:s}=e;if(n&&n.length>0&&FB(c,RB.Video_Render_Freeze_Time,n.splice(0,1)[0]),r&&"visible"===QP.visibility&&s===nO.PLAYING&&_I().supportRequestVideoFrameCallback){const t=Math.min(6e3,a);e.renderFreezeAccTime2=Math.max(0,a-t),FB(c,RB.Video_Render_Freeze_Time_Render2,t);const n=Math.min(6e3,i);e.renderFreezeAccTime=Math.max(0,i-n),FB(c,RB.Video_Render_Freeze_Time_Render,AR("USE_NEW_RENDER_FREEZE_TIME")?t:n)}if("number"==typeof l.totalFreezesDuration){const e=t&&t.totalFreezesDuration?l.totalFreezesDuration-t.totalFreezesDuration:l.totalFreezesDuration;FB(c,IB.Video_Render_Freeze_Duration,1e3*e)}}}if(c[IB.Video_Recv_Player_Status]=rO[n._player?n._player.videoElementStatus:"uninit"],t&&void 0!==l.totalInterFrameDelay&&void 0!==l.totalSquaredInterFrameDelay&&void 0!==t.totalInterFrameDelay&&void 0!==t.totalSquaredInterFrameDelay){const e=l.totalInterFrameDelay-t.totalInterFrameDelay,n=l.totalSquaredInterFrameDelay-t.totalSquaredInterFrameDelay,i=l.framesDecodeCount-t.framesDecodeCount,r=e/i*1e3,a=Math.round(1e3*Math.sqrt((n-Math.pow(e,2)/i)/i));!isNaN(a)&&r+a>Math.max(3*r,r+150)&&(c[IB.Video_Recv_I_Frame_Delay]=a)}}return c}(s._videoSSRC,e,s.videoTrack,!0===r,this.needUploadRenderFreezeTime,t,n,i):void 0;a&&(l.video=a)}if(o.has(fM.AUDIO)&&s.audioTrack){const r=s.audioTrack?function(e,t,n,i,r,a){const s=t.audioRecv.find(t=>t.ssrc===e);if(!s)return;const o={};FB(o,OB.Audio_Recv_Jitter,s.jitterMs),FB(o,OB.Audio_Recv_Bytes_Retransmit,s.retransmittedBytesReceived),FB(o,OB.Audio_Recv_Packages_Retransmit,s.retransmittedPacketsReceived),FB(o,OB.Audio_Recv_Packages_Discarded,s.packetsDiscarded),FB(o,OB.Audio_Recv_Avg_Processing_Delay,s.avgProcessingDelayMs);const l=a&&a.audioRecv.find(t=>t.ssrc===e);if(l){const e=DB;null!=s.packets&&null!=l.packets&&FB(o,OB.Audio_Recv_Package_Rate,1e3*(s.packets-l.packets)/e),null!=s.packetsLost&&null!=l.packetsLost&&FB(o,OB.Audio_Recv_Package_Lost,s.packetsLost-l.packetsLost)}if(i){const{receivedFrames:e,droppedFrames:t}=s;null!=e&&null!=t&&(o[RB.Audio_Recv_Freeze]=0===(c=e)||100*t/c>20?1:0)}var c;if(r){const t=100*n._source.getAccurateVolumeLevel(),i=s.outputLevel;if(null!=i){const e=Math.ceil(50*Math.log10(100*i+1));FB(o,IB.Audio_Render_Level,e)}FB(o,IB.Audio_Recv_PCM_Level,t),n&&(o[IB.Audio_Recv_Disabled]=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?0:1),FB(o,IB.Audio_Recv_Jitter_Buffer,s.jitterBufferMs),FB(o,IB.Audio_Recv_Current_Delay,s.jitterBufferMs),o[IB.Audio_Recv_Player_Status]=rO[UO.getPlayerState(n.getTrackId())];const a=r.audioRecv.find(t=>t.ssrc===e);if(a){null!=a.bytes&&null!=s.bytes&&FB(o,IB.Audio_Recv_Bitrate,8*(s.bytes-a.bytes)/(DB*MB));const e=s.concealedSamples-a.concealedSamples;e>0&&FB(o,IB.Audio_Recv_Concealed_Samples,e);const t=s.totalSamplesReceived-a.totalSamplesReceived;t>0&&FB(o,IB.Audio_Recv_Total_Samples_Received,t);const n=s.freezeSamples80-a.freezeSamples80;n>0&&FB(o,IB.Audio_Render_Freeze_Samples_80ms,n);const i=s.freezeSamples200-a.freezeSamples200;i>0&&FB(o,IB.Audio_Render_Freeze_Samples_200ms,i);const r=s.freezeMs80-a.freezeMs80;FB(o,IB.Audio_Render_Freeze_Time_80ms,r<0?0:r);const l=s.freezeMs200-a.freezeMs200;FB(o,IB.Audio_Render_Freeze_Time_200ms,l<0?0:l)}}return o}(s._audioSSRC,e,s.audioTrack,t,n,i):void 0;r&&(l.audio=r)}(l.video||l.audio)&&a.push(l)}),this.needUploadRenderFreezeTime=!this.needUploadRenderFreezeTime,a}startUploadTransportStats(){this.uploadTransportStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats()}stopUploadTransportStats(){this.uploadTransportStarted=!1}startUploadOutboundStats(){this.uploadOutboundStarted||(this.uploadOutboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=window.setInterval(()=>{if(!this.requestAllTracks||!this.requestUpload)return;const e=(this.requestAllTracks()||[]).find(e=>e instanceof Vj);if(e&&e._external.getDenoiserStats){const t=e._external.getDenoiserStats();t&&this.requestUpload(UL.DENOISER_STATS,t)}},2e3),this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=window.setInterval(()=>{this.requestAllTracks&&this.requestUpload&&this.requestAllTracks().forEach(e=>{e.getProcessorStats().forEach(e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)})})},2e3))}stopUploadOutboundStats(){this.uploadOutboundStarted&&(this.uploadOutboundStarted=!1,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.lastRefSendStats&&(this.lastRefSendStats.videoSend=[],this.lastRefSendStats.audioSend=[],this.lastRefSendStats=void 0),this.lastNormalSendStats&&(this.lastNormalSendStats.videoSend=[],this.lastNormalSendStats.audioSend=[],this.lastNormalSendStats=void 0),this.lastExtendStats={},this.needUploadStats={},this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=void 0,this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=void 0)}startUploadInboundStats(){this.uploadInboundStarted||(this.uploadInboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=window.setInterval(()=>{this.requestUpload&&this.requestRemoteMedia&&(this.requestRemoteMedia()||[]).forEach(e=>{let[t,n]=e;n.has(fM.VIDEO)&&t.videoTrack&&t.videoTrack.getProcessorStats().forEach(e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)}),n.has(fM.AUDIO)&&t.audioTrack&&t.audioTrack.getProcessorStats().forEach(e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)})})},2e3))}stopUploadInboundStats(){this.uploadInboundStarted&&(this.uploadInboundStarted=!1,this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0),this.lastRefRecvStats&&(this.lastRefRecvStats.videoRecv=[],this.lastRefRecvStats.audioRecv=[],this.lastRefRecvStats=void 0),this.lastNormalRecvStats&&(this.lastNormalRecvStats.videoRecv=[],this.lastNormalRecvStats.audioRecv=[],this.lastNormalRecvStats=void 0),this.lastUploadCompensateTime=-1,this.uploadCompensateDeltaTime=0,this.needUploadRenderFreezeTime=!0,this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=void 0)}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer);const e=new Map;this.uploadExtUsageStatsTimer=window.setInterval(async()=>{const t=Date.now(),n={connectionInterval:AR("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3,details:[],lts:t};let i=[];const r=this.requestAllTracks&&this.requestAllTracks()||[];for(const e of r)!e.muted&&e.enabled&&(i=i.concat(await e.getProcessorUsage()));const a=this.requestRemoteMedia&&this.requestRemoteMedia()||[];for(const[e,l]of a)l.has(fM.VIDEO)&&e.videoTrack&&(i=i.concat(await e.videoTrack.getProcessorUsage())),l.has(fM.AUDIO)&&e.audioTrack&&(i=i.concat(await e.audioTrack.getProcessorUsage()));if(0===i.length)return;n.details=function(e,t){const n={};for(const{id:s,value:o,level:l,direction:c}of e){var i;const e=null!==(i=t.get(s))&&void 0!==i?i:0,d=2===o?e+AR("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3:e;var r,a;t.set(s,d),n[s]?(2===o&&(n[s].value=o),l>n[s].level&&(n[s].level=l),"remote"===c&&(n[s].remoteUidCount+=1),n[s].totalTs=null!==(r=t.get(s))&&void 0!==r?r:0):n[s]={value:o,level:l,remoteUidCount:"local"===c?0:1,totalTs:null!==(a=t.get(s))&&void 0!==a?a:0}}return Object.keys(n).map(e=>{const{level:t,value:i,totalTs:r}=n[e];return{id:e,level:t,value:i,totalTs:r}})}(i,e);const s=Date.now(),o=s>t?s:t+1;this.requestUpload&&this.requestUpload(UL.EXTENSION_USAGE_STATS,{usageStats:n,sendTs:o})},AR("EXTENSION_USAGE_UPLOAD_INTERVAL"))}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer),this.uploadExtUsageStatsTimer=void 0)}stopUploadBaseStats(){this.uploadBaseStatsStarted=!1}}const HB=AR("ICE_RESTART_INTERVAL");let WB=new Map,GB=new Map,qB=[gM.UDP_TCP_RELAY,gM.TCP_RELAY,gM.RELAY],YB=AR("JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE")&&_I().supportPCSetConfiguration;function XB(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=WB.get(e.id);n&&(window.clearTimeout(n),WB.delete(e.id));const i=GB.get(e.id);t&&i&&i.index===qB.length-1&&(sI.debug("[".concat(e.id,"] reset ICE restart policy")),GB.delete(e.id))}function KB(e,t,n){if(0===WB.size&&0===GB.size&&(Array.isArray(AR("RESTART_SEQUENCE"))&&AR("RESTART_SEQUENCE").length>0&&!function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n+=1){const i=e[n];if(e.filter(e=>e===i).length!==t.filter(e=>e===i).length)return!1}return!0}(qB,AR("RESTART_SEQUENCE"))&&(qB=AR("RESTART_SEQUENCE").filter(e=>{var t;if(Pi(t=Object.values(gM)).call(t,e))return!0}),sI.debug("use reconnection policy from config distribution, queues: ".concat(qB.join(" => ")))),YB=AR("JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE")&&_I().supportPCSetConfiguration),0===qB.length)return void n();let i,{index:r=0,type:a}=GB.get(e.id)||{};if(YB&&a===gM.RELAY)return void n();let s=a&&r>=qB.length-1;if(YB)a=gM.RELAY;else{if(s)return void n();a?(r++,a=qB[r]):(a=qB[0],r=0)}sI.debug("[".concat(e.id,"] choose ICE restart policy: ").concat(a,", index: ").concat(r)),t(a),GB.set(e.id,{index:r,type:a}),i=window.setTimeout(()=>KB(e,t,n),HB),WB.set(e.id,i)}var JB;function ZB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function QB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZB(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $B(e){var t,n,i,r=2;for("undefined"!=typeof Symbol&&(n=QT,i=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new eV(t.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function eV(e){function t(e){if(Object(e)!==e)return np.reject(new TypeError(e+" is not an object."));var t=e.done;return np.resolve(e.value).then(function(e){return{value:e,done:t}})}return eV=function(e){this.s=e,this.n=e.next},eV.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?np.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?np.reject(e):t(n.apply(this.s,arguments))}},new eV(e)}let tV=(JB=class extends WA{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(xM.StateChange,t,this._state)}constructor(e,t){super(),uC(this,"isPlanB",void 0),uC(this,"store",void 0),uC(this,"statsUploader",void 0),uC(this,"connection",void 0),uC(this,"localTrackMap",new Map),uC(this,"remoteUserMap",new Map),uC(this,"localDataChannels",[]),uC(this,"remoteDataChannelMap",new Map),uC(this,"pendingLocalTracks",[]),uC(this,"pendingRemoteTracks",[]),uC(this,"pendingLocalDataChannels",[]),uC(this,"pendingRemoteDataChannels",[]),uC(this,"statsCollector",void 0),uC(this,"shouldForwardP2PCreation",void 0),uC(this,"iceFailedCount",0),uC(this,"dtlsFailedCount",0),uC(this,"mutex",void 0),uC(this,"_state",yM.Disconnected),uC(this,"_pcStatsUploadType",AR("NEW_ICE_RESTART")?_M.FIRST_CONNECTION:_M.OLD_FIRST_CONNECTION),uC(this,"_isStartRestartIce",!1),uC(this,"_restartTimer",void 0),uC(this,"_isTryConnecting",!1),uC(this,"_iceError",null),uC(this,"_forceTurn",!1),uC(this,"_isWaitPcToRePub",!1),uC(this,"handleMuteLocalTrack",async(e,t,n)=>{const i=await this.mutex.lock("Locking from P2PChannel.handleMuteLocalTrack");try{if(!this.connection||this.state!==yM.Connected)return void n(new kA(AA.INVALID_OPERATION,"Cannot call P2PChannel.handleMuteLocalTrack before connection established."));const i=this.filterTobeMutedTracks(e);if(0===i.length)return void t();const r=i.find(e=>"videoLowTrack"===e[0]);if(r){const e=r[1];this.store.enableInstantMuteRestore?(e.track._originMediaStreamTrack.enabled=!1,sI.info("[".concat(this.store.clientId,"] P2PChannel muteLocalLowTrack without close sender because enableInstantMuteRestore is true"))):e.track._originMediaStreamTrack.stop()}this.store.enableInstantMuteRestore?sI.info("[".concat(this.store.clientId,"] P2PChannel muteLocalTrack without close sender because enableInstantMuteRestore is true")):await this.connection.muteLocal(i.map(e=>{let[,{id:t}]=e;return t}));const a=this.createMuteMessage(i);await sk(this,xM.RequestMuteLocal,a),t()}catch(e){n(e)}finally{i()}}),uC(this,"handleUnmuteLocalTrack",async(e,t,n)=>{const i=await this.mutex.lock("Locking from P2PChannel.handleUnmuteLocalTrack");try{if(!this.connection||this.state!==yM.Connected)return void n(new kA(AA.INVALID_OPERATION,"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established."));const i=this.filterTobeUnmutedTracks(e);if(0===i.length)return void t();const r=i.find(e=>"videoLowTrack"===e[0]);if(r){const t=r[1];if(this.store.enableInstantMuteRestore)t.track._originMediaStreamTrack.enabled=!0,sI.info("[".concat(this.store.clientId,"] P2PChannel unmuteLocalLowTrack without close sender because enableInstantMuteRestore is true"));else{if(t.track._originMediaStreamTrack.stop(),!AR("DISABLE_DUAL_STREAM_USE_ENCODING")&&_I().supportDualStreamEncoding){const n=e._mediaStreamTrack.clone();t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n}else{const n=AB(e,lk(this,xM.RequestLowStreamParameter));t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n}await new np((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)})}}this.store.enableInstantMuteRestore?sI.info("[".concat(this.store.clientId,"] P2PChannel unmuteLocalTrack without close sender because enableInstantMuteRestore is true")):await this.connection.unmuteLocal(i.map(e=>{let[,{id:t}]=e;return t}));const a=this.createUnmuteMessage(i);await sk(this,xM.RequestUnmuteLocal,a),t()}catch(e){n(e)}finally{i()}}),uC(this,"handleUpdateVideoEncoder",async(e,t,n,i)=>{let r;i||(r=await this.mutex.lock("Locking from P2PChannel.handleUpdateVideoEncoder"));try{const n=this.localTrackMap.get(bM.LocalVideoTrack);if(!this.connection||!n||n.track!==e||this.state!==yM.Connected)return void t();const{id:i,track:r}=n;await this.connection.updateSendParameters(i,r),await this.connection.updateEncoderConfig(i,r),this.emit(xM.UpdateVideoEncoder,r),t()}catch(e){n(e)}finally{var a;null===(a=r)||void 0===a||a()}}),uC(this,"handleUpdateVideoSendParameters",async(e,t,n)=>{const i=await this.mutex.lock("Locking from P2PChannel.handleUpdateVideoSendParameters");try{const n=this.localTrackMap.get(bM.LocalVideoTrack);if(!this.connection||!n||n.track!==e||this.state!==yM.Connected)return void t();const{id:i,track:r}=n;await this.connection.updateSendParameters(i,r),t()}catch(e){n(e)}finally{i()}}),uC(this,"handleReplaceMixingTrack",async(e,t,n,i)=>{if(!this.connection||this.state!==yM.Connected)return void t();const r=vB([e]);let a;sI.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will replace audioTrack [").concat(r.getTrackId(),"]")),"boolean"==typeof i&&i||(a=await this.mutex.lock("From P2PChannel.handleReplaceMixingTrack"));try{await this.replaceTrack(e,r),t()}catch(e){n(e)}finally{var s;null===(s=a)||void 0===s||s()}}),uC(this,"handleReplaceTrack",async(e,t,n,i)=>{let r;sI.debug("[".concat(this.store.clientId,"] P2PChannel handleReplaceTrack for [track-id-").concat(e.getTrackId(),"]")),"boolean"==typeof i&&i||(r=await this.mutex.lock("From P2PChannel.handleReplaceTrack"));try{var a;const n=Array.from(this.localTrackMap.entries()).find(t=>{let[,{track:n}]=t;return e===n});if(!this.connection||!n||this.state!==yM.Connected)return void t();if(await(null===(a=this.connection)||void 0===a?void 0:a.replaceTrack(e,n[1].id)),this.isPlanB){const t=n[1];t.id=e._mediaStreamTrack.id,this.localTrackMap.set(n[0],t)}if(n[0]===bM.LocalVideoTrack&&!AR("DISABLE_DUAL_STREAM_USE_ENCODING")&&_I().supportDualStreamEncoding){const t=this.localTrackMap.get(bM.LocalVideoLowTrack);if(t){const n=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n,await new np((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)})}}t()}catch(e){n(e)}finally{var s;null===(s=r)||void 0===s||s()}}),uC(this,"handleGetRTCStats",e=>{e(this.statsCollector.getRTCStats())}),uC(this,"handleGetLocalVideoStats",e=>{e(this.statsCollector.getLocalVideoTrackStats())}),uC(this,"handleGetLocalAudioStats",e=>{e(this.statsCollector.getLocalAudioTrackStats())}),uC(this,"handleGetRemoteVideoStats",e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid]),uC(this,"handleGetRemoteAudioStats",e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid]),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new zB(this.store),this.bindStatsUploaderEvents(),this.mutex=new Uk("P2PChannel-mutex",this.store.clientId),this.isPlanB=!_I().supportUnifiedPlan||AR("CHROME_FORCE_PLAN_B")&&wA(),this.shouldForwardP2PCreation=AR("FORWARD_P2P_CREATION")&&_I().supportPCSetConfiguration&&xA(),this.shouldForwardP2PCreation&&(this.connection=yB(this.store),this.emit(xM.PeerConnectionStateChange,this.connection.peerConnectionState),this.bindConnectionEvents(this.connection))}async startP2PConnection(e,t){var n;this.state=yM.New,this._forceTurn=wB(e),sI.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] forceTurn: ").concat(this._forceTurn));const i=this.shouldForwardP2PCreation&&"closed"===(null===(n=this.connection)||void 0===n?void 0:n.peerConnectionState);if((!this.shouldForwardP2PCreation||i||t)&&((i||t)&&this.connection&&(sI.warning("[".concat(this.store.clientId,"] P2PChannel.startP2PConnection ForwardP2P closed.")),this.resetConnection(this.connection)),this.connection=yB(this.store,e),this.emit(xM.PeerConnectionStateChange,this.connection.peerConnectionState),this.bindConnectionEvents(this.connection)),!this.connection)throw new kA(AA.UNEXPECTED_ERROR,"Cannot P2PChannel.startConnection before P2PConnection initialization .");return this._pcStatsUploadType=AR("NEW_ICE_RESTART")?_M.FIRST_CONNECTION:_M.OLD_FIRST_CONNECTION,this._isTryConnecting=!0,this._isStartRestartIce=!1,this._iceError=null,this.connection.setConfiguration(e),this.connection.establishPromise}async connect(e){if(!this.connection)throw new kA(AA.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");if(this.isPreallocation()&&this.state===yM.Connected){if(this.connection instanceof TB&&this.connection.checkDtlsParameters(e.dtlsParameters.fingerprints))return sI.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] dtls parameters mismatch, try next.")),mI.reportApiInvoke(this.store.sessionId,{name:YA.MISMATCH_DTLS_PARAMETERS,options:[e.dtlsParameters.fingerprints],tag:XA.TRACER}).onSuccess(),void setTimeout(()=>{this.emit(xM.RequestReconnect)});await this.connection.updateRemoteConnect(e)}else this.store.peerConnectionStart(),await this.connection.connect(e),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=yM.Connected}updateRemoteRTPCapabilities(e){const t=Array.from(this.localTrackMap.entries()).filter(e=>{var t;let[n]=e;return Pi(t=[bM.LocalVideoLowTrack,bM.LocalVideoTrack]).call(t,n)}),n=t.map(e=>{let[,{id:t}]=e;return t}),i=t.map(e=>{let[t]=e;return t});if(this.connection instanceof TB){if(mI.updateRemoteRTPCapabilities(this.store.sessionId,{trackTypes:JSON.stringify(i),localCodecs:JSON.stringify(this.connection.localCodecs),remoteCodecs:JSON.stringify(e)}),!Pi(e).call(e,this.store.codec)){const t=["vp9","vp8","h264"].find(t=>Pi(e).call(e,t));t&&(this.store.codec=t,sI.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId," updateRemoteRTPCapabilities] default codec is not available, hence the fallback to ").concat(t,".")))}this.connection.updateRemoteRTPCapabilities(n,e)}}async getEstablishParams(){var e;if(this.connection instanceof TB&&"closed"!==this.connection.peerConnectionState&&Pi(e=[yM.New,yM.Connected]).call(e,this.state))return this.connection.establishPromise}async publishDataChannel(e){if(!this.connection||this.state!==yM.Connected){if(this.state===yM.Disconnected)throw new kA(AA.UNEXPECTED_ERROR,"PeerConnection already disconnected.");return e.forEach(e=>{var t;Pi(t=this.pendingLocalDataChannels).call(t,e)||this.pendingLocalDataChannels.push(e)}),[]}const t=this.filterTobePublishedDataChannels(e);return 0===t.length?[]:(t.forEach(e=>{const t=Date.now();this.store.publish(e.id.toString(),"datachannel",t)}),await this.connection.createDataChannels(this.store.uid,t),t.forEach(e=>{this.localDataChannels.push(e);const t=Date.now();this.store.publish(e.id+"","datachannel",void 0,t)}),e.map(e=>({streamId:e.id,ordered:e.ordered,maxRetransmits:e.maxRetransmits,metadata:e.metadata,channelId:e._originDataChannelId})))}publish(e,t,n){var i=this;return XT(function*(){const r=yield JT(i.mutex.lock("From P2PChannel.publish"));try{var a;const r=i.connection&&Pi(a=["disconnected","failed"]).call(a,i.connection.peerConnectionState);if(!i.connection||i.state!==yM.Connected||r){if(i.state===yM.Disconnected)throw new kA(AA.UNEXPECTED_ERROR,"PeerConnection already disconnected.");i.throwIfTrackTypeNotMatch(e);const t=e.filter(e=>-1===i.pendingLocalTracks.indexOf(e));return i.pendingLocalTracks=i.pendingLocalTracks.concat(t),void(r&&(i._isWaitPcToRePub=!0))}i.store.pubId=i.store.pubId+1,qF.markPublishStart(i.store.clientId,i.store.pubId);const s=i.filterTobePublishedTracks(e,t,n);if(0===s.length)return void(yield JT(i.tryToUnmuteAudio(e)));yield*ZT($B(i.doPublish(i.connection,s)))}finally{r()}})()}doPublish(e,t){var n=this;return XT(function*(){t.forEach(e=>{let{track:t,type:i}=e;const r=Date.now();n.store.publish(t.getTrackId(),i===bM.LocalAudioTrack?"audio":"video",r)}),n.bindLocalTrackEvents(t);const i=t.map(e=>{let{track:t}=e;return t}),r=yield JT(e.send(i,n.store.codec,n.store.audioCodec)),a=(yield JT(r.next())).value,s=n.createGatewayPublishMessage(t,a);let o;try{o=yield s}catch(e){throw r.throw(e),(null==e?void 0:e.code)===AA.WS_ABORT&&t.forEach(e=>{let{track:t}=e;-1===n.pendingLocalTracks.indexOf(t)&&n.pendingLocalTracks.push(t)}),n.unbindLocalTrackEvents(t),e}const l=n.mapPubResToRemoteConfig(s,o,i),c=(yield JT(r.next(l))).value;if(n.state===yM.Disconnected)throw new kA(AA.UNEXPECTED_ERROR,"PeerConnection already disconnected.");AR("ENABLE_VIDEO_SEI");const d=AR("ENABLE_ENCODED_TRANSFORM"),u=AR("ENABLE_AUDIO_METADATA");i.forEach(async e=>{const t=e.getRTCRtpTransceiver();if(!t||!d)return;const{interceptLocalVideoFrame:n,interceptLocalAudioFrame:i}=QU();e.trackMediaType===fM.VIDEO?await n(t.sender,e):e.trackMediaType===fM.AUDIO&&await i(t.sender,{metadata:u?()=>{const t=e.metadata.shift();return t&&t.value}:void 0})}),t.forEach(e=>{let{type:t}=e;n.statsCollector.addLocalStats(t)}),n.assignLocalTracks(t,c),n.statsUploader.startUploadOutboundStats(),t.forEach(e=>{let{track:t,type:i}=e;const r=Date.now();n.store.publish(t.getTrackId(),i===bM.LocalAudioTrack?"audio":"video",void 0,r)})})()}async updateVideoStreamParameter(e,t){const n=this.localTrackMap.get(t);if(!n||!this.connection)return;if(!(n.track instanceof PP))return sI.warn("[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack");const{track:i}=n,r=function(e,t){const n={};return e.height&&e.width&&(n.scaleResolutionDownBy=dU(e,t)),n.maxFramerate=e.framerate?aU(e.framerate):void 0,n.maxBitrate=e.bitrate?1e3*e.bitrate:void 0,n}(e,i);if(i._encoderConfig||(i._encoderConfig={}),t!==bM.LocalVideoLowTrack||!AR("DISABLE_DUAL_STREAM_USE_ENCODING")&&_I().supportDualStreamEncoding)null!=r.scaleResolutionDownBy&&(i._encoderConfig.scaleResolutionDownBy=r.scaleResolutionDownBy);else{const t=i._originMediaStreamTrack;if(!t.canvas)return sI.warn("[".concat(i.getTrackId(),"] no canvas on track"));!function(e,t){const n=e.canvas;t.width&&(n.width=aU(t.width)),t.height&&(n.height=aU(t.height)),t.framerate&&(n.stopCapture&&n.stopCapture(),n.stopCapture=vO(()=>{!n.startCapture&&n.stopCapture&&n.stopCapture(),n.startCapture&&n.startCapture()},aU(t.framerate)))}(t,e)}null!=r.maxBitrate&&(i._encoderConfig.bitrateMax=r.maxBitrate/1e3),null!=r.maxFramerate&&(i._encoderConfig.frameRate&&"object"==typeof i._encoderConfig.frameRate?i._encoderConfig.frameRate.max=r.maxFramerate:i._encoderConfig.frameRate={max:r.maxFramerate}),sI.debug("[".concat(i.getTrackId(),"] LowStreamEncoderConfig: , ").concat(JSON.stringify(i._encoderConfig))),await this.connection.updateRtpSenderEncodings(i)}publishLowStream(e){var t=this;return XT(function*(){if(!t.connection||t.state!==yM.Connected)return;const n=yield JT(t.mutex.lock("Locking from P2PChannel.publishLowStream"));try{const n=t.localTrackMap.get(bM.LocalVideoTrack);if(!n)throw new kA(AA.UNEXPECTED_ERROR,"Could not find high stream");if(t.localTrackMap.has(bM.LocalVideoLowTrack))throw new kA(AA.UNEXPECTED_ERROR,"[".concat(t.store.clientId,"] Can't publish low stream when stream already publish"));const r=[{track:t.getLowVideoTrack(n.track,e),type:bM.LocalVideoLowTrack}];if(yield*ZT($B(t.doPublish(t.connection,r))),n.track.muted||!n.track.enabled){var i;const e=null===(i=t.localTrackMap.get(bM.LocalVideoLowTrack))||void 0===i?void 0:i.id;void 0!==e&&(yield JT(t.connection.muteLocal([e])))}}finally{n()}})()}async republish(){this.pendingLocalTracks.length>0&&(sI.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await ak(this,xM.RequestRePublish,this.pendingLocalTracks),this.emit(xM.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]),this.pendingLocalDataChannels.length>0&&(sI.debug("Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels."),await ak(this,xM.RequestRePublishDataChannel,this.pendingLocalDataChannels),this.pendingLocalDataChannels=[]),this._isWaitPcToRePub=!1}async reSubscribe(e){for(let t=this.pendingRemoteTracks.length-1;t>=0;t--){const{user:e,kind:n}=this.pendingRemoteTracks[t];(n!==fM.AUDIO||e._audio_added_&&e._audioSSRC)&&(n!==fM.VIDEO||e._video_added_&&e._videoSSRC)||this.pendingRemoteTracks.splice(t,1)}if(e)await ak(this,xM.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:t,kind:n}of this.pendingRemoteTracks)await this.subscribe(t,n,n===fM.VIDEO?t._videoSSRC:t._audioSSRC);this.pendingRemoteTracks.forEach(e=>{let{user:t}=e;this.emit(xM.MediaReconnectEnd,t.uid)}),this.pendingRemoteTracks=[]}async unpublish(e){if(!this.connection||this.state!==yM.Connected)return void e.forEach(e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)});const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const n=t.find(e=>"videoLowTrack"===e[0]);return n&&n[1].track.close(),this.doUnpublish(this.connection,t)}async unpublishDataChannel(e){if(!this.connection||this.state!==yM.Connected)return void e.forEach(e=>{const t=this.pendingLocalDataChannels.indexOf(e);-1!==t&&this.pendingLocalDataChannels.splice(t,1)});const t=this.filterTobeUnpublishedDataChannels(e);return 0!==t.length?(t.forEach(e=>{const t=this.localDataChannels.indexOf(e);-1!==t&&this.localDataChannels.splice(t,1)}),0===this.localDataChannels.length&&await this.connection.stopDataChannels(this.store.uid),t.map(e=>e.id)):void 0}async unpublishLowStream(){if(!this.connection||this.state!==yM.Connected)return;const e=this.localTrackMap.get(bM.LocalVideoLowTrack);if(!e)return;e.track.close();const t=[[bM.LocalVideoLowTrack,e]];return this.doUnpublish(this.connection,t)}async doUnpublish(e,t){const n=this.createGatewayUnpublishMessage(t);return await e.stopSending(t.map(e=>{let[,{id:t}]=e;return t})),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map(e=>{let[t,{track:n}]=e;return{type:t,track:n}})),t.forEach(e=>{let[t]=e;this.statsCollector.removeLocalStats(t)}),0===this.localTrackMap.size&&this.statsUploader.stopUploadOutboundStats(),n}async subscribeDataChannel(e,t){if(!this.connection||this.state!==yM.Connected)throw new kA(AA.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");const n=t.filter(t=>{var n;return!(null!==(n=this.remoteDataChannelMap.get(e))&&void 0!==n&&n.get(t.id))});if(0!==n.length)return await this.connection.createDataChannels(e.uid,n),n.forEach(t=>{var n;this.remoteDataChannelMap.has(e)?null===(n=this.remoteDataChannelMap.get(e))||void 0===n||n.set(t.id,t):this.remoteDataChannelMap.set(e,new Map([[t.id,t]]));const i=this.pendingRemoteDataChannels.findIndex(n=>{let{user:i,id:r}=n;return i.uid===e.uid&&r===t.id});-1!==i&&this.pendingRemoteDataChannels.splice(i,1)}),n.map(e=>e.id)}async subscribe(e,t,n,i,r){var a;if(!this.connection||this.state!==yM.Connected)throw new kA(AA.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");if(null!==(a=this.remoteUserMap.get(e))&&void 0!==a&&a.has(t))return;let s,o,l,c;const d=this.connection.getPreMedia(n);if(d)sI.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] preSSRCMap has ssrcId: ").concat(n,", no need to send sub to gateway.")),l=d.transceiver,s=d.track,o=d.mid,c=d.player,d.firstVideoRender&&this.store.firstVideoFrameDecoded(e.uid,{firstPreRender:d.firstVideoRender});else if(r){const n=r.find(e=>{let{stream_type:n}=e;return n===t});if(!n)throw new kA(AA.UNEXPECTED_ERROR,"Cannot subscribe to remote ".concat(t," for user: ").concat(e.uid," because subscribe answer from gateway does not contain stream_type: ").concat(t,"."));const i=await this.connection.receive(t,n.ssrcs,String(e._uintid),n.attributes);this.connection instanceof TB&&(l=i.transceiver),s=i.track,o=i.id}else{const r=await this.connection.receive(t,[{ssrcId:n,rtx:i}],String(e._uintid),void 0);this.connection instanceof TB&&(l=r.transceiver),s=r.track,o=r.id}if(t===fM.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(s):(e._audioTrack=new ZP(s,e.uid,e._uintid,this.store),sI.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(e._audioTrack.getTrackId()))),l&&e._audioTrack._updateRtpTransceiver(l),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(s):(e._videoTrack=new JP(s,e.uid,e._uintid,this.store,c),sI.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(e._videoTrack.getTrackId())),e._videoTrack.once(WI.PLAY_START,()=>{this.store.firstVideoFrameDecoded(e.uid,{playStart:Date.now()})}),e._videoTrack.once(WI.PLAY_END,()=>{this.store.firstVideoFrameDecoded(e.uid,{playEnd:Date.now()}),this.reportVideoFirstFrameRender(e)}),c?e._videoTrack.once(WI.FIRST_FRAME_RENDER,()=>{this.store.firstVideoFrameDecoded(e.uid,{firstRender:Date.now()}),this.reportVideoFirstFrameRender(e)}):e._videoTrack.once(WI.FIRST_FRAME_DECODED,()=>{this.store.firstVideoFrameDecoded(e.uid,{firstRender:Date.now()}),this.reportVideoFirstFrameRender(e)})),l&&e._videoTrack._updateRtpTransceiver(l),this.bindRemoteTrackEvents(e,e._videoTrack)),l&&AR("ENABLE_ENCODED_TRANSFORM")){const{interceptRemoteVideoFrame:n,interceptRemoteAudioFrame:i}=QU();t==fM.VIDEO?await n(l.receiver,{onSei:AR("ENABLE_VIDEO_SEI")&&(t=>{var n;return null===(n=e._videoTrack)||void 0===n?void 0:n._onSei(t)})}):t==fM.AUDIO&&await i(l.receiver,{enableTopn:!!AR("ENABLE_AUDIO_TOPN"),enableMetadata:!!AR("ENABLE_AUDIO_METADATA"),enablePts:!!AR("ENABLE_AUDIO_PTS"),onMetadata:e=>{this.safeEmit(xM.AudioMetadata,e)},onPts:e=>{this.safeEmit(xM.AudioPts,e)}})}const u=this.remoteUserMap.get(e);u?u.set(t,o):this.remoteUserMap.set(e,new Map([[t,o]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadInboundStats();const h=this.pendingRemoteTracks.findIndex(n=>{let{user:i,kind:r}=n;return i.uid===e.uid&&t===r});-1!==h&&(this.pendingRemoteTracks.splice(h,1),this.emit(xM.MediaReconnectEnd,e.uid))}async massSubscribe(e){return this.massSubscribeNoLock(e)}async massSubscribeNoLock(e){if(!this.connection||this.state!==yM.Connected)throw new kA(AA.INVALID_OPERATION,"Cannot subscribeAll remote users when peerConnection disconnected.");e=e.filter(e=>{var t;let{user:n,mediaType:i}=e;return!(null!==(t=this.remoteUserMap.get(n))&&void 0!==t&&t.has(i))});const t=[],n=new Map;e.forEach(e=>{if(!this.connection)return;const i=this.connection.getPreMedia(e.ssrcId);if(i){const{track:t,mid:r,transceiver:a,player:s}=i;n.set(e.ssrcId,{track:t,id:r,transceiver:a,player:s})}else t.push(e)});const i=await this.connection.batchReceive(t.map(e=>{let{user:t,mediaType:n,ssrcId:i,rtxSsrcId:r}=e;return{kind:n,ssrcMsg:[{ssrcId:i,rtx:r}],mslabel:String(t._uintid)}}));t.forEach((e,t)=>{n.set(e.ssrcId,i[t])});for(const{user:r,mediaType:a,ssrcId:s}of e){const e=n.get(s);if(!e)return void sI.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] cannot find ").concat(r.uid," subscribe data,").concat(a,", ").concat(s));const{track:t,id:i,transceiver:o,player:l}=e;if(o&&AR("ENABLE_ENCODED_TRANSFORM")){const{interceptRemoteVideoFrame:e,interceptRemoteAudioFrame:t}=QU();a==fM.VIDEO?await e(o.receiver,{onSei:AR("ENABLE_VIDEO_SEI")&&(e=>{var t;return null===(t=r._videoTrack)||void 0===t?void 0:t._onSei(e)})}):a==fM.AUDIO&&await t(o.receiver,{enableTopn:!!AR("ENABLE_AUDIO_TOPN"),enableMetadata:!!AR("ENABLE_AUDIO_METADATA"),enablePts:!!AR("ENABLE_AUDIO_PTS"),onMetadata:e=>{this.safeEmit(xM.AudioMetadata,e)},onPts:e=>{this.safeEmit(xM.AudioPts,e)}})}if(a===fM.AUDIO?(r._audioTrack?r._audioTrack._updateOriginMediaStreamTrack(t):(r._audioTrack=new ZP(t,r.uid,r._uintid,this.store),sI.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(r._audioTrack.getTrackId()))),o&&r._audioTrack._updateRtpTransceiver(o),this.bindRemoteTrackEvents(r,r._audioTrack)):(r._videoTrack?r._videoTrack._updateOriginMediaStreamTrack(t):(r._videoTrack=new JP(t,r.uid,r._uintid,this.store,l),sI.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(r._videoTrack.getTrackId()))),o&&r._videoTrack._updateRtpTransceiver(o),this.bindRemoteTrackEvents(r,r._videoTrack)),AR("ENABLE_VIDEO_SEI")&&o){const{interceptRemoteVideoFrame:e,interceptRemoteAudioFrame:t}=QU();a==fM.VIDEO?await e(o.receiver,{onSei:e=>{var t;null===(t=r._videoTrack)||void 0===t||t._onSei(e)}}):a==fM.AUDIO&&await t(o.receiver)}const c=this.remoteUserMap.get(r);c?c.set(a,i):this.remoteUserMap.set(r,new Map([[a,i]])),this.statsCollector.addRemoteStats(r.uid),this.statsUploader.startUploadInboundStats();const d=this.pendingRemoteTracks.findIndex(e=>{let{user:t,kind:n}=e;return t.uid===r.uid&&a===n});-1!==d&&(this.pendingRemoteTracks.splice(d,1),this.emit(xM.MediaReconnectEnd,r.uid))}}async unsubscribe(e,t,n){const i=this.pendingRemoteTracks.filter(n=>{let{user:i,kind:r}=n;return void 0!==t?i.uid===e.uid&&t===r:i.uid===e.uid});if(i.forEach(e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)}),this.connection&&this.state===yM.Connected||n||i.forEach(t=>{let{kind:n}=t;var i;if(n===fM.AUDIO)null===(i=e._audioTrack)||void 0===i||i._destroy(),e._audioTrack=void 0;else if(n===fM.VIDEO){var r;null===(r=e._videoTrack)||void 0===r||r._destroy(),e._videoTrack=void 0}}),!this.connection||this.state!==yM.Connected)return;const r=this.filterTobeUnSubscribedTracks(e,t);if(0===r.length)return;await this.connection.stopReceiving(r.map(e=>{let[,{id:t}]=e;return t}));const a=this.createUnsubscribeMessage(r);return this.withdrawRemoteTracks(r),0===this.remoteUserMap.size&&this.statsUploader.stopUploadInboundStats(),r.forEach(e=>{let[t,{kind:i}]=e;var r,a;if(i===fM.VIDEO&&t._videoSSRC&&(null===(r=this.connection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),i===fM.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),n||(null===(a=t._videoTrack)||void 0===a||a._destroy(),t._videoTrack=void 0);else if(i===fM.AUDIO){var s;this.unbindRemoteTrackEvents(t._audioTrack),n||(null===(s=t._audioTrack)||void 0===s||s._destroy(),t._audioTrack=void 0)}}),a}async unsubscribeDataChannel(e,t){if(t.forEach(e=>{const t=this.pendingRemoteDataChannels.findIndex(t=>t.id===e.id);-1!==t&&this.pendingRemoteDataChannels.splice(t,1)}),!this.connection)return;const n=this.filterTobeUnSubscribedDataChannels(e,t);if(0===n.length)return;t.forEach(e=>{e._close()});const i=this.remoteDataChannelMap.get(e);return n.forEach(e=>{i&&i.delete(e.id)}),i&&0===i.size&&(this.remoteDataChannelMap.delete(e),await this.connection.stopDataChannels(e.uid)),n.map(e=>e.id)}async massUnsubscribe(e){return this.massUnsubscribeNoLock(e)}async massUnsubscribeNoLock(e){let t=[];for(const{user:r,mediaType:a}of e){const e=this.pendingRemoteTracks.filter(e=>{let{user:t,kind:n}=e;return void 0!==a?t.uid===r.uid&&a===n:t.uid===r.uid});e.forEach(e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)}),t=t.concat(e)}if(!this.connection||this.state!==yM.Connected)return void t.forEach(e=>{let{user:t,kind:n}=e;var i;if(n===fM.AUDIO)null===(i=t._audioTrack)||void 0===i||i._destroy(),t._audioTrack=void 0;else if(n===fM.VIDEO){var r;null===(r=t._videoTrack)||void 0===r||r._destroy(),t._videoTrack=void 0}});const n=rr(e).call(e,(e,t)=>{let{user:n,mediaType:i}=t;const r=this.filterTobeUnSubscribedTracks(n,i);return e.concat(r)},[]);if(0===n.length)return;await this.connection.stopReceiving(n.map(e=>{let[,{id:t}]=e;return t}));const i=this.createUnsubscribeAllMessage(n);return this.withdrawRemoteTracks(n),0===this.remoteUserMap.size&&this.statsUploader.stopUploadInboundStats(),n.forEach(e=>{let[t,{kind:n}]=e;var i,r;if(n===fM.VIDEO&&t._videoSSRC&&(null===(i=this.connection)||void 0===i||i.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),n===fM.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),null===(r=t._videoTrack)||void 0===r||r._destroy(),t._videoTrack=void 0;else if(n===fM.AUDIO){var a;this.unbindRemoteTrackEvents(t._audioTrack),null===(a=t._audioTrack)||void 0===a||a._destroy(),t._audioTrack=void 0}}),i}isPreSubScribe(e){return!(!this.connection||this.state!==yM.Connected)&&!!this.connection.getPreMedia(e)}async muteRemote(e,t){if(!this.connection)return;const n=this.remoteUserMap.get(e);if(!n)return void sI.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(e.uid,"."));if(!n.get(t))return void sI.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(e.uid," media type ").concat(t,"."));const i=t===fM.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==i&&this.connection.setStatsRemoteVideoIsReady(i,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.connection)return;const n=this.remoteUserMap.get(e);n?n.get(t)||sI.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(e.uid," media type ").concat(t,".")):sI.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(e.uid,"."))}addAudioMetadata(e){const t=this.localTrackMap.get(bM.LocalAudioTrack),n=t&&t.track;n&&n.metadata.push(e)}getAllTracks(e){const t=this.localTrackMap.get(bM.LocalAudioTrack);if((null==t?void 0:t.track)instanceof Hj){const n=t.track;return Array.from(this.localTrackMap.entries()).filter(e=>{let[t]=e;return t!==bM.LocalAudioTrack}).filter(t=>{let[n]=t;return!(e&&n===bM.LocalVideoLowTrack)}).map(e=>{let[,{track:t}]=e;return t}).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter(t=>{let[n]=t;return!(e&&n===bM.LocalVideoLowTrack)}).map(e=>{let[,{track:t}]=e;return t})}getAllDataChannels(){return this.localDataChannels}reportPublishEvent(e,t,n,i,r){if(e){const n=this.localTrackMap.get(bM.LocalAudioTrack),a=i?this.localTrackMap.get(bM.LocalVideoLowTrack):this.localTrackMap.get(bM.LocalVideoTrack);mI.publish(this.store.sessionId,{eventElapse:qF.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==n?void 0:n.track.getTrackLabel(),videoName:null==a?void 0:a.track.getTrackLabel(),screenshare:-1!==(null==a?void 0:a.track._hints.indexOf(UI.SCREEN_TRACK)),audio:!!n,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{var a;n||(n=[]);const s=n.find(e=>e instanceof Bj),o=i?null===(a=this.localTrackMap.get(bM.LocalVideoTrack))||void 0===a?void 0:a.track:n.find(e=>e instanceof PP);mI.publish(this.store.sessionId,{eventElapse:qF.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==s?void 0:s.getTrackLabel(),videoName:null==o?void 0:o.getTrackLabel(),screenshare:-1!==(null==o?void 0:o._hints.indexOf(UI.SCREEN_TRACK)),audio:!!s,video:!!o,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}reportSubscribeEvent(e,t,n,i){const r=i===fM.VIDEO?n._videoSSRC:n._audioSSRC;r&&mI.subscribe(this.store.sessionId,{succ:e,ec:t,video:i===fM.VIDEO,audio:i===fM.AUDIO,peerid:n.uid,subscribeRequestid:r,p2pid:this.store.p2pId,eventElapse:qF.measureFromSubscribeStart(this.store.clientId,r),preSsrc:this.isPreSubScribe(r)})}reset(){sI.debug("[".concat(this.store.clientId,"] P2PChannel.reset")),this.mutex=new Uk("P2PChannel-mutex",this.store.clientId),this.connection&&(this.resetConnection(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=yB(this.store),this.emit(xM.PeerConnectionStateChange,this.connection.peerConnectionState),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.statsUploader.stopUploadBaseStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(bM.LocalAudioTrack);if((null==e?void 0:e.track)instanceof Hj){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach(e=>{t.removeAudioTrack(e)})}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=yM.Disconnected}getStats(){var e;return null===(e=this.connection)||void 0===e?void 0:e.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.connection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(bM.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(bM.LocalVideoTrack);if(e)return{width:e.track.videoWidth||0,height:e.track.videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof PP||t&&t.track instanceof Bj?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}getRemoteMedia(e){var t;const n=Array.from(KR(t=this.remoteUserMap).call(t)).find(t=>t.uid===e);return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map(e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}});const t=this.localTrackMap.get(bM.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=Kp(e).call(e,(e,t)=>e.level-t.level),e}async disconnectForReconnect(){this.connection&&(sI.debug("[".concat(this.store.clientId,"] P2PChannel.disconnectForReconnect closing P2PConnection")),this.state=yM.Reconnecting,AR("KEEP_LAST_FRAME")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach(e=>{let[t]=e;var n;t._videoTrack&&t._videoTrack._player&&(null===(n=t._videoTrack._player.getVideoElement())||void 0===n||n.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())}),this.resetConnection(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=yB(this.store),this.emit(xM.PeerConnectionStateChange,this.connection.peerConnectionState),this.bindConnectionEvents(this.connection)),0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach(e=>{var t;let[n,{track:i}]=e;switch(n){case bM.LocalVideoTrack:Pi(t=i._hints).call(t,UI.LOW_STREAM)?i.close():this.pendingLocalTracks.push(i);break;case bM.LocalAudioTrack:i instanceof Hj?this.pendingLocalTracks=this.pendingLocalTracks.concat(i.trackList):this.pendingLocalTracks.push(i);case bM.LocalVideoLowTrack:}}),this.emit(xM.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach(e=>{let[t,n]=e;Array.from(KR(n).call(n)).forEach(e=>{this.setPendingRemoteMedia(t,e)}),this.emit(xM.MediaReconnectStart,t.uid)}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),0!==this.localDataChannels.length&&(this.localDataChannels.forEach(e=>{this.pendingLocalDataChannels.push(e)}),this.localDataChannels.length=0),0!==this.remoteDataChannelMap.size&&(Array.from(this.remoteDataChannelMap.entries()).forEach(e=>{let[t,n]=e;Array.from(KR(n).call(n)).forEach(e=>{this.setPendingRemoteDataChannel(t,e)})}),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),sI.debug("[".concat(this.store.clientId,"] P2PChannel disconnected, waiting to reconnect.")))}hasPendingRemoteDataChannel(e,t){for(const n of this.pendingRemoteDataChannels){const{user:i,id:r}=n;if((e instanceof QF?e.uid:e)===i.uid&&r===t)return!0}return!1}setPendingRemoteDataChannel(e,t){this.hasPendingRemoteDataChannel(e,t)||this.pendingRemoteDataChannels.push({user:e,id:t})}hasPendingRemoteMedia(e,t){for(const n of this.pendingRemoteTracks){const{user:i,kind:r}=n;if((e instanceof QF?e.uid:e)===i.uid&&t===r)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}restartICE(e){var t=this;return XT(function*(){if(!t.connection||t.state!==yM.Connected)return;const n=yield JT(t.mutex.lock("From P2PChannel.restartICE"));let i;try{i=yield JT(t.connection.restartICE(e));const n=yield JT(i.next());if(n.done)return;const r=n.value,a=yield r;switch(xB(t.connection)&&t.reportPCStats(Date.now(),!1,t._pcStatsUploadType),e){case gM.UDP_TCP_RELAY:t._pcStatsUploadType=_M.UDP_TCP_RESTART;break;case gM.TCP_RELAY:t._pcStatsUploadType=_M.TCP_RESTART;break;case gM.RELAY:t._pcStatsUploadType=_M.RELAY_RESTART;break;default:t._pcStatsUploadType=_M.OLD_RESTART}t._isTryConnecting=!0,i.next(a)}catch(e){var r;null===(r=i)||void 0===r||r.throw(e)}finally{n()}})()}getUplinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats(),t=this.localTrackMap.get(bM.LocalVideoTrack),n=this.localTrackMap.get(bM.LocalAudioTrack),i=e.videoSend.find(e=>e.ssrc===(null==t?void 0:t.ssrcs[0].ssrcId)),r=e.audioSend.find(e=>e.ssrc===(null==n?void 0:n.ssrcs[0].ssrcId));if(!i||!r)return 1;const a=ok(this,xM.NeedSignalRTT),s=i?i.rttMs:void 0,o=r?r.rttMs:void 0,l=s&&o?(s+o)/2:s||o,c=(l&&a?(l+a)/2:l||a)||0,d=100*e.sendPacketLossRate*.7/50+.3*c/1500,u=d<.17?1:d<.36?2:d<.59?3:d<.1?4:5,h=null==t?void 0:t.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(UI.SCREEN_TRACK)){const t=h._encoderConfig.bitrateMax,n=e.bitrate.actualEncoded;if(t&&n){const e=(1e3*t-n)/(1e3*t);return zD[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][u]}}return u}getDownlinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach(n=>{let[i]=n;const r=i._audioSSRC,a=i._videoSSRC,s=e.audioRecv.find(e=>e.ssrc===r),o=e.videoRecv.find(e=>e.ssrc===a);if(!s&&!o)return void(t+=1);const l=ok(this,xM.NeedSignalRTT),c=e.rtt,d=(c&&l?(c+l)/2:c||l)||0,u=s?s.jitterMs:void 0,h=e.recvPacketLossRate;let p=.7*h*100/50+.3*d/1500;u&&(p=.6*h*100/50+.2*d/1500+.2*u/400),t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5}),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new np((t,n)=>{this.handleMuteLocalTrack(e,t,n)})}async replaceTrack(e,t){var n;if(sI.debug("[".concat(this.store.clientId,"] P2PChannel replaceTrack from [").concat(e.getTrackId(),"] to [").concat(t.getTrackId(),"]")),!this.connection||this.state!==yM.Connected)return;const i=Array.from(this.localTrackMap.entries()).find(t=>{let[,{track:n}]=t;return e===n});if(!i)return;const r=i[0];if(e!==t&&(this.unbindLocalTrackEvents([{track:e,type:r}]),this.bindLocalTrackEvents([{track:t,type:r}]),i[1].track=t),await(null===(n=this.connection)||void 0===n?void 0:n.replaceTrack(t,i[1].id)),this.isPlanB){const e=i[1];e.id=t._mediaStreamTrack.id,this.localTrackMap.set(r,e)}if(r===bM.LocalVideoTrack&&!AR("DISABLE_DUAL_STREAM_USE_ENCODING")&&_I().supportDualStreamEncoding){const t=this.localTrackMap.get(bM.LocalVideoLowTrack);if(t){const n=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n,await new np((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)})}}}filterTobePublishedTracks(e,t,n){const i=[],r=this.getAllTracks();e=uk(e=e.filter(e=>-1===r.indexOf(e)));let a,s=!1;const o=this.localTrackMap.get(bM.LocalAudioTrack);for(const l of e){if(l instanceof PP&&(this.localTrackMap.has(bM.LocalVideoTrack)||s?new kA(AA.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(i.push({track:l,type:bM.LocalVideoTrack}),s=!0),t)){const e=this.getLowVideoTrack(l,n);i.push({track:e,type:bM.LocalVideoLowTrack})}if(l instanceof Bj)if(o){const e=o.track;if(e instanceof Hj)_B([l]),e.addAudioTrack(l),this.bindLocalAudioTrackEvents(l,!0);else{const t=vB([e,l]);sI.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will replace audioTrack [").concat(t.getTrackId(),"]")),this.replaceTrack(e,t)}}else a instanceof Hj?(_B([l]),a.addAudioTrack(l)):a=a||!l._useAudioElement&&_I().webAudioMediaStreamDest&&!l._bypassWebAudio?vB(a?[l,a]:[l]):l}return a&&(sI.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection will send audioTrack [").concat(a.getTrackId(),"]")),i.push({track:a,type:bM.LocalAudioTrack})),i}filterTobeUnpublishedTracks(e){const t=[],n=this.getAllTracks();e=uk(e=e.filter(e=>-1!==n.indexOf(e)));for(const i of e){if(i instanceof Bj){const e=this.localTrackMap.get(bM.LocalAudioTrack);if(!e)continue;e.track instanceof Hj?(e.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),0===e.track.trackList.length&&(t.push([bM.LocalAudioTrack,e]),e.track.close())):t.push([bM.LocalAudioTrack,e])}if(i instanceof PP){const e=this.localTrackMap.get(bM.LocalVideoTrack);if(!e)continue;t.push([bM.LocalVideoTrack,e]);const n=this.localTrackMap.get(bM.LocalVideoLowTrack);n&&t.push([bM.LocalVideoLowTrack,n])}}return t}filterTobePublishedDataChannels(e){return(e=uk(e)).filter(e=>-1===this.localDataChannels.findIndex(t=>t.id===e.id))}filterTobeUnpublishedDataChannels(e){return(e=(e=uk(e)).filter(e=>-1!==this.localDataChannels.indexOf(e))).filter(e=>e._originDataChannel)}bindLocalTrackEvents(e){e.forEach(e=>{let{track:t,type:n}=e;switch(n){case bM.LocalVideoTrack:t.addListener(MI.GET_STATS,this.handleGetLocalVideoStats),t.addListener(MI.GET_RTC_STATS,this.handleGetRTCStats),t.addListener(MI.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(MI.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(MI.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(MI.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.addListener(MI.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(MI.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(MI.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case bM.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case bM.LocalVideoLowTrack:}})}bindLocalAudioTrackEvents(e,t){e instanceof Hj?e.trackList.forEach(e=>{e.addListener(MI.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(MI.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(MI.GET_STATS,this.handleGetLocalAudioStats),e.addListener(MI.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(MI.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(e.addListener(MI.GET_STATS,this.handleGetLocalAudioStats),e.addListener(MI.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(MI.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(MI.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(MI.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||(e.addListener(MI.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.addListener(MI.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack)))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map(e=>{let[t,{track:n}]=e;return{track:n,type:t}})),e.forEach(e=>{let{track:t,type:n}=e;switch(n){case bM.LocalVideoTrack:t.off(MI.GET_STATS,this.handleGetLocalVideoStats),t.off(MI.GET_RTC_STATS,this.handleGetRTCStats),t.off(MI.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(MI.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(MI.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(MI.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.off(MI.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(MI.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(MI.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case bM.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case bM.LocalVideoLowTrack:}})}unbindLocalAudioTrackEvents(e){e instanceof Hj?e.trackList.forEach(e=>{e.off(MI.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(MI.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(MI.GET_STATS,this.handleGetLocalAudioStats),e.off(MI.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(MI.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(e.off(MI.GET_STATS,this.handleGetLocalAudioStats),e.off(MI.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(MI.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(MI.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(MI.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack),e.off(MI.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(MI.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof JP&&t.addListener(MI.GET_STATS,t=>{t(this.handleGetRemoteVideoStats(e))}),t instanceof ZP&&t.addListener(MI.GET_STATS,t=>{t(this.handleGetRemoteAudioStats(e))})}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(MI.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(e=>{let[t,n]=e;n.has(fM.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),n.has(fM.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)})}createGatewayPublishMessage(e,t){return e.map((e,n)=>{var i;let r,a,{track:s,type:o}=e;switch(o){case bM.LocalAudioTrack:r=iM.Audio,a={dtx:s instanceof Vj&&s._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case bM.LocalVideoTrack:r=Pi(i=s._hints).call(i,UI.SCREEN_TRACK)?iM.Screen:iM.High,a=QB(QB({},sU(s)),{},{codec:this.store.codec,svc_mode:pU()});break;case bM.LocalVideoLowTrack:r=iM.Low,a=QB(QB({},sU(s)),{},{codec:this.store.codec,svc_mode:pU()})}return{stream_type:r,attributes:a,ssrcs:t[n]}})}createGatewayUnpublishMessage(e){return e.map(e=>{var t;let n,[i,{track:r,ssrcs:a,id:s}]=e;switch(i){case bM.LocalVideoTrack:n=Pi(t=r._hints).call(t,UI.SCREEN_TRACK)?iM.Screen:iM.High;break;case bM.LocalAudioTrack:n=iM.Audio;break;case bM.LocalVideoLowTrack:n=iM.Low}return{stream_type:n,ssrcs:a,mid:s}})}assignLocalTracks(e,t){e.forEach((e,n)=>{let{track:i,type:r}=e;this.localTrackMap.set(r,{track:i,id:t[n].id,ssrcs:t[n].localSSRC})})}withdrawLocalTracks(e){e.forEach(e=>{let[t]=e;this.localTrackMap.delete(t)})}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{if(sI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onConnectionStateChange(").concat(t,")")),this.emit(xM.PeerConnectionStateChange,t),"connecting"===t&&e instanceof TB&&!nA()&&AR("FIRST_TCP_CANDIDATE")&&window.setTimeout(()=>{"connecting"===t&&e.extendCandidate()},AR("FIRST_TCP_CANDIDATE_INTERVAL")),"connected"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),"connected"===t&&(this._restartTimer&&(window.clearTimeout(this._restartTimer),this._restartTimer=void 0),e instanceof TB&&XB(e,!0),this._isTryConnecting&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isTryConnecting=!1,this._isStartRestartIce=!1,this._pcStatsUploadType=_M.DISCONNECTED_OR_FAILED,"CONNECTED"===ok(this,xM.QueryClientConnectionState)&&this._isWaitPcToRePub)){const e=this.pendingLocalTracks.map(e=>e.getTrackId()),t=this.pendingLocalDataChannels.map(e=>"dc_".concat(e.id));mI.reportApiInvoke(this.store.sessionId,{name:YA.REPUB_AFTER_PC_CONNECTED,options:e.concat(t),tag:XA.TRACER}).onSuccess(),this.republish()}if(AR("NEW_ICE_RESTART")&&e instanceof TB&&!nA()&&!this._forceTurn){if(Pi(vM).call(vM,t)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;const t=t=>{xB(e)&&(sI.debug("[".concat(this.store.clientId,"] [P2PChannel] try to restartICE, type is ").concat(t)),"CONNECTED"===ok(this,xM.QueryClientConnectionState)&&this.emit(xM.RequestRestartICE,t))},n=()=>{xB(e)&&(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),sI.debug("[".concat(this.store.clientId,"] P2PConnection disconnected timeout, force reconnect")),setTimeout(()=>this.emit(xM.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect())};return void(this._restartTimer=window.setTimeout(()=>{KB(e,t,n)},800))}}else{if("disconnected"===t&&"disconnected"===e.iceConnectionState)return setTimeout(()=>{"disconnected"===e.iceConnectionState&&AR("ICE_RESTART")&&"CONNECTED"===ok(this,xM.QueryClientConnectionState)&&this.emit(xM.RequestRestartICE)},800),void setTimeout(()=>{"disconnected"===e.peerConnectionState&&(sI.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection disconnected timeout 4000ms, force reconnect")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isTryConnecting=!1,setTimeout(()=>this.emit(xM.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect())},4e3);"failed"===t&&(sI.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection state failed, force reconnect")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),setTimeout(()=>this.emit(xM.P2PLost),0),this.iceFailedCount+=1,await this.requestReconnect())}},e.onICEConnectionStateChange=e=>{"connected"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),sI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(e,")")),mI.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:e,tag:XA.TRACER}).onSuccess(),this.emit(xM.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{sI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(e,")"))},e.onDTLSTransportStateChange=e=>{sI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(e,")"))},e.onDTLSTransportError=e=>{sI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(e,")"))},e.onFirstAudioDecoded=e=>{var t;const n=Array.from(KR(t=this.remoteUserMap).call(t)).find(t=>t._audioSSRC===e);var i;n&&(this.store.subscribe(n.uid,"audio",void 0,void 0,void 0,Date.now()),null===(i=n.audioTrack)||void 0===i||i.emit(WI.FIRST_FRAME_DECODED),mI.firstRemoteFrame(this.store.sessionId,dI.FIRST_AUDIO_DECODE,uI.FIRST_AUDIO_DECODE,{peer:n._uintid,subscribeElapse:qF.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const n=Array.from(KR(t=this.remoteUserMap).call(t)).find(t=>t._audioSSRC===e);n&&mI.firstRemoteFrame(this.store.sessionId,dI.FIRST_AUDIO_RECEIVED,uI.FIRST_AUDIO_RECEIVED,{peer:n._uintid,subscribeElapse:qF.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,n)=>{var i;const r=Array.from(KR(i=this.remoteUserMap).call(i)).find(t=>t._videoSSRC===e);r&&this.store.firstVideoFrameDecoded(r.uid,{firstDecoded:Date.now()}),this.reportVideoFirstFrameDecoded(e,t,n)},e.onFirstVideoRender=e=>{var t;const n=Array.from(KR(t=this.remoteUserMap).call(t)).find(t=>t._videoSSRC===e);n&&(this.store.firstVideoFrameDecoded(n.uid,{firstPreRender:Date.now()}),this.reportVideoFirstFrameRender(n))},e.onFirstVideoReceived=e=>{var t;const n=Array.from(KR(t=this.remoteUserMap).call(t)).find(t=>t._videoSSRC===e);n&&(this.store.firstVideoFrameDecoded(n.uid,{firstReceived:Date.now()}),mI.firstRemoteFrame(this.store.sessionId,dI.FIRST_VIDEO_RECEIVED,uI.FIRST_VIDEO_RECEIVED,{peer:n._uintid,subscribeElapse:qF.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onSelectedLocalCandidateChanged=(e,t)=>{const n="relay"===e.candidateType,i="relay"===t.candidateType;"unknown"!==t.candidateType&&n===i||this.emit(xM.ConnectionTypeChange,n),sI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(uU(t))," -> ").concat(JSON.stringify(uU(e)),")"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{sI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(uU(t))," -> ").concat(JSON.stringify(uU(e)),")"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)},e.getLocalVideoStats=()=>{const e=this.statsCollector.getLocalVideoTrackStats(),t=this.statsCollector.getRTCStats();return QB(QB({},e),t)},e.onICECandidateError=e=>{this._iceError=e}}resetConnection(e){e instanceof TB&&function(e){GB.delete(e.id),XB(e)}(e),e.close(),this.emit(xM.PeerConnectionStateChange,"closed"),function(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0,e.getLocalVideoStats=void 0}(e),this._isWaitPcToRePub=!1}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const n=this.localTrackMap.get(bM.LocalAudioTrack);if(e instanceof Bj&&(null==n?void 0:n.track)instanceof Hj)return n.track.isActive||t.push([bM.LocalAudioTrack,n]),t;const i=Array.from(this.localTrackMap.entries()).find(t=>{let[,{track:n}]=t;return e===n});if(i&&(t.push(i),i[0]===bM.LocalVideoTrack)){const e=this.localTrackMap.get(bM.LocalVideoLowTrack);e&&t.push([bM.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],n=this.localTrackMap.get(bM.LocalAudioTrack);if(e instanceof Bj&&(null==n?void 0:n.track)instanceof Hj)return n.track.isActive&&t.push([bM.LocalAudioTrack,n]),t;const i=Array.from(this.localTrackMap.entries()).find(t=>{let[,{track:n}]=t;return e===n});if(i)if(i[0]===bM.LocalVideoTrack){t.push(i);const e=this.localTrackMap.get(bM.LocalVideoLowTrack);e&&t.push([bM.LocalVideoLowTrack,e])}else t.push(i);return t}createMuteMessage(e){return e.map(e=>{var t;let n,[i,{track:r,ssrcs:a,id:s}]=e;switch(i){case bM.LocalAudioTrack:n=iM.Audio;break;case bM.LocalVideoTrack:n=Pi(t=r._hints).call(t,UI.SCREEN_TRACK)?iM.Screen:iM.High;break;case bM.LocalVideoLowTrack:n=iM.Low}return{stream_type:n,ssrcs:a,mid:s}})}createUnmuteMessage(e){return e.map(e=>{var t;let n,[i,{track:r,ssrcs:a,id:s}]=e;switch(i){case bM.LocalAudioTrack:n=iM.Audio;break;case bM.LocalVideoTrack:n=Pi(t=r._hints).call(t,UI.SCREEN_TRACK)?iM.Screen:iM.High;break;case bM.LocalVideoLowTrack:n=iM.Low}return{stream_type:n,ssrcs:a,mid:s}})}filterTobeUnSubscribedTracks(e,t){const n=[],i=this.remoteUserMap.get(e);if(!i)return n;if(t){const r=i.get(t);if(!r)return n;n.push([e,{kind:t,id:r}])}else Array.from(i.entries()).forEach(t=>{let[i,r]=t;n.push([e,{kind:i,id:r}])});return n}filterTobeUnSubscribedDataChannels(e,t){const n=[];return t.forEach(t=>{var i;null!==(i=this.remoteDataChannelMap.get(e))&&void 0!==i&&i.has(t.id)&&n.push(t)}),n}createUnsubscribeMessage(e){const t=[];return e.forEach(e=>{let[n,{kind:i,id:r}]=e;switch(i){case fM.VIDEO:return void(n._videoSSRC&&t.push({stream_type:fM.VIDEO,ssrcId:n._videoSSRC}));case fM.AUDIO:return void(n._audioSSRC&&t.push({stream_type:fM.AUDIO,ssrcId:n._audioSSRC}))}}),t}createUnsubscribeAllMessage(e){const t=new Map;return e.forEach(e=>{let[n,{kind:i}]=e;if(t.has(n)){let e=t.get(n);i===fM.VIDEO?e|=sM.Video:e|=sM.Audio,t.set(n,e)}else i===fM.VIDEO?t.set(n,sM.Video):t.set(n,sM.Audio)}),{users:Array.from(t.entries()).map(e=>{let[t,n]=e;return{stream_id:t.uid,stream_type:n}})}}withdrawRemoteTracks(e){e.forEach(e=>{let[t,{kind:n}]=e;const i=this.remoteUserMap.get(t);i&&(i.delete(n),0===Array.from(i.entries()).length&&this.remoteUserMap.delete(t))})}async updateBitrateLimit(e){const t=this.localTrackMap.get(bM.LocalVideoTrack),n=this.localTrackMap.get(bM.LocalVideoLowTrack);t&&(await t.track.setBitrateLimit(e.uplink),await new np((e,n)=>{this.handleUpdateVideoEncoder(t.track,e,n,!0)})),n&&e.low_stream_uplink&&(await n.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0}),await new np((e,t)=>{this.handleUpdateVideoEncoder(n.track,e,t,!0)}))}isP2PDisconnected(){return!this.connection||"connected"!==this.connection.peerConnectionState}isPreallocation(){return this.connection instanceof TB&&this.connection.isPreallocation}isPreSub(){return this.connection instanceof TB&&this.connection.isPreSub()}mapPubResToRemoteConfig(e,t,n){return e.map((e,i)=>{var r;let{stream_type:a}=e;const s=null===(r=t.find(e=>{let{stream_type:t}=e;return a===t}))||void 0===r?void 0:r.attributes;if(s&&AR("DISABLE_SCREEN_SHARE_REMB")){const e=n[i]._hints;(Pi(e).call(e,UI.SCREEN_TRACK)||Pi(e).call(e,UI.SCREEN_LOW_TRACK))&&(s.remb=!1,sI.debug("disable remb for screen share, hints:",e))}return s})}async tryToUnmuteAudio(e){for(let n=0;n<e.length;n++)if(e[n]instanceof Bj){var t;const i=this.filterTobeUnmutedTracks(e[n]);if(0===i.length)continue;await(null===(t=this.connection)||void 0===t?void 0:t.unmuteLocal(i.map(e=>{let[,{id:t}]=e;return t})));const r=this.createUnmuteMessage(i);return void await sk(this,xM.RequestUnmuteLocal,r)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.connection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(xM.RequestUpload,e,t),this.statsUploader.requestUploadStats=e=>this.emit(xM.RequestUploadStats,e),this.statsUploader.requestAllTracks=()=>this.getAllTracks(),this.statsUploader.requestTransportStats=()=>{var e;return{connectState:(null===(e=this.connection)||void 0===e?void 0:e.peerConnectionState)||"closed"}}}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await Sk(Vk(this.dtlsFailedCount,Bk)),this.emit(xM.RequestReconnect)}async reconnectP2P(){const e=Array.from(this.localTrackMap.entries()),t=this.createGatewayUnpublishMessage(e);Array.from(this.remoteUserMap.entries()),t.length>0&&await ak(this,xM.RequestUnpublishForReconnectPC,t),this.disconnectForReconnect(),this.emit(xM.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(bM.LocalVideoTrack)||this.pendingLocalTracks.some(e=>e instanceof PP)}throwIfTrackTypeNotMatch(e){if(e.filter(e=>e instanceof PP).length>1)throw new kA(AA.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter(e=>e instanceof Bj).length>1&&(e.some(e=>e instanceof Bj&&e._bypassWebAudio)||!_I().webAudioMediaStreamDest))throw new kA(AA.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const t of e){if(t instanceof PP&&this.pendingLocalTracks.some(e=>e instanceof PP))throw new kA(AA.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof Bj&&this.pendingLocalTracks.some(e=>e instanceof Bj)&&(!_I().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some(e=>e instanceof Bj&&e._bypassWebAudio)))throw new kA(AA.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(e,t){var n;const i=!AR("DISABLE_DUAL_STREAM_USE_ENCODING")&&_I().supportDualStreamEncoding,r=QB(QB({},{width:160,height:120,framerate:15,bitrate:50}),t);let a;a=i?e._mediaStreamTrack.clone():AB(e,r);const s=Ck(8,"track-low-"),o=new PP(a,QB(QB({},i&&{scaleResolutionDownBy:dU(r,e)}),{},{frameRate:r.framerate,bitrateMax:r.bitrate,bitrateMin:r.bitrate}),void 0,void 0,s);return o.on(zI.TRANSCEIVER_UPDATED,t=>{e._updateRtpTransceiver(t,FI.LOW_STREAM)}),o._hints.push(UI.LOW_STREAM),Pi(n=e._hints).call(n,UI.SCREEN_TRACK)&&o._hints.push(UI.SCREEN_LOW_TRACK),e.on("sei-to-send",e=>{o.emit("sei-to-send",e)}),e.addListener(MI.NEED_CLOSE,()=>{o.close()}),o}async globalLock(){return this.mutex.lock("From P2PChannel.globalLock")}async reportPCStats(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.connection&&this.connection instanceof TB){var r,a,s,o;const l=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:c,dtlsTransportState:d,peerConnectionState:u}=this.connection,{local:h,remote:p}=await this.connection.getSelectedCandidatePair();mI.pcStats(this.store.sessionId,{startTime:l,eventElapse:e-l||0,iceconnectionsate:c,dtlsstate:d,connectionstate:u,intSucc:t?1:2,error:this._iceError||i||"",selectedLocalCandidateProtocol:null!==(r=null==h?void 0:h.protocol)&&void 0!==r?r:"",selectedLocalCandidateType:null!==(a=h.candidateType)&&void 0!==a?a:"",selectedLocalCandidateAddress:"".concat(h.address,":").concat(h.port),selectedRemoteCandidateProtocol:null!==(s=p.protocol)&&void 0!==s?s:"",selectedRemoteCandidateType:null!==(o=p.candidateType)&&void 0!==o?o:"",selectedRemoteCandidateAddress:"".concat(p.address,":").concat(p.port),restartCnt:n,preallocation:this.connection.isPreallocation}),this._iceError=null}}reportVideoFirstFrameRender(e){const t=this.store.keyMetrics,n=t.firstVideoFrameDecoded.find(t=>t.userId===e.uid);if(!n)return;const{isInternalUpload:i,isExternalUpload:r}=n;if(i&&r)return;const{subscribeEnd:a,firstPreRender:s,peerPublishDuration:o,peerPubStatusMs:l}=n;let{firstRender:c=0}=n;if(a&&(c||s)&&o&&l){n.isInternalUpload=!0;const{playEnd:i}=n;i&&(n.isExternalUpload=!0);const{firstPreRender:r=0}=n;c=r||c;const s=e.videoTrack,d={peer:e._uintid,width:(null==s?void 0:s._videoWidth)||0,height:(null==s?void 0:s._videoHeight)||0,ssrc:e._videoSSRC||0,p2pid:this.store.p2pId,peerPublishDuration:o,peerPubStatusMs:l,joinChannelStart:t.joinStart||0,preloadStart:t.preloadStart||0,preloadEnd:t.preloadEnd||0,apStart:t.requestAPStart||0,apEnd:t.requestAPEnd||0,suaEnd:t.requestSUAEnd||0,beforeConnect:t.beforeConnect||0,peerReceiver:t.peerReceiver||0,ice:t.iceConnectionEnd||0,pc:t.peerConnectionEnd||0,signalConnected:t.signalConnected||0,joinReq:t.joinReq||0,joinRes:t.joinRep||0,userJoinNotify:n.userJoinNotify||0,videoAddNotify:n.videoAddNotify||0,subscribeStart:n.subscribeStart||0,subscribeEnd:n.subscribeEnd||0,firstReceived:n.firstReceived||0,firstDecoded:n.firstDecoded||0,firstPreRender:r||0,firstRender:i?Math.max(c,i):Math.max(c,a),playStart:n.playStart||0,playEnd:n.playEnd||0,isPreSub:!(!e._videoSSRC||!this.isPreSubScribe(e._videoSSRC)),isPrePc:this.isPreallocation(),isPreInstantVideo:xI(this.store)};mI.firstXLAPeerFirstVideoFrame(this.store.sessionId,d)}}reportVideoFirstFrameDecoded(e,t,n,i){var r;const a=Array.from(KR(r=this.remoteUserMap).call(r)).find(t=>t._videoSSRC===e);if(a){i||this.store.subscribe(a.uid,"video",void 0,void 0,void 0,void 0,Date.now());const r=this.store.keyMetrics,s=r.subscribe.find(e=>e.userId===a.uid&&"video"===e.type);mI.firstRemoteVideoDecode(this.store.sessionId,dI.FIRST_VIDEO_DECODE,uI.FIRST_VIDEO_DECODE,{peer:a._uintid,videowidth:t,videoheight:n,subscribeElapse:qF.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==s?void 0:s.subscribeEnd)||0,subscriberStart:(null==s?void 0:s.subscribeStart)||0,videoAddNotify:(null==s?void 0:s.streamAdded)||0,state:i?1:0,firstFrame:(null==s?void 0:s.firstFrame)||0})}}async remoteMediaSsrcChanged(e,t,n){if(!this.connection)return!1;const i=this.remoteUserMap.get(e);if(!i)return!1;const r=i.get(t);if(!r)return!1;const a=await this.connection.getRemoteSSRC(r);return void 0!==a&&a!==n}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach(e=>{let[t,{track:n}]=e;t===bM.LocalVideoLowTrack?n._updateRtpTransceiver(void 0,FI.LOW_STREAM):n._updateRtpTransceiver(void 0)})}},kL(JB.prototype,"startP2PConnection",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"startP2PConnection"),JB.prototype),kL(JB.prototype,"connect",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"connect"),JB.prototype),kL(JB.prototype,"updateRemoteRTPCapabilities",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"updateRemoteRTPCapabilities"),JB.prototype),kL(JB.prototype,"publishDataChannel",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"publishDataChannel"),JB.prototype),kL(JB.prototype,"unpublish",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"unpublish"),JB.prototype),kL(JB.prototype,"unpublishDataChannel",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"unpublishDataChannel"),JB.prototype),kL(JB.prototype,"unpublishLowStream",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"unpublishLowStream"),JB.prototype),kL(JB.prototype,"subscribeDataChannel",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"subscribeDataChannel"),JB.prototype),kL(JB.prototype,"subscribe",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"subscribe"),JB.prototype),kL(JB.prototype,"massSubscribe",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"massSubscribe"),JB.prototype),kL(JB.prototype,"unsubscribe",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"unsubscribe"),JB.prototype),kL(JB.prototype,"unsubscribeDataChannel",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"unsubscribeDataChannel"),JB.prototype),kL(JB.prototype,"massUnsubscribe",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"massUnsubscribe"),JB.prototype),kL(JB.prototype,"muteRemote",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"muteRemote"),JB.prototype),kL(JB.prototype,"unmuteRemote",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"unmuteRemote"),JB.prototype),kL(JB.prototype,"hasRemoteMediaWithLock",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"hasRemoteMediaWithLock"),JB.prototype),kL(JB.prototype,"disconnectForReconnect",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"disconnectForReconnect"),JB.prototype),kL(JB.prototype,"updateBitrateLimit",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"updateBitrateLimit"),JB.prototype),kL(JB.prototype,"remoteMediaSsrcChanged",[nV],Object.getOwnPropertyDescriptor(JB.prototype,"remoteMediaSsrcChanged"),JB.prototype),JB);function nV(e,t,n){const i=e[t];if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PChannel.".concat(t));try{for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return await i.apply(this,a)}finally{n()}},n}function iV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function rV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iV(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const aV=Date.now(),sV=20,oV=new Map,lV=new Map;async function cV(e){const t=oV.get(e),n=Array.isArray(t)&&t[t.length-1],i=lV.get(e);if(!n)return void(i.isSyncing=!1);const r={uid:n.uid,payload:n.payload};0===i.firstRecvTs&&(i.firstRecvTs=n.recvTs,i.firstSendTs=n.sendTs);const a=n.sendTs-i.firstSendTs,s=a-(Date.now()-i.firstRecvTs);s>0&&(i.firstRecvTs=Date.now()-a);let o=n.mediaDelay+s;o<=0?(t.pop(),dV(n.context,r),o=0):o=Math.min(o,sV),setTimeout(()=>t.length&&cV(e),o)}function dV(e,t){e.safeEmit(tk.STREAM_MESSAGE,t.uid,t.payload),e.onStreamMessage&&e.onStreamMessage(t)}function uV(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(!e.syncWithAudio)return dV(n,{uid:e.uid,payload:e.payload});const i="".concat(n.id,"-").concat(e.uid),r=oV.get(i)||[],a=r.findIndex(t=>e.sendTs>=t.sendTs),s=rV(rV({},e),{},{context:n,mediaDelay:t,recvTs:Date.now()});-1===a?r.push(s):r.splice(a,0,s),oV.set(i,r);let o=!1;var l;lV.has(i)?o=!(null===(l=lV.get(i))||void 0===l||!l.isSyncing):lV.set(i,{isSyncing:o,firstRecvTs:0,firstSendTs:0}),o||cV(i)}const hV=YN().name;function pV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function mV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pV(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const fV="websdk_ng_cache_parameter",gV=AR("MAX_PRELOAD_ASYNC_LENGTH"),_V=1e4,vV=new Map,bV=[];let yV=null,xV=0,wV=0;const EV=new Map,SV=function(e,t){const n=[];let i=0;const r=async()=>{const e=n.shift();e&&await e(),n.length>0&&i<t?r():i--};return async function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return new np(async(a,o)=>{n.push(async()=>{try{const t=await e(...s);a(t)}catch(e){o(e)}}),i<t&&(i++,r())})}}(TV,gV),CV=LN.CancelToken.source();async function TV(e,t,n,i,r,a){try{if(!AR("ENABLE_PRELOAD"))return;if(!_I().supportWebCrypto)return void gk(()=>{sI.warn("Your browser does not support preloading, this feature  be run in a secure environment")},"preload_webcrypto_not_supported");if(!n&&null!==n)throw new kA(AA.INVALID_PARAMS,"Invalid token: ".concat(n,". If you don not use token, set it to null"));n&&PA(n,"token",1,2047),PA(e,"appid",1,2047),zL(t),i&&HL(i);const s=Tk();sI.debug("preload channel ".concat(t,", uid is ").concat(i));const o={appId:e,cname:t,token:n||e,uid:"string"!=typeof i?i:null,sid:s,proxyServer:r};let l,c;"string"==typeof i?(o.stringUid=i,[c,l]=await np.all([DF(i,{sid:s,appId:e},CV.token),MF(mV(mV({},o),{},{token:n||e,uid:0}),CV.token)]),o.uid=c.uid,l.gatewayInfo.uid=o.uid,l.gatewayInfo.res.uid=o.uid):(a&&(o.stringUid=a),l=await MF(o,CV.token));const d={sid:s,appId:e,cname:t,token:n||e,uid:o.stringUid||i,intUid:o.uid||l.gatewayInfo.uid,stringUid:o.stringUid,ts:Date.now(),sua:c,ap:l};await async function(e){let t;try{e.uid&&AV({appId:e.appId,cname:e.cname,token:e.token,uid:e.uid,stringUid:e.stringUid});const n=PV(e),i=await async function(e,t){try{const n=await window.crypto.subtle.importKey("raw",bk(t),"AES-GCM",!1,["encrypt"]),i=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(1)},n,_k(window.btoa(JSON.stringify(e))));return vk(new Uint8Array(i))}catch(e){return}}(e,e.token||e.appId);if(!i)return;t=OV(fV);const r=t?JSON.parse(t):[];r.push({[n]:i}),r.length>AR("AP_CACHE_NUM")&&r.shift(),jV(fV,JSON.stringify(r))}catch(e){sI.warn("Error caching server parameters:",e.message),jV(fV,"")}}(d),xV++}catch(e){throw wV++,function(e){yV||(yV=window.setTimeout(()=>{let t="";EV.forEach((e,n)=>{t+="".concat(n,": ").concat(e," ;")}),mI.reportApiInvoke(null,{name:YA.PRELOAD,options:{success:xV,failed:wV,err:t}}).onError(e),xV=0,wV=0,EV.clear(),yV=null},_V));const t=EV.get(e.code)||0;EV.set(e.code,t+1)}(e),e}}async function NV(e){try{if(AR("AP_REQUEST_DETAIL")||AR("ENABLE_ROLE_SELECT_EDGE"))return;const t=AV(e);if(!t||"disabled"!==e.cloudProxyServer)return;const n=await async function(e,t){try{const n=await window.crypto.subtle.importKey("raw",bk(t),"AES-GCM",!1,["decrypt"]),i=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:new Uint8Array(1)},n,_k(e));return JSON.parse(window.atob(vk(new Uint8Array(i))))}catch(e){return}}(t,e.token||e.appId);if(!n)return;if(!function(e,t){return!(e.cname!==t.cname||e.appId!==t.appId||e.token!==t.token)&&(t.stringUid?e.stringUid===t.stringUid:"number"==typeof t.uid?e.uid===t.uid:e.uid==t.uid)}(n,e))return;if(n&&Date.now()-n.ts<AR("AP_CACHE_LIFETIME"))return n}catch(e){sI.warn("Error get preloadInfo",e.message)}}function AV(e){let t;try{if(t=OV(fV),!t)return;const n=JSON.parse(t),i=PV(e),r=function(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return n;return-1}(n,e=>i in e);if(-1===r)return;const a=n.splice(r,1)[0];return jV(fV,JSON.stringify(n)),a[i]}catch(e){sI.warn("Error delete preload info: ".concat(t),e.message),jV(fV,"")}}function kV(e){if(e){let t=vV.get(e);t&&(window.clearTimeout(t),t=null,vV.delete(e)),Pi(bV).call(bV,e)||"disabled"!==e.cloudProxyServer||bV.push(e)}if(vV.size<AR("AP_CACHE_NUM")&&bV.length>0){const e=bV.shift();vV.set(e,window.setTimeout(async()=>{const{appId:t,cname:n,token:i,stringUid:r,uid:a,proxyServer:s}=e;try{await SV(t,n,i,a,s,r),vV.has(e)&&kV(e)}catch(t){sI.warn("update preload failed",t.message),RV(e)}},AR("AP_UPDATE_INTERVAL")))}}function RV(e){const t=bV.indexOf(e);-1!==t&&bV.splice(t,1);let n=vV.get(e);n&&(window.clearTimeout(n),n=null,vV.delete(e),kV())}function IV(e,t){const n=e.sua,i=e.ap;t&&n&&mI.reqUserAccount(e.sid,{lts:n.requestTime,elapse:n.elapse,success:!0,serverAddr:n.url,stringUid:t,uid:e.intUid,errorCode:null,extend:n.req}),mI.reportResourceTiming(e.ap.url,e.sid),mI.joinWebProxyAP(e.sid,{lts:i.requestTime,elapse:i.elapse,sucess:1,apServerAddr:i.url,turnServerAddrList:i.proxyInfo.addresses.map(e=>e.ip).join(","),eventType:"disabled",unilbsServerIds:[$M.CHOOSE_SERVER,$M.CLOUD_PROXY_FALLBACK].toString()}),mI.joinChooseServer(e.sid,{lts:i.requestTime,elapse:i.elapse,succ:!0,csAddr:i.url,opid:i.opid,serverList:i.gatewayInfo.gatewayAddrs.map(e=>e.address),ec:null,cid:i.gatewayInfo.cid.toString(),uid:i.gatewayInfo.uid.toString(),csIp:i.gatewayInfo.csIp,unilbsServerIds:[$M.CHOOSE_SERVER].toString(),isHttp3:i.isHttp3})}function OV(e){return window.atob(window.localStorage.getItem(e)||"")}function jV(e,t){window.localStorage.setItem(e,window.btoa(t))}function PV(e){let t="".concat(e.appId,"_").concat(e.cname);return"string"==typeof e.uid&&(t+="_s_".concat(e.uid)),"number"==typeof e.uid&&(t+="_".concat(e.uid)),e.token&&(t+="_".concat(e.token)),Dk(t)}function DV(e){let t=function(){const e=FV.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(e,t){let n=e.appId;void 0!==n&&(JV(t,10),qV(t,n));let i=e.cid;void 0!==i&&(JV(t,16),JV(t,i));let r=e.cname;void 0!==r&&(JV(t,26),qV(t,r));let a=e.deviceId;void 0!==a&&(JV(t,34),qV(t,a));let s=e.elapse;void 0!==s&&(JV(t,40),QV(t,s));let o=e.fileSize;void 0!==o&&(JV(t,48),QV(t,UV(o)));let l=e.height;void 0!==l&&(JV(t,56),QV(t,UV(l)));let c=e.jpg;void 0!==c&&(JV(t,66),JV(t,c.length),WV(t,c));let d=e.networkType;void 0!==d&&(JV(t,72),QV(t,UV(d)));let u=e.osType;void 0!==u&&(JV(t,80),QV(t,UV(u)));let h=e.requestId;void 0!==h&&(JV(t,90),qV(t,h));let p=e.sdkVersion;void 0!==p&&(JV(t,98),qV(t,p));let m=e.sequence;void 0!==m&&(JV(t,104),QV(t,UV(m)));let f=e.sid;void 0!==f&&(JV(t,114),qV(t,f));let g=e.timestamp;void 0!==g&&(JV(t,120),QV(t,g));let _=e.uid;void 0!==_&&(JV(t,128),JV(t,_));let v=e.vid;void 0!==v&&(JV(t,136),JV(t,v));let b=e.width;void 0!==b&&(JV(t,144),QV(t,UV(b)));let y=e.service;void 0!==y&&(JV(t,152),JV(t,y));let x=e.callbackData;void 0!==x&&(JV(t,162),JV(t,x.length),WV(t,x));let w=e.ticket;void 0!==w&&(JV(t,170),qV(t,w));let E=e.vendorConfigs;void 0!==E&&(JV(t,178),qV(t,E))}(e,t),function(e){let t=e.bytes,n=e.limit;return t.length===n?t:t.subarray(0,n)}(t)}function LV(e){return function(e){let t={};e:for(;!VV(e);){let n=KV(e);switch(n>>>3){case 0:break e;case 1:t.code=KV(e);break;case 2:t.msg=GV(e,KV(e));break;case 3:t.requestId=GV(e,KV(e));break;case 4:t.timestamp=ZV(e,!1);break;default:MV(e,7&n)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function MV(e,t){switch(t){case 0:for(;128&YV(e););break;case 2:BV(e,KV(e));break;case 5:BV(e,4);break;case 1:BV(e,8);break;default:throw new Error("Unimplemented type: "+t)}}function UV(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let FV=[];function BV(e,t){if(e.offset+t>e.limit)throw new Error("Skip past limit");e.offset+=t}function VV(e){return e.offset>=e.limit}function zV(e,t){let n=e.bytes,i=e.offset,r=e.limit,a=i+t;if(a>n.length){let t=new Uint8Array(2*a);t.set(n),e.bytes=t}return e.offset=a,a>r&&(e.limit=a),i}function HV(e,t){let n=e.offset;if(n+t>e.limit)throw new Error("Read past limit");return e.offset+=t,n}function WV(e,t){let n=zV(e,t.length);e.bytes.set(t,n)}function GV(e,t){let n=HV(e,t),i=String.fromCharCode,r=e.bytes,a="\ufffd",s="";for(let o=0;o<t;o++){let e,l,c,d,u=r[o+n];0==(128&u)?s+=i(u):192==(224&u)?o+1>=t?s+=a:(e=r[o+n+1],128!=(192&e)?s+=a:(d=(31&u)<<6|63&e,d<128?s+=a:(s+=i(d),o++))):224==(240&u)?o+2>=t?s+=a:(e=r[o+n+1],l=r[o+n+2],32896!=(49344&(e|l<<8))?s+=a:(d=(15&u)<<12|(63&e)<<6|63&l,d<2048||d>=55296&&d<=57343?s+=a:(s+=i(d),o+=2))):240==(248&u)?o+3>=t?s+=a:(e=r[o+n+1],l=r[o+n+2],c=r[o+n+3],8421504!=(12632256&(e|l<<8|c<<16))?s+=a:(d=(7&u)<<18|(63&e)<<12|(63&l)<<6|63&c,d<65536||d>1114111?s+=a:(d-=65536,s+=i(55296+(d>>10),56320+(1023&d)),o+=3))):s+=a}return s}function qV(e,t){let n=t.length,i=0;for(let s=0;s<n;s++){let e=t.charCodeAt(s);e>=55296&&e<=56319&&s+1<n&&(e=(e<<10)+t.charCodeAt(++s)-56613888),i+=e<128?1:e<2048?2:e<65536?3:4}JV(e,i);let r=zV(e,i),a=e.bytes;for(let s=0;s<n;s++){let e=t.charCodeAt(s);e>=55296&&e<=56319&&s+1<n&&(e=(e<<10)+t.charCodeAt(++s)-56613888),e<128?a[r++]=e:(e<2048?a[r++]=e>>6&31|192:(e<65536?a[r++]=e>>12&15|224:(a[r++]=e>>18&7|240,a[r++]=e>>12&63|128),a[r++]=e>>6&63|128),a[r++]=63&e|128)}}function YV(e){return e.bytes[HV(e,1)]}function XV(e,t){let n=zV(e,1);e.bytes[n]=t}function KV(e){let t,n=0,i=0;do{t=YV(e),n<32&&(i|=(127&t)<<n),n+=7}while(128&t);return i}function JV(e,t){for(t>>>=0;t>=128;)XV(e,127&t|128),t>>>=7;XV(e,t)}function ZV(e,t){let n,i=0,r=0,a=0;return n=YV(e),i=127&n,128&n&&(n=YV(e),i|=(127&n)<<7,128&n&&(n=YV(e),i|=(127&n)<<14,128&n&&(n=YV(e),i|=(127&n)<<21,128&n&&(n=YV(e),r=127&n,128&n&&(n=YV(e),r|=(127&n)<<7,128&n&&(n=YV(e),r|=(127&n)<<14,128&n&&(n=YV(e),r|=(127&n)<<21,128&n&&(n=YV(e),a=127&n,128&n&&(n=YV(e),a|=(127&n)<<7))))))))),{low:i|r<<28,high:r>>>4|a<<24,unsigned:t}}function QV(e,t){let n=t.low>>>0,i=(t.low>>>28|t.high<<4)>>>0,r=t.high>>>24,a=0===r?0===i?n<16384?n<128?1:2:n<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:r<128?9:10,s=zV(e,a),o=e.bytes;switch(a){case 10:o[s+9]=r>>>7&1;case 9:o[s+8]=9!==a?128|r:127&r;case 8:o[s+7]=8!==a?i>>>21|128:i>>>21&127;case 7:o[s+6]=7!==a?i>>>14|128:i>>>14&127;case 6:o[s+5]=6!==a?i>>>7|128:i>>>7&127;case 5:o[s+4]=5!==a?128|i:127&i;case 4:o[s+3]=4!==a?n>>>21|128:n>>>21&127;case 3:o[s+2]=3!==a?n>>>14|128:n>>>14&127;case 2:o[s+1]=2!==a?n>>>7|128:n>>>7&127;case 1:o[s]=1!==a?128|n:127&n}}const $V={},ez={},tz=4294967296,nz=tz*tz,iz=nz/2,rz=cz(0,!0),az=cz(0),sz=dz(0,-2147483648,!1),oz=dz(-1,2147483647,!1),lz=dz(-1,-1,!0);function cz(e,t){let n,i,r;return t?(r=0<=(e>>>=0)&&e<256)&&(i=ez[e],i)?i:(n=dz(e,0,!0),r&&(ez[e]=n),n):(r=-128<=(e|=0)&&e<128)&&(i=$V[e],i)?i:(n=dz(e,e<0?-1:0,!1),r&&($V[e]=n),n)}function dz(e,t,n){return{low:0|e,high:0|t,unsigned:!!n}}function uz(e,t){if(isNaN(e))return t?rz:az;if(t){if(e<0)return rz;if(e>=nz)return lz}else{if(e<=-iz)return sz;if(e+1>=iz)return oz}return e<0?t?rz:az:dz(e%tz|0,e/tz|0,t)}function hz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}class pz extends WA{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(AM.CONNECTION_STATE_CHANGE,e,t)}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),this._quality>=1||(this._qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this._qualityRatio},6e4))}constructor(e){var t;super(),uC(this,"name","AgoraRTCImageModeration"),uC(this,"_connectionState",NM.CONNECTING),uC(this,"_sequence",0),uC(this,"_moderationStartTime",void 0),uC(this,"_workerConnection",void 0),uC(this,"_workerMessageLengthLimit",void 0),uC(this,"_qualityRatio",void 0),uC(this,"_connectInfo",void 0),uC(this,"_cancelTokenSource",LN.CancelToken.source()),uC(this,"_retryConfig",void 0),uC(this,"_moderationInterval",void 0),uC(this,"_moderationTimer",null),uC(this,"_moderationMode",1),uC(this,"_quality",1),uC(this,"_qualityTimer",null),uC(this,"_ticket",void 0),uC(this,"_moderationIntervalMinimum",void 0),uC(this,"_uploadFailedNum",0),uC(this,"_uploadNum",0),uC(this,"_uploadTimer",null),uC(this,"_extraInfo",void 0),uC(this,"_vendor",""),uC(this,"_encoder",new TextEncoder),uC(this,"_moderationId",void 0),uC(this,"inspectImage",()=>{if(this.connectionState!==NM.CONNECTED)throw new fI(AA.OPERATION_ABORTED,"image moderation service connection status is ".concat(this.connectionState));this._moderationTimer&&(window.clearInterval(this._moderationTimer),this._moderationTimer=null),this._moderationTimer=window.setInterval(()=>{this.connectionState===NM.CONNECTED?this.requestToInspectImage():sI.debug("[".concat(this._moderationId,"] Moderation State is not connected , "),this.connectionState)},this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage()}),this._moderationId=Ck(5,"image-moderation-"),this._workerMessageLengthLimit=AR("IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT"),this._moderationIntervalMinimum=AR("IMAGE_MODERATION_INTERVAL_MINIMUM"),this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),this._qualityRatio=AR("IMAGE_MODERATION_QUALITY_RATIO"),this._moderationStartTime=Number(Date.now()),this._workerConnection=new JM("worker-"+this._moderationId,Bk),this.on(AM.STATE_CHANGE,(e,t)=>{sI.debug("[".concat(this._moderationId,"] Moderation operation :").concat(kM[e]," ").concat(t||""))}),this.handleWorkerEvents()}async init(e,t){this.emit(AM.STATE_CHANGE,kM.CONNECT_AP),this._connectInfo=e;const n=this._cancelTokenSource.token;return this._retryConfig=t,new np((i,r)=>{this.on(AM.CONNECTION_STATE_CHANGE,(e,t)=>{e===NM.CONNECTED&&i()}),this.requestAP(e,n,t).then(e=>{this.connectWorker(e)}).catch(e=>{r(e)})})}updateConfig(e){var t;this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),sI.debug("[".concat(this._moderationId,"] updateConfig: ").concat(JSON.stringify(e))),this.connectionState===NM.CONNECTED&&this.inspectImage()}async requestAP(e,t,n){const i=AR("WEBCS_DOMAIN").map(e=>"https://".concat(e,"/api/v1")),r=await function(e,t,n,i){let{appId:r,areaCode:a,cname:s,sid:o,token:l,uid:c}=t;NF++;const d="moderation_plugin",u={service_name:d,json_body:JSON.stringify({appId:r,areaCode:a,cname:s,command:"allocateEdge",requestId:NF,seq:NF,sid:o,appToken:l,ts:Date.now(),uid:c+""})};let h,p,m=e[0];return zk(async()=>{h=Date.now();const e=await aF(m,{data:u,cancelToken:n,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(p=Date.now()-h,0!==e.code){const t=new fI(AA.UNEXPECTED_RESPONSE,"moderation plugin ap error, code"+e.code,{retry:!0,responseTime:p});throw sI.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new fI(AA.UNEXPECTED_RESPONSE,"moderation plugin ap error, code: ".concat(t.code,", reason: ").concat(t.reason),{code:t.code,responseTime:p});throw sI.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new fI(AA.UNEXPECTED_RESPONSE,"moderation plugin ap empty server",{code:t.code,responseTime:p});throw sI.error(e.toString()),e}if(!t.servers.some(e=>!!e.wss)){const e=new fI(AA.UNEXPECTED_RESPONSE,"moderation plugin ap empty port",{code:t.code,responseTime:p});throw sI.error(e.toString()),e}const i=AR("IMAGE_MODERATION_WORKER_HOST");return{addressList:t.servers.map(e=>{let{address:t,wss:n}=e;if(t&&n)return"wss://".concat(t.replace(/\./g,"-"),".").concat(i,":").concat(n,"/moderation")}).filter(e=>!!e),workerToken:t.workerToken,vid:t.vid,ticket:t.appTicket,responseTime:p}},(t,n)=>(mI.apworkerEvent(o,{success:!0,sc:200,serviceName:d,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===n,responseTime:p,serverIp:e[n%e.length]}),!1),(t,n)=>(mI.apworkerEvent(o,{success:!1,sc:t.data&&t.data.code||200,serviceName:d,responseTime:p,serverIp:e[n%e.length]}),!!(t.code!==AA.OPERATION_ABORTED&&t.code!==AA.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(m=e[(n+1)%e.length],!0)),i)}(i,e,t,n);this.emit(AM.STATE_CHANGE,kM.AP_CONNECTED);const{addressList:a,ticket:s}=r;return this._ticket=s,a}async connectWorker(e){this.emit(AM.STATE_CHANGE,kM.CONNECT_WORKER),await this._workerConnection.init(e,1e4)}handleWorkerEvents(){this._workerConnection.on(VL.CONNECTED,async()=>{this.emit(AM.STATE_CHANGE,kM.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=NM.CONNECTED}),this._workerConnection.on(VL.CLOSED,()=>{this.connectionState=NM.CLOSED}),this._workerConnection.on(VL.FAILED,()=>{this.connectionState=NM.CLOSED}),this._workerConnection.on(VL.RECONNECTING,()=>{this.connectionState=this.connectionState===NM.CONNECTED?NM.RECONNECTING:NM.CONNECTING}),this._workerConnection.on(VL.ON_MESSAGE,async e=>{if(e.data instanceof ArrayBuffer){const t=LV(new Uint8Array(e.data));AR("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&sI.debug("[".concat(this._moderationId,"] Response message for worker of image moderation "),JSON.stringify(t)),this._uploadNum++,void 0===t.code||0===t.code||(this._uploadFailedNum++,sI.error("[".concat(this._moderationId,"] Error response from worke, code is ").concat(t.code,", msg is ").concat(t.msg)),this._uploadTimer||(this._uploadTimer=window.setTimeout(()=>{mI.reportApiInvoke(this._connectInfo.sid||null,{name:YA.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,t.code],tag:XA.TRACER}).onError(new fI(AA.IMAGE_MODERATION_UPLOAD_FAILED,t.msg)),this._uploadTimer=null},AR("IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL"))))}else sI.error("[".concat(this._moderationId,"] Unexpected message type from worker"))}),this._workerConnection.on(VL.WILL_RECONNECT,(e,t,n)=>{"recover"===e&&n(e),n("tryNext")}),this._workerConnection.on(VL.REQUEST_NEW_URLS,(e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)})}static intToLong(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){const e=ok(this,AM.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void(AR("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&sI.debug("Only the track being played can be inspected"));this._sequence++;const n=await this.generateRequestData(e,t);this._workerConnection.sendMessage(n,!0,!0)}else AR("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&sI.debug("Only the track being published can be inspected")}async generateRequestData(e,t){let{appId:n,cname:i,cid:r,vid:a,sid:s,uid:o}=t;const l=Date.now(),c=await e.getCurrentFrameImage("image/jpeg",this.quality),d=await ZO(c,n,i),u=this._sequence+"-"+r+"-"+o+"-"+l+"-"+Ck(12,""),h={appId:n,cid:r,cname:i,deviceId:"",elapse:pz.intToLong(Number(l-this._moderationStartTime)),fileSize:c.buffer.byteLength,height:c.height,width:c.width,jpg:d,networkType:6,osType:7,requestId:u,sdkVersion:"4.24.0",sequence:this._sequence,sid:s,timestamp:uz(l),uid:o,vid:a,service:this._moderationMode,ticket:this._ticket,callbackData:this._extraInfo,vendorConfigs:this._vendor};void 0===this._extraInfo&&delete h.callbackData;const p=DV(h);if(p.byteLength<this._workerMessageLengthLimit){if(AR("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")){const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hz(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},h);delete e.jpg,sI.debug("[".concat(this._moderationId,"] Request message for worker of image moderation service: "),JSON.stringify(e))}return p}{const t=this.quality*this._qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:n,cname:i,cid:r,vid:a,sid:s,uid:o})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=LN.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=NM.CLOSED,this.emit(AM.STATE_CHANGE,kM.CLOSED)}}function mz(e){if(OA(e.interval,"interval",1e3,1/0),e&&e.extraInfo&&e.extraInfo.length>1024)throw new fI(AA.INVALID_PARAMS,"config.extraInfo length cannot exceed 1024 bytes");if(e&&e.vendor&&e.vendor.length>1024)throw new fI(AA.INVALID_PARAMS,"config.vendor length cannot exceed 1024 bytes")}const fz={name:"ImageModeration",create:function(e){let{config:t}=e;return mz(t),new pz(t)}};var gz,_z,vz,bz,yz,xz,wz,Ez,Sz,Cz,Tz,Nz,Az,kz,Rz,Iz,Oz,jz,Pz,Dz,Lz,Mz,Uz,Fz,Bz,Vz,zz,Hz,Wz,Gz,qz,Yz,Xz,Kz,Jz,Zz,Qz,$z,eH,tH,nH,iH;function rH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function aH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rH(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Uk.setLogger(sI);let sH=(gz=pI(),_z=pI({argsMap:(e,t)=>{if(!Array.isArray(t)){if(!(t instanceof uO))return[t];t=[t]}return t.map(e=>e?Object(e).toString():"null")}}),vz=pI({argsMap:(e,t)=>(t||(t=[]),Array.isArray(t)||t.trackMediaType!==GI.DATA?(Array.isArray(t)||(t=[t]),t.map(e=>e.getTrackId())):[t.getChannelId()])}),bz=pI({argsMap:(e,t,n,i)=>["object"==typeof t?t.uid:t,n,i]}),yz=pI({argsMap:(e,t,n)=>[t,n]}),xz=pI({argsMap:(e,t)=>t.map(e=>{let{user:t,mediaType:n}=e;return[null==t?void 0:t.uid,n]})}),wz=pI({argsMap:(e,t,n,i)=>["object"==typeof t?t.uid:t,n,i]}),Ez=pI({argsMap:(e,t)=>t.map(e=>{let{user:t,mediaType:n}=e;return{uid:null==t?void 0:t.uid,mediaType:n}})}),Sz=pI(),Cz=pI(),Tz=pI(),Nz=pI(),Az=pI(),kz=pI(),Rz=pI(),Iz=pI(),Oz=pI(),jz=pI(),Pz=pI(),Dz=pI(),Lz=pI(),Mz=pI(),Uz=pI(),Fz=pI({argsMap:(e,t)=>[t]}),Bz=pI(),Vz=pI(),zz=pI(),Hz=pI(),Wz=pI(),Gz=pI(),qz=pI(),Yz=pI(),Xz=pI({argsMap:(e,t)=>(Array.isArray(t)||(t=[t]),[JSON.stringify(t)])}),Kz=pI(),Jz=pI(),Zz=pI(),Qz=pI(),$z=pI(),eH=pI(),tH=pI({reportResult:!0}),nH=pI(),iH=class extends WA{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get localDataChannels(){return this._p2pChannel.getAllDataChannels()}get mode(){return this._config.mode}get role(){var e;return(null===(e=this._config)||void 0===e?void 0:e.role)||"audience"}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||"opus"}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return"Client"}constructor(e,t){let n;if(super(),uC(this,"store",void 0),uC(this,"_uid",void 0),uC(this,"_channelName",void 0),uC(this,"_uintUid",void 0),uC(this,"_users",[]),uC(this,"_config",void 0),uC(this,"_clientId",void 0),uC(this,"_appId",void 0),uC(this,"_sessionId",null),uC(this,"_key",void 0),uC(this,"_rtmConfig",{}),uC(this,"_joinInfo",void 0),uC(this,"_gateway",void 0),uC(this,"_statsCollector",void 0),uC(this,"_configDistribute",void 0),uC(this,"_leaveMutex",void 0),uC(this,"_publishMutex",void 0),uC(this,"_renewTokenMutex",void 0),uC(this,"_subscribeMutex",void 0),uC(this,"_encryptionMode","none"),uC(this,"_encryptionSecret",null),uC(this,"_encryptionSalt",null),uC(this,"_encryptDataStream",!1),uC(this,"_encryptDataStreamKey",null),uC(this,"_encryptDataStreamIv",null),uC(this,"_proxyServer",void 0),uC(this,"_turnServer",{servers:[],mode:"auto"}),uC(this,"_cloudProxyServerMode","disabled"),uC(this,"_isDualStreamEnabled",!1),uC(this,"_defaultStreamFallbackType",void 0),uC(this,"_lowStreamParameter",void 0),uC(this,"_streamFallbackTypeCacheMap",new Map),uC(this,"_remoteStreamTypeCacheMap",new Map),uC(this,"_axiosCancelSource",LN.CancelToken.source()),uC(this,"_audioVolumeIndicationInterval",void 0),uC(this,"_networkQualityInterval",void 0),uC(this,"_userOfflineTimeout",void 0),uC(this,"_streamRemovedTimeout",void 0),uC(this,"_liveTranscodeStreamingClient",void 0),uC(this,"_liveRawStreamingClient",void 0),uC(this,"_channelMediaRelayClient",void 0),uC(this,"_networkQualitySensitivity","normal"),uC(this,"_p2pChannel",void 0),uC(this,"_useLocalAccessPoint",!1),uC(this,"_setLocalAPVersion",void 0),uC(this,"_joinAndNotLeaveYet",!1),uC(this,"_numberOfJoinCount",0),uC(this,"_joinResponse",null),uC(this,"_remoteDefaultVideoStreamType",void 0),uC(this,"_inspect",void 0),uC(this,"_moderation",void 0),uC(this,"_license",void 0),uC(this,"_pendingPublishedUsers",[]),uC(this,"ntpAlignErrorCount",0),uC(this,"remoteInboundOffset",0),uC(this,"_peerConnectionState",void 0),uC(this,"_handleLocalTrackEnable",(e,t,n)=>{this.publish(e,!1).then(t).catch(n)}),uC(this,"_handleLocalTrackDisable",(e,t,n)=>{this.unpublish(e).then(t).catch(n)}),uC(this,"_handleUserOnline",e=>{if(AR("BLOCK_LOCAL_CLIENT")&&GD(e.uid,this.channelName))return void sI.debug("[".concat(e.uid,"] will be ignored in local"));this.isStringUID&&"string"!=typeof e.uid&&sI.error("[".concat(this._clientId,"] StringUID is Mixed with UintUID"));const t=this._users.find(t=>t.uid===e.uid);if(t)t._trust_in_room_=!0,t._is_pre_created&&(t._is_pre_created=!1,this.safeEmit(tk.USER_JOINED,t));else{const t=new QF(e.uid,e.uint_id||e.uid);this._users.push(t),sI.debug("[".concat(this._clientId,"] user online"),e.uid),this.store.firstVideoFrameDecoded(t.uid,{userJoinNotify:Date.now()}),this.safeEmit(tk.USER_JOINED,t)}}),uC(this,"_handleUserOffline",e=>{if(AR("BLOCK_LOCAL_CLIENT")&&GD(e.uid,this.channelName))return;const t=this._users.find(t=>t.uid===e.uid);t&&(this._handleRemoveStream(e),this._handleRemoveDataChannels(e),t._audio_pre_subscribed||t._video_pre_subscribed?t._is_pre_created=!0:dk(this._users,t),this._remoteStreamTypeCacheMap.delete(t.uid),this._streamFallbackTypeCacheMap.delete(t.uid),sI.debug("[".concat(this._clientId,"] user offline"),e.uid,"reason:",e.reason),this.safeEmit(tk.USER_LEAVED,t,e.reason))}),uC(this,"_handleAddAudioOrVideoStream",(e,t,n,i,r,a,s,o)=>{if(AR("BLOCK_LOCAL_CLIENT")&&GD(t,this.channelName))return;const l=this._users.find(e=>e.uid===t);if(!l)return void sI.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));sI.debug("[".concat(this._clientId,"] stream added with uid ").concat(t,", type ").concat(e)),this.store.subscribe(l.uid,e,void 0,void 0,void 0,Date.now()),"video"===e&&this.store.firstVideoFrameDecoded(l.uid,{videoAddNotify:Date.now()});const c="audio"===e?l.hasAudio:l.hasVideo;if(l._uintid||(l._uintid=a||t),"audio"===e?l._trust_audio_stream_added_state_=!0:l._trust_video_stream_added_state_=!0,"audio"===e?(l._audio_added_=!0,void 0!==n&&(l._audioSSRC=n),void 0!==i&&(l._cname=i),s&&(l._audioOrtc=s)):(l._video_added_=!0,void 0!==n&&(l._videoSSRC=n),void 0!==i&&(l._cname=i),void 0!==o&&(l._rtxSsrcId=o),s&&(l._videoOrtc=s)),("audio"===e?l.hasAudio:l.hasVideo)&&!c&&(sI.info("[".concat(this._clientId,"] remote user ").concat(l.uid," published ").concat(e)),this.safeEmit(tk.USER_PUBLISHED,l,e)),"video"===e?mI.onGatewayStream(this._sessionId,dI.ON_ADD_VIDEO_STREAM,uI.ON_ADD_VIDEO_STREAM,{peer:a||t,ssrc:l._videoSSRC}):mI.onGatewayStream(this._sessionId,dI.ON_ADD_AUDIO_STREAM,uI.ON_ADD_AUDIO_STREAM,{peer:a||t,ssrc:l._audioSSRC}),this._p2pChannel.remoteMediaSsrcChanged(l,e,n).then(t=>{if(t&&(sI.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(l.uid," after rejoin because SSRC id changed.")),this._p2pChannel instanceof tV))return this._p2pChannel.unsubscribe(l,e,!0).then(()=>this._subscribe(l,e,!0).catch(e=>{sI.error("[".concat(this._clientId,"] resubscribe error"),e.toString())}))}),this._p2pChannel.hasPendingRemoteMedia(l,e)&&(sI.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(l.uid," after reconnect.")),this._subscribe(l,e,!0).catch(e=>{sI.error("[".concat(this._clientId,"] resubscribe error"),e.toString())})),"video"===e&&!$N()&&!iA()){const e=this._getEncodingName(r);(null==e?void 0:e.toLocaleLowerCase())==OR.av1&&IF().then(t=>{t||this._gateway.downgradeCodec(e)})}}),uC(this,"_handleRemoveStream",e=>{if(AR("BLOCK_LOCAL_CLIENT")&&GD(e.uid,this.channelName))return;const t=this._users.find(t=>t.uid===e.uid);if(!t)return void sI.warning("[".concat(this._clientId,"] can not find target user!(on_remove_stream)"));sI.debug("[".concat(this._clientId,"] stream removed with uid ").concat(e.uid));let n=()=>{};t.hasAudio&&t.hasVideo?n=()=>{sI.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished audio track")),this.safeEmit(tk.USER_UNPUBLISHED,t,"audio"),sI.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished video track")),this.safeEmit(tk.USER_UNPUBLISHED,t,"video")}:t.hasVideo?n=()=>{sI.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished video track")),this.safeEmit(tk.USER_UNPUBLISHED,t,"video")}:t.hasAudio&&(n=()=>{sI.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished audio track")),this.safeEmit(tk.USER_UNPUBLISHED,t,"audio")}),t._video_pre_subscribed||t._audio_pre_subscribed||(t._trust_audio_stream_added_state_=!0,t._trust_video_stream_added_state_=!0,t._audio_added_=!1,t._video_added_=!1,this._p2pChannel instanceof tV&&this._p2pChannel.unsubscribe(t).then(e=>{if(e)return this._gateway.unsubscribe(e,t.uid)}),t._audioSSRC=void 0,t._videoSSRC=void 0,t._audioOrtc=void 0,t._videoOrtc=void 0,t._rtxSsrcId=void 0),mI.onGatewayStream(this._sessionId,dI.ON_REMOVE_STREAM,uI.ON_REMOVE_STREAM,{peer:e.uint_id||e.uid}),n()}),uC(this,"_handleSetStreamLocalEnable",(e,t,n)=>{if(AR("BLOCK_LOCAL_CLIENT")&&GD(t,this.channelName))return;const i=this._users.find(e=>e.uid===t);if(!i)return void sI.error("[".concat(this._clientId,"] can not find target user!(disable_local)"));sI.debug("[".concat(this._clientId,"] local ").concat(e," ").concat(n?"enabled":"disabled"," with uid ").concat(t));const r="audio"===e?i.hasAudio:i.hasVideo;if("audio"===e){i._trust_audio_enabled_state_=!0;const e=i._audio_enabled_;if(i._audio_enabled_=n,i._audio_enabled_===e)return;{const e=i._audio_enabled_?"enable-local-audio":"disable-local-audio";sI.debug("[".concat(this._clientId,"] user-info-updated, uid: ").concat(t,", msg: ").concat(e)),this.safeEmit(tk.USER_INFO_UPDATED,t,e)}}else{i._trust_video_enabled_state_=!0;const e=i._video_enabled_;if(i._video_enabled_=n,i._video_enabled_===e)return;{const e=i._video_enabled_?"enable-local-video":"disable-local-video";sI.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(t,", msg: ").concat(e)),this.safeEmit(tk.USER_INFO_UPDATED,t,e)}}const a="audio"===e?i.hasAudio:i.hasVideo;return r!==a?!r&&a?(sI.info("[".concat(this._clientId,"] remote user ").concat(t," published ").concat(e)),void this.safeEmit(tk.USER_PUBLISHED,i,e)):("video"===e&&i._videoTrack&&i._videoTrack._destroy(),"audio"===e&&i._audioTrack,this._p2pChannel.muteRemote(i,e),sI.info("[".concat(this._clientId,"] remote user ").concat(t," unpublished ").concat(e)),void this.safeEmit(tk.USER_UNPUBLISHED,i,e)):void 0}),uC(this,"_handleMuteStream",(e,t,n)=>{if(AR("BLOCK_LOCAL_CLIENT")&&GD(e,this.channelName))return;sI.debug("[".concat(this._clientId,"] receive mute message"),e,t,n);const i=this._users.find(t=>t.uid===e);if(!i)return void sI.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(e));const r="audio"===t?i.hasAudio:i.hasVideo;if("audio"===t){i._trust_audio_mute_state_=!0;const t=i._audio_muted_;if(i._audio_muted_=n,i._audio_muted_===t)return;{const t=i._audio_muted_?"mute-audio":"unmute-audio";sI.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(t)),this.safeEmit(tk.USER_INFO_UPDATED,e,t)}}else{i._trust_video_mute_state_=!0;const t=i._video_muted_;if(i._video_muted_=n,i._video_muted_===t)return;{const t=i._video_muted_?"mute-video":"unmute-video";sI.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(e,", msg: ").concat(t)),this.safeEmit(tk.USER_INFO_UPDATED,e,t)}}const a="audio"===t?i.hasAudio:i.hasVideo;if(r!==a){if(!r&&a)return("audio"===t?i._audioSSRC:i._videoSSRC)?(sI.info("[".concat(this._clientId,"] remote user ").concat(e," published ").concat(t)),void this.safeEmit(tk.USER_PUBLISHED,i,t)):void sI.warning("[".concat(this._clientId,"] remote user ").concat(e," receive ").concat(t," unmute message  before add stream message, ").concat(t," SSRC doesn't exist yet."));"video"===t&&i._videoTrack&&!i._video_pre_subscribed&&i._videoTrack._destroy(),"audio"===t&&i._audioTrack,this._p2pChannel.muteRemote(i,t),sI.info("[".concat(this._clientId,"] remote user ").concat(e," unpublished ").concat(t)),this.safeEmit(tk.USER_UNPUBLISHED,i,t)}}),uC(this,"_handleP2PLost",async e=>{sI.debug("[".concat(this._clientId,"] receive p2p lost"),e),parseInt(e.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():sI.warning("[".concat(this._clientId,"] P2PLost stream not found"),e)}),uC(this,"_handleTokenWillExpire",()=>{sI.debug("[".concat(this._clientId,"] received message onTokenPrivilegeWillExpire")),this.safeEmit(tk.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)}),uC(this,"_handleBeforeUnload",e=>{"beforeunload"===e.type&&void 0!==e.returnValue&&""!==e.returnValue||(this.leave(),sI.info("[".concat(this._clientId,"] auto leave onbeforeunload or pagehide")))}),uC(this,"_handleUpdateNetworkQuality",()=>{if("normal"===this._networkQualitySensitivity)return;if(navigator&&void 0!==navigator.onLine&&!navigator.onLine)return void this.safeEmit(tk.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const e={downlinkNetworkQuality:0,uplinkNetworkQuality:0};e.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),e.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit(tk.NETWORK_QUALITY,e)}),uC(this,"_handleP2PAddAudioOrVideoStream",(e,t,n,i)=>{const r=this._users.find(e=>e.uid===t);if(!r)return void sI.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));sI.debug("[".concat(this._clientId,"] stream added with uid ").concat(t,", type ").concat(e)),this.store.subscribe(r.uid,e,void 0,void 0,void 0,Date.now());const a="audio"===e?r.hasAudio:r.hasVideo;"audio"===e?r._trust_audio_stream_added_state_=!0:r._trust_video_stream_added_state_=!0,"audio"===e?(r._audio_added_=!0,void 0!==n&&(r._audioSSRC=n),void 0!==i&&(r._audioMid=i)):(r._video_added_=!0,void 0!==n&&(r._videoSSRC=n),void 0!==i&&(r._videoMid=i)),("audio"===e?r.hasAudio:r.hasVideo)&&!a&&(sI.info("[".concat(this._clientId,"] remote user ").concat(r.uid," published ").concat(e)),this.safeEmit(tk.USER_PUBLISHED,r,e)),this._p2pChannel.hasPendingRemoteMedia(r,e)&&(sI.debug("[".concat(this._clientId,"] resubscribe ").concat(e," for user ").concat(r.uid," after reconnect.")),this._subscribe(r,e,!0).catch(e=>{sI.error("[".concat(this._clientId,"] resubscribe error"),e.toString())}))}),this._config=e,this._clientId=t||Ck(5,"client-"),this.store=new class{constructor(e,t,n,i){CA(this,"state",void 0),this.state={codec:e,audioCodec:t,mode:n,clientId:i,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,keyMetrics:{publish:[],subscribe:[],firstVideoFrameDecoded:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled",useP2P:!1,p2pTransport:yR.Default,hasStartJoinChannel:!1,isABTestSuccess:!1,autoSubscribe:!1,enableInstantMuteRestore:!1}}dispatch(e){this.state=function(e,t){switch(t.type){case IR.SET_SESSION_ID:return NA(NA({},e),{},{sessionId:t.sessionId});case IR.SET_P2P_ID:return NA(NA({},e),{},{p2pId:t.p2pId});case IR.SET_UID:return NA(NA({},e),{},{uid:t.uid});case IR.SET_INT_UID:return NA(NA({},e),{},{intUid:t.intUid});case IR.SET_PUB_ID:return NA(NA({},e),{},{pubId:t.pubId});case IR.KEY_METRIC_CLIENT_CREATED:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{clientCreated:t.metric})});case IR.KEY_METRIC_JOIN_START:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{joinStart:t.metric})});case IR.KEY_METRIC_PRELOAD_START:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{preloadStart:t.metric})});case IR.KEY_METRIC_PRELOAD_END:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{preloadEnd:t.metric})});case IR.KEY_METRIC_JOIN_END:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{joinEnd:t.metric})});case IR.KEY_METRIC_REQUEST_AP_START:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{requestAPStart:t.metric})});case IR.KEY_METRIC_REQUEST_AP_END:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{requestAPEnd:t.metric})});case IR.KEY_METRIC_REQUEST_SUA_END:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{requestSUAEnd:t.metric})});case IR.KEY_METRIC_BEFORE_CONNECT:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{beforeConnect:t.metric})});case IR.KEY_METRIC_PEER_RECEIVER:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{peerReceiver:t.metric})});case IR.KEY_METRIC_SIGNAL_CONNECTED:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{signalConnected:t.metric})});case IR.KEY_METRIC_JOIN_REQ:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{joinReq:t.metric})});case IR.KEY_METRIC_JOIN_REP:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{joinRep:t.metric})});case IR.KEY_METRIC_JOIN_GATEWAY_START:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{joinGatewayStart:t.metric})});case IR.KEY_METRIC_JOIN_GATEWAY_END:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{joinGatewayEnd:t.metric})});case IR.KEY_METRIC_PEER_CONNECTION_START:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{peerConnectionStart:t.metric})});case IR.KEY_METRIC_PEER_CONNECTION_END:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{peerConnectionEnd:t.metric})});case IR.KEY_METRIC_DESCRIPTION_START:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{descriptionStart:t.metric})});case IR.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{signalChannelOpen:t.metric})});case IR.KEY_METRIC_ICE_CONNECTION_END:return NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{iceConnectionEnd:t.metric})});case IR.KEY_METRIC_PUBLISH:{const n=e.keyMetrics.publish,i=n.findIndex(e=>e.trackId===t.metric.trackId);return-1!==i?(n[i]=NA(NA({},n[i]),t.metric),NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{publish:[...n]})})):NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{publish:[...e.keyMetrics.publish,t.metric]})})}case IR.KEY_METRIC_SUBSCRIBE:{const n=e.keyMetrics.subscribe,i=n.findIndex(e=>e.userId===t.metric.userId&&e.type===t.metric.type);return-1!==i?(n[i]=NA(NA({},n[i]),t.metric),NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{subscribe:[...n]})})):NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{subscribe:[...e.keyMetrics.subscribe,t.metric]})})}case IR.KEY_METRIC_FIRST_VIDEO_FRAME_DECODED:{const n=e.keyMetrics.firstVideoFrameDecoded,i=n.findIndex(e=>e.userId===t.metric.userId);return-1!==i?(n[i]=NA(NA({},n[i]),t.metric),NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{firstVideoFrameDecoded:[...n]})})):NA(NA({},e),{},{keyMetrics:NA(NA({},e.keyMetrics),{},{firstVideoFrameDecoded:[...e.keyMetrics.firstVideoFrameDecoded,t.metric]})})}case IR.RESET_FIRST_VIDEO_FRAME_DECODED:return e.keyMetrics.firstVideoFrameDecoded=[],e;case IR.SET_CLOUD_PROXY_SERVER_MODE:return e.cloudProxyServerMode=t.mode,e;case IR.RECORD_JOIN_CHANNEL_SERVICE:return"number"!=typeof t.index?e.joinChannelServiceRecords=[...e.joinChannelServiceRecords,t.record]:(e.joinChannelServiceRecords[t.index]=NA(NA({},e.joinChannelServiceRecords[t.index]),t.record),e.joinChannelServiceRecords=[...e.joinChannelServiceRecords]),e;case IR.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e.joinChannelServiceRecords=[],e;case IR.RESET_KEY_METRICS:return e.keyMetrics={publish:[],subscribe:[],firstVideoFrameDecoded:[]},e;case IR.SET_USE_P2P:return NA(NA({},e),{},{useP2P:t.val});case IR.SET_TRANSPORT_TYPE:return NA(NA({},e),{},{p2pTransport:t.val});default:return e}}(this.state,e)}set autoSubscribe(e){this.state.autoSubscribe=e}get autoSubscribe(){return this.state.autoSubscribe}set enableInstantMuteRestore(e){this.state.enableInstantMuteRestore=e}get enableInstantMuteRestore(){return this.state.enableInstantMuteRestore}set sessionId(e){this.dispatch({type:IR.SET_SESSION_ID,sessionId:e})}get sessionId(){return this.state.sessionId}set cid(e){this.state.cid=e}get cid(){return this.state.cid}set codec(e){this.state.codec=e}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(e){this.dispatch({type:IR.SET_P2P_ID,p2pId:e})}get p2pId(){return this.state.p2pId}set dcId(e){this.dispatch({type:IR.SET_DC_ID,dcId:e})}get dcId(){return this.state.dcId}set uid(e){this.dispatch({type:IR.SET_UID,uid:e})}get uid(){return this.state.uid}set intUid(e){this.dispatch({type:IR.SET_INT_UID,intUid:e})}get intUid(){return this.state.intUid}set pubId(e){this.dispatch({type:IR.SET_PUB_ID,pubId:e})}get pubId(){return this.state.pubId}set cloudProxyServerMode(e){this.dispatch({type:IR.SET_CLOUD_PROXY_SERVER_MODE,mode:e})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useP2P(e){this.dispatch({type:IR.SET_USE_P2P,val:e})}get useP2P(){return this.state.useP2P}set p2pTransport(e){this.dispatch({type:IR.SET_TRANSPORT_TYPE,val:e})}get p2pTransport(){return this.state.p2pTransport}set hasStartJoinChannel(e){this.state.hasStartJoinChannel=e}get hasStartJoinChannel(){return this.state.hasStartJoinChannel}set isABTestSuccess(e){this.state.isABTestSuccess=e}get isABTestSuccess(){return this.state.isABTestSuccess}clientCreated(){this.dispatch({type:IR.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:IR.KEY_METRIC_JOIN_START,metric:Date.now()})}preloadStart(){this.dispatch({type:IR.KEY_METRIC_PRELOAD_START,metric:Date.now()})}preloadEnd(){this.dispatch({type:IR.KEY_METRIC_PRELOAD_END,metric:Date.now()})}joinEnd(){this.dispatch({type:IR.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:IR.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:IR.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}requestSUAEnd(){this.dispatch({type:IR.KEY_METRIC_REQUEST_SUA_END,metric:Date.now()})}beforeConnect(){this.dispatch({type:IR.KEY_METRIC_BEFORE_CONNECT,metric:Date.now()})}peerReceiver(){this.dispatch({type:IR.KEY_METRIC_PEER_RECEIVER,metric:Date.now()})}signalConnected(){this.dispatch({type:IR.KEY_METRIC_SIGNAL_CONNECTED,metric:Date.now()})}joinReq(){this.dispatch({type:IR.KEY_METRIC_JOIN_REQ,metric:Date.now()})}joinRep(){this.dispatch({type:IR.KEY_METRIC_JOIN_REP,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:IR.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:IR.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:IR.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:IR.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}firstVideoFrameDecoded(e,t){this.dispatch({type:IR.KEY_METRIC_FIRST_VIDEO_FRAME_DECODED,metric:NA({userId:e},t)})}descriptionStart(){this.dispatch({type:IR.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:IR.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:IR.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(e,t,n,i){this.dispatch({type:IR.KEY_METRIC_PUBLISH,metric:NA(NA({trackId:e,type:t},n&&{publishStart:n}),i&&{publishEnd:i})})}subscribe(e,t,n,i,r,a,s){this.dispatch({type:IR.KEY_METRIC_SUBSCRIBE,metric:NA(NA(NA(NA(NA({userId:e,type:t},n&&{subscribeStart:n}),i&&{subscribeEnd:i}),r&&{firstFrame:r}),a&&{streamAdded:a}),s&&{firstDecoded:s})})}massSubscribe(e,t,n,i){e.forEach(e=>{this.dispatch({type:IR.KEY_METRIC_SUBSCRIBE,metric:NA(NA(NA({userId:e.userId,type:e.type},t&&{subscribeStart:t}),n&&{subscribeEnd:n}),i&&{firstFrame:i})})})}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(e,t){"gateway"===e.service&&Array.isArray(e.urls)&&(e.urls=e.urls.map(e=>e.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2")));try{return"number"!=typeof t?(this.dispatch({type:IR.RECORD_JOIN_CHANNEL_SERVICE,record:NA(NA({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(t<0||t>=this.state.joinChannelServiceRecords.length||this.dispatch({type:IR.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:t}),t)}catch(e){return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:IR.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:IR.RESET_KEY_METRICS})}resetFirstVideoFrameDecoded(){this.dispatch({type:IR.RESET_FIRST_VIDEO_FRAME_DECODED})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch(e){return[]}}}(e.codec,e.audioCodec,e.mode,this._clientId),this._leaveMutex=new Uk("client-leave",this._clientId),this._publishMutex=new Uk("client-publish",this._clientId),this._renewTokenMutex=new Uk("client-renewtoken",this._clientId),this._subscribeMutex=new Uk("client-subscribe",this._clientId),this.store.clientCreated(),e.proxyServer&&this.setProxyServer(e.proxyServer,!0),e.turnServer&&this.setTurnServer(e.turnServer,!0),sI.info("[".concat(this._clientId,"] Initializing AgoraRTC client v").concat(vR," build: ").concat(SR,", mode: ").concat(this.mode,", codec: ").concat(this.codec)),e.clientRoleOptions)try{ek(e.clientRoleOptions),n=Object.assign({},e.clientRoleOptions)}catch(e){sI.warning("[".concat(this._clientId,"] ").concat(e.toString()))}var i;this._statsCollector=new KF(this.store),this._statsCollector.onStatsException=(e,t,n)=>{sI.warn("[".concat(this._clientId,"] receive exception msg, code: ").concat(e,", msg: ").concat(t,", uid: ").concat(n)),e===GF.VIDEO_ENCODE_FAILED&&this.localTracks.forEach(e=>{e instanceof DP&&AR("ENABLE_ENCODE_EXCEPTION")&&e.findClosestProfile()}),this.safeEmit(tk.EXCEPTION,{code:e,msg:t,uid:n})},this._statsCollector.onUploadPublishDuration=(e,t,n,i)=>{const r=this._users.find(t=>t.uid===e);r&&(this.store.keyMetrics&&(this.store.firstVideoFrameDecoded(r._uintid,{peerPublishDuration:n,peerPubStatusMs:Date.now()}),this._p2pChannel.reportVideoFirstFrameRender(r)),mI.peerPublishStatus(this._sessionId,{subscribeElapse:i,audioPublishDuration:t,videoPublishDuration:n,peer:r._uintid}))},this._statsCollector.onVideoCodecChanged=e=>{if(AR("VIDEO_STANDARD_BITRATE_VERSION")&&("av1"===e||"h265"===e||"h264"===e)){const t=this.localTracks.find(e=>e instanceof PP);t&&1!==t._saveEncodeBitrateRatio&&t.setSaveEncodeBitrateRatio("h264"===e?AR("BASELINE_MORE_H264_BITRATE_RATIO"):void 0)}},this.store.useP2P="p2p"===e.mode,this._gateway=new nF(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:e.websocketRetryConfig||Bk,httpRetryConfig:e.httpRetryConfig||Bk,forceWaitGatewayResponse:void 0===e.forceWaitGatewayResponse||e.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:e.role,clientRoleOptions:n}),this._configDistribute=new HF(this._clientId,this.store),this.store.useP2P?(this._p2pChannel=(i={store:this.store,statsCollector:this._statsCollector},JU("P2PChannel").create(i)),this._handleP2PEvents()):this._p2pChannel=new tV(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents()}async joinMeta(e,t,n,i,r){let a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];NR("JOIN_GATEWAY_USE_443PORT_ONLY",a),NR("JOIN_GATEWAY_USE_DUAL_DOMAIN",s);const o=this._gateway.signal.websocket;return o instanceof KM&&(o.use443PortOnly=a,o.tryDoubleDomain=s),async function(e,t,n){FN.get(e)||FN.set(e,[]),BN.get(e)||BN.set(e,t),VN.get(e)||VN.set(e,0);const i=FN.get(e),r=BN.get(e);if(!i||!r)throw new Error("concurrent: deferQueue or maxConcurrency is null");if(VN.get(e)===r){const e=UN();i.push(e),await e.promise}VN.set(e,VN.get(e)+1);for(var a=arguments.length,s=new Array(a>3?a-3:0),o=3;o<a;o++)s[o-3]=arguments[o];const l=await n(...s);return VN.set(e,VN.get(e)-1),VN.get(e)===r-1&&i.length>0&&(i[0].resolve(),i.shift()),0===VN.get(e)&&(FN.set(e,[]),BN.set(e,0),VN.set(e,0)),l}("client.join",AR("JOIN_MAX_CONCURRENCY"),this.join.bind(this),e,t,n,i,r)}async join(e,t,n,i,r){const a=++this._numberOfJoinCount;this.store.joinStart(),i&&(this.store.uid=i);const s="HTTPS"===(Hk||Hk||(Hk=(window.location.protocol.split(":")[0]||"").toUpperCase(),Hk)),o=Kk()?window.isSecureContext:"Browser Not Support";if(!Kk()&&!s||!window.isSecureContext){const e="The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser";sI.warning(e)}let l;mI.setAppId(e);try{if(!n&&null!==n)throw new fI(AA.INVALID_PARAMS,"Invalid token: ".concat(n,". If you don not use token, set it to null"));if(n&&PA(n,"token",1,2047),PA(e,"appid",1,2047),zL(t),i&&HL(i),r)if("string"==typeof r)PA(r,"optionalInfo",1,256),l=r;else{if("object"!=typeof r)throw new fI(AA.INVALID_PARAMS,"Invalid options: options is not a string or object");{const{autoSubscribe:e,enableInstantMuteRestore:t}=r;e&&(RA(e,"autoSubscribe"),sI.info("[".concat(this._clientId,"] join: autoSubscribe: ").concat(e)),this.store.autoSubscribe=e),t&&(RA(t,"enableInstantMuteRestore"),sI.info("[".concat(this._clientId,"] join: enableInstantMuteRestore: ").concat(t)),this.store.enableInstantMuteRestore=t)}}}catch(r){throw mI.reportApiInvoke(Tk(),{name:YA.JOIN,options:[e,t,n,i],states:{isHttps:s,isSecureContext:o},tag:XA.TRACER}).onError(r),r}if(this._leaveMutex.isLocked&&(sI.debug("[".concat(this._clientId,"] join: waiting leave operation")),(await this._leaveMutex.lock())(),sI.debug("[".concat(this._clientId,"] join: continue"))),this._joinAndNotLeaveYet=!0,"DISCONNECTED"!==this.connectionState){const r=new fI(AA.INVALID_OPERATION,"[".concat(this._clientId,"] Client already in connecting/connected state"));throw mI.reportApiInvoke(Tk(),{name:YA.JOIN,options:[e,t,n,i],states:{isHttps:s,isSecureContext:o},tag:XA.TRACER}).onError(r),r}this._gateway.state="CONNECTING",this.store.preloadStart();const c=await NV({appId:e,cname:t,uid:i,stringUid:"string"==typeof i?i:void 0,token:n||e,cloudProxyServer:this._cloudProxyServerMode});if(this.store.preloadEnd(),!this._joinAndNotLeaveYet)throw new fI(AA.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));const d=(null==c?void 0:c.sid)||Tk();sI.info("[".concat(this._clientId,"] start join channel ").concat(t,", join number: ").concat(a)),this._sessionId||(this._sessionId=d,this.store.sessionId=this._sessionId);const u=mI.reportApiInvoke(d,{id:this._clientId,name:YA.JOIN,options:[e,t,n,i],states:{isHttps:s,isSecureContext:o},tag:XA.TRACER}),h=aH(aH(aH({},this._rtmConfig),{},{role:this.role,clientId:this._clientId,appId:e,sid:this._sessionId,cname:t,uid:"string"!=typeof i?i:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:n||e,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:l,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint,preload:!!c},void 0!==this._remoteDefaultVideoStreamType&&{defaultVideoStream:this._remoteDefaultVideoStreamType}),{},{apRequestDetail:AR("AP_REQUEST_DETAIL")||void 0});if(this._useLocalAccessPoint&&(h.setLocalAPVersion=this._setLocalAPVersion),"string"==typeof i&&(h.stringUid=i,this._uintUid?(h.uid=this._uintUid,this._uintUid=void 0):h.uid=0),"none"!==this._encryptionMode&&this._encryptionSecret){if(h.aesmode=this._encryptionMode,h.aespassword=await(async e=>{const t=function(){const e=window.atob("MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\nxQiYDz3vqa6bP29adwIDAQAB"),t=new Uint8Array(new ArrayBuffer(e.length));for(let n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t}(),n=await window.crypto.subtle.importKey("spki",t,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]),i=VA(e),r=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},n,i);return function(e){let t="";for(let n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return window.btoa(t)}(new Uint8Array(r))})(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new fI(AA.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this._encryptionSalt&&(h.aessalt=this._encryptionSalt)}if(this._encryptDataStream&&("aes-128-gcm2"===this._encryptionMode||"aes-256-gcm2"===this._encryptionMode))if(this._encryptionSalt&&this._encryptionSecret)if(window.crypto.subtle){const e=new TextEncoder,t=AR("USE_PURE_ENCRYPTION_MASTER_KEY")?e.encode(h.appId+this._encryptionSecret+this._encryptionSecret):e.encode(h.appId+h.cname+this._encryptionSecret);this._encryptDataStreamIv=await async function(e,t,n){const i=await window.crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits","deriveKey"]),r="aes-128-gcm2"===e?128:256,a=await window.crypto.subtle.deriveBits({name:"PBKDF2",iterations:DR,hash:"SHA-256",salt:n},i,r+PR);return new Uint8Array(a).subarray(r/8)}(this._encryptionMode,t,_k(this._encryptionSalt)),this._encryptDataStreamKey=await async function(e,t,n){const i=await window.crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits","deriveKey"]),r="aes-128-gcm2"===e?128:256;return await window.crypto.subtle.deriveKey({name:"PBKDF2",iterations:DR,hash:"SHA-256",salt:n},i,{name:"AES-GCM",length:r},!0,["encrypt","decrypt"])}(this._encryptionMode,t,_k(this._encryptionSalt))}else o?sI.warning("[".concat(this._clientId,"] encrypt datastream must be running in a secure context, fallback to plain data stream")):sI.warning("[".concat(this._clientId,"] current browser do not support WebCrypto ,fallback to plain data stream")),this._encryptDataStream=!1;else this._encryptDataStream=!1,sI.debug("[".concat(this._clientId,"] no salt / secret, cannot support encrypt data stream, fallback to plain data stream"));this._startSession(this._sessionId,{channel:t,appId:e,stringUid:h.stringUid});const p=this._sessionId;setTimeout(()=>{"CONNECTING"===this.connectionState&&p===this._sessionId&&mI.joinChannelTimeout(this._sessionId,5)},5e3);try{var m;let i;const r=h.cloudProxyServer;if(Pi(m=["proxy3","proxy4","proxy5"]).call(m,r)){const e=AR("PROXY_SERVER_TYPE3");Array.isArray(e)?h.proxyServer=e[0]:h.proxyServer=e}if(mI.setProxyServer(h.proxyServer),sI.setProxyServer(h.proxyServer),this.store.requestAPStart(),c){if(sI.debug("[".concat(this._clientId,"] get serverInfo Success from Preload Cache ").concat(h.stringUid?", ".concat(h.stringUid," => ").concat(c.intUid):""," ")),h.stringUid&&!h.uid&&(h.uid=c.intUid),i={gatewayInfo:c.ap.gatewayInfo},AR("JOIN_WITH_FALLBACK_MEDIA_PROXY")&&"auto"===h.turnServer.mode)if(0===c.ap.proxyInfo.addresses.length)sI.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers");else{const e=(await cU(c.ap.proxyInfo,c.ap.gatewayInfo.uid)).map(e=>({turnServerURL:e.address,tcpport:e.tcpport||xR.tcpport,udpport:e.udpport||xR.udpport,username:e.username||xR.username,password:e.password||xR.password,forceturn:!1,security:!0}));h.turnServer={mode:"manual",servers:e}}IV(c,h.stringUid)}else{if(h.stringUid&&!h.uid){let e;[e,i]=await np.all([PF(h.stringUid,h,this._axiosCancelSource.token,this._config.httpRetryConfig||Bk,this.store).finally(()=>{this.store.requestSUAEnd()}),jF(h,this._axiosCancelSource.token,this._config.httpRetryConfig||Bk,!0,this.store).finally(()=>{this.store.requestAPEnd()})]),sI.debug("[".concat(this._clientId,"] getUserAccount Success ").concat(h.stringUid," => ").concat(e)),h.uid=e,i.gatewayInfo.uid=e,i.gatewayInfo.res.uid=e}else i=await jF(h,this._axiosCancelSource.token,this._config.httpRetryConfig||Bk,!0,this.store);if(!this._joinAndNotLeaveYet)throw new fI(AA.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"))}this.store.requestAPEnd(),setTimeout(()=>{this._configDistribute.startGetConfigDistribute(h,this._axiosCancelSource.token),this._configDistribute.on(uM.UPDATE_BITRATE_LIMIT,e=>{this._p2pChannel.updateBitrateLimit(e)}),this._configDistribute.on(uM.UPDATE_CLIENT_ROLE_OPTIONS,e=>{this._setClientRoleOptions(e)})},0),this._key=n||e;const a=i.gatewayInfo,s=h.uid?h.uid:a.uid;this._joinInfo=aH(aH({},h),{},{cid:a.cid,uid:s,vid:a.vid,apResponse:a.res,apGatewayAddress:a.apGatewayAddress,uni_lbs_ip:a.uni_lbs_ip,gatewayAddrs:a.gatewayAddrs}),this.store.intUid=s,this.store.cid=a.cid;const o=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new fI(AA.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));u.onSuccess(o),this._appId=e,this._channelName=h.cname,this._uid=o,this.store.uid=o,setTimeout(()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener($N()?"beforeunload":"pagehide",this._handleBeforeUnload),this._statsCollector.startUpdateStats()},0);const l=h.stringUid?"string uid: ".concat(h.stringUid,",uid: ").concat(h.uid):"uid: ".concat(this._uid);return sI.info("[".concat(this._clientId,"] Joining channel success: channel: ").concat(t,",").concat(l)),setTimeout(()=>{sI.startUpload()},5e3),this.store.joinEnd(),f=this,Pi(HD).call(HD,f)||HD.push(f),"disabled"===this._cloudProxyServerMode&&_I().supportWebCrypto&&AR("ENABLE_PRELOAD")&&kV(this._joinInfo),o}catch(e){const t=Array.isArray(e)?e[0]:e;throw t&&t.code===AA.OPERATION_ABORTED?sI.warning("[".concat(this._clientId,"] join number: ").concat(a,", Joining channel failed, rollback"),t):sI.error("[".concat(this._clientId,"] join number: ").concat(a,", Joining channel failed, rollback"),t),t.code!==AA.OPERATION_ABORTED&&this._numberOfJoinCount===a&&(this._gateway.state="DISCONNECTED",this._reset()),u.onError(t),t}var f}_joinGateway(){if(!this._joinInfo||!this._key)throw new fI(AA.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!("disabled"!==this._joinInfo.cloudProxyServer||this._joinInfo.proxyServer||!AR("JOIN_WITH_FALLBACK_SIGNAL_PROXY")))}async leave(){sI.info("[".concat(this._clientId,"] Leaving channel")),window.removeEventListener($N()?"beforeunload":"pagehide",this._handleBeforeUnload),this._reset(),function(e){const t=HD.indexOf(e);-1!==t&&HD.splice(t,1)}(this),this._statsCollector.stopUpdateStats();const e=await this._leaveMutex.lock();if("DISCONNECTED"===this.connectionState)return sI.info("[".concat(this._clientId,"] Leaving channel repeated, success")),void e();await this._gateway.leave("CONNECTED"!==this.connectionState,ZA.LEAVE),sI.info("[".concat(this._clientId,"] Leaving channel success")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),e()}async publish(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Array.isArray(e)){if(!(e instanceof uO))return this._publishDataChannel(e);e=[e]}if(0===e.length)throw new fI(AA.INVALID_PARAMS,"param list is empty");const n=e;if("audience"===this._gateway.role)throw new fI(AA.INVALID_OPERATION,"audience can not publish stream");for(const r of n){if(!(r instanceof uO))throw new fI(AA.INVALID_PARAMS,"parameter is not local track");if(!r._enabled&&t)throw new fI(AA.TRACK_IS_DISABLED,"can not publish a disabled track: ".concat(r.getTrackId()))}sI.info("[".concat(this._clientId,"] Publishing tracks, id ").concat(n.map(e=>"".concat(e.getTrackId()," "))));const i=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),t&&n.forEach(e=>{const t=this._configDistribute.getBitrateLimit();e instanceof PP&&t&&e.setBitrateLimit(t.uplink)});try{await this._publishHighStream(n),sI.info("[".concat(this._clientId,"] Publish success, id ").concat(n.map(e=>"".concat(e.getTrackId()," "))))}catch(e){throw sI.error("[".concat(this._clientId,"] publish error"),e.toString()),e}finally{i()}}async _publishDataChannel(e){if(null==e)throw new fI(AA.INVALID_PARAMS,"parameter is not local track or datachannel config, config is ".concat(JSON.stringify(e)));OA(e.id,"id",0,65535,!0),RA(e.ordered,"ordered"),PA(e.metadata,"metadata",0,512),sI.info("[".concat(this._clientId,"] Publishing datachannels, id ").concat(e.id));const t=await this._publishMutex.lock();try{if(-1!==this._p2pChannel.getAllDataChannels().findIndex(t=>t.id===e.id))throw new fI(AA.INVALID_PARAMS,"Invalid id: ".concat(e.id,". If you want to republish the datachannel, unpublish first"));if(!this._joinInfo||void 0===this._uid)throw new fI(AA.INVALID_OPERATION,"Can't publish datachannel, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new fI(AA.INVALID_OPERATION,"can not publish datachannel in ".concat(this.connectionState," state"));if("auto"===this._turnServer.mode&&AR("FORCE_TURN")&&!AR("TURN_ENABLE_TCP")&&!AR("TURN_ENABLE_UDP"))throw new fI(AA.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");const t=function(e){return ZU(e,!1)}(e),n=await this._p2pChannel.publishDataChannel([t]);if(n.length>0){if("number"!=typeof t._originDataChannelId)throw sI.error("[".concat(this._clientId,"] can not publish with mediaType datachannel, cannot get RTCDatachannel id")),new fI(AA.CREATE_DATACHANNEL_ERROR);try{await np.all(n.map(e=>this._uid&&this._gateway.publishDataChannel(this._uid,e,!0))),await t._waitTillOpen()}catch(e){if(e.code!==AA.DISCONNECT_P2P)throw e}}return sI.info("[".concat(this._clientId,"] Publish dataChannels success, id ").concat(t.id)),t}catch(e){throw sI.error("[".concat(this._clientId,"] publish datachannels error"),e.toString()),e}finally{t()}}async unpublish(e){if(!this._joinInfo||void 0===this._uid)throw new fI(AA.INVALID_OPERATION,"Can't unpublish stream, haven't joined yet!");let t=[];if(e)if(Array.isArray(e))t=e;else{if(!(e instanceof uO))return this._unpublishDataChannel([e]);t=[e]}else this.store.useP2P||await this._unpublishDataChannel(),t=this._p2pChannel.getAllTracks(!0);sI.info("[".concat(this._clientId,"] Unpublish tracks, tracks ").concat(t.map(e=>"".concat(e.getTrackId()," "))," "));const n=await this._publishMutex.lock();try{if(this.store.useP2P){const e=await this._p2pChannel.unpublish(t);e&&await this._gateway.sendExtensionMessage(RM.UNPUBLISH,{unpubMsg:e},!0)}else{const e=await this._p2pChannel.unpublish(t);e&&await this._gateway.unpublish(e,this._uid),sI.info("[".concat(this._clientId,"] Unpublish success,tracks ").concat(t.map(e=>"".concat(e.getTrackId()))))}}catch(e){throw sI.error("[".concat(this._clientId,"] unpublish error"),e.toString()),e}finally{n&&n()}}async _unpublishDataChannel(e){void 0!==e&&0!==e.length||(e=this._p2pChannel.getAllDataChannels()),sI.info("[".concat(this._clientId,"] Unpublish datachannels, datachannels ").concat(e.map(e=>"".concat(e.id," "))," "));const t=await this._publishMutex.lock();try{const t=await this._p2pChannel.unpublishDataChannel(e);t&&await this._gateway.unpublishDataChannel(t),sI.info("[".concat(this._clientId,"] Unpublish dataChannel success,dataChannel ").concat(e.map(e=>"".concat(e.id))))}catch(e){throw sI.error("[".concat(this._clientId,"] unpublish dataChannel error"),e.toString()),e}finally{t&&t()}}async subscribe(e,t,n){if(!(e instanceof QF)){const t=this.remoteUsers.find(t=>t.uid===e);if(!t)throw new fI(AA.INVALID_REMOTE_USER,"user is not in the channel");e=t}return"datachannel"===t?this._subscribeDataChannel(e,n):this._subscribe(e,t)}async presubscribe(e,t){if(IA(t,"mediaType",["audio","video"]),this.store.useP2P)throw new fI(AA.INVALID_OPERATION,"can't presub at p2p mode");if(!this._joinInfo)throw new fI(AA.INVALID_OPERATION,"can't presub when not join");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new fI(AA.INVALID_OPERATION,"can't presub in ".concat(this.connectionState," state"));const n=t===fM.AUDIO,i=t===fM.VIDEO,r=await this._subscribeMutex.lock();try{const{ssrcId:r,ortc:a,rtxSsrcId:s,cname:o,uint_id:l}=await this._gateway.presubscribe(e,t,!0);if(null==r)throw new fI(AA.UNEXPECTED_RESPONSE,"no ssrc id");let c=this._users.find(t=>t.uid===e);c||(c=new QF(e,l||e),c._is_pre_created=!0,this._users.push(c)),o&&(c._cname=o),c._uintid||(c._uintid=l||e),n&&(c._audioSSRC=r,c._audio_pre_subscribed=!0,a&&(c._audioOrtc=a)),i&&(c._videoSSRC=r,c._video_pre_subscribed=!0,a&&(c._videoOrtc=a),null!=s&&(c._rtxSsrcId=s)),sI.info("[".concat(this._clientId,"] presub succeed ssrc: ").concat(r)),await this._p2pChannel.subscribe(c,t,r,s,a);const d=n?c._audioTrack:c._videoTrack;if(!d)throw new fI(AA.UNEXPECTED_ERROR,"can not find remote track in user");return n&&(c._trust_audio_stream_added_state_=!0,c._audio_added_=!0),i&&(c._trust_video_stream_added_state_=!0,c._video_added_=!0),d}catch(t){throw sI.error("[".concat(this._clientId,"] presub user ").concat(e," error"),t),t}finally{r()}}async _subscribeDataChannel(e,t){var n;if(OA(t,"channelId",0,65535,!0),!this._joinInfo)throw new fI(AA.INVALID_OPERATION,"Can't subscribe datachannel, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new fI(AA.INVALID_OPERATION,"Can't subscribe datachannel in ".concat(this.connectionState," state"));const i=this._users.find(t=>t===e);if(!i)throw sI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),new fI(AA.INVALID_REMOTE_USER,"user is not in the channel");if(!e.hasAudio&&!e.hasVideo&&0===e._dataChannels.length)throw sI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),new fI(AA.INVALID_REMOTE_USER,"user is not published");const r=null===(n=e._dataChannels)||void 0===n?void 0:n.find(e=>e.id===t);if(!r)throw sI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType datachannel, remote datachannel is not published")),new fI(AA.REMOTE_USER_IS_NOT_PUBLISHED);const a=await this._subscribeMutex.lock();sI.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: datachannel"));try{const n=await this._p2pChannel.subscribeDataChannel(e,[r]);if(n&&Pi(n).call(n,r.id))try{var s;if("number"!=typeof r._originDataChannelId)throw sI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType datachannel, cannot get RTCDatachannel")),new fI(AA.CREATE_DATACHANNEL_ERROR);const t={id:r.id,datachannelId:r._originDataChannelId,ordered:r.ordered,maxRetransmits:r.maxRetransmits,metadata:null!==(s=r.metadata)&&void 0!==s?s:""};await this._gateway.subscribeDataChannel(e.uid,t,!0),await r._waitTillOpen()}catch(t){if((null==t?void 0:t.code)!==AA.WS_ABORT)throw await this._p2pChannel.unsubscribeDataChannel(e,[r]),t;await this._p2pChannel.unsubscribeDataChannel(e,[r]),this._p2pChannel.setPendingRemoteDataChannel(e,r.id)}return sI.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: datachannel")),r}finally{a()}}async _p2pSubscribe(e,t,n){if(IA(t,"mediaType",["audio","video"]),!this._joinInfo)throw new fI(AA.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new fI(AA.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));const i=this._users.find(t=>t===e);if(!i){const t=new fI(AA.INVALID_REMOTE_USER,"user is not in the channel");throw sI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),t}if(!e.hasAudio&&!e.hasVideo){const t=new fI(AA.INVALID_REMOTE_USER,"user is not published");throw sI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),t}if(!n&&("audio"===t&&!e.hasAudio||"video"===t&&!e.hasVideo)){const n=new fI(AA.REMOTE_USER_IS_NOT_PUBLISHED);throw sI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType ").concat(t,", remote track is not published")),n}const r=await this._subscribeMutex.lock();sI.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: ").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{const n="audio"===t?e._audioSSRC:e._videoSSRC,i="audio"===t?e._audioMid:e._videoMid;this.store.subscribe(e.uid,t,Date.now()),this.store.useP2P&&await this._p2pChannel.subscribe(e,t,n,i)}catch(e){throw e}sI.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: ").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch(e=>{sI.warning("[".concat(this._clientId,"] auto set fallback failed"),e)});const n="audio"===t?e._audioTrack:e._videoTrack;if(!n)throw new fI(AA.UNEXPECTED_ERROR,"can not find remote track in user object");return n}catch(t){throw sI.error("[".concat(this._clientId,"] subscribe user ").concat(e.uid," error"),t),t}finally{r()}}async _subscribe(e,t,n){if(this.store.useP2P)return this._p2pSubscribe(e,t);if(IA(t,"mediaType",["audio","video"]),!this._joinInfo)throw new fI(AA.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new fI(AA.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));const i=this._users.find(t=>t===e);if(!i){const t=new fI(AA.INVALID_REMOTE_USER,"user is not in the channel");throw sI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", this user is not in the channel")),t}if(!e.hasAudio&&!e.hasVideo){const t=new fI(AA.INVALID_REMOTE_USER,"user is not published");throw sI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid,", user is not published")),t}if(!(n||("audio"!==t||e.hasAudio&&void 0!==e._audioSSRC)&&("video"!==t||e.hasVideo&&void 0!==e._videoSSRC))){const n=new fI(AA.REMOTE_USER_IS_NOT_PUBLISHED);throw sI.error("[".concat(this._clientId,"] can not subscribe ").concat(e.uid," with mediaType ").concat(t,", remote track is not published")),n}let r="audio"===t?e._audioSSRC:e._videoSSRC,a="audio"===t?e._audioOrtc:e._videoOrtc,s="video"===t?e._rtxSsrcId:void 0,o={stream_type:"audio"===t?fM.AUDIO:fM.VIDEO,ssrcId:r};"video"===t&&this.store.firstVideoFrameDecoded(e.uid,{subscribeStart:Date.now()});const l=await this._subscribeMutex.lock();sI.info("[".concat(this._clientId,"] subscribe user ").concat(e.uid,", mediaType: ").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{const i="audio"===t?e._audioSSRC:e._videoSSRC;void 0!==i&&i!==r&&(r=i,a="audio"===t?e._audioOrtc:e._videoOrtc,s="video"===t?e._rtxSsrcId:void 0,o={stream_type:"audio"===t?fM.AUDIO:fM.VIDEO,ssrcId:r}),qF.markSubscribeStart(this.store.clientId,r),this.store.subscribe(e.uid,t,Date.now()),await this._p2pChannel.subscribe(e,t,r,s,a);try{this._p2pChannel.isPreSubScribe(r)||await this._gateway.subscribe(e.uid,o,!0)}catch(n){if((null==n?void 0:n.code)!==AA.WS_ABORT)throw await this._p2pChannel.unsubscribe(e,t),n;await this._p2pChannel.unsubscribe(e,t,!0),this._p2pChannel.setPendingRemoteMedia(e,t)}this.store.subscribe(e.uid,t,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,e,t)}catch(n){throw this._p2pChannel.reportSubscribeEvent(!1,null==n?void 0:n.code,e,t),n}sI.info("[".concat(this._clientId,"] subscribe success user ").concat(e.uid,", mediaType: ").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch(e=>{sI.warning("[".concat(this._clientId,"] auto set fallback failed"),e)});const i="audio"===t?e._audioTrack:e._videoTrack;if(!i)throw new fI(AA.UNEXPECTED_ERROR,"can not find remote track in user object");return"video"===t&&(this.store.firstVideoFrameDecoded(e.uid,{subscribeEnd:Date.now()}),this._p2pChannel.reportVideoFirstFrameRender(e)),i}catch(t){throw sI.error("[".concat(this._clientId,"] subscribe user ").concat(e.uid," error"),t),t}finally{l()}}async massSubscribe(e){if(DA(e,"subscribeList"),!this._joinInfo)throw new fI(AA.INVALID_OPERATION,"Can't subscribe stream, not joined");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new fI(AA.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));const t=Date.now(),n=new Map,i=await this._subscribeMutex.lock();sI.info("[".concat(this._clientId,"]start massSubscribe user ").concat(e.map(e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n)}).join("; ")));const r=(e=[...e]).map(e=>{let{user:t,mediaType:n}=e;return{user:t,mediaType:n}}),a=await this._p2pChannel.globalLock();try{var s;for(let t=e.length-1;t>=0;t--){const i=e[t],{user:a,mediaType:s}=i;if(IA(s,"mediaType",["audio","video"]),!a){const e=new fI(AA.INVALID_PARAMS,"user property does not exist in subscribeList item");throw sI.error("[".concat(this._clientId,"] user property does not exist in subscribeList item")),e}const o=this._users.find(e=>e===a);if(!o){const n=new fI(AA.INVALID_REMOTE_USER,"user is not in the channel");sI.error("[".concat(this._clientId,"] can not massSubscribe ").concat(a.uid,", this user is not in the channel")),r[t].error=n,e.splice(t,1);continue}if("audio"===s&&(!a.hasAudio||void 0===a._audioSSRC)||"video"===s&&(!a.hasVideo||void 0===a._videoSSRC)){const n=new fI(AA.REMOTE_USER_IS_NOT_PUBLISHED);sI.error("[".concat(this._clientId,"] can not subscribe ").concat(a.uid," with mediaType ").concat(s,", remote user is not published")),r[t].error=n,e.splice(t,1);continue}const l=sM.Video|sM.LwoVideo,c=n.get(a);if(c){if("video"===s?c&l:c&sM.Audio){e.splice(t,1),sI.warning("[".concat(this._clientId,"] repeat massSubscribe user:").concat(a.uid,", mediaType:").concat(s," twice"));continue}n.set(a,c|("video"===s?l:sM.Audio))}else n.set(a,"video"===s?l:sM.Audio)}for(let t=e.length-1;t>=0;t--){const i=e[t],{user:r,mediaType:a}=i,s=sM.Video|sM.LwoVideo;if(this._p2pChannel.hasRemoteMedia(r,a)){await this._p2pChannel.unmuteRemoteNoLock(r,a);const i=n.get(r);n.set(r,"video"===a?i^s:i^sM.Audio),e.splice(t,1)}}this.store.massSubscribe(e.map(e=>({userId:e.user.uid,type:e.mediaType})),t);let i=rr(s=Array.from(n.entries())).call(s,(e,t)=>{let[n,i]=t;if(0===i)return e;const r={stream_id:n.uid,stream_type:i};return i&sM.Audio&&(r.audio_ssrc=n._audioSSRC),i&sM.Video&&(r.video_ssrc=n._videoSSRC),e.push(r),e},[]);try{e.length>0&&await this._p2pChannel.massSubscribeNoLock(e.map(e=>{let{user:t,mediaType:n}=e;return{user:t,mediaType:n,ssrcId:n===fM.VIDEO?t._videoSSRC:t._audioSSRC,rtxSsrcId:n===fM.VIDEO?t._rtxSsrcId:void 0}}));const n=new Map;if(i=i.filter(e=>e.video_ssrc&&!this._p2pChannel.isPreSubScribe(e.video_ssrc)||e.audio_ssrc&&!this._p2pChannel.isPreSubScribe(e.audio_ssrc)||!e.video_ssrc&&!e.audio_ssrc),i.length>0){const e=await this._gateway.subscribeAll(i,!0);((null==e?void 0:e.users)||[]).forEach(e=>{let{stream_id:t,video_error_code:i,audio_error_code:r,error_code:a}=e;(i||r||a)&&n.set(t,{video_error_code:i,audio_error_code:r,error_code:a})})}if(Array.from(n.entries()).length>0){const e=[];Array.from(n.entries()).forEach(t=>{let[n,i]=t;const r=this.remoteUsers.find(e=>e.uid===n);if(r){let t;i.error_code||i.video_error_code&&i.audio_error_code?t=void 0:i.video_error_code?t=fM.VIDEO:i.audio_error_code&&(t=fM.AUDIO),e.push({user:r,mediaType:t})}}),e.length>0&&await this._p2pChannel.massUnsubscribeNoLock(e)}for(const e of r){const t=n.get(e.user.uid);if(t){const n=t.error_code||"audio"===e.mediaType&&t.audio_error_code||"video"===e.mediaType&&t.video_error_code;if(n){const t=MM(n);sI.error("user:".concat(e.user.uid," mediaType:").concat(e.mediaType," has massSubscribe error ").concat(t.desc)),e.error=new fI(AA.SUBSCRIBE_FAILED,"code ".concat(n,": ").concat(t.desc))}}e.error||("video"===e.mediaType?e.track=e.user.videoTrack:e.track=e.user.audioTrack)}return this.store.massSubscribe(r.filter(e=>!e.error).map(e=>({userId:e.user.uid,type:e.mediaType})),void 0,Date.now()),r.forEach(e=>{var n;mI.subscribe(this.store.sessionId,{succ:!!e.error,ec:(null===(n=e.error)||void 0===n?void 0:n.code)||null,video:e.mediaType===fM.VIDEO,audio:e.mediaType===fM.AUDIO,peerid:e.user.uid,subscribeRequestid:e.mediaType===fM.VIDEO?e.user._videoSSRC:e.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-t),preSsrc:this._p2pChannel.isPreSubScribe(e.user._videoSSRC)},!0)}),sI.info("[".concat(this._clientId,"] massSubscribe success ").concat(e.map(e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n)}).join("; "))),r}catch(t){throw await this._p2pChannel.massUnsubscribeNoLock(e),t}}finally{a(),i()}}async unsubscribe(e,t,n){if(!(e instanceof QF)){const t=this.remoteUsers.find(t=>t.uid===e);if(!t)throw new fI(AA.INVALID_REMOTE_USER,"user is not in the channel");e=t}if(t||this.store.useP2P){if("datachannel"===t)return this._unsubscribeDataChannel(e,n)}else await this._unsubscribeDataChannel(e,n);if(t&&IA(t,"mediaType",["audio","video"]),!this._joinInfo)throw new fI(AA.INVALID_OPERATION,"Can't unsubscribe stream, haven't joined yet!");const i=this._users.find(t=>t===e);if(!i){const t=new fI(AA.INVALID_REMOTE_USER,"user is not in the channel");throw sI.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid,", user is not in the channel")),t}sI.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(e.uid,", mediaType: ").concat(t));const r=await this._subscribeMutex.lock();try{if(this.store.useP2P)await this._p2pChannel.unsubscribe(e,t);else{const n=await this._p2pChannel.unsubscribe(e,t);n&&await this._gateway.unsubscribe(n,e.uid),t&&"audio"!==t||(e._audio_pre_subscribed=!1),t&&"video"!==t||(e._video_pre_subscribed=!1),e._is_pre_created&&dk(this._users,e),sI.info("[".concat(this._clientId,"] unsubscribe success uid: ").concat(e.uid,", mediaType: ").concat(t))}}catch(t){if(t.code===AA.DISCONNECT_P2P)return void sI.warning("disconnecting p2p, abort unsubscribe request.");throw sI.error("[".concat(this._clientId,"] unsubscribe user ").concat(e.uid," error"),t.toString()),t}finally{r()}}async _unsubscribeDataChannel(e,t){if(t&&OA(t,"id",0,65535,!0),!this._joinInfo)throw new fI(AA.INVALID_OPERATION,"Can't unsubscribe datachannel, haven't joined yet!");const n=this._users.find(t=>t===e);if(!n){const t=new fI(AA.INVALID_REMOTE_USER,"user is not in the channel");throw sI.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid,", user is not in the channel")),t}let i;if("number"==typeof t){const n=e._dataChannels.find(e=>e.id===t);n&&(i=[n])}else i=e._dataChannels;if(void 0===i){const n=new fI(AA.REMOTE_USER_IS_NOT_PUBLISHED);throw sI.error("[".concat(this._clientId,"] can not unsubscribe ").concat(e.uid," with channelId ").concat(t,", remote datachannel is not published")),n}sI.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(e.uid,", mediaType: datachannel, ids: ").concat(i.map(e=>e.id)));try{const t=await this._p2pChannel.unsubscribeDataChannel(e,i);t&&await this._gateway.unsubscribeDataChannel(t,e.uid),sI.info("[".concat(this._clientId,"] unsubscribe datachannel success uid: ").concat(e.uid,", mediaType: datachannel, ids: ").concat(t))}catch(t){if(t.code===AA.DISCONNECT_P2P)return void sI.warning("disconnecting p2p, abort unsubscribe request.");throw sI.error("[".concat(this._clientId,"] unsubscribe user ").concat(e.uid," error"),t.toString()),t}}async massUnsubscribe(e){if(DA(e,"unsubscribeList"),!this._joinInfo)throw new fI(AA.INVALID_OPERATION,"Can't unsubscribeAll stream, haven't joined yet!");sI.info("[".concat(this._clientId,"] start massUnsubscribe ").concat(e.map(e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n,";")}).join())),e=[...e];const t=new Map;for(let n=e.length-1;n>=0;n--){const{user:i,mediaType:r}=e[n];if(!i){const e=new fI(AA.INVALID_PARAMS,"user property does not exist in unsubscribeList item");throw sI.error("[".concat(this._clientId,"] user property does not exist in unsubscribeList item")),e}IA(r,"mediaType",["video","audio",void 0]);const a=this._users.find(e=>e===i);if(!a){sI.warning("[".concat(this._clientId,"] can not unsubscribe ").concat(i.uid,", user is not in the channel")),e.splice(n,1);continue}const s=sM.Video|sM.LwoVideo;if(t.has(i)){const a=t.get(i);let o;switch(r){case"video":o=a&s;break;case"audio":o=a&sM.Audio;break;default:o=a&(sM.Audio|s)}if(o){sI.warning("[".concat(this._clientId,"] repeat massUnsubscribe user:").concat(i.uid,",mediaType:").concat(r," twice.")),e.splice(n,1);continue}r?"audio"===r?t.set(i,a|sM.Audio):"video"===r&&t.set(i,a|s):t.set(i,a|sM.Audio|s)}else r?"audio"===r?t.set(i,sM.Audio):"video"===r&&t.set(i,s):t.set(i,sM.Audio|s)}try{const t=await this._p2pChannel.massUnsubscribe(e);t&&await this._gateway.massUnsubscribe(t),sI.info("[".concat(this._clientId,"] massUnsubscribe success ").concat(e.map(e=>{let{user:t,mediaType:n}=e;return"user: ".concat(null==t?void 0:t.uid,", mediaType: ").concat(n,";")}).join()))}catch(e){if(e.code===AA.DISCONNECT_P2P)return void sI.warning("[".concat(this._clientId,"] disconnecting p2p, abort unsubscribe request."));throw sI.error("[".concat(this._clientId,"] massUnsubscribe error"),e.toString()),e}}async setLowStreamParameter(e){!function(e){if(!e)throw new kA(AA.INVALID_PARAMS);LA(e.width)||jA(e.width,"streamParameter.width"),LA(e.height)||jA(e.height,"streamParameter.height"),LA(e.framerate)||jA(e.framerate,"streamParameter.framerate"),LA(e.bitrate)||OA(e.bitrate,"streamParameter.bitrate")}(e),(!e.width&&e.height||e.width&&!e.height)&&sI.warning("[".concat(this._clientId,"] The width and height parameters take effect only when both are set")),sI.info("[".concat(this._clientId,"] set low stream parameter to"),JSON.stringify(e));const t=this._configDistribute.getLowStreamConfigDistribute();if(t&&t.bitrate&&e.bitrate&&t.bitrate<e.bitrate&&(e.bitrate=t.bitrate),this._lowStreamParameter=e,this._isDualStreamEnabled)return this._p2pChannel.updateVideoStreamParameter(e,bM.LocalVideoLowTrack)}async enableDualStream(){if(!_I().supportDualStream)throw mI.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new fI(AA.NOT_SUPPORTED,"Your browser is not support dual stream");if(this._isDualStreamEnabled)throw new fI(AA.INVALID_OPERATION,"Dual stream is already enabled");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(e){throw mI.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),e}this._isDualStreamEnabled=!0,mI.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),sI.info("[".concat(this._clientId,"] enable dual stream"))}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)throw new fI(AA.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this._p2pChannel.getLocalMedia(bM.LocalVideoLowTrack))try{const e=await this._p2pChannel.unpublishLowStream();e&&await this._gateway.unpublish(e,this._joinInfo.stringUid||this._joinInfo.uid)}catch(e){throw mI.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),e}this._isDualStreamEnabled=!1,mI.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),sI.info("[".concat(this._clientId,"] disable dual stream"))}}async setClientRole(e,t){if(function(e){IA(e,"role",["audience","host"])}(e),t&&ek(t),"rtc"===this.mode||"p2p"===this.mode)throw sI.warning("[".concat(this._clientId,"]").concat(this.mode," mode can not use setClientRole")),new fI(AA.INVALID_OPERATION,"".concat(this.mode," mode can not use setClientRole"));if(t&&t.level&&"host"===e)throw new fI(AA.INVALID_OPERATION,"host mode can not set audience latency level");if("audience"===e&&this._p2pChannel.hasLocalMedia())throw new fI(AA.INVALID_OPERATION,"can not set client role to audience when publishing stream");const n=this._config.role;this._joinInfo&&(this._joinInfo.role=e),e!==n&&AR("ENABLE_ROLE_SELECT_EDGE")?(this._gateway.updateClientRole(e,t),this._config.role=e,this._gateway.reconnect("recover",nk.REGIONAL_DISTRIBUTION)):(await this._gateway.setClientRole(e,t),this._config.role=e),sI.info("[".concat(this._clientId,"] set client role to ").concat(e,", level: ").concat(t&&t.level))}async _setClientRoleOptions(e){if("rtc"===this.mode||"p2p"===this.mode)return;if("audience"!==this._config.role||this._p2pChannel.hasLocalMedia())return;let t=!1;try{e&&ek(e),await this._gateway.setClientRole(this._config.role,e),t=!0}catch(e){}finally{sI.info("[".concat(this._clientId,"] set client role options ").concat(t?"succeed":"failed",", options is ").concat(e))}}getRemoteInboundOffset(){var e;const t=null===(e=this._p2pChannel.getStats())||void 0===e?void 0:e.audioSend[0];if(!t||!t.timestamp)return 0;const n=t.timestamp-Date.now();return Math.abs(n)>1e3+t.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,this.ntpAlignErrorCount>=3?n:0}getNtpWallTimeInMs(){return"visible"===document.visibilityState&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}setProxyServer(e,t){if(PA(e,"proxyServer"),!t){if("DISCONNECTED"!==this.connectionState)throw new fI(AA.INVALID_OPERATION,"Set proxy server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new fI(AA.INVALID_OPERATION,"You have already set the proxy")}this._proxyServer=e,mI.setProxyServer(this._proxyServer),sI.setProxyServer(this._proxyServer),sI.info("[".concat(this._clientId,"] Set proxy server ").concat(t?"by initialize call":""," success."))}setTurnServer(e,t){if(Array.isArray(e)||(e=[e]),!t){if("DISCONNECTED"!==this.connectionState)throw new fI(AA.INVALID_OPERATION,"Set turn server before join channel");if("disabled"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new fI(AA.INVALID_OPERATION,"You have already set the proxy")}if(QA(e))return this._turnServer={servers:e,mode:"original-manual"},void sI.info("[".concat(this._clientId,"] Set original turnserver ").concat(t?"by initialize call":""," success: ").concat(e.map(e=>e.urls).join(","),"."));e.forEach(e=>$A(e)),this._turnServer={servers:e,mode:"manual"},sI.info("[".concat(this._clientId,"] Set turnserver ").concat(t?"by initialize call":""," success."))}setLicense(e){if("DISCONNECTED"!==this.connectionState)throw new fI(AA.INVALID_OPERATION,"you should set license before join channel");if(PA(e,"license",32,32),!/^[A-Za-z\d]+$/.test(e))throw new fI(AA.INVALID_PARAMS,"license should only contains characters from A-Z a-z 0-9");this._license=e,sI.info("[".concat(this._clientId,"] set license success"),e)}startProxyServer(e){if("DISCONNECTED"!==this.connectionState)throw new fI(AA.INVALID_OPERATION,"Start proxy server before join channel");if(this._proxyServer||"manual"===this._turnServer.mode||this._useLocalAccessPoint)throw new fI(AA.INVALID_OPERATION,"You have already set the proxy");const t=[3,4,5];let n;switch(void 0===e&&(e=3),e){case 1:case 2:throw new fI(AA.NOT_SUPPORTED,"proxy mode 1/2 has been deprecated and not supported.");case 3:n="proxy3";break;case 4:n="proxy4";break;case 5:n="proxy5";break;default:throw new fI(AA.INVALID_PARAMS,"proxy server mode must be ".concat(t.join("|")))}this._cloudProxyServerMode=n,this.store.cloudProxyServerMode=n,sI.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode)}stopProxyServer(){if("DISCONNECTED"!==this.connectionState)throw new fI(AA.INVALID_OPERATION,"Stop proxy server after leave channel");mI.setProxyServer(),sI.setProxyServer(),this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled",sI.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:"auto",servers:[]}}setLocalAccessPointsV2(e){if(!e.accessPoints)throw new fI(AA.INVALID_PARAMS,"accessPoints is required.");DA(e.accessPoints.serverList,"accessPoints.serverList"),PA(e.accessPoints.domain,"accessPoints.domain");const t=(e,t)=>{OA(e,t,0,65535,!0)};let n=443;if(e.accessPoints.port&&(t(e.accessPoints.port,"accessPoints.port"),n=e.accessPoints.port),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new fI(AA.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");AR("CLOSE_AFB_FOR_LOCAL_AP")&&(NR("JOIN_WITH_FALLBACK_SIGNAL_PROXY",!1),NR("JOIN_WITH_FALLBACK_MEDIA_PROXY",!1));const i=/^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,r=e.accessPoints.domain,a=e.accessPoints.serverList.map(e=>i.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(r):e),s=a.map(e=>"".concat(e,":").concat(n));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,NR("WEBCS_DOMAIN",s),NR("WEBCS_DOMAIN_BACKUP_LIST",s),NR("GATEWAY_DOMAINS",[r]),e.report&&e.report.hostname&&Array.isArray(e.report.hostname)&&e.report.hostname.length?(DA(e.report.hostname,"report.hostname"),NR("EVENT_REPORT_DOMAIN",e.report.hostname[0]),NR("EVENT_REPORT_BACKUP_DOMAIN",e.report.hostname[1]||e.report.hostname[0])):(NR("EVENT_REPORT_DOMAIN",a[0]),NR("EVENT_REPORT_BACKUP_DOMAIN",a[1]||a[0]));let o=6443;e.report&&e.report.port&&(t(e.report.port,"report.port"),o=e.report.port),NR("STATS_COLLECTOR_PORT",o),e.report?NR("ENABLE_EVENT_REPORT",!0):NR("ENABLE_EVENT_REPORT",!1);let l="";e.log&&e.log.hostname&&Array.isArray(e.log.hostname)&&e.log.hostname.length?(DA(e.log.hostname,"log.hostname"),l=e.log.hostname[0]):l=a[0];let c=6444;e.log&&e.log.port&&(t(e.log.port,"log.port"),c=e.log.port),NR("LOG_UPLOAD_SERVER","".concat(l,":").concat(c));let d=[];e.cds&&e.cds.hostname&&Array.isArray(e.cds.hostname)&&e.cds.hostname.length?(DA(e.cds.hostname,"cds.hostname"),d=e.cds.hostname):d=a;let u=443;e.cds&&e.cds.port&&(t(e.cds.port,"cds.port"),u=e.cds.port),NR("CDS_AP",d.map(e=>"".concat(e,":").concat(u))),e.cds?NR("ENABLE_CONFIG_DISTRIBUTE",!0):NR("ENABLE_CONFIG_DISTRIBUTE",!1),sI.info("set local access point v2 success")}setLocalAccessPoints(e,t){if(DA(e,"serverList"),PA(t,"domain"),this._proxyServer||"disabled"!==this._cloudProxyServerMode)throw new fI(AA.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");const n=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;e=e.map(e=>n.test(e)?"".concat(e.replace(/\./g,"-"),".").concat(t):e),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,NR("WEBCS_DOMAIN",e),NR("WEBCS_DOMAIN_BACKUP_LIST",e),NR("GATEWAY_DOMAINS",[t]),NR("EVENT_REPORT_DOMAIN",e[0]),NR("EVENT_REPORT_BACKUP_DOMAIN",e[1]||e[0]),NR("LOG_UPLOAD_SERVER","".concat(e[0],":6444")),sI.info("[".concat(this._clientId,"] set local access point success"))}async setRemoteDefaultVideoStreamType(e){if(IA(e,"streamType",[0,1,4,5,6,7,8,9]),this._remoteDefaultVideoStreamType=e,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(e),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(e){throw sI.error("[".concat(this._clientId,"] set default remote video stream type error"),e.toString()),e}else sI.debug("[".concat(this._clientId,"] haven't joined yet, cache remoteDefaultVideoStreamType ").concat(e))}async setRemoteVideoStreamType(e,t){IA(t,"streamType",[0,1,4,5,6,7,8,9]);try{await this._gateway.setRemoteVideoStreamType(e,t),setTimeout(()=>{const t=this._users.find(t=>t.uid===e);t&&t.videoTrack&&t.videoTrack.updateMediaStreamTrackResolution()},2e3)}catch(e){throw sI.error("[".concat(this._clientId,"] set remote video stream type error"),e.toString()),e}sI.info("[".concat(this._clientId,"] set remote ").concat(e," video stream type to ").concat(t)),this._remoteStreamTypeCacheMap.set(e,t)}async setStreamFallbackOption(e,t){IA(t,"fallbackType",[0,1,2,3,4,5,6,7,8]);try{await this._gateway.setStreamFallbackOption(e,t)}catch(e){throw sI.error("[".concat(this._clientId,"] set stream fallback option"),e.toString()),e}sI.info("[".concat(this._clientId,"] set remote ").concat(e," stream fallback type to ").concat(t)),this._streamFallbackTypeCacheMap.set(e,t)}setEncryptionConfig(e,t,n,i){!function(e){IA(e,"encryptionMode",["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-128-gcm","aes-256-gcm","aes-128-gcm2","aes-256-gcm2","none"])}(e),PA(t,"secret");const r=["aes-128-gcm2","aes-256-gcm2"];if(Pi(r).call(r,e)){if(!n||!(n instanceof Uint8Array&&32===n.length))throw new fI(AA.INVALID_PARAMS,"salt must be an Uint8Array and exactly equal to 32 bytes")}else if(n)throw new fI(AA.INVALID_PARAMS,"current encrypt mode does not need salt");if(i){if(RA(i,"encryptDataStream"),!Pi(r).call(r,e))throw new fI(AA.INVALID_PARAMS,"current encrypt mode does not support data stream");this._encryptDataStream=!0}new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\"|{}\\[\\]])(?=.{8,})").test(t)||sI.warning("The secret is not strong:\n      The secret must contain at least 1 lowercase alphabetical character,\n      The secret must contain at least 1 uppercase alphabetical character,\n      The secret must contain at least 1 numeric character,\n      The secret must contain at least one special character,\n      The secret must be eight characters or longer.\n      "),this._encryptionMode=e,this._encryptionSecret=t,n&&(this._encryptionSalt=vk(n))}async renewToken(e){if(PA(e,"token",1,2047),!this._key||!this._joinInfo)throw new fI(AA.INVALID_OPERATION,"renewToken should not be called before user join");const t=this._key;this._key=e,this._joinInfo&&(this._joinInfo.token=e);const n=await this._renewTokenMutex.lock();try{if(AR("USE_NEW_TOKEN")){sI.debug("[".concat(this._clientId,"] start renew token with ticket from unilbs"));const t=await BF(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||Bk);sI.debug("[".concat(this._clientId,"] get ticket from unilbs success")),await this._gateway.renewToken({token:e,ticket:t})}else sI.debug("[".concat(this._clientId,"] start renew token without ticket")),await this._gateway.renewToken({token:e});sI.debug("[".concat(this._clientId,"] renewToken success"))}catch(e){throw this._key=t,this._joinInfo.token=t,sI.error("[".concat(this._clientId,"] renewToken failed"),e.toString()),e}finally{n()}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?sI.warning("you have already enabled audio volume indicator!"):this._audioVolumeIndicationInterval=window.setInterval(()=>{const e=this._p2pChannel.getAudioLevels();this.safeEmit(tk.VOLUME_INDICATOR,e)},AR("AUDIO_VOLUME_INDICATION_INTERVAL")||2e3)}getRTCStats(){const e=this._statsCollector.getRTCStats(),t=this._gateway.getInChannelInfo();return e.Duration=Math.round(t.duration/1e3),e}async startLiveStreaming(e,t){if(!t){if("h264"!==this.codec)throw new fI(AA.LIVE_STREAMING_INVALID_RAW_STREAM,"raw streaming is only support h264");if(!this._p2pChannel.hasLocalMedia())throw new fI(AA.LIVE_STREAMING_INVALID_RAW_STREAM,"can not find stream to raw streaming")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(e)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(e))throw new fI(AA.LIVE_STREAMING_TASK_CONFLICT);const n=t?WL.TRANSCODE:WL.RAW;return this._createLiveStreamingClient(n).startLiveStreamingTask(e,n)}setLiveTranscoding(e){return this._createLiveStreamingClient(WL.TRANSCODE).setTranscodingConfig(e)}async stopLiveStreaming(e){const t=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter(t=>t&&t.hasUrl(e));if(!t.length)throw new fI(AA.INVALID_PARAMS,"can not find live streaming url to stop");await np.all(t.map(t=>t&&t.stopLiveStreamingTask(e)))}async startChannelMediaRelay(e){ZF(e);const t=this._createChannelMediaRelayClient();await t.startChannelMediaRelay(e)}async updateChannelMediaRelay(e){ZF(e);const t=this._createChannelMediaRelayClient();await t.updateChannelMediaRelay(e)}async stopChannelMediaRelay(){const e=this._createChannelMediaRelayClient();await e.stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0)}sendAudioMetadata(e){this._p2pChannel instanceof tV&&this._p2pChannel.addAudioMetadata(e)}async sendStreamMessage(e){var t;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._joinInfo)throw new fI(AA.INVALID_OPERATION,"can not send data stream, not joined");if(("string"==typeof e||e instanceof Uint8Array)&&(e={payload:e}),"string"==typeof e.payload){const t=new TextEncoder;e.payload=t.encode(e.payload)}let i=!1;if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Pi(t=["aes-128-gcm2","aes-256-gcm2"]).call(t,this._encryptionMode)&&(i=!0,e.payload=await async function(e,t,n){var i;const r=rr(i=Array.from(n)).call(i,(e,t)=>e+t,0),a={serverTs:0,seq:MR++,length:n.length,checkSum:r},s=new Uint8Array(Ok(r,2)),o=new ArrayBuffer(LR),l=new DataView(o);l.setUint32(0,a.serverTs),l.setUint16(4,a.seq),l.setUint16(6,a.length),l.setUint16(8,a.checkSum);const c=16-n.length%16;n=yk(n,new Uint8Array(c));const d=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:e,tagLength:jR,additionalData:s},t,n);return yk(new Uint8Array(o),new Uint8Array(d))}(this._encryptDataStreamIv,this._encryptDataStreamKey,e.payload)),new Blob([e.payload]).size>1024)throw new fI(AA.INVALID_PARAMS,i?"encrypted stream message out of range.":"stream message out of range.");return this._gateway.signal.request(ML.DATA_STREAM,{payload:vk(e.payload),syncWithAudio:e.syncWithAudio,sendTs:Date.now()-aV},!n)}sendMetadata(e){if(!this._joinInfo)throw new fI(AA.INVALID_OPERATION,"can not send metadata, not joined");if(new Blob([e]).size>1024)throw new fI(AA.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(ML.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:vk(e)})}async sendCustomReportMessage(e){if(Array.isArray(e)||(e=[e]),e.forEach(lI),!this._joinInfo)throw new fI(AA.INVALID_OPERATION,"can not send custom report, not joined");await mI.sendCustomReportMessage(this._joinInfo.sid,e)}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){const e=this._statsCollector.getRemoteNetworkQualityStats();if(AR("DELETE_NEQ_AFTER_USER_LEAVE")){const t=this._users.map(e=>e.uid+"");Object.keys(e).forEach(n=>{Pi(t).call(t,n)||delete e[n]})}return e}async pickSVCLayer(e,t){IA(t.spatialLayer,"spatialLayer",[0,1,2,3]),IA(t.temporalLayer,"temporalLayer",[0,1,2,3]);try{await this._gateway.pickSVCLayer(e,t)}catch(e){throw sI.error("[".concat(this._clientId,"] pick SVC layer failed"),e.toString()),e}}async setRTMConfig(e){const{apRTM:t=!1,rtmFlag:n}=e;if(RA(t,"apRTM"),OA(n,"rtmFlag",0),this._rtmConfig.apRTM=t,this._rtmConfig.rtmFlag=n,sI.debug("[".concat(this._clientId,"] setRTMconfig ").concat(JSON.stringify(e)," in ").concat(this.connectionState," state")),("CONNECTED"===this.connectionState||"RECONNECTING"===this.connectionState)&&this._joinInfo)return this._joinInfo.apRTM=t,this._joinInfo.rtmFlag=n,this._gateway.setRTM2Flag(n)}_reset(){if(sI.debug("[".concat(this._clientId,"] reset client")),function(e){const t=WD.indexOf(e);-1!==t&&WD.splice(t,1)}(this._clientId),this.store.hasStartJoinChannel=!1,this.store.isABTestSuccess=!1,this.store.autoSubscribe=!1,this._axiosCancelSource.cancel(),this._axiosCancelSource=LN.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo&&RV(this._joinInfo),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId&&mI.removeSid(this._sessionId),this._sessionId=null,this.store.sessionId=null,this.store.resetFirstVideoFrameDecoded(),this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode="none",this._encryptionSecret=null,this._encryptionSalt=null,this._encryptDataStreamKey=null,this._encryptDataStreamIv=null,this._pendingPublishedUsers=[],this._users.forEach(e=>{e._audioTrack&&e._audioTrack._destroy(),e._videoTrack&&e._videoTrack._destroy(),e._dataChannels&&(e._dataChannels.forEach(e=>e._close()),e._dataChannels.length=0)}),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),"fallback"===this._cloudProxyServerMode&&(this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled"),this._p2pChannel.reset(),this._publishMutex=new Uk("client-publish",this._clientId),this._subscribeMutex=new Uk("client-subscribe",this._clientId),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch(e){}if(this._moderation)try{this.setImageModeration(!1)}catch(e){}}_startSession(e,t){var n;const i=e||Tk();e?sI.debug("[".concat(this._clientId,"] new Session ").concat(i)):sI.debug("[".concat(this._clientId,"] renewSession ").concat(this._sessionId," => ").concat(i));const r=e?"":this._sessionId||"";this._sessionId=i,this.store.sessionId=i,mI.addSid(i);const a={lts:(new Date).getTime(),mode:this.mode,buildFormat:1,stringUid:(null==t?void 0:t.stringUid)||(null===(n=this._joinInfo)||void 0===n?void 0:n.stringUid),channelProfile:"live"===this.mode?1:0,channelMode:0,isABTestSuccess:Number(this._configDistribute.isSuccess),lsid:r,clientRole:"audience"===this.role?2:1};mI.sessionInit(this._sessionId,aH({cname:t.channel,appid:t.appId},a)),this._joinInfo&&(this._joinInfo.sid=i),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=i)}async _publishHighStream(e){if(!this._joinInfo||void 0===this._uid)throw new fI(AA.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new fI(AA.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));if("auto"===this._turnServer.mode&&AR("FORCE_TURN")&&!AR("TURN_ENABLE_TCP")&&!AR("TURN_ENABLE_UDP"))throw new fI(AA.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");sI.debug("[".concat(this._clientId,"] publish high stream"));try{const n=await this._p2pChannel.publish(e,this._isDualStreamEnabled,this._lowStreamParameter);if(this.store.useP2P){const t=(await n.next()).value;if(t){try{await this._gateway.sendExtensionMessage(RM.PUBLISH,t,!0)}catch(e){throw n.throw(e),e}await n.next()}this._p2pChannel.reportPublishEvent(!0,null)}else{const i=(await n.next()).value;if(i){var t;let r;try{r=await this._gateway.publish(this._uid,i,!0)}catch(e){if(e.code!==AA.DISCONNECT_P2P)throw n.throw(e),e}await n.next((null===(t=r)||void 0===t?void 0:t.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const t of e)t instanceof PP&&t._encoderConfig&&this._gateway.setVideoProfile(t._encoderConfig).catch(e=>{sI.debug("[".concat(this._clientId,"] stop setVideoProfile, because websocket is closed"))}),!t.muted&&t.enabled||await this._p2pChannel.muteLocalTrack(t)}}catch(t){if(this._p2pChannel.reportPublishEvent(!1,null==t?void 0:t.code,e),(null==t?void 0:t.code)===AA.WS_ABORT)return;throw t}}async _publishLowStream(){if(!this._joinInfo||void 0===this._uid)throw new fI(AA.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if("CONNECTED"!==this.connectionState&&"RECONNECTING"!==this.connectionState)throw new fI(AA.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));sI.debug("[".concat(this._clientId,"] publish low stream"));const e=this._configDistribute.getLowStreamConfigDistribute();e&&e.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&e.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=e.bitrate));try{const e=await this._p2pChannel.publishLowStream(this._lowStreamParameter),n=(await e.next()).value;if(n){var t;let i;try{i=await this._gateway.publish(this._uid,n,!0)}catch(t){if(t.code!==AA.DISCONNECT_P2P)throw e.throw(t),t}e.next((null===(t=i)||void 0===t?void 0:t.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(e){if(this._p2pChannel.reportPublishEvent(!1,null==e?void 0:e.code,void 0,!0),(null==e?void 0:e.code)===AA.WS_ABORT)return;throw e}}_createLiveStreamingClient(e){const t=()=>{if(!this._joinInfo||!this._appId)return new fI(AA.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();const e=(t={joinInfo:this._joinInfo,appId:this._appId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig},JU("LiveStreaming").create(t));var t;return e.onLiveStreamError=(e,t)=>{mI.reportApiInvoke(this._sessionId,{name:YA.ON_LIVE_STREAM_ERROR,options:[e,t],tag:XA.TRACER}).onSuccess(),this.safeEmit(tk.LIVE_STREAMING_ERROR,e,t)},e.onLiveStreamWarning=(e,t)=>{mI.reportApiInvoke(this._sessionId,{name:YA.ON_LIVE_STREAM_WARNING,options:[e,t],tag:XA.TRACER}).onSuccess(),this.safeEmit(tk.LIVE_STREAMING_WARNING,e,t)},e.on(JL.REQUEST_WORKER_MANAGER_LIST,(e,t,n)=>{if(!this._joinInfo)return n(new fI(AA.INVALID_OPERATION,"can not find join info to get worker manager"));(async function(e,t,n,i){const r=AR("UAP_AP").slice(0,AR("AJAX_REQUEST_CONCURRENT")).map(e=>t.proxyServer?"https://".concat(t.proxyServer,"/ap/?url=").concat(e+"/api/v1?action=uap"):"https://".concat(e,"/api/v1?action=uap"));return await vF(r,e,t,n,i)})(e,this._joinInfo,this._axiosCancelSource.token,Bk).then(t).catch(n)}),e};return e===WL.RAW?(this._liveRawStreamingClient=this._liveRawStreamingClient||t(),this._liveRawStreamingClient):(this._liveTranscodeStreamingClient=this._liveTranscodeStreamingClient||t(),this._liveTranscodeStreamingClient)}_createChannelMediaRelayClient(){if(!this._joinInfo)return new fI(AA.INVALID_OPERATION,"can not create channel media relay client, please join channel first").throw();if(!this._channelMediaRelayClient){const{sendResolutionWidth:t,sendResolutionHeight:n}=this.getLocalVideoStats(),i=(e={joinInfo:this._joinInfo,clientId:this._clientId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig,resolution:{width:t,height:n}},JU("ChannelMediaRelay").create(e));i.on("state",e=>{e===tM.RELAY_STATE_FAILURE&&i&&i.dispose(),this.safeEmit(tk.CHANNEL_MEDIA_RELAY_STATE,e)}),i.on("event",e=>{this.safeEmit(tk.CHANNEL_MEDIA_RELAY_EVENT,e)}),this._channelMediaRelayClient=i,this._statsCollector.onStatsChanged=(e,t)=>{var n;"resolution"===e&&(null===(n=this._channelMediaRelayClient)||void 0===n||n.setVideoProfile(t))}}var e;return this._channelMediaRelayClient}_handleUpdateDataChannel(e,t){const{added:n,deleted:i}=e,r=[];if(t){const e=[];this._users.forEach(t=>{t._dataChannels.forEach(i=>{n.every(e=>e.uid!==t._uintid||e.stream_id!==i.id)&&e.push({uid:t._uintid,stream_id:i.id,ordered:i.ordered,max_retrans_times:i.maxRetransmits,metadata:i.metadata})})}),e.length>0&&this._handleUpdateDataChannel({added:[],deleted:e})}Array.isArray(n)&&n.length>0&&n.forEach(e=>{const{uid:n,stream_id:i,ordered:a,max_retrans_times:s,metadata:o}=e,l=this._users.find(e=>e._uintid===n);if(l){if(sI.debug("[".concat(this._clientId,"] data_channel added with uid ").concat(n)),Pi(r).call(r,l)||r.push(l),l._uintid||(l._uintid=n),-1===l._dataChannels.findIndex(t=>t.id===e.stream_id)){const e={id:i,ordered:!!a,maxRetransmits:s,metadata:o},n=function(e){return ZU(e,!0)}(e);l._dataChannels.push(n),sI.info("[".concat(this._clientId,"] remote user ").concat(l.uid," published datachannel")),t||this.safeEmit(tk.USER_PUBLISHED,l,"datachannel",e)}this._p2pChannel.hasPendingRemoteDataChannel(l,e.stream_id)&&(sI.debug("[".concat(this._clientId,"] resubscribe datachannel for user ").concat(l.uid," after reconnect.")),this._subscribeDataChannel(l,e.stream_id).catch(e=>{sI.error("[".concat(this._clientId,"] resubscribe datachannel error"),e.toString())}))}else sI.error("[".concat(this._clientId,"] can not find target user!(on_add_data_channel)"))}),t&&(this.safeEmit(tk.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(i)&&i.length>0&&i.forEach(e=>{const{uid:t,stream_id:n}=e,i=this._users.find(e=>e._uintid===t);if(!i)return void sI.error("[".concat(this._clientId,"] can not find target user!(on_delete_data_channel)"));const r=i._dataChannels.find(t=>t.id===e.stream_id);r&&(sI.debug("[".concat(this._clientId,"] data_stream delete with uid ").concat(t)),this._p2pChannel.unsubscribeDataChannel(i,[r]).then(e=>{if(i._dataChannels=i._dataChannels.filter(e=>e!==r),e)return this._gateway.unsubscribeDataChannel(e,i.uid)}),sI.info("[".concat(this._clientId,"] remote user ").concat(t," unpublished datachannel ,id:").concat(r.id)),this.safeEmit(tk.USER_UNPUBLISHED,i,"datachannel",r._config))})}_getEncodingName(e){var t;if(!this._joinResponse)return;const n=null===(t=this._joinResponse.ortc.rtpCapabilities.sendrecv)||void 0===t?void 0:t.videoCodecs;if(n)for(const r of n){var i;if(r.payloadType===e)return null==r||null===(i=r.rtpMap)||void 0===i?void 0:i.encodingName}}_handleRemoveDataChannels(e){const t=this._users.find(t=>t.uid===e.uid);if(t){if(void 0!==t._dataChannels&&t._dataChannels.length>0){sI.debug("[".concat(this._clientId,"] datachannel removed with uid ").concat(e.uid));const n=()=>{sI.info("[".concat(this._clientId,"] remote user ").concat(t.uid," unpublished datachannel")),t._dataChannels.forEach(e=>{this.safeEmit(tk.USER_UNPUBLISHED,t,"datachannel",e._config)})};this._p2pChannel.unsubscribeDataChannel(t,t._dataChannels).then(e=>{if(e)return this._gateway.unsubscribeDataChannel(e,t.uid)}),n()}}else sI.warning("[".concat(this._clientId,"] can not find target user!(on_remove_datachannel)"))}_handleGatewayEvents(){this._gateway.on(rM.UPDATE_GATEWAY_CONFIG,()=>{!function(){let e;try{e=window.localStorage.getItem("websdk_ng_global_parameter")}catch(e){return void sI.error("Error loading sdk config",e.message)}if(e)try{const t=JSON.parse(window.atob(e)),n=Date.now();Object.keys(t).forEach(e=>{const{value:i,type:r,expires:a}=t[e];a&&a<=n||r||qD()||!Object.prototype.hasOwnProperty.call(wR,e)||(RR[e]=i,TR[e]=i,sI.debug("Update gateway parameters from config distribute",e,i))})}catch(e){sI.error("Error update config from local cache",e.message)}}()}),this._gateway.on(rM.DISCONNECT_P2P,async()=>{await this._p2pChannel.disconnectForReconnect()}),this._gateway.on(rM.CONNECTION_STATE_CHANGE,(e,t,n)=>{var i;if(n===ZA.FALLBACK)return;const r=()=>{this.safeEmit(tk.CONNECTION_STATE_CHANGE,e,t,n)};if(mI.reportApiInvoke(this._sessionId||(null===(i=this._gateway.joinInfo)||void 0===i?void 0:i.sid)||null,{name:YA.CONNECTION_STATE_CHANGE,options:[e,t,n],tag:XA.TRACER}).onSuccess(JSON.stringify({cur:e,prev:t,reason:n})),sI.info("[".concat(this._clientId,"] signal connection state change: ").concat(t," -> ").concat(e)),"DISCONNECTED"===e)return this._reset(),void r();if("RECONNECTING"===e)this._users.forEach(e=>{e._trust_in_room_=!1,e._trust_audio_enabled_state_=!1,e._trust_video_enabled_state_=!1,e._trust_audio_mute_state_=!1,e._trust_video_mute_state_=!1,e._trust_audio_stream_added_state_=!1,e._trust_video_stream_added_state_=!1,e._is_pre_created||(e._audio_pre_subscribed||(e._audioSSRC=void 0,e._audioOrtc=void 0),e._video_pre_subscribed||(e._videoSSRC=void 0,e._videoOrtc=void 0,e._rtxSsrcId=void 0),e._cname=void 0)}),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if("CONNECTED"===e){var a;this._streamFallbackTypeCacheMap.forEach((e,t)=>{this._gateway.setStreamFallbackOption(t,e).catch(e=>{sI.warning("[".concat(this._clientId,"] auto set stream fallback option failed"),e)})}),this._remoteStreamTypeCacheMap.forEach((e,t)=>{this._gateway.setRemoteVideoStreamType(t,e).catch(e=>{sI.warning("[".concat(this._clientId,"] auto set remote stream type failed"),e)})}),void 0!==this._remoteDefaultVideoStreamType&&void 0===(null===(a=this._joinInfo)||void 0===a?void 0:a.defaultVideoStream)&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then(()=>{sI.debug("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway connected"))}).catch(e=>{sI.error("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway failed, ").concat(e))}),this.store.useP2P||(this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout(()=>{"CONNECTED"===this.connectionState&&(this._userOfflineTimeout=void 0,this._users.filter(e=>!e._trust_in_room_).forEach(e=>{sI.debug("[".concat(this._clientId,"] user offline timeout, emit user offline ").concat(e.uid)),this._handleUserOffline({uid:e.uid})}))},3e3),this._streamRemovedTimeout=window.setTimeout(()=>{"CONNECTED"===this.connectionState&&(this._streamRemovedTimeout=void 0,this._users.forEach(e=>{e._trust_audio_mute_state_||(sI.debug("[".concat(this._clientId,"] auto dispatch audio unmute event ").concat(e.uid)),this._handleMuteStream(e.uid,fM.AUDIO,!1)),e._trust_video_mute_state_||(sI.debug("[".concat(this._clientId,"] auto dispatch video unmute event ").concat(e.uid)),this._handleMuteStream(e.uid,fM.VIDEO,!1)),e._trust_audio_enabled_state_||(sI.debug("[".concat(this._clientId,"] auto dispatch enable local audio ").concat(e.uid)),this._handleSetStreamLocalEnable("audio",e.uid,!0)),e._trust_video_enabled_state_||(sI.debug("[".concat(this._clientId,"] auto dispatch enable local video ").concat(e.uid)),this._handleSetStreamLocalEnable("video",e.uid,!0)),e._trust_video_stream_added_state_||(sI.debug("[".concat(this._clientId,"] auto dispatch reset video stream added ").concat(e.uid)),this._handleResetAddStream(e,"video")),e._trust_audio_stream_added_state_||(sI.debug("[".concat(this._clientId,"] auto dispatch reset audio stream added ").concat(e.uid)),this._handleResetAddStream(e,"audio")),e._video_added_||e._audio_added_||(sI.debug("[".concat(this._clientId,"] auto dispatch stream remove ").concat(e.uid)),this._handleRemoveStream({uid:e.uid,uint_id:e._uintid}))}))},1e3))}r()}),this._gateway.on(rM.REQUEST_NEW_GATEWAY_LIST,async(e,t)=>{if(!this._joinInfo)return t(new fI(AA.UNEXPECTED_ERROR,"can not recover, no join info"));try{let t;const n=await NV(aH(aH({},this._joinInfo),{},{uid:this._joinInfo.uid,stringUid:void 0}));n?(t=n.ap,IV(n),this._joinInfo.preload=!0):(t=await OF(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||Bk,this.store),this._joinInfo.preload=!1),this._joinInfo&&(this._joinInfo.apResponse=t.gatewayInfo.res,this._joinInfo.gatewayAddrs=t.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=t.gatewayInfo.uni_lbs_ip);const i=[];t.gatewayInfo.gatewayAddrs.forEach(e=>{let{address:t}=e;const[n,r]=t.split(":");this._joinInfo&&this._joinInfo.proxyServer?i.push({proxy:this._joinInfo.proxyServer,host:n,port:r}):i.push({host:n,port:r})}),e(i)}catch(e){t(e)}}),this._gateway.on(rM.NETWORK_QUALITY,e=>{"normal"===this._networkQualitySensitivity&&this.safeEmit(tk.NETWORK_QUALITY,e)}),this._gateway.on(rM.STREAM_TYPE_CHANGE,(e,t)=>{this.safeEmit(tk.STREAM_TYPE_CHANGED,e,t),mI.reportApiInvoke(this._sessionId,{name:YA.STREAM_TYPE_CHANGE,options:[e,t],tag:XA.TRACER}).onSuccess(JSON.stringify({uid:e,streamType:t}))}),this._gateway.isPreSub=()=>"isPreSub"in this._p2pChannel&&this._p2pChannel.isPreSub(),this._gateway.isPreallocation=()=>"isPreallocation"in this._p2pChannel&&this._p2pChannel.isPreallocation(),this._gateway.on(rM.IS_P2P_DISCONNECTED,e=>{this._p2pChannel.isP2PDisconnected()?e(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?e(!1):e(!0)}),this._gateway.on(rM.REQUEST_P2P_CONNECTION_PARAMS,async(e,t,n)=>{try{let n=await this._p2pChannel.getEstablishParams();n&&"isPreallocation"in this._p2pChannel&&this._p2pChannel.isPreallocation()||(n=await this._p2pChannel.startP2PConnection(e)),t(n)}catch(e){n(e)}}),this._gateway.on(rM.JOIN_RESPONSE,(e,t)=>{if(this.store.useP2P)return;let n;this._joinResponse=e,e.attributes?n=e.attributes.userAttributes.preSubSsrcs:sI.debug("no attributes in joinResponse");const i=SU(e.ortc,t,n);this._p2pChannel.connect(i)}),this._gateway.on(rM.PRE_CONNECT_PC,async e=>{const{candidates:t,fingerprint:n,turnServer:i}=e;if(this._joinInfo&&t.length>0&&!this._p2pChannel.isPlanB){const{cert:a,cid:s}=this._joinInfo.apResponse,o="".concat(s,"_").concat(a);if(o.length<4||o.length>256)return;await this._p2pChannel.startP2PConnection({turnServer:i,cloudProxyServer:this._joinInfo.cloudProxyServer,isPreallocation:!0});try{var r;await this._p2pChannel.connect({iceParameters:{iceUfrag:"".concat(s,"_").concat(a),icePwd:"".concat(s,"_").concat(a)},dtlsParameters:{fingerprints:[{hashFunction:"sha-256",fingerprint:null!==(r=AR("FINGERPRINT"))&&void 0!==r?r:n}]},candidates:t,rtpCapabilities:{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},setup:"active",cname:"o/i14u9pJrxRKAsu",preallocation:!0})}catch(e){e.code&&e.code===AA.EXCHANGE_SDP_FAILED&&await this._p2pChannel.startP2PConnection({turnServer:i,cloudProxyServer:this._joinInfo.cloudProxyServer},!0)}}})}_handleGatewaySignalEvents(){this._gateway.signal.on(FL.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(FL.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(FL.ON_ADD_AUDIO_STREAM,e=>this._handleAddAudioOrVideoStream("audio",e.uid,e.ssrcId,e.cname,e.pt,e.uint_id,e.ortc)),this._gateway.signal.on(FL.ON_ADD_VIDEO_STREAM,e=>this._handleAddAudioOrVideoStream("video",e.uid,e.ssrcId,e.cname,e.pt,e.uint_id,e.ortc,e.rtxSsrcId)),this._gateway.signal.on(FL.ON_REMOTE_DATASTREAM_UPDATE,e=>{this._handleUpdateDataChannel(e)}),this._gateway.signal.on(FL.ON_REMOTE_FULL_DATASTREAM_INFO,e=>{this._handleUpdateDataChannel({added:e.datastreams||[],deleted:[]},!0)}),this._gateway.signal.on(FL.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(FL.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(FL.MUTE_AUDIO,e=>this._handleMuteStream(e.uid,fM.AUDIO,!0)),this._gateway.signal.on(FL.UNMUTE_AUDIO,e=>this._handleMuteStream(e.uid,fM.AUDIO,!1)),this._gateway.signal.on(FL.MUTE_VIDEO,e=>this._handleMuteStream(e.uid,fM.VIDEO,!0)),this._gateway.signal.on(FL.UNMUTE_VIDEO,e=>this._handleMuteStream(e.uid,fM.VIDEO,!1)),this._gateway.signal.on(FL.RECEIVE_METADATA,e=>{const t=_k(e.metadata);this.safeEmit(tk.RECEIVE_METADATA,e.uid,t)}),this._gateway.signal.on(FL.ON_DATA_STREAM,async e=>{var t;if(!e)return;let n=_k(e.payload);if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Pi(t=["aes-128-gcm2","aes-256-gcm2"]).call(t,this._encryptionMode)){if(e.payload.length<LR)throw new fI(AA.UNEXPECTED_RESPONSE,"payload length ".concat(e.payload.length," is less than header length ").concat(LR));const t=await async function(e,t,n){const i=n.subarray(0,LR),r=i.slice(8,LR),a=(r[0]<<8)+r[1],s=(i[6]<<8)+i[7],o=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:e,tagLength:jR,additionalData:new Uint8Array(Ok(a,2))},t,n.subarray(LR));return new Uint8Array(o).subarray(0,s)}(this._encryptDataStreamIv,this._encryptDataStreamKey,n);n=t}let i=0;if(e.ordered||e.syncWithAudio){const t=this._p2pChannel.getStats(),n=this.remoteUsers.find(t=>t.uid===e.uid),r=null==t?void 0:t.audioRecv.find(e=>e.ssrc===(null==n?void 0:n._audioSSRC));i=null==r?void 0:r.jitterBufferMs}(null==i||Number.isNaN(i))&&(i=0),uV(aH(aH({},e),{},{payload:n}),i,{id:this._clientId,onStreamMessage:"function"==typeof this.onStreamMessage?this.onStreamMessage.bind(this):void 0,safeEmit:this.safeEmit.bind(this)})}),this._gateway.signal.on(FL.ON_CRYPT_ERROR,()=>{gk(()=>{sI.warning("[".concat(this._clientId,"] on crypt error")),this.safeEmit(tk.CRYPT_ERROR)},this._sessionId)}),this._gateway.signal.on(FL.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(FL.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{sI.warning("[".concat(this._clientId,"] received message onTokenPrivilegeDidExpire, please get new token and join again")),this._gateway.leave(!0,ZA.TOKEN_EXPIRE),this.safeEmit(tk.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()}),this._gateway.signal.on(FL.ON_STREAM_FALLBACK_UPDATE,e=>{sI.debug("[".concat(this._clientId,"] stream fallback peerId: ").concat(e.stream_id,", attr: ").concat(e.stream_type)),this.safeEmit(tk.STREAM_FALLBACK,e.stream_id,1===e.stream_type?"fallback":"recover")}),this._gateway.signal.on(FL.ON_PUBLISH_STREAM,e=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:e.proxy})),sI.info("[".concat(this._clientId,"] on publish stream, ").concat(JSON.stringify(e))))}),this._gateway.signal.on(FL.ENABLE_LOCAL_VIDEO,e=>{this._handleSetStreamLocalEnable("video",e.uid,!0)}),this._gateway.signal.on(FL.DISABLE_LOCAL_VIDEO,e=>{this._handleSetStreamLocalEnable("video",e.uid,!1)}),this._gateway.signal.on(LL.REQUEST_TIMEOUT,(e,t)=>{if(this._joinInfo)switch(e){case ML.PUBLISH:{if(!t)return;const e=t.ortc;if(e){var n,i;const r=e.some(e=>{let{stream_type:t}=e;return t===iM.Audio}),a=e.some(e=>{let{stream_type:t}=e;return t!==iM.Audio}),s=e.some(e=>{let{stream_type:t}=e;return t===iM.Screen||t===iM.ScreenLow});"offer"===t.state&&mI.publish(this._joinInfo.sid,{eventElapse:qF.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:AA.TIMEOUT,audio:r,video:a,p2pid:t.p2p_id,publishRequestid:this.store.pubId,screenshare:s,audioName:r?null===(n=e.find(e=>{let{stream_type:t}=e;return t===iM.Audio}))||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId.toString():void 0,videoName:a?null===(i=e.find(e=>{let{stream_type:t}=e;return t!==iM.Audio}))||void 0===i||null===(i=i.ssrcs[0])||void 0===i?void 0:i.ssrcId.toString():void 0})}break}case ML.SUBSCRIBE:t&&mI.subscribe(this._joinInfo.sid,{succ:!1,ec:AA.TIMEOUT,audio:t.stream_type===fM.AUDIO,video:t.stream_type===fM.VIDEO,peerid:t.stream_id,subscribeRequestid:t.ssrcId,p2pid:this.store.p2pId,eventElapse:qF.measureFromSubscribeStart(this.store.clientId,t.ssrcId),preSsrc:this._p2pChannel.isPreSubScribe(t.ssrcId)})}}),this._gateway.signal.on(FL.ON_P2P_OK,e=>{this.uid,this._uid}),this._gateway.signal.on(FL.ON_PUBLISHED_USER_LIST,e=>{if(null==e||!e.users)return;AR("BLOCK_LOCAL_CLIENT")&&(e.users=e.users.filter(e=>!GD(e.string_id||e.stream_id,this.channelName)));const t=[],n=[];for(const i of e.users){let e=this._users.find(e=>e._uintid===i.stream_id);e?e._trust_in_room_=!0:(e=new QF(i.string_id||i.stream_id,i.stream_id),this._users.push(e),this.store.firstVideoFrameDecoded(e.uid,{userJoinNotify:Date.now()}),0===this.getListeners(tk.PUBLISHED_USER_LIST).length&&(sI.debug("[".concat(this._clientId,"] user online"),i.stream_id),this.safeEmit(tk.USER_JOINED,e)));const r=sM.Audio&i.stream_type,a=(sM.Video|sM.LwoVideo)&i.stream_type,s=0!=(65280&i.stream_type),o=r&&e.hasAudio,l=a&&e.hasVideo;a&&(e._trust_video_stream_added_state_=!0,e._video_added_=!0,e._videoSSRC=i.video_ssrc,e._rtxSsrcId=i.video_rtx),r&&(e._trust_audio_stream_added_state_=!0,e._audio_added_=!0,e._audioSSRC=i.audio_ssrc),r&&!o&&0===this.getListeners(tk.PUBLISHED_USER_LIST).length&&(sI.info("[".concat(this._clientId,"] remote user ").concat(e.uid," published audio")),this.safeEmit(tk.USER_PUBLISHED,e,"audio")),a&&!l&&0===this.getListeners(tk.PUBLISHED_USER_LIST).length&&(sI.info("[".concat(this._clientId,"] remote user ").concat(e.uid," published video")),this.safeEmit(tk.USER_PUBLISHED,e,"video")),(r&&!o||a&&!l||s)&&t.push(e),a&&this._p2pChannel.hasPendingRemoteMedia(e,"video")&&n.push({user:e,mediaType:"video"}),r&&this._p2pChannel.hasPendingRemoteMedia(e,"audio")&&n.push({user:e,mediaType:"audio"})}n.length>0&&(sI.debug("[".concat(this._clientId,"] RE massSubscribe after reconnect ").concat(n.map(e=>"user: ".concat(e.user.uid,", mediaType: ").concat(e.mediaType)).join("; ")," ")),this.massSubscribe(n).catch(e=>{sI.error("[".concat(this._clientId,"] mass resubscribe error"),e.toString())})),this.getListeners(tk.PUBLISHED_USER_LIST).length>0?AR("ENABLE_DATASTREAM_2")?this._pendingPublishedUsers=t:(sI.info("[".concat(this._clientId,"] client emit user-list event, users: ").concat(t.map(e=>e.uid).join(", "))),this.safeEmit(tk.PUBLISHED_USER_LIST,t)):sI.info("[".concat(this._clientId,"] client not emit user-list event case there is no user-list listener, users: ").concat(t.map(e=>e.uid).join(", ")))}),this._gateway.signal.on(FL.ON_RTP_CAPABILITY_CHANGE,e=>{const{video_codec:t}=e;this._p2pChannel instanceof tV&&this._p2pChannel.updateRemoteRTPCapabilities(t.map(e=>e.toLowerCase()).filter(e=>{var t;return Pi(t=Object.keys(OR)).call(t,e)}))})}_handleP2PEvents(){this._gateway.signal.on(FL.ON_USER_OFFLINE,()=>{this._p2pChannel.disconnectForReconnect()}),this._gateway.signal.on(RM.PUBLISH,(e,t,n)=>{const{uid:i}=e;e.forEach(e=>{const{kind:r,ssrcs:a,mid:s,isMuted:o}=e;this._handleP2PAddAudioOrVideoStream(r,i,a[0].ssrcId,s);const l=this._users.find(e=>e.uid===i);return l&&this.store.useP2P?this._p2pChannel.mockSubscribe(l,r,a[0].ssrcId,s).then(()=>{t()}).catch(n):t(),this._handleMuteStream(i,r,!!o)})}),this._gateway.signal.on(RM.CALL,async(e,t,n)=>{if(this.store.useP2P)try{var i;t(await this._p2pChannel.startP2P({turnServer:null===(i=this._joinInfo)||void 0===i?void 0:i.turnServer},e))}catch(e){n(e)}}),this._gateway.signal.on(LL.P2P_CONNECTION,async e=>{this.store.useP2P&&(await this._p2pChannel).p2pConnect(e)}),this._gateway.signal.on(RM.UNPUBLISH,async(e,t,n)=>{if(this.store.useP2P){const{unpubMsg:i,uid:r}=e,a=this._users.find(e=>e.uid===r);if(!a)return sI.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(r)),void t();try{i.forEach(async e=>{let{stream_type:t}=e;const n=t===iM.Audio?fM.AUDIO:fM.VIDEO;await this._p2pChannel.unsubscribe(a,n),this._handleMuteStream(r,n,!0)}),t()}catch(e){n(e)}}}),this._gateway.signal.on(RM.CONTROL,async(e,t)=>{const{action:n}=e;switch(n){case OM.MUTE_LOCAL_VIDEO:this._handleMuteStream(t,fM.VIDEO,!0);break;case OM.MUTE_LOCAL_AUDIO:this._handleMuteStream(t,fM.AUDIO,!0);break;case OM.UNMUTE_LOCAL_VIDEO:this._handleP2PAddAudioOrVideoStream("video",t),this._handleMuteStream(t,fM.VIDEO,!1);break;case OM.UNMUTE_LOCAL_AUDIO:this._handleP2PAddAudioOrVideoStream("audio",t),this._handleMuteStream(t,fM.AUDIO,!1)}}),this._gateway.signal.on(RM.RESTART_ICE,async(e,t,n)=>{if(this.store.useP2P)try{const{direction:n,iceParameter:i}=e;n!==BL.SEND_ONLY||i?t(await this._p2pChannel.restartICE(n,i)):(this._p2pChannel.handleDisconnect(n),t())}catch(e){n(e)}}),this._gateway.signal.on(RM.CANDIDATE,e=>{if(this.store.useP2P){const{candidate:t,direction:n}=e;this._p2pChannel.addRemoteCandidate(t,n)}}),this._p2pChannel.on(xM.RequestP2PRestartICE,async(e,t,n)=>{try{const{direction:n}=e;t(await this._gateway.sendExtensionMessage(RM.RESTART_ICE,e,n===BL.SEND_ONLY))}catch(e){n(e)}}),this._p2pChannel.on(xM.LocalCandidate,e=>{this._gateway.sendExtensionMessage(RM.CANDIDATE,JSON.stringify(e),!0)}),this._p2pChannel.on(xM.RequestP2PMuteLocal,async(e,t,n)=>{try{await this._gateway.sendExtensionMessage(RM.CONTROL,e,!0),t()}catch(e){n(e)}}),this._p2pChannel.on(xM.RequestP2PUnmuteRemote,async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.unmuteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===AA.DISCONNECT_P2P?t():n(e)}else t()}),this._p2pChannel.on(xM.RequestP2PMuteRemote,async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.muteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===AA.DISCONNECT_P2P?t():n(e)}else t()}),this._p2pChannel.on(xM.StateChange,(e,t)=>{t===yM.Connected&&this._p2pChannel.republish()})}_handleP2PChannelEvents(){this._p2pChannel.on(xM.PeerConnectionStateChange,e=>{const t=this._peerConnectionState;e!==t&&(this.safeEmit(tk.PEERCONNECTION_STATE_CHANGE,e,t),this._peerConnectionState=e)}),this._p2pChannel.on(xM.RequestMuteLocal,async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.muteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===AA.DISCONNECT_P2P?t():n(e)}else t()}),this._p2pChannel.on(xM.RequestUnmuteLocal,async(e,t,n)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===AA.DISCONNECT_P2P?t():n(e)}else t()}),this._p2pChannel.on(xM.RequestRePublish,(e,t,n)=>{this.publish(e,!1).then(t).catch(n)}),this._p2pChannel.on(xM.RequestRePublishDataChannel,(e,t,n)=>{np.all(e.map(async e=>{const t=await this._p2pChannel.publishDataChannel([e]);try{t.forEach(e=>{this._uid&&this._gateway.publishDataChannel(this._uid,e,!0)})}catch(e){if(e.code!==AA.DISCONNECT_P2P)throw e}})).then(t).catch(n)}),this._p2pChannel.on(xM.RequestReSubscribe,async(e,t,n)=>{try{for(const{user:t,kind:n}of e)n===fM.VIDEO?await this.subscribe(t,"video"):await this.subscribe(t,"audio");t()}catch(e){n(e)}}),this._p2pChannel.on(xM.RequestUpload,(e,t)=>{this._gateway.upload(e,t)}),this._p2pChannel.on(xM.RequestUploadStats,e=>{this._gateway.uploadWRTCStats(e)}),this._p2pChannel.on(xM.MediaReconnectStart,e=>{this.safeEmit(tk.MEDIA_RECONNECT_START,e)}),this._p2pChannel.on(xM.MediaReconnectEnd,e=>{this.safeEmit(tk.MEDIA_RECONNECT_END,e)}),this._p2pChannel.on(xM.NeedSignalRTT,e=>{e(this._gateway.getSignalRTT())}),this._p2pChannel.on(xM.RequestRestartICE,async e=>{if(this.store.useP2P)return;const t=await this._p2pChannel.restartICE(e),n=await t.next();if(n.done)return;const i=n.value;let r;try{r=await this._gateway.restartICE({iceParameters:i})}catch(e){return void t.throw(e)}const{iceParameters:a}=function(e){const t=e.iceParameters;return{iceParameters:{iceUfrag:t.iceUfrag,icePwd:t.icePwd}}}(r);await t.next({remoteIceParameters:a})}),this._p2pChannel.on(xM.RequestReconnect,async()=>{this._gateway.reconnect()}),this._p2pChannel.on(xM.RequestReconnectPC,async()=>{var e;const{iceParameters:t,dtlsParameters:n,rtpCapabilities:i}=await this._p2pChannel.startP2PConnection({turnServer:null===(e=this._joinInfo)||void 0===e?void 0:e.turnServer}),{gatewayEstablishParams:r,gatewayAddress:a}=await this._gateway.reconnectPC({iceParameters:t,dtlsParameters:n,rtpCapabilities:i}),s=SU(r,a);await this._p2pChannel.connect(s),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()}),this._p2pChannel.on(xM.RequestUnpublishForReconnectPC,async(e,t,n)=>{this._joinInfo&&void 0!==this._uid?(await this._gateway.unpublish(e,this._uid),t()):n()}),this._p2pChannel.on(xM.P2PLost,()=>{this.safeEmit(tk.P2P_LOST,this.store.uid)}),this._p2pChannel.on(xM.UpdateVideoEncoder,e=>{e._encoderConfig&&this._gateway.setVideoProfile(e._encoderConfig)}),this._p2pChannel.on(xM.ConnectionTypeChange,e=>{this.safeEmit(tk.IS_USING_CLOUD_PROXY,e)}),this._p2pChannel.on(xM.RequestLowStreamParameter,e=>{e(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})}),this._p2pChannel.on(xM.QueryClientConnectionState,e=>{e(this.connectionState)}),this._p2pChannel.on(xM.AudioMetadata,e=>{this.safeEmit(tk.AUDIO_METADATA,e)}),this._p2pChannel.on(xM.AudioPts,e=>{this.safeEmit(tk.AUDIO_PTS,Number(e))})}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(e){if(!this._joinInfo||"CONNECTED"!==this.connectionState)throw new fI(AA.INVALID_OPERATION,"[".concat(this._clientId,"] can not create content inspect, please join channel first"));if(this._inspect)throw new fI(AA.INVALID_OPERATION,"[".concat(this._clientId,"] Inspect content service already in connecting/connected state"));try{const n=(t={config:e},JU("ContentInspect").create(t));this._inspect=n,this.handleVideoInspectEvents(n);const{appId:i,cname:r,sid:a,token:s,uid:o,cid:l,vid:c}=this._joinInfo;await n.init({appId:i,areaCode:"",cname:r,sid:a,token:s,uid:o,cid:l,vid:c?Number(c):0},Bk)}catch(e){throw Array.isArray(e)?e[0]:e}var t}handleVideoInspectEvents(e){e.on(SM.CONNECTION_STATE_CHANGE,(t,n)=>{if(this.safeEmit(tk.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,t,n),n===wM.CONNECTED){if("CONNECTED"!==this.connectionState)return void this.safeEmit(tk.CONTENT_INSPECT_ERROR,new fI(AA.OPERATION_ABORTED,"Content inspect was cancelled because it left the channel"));e.inspectImage()}}),e.on(SM.INSPECT_RESULT,(e,t)=>{var n;if((null==t?void 0:t.code)===AA.INVALID_OPERATION&&"DISCONNECTED"===this.connectionState)return sI.debug("Stop inspect content because that has left channel"),null==this||null===(n=this._inspect)||void 0===n||n.close(),void(this._inspect=void 0);this.safeEmit(tk.CONTENT_INSPECT_RESULT,e,t)}),e.on(SM.CLIENT_LOCAL_VIDEO_TRACK,e=>{e(this.localTracks.filter(e=>"video"===e.trackMediaType)[0])})}async disableContentInspect(){if(!this._inspect)throw new fI(AA.INVALID_OPERATION,"[".concat(this._clientId,"] inspectVideoContent not started"));try{this._inspect.close(),this._inspect=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}async setImageModeration(e,t){if(RA(e,"enabled"),e){if(!t)throw new fI(AA.INVALID_PARAMS,"config is required");if(mz(t),!this._joinInfo)throw new fI(AA.INVALID_OPERATION,"can not create image moderation, please join channel first");try{if(this._moderation)this._moderation.updateConfig(t);else{const e=(n={config:t},JU("ImageModeration").create(n));this._moderation=e,this.handleImageModerationEvents(e);const{appId:i,cname:r,sid:a,token:s,uid:o,cid:l,vid:c}=this._joinInfo;await e.init({appId:i,areaCode:"",cname:r,sid:a,token:s,uid:o,cid:l,vid:c?Number(c):0},Bk)}}catch(e){throw Array.isArray(e)?e[0]:e}}else{var n;if(!this._moderation)throw new fI(AA.INVALID_OPERATION,"[".concat(this._clientId,"] image moderation not started"));try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}}handleImageModerationEvents(e){e.on(AM.CONNECTION_STATE_CHANGE,(t,n)=>{if(this.safeEmit(tk.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,t,n),t===NM.CONNECTED){if("CONNECTED"!==this.connectionState)throw this.setImageModeration(!1),new fI(AA.OPERATION_ABORTED,"Image moderation was cancelled because it left the channel");e.inspectImage()}}),e.on(AM.CLIENT_LOCAL_VIDEO_TRACK,e=>{e(this.localTracks.filter(e=>"video"===e.trackMediaType)[0])})}setP2PTransport(e){if(function(e){IA(e,"transport",["default","auto","relay","sd-rtn"])}(e),"p2p"!==this.mode)throw new fI(AA.INVALID_OPERATION,"only p2p mode can set p2pTransport");this.store.p2pTransport=e,sI.info("[".concat(this._clientId,"] set client p2pTransport to ").concat(e))}getJoinChannelServiceRecords(){return sI.debug("getJoinChannelServiceRecords"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(e){RA(e,"enabled"),NR("ENABLE_PUBLISH_AUDIO_FILTER",e),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(e)}_handleResetAddStream(e,t){switch(t){case"audio":e._audio_added_=!1,e._trust_audio_stream_added_state_=!0;break;case"video":e._video_added_=!1,e._trust_video_stream_added_state_=!0}}},kL(iH.prototype,"leave",[gz],Object.getOwnPropertyDescriptor(iH.prototype,"leave"),iH.prototype),kL(iH.prototype,"publish",[_z],Object.getOwnPropertyDescriptor(iH.prototype,"publish"),iH.prototype),kL(iH.prototype,"unpublish",[vz],Object.getOwnPropertyDescriptor(iH.prototype,"unpublish"),iH.prototype),kL(iH.prototype,"subscribe",[bz],Object.getOwnPropertyDescriptor(iH.prototype,"subscribe"),iH.prototype),kL(iH.prototype,"presubscribe",[yz],Object.getOwnPropertyDescriptor(iH.prototype,"presubscribe"),iH.prototype),kL(iH.prototype,"massSubscribe",[xz],Object.getOwnPropertyDescriptor(iH.prototype,"massSubscribe"),iH.prototype),kL(iH.prototype,"unsubscribe",[wz],Object.getOwnPropertyDescriptor(iH.prototype,"unsubscribe"),iH.prototype),kL(iH.prototype,"massUnsubscribe",[Ez],Object.getOwnPropertyDescriptor(iH.prototype,"massUnsubscribe"),iH.prototype),kL(iH.prototype,"setLowStreamParameter",[Sz],Object.getOwnPropertyDescriptor(iH.prototype,"setLowStreamParameter"),iH.prototype),kL(iH.prototype,"enableDualStream",[Cz],Object.getOwnPropertyDescriptor(iH.prototype,"enableDualStream"),iH.prototype),kL(iH.prototype,"disableDualStream",[Tz],Object.getOwnPropertyDescriptor(iH.prototype,"disableDualStream"),iH.prototype),kL(iH.prototype,"setClientRole",[Nz],Object.getOwnPropertyDescriptor(iH.prototype,"setClientRole"),iH.prototype),kL(iH.prototype,"_setClientRoleOptions",[Az],Object.getOwnPropertyDescriptor(iH.prototype,"_setClientRoleOptions"),iH.prototype),kL(iH.prototype,"setProxyServer",[kz],Object.getOwnPropertyDescriptor(iH.prototype,"setProxyServer"),iH.prototype),kL(iH.prototype,"setTurnServer",[Rz],Object.getOwnPropertyDescriptor(iH.prototype,"setTurnServer"),iH.prototype),kL(iH.prototype,"setLicense",[Iz],Object.getOwnPropertyDescriptor(iH.prototype,"setLicense"),iH.prototype),kL(iH.prototype,"startProxyServer",[Oz],Object.getOwnPropertyDescriptor(iH.prototype,"startProxyServer"),iH.prototype),kL(iH.prototype,"stopProxyServer",[jz],Object.getOwnPropertyDescriptor(iH.prototype,"stopProxyServer"),iH.prototype),kL(iH.prototype,"setLocalAccessPointsV2",[Pz],Object.getOwnPropertyDescriptor(iH.prototype,"setLocalAccessPointsV2"),iH.prototype),kL(iH.prototype,"setLocalAccessPoints",[Dz],Object.getOwnPropertyDescriptor(iH.prototype,"setLocalAccessPoints"),iH.prototype),kL(iH.prototype,"setRemoteDefaultVideoStreamType",[Lz],Object.getOwnPropertyDescriptor(iH.prototype,"setRemoteDefaultVideoStreamType"),iH.prototype),kL(iH.prototype,"setRemoteVideoStreamType",[Mz],Object.getOwnPropertyDescriptor(iH.prototype,"setRemoteVideoStreamType"),iH.prototype),kL(iH.prototype,"setStreamFallbackOption",[Uz],Object.getOwnPropertyDescriptor(iH.prototype,"setStreamFallbackOption"),iH.prototype),kL(iH.prototype,"setEncryptionConfig",[Fz],Object.getOwnPropertyDescriptor(iH.prototype,"setEncryptionConfig"),iH.prototype),kL(iH.prototype,"renewToken",[Bz],Object.getOwnPropertyDescriptor(iH.prototype,"renewToken"),iH.prototype),kL(iH.prototype,"enableAudioVolumeIndicator",[Vz],Object.getOwnPropertyDescriptor(iH.prototype,"enableAudioVolumeIndicator"),iH.prototype),kL(iH.prototype,"startLiveStreaming",[zz],Object.getOwnPropertyDescriptor(iH.prototype,"startLiveStreaming"),iH.prototype),kL(iH.prototype,"setLiveTranscoding",[Hz],Object.getOwnPropertyDescriptor(iH.prototype,"setLiveTranscoding"),iH.prototype),kL(iH.prototype,"stopLiveStreaming",[Wz],Object.getOwnPropertyDescriptor(iH.prototype,"stopLiveStreaming"),iH.prototype),kL(iH.prototype,"startChannelMediaRelay",[Gz],Object.getOwnPropertyDescriptor(iH.prototype,"startChannelMediaRelay"),iH.prototype),kL(iH.prototype,"updateChannelMediaRelay",[qz],Object.getOwnPropertyDescriptor(iH.prototype,"updateChannelMediaRelay"),iH.prototype),kL(iH.prototype,"stopChannelMediaRelay",[Yz],Object.getOwnPropertyDescriptor(iH.prototype,"stopChannelMediaRelay"),iH.prototype),kL(iH.prototype,"sendCustomReportMessage",[Xz],Object.getOwnPropertyDescriptor(iH.prototype,"sendCustomReportMessage"),iH.prototype),kL(iH.prototype,"pickSVCLayer",[Kz],Object.getOwnPropertyDescriptor(iH.prototype,"pickSVCLayer"),iH.prototype),kL(iH.prototype,"setRTMConfig",[Jz],Object.getOwnPropertyDescriptor(iH.prototype,"setRTMConfig"),iH.prototype),kL(iH.prototype,"enableContentInspect",[Zz],Object.getOwnPropertyDescriptor(iH.prototype,"enableContentInspect"),iH.prototype),kL(iH.prototype,"disableContentInspect",[Qz],Object.getOwnPropertyDescriptor(iH.prototype,"disableContentInspect"),iH.prototype),kL(iH.prototype,"setImageModeration",[$z],Object.getOwnPropertyDescriptor(iH.prototype,"setImageModeration"),iH.prototype),kL(iH.prototype,"setP2PTransport",[eH],Object.getOwnPropertyDescriptor(iH.prototype,"setP2PTransport"),iH.prototype),kL(iH.prototype,"getJoinChannelServiceRecords",[tH],Object.getOwnPropertyDescriptor(iH.prototype,"getJoinChannelServiceRecords"),iH.prototype),kL(iH.prototype,"setPublishAudioFilterEnabled",[nH],Object.getOwnPropertyDescriptor(iH.prototype,"setPublishAudioFilterEnabled"),iH.prototype),iH);class oH{constructor(e,t){uC(this,"id",0),uC(this,"element",void 0),uC(this,"peerPair",void 0),uC(this,"context",void 0),uC(this,"audioPlayerElement",void 0),uC(this,"audioTrack",void 0),oH.count+=1,this.id=oH.count,this.element=e,this.context=t}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=e=>{const t=document.createElement("audio");t.srcObject=new MediaStream([e.track]),t.play(),this.audioPlayerElement=t}}async switchSdp(){if(!this.peerPair)return;const e=async(e,t)=>{const n="offer"===t?await e.createOffer():await e.createAnswer();return await e.setLocalDescription(n),"complete"===e.iceGatheringState?e.localDescription:new np(t=>{e.onicegatheringstatechange=()=>{"complete"===e.iceGatheringState&&t(e.localDescription)}})},t=async(e,t)=>await e.setRemoteDescription(t);try{const n=await e(this.peerPair[0],"offer");await t(this.peerPair[1],n);const i=await e(this.peerPair[1],"answer");await t(this.peerPair[0],i)}catch(e){throw new fI(AA.LOCAL_AEC_ERROR,e.toString()).print()}}async getTracksFromMediaElement(e){if(this.audioTrack)return this.audioTrack;let t;try{e instanceof HTMLVideoElement&&(e.captureStream?e.captureStream():e.mozCaptureStream()),t=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(e).connect(t)}catch(e){throw new fI(AA.LOCAL_AEC_ERROR,e.toString()).print()}if(!t)throw new fI(AA.LOCAL_AEC_ERROR,"no dest node when local aec").print();const n=t.stream.getAudioTracks()[0];return this.audioTrack=n,n}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const e=this.element,t=await this.getTracksFromMediaElement(e);this.peerPair&&this.peerPair[0].addTrack(t),await this.switchSdp()}close(){sI.debug("close echo cancellation unit, id is",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach(e=>{e.close()}),this.peerPair=void 0,this.audioPlayerElement=void 0}}var lH,cH;uC(oH,"count",0);const dH=window.AudioContext||window.webkitAudioContext,uH=new(lH=pI({report:mI}),kL((cH=class{constructor(){uC(this,"units",[]),uC(this,"context",void 0)}processExternalMediaAEC(e){if(!this._doesEnvironmentNeedAEC())return sI.debug("the system does not need to process local aec"),-1;this.context||(this.context=new dH);let t=this.units.find(t=>t&&t.getElement()===e);return t||(t=new oH(e,this.context),this.units.push(t)),t.startEchoCancellation(),sI.debug("start processing local audio echo cancellation, id is",t.id),t.id}_doesEnvironmentNeedAEC(){return YN().name!==HN.SAFARI}}).prototype,"processExternalMediaAEC",[lH],Object.getOwnPropertyDescriptor(cH.prototype,"processExternalMediaAEC"),cH.prototype),cH);function hH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function pH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hH(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const mH=window||document;function fH(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!mH)return;const n=DX._cspEventHandlerPointer;if(n&&t)return void console.error(n,t);const i=e=>{if(!(e&&e.blockedURI&&(DX.onSecurityPolicyViolation||DX.getListeners(TM.SECURITY_POLICY_VIOLATION).length>0)))return;const t=e.blockedURI;AR("CSP_DETECTED_HOSTNAME_LIST").some(e=>Pi(t).call(t,e))&&(DX.onSecurityPolicyViolation&&"function"==typeof DX.onSecurityPolicyViolation&&DX.onSecurityPolicyViolation(e),DX.getListeners(TM.SECURITY_POLICY_VIOLATION).length>0&&DX.safeEmit(TM.SECURITY_POLICY_VIOLATION,e))};n&&mH.removeEventListener("securitypolicyviolation",n),(t||e&&"function"==typeof e||DX.getListeners(TM.SECURITY_POLICY_VIOLATION).length>0)&&mH.addEventListener("securitypolicyviolation",i),DX._cspEventHandlerPointer=i}var gH=u,_H=AC,vH=RegExp.prototype,bH=function(e){return e===vH||gH(vH,e)?_H(e):e.flags},yH=i(bH);function xH(e){let t=e.length;for(;--t>=0;)e[t]=0}const wH=256,EH=286,SH=30,CH=15,TH=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),NH=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),AH=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),kH=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RH=new Array(576);xH(RH);const IH=new Array(60);xH(IH);const OH=new Array(512);xH(OH);const jH=new Array(256);xH(jH);const PH=new Array(29);xH(PH);const DH=new Array(SH);function LH(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}let MH,UH,FH;function BH(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}xH(DH);const VH=e=>e<256?OH[e]:OH[256+(e>>>7)],zH=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},HH=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,zH(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},WH=(e,t,n)=>{HH(e,n[2*t],n[2*t+1])},GH=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},qH=(e,t,n)=>{const i=new Array(16);let r,a,s=0;for(r=1;r<=CH;r++)s=s+n[r-1]<<1,i[r]=s;for(a=0;a<=t;a++){let t=e[2*a+1];0!==t&&(e[2*a]=GH(i[t]++,t))}},YH=e=>{let t;for(t=0;t<EH;t++)e.dyn_ltree[2*t]=0;for(t=0;t<SH;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},XH=e=>{e.bi_valid>8?zH(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},KH=(e,t,n,i)=>{const r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&i[t]<=i[n]},JH=(e,t,n)=>{const i=e.heap[n];let r=n<<1;for(;r<=e.heap_len&&(r<e.heap_len&&KH(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!KH(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},ZH=(e,t,n)=>{let i,r,a,s,o=0;if(0!==e.sym_next)do{i=255&e.pending_buf[e.sym_buf+o++],i+=(255&e.pending_buf[e.sym_buf+o++])<<8,r=e.pending_buf[e.sym_buf+o++],0===i?WH(e,r,t):(a=jH[r],WH(e,a+wH+1,t),s=TH[a],0!==s&&(r-=PH[a],HH(e,r,s)),i--,a=VH(i),WH(e,a,n),s=NH[a],0!==s&&(i-=DH[a],HH(e,i,s)))}while(o<e.sym_next);WH(e,256,t)},QH=(e,t)=>{const n=t.dyn_tree,i=t.stat_desc.static_tree,r=t.stat_desc.has_stree,a=t.stat_desc.elems;let s,o,l,c=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<a;s++)0!==n[2*s]?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[2*s+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,r&&(e.static_len-=i[2*l+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)JH(e,n,s);l=a;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],JH(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,n[2*l]=n[2*s]+n[2*o],e.depth[l]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,n[2*s+1]=n[2*o+1]=l,e.heap[1]=l++,JH(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,i=t.max_code,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,d,u,h,p,m,f=0;for(h=0;h<=CH;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)d=e.heap[c],h=n[2*n[2*d+1]+1]+1,h>l&&(h=l,f++),n[2*d+1]=h,d>i||(e.bl_count[h]++,p=0,d>=o&&(p=s[d-o]),m=n[2*d],e.opt_len+=m*(h+p),a&&(e.static_len+=m*(r[2*d+1]+p)));if(0!==f){do{for(h=l-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,f-=2}while(f>0);for(h=l;0!==h;h--)for(d=e.bl_count[h];0!==d;)u=e.heap[--c],u>i||(n[2*u+1]!==h&&(e.opt_len+=(h-n[2*u+1])*n[2*u],n[2*u+1]=h),d--)}})(e,t),qH(n,c,e.bl_count)},$H=(e,t,n)=>{let i,r,a=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=t[2*(i+1)+1],++o<l&&r===s||(o<c?e.bl_tree[2*r]+=o:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,a=r,0===s?(l=138,c=3):r===s?(l=6,c=3):(l=7,c=4))},eW=(e,t,n)=>{let i,r,a=-1,s=t[1],o=0,l=7,c=4;for(0===s&&(l=138,c=3),i=0;i<=n;i++)if(r=s,s=t[2*(i+1)+1],!(++o<l&&r===s)){if(o<c)do{WH(e,r,e.bl_tree)}while(0!=--o);else 0!==r?(r!==a&&(WH(e,r,e.bl_tree),o--),WH(e,16,e.bl_tree),HH(e,o-3,2)):o<=10?(WH(e,17,e.bl_tree),HH(e,o-3,3)):(WH(e,18,e.bl_tree),HH(e,o-11,7));o=0,a=r,0===s?(l=138,c=3):r===s?(l=6,c=3):(l=7,c=4)}};let tW=!1;const nW=(e,t,n,i)=>{HH(e,0+(i?1:0),3),XH(e),zH(e,n),zH(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var iW=e=>{tW||((()=>{let e,t,n,i,r;const a=new Array(16);for(n=0,i=0;i<28;i++)for(PH[i]=n,e=0;e<1<<TH[i];e++)jH[n++]=i;for(jH[n-1]=i,r=0,i=0;i<16;i++)for(DH[i]=r,e=0;e<1<<NH[i];e++)OH[r++]=i;for(r>>=7;i<SH;i++)for(DH[i]=r<<7,e=0;e<1<<NH[i]-7;e++)OH[256+r++]=i;for(t=0;t<=CH;t++)a[t]=0;for(e=0;e<=143;)RH[2*e+1]=8,e++,a[8]++;for(;e<=255;)RH[2*e+1]=9,e++,a[9]++;for(;e<=279;)RH[2*e+1]=7,e++,a[7]++;for(;e<=287;)RH[2*e+1]=8,e++,a[8]++;for(qH(RH,287,a),e=0;e<SH;e++)IH[2*e+1]=5,IH[2*e]=GH(e,5);MH=new LH(RH,TH,257,EH,CH),UH=new LH(IH,NH,0,SH,CH),FH=new LH(new Array(0),AH,0,19,7)})(),tW=!0),e.l_desc=new BH(e.dyn_ltree,MH),e.d_desc=new BH(e.dyn_dtree,UH),e.bl_desc=new BH(e.bl_tree,FH),e.bi_buf=0,e.bi_valid=0,YH(e)},rW=(e,t,n,i)=>{let r,a,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<wH;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),QH(e,e.l_desc),QH(e,e.d_desc),s=(e=>{let t;for($H(e,e.dyn_ltree,e.l_desc.max_code),$H(e,e.dyn_dtree,e.d_desc.max_code),QH(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*kH[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),r=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=r&&(r=a)):r=a=n+5,n+4<=r&&-1!==t?nW(e,t,n,i):4===e.strategy||a===r?(HH(e,2+(i?1:0),3),ZH(e,RH,IH)):(HH(e,4+(i?1:0),3),((e,t,n,i)=>{let r;for(HH(e,t-257,5),HH(e,n-1,5),HH(e,i-4,4),r=0;r<i;r++)HH(e,e.bl_tree[2*kH[r]+1],3);eW(e,e.dyn_ltree,t-1),eW(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),ZH(e,e.dyn_ltree,e.dyn_dtree)),YH(e),i&&XH(e)},aW=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(jH[n]+wH+1)]++,e.dyn_dtree[2*VH(t)]++),e.sym_next===e.sym_end),sW=e=>{HH(e,2,3),WH(e,256,RH),(e=>{16===e.bi_valid?(zH(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},oW={_tr_init:iW,_tr_stored_block:nW,_tr_flush_block:rW,_tr_tally:aW,_tr_align:sW},lW=(e,t,n,i)=>{let r=65535&e,a=e>>>16&65535,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{r=r+t[i++]|0,a=a+r|0}while(--s);r%=65521,a%=65521}return r|a<<16};const cW=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var dW=(e,t,n,i)=>{const r=cW,a=i+n;e^=-1;for(let s=i;s<a;s++)e=e>>>8^r[255&(e^t[s])];return-1^e},uW={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},hW={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:pW,_tr_stored_block:mW,_tr_flush_block:fW,_tr_tally:gW,_tr_align:_W}=oW,{Z_NO_FLUSH:vW,Z_PARTIAL_FLUSH:bW,Z_FULL_FLUSH:yW,Z_FINISH:xW,Z_BLOCK:wW,Z_OK:EW,Z_STREAM_END:SW,Z_STREAM_ERROR:CW,Z_DATA_ERROR:TW,Z_BUF_ERROR:NW,Z_DEFAULT_COMPRESSION:AW,Z_FILTERED:kW,Z_HUFFMAN_ONLY:RW,Z_RLE:IW,Z_FIXED:OW,Z_DEFAULT_STRATEGY:jW,Z_UNKNOWN:PW,Z_DEFLATED:DW}=hW,LW=286,MW=30,UW=19,FW=2*LW+1,BW=15,VW=258,zW=262,HW=42,WW=113,GW=666,qW=(e,t)=>(e.msg=uW[t],t),YW=e=>2*e-(e>4?9:0),XW=e=>{let t=e.length;for(;--t>=0;)e[t]=0},KW=e=>{let t,n,i,r=e.w_size;t=e.hash_size,i=t;do{n=e.head[--i],e.head[i]=n>=r?n-r:0}while(--t);t=r,i=t;do{n=e.prev[--i],e.prev[i]=n>=r?n-r:0}while(--t)};let JW=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const ZW=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},QW=(e,t)=>{fW(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ZW(e.strm)},$W=(e,t)=>{e.pending_buf[e.pending++]=t},eG=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},tG=(e,t,n,i)=>{let r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),n),1===e.state.wrap?e.adler=lW(e.adler,t,r,n):2===e.state.wrap&&(e.adler=dW(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)},nG=(e,t)=>{let n,i,r=e.max_chain_length,a=e.strstart,s=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-zW?e.strstart-(e.w_size-zW):0,c=e.window,d=e.w_mask,u=e.prev,h=e.strstart+VW;let p=c[a+s-1],m=c[a+s];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do{if(n=t,c[n+s]===m&&c[n+s-1]===p&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<h);if(i=VW-(h-a),a=h-VW,i>s){if(e.match_start=t,s=i,i>=o)break;p=c[a+s-1],m=c[a+s]}}}while((t=u[t&d])>l&&0!=--r);return s<=e.lookahead?s:e.lookahead},iG=e=>{const t=e.w_size;let n,i,r;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-zW)&&(e.window.set(e.window.subarray(t,t+t-i),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),KW(e),i+=t),0===e.strm.avail_in)break;if(n=tG(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=3)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=JW(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=JW(e,e.ins_h,e.window[r+3-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<zW&&0!==e.strm.avail_in)},rG=(e,t)=>{let n,i,r,a=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s=0,o=e.strm.avail_in;do{if(n=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r)break;if(r=e.strm.avail_out-r,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>r&&(n=r),n<a&&(0===n&&t!==xW||t===vW||n!==i+e.strm.avail_in))break;s=t===xW&&n===i+e.strm.avail_in?1:0,mW(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,ZW(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(tG(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===s);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?4:t!==vW&&t!==xW&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(tG(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,a=r>e.w_size?e.w_size:r,i=e.strstart-e.block_start,(i>=a||(i||t===xW)&&t!==vW&&0===e.strm.avail_in&&i<=r)&&(n=i>r?r:i,s=t===xW&&0===e.strm.avail_in&&n===i?1:0,mW(e,e.block_start,n,s),e.block_start+=n,ZW(e.strm)),s?3:1)},aG=(e,t)=>{let n,i;for(;;){if(e.lookahead<zW){if(iG(e),e.lookahead<zW&&t===vW)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=JW(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-zW&&(e.match_length=nG(e,n)),e.match_length>=3)if(i=gW(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=JW(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=JW(e,e.ins_h,e.window[e.strstart+1]);else i=gW(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(QW(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===xW?(QW(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(QW(e,!1),0===e.strm.avail_out)?1:2},sG=(e,t)=>{let n,i,r;for(;;){if(e.lookahead<zW){if(iG(e),e.lookahead<zW&&t===vW)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=JW(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-zW&&(e.match_length=nG(e,n),e.match_length<=5&&(e.strategy===kW||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=gW(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=JW(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(QW(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(i=gW(e,0,e.window[e.strstart-1]),i&&QW(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=gW(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===xW?(QW(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(QW(e,!1),0===e.strm.avail_out)?1:2};function oG(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}const lG=[new oG(0,0,0,0,rG),new oG(4,4,8,4,aG),new oG(4,5,16,8,aG),new oG(4,6,32,32,aG),new oG(4,4,16,16,sG),new oG(8,16,32,32,sG),new oG(8,16,128,128,sG),new oG(8,32,128,256,sG),new oG(32,128,258,1024,sG),new oG(32,258,258,4096,sG)];function cG(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=DW,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*FW),this.dyn_dtree=new Uint16Array(2*(2*MW+1)),this.bl_tree=new Uint16Array(2*(2*UW+1)),XW(this.dyn_ltree),XW(this.dyn_dtree),XW(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(BW+1),this.heap=new Uint16Array(2*LW+1),XW(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*LW+1),XW(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const dG=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==HW&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==WW&&t.status!==GW?1:0},uG=e=>{if(dG(e))return qW(e,CW);e.total_in=e.total_out=0,e.data_type=PW;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?HW:WW,e.adler=2===t.wrap?0:1,t.last_flush=-2,pW(t),EW},hG=e=>{const t=uG(e);return t===EW&&(e=>{e.window_size=2*e.w_size,XW(e.head),e.max_lazy_match=lG[e.level].max_lazy,e.good_match=lG[e.level].good_length,e.nice_match=lG[e.level].nice_length,e.max_chain_length=lG[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},pG=(e,t,n,i,r,a)=>{if(!e)return CW;let s=1;if(t===AW&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),r<1||r>9||n!==DW||i<8||i>15||t<0||t>9||a<0||a>OW||8===i&&1!==s)return qW(e,CW);8===i&&(i=9);const o=new cG;return e.state=o,o.strm=e,o.status=HW,o.wrap=s,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=a,o.method=n,hG(e)};var mG=(e,t)=>{if(dG(e)||t>wW||t<0)return e?qW(e,CW):CW;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===GW&&t!==xW)return qW(e,0===e.avail_out?NW:CW);const i=n.last_flush;if(n.last_flush=t,0!==n.pending){if(ZW(e),0===e.avail_out)return n.last_flush=-1,EW}else if(0===e.avail_in&&YW(t)<=YW(i)&&t!==xW)return qW(e,NW);if(n.status===GW&&0!==e.avail_in)return qW(e,NW);if(n.status===HW&&0===n.wrap&&(n.status=WW),n.status===HW){let t=DW+(n.w_bits-8<<4)<<8,i=-1;if(i=n.strategy>=RW||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=i<<6,0!==n.strstart&&(t|=32),t+=31-t%31,eG(n,t),0!==n.strstart&&(eG(n,e.adler>>>16),eG(n,65535&e.adler)),e.adler=1,n.status=WW,ZW(e),0!==n.pending)return n.last_flush=-1,EW}if(57===n.status)if(e.adler=0,$W(n,31),$W(n,139),$W(n,8),n.gzhead)$W(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),$W(n,255&n.gzhead.time),$W(n,n.gzhead.time>>8&255),$W(n,n.gzhead.time>>16&255),$W(n,n.gzhead.time>>24&255),$W(n,9===n.level?2:n.strategy>=RW||n.level<2?4:0),$W(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&($W(n,255&n.gzhead.extra.length),$W(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=dW(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if($W(n,0),$W(n,0),$W(n,0),$W(n,0),$W(n,0),$W(n,9===n.level?2:n.strategy>=RW||n.level<2?4:0),$W(n,3),n.status=WW,ZW(e),0!==n.pending)return n.last_flush=-1,EW;if(69===n.status){if(n.gzhead.extra){let t=n.pending,i=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let r=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=dW(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=r,ZW(e),0!==n.pending)return n.last_flush=-1,EW;t=0,i-=r}let r=new Uint8Array(n.gzhead.extra);n.pending_buf.set(r.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>t&&(e.adler=dW(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=dW(e.adler,n.pending_buf,n.pending-i,i)),ZW(e),0!==n.pending)return n.last_flush=-1,EW;i=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,$W(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>i&&(e.adler=dW(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=dW(e.adler,n.pending_buf,n.pending-i,i)),ZW(e),0!==n.pending)return n.last_flush=-1,EW;i=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,$W(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>i&&(e.adler=dW(e.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(ZW(e),0!==n.pending))return n.last_flush=-1,EW;$W(n,255&e.adler),$W(n,e.adler>>8&255),e.adler=0}if(n.status=WW,ZW(e),0!==n.pending)return n.last_flush=-1,EW}if(0!==e.avail_in||0!==n.lookahead||t!==vW&&n.status!==GW){let i=0===n.level?rG(n,t):n.strategy===RW?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(iG(e),0===e.lookahead)){if(t===vW)return 1;break}if(e.match_length=0,n=gW(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(QW(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===xW?(QW(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(QW(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===IW?((e,t)=>{let n,i,r,a;const s=e.window;for(;;){if(e.lookahead<=VW){if(iG(e),e.lookahead<=VW&&t===vW)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=e.strstart-1,i=s[r],i===s[++r]&&i===s[++r]&&i===s[++r])){a=e.strstart+VW;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);e.match_length=VW-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=gW(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=gW(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(QW(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===xW?(QW(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(QW(e,!1),0===e.strm.avail_out)?1:2})(n,t):lG[n.level].func(n,t);if(3!==i&&4!==i||(n.status=GW),1===i||3===i)return 0===e.avail_out&&(n.last_flush=-1),EW;if(2===i&&(t===bW?_W(n):t!==wW&&(mW(n,0,0,!1),t===yW&&(XW(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),ZW(e),0===e.avail_out))return n.last_flush=-1,EW}return t!==xW?EW:n.wrap<=0?SW:(2===n.wrap?($W(n,255&e.adler),$W(n,e.adler>>8&255),$W(n,e.adler>>16&255),$W(n,e.adler>>24&255),$W(n,255&e.total_in),$W(n,e.total_in>>8&255),$W(n,e.total_in>>16&255),$W(n,e.total_in>>24&255)):(eG(n,e.adler>>>16),eG(n,65535&e.adler)),ZW(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?EW:SW)},fG=(e,t)=>{let n=t.length;if(dG(e))return CW;const i=e.state,r=i.wrap;if(2===r||1===r&&i.status!==HW||i.lookahead)return CW;if(1===r&&(e.adler=lW(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(XW(i.head),i.strstart=0,i.block_start=0,i.insert=0);let e=new Uint8Array(i.w_size);e.set(t.subarray(n-i.w_size,n),0),t=e,n=i.w_size}const a=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,iG(i);i.lookahead>=3;){let e=i.strstart,t=i.lookahead-2;do{i.ins_h=JW(i,i.ins_h,i.window[e+3-1]),i.prev[e&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=e,e++}while(--t);i.strstart=e,i.lookahead=2,iG(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=s,e.input=o,e.avail_in=a,i.wrap=r,EW},gG={deflateInit:(e,t)=>pG(e,t,DW,15,8,jW),deflateInit2:pG,deflateReset:hG,deflateResetKeep:uG,deflateSetHeader:(e,t)=>dG(e)||2!==e.state.wrap?CW:(e.state.gzhead=t,EW),deflate:mG,deflateEnd:e=>{if(dG(e))return CW;const t=e.state.status;return e.state=null,t===WW?qW(e,TW):EW},deflateSetDictionary:fG,deflateInfo:"pako deflate (from Nodeca project)"};const _G=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var vG={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)_G(n,t)&&(e[t]=n[t])}}return e},flattenChunks:e=>{let t=0;for(let i=0,r=e.length;i<r;i++)t+=e[i].length;const n=new Uint8Array(t);for(let i=0,r=0,a=e.length;i<a;i++){let t=e[i];n.set(t,r),r+=t.length}return n}};let bG=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){bG=!1}const yG=new Uint8Array(256);for(let n=0;n<256;n++)yG[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;yG[254]=yG[254]=1;var xG={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,i,r,a,s=e.length,o=0;for(r=0;r<s;r++)n=e.charCodeAt(r),55296==(64512&n)&&r+1<s&&(i=e.charCodeAt(r+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),a=0,r=0;a<o;r++)n=e.charCodeAt(r),55296==(64512&n)&&r+1<s&&(i=e.charCodeAt(r+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},buf2string:(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let i,r;const a=new Array(2*n);for(r=0,i=0;i<n;){let t=e[i++];if(t<128){a[r++]=t;continue}let s=yG[t];if(s>4)a[r++]=65533,i+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&i<n;)t=t<<6|63&e[i++],s--;s>1?a[r++]=65533:t<65536?a[r++]=t:(t-=65536,a[r++]=55296|t>>10&1023,a[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&bG)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n})(a,r)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+yG[e[n]]>t?n:t}},wG=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const EG=Object.prototype.toString,{Z_NO_FLUSH:SG,Z_SYNC_FLUSH:CG,Z_FULL_FLUSH:TG,Z_FINISH:NG,Z_OK:AG,Z_STREAM_END:kG,Z_DEFAULT_COMPRESSION:RG,Z_DEFAULT_STRATEGY:IG,Z_DEFLATED:OG}=hW;function jG(e){this.options=vG.assign({level:RG,method:OG,chunkSize:16384,windowBits:15,memLevel:8,strategy:IG},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wG,this.strm.avail_out=0;let n=gG.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==AG)throw new Error(uW[n]);if(t.header&&gG.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?xG.string2buf(t.dictionary):"[object ArrayBuffer]"===EG.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=gG.deflateSetDictionary(this.strm,e),n!==AG)throw new Error(uW[n]);this._dict_set=!0}}function PG(e,t){const n=new jG(t);if(n.push(e,!0),n.err)throw n.msg||uW[n.err];return n.result}jG.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize;let r,a;if(this.ended)return!1;for(a=t===~~t?t:!0===t?NG:SG,"string"==typeof e?n.input=xG.string2buf(e):"[object ArrayBuffer]"===EG.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(a===CG||a===TG)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(r=gG.deflate(n,a),r===kG)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),r=gG.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===AG;if(0!==n.avail_out){if(a>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},jG.prototype.onData=function(e){this.chunks.push(e)},jG.prototype.onEnd=function(e){e===AG&&(this.result=vG.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var DG={Deflate:jG,deflate:PG,deflateRaw:function(e,t){return(t=t||{}).raw=!0,PG(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,PG(e,t)},constants:hW};const LG=16209;var MG=function(e,t){let n,i,r,a,s,o,l,c,d,u,h,p,m,f,g,_,v,b,y,x,w,E,S,C;const T=e.state;n=e.next_in,S=e.input,i=n+(e.avail_in-5),r=e.next_out,C=e.output,a=r-(t-e.avail_out),s=r+(e.avail_out-257),o=T.dmax,l=T.wsize,c=T.whave,d=T.wnext,u=T.window,h=T.hold,p=T.bits,m=T.lencode,f=T.distcode,g=(1<<T.lenbits)-1,_=(1<<T.distbits)-1;e:do{p<15&&(h+=S[n++]<<p,p+=8,h+=S[n++]<<p,p+=8),v=m[h&g];t:for(;;){if(b=v>>>24,h>>>=b,p-=b,b=v>>>16&255,0===b)C[r++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=m[(65535&v)+(h&(1<<b)-1)];continue t}if(32&b){T.mode=16191;break e}e.msg="invalid literal/length code",T.mode=LG;break e}y=65535&v,b&=15,b&&(p<b&&(h+=S[n++]<<p,p+=8),y+=h&(1<<b)-1,h>>>=b,p-=b),p<15&&(h+=S[n++]<<p,p+=8,h+=S[n++]<<p,p+=8),v=f[h&_];n:for(;;){if(b=v>>>24,h>>>=b,p-=b,b=v>>>16&255,!(16&b)){if(0==(64&b)){v=f[(65535&v)+(h&(1<<b)-1)];continue n}e.msg="invalid distance code",T.mode=LG;break e}if(x=65535&v,b&=15,p<b&&(h+=S[n++]<<p,p+=8,p<b&&(h+=S[n++]<<p,p+=8)),x+=h&(1<<b)-1,x>o){e.msg="invalid distance too far back",T.mode=LG;break e}if(h>>>=b,p-=b,b=r-a,x>b){if(b=x-b,b>c&&T.sane){e.msg="invalid distance too far back",T.mode=LG;break e}if(w=0,E=u,0===d){if(w+=l-b,b<y){y-=b;do{C[r++]=u[w++]}while(--b);w=r-x,E=C}}else if(d<b){if(w+=l+d-b,b-=d,b<y){y-=b;do{C[r++]=u[w++]}while(--b);if(w=0,d<y){b=d,y-=b;do{C[r++]=u[w++]}while(--b);w=r-x,E=C}}}else if(w+=d-b,b<y){y-=b;do{C[r++]=u[w++]}while(--b);w=r-x,E=C}for(;y>2;)C[r++]=E[w++],C[r++]=E[w++],C[r++]=E[w++],y-=3;y&&(C[r++]=E[w++],y>1&&(C[r++]=E[w++]))}else{w=r-x;do{C[r++]=C[w++],C[r++]=C[w++],C[r++]=C[w++],y-=3}while(y>2);y&&(C[r++]=C[w++],y>1&&(C[r++]=C[w++]))}break}}break}}while(n<i&&r<s);y=p>>3,n-=y,p-=y<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=r,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=r<s?s-r+257:257-(r-s),T.hold=h,T.bits=p};const UG=15,FG=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),BG=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),VG=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),zG=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var HG=(e,t,n,i,r,a,s,o)=>{const l=o.bits;let c,d,u,h,p,m,f=0,g=0,_=0,v=0,b=0,y=0,x=0,w=0,E=0,S=0,C=null;const T=new Uint16Array(16),N=new Uint16Array(16);let A,k,R,I=null;for(f=0;f<=UG;f++)T[f]=0;for(g=0;g<i;g++)T[t[n+g]]++;for(b=l,v=UG;v>=1&&0===T[v];v--);if(b>v&&(b=v),0===v)return r[a++]=20971520,r[a++]=20971520,o.bits=1,0;for(_=1;_<v&&0===T[_];_++);for(b<_&&(b=_),w=1,f=1;f<=UG;f++)if(w<<=1,w-=T[f],w<0)return-1;if(w>0&&(0===e||1!==v))return-1;for(N[1]=0,f=1;f<UG;f++)N[f+1]=N[f]+T[f];for(g=0;g<i;g++)0!==t[n+g]&&(s[N[t[n+g]]++]=g);if(0===e?(C=I=s,m=20):1===e?(C=FG,I=BG,m=257):(C=VG,I=zG,m=0),S=0,g=0,f=_,p=a,y=b,x=0,u=-1,E=1<<b,h=E-1,1===e&&E>852||2===e&&E>592)return 1;for(;;){A=f-x,s[g]+1<m?(k=0,R=s[g]):s[g]>=m?(k=I[s[g]-m],R=C[s[g]-m]):(k=96,R=0),c=1<<f-x,d=1<<y,_=d;do{d-=c,r[p+(S>>x)+d]=A<<24|k<<16|R}while(0!==d);for(c=1<<f-1;S&c;)c>>=1;if(0!==c?(S&=c-1,S+=c):S=0,g++,0==--T[f]){if(f===v)break;f=t[n+s[g]]}if(f>b&&(S&h)!==u){for(0===x&&(x=b),p+=_,y=f-x,w=1<<y;y+x<v&&(w-=T[y+x],!(w<=0));)y++,w<<=1;if(E+=1<<y,1===e&&E>852||2===e&&E>592)return 1;u=S&h,r[u]=b<<24|y<<16|p-a}}return 0!==S&&(r[p+S]=f-x<<24|64<<16),o.bits=b,0};const{Z_FINISH:WG,Z_BLOCK:GG,Z_TREES:qG,Z_OK:YG,Z_STREAM_END:XG,Z_NEED_DICT:KG,Z_STREAM_ERROR:JG,Z_DATA_ERROR:ZG,Z_MEM_ERROR:QG,Z_BUF_ERROR:$G,Z_DEFLATED:eq}=hW,tq=16180,nq=16190,iq=16191,rq=16192,aq=16194,sq=16199,oq=16200,lq=16206,cq=16209,dq=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function uq(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const hq=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<tq||t.mode>16211?1:0},pq=e=>{if(hq(e))return JG;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=tq,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,YG},mq=e=>{if(hq(e))return JG;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,pq(e)},fq=(e,t)=>{let n;if(hq(e))return JG;const i=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?JG:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,mq(e))},gq=(e,t)=>{if(!e)return JG;const n=new uq;e.state=n,n.strm=e,n.window=null,n.mode=tq;const i=fq(e,t);return i!==YG&&(e.state=null),i};let _q,vq,bq=!0;const yq=e=>{if(bq){_q=new Int32Array(512),vq=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(HG(1,e.lens,0,288,_q,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;HG(2,e.lens,0,32,vq,0,e.work,{bits:5}),bq=!1}e.lencode=_q,e.lenbits=9,e.distcode=vq,e.distbits=5},xq=(e,t,n,i)=>{let r;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>i&&(r=i),a.window.set(t.subarray(n-i,n-i+r),a.wnext),(i-=r)?(a.window.set(t.subarray(n-i,n),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0};var wq=(e,t)=>{let n,i,r,a,s,o,l,c,d,u,h,p,m,f,g,_,v,b,y,x,w,E,S=0;const C=new Uint8Array(4);let T,N;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(hq(e)||!e.output||!e.input&&0!==e.avail_in)return JG;n=e.state,n.mode===iq&&(n.mode=rq),s=e.next_out,r=e.output,l=e.avail_out,a=e.next_in,i=e.input,o=e.avail_in,c=n.hold,d=n.bits,u=o,h=l,E=YG;e:for(;;)switch(n.mode){case tq:if(0===n.wrap){n.mode=rq;break}for(;d<16;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,C[0]=255&c,C[1]=c>>>8&255,n.check=dW(n.check,C,2,0),c=0,d=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=cq;break}if((15&c)!==eq){e.msg="unknown compression method",n.mode=cq;break}if(c>>>=4,d-=4,w=8+(15&c),0===n.wbits&&(n.wbits=w),w>15||w>n.wbits){e.msg="invalid window size",n.mode=cq;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:iq,c=0,d=0;break;case 16181:for(;d<16;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}if(n.flags=c,(255&yH(n))!==eq){e.msg="unknown compression method",n.mode=cq;break}if(57344&yH(n)){e.msg="unknown header flags set",n.mode=cq;break}n.head&&(n.head.text=c>>8&1),512&yH(n)&&4&n.wrap&&(C[0]=255&c,C[1]=c>>>8&255,n.check=dW(n.check,C,2,0)),c=0,d=0,n.mode=16182;case 16182:for(;d<32;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}n.head&&(n.head.time=c),512&yH(n)&&4&n.wrap&&(C[0]=255&c,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,n.check=dW(n.check,C,4,0)),c=0,d=0,n.mode=16183;case 16183:for(;d<16;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&yH(n)&&4&n.wrap&&(C[0]=255&c,C[1]=c>>>8&255,n.check=dW(n.check,C,2,0)),c=0,d=0,n.mode=16184;case 16184:if(1024&yH(n)){for(;d<16;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),512&yH(n)&&4&n.wrap&&(C[0]=255&c,C[1]=c>>>8&255,n.check=dW(n.check,C,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&yH(n)&&(p=n.length,p>o&&(p=o),p&&(n.head&&(w=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(a,a+p),w)),512&yH(n)&&4&n.wrap&&(n.check=dW(n.check,i,p,a)),o-=p,a+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&yH(n)){if(0===o)break e;p=0;do{w=i[a+p++],n.head&&w&&n.length<65536&&(n.head.name+=String.fromCharCode(w))}while(w&&p<o);if(512&yH(n)&&4&n.wrap&&(n.check=dW(n.check,i,p,a)),o-=p,a+=p,w)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&yH(n)){if(0===o)break e;p=0;do{w=i[a+p++],n.head&&w&&n.length<65536&&(n.head.comment+=String.fromCharCode(w))}while(w&&p<o);if(512&yH(n)&&4&n.wrap&&(n.check=dW(n.check,i,p,a)),o-=p,a+=p,w)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&yH(n)){for(;d<16;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=cq;break}c=0,d=0}n.head&&(n.head.hcrc=yH(n)>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=iq;break;case 16189:for(;d<32;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}e.adler=n.check=dq(c),c=0,d=0,n.mode=nq;case nq:if(0===n.havedict)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=c,n.bits=d,KG;e.adler=n.check=1,n.mode=iq;case iq:if(t===GG||t===qG)break e;case rq:if(n.last){c>>>=7&d,d-=7&d,n.mode=lq;break}for(;d<3;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}switch(n.last=1&c,c>>>=1,d-=1,3&c){case 0:n.mode=16193;break;case 1:if(yq(n),n.mode=sq,t===qG){c>>>=2,d-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=cq}c>>>=2,d-=2;break;case 16193:for(c>>>=7&d,d-=7&d;d<32;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=cq;break}if(n.length=65535&c,c=0,d=0,n.mode=aq,t===qG)break e;case aq:n.mode=16195;case 16195:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),0===p)break e;r.set(i.subarray(a,a+p),s),o-=p,a+=p,l-=p,s+=p,n.length-=p;break}n.mode=iq;break;case 16196:for(;d<14;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}if(n.nlen=257+(31&c),c>>>=5,d-=5,n.ndist=1+(31&c),c>>>=5,d-=5,n.ncode=4+(15&c),c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=cq;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;d<3;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}n.lens[A[n.have++]]=7&c,c>>>=3,d-=3}for(;n.have<19;)n.lens[A[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},E=HG(0,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,E){e.msg="invalid code lengths set",n.mode=cq;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;S=n.lencode[c&(1<<n.lenbits)-1],g=S>>>24,_=S>>>16&255,v=65535&S,!(g<=d);){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}if(v<16)c>>>=g,d-=g,n.lens[n.have++]=v;else{if(16===v){for(N=g+2;d<N;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}if(c>>>=g,d-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=cq;break}w=n.lens[n.have-1],p=3+(3&c),c>>>=2,d-=2}else if(17===v){for(N=g+3;d<N;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}c>>>=g,d-=g,w=0,p=3+(7&c),c>>>=3,d-=3}else{for(N=g+7;d<N;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}c>>>=g,d-=g,w=0,p=11+(127&c),c>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=cq;break}for(;p--;)n.lens[n.have++]=w}}if(n.mode===cq)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=cq;break}if(n.lenbits=9,T={bits:n.lenbits},E=HG(1,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,E){e.msg="invalid literal/lengths set",n.mode=cq;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},E=HG(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,E){e.msg="invalid distances set",n.mode=cq;break}if(n.mode=sq,t===qG)break e;case sq:n.mode=oq;case oq:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=c,n.bits=d,MG(e,h),s=e.next_out,r=e.output,l=e.avail_out,a=e.next_in,i=e.input,o=e.avail_in,c=n.hold,d=n.bits,n.mode===iq&&(n.back=-1);break}for(n.back=0;S=n.lencode[c&(1<<n.lenbits)-1],g=S>>>24,_=S>>>16&255,v=65535&S,!(g<=d);){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}if(_&&0==(240&_)){for(b=g,y=_,x=v;S=n.lencode[x+((c&(1<<b+y)-1)>>b)],g=S>>>24,_=S>>>16&255,v=65535&S,!(b+g<=d);){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}c>>>=b,d-=b,n.back+=b}if(c>>>=g,d-=g,n.back+=g,n.length=v,0===_){n.mode=16205;break}if(32&_){n.back=-1,n.mode=iq;break}if(64&_){e.msg="invalid literal/length code",n.mode=cq;break}n.extra=15&_,n.mode=16201;case 16201:if(n.extra){for(N=n.extra;d<N;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;S=n.distcode[c&(1<<n.distbits)-1],g=S>>>24,_=S>>>16&255,v=65535&S,!(g<=d);){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}if(0==(240&_)){for(b=g,y=_,x=v;S=n.distcode[x+((c&(1<<b+y)-1)>>b)],g=S>>>24,_=S>>>16&255,v=65535&S,!(b+g<=d);){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}c>>>=b,d-=b,n.back+=b}if(c>>>=g,d-=g,n.back+=g,64&_){e.msg="invalid distance code",n.mode=cq;break}n.offset=v,n.extra=15&_,n.mode=16203;case 16203:if(n.extra){for(N=n.extra;d<N;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=cq;break}n.mode=16204;case 16204:if(0===l)break e;if(p=h-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=cq;break}p>n.wnext?(p-=n.wnext,m=n.wsize-p):m=n.wnext-p,p>n.length&&(p=n.length),f=n.window}else f=r,m=s-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do{r[s++]=f[m++]}while(--p);0===n.length&&(n.mode=oq);break;case 16205:if(0===l)break e;r[s++]=n.length,l--,n.mode=oq;break;case lq:if(n.wrap){for(;d<32;){if(0===o)break e;o--,c|=i[a++]<<d,d+=8}if(h-=l,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=yH(n)?dW(n.check,r,h,s-h):lW(n.check,r,h,s-h)),h=l,4&n.wrap&&(yH(n)?c:dq(c))!==n.check){e.msg="incorrect data check",n.mode=cq;break}c=0,d=0}n.mode=16207;case 16207:if(n.wrap&&yH(n)){for(;d<32;){if(0===o)break e;o--,c+=i[a++]<<d,d+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=cq;break}c=0,d=0}n.mode=16208;case 16208:E=XG;break e;case cq:E=ZG;break e;case 16210:return QG;default:return JG}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,n.hold=c,n.bits=d,(n.wsize||h!==e.avail_out&&n.mode<cq&&(n.mode<lq||t!==WG))&&xq(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=yH(n)?dW(n.check,r,h,e.next_out-h):lW(n.check,r,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===iq?128:0)+(n.mode===sq||n.mode===aq?256:0),(0===u&&0===h||t===WG)&&E===YG&&(E=$G),E},Eq={inflateReset:mq,inflateReset2:fq,inflateResetKeep:pq,inflateInit:e=>gq(e,15),inflateInit2:gq,inflate:wq,inflateEnd:e=>{if(hq(e))return JG;let t=e.state;return t.window&&(t.window=null),e.state=null,YG},inflateGetHeader:(e,t)=>{if(hq(e))return JG;const n=e.state;return 0==(2&n.wrap)?JG:(n.head=t,t.done=!1,YG)},inflateSetDictionary:(e,t)=>{const n=t.length;let i,r,a;return hq(e)?JG:(i=e.state,0!==i.wrap&&i.mode!==nq?JG:i.mode===nq&&(r=1,r=lW(r,t,n,0),r!==i.check)?ZG:(a=xq(e,t,n,n),a?(i.mode=16210,QG):(i.havedict=1,YG)))},inflateInfo:"pako inflate (from Nodeca project)"},Sq=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Cq=Object.prototype.toString,{Z_NO_FLUSH:Tq,Z_FINISH:Nq,Z_OK:Aq,Z_STREAM_END:kq,Z_NEED_DICT:Rq,Z_STREAM_ERROR:Iq,Z_DATA_ERROR:Oq,Z_MEM_ERROR:jq}=hW;function Pq(e){this.options=vG.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new wG,this.strm.avail_out=0;let n=Eq.inflateInit2(this.strm,t.windowBits);if(n!==Aq)throw new Error(uW[n]);if(this.header=new Sq,Eq.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=xG.string2buf(t.dictionary):"[object ArrayBuffer]"===Cq.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Eq.inflateSetDictionary(this.strm,t.dictionary),n!==Aq)))throw new Error(uW[n])}function Dq(e,t){const n=new Pq(t);if(n.push(e),n.err)throw n.msg||uW[n.err];return n.result}Pq.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(s=t===~~t?t:!0===t?Nq:Tq,"[object ArrayBuffer]"===Cq.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),a=Eq.inflate(n,s),a===Rq&&r&&(a=Eq.inflateSetDictionary(n,r),a===Aq?a=Eq.inflate(n,s):a===Oq&&(a=Rq));n.avail_in>0&&a===kq&&n.state.wrap>0&&0!==e[n.next_in];)Eq.inflateReset(n),a=Eq.inflate(n,s);switch(a){case Iq:case Oq:case Rq:case jq:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||a===kq))if("string"===this.options.to){let e=xG.utf8border(n.output,n.next_out),t=n.next_out-e,r=xG.buf2string(n.output,e);n.next_out=t,n.avail_out=i-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(r)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(a!==Aq||0!==o){if(a===kq)return a=Eq.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Pq.prototype.onData=function(e){this.chunks.push(e)},Pq.prototype.onEnd=function(e){e===Aq&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=vG.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Lq={Inflate:Pq,inflate:Dq,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Dq(e,t)},ungzip:Dq,constants:hW};const{Deflate:Mq,deflate:Uq,deflateRaw:Fq,gzip:Bq}=DG,{Inflate:Vq,inflate:zq,inflateRaw:Hq,ungzip:Wq}=Lq;var Gq=Uq,qq=zq,Yq=function(e){return e[e.ONE_BYTE=0]="ONE_BYTE",e[e.TWO_BYTE=1]="TWO_BYTE",e}(Yq||{});class Xq{constructor(){uC(this,"_sequence",0),uC(this,"_startTime",Date.now()),uC(this,"isUseOneByte",!0)}get startTime(){const e=Date.now()-this._startTime;return e<Math.pow(2,16)?e:(this._startTime+=Math.pow(2,16),this.startTime)}get sequence(){return this._sequence<Math.pow(2,32)?this._sequence++:(this._sequence-=Math.pow(2,32),this.sequence)}serialize(e){const t={commonPacketHeader:{length:0,reserved:0,extension:0,sequence:this.sequence},commonStreamHeader:this.startTime,extension:void 0,payload:e};if(e.byteLength>128){const n=new Uint8Array(4);n.set([1,0,0,0]);const i={id:0,length:4,data:n.buffer},r={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[i]};t.commonPacketHeader.extension=1,t.extension=r,t.payload=this.compress(e),t.commonPacketHeader.length=8+(t.extension.length+2)+t.payload.byteLength}else t.commonPacketHeader.length=8+t.payload.byteLength;AR("SHOW_DATASTREAM2_LOG")&&sI.debug("send data header: ".concat(JSON.stringify(t.commonPacketHeader)));const n=new ArrayBuffer(t.commonPacketHeader.length),i=new Uint8Array(n),r=new DataView(n);let a=0;if(r.setUint16(a,t.commonPacketHeader.extension<<15|t.commonPacketHeader.reserved<<14|t.commonPacketHeader.length,!0),a+=2,r.setUint32(a,t.commonPacketHeader.sequence,!0),a+=4,r.setUint16(a,t.commonStreamHeader,!0),a+=2,t.extension){const e=this.serializeExtension(t.extension);i.set(new Uint8Array(e),a),a+=e.byteLength}if(i.set(new Uint8Array(t.payload),a),a+=t.payload.byteLength,a!==t.commonPacketHeader.length)throw Error("serialize error!");return n}deserialize(e){if(e.byteLength<4)return new ArrayBuffer(0);const t=new DataView(e);let n=0;const i=t.getUint16(n,!0);n+=2;const r={length:16383&i,reserved:(16384&i)>>14,extension:(32768&i)>>15,sequence:t.getUint16(n+2,!0)<<16|t.getUint16(n,!0)};let a,s;if(n+=4,AR("SHOW_DATASTREAM2_LOG")&&sI.debug("receive data header: ".concat(JSON.stringify(r))),t.getUint16(n,!0),n+=2,r.extension){s=this.deserializeExtension(e.slice(n)),n+=2+s.length,a=e.slice(n);let t=!1;if(s.datas.length>0){const e=s.datas.find(e=>0===e.id);e&&(t=1==(1&new DataView(e.data).getUint32(0,!0)))}a=t?this.decompress(a):a}else a=e.slice(8);return a}serializeExtension(e){const{profile:t,length:n,datas:i}=e,r=new ArrayBuffer(n+2),a=new Uint8Array(r),s=new DataView(r);let o=0;if(s.setUint8(o++,t),s.setUint8(o++,n),i.forEach(e=>{t?(s.setUint8(o++,e.id),s.setUint8(o++,e.length),a.set(new Uint8Array(e.data),o),o+=e.data.byteLength):(s.setUint8(o++,e.id|e.length<<4),a.set(new Uint8Array(e.data),o),o+=e.data.byteLength)}),o!==n+2)throw Error("serialize extension error, is ".concat(o,"!==").concat(n+2));return r}deserializeExtension(e){const t=new DataView(e);let n=0;const i=t.getUint8(n);n++;const r=t.getUint8(n);n++;const a=i===Yq.TWO_BYTE,s=[],o=new DataView(e,2);let l=0;for(;l<r;){let e=0,t=0,n=new ArrayBuffer(0);a?(e=o.getUint8(l),l++,t=o.getUint8(l),l++):(e=15&o.getUint8(l),t=o.getUint8(l)>>4,l++),t>0&&(n=o.buffer.slice(l+2,l+2+t),l+=n.byteLength),s.push({id:e,length:t,data:n})}if(l!==r)throw Error("parse error");return{profile:i,length:r,datas:s}}decompress(e){return qq(new Uint8Array(e))}compress(e){return Gq(new Uint8Array(e))}}const Kq={name:"DataStream",create:(e,t)=>{const n=t?new eD(e):new tD(e);return n.useDataStream(new Xq),n}};class Jq extends WA{constructor(e,t,n){super(),uC(this,"ws",void 0),uC(this,"requestId",1),uC(this,"heartBeatTimer",void 0),uC(this,"joinInfo",void 0),uC(this,"clientId",void 0),uC(this,"onOpen",()=>{this.emit("open"),this.startHeartBeatCheck()}),uC(this,"onClose",e=>{this.emit("close"),this.dispose()}),uC(this,"onMessage",e=>{const t=JSON.parse(e.data);if(!t||"serverResponse"!==t.command||!t.requestId)return t&&"serverStatus"===t.command&&t.serverStatus&&t.serverStatus.command?(this.emit("status",t.serverStatus),void this.emit(t.serverStatus.command,t.serverStatus)):void 0;this.emit("req_".concat(t.requestId),t)}),this.joinInfo=e,this.clientId=t,this.ws=new JM("cross-channel-".concat(this.clientId),n),this.ws.on(VL.RECONNECTING,()=>{this.ws.reconnectMode="retry",this.emit("reconnecting")}),this.ws.on(VL.CONNECTED,this.onOpen),this.ws.on(VL.ON_MESSAGE,this.onMessage),this.ws.on(VL.CLOSED,this.onClose)}isConnect(){return"connected"===this.ws.state}sendMessage(e){const t=this.requestId++;return e.requestId=t,e.seq=t,this.ws.sendMessage(e),t}waitStatus(e){return new np((t,n)=>{const i=window.setTimeout(()=>{n(new fI(AA.TIMEOUT,"wait status timeout, status: ".concat(e)))},5e3);this.once(e,r=>{window.clearTimeout(i),r.state&&0!==r.state?n(new fI(AA.CROSS_CHANNEL_WAIT_STATUS_ERROR,"wait status error, status: ".concat(e))):t(void 0)}),this.once("dispose",()=>{window.clearTimeout(i),n(new fI(AA.WS_ABORT))})})}async request(e){if("closed"===this.ws.state)throw new fI(AA.WS_DISCONNECT);const t=()=>new np((e,t)=>{this.ws.once(VL.CLOSED,()=>t(new fI(AA.WS_ABORT))),this.ws.once(VL.CONNECTED,e)});"connected"!==this.ws.state&&await t();const n=this.sendMessage(e),i=new np((e,t)=>{const i=()=>{t(new fI(AA.WS_ABORT))};this.ws.once(VL.RECONNECTING,i),this.ws.once(VL.CLOSED,i),this.once("req_".concat(n),e),Sk(3e3).then(()=>{this.removeAllListeners("req_".concat(n)),this.ws.off(VL.RECONNECTING,i),this.ws.off(VL.CLOSED,i),t(new fI(AA.TIMEOUT,"cross channel ws request timeout"))})}),r=await i;if(!r||200!==r.code)throw new fI(AA.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,"response: ".concat(JSON.stringify(r)));return r}async connect(e){this.ws.removeAllListeners(VL.REQUEST_NEW_URLS),this.ws.on(VL.REQUEST_NEW_URLS,t=>{t(e)}),await this.ws.init(e)}dispose(){this.clearHeartBeatCheck(),this.emit("dispose"),this.removeAllListeners(),this.ws.close()}sendPing(e){const t=this.requestId++;return e.requestId=t,this.ws.sendMessage(e),t}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval(()=>{this.sendPing({command:"ping",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})},3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class Zq extends WA{set state(e){e!==this._state&&(e!==tM.RELAY_STATE_FAILURE&&(this.errorCode=nM.RELAY_OK),this.emit("state",e,this.errorCode),this._state=e)}get state(){return this._state}constructor(e,t,n,i,r){super(),uC(this,"joinInfo",void 0),uC(this,"sid",void 0),uC(this,"clientId",void 0),uC(this,"cancelToken",LN.CancelToken.source()),uC(this,"workerToken",void 0),uC(this,"requestId",0),uC(this,"signal",void 0),uC(this,"prevChannelMediaConfig",void 0),uC(this,"httpRetryConfig",void 0),uC(this,"_resolution",void 0),uC(this,"_state",tM.RELAY_STATE_IDLE),uC(this,"errorCode",nM.RELAY_OK),uC(this,"onStatus",e=>{sI.debug("[".concat(this.clientId,"] ChannelMediaStatus: ").concat(JSON.stringify(e))),e&&e.command&&("onAudioPacketReceived"===e.command&&this.emit("event",eM.PACKET_RECEIVED_AUDIO_FROM_SRC),"onVideoPacketReceived"===e.command&&this.emit("event",eM.PACKET_RECEIVED_VIDEO_FROM_SRC),"onSrcTokenPrivilegeDidExpire"===e.command&&(this.errorCode=nM.SRC_TOKEN_EXPIRED,this.state=tM.RELAY_STATE_FAILURE),"onDestTokenPrivilegeDidExpire"===e.command&&(this.errorCode=nM.DEST_TOKEN_EXPIRED,this.state=tM.RELAY_STATE_FAILURE))}),uC(this,"onReconnect",async()=>{sI.debug("[".concat(this.clientId,"] ChannelMediaSocket disconnect, reconnecting")),this.emit("event",eM.NETWORK_DISCONNECTED),this.state=tM.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch(e=>{this.state!==tM.RELAY_STATE_IDLE&&(sI.error("auto restart channel media relay failed",e.toString()),this.errorCode=nM.SERVER_CONNECTION_LOST,this.state=tM.RELAY_STATE_FAILURE)})}),this.joinInfo=e,this.clientId=t,this.sid=Tk(),this.signal=new Jq(this.joinInfo,this.clientId,n),this.httpRetryConfig=i,this._resolution=r}async startChannelMediaRelay(e){if(this.state!==tM.RELAY_STATE_IDLE)throw new fI(AA.INVALID_OPERATION);this.state=tM.RELAY_STATE_CONNECTING,await this.connect(),sI.debug("[".concat(this.clientId,"] startChannelMediaRelay: connect success"));try{await this.sendStartRelayMessage(e)}catch(e){if(e.data&&e.data.serverResponse&&"SetSourceChannel"===e.data.serverResponse.command)throw new fI(AA.CROSS_CHANNEL_FAILED_JOIN_SRC);if(e.data&&e.data.serverResponse&&"SetDestChannelStatus"===e.serverResponse.command)throw new fI(AA.CROSS_CHANNEL_FAILED_JOIN_DEST);if(e.data&&e.data.serverResponse&&"StartPacketTransfer"===e.serverResponse.command)throw new fI(AA.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);throw e}this.prevChannelMediaConfig=e}async updateChannelMediaRelay(e){if(this.state!==tM.RELAY_STATE_RUNNING)throw new fI(AA.INVALID_OPERATION);await this.sendUpdateMessage(e),this.prevChannelMediaConfig=e}async setVideoProfile(e){if(this._resolution=e,this.state!==tM.RELAY_STATE_RUNNING)throw new fI(AA.INVALID_OPERATION);const t=this.genMessage($L.SetVideoProfile);await this.signal.request(t),sI.debug("[".concat(this.clientId,"] startChannelMediaRelay: setVideoProfile success"))}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),sI.debug("[".concat(this.clientId,"] stopChannelMediaRelay: send stop message success")),this.state=tM.RELAY_STATE_IDLE,this.dispose()}dispose(){sI.debug("[".concat(this.clientId,"] disposeChannelMediaRelay")),this.cancelToken.cancel(),this.cancelToken=LN.CancelToken.source(),this.state=tM.RELAY_STATE_IDLE,this.emit("dispose"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const e=await FF(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=e.workerToken,await this.signal.connect(e.addressList),this.emit("event",eM.NETWORK_CONNECTED),this.signal.on("status",this.onStatus),this.signal.on("reconnecting",this.onReconnect)}async sendStartRelayMessage(e){const t=this.genMessage($L.StopPacketTransfer);await this.signal.request(t),await this.signal.waitStatus("Normal Quit"),sI.debug("[".concat(this.clientId,"] startChannelMediaRelay: StopPacketTransfer success"));const n=this.genMessage($L.SetSdkProfile,e);await this.signal.request(n),sI.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSdkProfile success"));const i=this.genMessage($L.SetSourceChannel,e);await this.signal.request(i),await this.signal.waitStatus("SetSourceChannelStatus"),this.emit("event",eM.PACKET_JOINED_SRC_CHANNEL),sI.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceChannel success"));const r=this.genMessage($L.SetSourceUserId,e);await this.signal.request(r),sI.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceUserId success"));const a=this.genMessage($L.SetDestChannel,e);await this.signal.request(a),await this.signal.waitStatus("SetDestChannelStatus"),this.emit("event",eM.PACKET_JOINED_DEST_CHANNEL),sI.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetDestChannel success"));const s=this.genMessage($L.StartPacketTransfer,e);await this.signal.request(s),this.emit("event",eM.PACKET_SENT_TO_DEST_CHANNEL),this.state=tM.RELAY_STATE_RUNNING,sI.debug("[".concat(this.clientId,"] startChannelMediaRelay: StartPacketTransfer success")),this.setVideoProfile(this._resolution)}async sendUpdateMessage(e){const t=this.genMessage($L.UpdateDestChannel,e);await this.signal.request(t),this.emit("event",eM.PACKET_UPDATE_DEST_CHANNEL),sI.debug("[".concat(this.clientId,"] sendUpdateMessage: UpdateDestChannel success"))}async sendStopRelayMessage(){const e=this.genMessage($L.StopPacketTransfer);await this.signal.request(e),sI.debug("[".concat(this.clientId,"] sendStopRelayMessage: StopPacketTransfer success"))}genMessage(e,t){const n=[],i=[],r=[];this.requestId+=1;const a={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:vR,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};"4.24.0"===a.sdkVersion&&(a.sdkVersion="0.0.1");let s=null,o=null;switch(e){case $L.SetSdkProfile:return a.clientRequest={command:"SetSdkProfile",type:"multi_channel"},a;case $L.SetSourceChannel:if(o=t&&t.getSrcChannelMediaInfo(),!o)throw new fI(AA.UNEXPECTED_ERROR,"can not find source config");return a.clientRequest={command:"SetSourceChannel",uid:"0",channelName:o.channelName,token:o.token||this.joinInfo.appId},a;case $L.SetSourceUserId:if(o=t&&t.getSrcChannelMediaInfo(),!o)throw new fI(AA.UNEXPECTED_ERROR,"can not find source config");return a.clientRequest={command:"SetSourceUserId",uid:o.uid+""},a;case $L.SetDestChannel:if(s=t&&t.getDestChannelMediaInfo(),!s)throw new fI(AA.UNEXPECTED_ERROR,"can not find dest config");return s.forEach(e=>{n.push(e.channelName),i.push(e.uid+""),r.push(e.token||this.joinInfo.appId)}),a.clientRequest={command:"SetDestChannel",channelName:n,uid:i,token:r},a;case $L.StartPacketTransfer:return a.clientRequest={command:"StartPacketTransfer"},a;case $L.Reconnect:return a.clientRequest={command:"Reconnect"},a;case $L.StopPacketTransfer:return a.clientRequest={command:"StopPacketTransfer"},a;case $L.UpdateDestChannel:if(s=t&&t.getDestChannelMediaInfo(),!s)throw new fI(AA.UNEXPECTED_ERROR,"can not find dest config");return s.forEach(e=>{n.push(e.channelName),i.push(e.uid+""),r.push(e.token||this.joinInfo.appId)}),a.clientRequest={command:"UpdateDestChannel",channelName:n,uid:i,token:r},a;case $L.SetVideoProfile:a.clientRequest={command:"SetVideoProfile",width:this._resolution.width,height:this._resolution.height}}return a}}const Qq={name:"ChannelMediaRelay",create:function(e){return new Zq(e.joinInfo,e.clientId,e.websocketRetryConfig||Bk,e.httpRetryConfig||Bk,e.resolution)}};function $q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$q(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}class tY extends WA{constructor(e,t,n,i){super(),uC(this,"spec",void 0),uC(this,"token",void 0),uC(this,"websocket",void 0),uC(this,"pingpongTimer",void 0),uC(this,"reconnectMode","retry"),uC(this,"serviceMode",void 0),uC(this,"reqId",0),uC(this,"commandReqId",0),uC(this,"handleWebSocketOpen",()=>{this.reconnectMode="retry",this.startPingPong()}),uC(this,"handleWebSocketMessage",e=>{if(!e.data)return;const t=JSON.parse(e.data);t.requestId?this.emit("@".concat(t.requestId,"-").concat(t.sid),t):(mI.workerEvent(this.spec.sid,{actionType:"status",serverCode:t.code,workerType:this.serviceMode===WL.TRANSCODE?1:2}),this.emit(KL.PUBLISH_STREAM_STATUS,t))}),this.spec=t,this.token=e,this.serviceMode=i,this.websocket=new JM("live-streaming",n),this.websocket.on(VL.CONNECTED,this.handleWebSocketOpen),this.websocket.on(VL.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(VL.REQUEST_NEW_URLS,(e,t)=>{ak(this,KL.REQUEST_NEW_ADDRESS).then(e).catch(t)}),this.websocket.on(VL.RECONNECTING,()=>{this.websocket.reconnectMode=this.reconnectMode})}init(e){return this.websocket.init(e)}async request(e,t,n,i){this.reqId+=1,"request"===e&&(this.commandReqId+=1);const r=this.commandReqId,a=this.reqId;if(!a||!this.websocket)throw new fI(AA.UNEXPECTED_ERROR);const s=eY({command:e,sdkVersion:"4.24.0"===vR?"0.0.1":vR,seq:a,requestId:a,allocate:n,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t);if("closed"===this.websocket.state)throw new fI(AA.WS_DISCONNECT);const o=()=>new np((e,t)=>{this.websocket.once(VL.CLOSED,()=>t(new fI(AA.WS_ABORT))),this.websocket.once(VL.CONNECTED,e)});"connected"!==this.websocket.state&&await o(),s.clientRequest&&(s.clientRequest.workerToken=this.token);const l=new np((e,t)=>{const n=()=>{t(new fI(AA.WS_ABORT))};this.websocket.once(VL.RECONNECTING,n),this.websocket.once(VL.CLOSED,n),this.once("@".concat(a,"-").concat(this.spec.sid),t=>{e(t)})});i&&mI.workerEvent(this.spec.sid,eY(eY({},i),{},{requestId:r,actionType:"request",payload:JSON.stringify(t.clientRequest),serverCode:0,code:0}));const c=Date.now();this.websocket.sendMessage(s);let d=null;try{d=await l}catch(i){if("closed"===this.websocket.state)throw i;return await o(),await this.request(e,t,n)}return i&&mI.workerEvent(this.spec.sid,eY(eY({},i),{},{requestId:r,actionType:"response",payload:JSON.stringify(d.serverResponse),serverCode:d.code,success:200===d.code,responseTime:Date.now()-c})),200!==d.code&&this.handleResponseError(d),d}tryNextAddress(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")}close(){const e="4.24.0"===vR?"0.0.1":vR;this.reqId+=1,"connected"===this.websocket.state?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(e){switch(e.code){case ZL.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void sI.warning("live stream response already exists stream");case ZL.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case ZL.LIVE_STREAM_RESPONSE_BAD_STREAM:case ZL.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new fI(AA.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:e.code}).throw();case ZL.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if("UnpublishStream"===e.serverResponse.command)return;throw new fI(AA.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case ZL.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new fI(AA.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:e.code}).throw();case ZL.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const t=new fI(AA.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(KL.WARNING,t,e.serverResponse.url)}case ZL.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const t=new fI(AA.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(KL.WARNING,t,e.serverResponse.url)}case ZL.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new fI(AA.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case ZL.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new fI(AA.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,"",{code:e.code}).throw();case ZL.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const t=new fI(AA.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(KL.WARNING,t,e.serverResponse.url)}case ZL.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new fI(AA.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code}).throw();case ZL.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new fI(AA.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case ZL.LIVE_STREAM_RESPONSE_WORKER_LOST:case ZL.LIVE_STREAM_RESPONSE_WORKER_QUIT:if("UnpublishStream"===e.serverResponse.command)return;throw new fI(AA.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case ZL.ERROR_FAIL_SEND_MESSAGE:if("UnpublishStream"===e.serverResponse.command)return;if("UpdateTranscoding"===e.serverResponse.command||"ControlStream"===e.serverResponse.command)return new fI(AA.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:e.code}).throw();throw new fI(AA.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case ZL.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case ZL.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case ZL.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case ZL.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new fI(AA.LIVE_STREAMING_CDN_ERROR,"",{code:e.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(()=>{"connected"===this.websocket.state&&this.request("ping",{}).catch(Nk)},6e3)}}function nY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function iY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nY(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}class rY extends WA{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bk,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bk;super(),uC(this,"onLiveStreamWarning",void 0),uC(this,"onLiveStreamError",void 0),uC(this,"spec",void 0),uC(this,"retryTimeout",1e4),uC(this,"connection",void 0),uC(this,"httpRetryConfig",void 0),uC(this,"wsRetryConfig",void 0),uC(this,"streamingTasks",new Map),uC(this,"isStartingStreamingTask",!1),uC(this,"taskMutex",new Uk("live-streaming")),uC(this,"cancelToken",LN.CancelToken.source()),uC(this,"transcodingConfig",void 0),uC(this,"uapResponse",void 0),uC(this,"lastTaskId",1),uC(this,"statusError",new Map),this.spec=e,this.httpRetryConfig=n,this.wsRetryConfig=t}async setTranscodingConfig(e){const t=iY(iY({},XL),e);66!==t.videoCodecProfile&&77!==t.videoCodecProfile&&100!==t.videoCodecProfile&&(sI.debug("[".concat(this.spec.clientId,"] set transcoding config, fix video codec profile: ").concat(t.videoCodecProfile," -> 100")),t.videoCodecProfile=100),t.transcodingUsers||(t.transcodingUsers=t.userConfigs),t.transcodingUsers&&(t.transcodingUsers=t.transcodingUsers.map(e=>iY(iY(iY({},GL),e),{},{zOrder:e.zOrder?e.zOrder+1:1}))),function(e){LA(e.width)||OA(e.width,"config.width",0,1e4),LA(e.height)||OA(e.height,"config.height",0,1e4),LA(e.videoBitrate)||OA(e.videoBitrate,"config.videoBitrate",1,1e6),LA(e.videoFrameRate)||OA(e.videoFrameRate,"config.videoFrameRate"),LA(e.lowLatency)||RA(e.lowLatency,"config.lowLatency"),LA(e.audioSampleRate)||IA(e.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),LA(e.audioBitrate)||OA(e.audioBitrate,"config.audioBitrate",1,128),LA(e.audioChannels)||IA(e.audioChannels,"config.audioChannels",[1,2,3,4,5]),LA(e.videoGop)||OA(e.videoGop,"config.videoGop"),LA(e.videoCodecProfile)||IA(e.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),LA(e.userCount)||OA(e.userCount,"config.userCount",0,17),LA(e.backgroundColor)||OA(e.backgroundColor,"config.backgroundColor",0,16777215),LA(e.userConfigExtraInfo)||PA(e.userConfigExtraInfo,"config.userConfigExtraInfo",0,4096,!1),e.transcodingUsers&&!LA(e.transcodingUsers)&&(DA(e.transcodingUsers,"config.transcodingUsers"),e.transcodingUsers.forEach((e,t)=>{HL(e.uid),LA(e.x)||OA(e.x,"transcodingUser[".concat(t,"].x"),0,1e4),LA(e.y)||OA(e.y,"transcodingUser[".concat(t,"].y"),0,1e4),LA(e.width)||OA(e.width,"transcodingUser[".concat(t,"].width"),0,1e4),LA(e.height)||OA(e.height,"transcodingUser[".concat(t,"].height"),0,1e4),LA(e.zOrder)||OA(e.zOrder-1,"transcodingUser[".concat(t,"].zOrder"),0,100),LA(e.alpha)||OA(e.alpha,"transcodingUser[".concat(t,"].alpha"),0,1,!1)})),LA(e.watermark)||YL(e.watermark,"watermark"),LA(e.backgroundImage)||YL(e.backgroundImage,"backgroundImage"),e.images&&!LA(e.images)&&(DA(e.images,"config.images"),e.images.forEach((e,t)=>{YL(e,"images[".concat(t,"]"))}))}(t);const n=[];t.images&&n.push(...t.images.map(e=>iY(iY(iY({},qL),e),{},{zOrder:255}))),t.backgroundImage&&(n.push(iY(iY(iY({},qL),t.backgroundImage),{},{zOrder:0})),delete t.backgroundImage),t.watermark&&(n.push(iY(iY(iY({},qL),t.watermark),{},{zOrder:255})),delete t.watermark),t.images=n,t.transcodingUsers&&(t.userConfigs=t.transcodingUsers.map(e=>iY({},e)),t.userCount=t.transcodingUsers.length,delete t.transcodingUsers);const i=(t.userConfigs||[]).map(e=>"number"==typeof e.uid?np.resolve(e.uid):PF(e.uid,this.spec,this.cancelToken.token,this.httpRetryConfig));if((await np.all(i)).forEach((e,n)=>{t.userConfigs&&t.userConfigs[n]&&(t.userConfigs[n].uid=e)}),this.transcodingConfig=t,this.connection)try{var r;const e=await this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(up(r=this.streamingTasks).call(r)).map(e=>e.taskId).join("#")});sI.debug("[".concat(this.spec.clientId,"] update live transcoding config success, code: ").concat(e.code,", config:"),JSON.stringify(this.transcodingConfig))}catch(e){if(!e.data||!e.data.retry)throw e;e.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach(t=>{sI.warning("[".concat(this.spec.clientId,"] live streaming receive error"),e.toString(),"try to republish",t.url),this.startLiveStreamingTask(t.url,t.mode,e).then(()=>{sI.debug("[".concat(this.spec.clientId,"] live streaming republish ").concat(t.url," success"))}).catch(e=>{sI.error("[".concat(this.spec.clientId,"] live streaming republish failed"),t.url,e.toString()),this.onLiveStreamError&&this.onLiveStreamError(t.url,e)})})}}async startLiveStreamingTask(e,t,n){if(!this.transcodingConfig&&t===WL.TRANSCODE)throw new fI(AA.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");const i={command:"PublishStream",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};sI.debug("[".concat(this.spec.clientId,"] start live streaming ").concat(e,", mode: ").concat(t));const r=await this.taskMutex.lock();if(!this.connection&&n)return void r();if(this.streamingTasks.get(e)&&!n)return r(),new fI(AA.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(t))}catch(e){throw r(),e}switch(t){case WL.TRANSCODE:i.transcodingConfig=iY({},this.transcodingConfig);case WL.RAW:}this.uapResponse&&this.uapResponse.vid&&(i.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const a=this.lastTaskId++;try{const s=new np((t,i)=>{Sk(this.retryTimeout).then(()=>{if(n)return i(n);const t=this.statusError.get(e);return t?(this.statusError.delete(e),i(t)):void 0})}),o=await np.race([this.connection.request("request",{clientRequest:i},!0,{url:e,command:"PublishStream",workerType:t===WL.TRANSCODE?1:2,requestByUser:!n,tid:a.toString()}),s]);this.isStartingStreamingTask=!1,sI.debug("[".concat(this.spec.clientId,"] live streaming started, code: ").concat(o.code)),this.streamingTasks.set(e,{clientRequest:i,mode:t,url:e,taskId:a}),r()}catch(i){if(r(),this.isStartingStreamingTask=!1,!i.data||!i.data.retry||n)throw i;return i.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(e,t,i)):await this.startLiveStreamingTask(e,t,i)}}stopLiveStreamingTask(e){return new np((t,n)=>{const i=this.streamingTasks.get(e);if(!i||!this.connection)return new fI(AA.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();const r=i.mode;i.abortTask=()=>{sI.debug("[".concat(this.spec.clientId,"] stop live streaming success(worker exception)")),this.streamingTasks.delete(e),t()},this.connection.request("request",{clientRequest:{command:"UnpublishStream",url:i.url}},!1,{url:e,command:"UnPublishStream",workerType:r===WL.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then(n=>{sI.debug("[".concat(this.spec.clientId,"] stop live streaming success, code: ").concat(n.code)),this.streamingTasks.delete(e),0===this.streamingTasks.size&&(this.connection&&this.connection.close(),this.connection=void 0),t()}).catch(n)})}resetAllTask(){var e;const t=Array.from(up(e=this.streamingTasks).call(e));this.terminate();for(const n of t)this.startLiveStreamingTask(n.url,n.mode).catch(e=>{this.onLiveStreamError&&this.onLiveStreamError(n.url,e)})}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=LN.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(e){if(this.connection)throw new fI(AA.UNEXPECTED_ERROR,"live streaming connection has already connected");const t=await ak(this,JL.REQUEST_WORKER_MANAGER_LIST,e);return this.uapResponse=t,this.connection=new tY(t.workerToken,this.spec,this.wsRetryConfig,e),this.connection.on(KL.WARNING,(e,t)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e)),this.connection.on(KL.PUBLISH_STREAM_STATUS,e=>this.handlePublishStreamServer(e)),this.connection.on(KL.REQUEST_NEW_ADDRESS,(t,n)=>{if(!this.connection)return n(new fI(AA.UNEXPECTED_ERROR,"can not get new live streaming address list"));ak(this,JL.REQUEST_WORKER_MANAGER_LIST,e).then(e=>{this.uapResponse=e,t(e.addressList)}).catch(n)}),await this.connection.init(t.addressList),this.connection}handlePublishStreamServer(e){const t=e.serverStatus&&e.serverStatus.url||"empty_url",n=this.streamingTasks.get(t),i=e.reason;switch(e.code){case ZL.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case ZL.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case ZL.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case ZL.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const i=new fI(AA.LIVE_STREAMING_CDN_ERROR,"",{code:e.code});if(n)return sI.error(i.toString()),this.onLiveStreamError&&this.onLiveStreamError(t,i);if(!this.isStartingStreamingTask)return;this.statusError.set(t,i)}case ZL.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const e=new fI(AA.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,i);return this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e)}case ZL.LIVE_STREAM_RESPONSE_WORKER_LOST:case ZL.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var r;if(!this.connection)return;this.connection.tryNextAddress();const t=Array.from(up(r=this.streamingTasks).call(r));for(const n of t)n.abortTask?n.abortTask():(sI.warning("[".concat(this.spec.clientId,"] publish stream status code"),e.code,"try to republish",n.url),this.startLiveStreamingTask(n.url,n.mode,new fI(AA.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:e.code})).then(()=>{sI.debug("[".concat(this.spec.clientId,"] republish live stream success"),n.url)}).catch(e=>{sI.error(e.toString()),this.onLiveStreamError&&this.onLiveStreamError(n.url,e)}));return}}}hasUrl(e){return this.streamingTasks.has(e)}}const aY={name:"LiveStreaming",create:function(e){return new rY(e.joinInfo,e.websocketRetryConfig||Bk,e.httpRetryConfig||Bk)}};function sY(e){let t=_Y();return function(e,t){let n=e.appId;void 0!==n&&(IY(t,10),SY(t,n));let i=e.cid;void 0!==i&&(IY(t,16),IY(t,i));let r=e.cname;void 0!==r&&(IY(t,26),SY(t,r));let a=e.deviceId;void 0!==a&&(IY(t,34),SY(t,a));let s=e.elapse;void 0!==s&&(IY(t,40),OY(t,s));let o=e.fileSize;void 0!==o&&(IY(t,48),OY(t,fY(o)));let l=e.height;void 0!==l&&(IY(t,56),OY(t,fY(l)));let c=e.jpg;void 0!==c&&(IY(t,66),IY(t,c.length),function(e,t){let n=xY(e,t.length);e.bytes.set(t,n)}(t,c));let d=e.networkType;void 0!==d&&(IY(t,72),OY(t,fY(d)));let u=e.osType;void 0!==u&&(IY(t,80),OY(t,fY(u)));let h=e.requestId;void 0!==h&&(IY(t,90),SY(t,h));let p=e.sdkVersion;void 0!==p&&(IY(t,98),SY(t,p));let m=e.sequence;void 0!==m&&(IY(t,104),OY(t,fY(m)));let f=e.sid;void 0!==f&&(IY(t,114),SY(t,f));let g=e.timestamp;void 0!==g&&(IY(t,120),OY(t,g));let _=e.uid;void 0!==_&&(IY(t,128),IY(t,_));let v=e.vid;void 0!==v&&(IY(t,136),IY(t,v));let b=e.width;void 0!==b&&(IY(t,144),OY(t,fY(b)));let y=e.service;void 0!==y&&(IY(t,152),IY(t,y));let x=e.callbackData;void 0!==x&&(IY(t,162),SY(t,x));let w=e.jpgEncryption;void 0!==w&&(IY(t,168),IY(t,w));let E=e.requestType;void 0!==E&&(IY(t,176),IY(t,E));let S=e.scorePorn;void 0!==S&&(IY(t,185),kY(t,S));let C=e.scoreSexy;void 0!==C&&(IY(t,193),kY(t,C));let T=e.scoreNeutral;void 0!==T&&(IY(t,201),kY(t,T));let N=e.scene;void 0!==N&&(IY(t,208),IY(t,N));let A=e.ossFilePrefix;void 0!==A&&(IY(t,218),SY(t,A));let k=e.serviceVendor;if(void 0!==k)for(let R of k){IY(t,226);let e=_Y();cY(R,e),IY(t,e.limit),CY(t,e),vY(e)}}(e,t),function(e){let t=e.bytes,n=e.limit;return t.length===n?t:t.subarray(0,n)}(t)}function oY(e){return function(e){let t={};e:for(;!yY(e);){let n=RY(e);switch(n>>>3){case 0:break e;case 1:t.code=RY(e);break;case 2:t.msg=EY(e,RY(e));break;case 3:{let n=dY(e);t.data=lY(e),e.limit=n;break}default:uY(e,7&n)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function lY(e){let t={};e:for(;!yY(e);){let n=RY(e);switch(n>>>3){case 0:break e;case 1:t.requestId=EY(e,RY(e));break;case 2:t.requestType=RY(e)>>>0;break;case 3:t.scorePorn=AY(e);break;case 4:t.scoreSexy=AY(e);break;case 5:t.scoreNeutral=AY(e);break;case 6:t.requestScene=RY(e)>>>0;break;case 7:t.scene=RY(e)>>>0;break;default:uY(e,7&n)}}return t}function cY(e,t){let n=e.service;void 0!==n&&(IY(t,8),IY(t,n));let i=e.vendor;void 0!==i&&(IY(t,16),IY(t,i));let r=e.token;void 0!==r&&(IY(t,26),SY(t,r));let a=e.callbackUrl;void 0!==a&&(IY(t,34),SY(t,a))}function dY(e){let t=RY(e),n=e.limit;return e.limit=e.offset+t,n}function uY(e,t){switch(t){case 0:for(;128&TY(e););break;case 2:bY(e,RY(e));break;case 5:bY(e,4);break;case 1:bY(e,8);break;default:throw new Error("Unimplemented type: "+t)}}let hY=new Float32Array(1);new Uint8Array(hY.buffer);let pY=new Float64Array(1),mY=new Uint8Array(pY.buffer);function fY(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let gY=[];function _Y(){const e=gY.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function vY(e){gY.push(e)}function bY(e,t){if(e.offset+t>e.limit)throw new Error("Skip past limit");e.offset+=t}function yY(e){return e.offset>=e.limit}function xY(e,t){let n=e.bytes,i=e.offset,r=e.limit,a=i+t;if(a>n.length){let t=new Uint8Array(2*a);t.set(n),e.bytes=t}return e.offset=a,a>r&&(e.limit=a),i}function wY(e,t){let n=e.offset;if(n+t>e.limit)throw new Error("Read past limit");return e.offset+=t,n}function EY(e,t){let n=wY(e,t),i=String.fromCharCode,r=e.bytes,a="\ufffd",s="";for(let o=0;o<t;o++){let e,l,c,d,u=r[o+n];0==(128&u)?s+=i(u):192==(224&u)?o+1>=t?s+=a:(e=r[o+n+1],128!=(192&e)?s+=a:(d=(31&u)<<6|63&e,d<128?s+=a:(s+=i(d),o++))):224==(240&u)?o+2>=t?s+=a:(e=r[o+n+1],l=r[o+n+2],32896!=(49344&(e|l<<8))?s+=a:(d=(15&u)<<12|(63&e)<<6|63&l,d<2048||d>=55296&&d<=57343?s+=a:(s+=i(d),o+=2))):240==(248&u)?o+3>=t?s+=a:(e=r[o+n+1],l=r[o+n+2],c=r[o+n+3],8421504!=(12632256&(e|l<<8|c<<16))?s+=a:(d=(7&u)<<18|(63&e)<<12|(63&l)<<6|63&c,d<65536||d>1114111?s+=a:(d-=65536,s+=i(55296+(d>>10),56320+(1023&d)),o+=3))):s+=a}return s}function SY(e,t){let n=t.length,i=0;for(let s=0;s<n;s++){let e=t.charCodeAt(s);e>=55296&&e<=56319&&s+1<n&&(e=(e<<10)+t.charCodeAt(++s)-56613888),i+=e<128?1:e<2048?2:e<65536?3:4}IY(e,i);let r=xY(e,i),a=e.bytes;for(let s=0;s<n;s++){let e=t.charCodeAt(s);e>=55296&&e<=56319&&s+1<n&&(e=(e<<10)+t.charCodeAt(++s)-56613888),e<128?a[r++]=e:(e<2048?a[r++]=e>>6&31|192:(e<65536?a[r++]=e>>12&15|224:(a[r++]=e>>18&7|240,a[r++]=e>>12&63|128),a[r++]=e>>6&63|128),a[r++]=63&e|128)}}function CY(e,t){let n=xY(e,t.limit),i=e.bytes,r=t.bytes;for(let a=0,s=t.limit;a<s;a++)i[a+n]=r[a]}function TY(e){return e.bytes[wY(e,1)]}function NY(e,t){let n=xY(e,1);e.bytes[n]=t}function AY(e){let t=wY(e,8),n=e.bytes;return mY[0]=n[t++],mY[1]=n[t++],mY[2]=n[t++],mY[3]=n[t++],mY[4]=n[t++],mY[5]=n[t++],mY[6]=n[t++],mY[7]=n[t++],pY[0]}function kY(e,t){let n=xY(e,8),i=e.bytes;pY[0]=t,i[n++]=mY[0],i[n++]=mY[1],i[n++]=mY[2],i[n++]=mY[3],i[n++]=mY[4],i[n++]=mY[5],i[n++]=mY[6],i[n++]=mY[7]}function RY(e){let t,n=0,i=0;do{t=TY(e),n<32&&(i|=(127&t)<<n),n+=7}while(128&t);return i}function IY(e,t){for(t>>>=0;t>=128;)NY(e,127&t|128),t>>>=7;NY(e,t)}function OY(e,t){let n=t.low>>>0,i=(t.low>>>28|t.high<<4)>>>0,r=t.high>>>24,a=0===r?0===i?n<16384?n<128?1:2:n<1<<21?3:4:i<16384?i<128?5:6:i<1<<21?7:8:r<128?9:10,s=xY(e,a),o=e.bytes;switch(a){case 10:o[s+9]=r>>>7&1;case 9:o[s+8]=9!==a?128|r:127&r;case 8:o[s+7]=8!==a?i>>>21|128:i>>>21&127;case 7:o[s+6]=7!==a?i>>>14|128:i>>>14&127;case 6:o[s+5]=6!==a?i>>>7|128:i>>>7&127;case 5:o[s+4]=5!==a?128|i:127&i;case 4:o[s+3]=4!==a?n>>>21|128:n>>>21&127;case 3:o[s+2]=3!==a?n>>>14|128:n>>>14&127;case 2:o[s+1]=2!==a?n>>>7|128:n>>>7&127;case 1:o[s]=1!==a?128|n:127&n}}function jY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}const PY=new Map([["moderation",1],["supervise",2]]);class DY extends WA{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(SM.CONNECTION_STATE_CHANGE,t,e)}get inspectType(){return this._inspectType}set inspectType(e){var t;this._inspectMode=rr(t=e.map(e=>PY.get(e)||0)).call(t,(e,t)=>e+t),this._inspectType=e}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this.qualityRatio},6e4))}constructor(e){super(),uC(this,"name","AgoraRTCVideoContentInspect"),uC(this,"_connectionState",wM.CONNECTING),uC(this,"_innerConnectionState",void 0),uC(this,"sequence",0),uC(this,"inspectStartTime",void 0),uC(this,"workerManagerConnection",void 0),uC(this,"workerConnection",void 0),uC(this,"workerMessageLengthLimit",void 0),uC(this,"inspectIntervalMinimum",void 0),uC(this,"qualityRatio",void 0),uC(this,"_connectInfo",void 0),uC(this,"_cancelTokenSource",LN.CancelToken.source()),uC(this,"_retryConfig",void 0),uC(this,"wmSequence",0),uC(this,"inspectInterval",void 0),uC(this,"inspectTimer",null),uC(this,"ossFilePrefix",void 0),uC(this,"extraInfo",void 0),uC(this,"_inspectType",void 0),uC(this,"_inspectMode",void 0),uC(this,"_quality",1),uC(this,"qualityTimer",null),uC(this,"_inspectId",void 0),uC(this,"_needWorkUrlOnly",!1),uC(this,"inspectImage",()=>{if(this.connectionState!==wM.CONNECTED)throw new fI(AA.OPERATION_ABORTED,"content inspect service connection status is ".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval(()=>{this.connectionState===wM.CONNECTED?this.requestToInspectImage():sI.debug("[".concat(this._inspectId,"] Inspect State is not connected , "),this.connectionState)},this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()}),this._inspectId=Ck(5,"inspect-"),this.workerMessageLengthLimit=AR("VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT"),this.inspectIntervalMinimum=AR("VIDEO_INSPECT_INTERVAL_MINIMUM"),this.qualityRatio=AR("VIDEO_INSPECT_QUALITY_RATIO"),this.inspectInterval=e.interval,this.ossFilePrefix=e.ossFilePrefix,this.extraInfo=e.extraInfo,this.inspectType=e.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new JM("worker-manager-"+this._inspectId,Bk),this.on(SM.STATE_CHANGE,(e,t)=>{this._innerConnectionState=e,sI.debug("[".concat(this._inspectId,"] Inspect operation :").concat(EM[e]," ").concat(t||""))}),this.handleWorkerManagerEvents(),this.workerConnection=new JM("worker-"+this._inspectId,Bk),this.handleWorkerEvents()}async init(e,t){this.emit(SM.STATE_CHANGE,EM.CONNECT_AP),this._connectInfo=e;const n=this._cancelTokenSource.token;return this._retryConfig=t,new np((i,r)=>{this.on(SM.CONNECTION_STATE_CHANGE,(e,t)=>{t===wM.CONNECTED&&i()}),this.requestAP(e,n,t).then(e=>{this.connectWorkerManager(e)}).catch(e=>{r(e)})})}async requestAP(e,t,n){const i=AR("WEBCS_DOMAIN").map(e=>"https://".concat(e,"/api/v1")),r=await function(e,t,n,i){let{appId:r,areaCode:a,cname:s,sid:o,token:l,uid:c}=t;NF++;const d="image_moderation_api",u={service_name:d,json_body:JSON.stringify({appId:r,areaCode:a,cname:s,command:"allocateEdge",requestId:NF,seq:NF,sid:o,token:l,ts:Date.now(),uid:c+""})};let h,p,m=e[0];return zk(async()=>{h=Date.now();const e=await aF(m,{data:u,cancelToken:n,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(p=Date.now()-h,0!==e.code){const t=new fI(AA.UNEXPECTED_RESPONSE,"image inspect ap error, code"+e.code,{retry:!0,responseTime:p});throw sI.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new fI(AA.UNEXPECTED_RESPONSE,"image inspect ap error, code: ".concat(t.code,", reason: ").concat(t.reason),{code:t.code,responseTime:p});throw sI.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new fI(AA.UNEXPECTED_RESPONSE,"image inspect ap empty server",{code:t.code,responseTime:p});throw sI.error(e.toString()),e}const i=AR("VIDEO_INSPECT_WORKER_MANAGER_HOST"),r=AR("VIDEO_INSPECT_WORKER_MANAGER_PORT");return{addressList:t.servers.map(e=>{let{address:t,wss:n}=e;if(t&&n)return"wss://".concat(t.replace(/\./g,"-"),".").concat(i,":").concat(r||n)}).filter(e=>!!e),workerToken:t.workerToken,vid:t.vid,responseTime:p}},(t,n)=>(mI.apworkerEvent(o,{success:!0,sc:200,serviceName:d,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===n,responseTime:p,serverIp:e[n%e.length]}),!1),(t,n)=>(mI.apworkerEvent(o,{success:!1,sc:t.data&&t.data.code||200,serviceName:d,responseTime:p,serverIp:e[n%e.length]}),!!(t.code!==AA.OPERATION_ABORTED&&t.code!==AA.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(m=e[(n+1)%e.length],!0)),i)}(i,e,t,n);this.emit(SM.STATE_CHANGE,EM.AP_CONNECTED);const{addressList:a}=r;return this.wmSequence++,a}async connectWorkerManager(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._needWorkUrlOnly=t,this.emit(SM.STATE_CHANGE,EM.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(e,1e4)}async connectWorker(e){await this.workerConnection.init([e])}handleWorkerManagerEvents(){this.workerManagerConnection.on(VL.CONNECTED,async()=>{this.emit(SM.STATE_CHANGE,EM.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+"",sdkVersion:"4.24.0",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:"join"}},!0)}),this.workerManagerConnection.on(VL.CLOSED,()=>{this._innerConnectionState<EM.GET_WORKER_MANAGER_RESPONSE&&sI.debug("[".concat(this._inspectId,"] Inspect worker manager is closed before connecting worker"))}),this.workerManagerConnection.on(VL.FAILED,()=>{this._innerConnectionState<EM.GET_WORKER_MANAGER_RESPONSE&&sI.debug("[".concat(this._inspectId,"] Connecting inspect worker manager is failed before connecting worker"))}),this.workerManagerConnection.on(VL.RECONNECTING,()=>{this._innerConnectionState<EM.GET_WORKER_MANAGER_RESPONSE&&sI.debug("[".concat(this._inspectId,"] Inspect worker manager is reconnecting before connecting worker"))}),this.workerManagerConnection.on(VL.ON_MESSAGE,async e=>{this.emit(SM.STATE_CHANGE,EM.GET_WORKER_MANAGER_RESPONSE);const t=this.workerManagerConnection.url;this.workerManagerConnection.close();const n=JSON.parse(e.data);if(200!==n.code)throw sI.error("[".concat(this._inspectId,"] Unexpected code ").concat(n.code," from worker manager")),new fI(AA.UNEXPECTED_RESPONSE,"response code of worker is unexpected",n);if(!(n.serverResponse&&n.serverResponse.portWss&&t))throw sI.error("[".concat(this._inspectId,"] Unexpected content from worker manager : ").concat(JSON.stringify(n))),new fI(AA.UNEXPECTED_RESPONSE,"response content of worker is unexpected",n);{const e=AR("VIDEO_INSPECT_WORKER_PORT")||n.serverResponse.portWss,i=t.replace(/:\d+\/?$/,":".concat(e));this.emit(SM.STATE_CHANGE,EM.CONNECT_WORKER,i),this._needWorkUrlOnly?this.emit(SM.REQUEST_NEW_WORKER_URL,i):await this.connectWorker(i)}}),this.workerManagerConnection.on(VL.WILL_RECONNECT,(e,t,n)=>{n(e)}),this.workerManagerConnection.on(VL.REQUEST_NEW_URLS,(e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)})}handleWorkerEvents(){this.workerConnection.on(VL.CONNECTED,async()=>{this.emit(SM.STATE_CHANGE,EM.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=wM.CONNECTED}),this.workerConnection.on(VL.ON_MESSAGE,async e=>{if(e.data instanceof ArrayBuffer){const n=oY(new Uint8Array(e.data));if(AR("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")&&sI.debug("[".concat(this._inspectId,"] Response message for worker of inspect content "),JSON.stringify(n)),200===n.code){if(Array.isArray(this.inspectType)&&1===this.inspectType.length&&"supervise"===this.inspectType[0])return void this.emit(SM.INSPECT_RESULT,void 0,void 0);if(n.data&&n.data.scorePorn&&n.data.scoreSexy&&n.data.scoreNeutral){var t;const e={porn:n.data.scorePorn,sexy:n.data.scoreSexy,neutral:n.data.scoreNeutral},i=rr(t=Object.keys(e)).call(t,(t,n)=>e[t]>e[n]?t:n,"porn"),r=Object.keys(e).find(e=>e===i);this.emit(SM.INSPECT_RESULT,r)}else this.emit(SM.INSPECT_RESULT,void 0,new fI(AA.UNEXPECTED_RESPONSE,n.code+"","There is an unexpected data on message"))}else this.emit(SM.INSPECT_RESULT,void 0,new fI(AA.UNEXPECTED_RESPONSE,n.code+"",n.msg))}else sI.error("[".concat(this._inspectId,"] Unexpected message type from worker")),this.emit(SM.INSPECT_RESULT,void 0,new fI(AA.UNEXPECTED_RESPONSE,"invalid worker message type"))}),this.workerConnection.on(VL.CLOSED,()=>{this.connectionState=wM.CLOSED}),this.workerConnection.on(VL.FAILED,()=>{this.connectionState=wM.CLOSED}),this.workerConnection.on(VL.RECONNECTING,()=>{this.connectionState=this.connectionState===wM.CONNECTED?wM.RECONNECTING:wM.CONNECTING}),this.workerConnection.on(VL.WILL_RECONNECT,(e,t,n)=>{"recover"===e&&n(e),n("tryNext")}),this.workerConnection.on(VL.REQUEST_NEW_URLS,(e,t)=>{this.workerManagerConnection.close(),this.once(SM.REQUEST_NEW_WORKER_URL,t=>{e([t])}),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e=>{this.connectWorkerManager(e,!0)}).catch(e=>{t(e)})})}async requestToInspectImage(){this.sequence++;const e=ok(this,SM.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void this.emit(SM.INSPECT_RESULT,void 0,new fI(AA.INVALID_OPERATION,"Only the track being played can be inspected"));const n=await this.generateRequestData(e,t);this.workerConnection.sendMessage(n,!0,!0)}else this.emit(SM.INSPECT_RESULT,void 0,new fI(AA.INVALID_OPERATION,"Only the track being published can be inspected"))}async generateRequestData(e,t){let{appId:n,cname:i,cid:r,vid:a,sid:s,uid:o}=t;const l=Date.now(),c=await e.getCurrentFrameImage("image/jpeg",this.quality),d=await ZO(c,n,i),u=this.sequence+"-"+r+"-"+o+"-"+l+"-"+Ck(12,""),h={appId:n,cid:r,cname:i,deviceId:"",elapse:(p=Number(l-this.inspectStartTime),{low:p|=0,high:p>>31,unsigned:p>=0}),fileSize:d.byteLength,jpgEncryption:2,height:c.height,width:c.width,jpg:d,networkType:6,osType:7,requestId:u,sdkVersion:"4.24.0",sequence:this.sequence,sid:s,timestamp:uz(l),uid:o,vid:a,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};var p;void 0===this.extraInfo&&delete h.callbackData,void 0===this.ossFilePrefix&&delete h.ossFilePrefix;const m=sY(h);if(m.byteLength<this.workerMessageLengthLimit){if(AR("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")){const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jY(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jY(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},h);delete e.jpg,sI.debug("[".concat(this._inspectId,"] Request message for worker of inspect content "),JSON.stringify(e))}return m}{const t=this.quality*this.qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:n,cname:i,cid:r,vid:a,sid:s,uid:o})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=LN.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=wM.CLOSED,this.emit(SM.STATE_CHANGE,EM.CLOSED)}}const LY={name:"ContentInspect",create:function(e){let{config:t}=e;return function(e){if(!e)throw new fI(AA.INVALID_PARAMS,"inspectConfig is necessary.");if(!e.inspectType||!Array.isArray(e.inspectType))throw new fI(AA.INVALID_PARAMS,"inspectConfig.inspectType is necessary and is an instance of Array.");{const t=[...new Set(e.inspectType)];t.forEach(e=>{var t;if(!Pi(t=["supervise","moderation"]).call(t,e))throw new fI(AA.INVALID_PARAMS,"".concat(e," is not a valid inspect type."))}),e.inspectType=t}if(e&&e.extraInfo&&e.extraInfo.length>1024)throw new fI(AA.INVALID_PARAMS,"inspectConfig.extraInfo length cannot exceed 1024 bytes")}(t),new DY(t)}};var MY=i(ee.Object.getOwnPropertySymbols),UY=In,FY=Jn.indexOf,BY=Wi,VY=C([].indexOf),zY=!!VY&&1/VY([1],1,-0)<0;UY({target:"Array",proto:!0,forced:zY||!BY("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return zY?VY(this,e,t)||0:FY(this,e,t)}});var HY=ei("Array","indexOf"),WY=u,GY=HY,qY=Array.prototype,YY=function(e){var t=e.indexOf;return e===qY||WY(qY,e)&&t===qY.indexOf?GY:t},XY=i(YY);function KY(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==XY(t).call(t,i))continue;n[i]=e[i]}return n}(e,t);if(MY){var a=MY(e);for(i=0;i<a.length;i++)n=a[i],-1===XY(t).call(t,n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}let JY=class{get localCapabilities(){return pk(this._localCapabilities)}get rtpCapabilities(){return pk(this._rtpCapabilities)}get candidates(){return pk(this._candidates)}get iceParameters(){return pk(this._iceParameters)}get dtlsParameters(){return pk(this._dtlsParameters)}constructor(e){uC(this,"sessionDesc",void 0),uC(this,"_localCapabilities",void 0),uC(this,"_rtpCapabilities",void 0),uC(this,"_candidates",void 0),uC(this,"_iceParameters",void 0),uC(this,"_dtlsParameters",void 0),uC(this,"setup",void 0),uC(this,"currentMidIndex",void 0),uC(this,"cname","o/i14u9pJrxRKAsu"),uC(this,"firefoxSsrcMidMap",new Map),e=pk(e);const{remoteIceParameters:t,remoteDtlsParameters:n,candidates:i,remoteRTPCapabilities:r,localCapabilities:a,direction:s,setup:o,videoCodec:l,audioCodec:c}=e;let d;this.setup=o,d=s===BL.RECEIVE_ONLY?FR("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=extmap-allow-mixed\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n"):FR("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE 0 1\na=msid-semantic: WMS\na=extmap-allow-mixed\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=mid:0\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=recvonly\na=rtcp-mux\na=rtcp-rsize\na=mid:1\n"),this._rtpCapabilities=r,this._candidates=i,this._iceParameters=t,this._dtlsParameters=n,this._localCapabilities=a;const u=s===BL.RECEIVE_ONLY?this.rtpCapabilities.send:this.rtpCapabilities.recv,h=s===BL.RECEIVE_ONLY?this._localCapabilities.recv:this._localCapabilities.send,p=s===BL.RECEIVE_ONLY?r.send.videoCodecs:UU(fM.VIDEO,u,h,l),m=s===BL.RECEIVE_ONLY?r.send.audioCodecs:UU(fM.AUDIO,u,h,c);for(const f of d.mediaDescriptions)f.attributes.iceUfrag=t.iceUfrag,f.attributes.icePwd=t.icePwd,f.attributes.fingerprints=n.fingerprints,f.attributes.candidates=i,f.attributes.setup=this.setup,"application"===f.media.mediaType&&(f.attributes.sctpPort="5000"),"video"===f.media.mediaType&&(f.media.fmts=p.map(e=>e.payloadType.toString(10)),f.attributes.payloads=p,f.attributes.extmaps=u.videoExtensions),"audio"===f.media.mediaType&&(f.media.fmts=m.map(e=>e.payloadType.toString(10)),f.attributes.payloads=m,f.attributes.extmaps=u.audioExtensions,MU(f));this.sessionDesc=d,this.currentMidIndex=d.mediaDescriptions.length-1}toString(){return BR(this.sessionDesc)}hasMid(e){return Array.isArray(e)?e.every(e=>this.hasMid(e)):this.sessionDesc.mediaDescriptions.some(t=>t.attributes.mid===e)}send(e,t,n,i,r){n=n.replace(/ /g,"-");const{ssrcs:a,ssrcGroups:s}=TU(t,this.cname,AR("SYNC_GROUP")?n:void 0),o=this.findPreloadMediaDesc(a);if(o){if(nA()&&this.firefoxSsrcMidMap.set(a[0].ssrcId,o.attributes.mid),r&&(r.twcc||r.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(o);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(o,r),{mid:o.attributes.mid,needExchangeSDP:!0}}return{mid:o.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,a,i);let n;return-1===t?(n=this.createOrRecycleSendMedia(e,a,s,"sendonly",i,r),this.updateBundleMids()):(n=pk(this.sessionDesc.mediaDescriptions[t]),n.attributes.direction="sendonly",n.attributes.ssrcs=a,n.attributes.ssrcGroups=s,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(n,r)),nA()&&this.firefoxSsrcMidMap.set(a[0].ssrcId,n.attributes.mid),{needExchangeSDP:!0,mid:n.attributes.mid}}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter(t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");t.forEach(e=>{e.attributes.ssrcs=[]}),this.updateBundleMids()}receive(e,t,n){const i=[];return e.forEach(e=>{const r=e._mediaStreamTrack.kind,a=this.findAvailableRecvMediaIndex(r);let s,o=!1;-1===a?(o=!0,s=this.createOrRecycleRecvMedia(e,[],"recvonly",t,n),this.updateBundleMids()):(s=pk(this.sessionDesc.mediaDescriptions[a]),s.attributes.direction="recvonly"),i.push({mid:s.attributes.mid,needCreateTransceiver:o})}),i}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter(t=>-1!==e.indexOf(t.attributes.mid));if(t.length!==e.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");t.forEach(e=>{e.media.port="0",e.attributes.direction="inactive"}),this.updateBundleMids()}addRemoteCandidate(e){const{foundation:t,protocol:n,address:i,port:r,type:a,relatedAddress:s,relatedPort:o,priority:l}=new RTCIceCandidate(e),c={foundation:null!=t?t:"",componentId:"1",transport:null!=n?n:"",priority:l?l+"":"",connectionAddress:null!=i?i:"",port:r?r+"":"",type:a?a+"":"",relAddr:null!=s?s:"",relPort:o?o+"":"",extension:{}};this.candidates.some(e=>e.priority===c.priority&&e.connectionAddress===c.connectionAddress&&e.port===c.port)||(this._candidates.push(c),this.sessionDesc.mediaDescriptions.forEach(e=>{e.attributes.candidates=this.candidates}))}clearRemoteCandidate(){this._candidates=[],this.sessionDesc.mediaDescriptions[0].attributes.candidates=this._candidates}createOrRecycleRecvMedia(e,t,n,i,r){const a=e._mediaStreamTrack.kind,s=this.rtpCapabilities.recv,o=UU(a,s,this.localCapabilities.send,a===fM.AUDIO?r:i),l=a===fM.VIDEO?s.videoExtensions:s.audioExtensions,c="".concat(++this.currentMidIndex);let d={media:{mediaType:a,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:o.map(e=>e.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:l,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:o,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(c)}};d=this.mungRecvMediaDsec(d,e);const u=this.findFirstClosedMedia(a);if(u){const e=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[e]=d}else this.sessionDesc.mediaDescriptions.push(d);return d}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter(t=>Pi(e).call(e,t.attributes.mid||""));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach(e=>{e.attributes.direction="inactive"})}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter(t=>Pi(e).call(e,t.attributes.mid||""));if(t.length!==e.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");t.forEach(e=>{e.attributes.direction="recvonly"})}findAvailableMediaIndex(e,t,n){return this.sessionDesc.mediaDescriptions.findIndex(i=>{const r=i.media.mediaType===e&&"0"!==i.media.port&&("sendonly"===i.attributes.direction||"sendrecv"===i.attributes.direction)&&0===i.attributes.ssrcs.length;if(nA()){if(r){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||"0"!==i.attributes.mid&&"1"!==i.attributes.mid)||!(!e||e!==i.attributes.mid)}return!1}return r&&i.attributes.mid===n})}findAvailableRecvMediaIndex(e){return this.sessionDesc.mediaDescriptions.findIndex(t=>{const n=t.media.mediaType===e&&"0"!==t.media.port&&("recvonly"===t.attributes.direction||"sendrecv"===t.attributes.direction);return"0"!==t.attributes.mid&&"1"!==t.attributes.mid&&n})}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}restartICE(e){e=pk(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach(t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd})}createOrRecycleSendMedia(e,t,n,i,r,a){const s=this.rtpCapabilities.send,o=e===fM.VIDEO?s.videoCodecs:s.audioCodecs,l=e===fM.VIDEO?s.videoExtensions:s.audioExtensions;nA()&&(r="".concat(++this.currentMidIndex));let c={media:{mediaType:e,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:o.map(e=>e.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:l,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:n,rtcpFeedbackWildcards:[],payloads:o,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:r}};c=this.mungSendMediaDesc(c,a);const d=this.findFirstClosedMedia(e);if(d){const e=this.sessionDesc.mediaDescriptions.indexOf(d);this.sessionDesc.mediaDescriptions[e]=c}else this.sessionDesc.mediaDescriptions.push(c);return c}mungRecvMediaDsec(e,t,n){const i=pk(e);return AU(i),NU(i,t),kU(i,t),RU(i),IU(i,n,this.localCapabilities.send),i}mungSendMediaDesc(e,t){const n=pk(e);return IU(n,t,this.localCapabilities.recv),MU(n),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex(t=>t.attributes.mid===e);if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(e=>"0"!==e.media.port).map(e=>e.attributes.mid)}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find(t=>{var n;return(null===(n=t.attributes)||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId)===e[0].ssrcId})}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find(t=>nA()?"0"===t.media.port&&t.media.mediaType===e:"0"===t.media.port)}};const ZY=["sdp"];var QY;function $Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$Y(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$Y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let tX=(QY=class e extends pM{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}get localCodecs(){return[]}set isInRestartIce(e){this._isInRestartIce=e}get isInRestartIce(){return this._isInRestartIce}constructor(t,n,i){super(t,n),uC(this,"direction",void 0),uC(this,"name",void 0),uC(this,"store",void 0),uC(this,"spec",void 0),uC(this,"peerConnection",void 0),uC(this,"initialOffer",void 0),uC(this,"transport",void 0),uC(this,"statsFilter",void 0),uC(this,"localCandidateCount",0),uC(this,"_isInRestartIce",!1),uC(this,"mutex",void 0),uC(this,"onLocalCandidate",void 0),uC(this,"remoteSDP",void 0),uC(this,"pendingCandidates",[]),uC(this,"localCapabilities",void 0),uC(this,"isReady",!1),uC(this,"restartCnt",0),uC(this,"curTurnServerIndex",0),this.store=n,this.spec=t,this.mutex=new Uk("P2PConnection-mutex",n.clientId),this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t,n.p2pTransport),{optional:[{googDscp:!0}]}),this.direction=null!=i?i:BL.SEND_ONLY,this.name=this.direction===BL.SEND_ONLY?"sendP2PConnection":"recvP2PConnection",this.statsFilter=fR(this.peerConnection,AR("STATS_UPDATE_INTERVAL"),void 0,nA()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(e){try{const t=await jU();if(this.localCapabilities=LU(t),e){const{sdp:t}=e,n=KY(e,ZY),i=function(){const e={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t=xU(arguments.length>2?arguments[2]:void 0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"sendonly"),n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(DU(t,e,"videoExtensions",n,i,r),DU(t,e,"videoCodecs",n,i,r),DU(t,e,"audioExtensions",n,i,r),DU(t,e,"audioCodecs",n,i,r),AR("RAISE_H264_BASELINE_PRIORITY")){const e=r.videoCodecs.findIndex(e=>e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"===e.fmtp.parameters["profile-level-id"]);if(-1!==e){const t=r.videoCodecs.findIndex(e=>e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase());if(t<e){sI.debug("raising H264 baseline profile priority");const n=r.videoCodecs[e];r.videoCodecs.splice(e,1),r.videoCodecs.splice(t,0,n)}-1!==t&&AR("FILTER_SEND_H264_BASELINE")&&(n.videoCodecs=n.videoCodecs.filter(e=>!(e.rtpMap&&"h264"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&"42001f"!==e.fmtp.parameters["profile-level-id"])))}}return{send:n,recv:i,sendrecv:r}}({},{},t);this.remoteSDP=new JY({remoteIceParameters:n.iceParameters,remoteDtlsParameters:n.dtlsParameters,candidates:[],remoteRTPCapabilities:i,localCapabilities:this.localCapabilities,direction:this.direction,setup:"actpass",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()}),this.isReady=!0;const r=await this.peerConnection.createAnswer();if(!r.sdp)throw new Error("Cannot get answer sdp when trying to establish PeerConnection.");const a=wU(r.sdp);await this.peerConnection.setLocalDescription(r);const s=await PU({},{},r.sdp);this.localCapabilities=LU(s);const o=this.peerConnection.getTransceivers()[0];return null!=o&&o.receiver&&o.receiver.transport&&this.tryBindTransportEvents(o.receiver.transport),eX(eX({},a),{},{sdp:r.sdp})}{this.peerConnection.addTransceiver("video",{direction:"sendonly"}),this.peerConnection.addTransceiver("audio",{direction:"sendonly"});const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=wU(e.sdp);return this.initialOffer=e,eX(eX({},t),{},{sdp:e.sdp})}}catch(e){throw new kA(AA.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");await this.peerConnection.setLocalDescription(this.initialOffer);const{sdp:t,iceParameters:n,dtlsParameters:i}=e,r=await PU({},{},t);this.remoteSDP=new JY({remoteIceParameters:n,remoteDtlsParameters:i,candidates:[],remoteRTPCapabilities:r,localCapabilities:this.localCapabilities,direction:this.direction,setup:"active",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()});const a=this.peerConnection.getTransceivers()[0];null!=a&&a.sender&&a.sender.transport&&this.tryBindTransportEvents(a.sender.transport)}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.toString()))}}async addRemoteCandidate(e){try{e&&this.pendingCandidates.push(e),this.peerConnection.remoteDescription&&this.isReady&&(this.pendingCandidates.forEach(e=>{this.peerConnection.addIceCandidate(e)}),this.pendingCandidates=[])}catch(e){throw new kA(AA.ADD_CANDIDATE_FAILED,"P2PConnection.addRemoteCandidate failed; ".concat(e.toString()))}}send(e,t,n){var i=this;return XT(function*(){const r=yield JT(i.mutex.lock("From P2PConnection.send"));try{if(!i.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const r=[],a=i.remoteSDP.receive(e,t,n);e.forEach((e,t)=>{if(a[t].needCreateTransceiver){const t=i.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:"sendonly"});r.push(t),e._updateRtpTransceiver(t)}else{const n=i.peerConnection.getTransceivers().find(e=>e.mid===a[t].mid);if(!n)throw new Error("cannot find transceiver when sendPeerconnection send, mid is ".concat(a[t].mid));r.push(n),e._updateRtpTransceiver(n)}}),nA()&&!0===AR("SIMULCAST")&&(yield JT(i.applySimulcastForFirefox(r,e)));const s=a.map(e=>e.mid),o=yield JT(i.peerConnection.createOffer()),l=i.mungSendOfferSDP(o.sdp,e,s),c=FR(l),d=s.map(e=>{const t=c.mediaDescriptions.find(t=>t.attributes.mid===e);if(!t)throw new Error("Cannot extract ssrc from mediaDescription.");return EU(t,AR("USE_PUB_RTX"))}),u=r.map((e,t)=>{const n=s[t];return{localSSRC:d[t],id:n}});yield JT(i.peerConnection.setLocalDescription({type:"offer",sdp:l}));try{yield u}catch(e){const n=i.remoteSDP.toString();throw yield JT(i.peerConnection.setLocalDescription({type:"offer",sdp:l})),yield JT(i.peerConnection.setRemoteDescription({type:"answer",sdp:n})),yield JT(i.stopSending(s,!0)),e}yield JT(i.applySimulcastEncodings(r,e)),yield JT(i.applySendEncodings(r,e));const h=i.remoteSDP.toString(),p=i.logSDPExchange(l,"offer","local","send");return null==p||p(h),yield JT(i.setRemoteDescription({type:"answer",sdp:h})),r.map((e,t)=>{const n=s[t];return{localSSRC:d[t],id:n}})}catch(e){throw e instanceof kA?e:new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(e.toString()))}finally{r()}})()}async stopSending(e,t){const n=t?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getTransceivers().filter(t=>-1!==e.indexOf(t.mid));if(t.length!==e.length)throw new Error("Transceivers' length (".concat(t.length,") doesn't match mids' length (").concat(e.length,") when trying to call P2PConnection.stopSending."));t.map(e=>{var t;e.direction="inactive",null===(t=e.stop)||void 0===t||t.call(e)});const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const r=this.remoteSDP.toString();null==i||i(r),await this.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.toString()))}finally{n&&n()}}async receive(e,t,n,i){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{mid:r,needExchangeSDP:a}=this.remoteSDP.send(e,t,n,i);if(a){const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer(),a=this.mungReceiveAnswerSDP(i.sdp,r,e);null==n||n(a||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:a}),sI.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," by exchanging SDP."))}else sI.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," no need to exchange SDP."));const s=this.peerConnection.getTransceivers().find(e=>e.mid===r);if(!s||null===s.mid)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:s.receiver.track,mid:s.mid,transceiver:s}}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async mockReceive(e,t,n,i){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{mid:r,needExchangeSDP:a}=this.remoteSDP.send(e,t,n,i);if(a){const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer(),a=this.mungReceiveAnswerSDP(i.sdp,r,e);null==n||n(a||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:a}),sI.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," by exchanging SDP."))}else sI.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(e," no need to exchange SDP."))}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),n=this.logSDPExchange(t,"offer","remote","stopReceiving");await this.setRemoteDescription({type:"offer",sdp:t});const i=await this.peerConnection.createAnswer();null==n||n(i.sdp||""),await this.peerConnection.setLocalDescription(i)}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}async restartICE(t){try{if(this.store.p2pTransport===yR.Auto&&(this.store.p2pTransport=yR.SdRtn,_I().supportPCSetConfiguration&&this.peerConnection.setConfiguration(e.resolvePCConfiguration(this.spec,this.store.p2pTransport))),this.restartCnt>3&&(this.restartCnt=0,_I().supportPCSetConfiguration&&this.peerConnection.setConfiguration(e.resolvePCConfiguration(this.spec,this.store.p2pTransport,++this.curTurnServerIndex))),!t){this.restartCnt++,this.isReady=!1;const e=await this.peerConnection.createOffer({iceRestart:!0});if(!e.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const{iceParameters:t}=wU(e.sdp);return this.store.descriptionStart(),this.direction===BL.SEND_ONLY&&await this.peerConnection.setLocalDescription(e),t}if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");if(this.remoteSDP.restartICE(t),this.store.descriptionStart(),this.direction===BL.RECEIVE_ONLY){this.restartCnt++,await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()});const e=await this.peerConnection.createAnswer();if(!e.sdp)throw new Error("Cannot get answer sdp when trying to iceRestart.");const{iceParameters:t}=wU(e.sdp);return await this.peerConnection.setLocalDescription(e),t}await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()}),this.isReady=!0}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}close(){var e;this.peerConnection.close(),this.peerConnection.onicecandidate=null,null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transport=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const n=await this.peerConnection.createOffer(),i=this.mungSendOfferSDP(n.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const r=this.remoteSDP.toString(),a=this.logSDPExchange(i,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:i}),null==a||a(r),await this.peerConnection.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getTransceivers().filter(t=>t.mid===e);1===n.length&&(this.isVP8Simulcast(t)?nA()||await this.applySimulcastEncodings(n,[t]):await this.applySendEncodings(n,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getTransceivers().find(e=>e.mid===t);n&&await n.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:n,remote:i}=t.getSelectedCandidatePair();return{local:eX(eX({},$k),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port}),remote:eX(eX({},$k),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e,t;Pi(e=["connected","completed"]).call(e,this.peerConnection.iceConnectionState)&&(this.isReady=!1),null===(t=this.onICEConnectionStateChange)||void 0===t||t.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;"connected"===this.peerConnection.connectionState&&(this.restartCnt=0),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.startICECandidate()}startICECandidate(){this.peerConnection.onicecandidate||(this.localCandidateCount=0,this.peerConnection.onicecandidate=e=>{var t;e.candidate?(e.candidate.candidate&&(null===(t=this.onLocalCandidate)||void 0===t||t.call(this,e.candidate.toJSON())),this.localCandidateCount+=1):sI.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount)})}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={iceServers:[]};var a;return t.iceServers?r.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(QA(t.turnServer.servers)?r.iceServers=t.turnServer.servers:(r.iceServers&&r.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers,n,i)),AR("USE_TURN_SERVER_OF_GATEWAY")&&r.iceServers&&t.turnServer.serversFromGateway&&r.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway,n,i)),Pi(a=[yR.Relay,yR.SdRtn]).call(a,n)&&(r.iceTransportPolicy="relay"),AR("FORCE_TURN_TCP")?r.iceTransportPolicy="relay":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach(e=>{e.forceturn&&(r.iceTransportPolicy="relay")}))),AR("ENABLE_ENCODED_TRANSFORM")&&_I().supportWebRTCEncodedTransform&&(r.encodedInsertableStreams=!0),sI.debug("P2PConnection p2pTransport is ".concat(n)),r}static turnServerConfigToIceServers(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=[],r=e.filter(e=>e.tcpport);sI.debug("P2PConnection turnServers is ".concat(r,", current index is ").concat(n));const a=r.length>n?r[n]:r[0];switch(t){case yR.SdRtn:const t=e.filter(e=>{var t;return Pi(t=e.username).call(t,"glb:")&&e.turnServerURL==e.turnServerURL}),r=t.length>n?t[n]:t[0];r&&(i.push({username:r.username,credential:r.password,credentialType:"password",urls:"turn:".concat(nU(r.turnServerURL),":").concat(r.tcpport,"?transport=udp")}),i.push({username:r.username,credential:r.password,credentialType:"password",urls:"turns:".concat(nU(r.turnServerURL),":").concat(r.tcpport,"?transport=tcp")}));break;case yR.Relay:a&&(i.push({username:a.username,credential:a.password,credentialType:"password",urls:"turn:".concat(a.turnServerURL,":").concat(a.tcpport,"?transport=udp")}),i.push({username:a.username,credential:a.password,credentialType:"password",urls:"turns:".concat(nU(a.turnServerURL),":").concat(a.tcpport,"?transport=tcp")}));break;default:a&&(i.push({username:a.username,credential:a.password,credentialType:"password",urls:"turn:".concat(a.turnServerURL,":").concat(a.tcpport,"?transport=udp")}),i.push({username:a.username,credential:a.password,credentialType:"password",urls:"turns:".concat(nU(a.turnServerURL),":").concat(a.tcpport,"?transport=tcp")}),i.push({username:a.username,credential:a.password,credentialType:"password",urls:"stun:".concat(a.turnServerURL,":").concat(a.tcpport)}))}return i}tryBindTransportEvents(e){if(e){this.transport=e,e.onstatechange=()=>{var t;null!=e&&e.state&&(null===(t=this.onDTLSTransportStateChange)||void 0===t||t.call(this,e.state))},e.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,"error"in e?e.error:e)};const t=e.iceTransport;t&&(t.onstatechange=()=>{const t=null==e?void 0:e.iceTransport.state;var n;t&&(null===(n=this.onICETransportStateChange)||void 0===n||n.call(this,t))},t.getSelectedCandidatePair&&(t.onselectedcandidatepairchange=()=>{if(t.getSelectedCandidatePair()){const{local:e,remote:n}=t.getSelectedCandidatePair()||{};if(e&&n){const t=e.address+":"+e.port,i=n.address+":"+n.port;sI.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify(hU(t)),", remote ").concat(JSON.stringify(hU(i))))}}}))}}tryUnbindTransportEvents(){this.transport&&(this.transport.onstatechange=null,this.transport.onerror=null,this.transport.iceTransport&&(this.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var n;if(t||(t=this.peerConnection.getSenders().find(t=>t.track===e._mediaStreamTrack)),!t)return sI.warn("[".concat(e.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(e))return sI.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!_I().supportSetRtpSenderParameters)return sI.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const i={},r={};switch(e._optimizationMode){case"motion":i.degradationPreference="maintain-framerate";break;case"detail":i.degradationPreference="maintain-resolution";break;default:i.degradationPreference="balanced"}if(e._encoderConfig){var a;const{bitrateMax:t,frameRate:n,scaleResolutionDownBy:i}=e._encoderConfig;t&&(r.maxBitrate=1e3*t),Pi(a=e._hints).call(a,UI.LOW_STREAM)&&(n&&(r.maxFramerate=aU(n)),i&&i>=1&&(r.scaleResolutionDownBy=i))}if(AR("DSCP_TYPE")&&wA()){var s;const e=AR("DSCP_TYPE");Pi(s=["very-low","low","medium","high"]).call(s,e)&&(r.networkPriority=e)}const o=t.getParameters(),l=null===(n=o.encodings)||void 0===n?void 0:n[0];nA()&&!l&&(i.encodings=[r]),l&&Object.assign(l,r),Object.assign(o,i),sI.debug("[".concat(e.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(o.encodings))),await t.setParameters(o)}async applySendEncodings(e,t){try{if(!_I().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let n=0;n<e.length;n++){const i=e[n],r=t[n];r instanceof PP&&!this.isVP8Simulcast(r)&&await this.updateRtpSenderEncodings(r,i.sender)}}catch(e){sI.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(e,t,n){const i=FR(e);return t.forEach((e,t)=>{const r=n[t],a=i.mediaDescriptions.find(e=>e.attributes.mid===r);a&&(NU(a,e),OU(a,e,this.store.codec))}),BR(i)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var i;null===(i=this.onFirstVideoDecoded)||void 0===i||i.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let o=0;o<e.length;o++){var n,i,r,a,s;const l=e[o],c=t[o];if(c instanceof PP&&!Pi(n=c._hints).call(n,UI.LOW_STREAM)&&null!==(i=c._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(r=c._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(a=c._scalabilityMode)&&void 0!==a&&a.numSpatialLayers&&(null===(s=c._scalabilityMode)||void 0===s?void 0:s.numSpatialLayers)>1&&"vp8"===this.store.codec){const e={},t={high:1e3*(c._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:"m",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:t.high}];const n=l.sender.getParameters();await l.sender.setParameters(Object.assign(n,e))}}}async applySimulcastEncodings(e,t){if(!nA()&&e.length===t.length)for(let n=0;n<e.length;n++){const i=t[n];if(i instanceof PP&&this.isVP8Simulcast(i)){const t=e[n],r={},a={high:1e3*(i._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:a.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:a.medium,scaleResolutionDownBy:4}];const s=t.sender.getParameters();await t.sender.setParameters(Object.assign(s,r))}}}isVP8Simulcast(e){var t,n,i,r,a;return!!(e instanceof PP&&AR("SIMULCAST")&&"vp8"===this.store.codec&&!Pi(t=e._hints).call(t,UI.LOW_STREAM)&&null!==(n=e._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(i=e._encoderConfig)||void 0===i?void 0:i.bitrateMax)>200&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(a=e._scalabilityMode)||void 0===a?void 0:a.numSpatialLayers)>1)}logSDPExchange(e,t,n,i){if(AR("SDP_LOGGING"))return sI.upload("[".concat(this.store.clientId,"] exchanging ").concat(n," ").concat(t," SDP during P2PConnection.").concat(i,"\n"),e),"offer"===t?e=>{this.logSDPExchange(e,"answer","local"===n?"remote":"local",i)}:void 0}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter(t=>t.mid&&-1!==e.indexOf(t.mid));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map(e=>{e.direction="inactive"});const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.muteRemote(e);const r=this.remoteSDP.toString();null==i||i(r),await this.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getTransceivers().filter(t=>t.mid&&-1!==e.indexOf(t.mid));if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length.");t.map(async e=>{e.direction="sendonly"});const n=await this.peerConnection.createOffer(),i=this.logSDPExchange(n.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(n),this.remoteSDP.unmuteRemote(e);const r=this.remoteSDP.toString();null==i||i(r),await this.setRemoteDescription({type:"answer",sdp:r})}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.toString()))}}async getRemoteSSRC(e,t){var n;if(t=null!=t?t:null===(n=this.currentRemoteDescription)||void 0===n?void 0:n.sdp){var i;const n=null===(i=FR(t).mediaDescriptions.find(t=>t.attributes.mid===e))||void 0===i?void 0:i.attributes.ssrcs;return null==n?void 0:n[0].ssrcId}}async setRemoteDescription(e){var t;await this.peerConnection.setRemoteDescription(e),Pi(t=["connected","completed"]).call(t,this.peerConnection.iceConnectionState)||(this.isReady=!0,this.addRemoteCandidate())}mungReceiveAnswerSDP(e,t,n){const i=FR(e),r=i.mediaDescriptions.find(e=>e.attributes.mid===t);return r&&n===fM.AUDIO&&"audio"===r.media.mediaType&&MU(r),BR(i)}},kL(QY.prototype,"establish",[nX],Object.getOwnPropertyDescriptor(QY.prototype,"establish"),QY.prototype),kL(QY.prototype,"connect",[nX],Object.getOwnPropertyDescriptor(QY.prototype,"connect"),QY.prototype),kL(QY.prototype,"receive",[nX],Object.getOwnPropertyDescriptor(QY.prototype,"receive"),QY.prototype),kL(QY.prototype,"mockReceive",[nX],Object.getOwnPropertyDescriptor(QY.prototype,"mockReceive"),QY.prototype),kL(QY.prototype,"stopReceiving",[nX],Object.getOwnPropertyDescriptor(QY.prototype,"stopReceiving"),QY.prototype),kL(QY.prototype,"restartICE",[nX],Object.getOwnPropertyDescriptor(QY.prototype,"restartICE"),QY.prototype),kL(QY.prototype,"close",[nX],Object.getOwnPropertyDescriptor(QY.prototype,"close"),QY.prototype),kL(QY.prototype,"updateEncoderConfig",[nX],Object.getOwnPropertyDescriptor(QY.prototype,"updateEncoderConfig"),QY.prototype),kL(QY.prototype,"updateSendParameters",[nX],Object.getOwnPropertyDescriptor(QY.prototype,"updateSendParameters"),QY.prototype),kL(QY.prototype,"replaceTrack",[nX],Object.getOwnPropertyDescriptor(QY.prototype,"replaceTrack"),QY.prototype),kL(QY.prototype,"muteLocal",[nX],Object.getOwnPropertyDescriptor(QY.prototype,"muteLocal"),QY.prototype),kL(QY.prototype,"unmuteLocal",[nX],Object.getOwnPropertyDescriptor(QY.prototype,"unmuteLocal"),QY.prototype),QY);function nX(e,t,n){const i=e[t];if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("From P2PConnection.".concat(t));try{for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return await i.apply(this,a)}finally{n()}},n}let iX=function(e){return e.SEND_ONLY="SEND_ONLY",e.RECEIVE_ONLY="RECEIVE_ONLY",e}({});var rX,aX,sX,oX,lX,cX,dX,uX,hX,pX,mX,fX;function gX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function _X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gX(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let vX=(rX=bX(iX.SEND_ONLY),aX=bX(iX.SEND_ONLY),sX=bX(),oX=bX(iX.RECEIVE_ONLY),lX=bX(iX.RECEIVE_ONLY),cX=bX(iX.RECEIVE_ONLY),dX=bX(iX.RECEIVE_ONLY),uX=bX(iX.RECEIVE_ONLY),hX=bX(iX.RECEIVE_ONLY),pX=bX(),mX=bX(iX.RECEIVE_ONLY),fX=class extends WA{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(xM.StateChange,t,this._state)}constructor(e,t){super(),uC(this,"isPlanB",!1),uC(this,"store",void 0),uC(this,"statsUploader",void 0),uC(this,"sendConnection",void 0),uC(this,"recvConnection",void 0),uC(this,"localTrackMap",new Map),uC(this,"remoteUserMap",new Map),uC(this,"localDataChannels",[]),uC(this,"pendingLocalTracks",[]),uC(this,"pendingRemoteTracks",[]),uC(this,"statsCollector",void 0),uC(this,"dtlsFailedCount",0),uC(this,"sendMutex",void 0),uC(this,"recvMutex",void 0),uC(this,"_state",yM.Disconnected),uC(this,"_restartStates",["disconnected","failed"]),uC(this,"reconnectInterval",void 0),uC(this,"uploadUnplinkStarted",!1),uC(this,"uploadDownlinkStarted",!1),uC(this,"uplinkStateUploadInterval",void 0),uC(this,"downlinkStatsUploadInterval",void 0),uC(this,"handleMuteLocalTrack",async(e,t,n)=>{const i=await this.sendMutex.lock("Locking from P2PChannel2.handleMuteLocalTrack");try{if(!this.sendConnection||this.state!==yM.Connected)return void n(new kA(AA.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established."));const i=this.filterTobeMutedTracks(e);if(0===i.length)return void t();const s=i.find(e=>"videoLowTrack"===e[0]);s&&s[1].track._originMediaStreamTrack.stop(),await this.sendConnection.muteLocal(i.map(e=>{let[,{id:t}]=e;return t}));let o=!1;var r,a;o="video"===e.trackMediaType?!(null===(r=this.localTrackMap.get(bM.LocalAudioTrack))||void 0===r||!r.track._muted):void 0===(null===(a=this.localTrackMap.get(bM.LocalVideoTrack))||void 0===a?void 0:a.id);const l=this.createMuteMessage(i);await sk(this,xM.RequestMuteLocal,l);const c="video"===e.trackMediaType?OM.MUTE_LOCAL_VIDEO:OM.MUTE_LOCAL_AUDIO;await sk(this,xM.RequestP2PMuteLocal,{action:c,message:l,isMuteAll:o}),t()}catch(e){n(e)}finally{i()}}),uC(this,"handleUnmuteLocalTrack",async(e,t,n)=>{const i=await this.sendMutex.lock("Locking from P2PChannel2.handleUnmuteLocalTrack");try{if(!this.sendConnection||this.state!==yM.Connected)return void n(new kA(AA.INVALID_OPERATION,"Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established."));const i=this.filterTobeUnmutedTracks(e);if(0===i.length)return void t();await this.sendConnection.unmuteLocal(i.map(e=>{let[,{id:t}]=e;return t}));const r=this.createUnmuteMessage(i),a="video"===e.trackMediaType?OM.UNMUTE_LOCAL_VIDEO:OM.UNMUTE_LOCAL_AUDIO;await sk(this,xM.RequestP2PMuteLocal,{action:a,message:r}),t()}catch(e){n(e)}finally{i()}}),uC(this,"handleUpdateVideoEncoder",async(e,t,n,i)=>{let r;"boolean"==typeof i&&i||(r=await this.sendMutex.lock("Locking from P2PChannel2.handleUpdateVideoEncoder"));try{const n=this.localTrackMap.get(bM.LocalVideoTrack);if(!this.sendConnection||!n||n.track!==e||this.state!==yM.Connected)return void t();const{id:i,track:r}=n;i&&(await this.sendConnection.updateSendParameters(i,r),await this.sendConnection.updateEncoderConfig(i,r),this.emit(xM.UpdateVideoEncoder,r)),t()}catch(e){n(e)}finally{var a;null===(a=r)||void 0===a||a()}}),uC(this,"handleUpdateVideoSendParameters",async(e,t,n)=>{const i=await this.sendMutex.lock("Locking from P2PChannel2.handleUpdateVideoSendParameters");try{const n=this.localTrackMap.get(bM.LocalVideoTrack);if(!this.sendConnection||!n||n.track!==e||this.state!==yM.Connected)return void t();const{id:i,track:r}=n;i&&await this.sendConnection.updateSendParameters(i,r),t()}catch(e){n(e)}finally{i()}}),uC(this,"handleReplaceTrack",async(e,t,n,i)=>{let r;sI.debug("[".concat(this.store.clientId,"] P2PChannel2 handleReplaceTrack for [track-id-").concat(e.getTrackId(),"]")),"boolean"==typeof i&&i||(r=await this.sendMutex.lock("From P2PChannel2.handleReplaceTrack"));try{var a;const n=Array.from(this.localTrackMap.entries()).find(t=>{let[,{track:n}]=t;return e===n});if(!this.sendConnection||!n||void 0===n[1].id||this.state!==yM.Connected)return void t();if(await(null===(a=this.sendConnection)||void 0===a?void 0:a.replaceTrack(e,n[1].id)),n[0]===bM.LocalVideoTrack&&_I().supportDualStreamEncoding){const t=this.localTrackMap.get(bM.LocalVideoLowTrack);if(t){const n=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=n,t.track._originMediaStreamTrack=n,await new np((e,n)=>{this.handleReplaceTrack(t.track,e,n,!0)})}}t()}catch(e){n(e)}finally{var s;null===(s=r)||void 0===s||s()}}),uC(this,"handleGetLocalVideoStats",e=>{e(this.statsCollector.getLocalVideoTrackStats())}),uC(this,"handleGetLocalAudioStats",e=>{e(this.statsCollector.getLocalAudioTrackStats())}),uC(this,"handleGetRemoteVideoStats",e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid]),uC(this,"handleGetRemoteAudioStats",e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid]),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new zB(e),this.bindStatsUploaderEvents(),this.sendMutex=new Uk("P2PChannel2-send-mutex",e.clientId),this.recvMutex=new Uk("P2PChannel2-recv-mutex",e.clientId),this.reconnectInterval=window.setInterval(()=>{[this.sendConnection,this.recvConnection].forEach(e=>{e&&("disconnected"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||this.handleDisconnect(e.direction))})},AR("ICE_RESTART_INTERVAL"))}async startP2PConnection(e,t){throw new kA(AA.NOT_SUPPORTED,"p2p mode does not support startP2PConnection.")}async connect(e){throw new kA(AA.NOT_SUPPORTED,"p2p mode does not support connect.")}async startP2P(e,t){let n;try{if(t){this.recvConnection&&(sI.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset recvConnection.")),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),n=await this.recvMutex.lock("From P2PChannel.startP2P"),this.recvConnection=new tX(e,this.store,BL.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection);const i=await this.recvConnection.establish(t);return{iceParameters:i.iceParameters,dtlsParameters:i.dtlsParameters,sdp:i.sdp}}{this.state=yM.New,this.sendConnection&&(sI.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset sendConnection.")),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),n=await this.sendMutex.lock("From P2PChannel.startP2P"),this.sendConnection=new tX(e,this.store),this.store.peerConnectionStart(),this.bindConnectionEvents(this.sendConnection);const t=await this.sendConnection.establish();return{iceParameters:t.iceParameters,dtlsParameters:t.dtlsParameters,sdp:t.sdp}}}finally{n&&n()}}async p2pConnect(e){if(!this.sendConnection)throw new kA(AA.UNEXPECTED_ERROR,"Cannot P2PChannel2.p2pConnect before P2PChannel2.startP2PConnection .");this.store.peerConnectionStart(),await this.sendConnection.connect(e),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=yM.Connected}async addRemoteCandidate(e,t){if(t===BL.RECEIVE_ONLY){if(!this.sendConnection)throw new kA(AA.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.sendConnection.addRemoteCandidate(e)}else{if(!this.recvConnection)throw new kA(AA.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.recvConnection.addRemoteCandidate(e)}}publish(e,t,n){var i=this;return XT(function*(){const r=yield JT(i.sendMutex.lock("From P2PChannel.publish"));try{if(!i.sendConnection||i.state!==yM.Connected){i.throwIfTrackTypeNotMatch(e);const t=e.filter(e=>-1===i.pendingLocalTracks.indexOf(e));return void(i.pendingLocalTracks=i.pendingLocalTracks.concat(t))}i.store.pubId=i.store.pubId+1,qF.markPublishStart(i.store.clientId,i.store.pubId);const r=i.filterTobePublishedTracks(e,t,n);if(0===r.length)return void(yield JT(i.tryToUnmuteAudio(e)));r.forEach(e=>{let{track:t,type:n}=e;const r=Date.now();i.store.publish(t.getTrackId(),n===bM.LocalAudioTrack?"audio":"video",r)}),i.bindLocalTrackEvents(r);const a=yield JT(i.sendConnection.send(r.map(e=>{let{track:t}=e;return t}),i.store.codec,i.store.audioCodec)),s=(yield JT(a.next())).value,o=i.createGatewayPublishMessage(r,s);try{yield o}catch(e){throw a.throw(e),(null==e?void 0:e.code)===AA.WS_ABORT&&r.forEach(e=>{let{track:t}=e;-1===i.pendingLocalTracks.indexOf(t)&&i.pendingLocalTracks.push(t)}),i.unbindLocalTrackEvents(r),e}yield JT(a.next()),r.forEach(e=>{let{type:t}=e;i.statsCollector.addLocalStats(t)}),i.statsUploader.startUploadOutboundStats(),i.assignLocalTracks(r,s),r.forEach(e=>{let{track:t,type:n}=e;const r=Date.now();i.store.publish(t.getTrackId(),n===bM.LocalAudioTrack?"audio":"video",void 0,r)}),i.startUploadUplinkState()}finally{r()}})()}async unpublish(e){if(!this.sendConnection||this.state!==yM.Connected)return void(0===e.length?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter(t=>!Pi(e).call(e,t)));const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const n=t.find(e=>"videoLowTrack"===e[0]);n&&n[1].track.close();const i=this.createGatewayUnpublishMessage(t);if(await this.sendConnection.stopSending(t.map(e=>{let[,{id:t}]=e;return t})),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map(e=>{let[t,{track:n}]=e;return{type:t,track:n}})),t.forEach(e=>{let[t]=e;this.statsCollector.removeLocalStats(t)}),0===this.localTrackMap.size&&(this.statsUploader.stopUploadOutboundStats(),this.stopUploadUplinkState()),this.sendConnection&&this.state===yM.Connected)return n&&n[1].track.close(),i;e.forEach(e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)})}startUploadUplinkState(){if(this.uploadUnplinkStarted)return;this.uploadUnplinkStarted=!0,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval);const e=()=>{const e=[],t=[];Array.from(this.localTrackMap.entries()).forEach(n=>{let[i,{track:r,ssrcs:a}]=n;const s={stream_type:gB(r,i),ssrcs:a};r._muted||!r._enabled?e.push(s):t.push(s)}),e.length>0&&e.forEach(e=>{sk(this,xM.RequestMuteLocal,[e])}),t.length>0&&t.forEach(e=>{sk(this,xM.RequestUnmuteLocal,[e])})};e(),this.uplinkStateUploadInterval=window.setInterval(()=>{e()},3e3)}stopUploadUplinkState(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval))}publishLowStream(e){return XT(function*(){throw new kA(AA.NOT_SUPPORTED,"p2p mode does not support publishLowStream.")})()}async republish(){this.pendingLocalTracks.length>0&&(sI.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await ak(this,xM.RequestRePublish,this.pendingLocalTracks),this.emit(xM.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async unpublishLowStream(){throw new kA(AA.NOT_SUPPORTED,"p2p mode does not support unpublishLowStream.")}async subscribe(e,t,n,i){var r;if(!this.recvConnection)throw new kA(AA.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");if(null!==(r=this.remoteUserMap.get(e))&&void 0!==r&&r.has(t))return;const{track:a,mid:s,transceiver:o}=await this.recvConnection.receive(t,[{ssrcId:n}],String(e.uid),i);t===fM.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(a):(e._audioTrack=new ZP(a,e.uid,e._uintid,this.store),sI.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(e._audioTrack.getTrackId()))),o&&e._audioTrack._updateRtpTransceiver(o),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoSSRC=n,e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(a):(e._videoTrack=new JP(a,e.uid,e._uintid,this.store),sI.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(e._videoTrack.getTrackId()))),o&&e._videoTrack._updateRtpTransceiver(o),this.bindRemoteTrackEvents(e,e._videoTrack));const l=this.remoteUserMap.get(e);l?l.set(t,s):this.remoteUserMap.set(e,new Map([[t,s]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadInboundStats(),this.startUploadDownlinkState();const c=this.pendingRemoteTracks.findIndex(n=>{let{user:i,kind:r}=n;return i.uid===e.uid&&t===r});-1!==c&&(this.pendingRemoteTracks.splice(c,1),this.emit(xM.MediaReconnectEnd,e.uid))}async mockSubscribe(e,t,n,i){if(!this.recvConnection)throw new kA(AA.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");await this.recvConnection.mockReceive(t,[{ssrcId:n}],String(e.uid),i)}async unsubscribe(e,t,n){const i=this.pendingRemoteTracks.filter(n=>{let{user:i,kind:r}=n;return void 0!==t?i.uid===e.uid&&t===r:i.uid===e.uid});if(i.forEach(e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)}),this.recvConnection||n||i.forEach(t=>{let{kind:n}=t;var i;if(n===fM.AUDIO)null===(i=e._audioTrack)||void 0===i||i._destroy(),e._audioTrack=void 0;else if(n===fM.VIDEO){var r;null===(r=e._videoTrack)||void 0===r||r._destroy(),e._videoTrack=void 0}}),!this.recvConnection)return;const r=this.filterTobeUnSubscribedTracks(e,t);0!==r.length&&(await this.recvConnection.stopReceiving(r.map(e=>{let[,{id:t}]=e;return t})),this.withdrawRemoteTracks(r),0===this.remoteUserMap.size&&(this.statsUploader.stopUploadInboundStats(),this.stopUploadDownlinkState()),r.forEach(e=>{let[t,{kind:i}]=e;var r,a;if(i===fM.VIDEO&&t._videoSSRC&&(null===(r=this.recvConnection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1)),i===fM.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),n||(null===(a=t._videoTrack)||void 0===a||a._destroy(),t._videoTrack=void 0);else if(i===fM.AUDIO){var s;this.unbindRemoteTrackEvents(t._audioTrack),n||(null===(s=t._audioTrack)||void 0===s||s._destroy(),t._audioTrack=void 0)}}),r.forEach(e=>{let[,{kind:t}]=e;sk(this,xM.RequestP2PMuteRemote,t)}))}startUploadDownlinkState(){if(this.uploadDownlinkStarted)return;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);const e=()=>Array.from(this.remoteUserMap.entries()).forEach(e=>{let[,t]=e;[fM.VIDEO,fM.AUDIO].forEach(e=>{t.has(e)?sk(this,xM.RequestP2PUnmuteRemote,e):sk(this,xM.RequestP2PMuteRemote,e)})});e(),this.downlinkStatsUploadInterval=window.setInterval(()=>{e()},3e3)}stopUploadDownlinkState(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval))}getAllDataChannels(){return this.localDataChannels}async massSubscribe(e){throw new kA(AA.NOT_SUPPORTED,"p2p mode does not support massSubscribe.")}async massSubscribeNoLock(e){throw new kA(AA.NOT_SUPPORTED,"p2p mode does not support massSubscribeNoLock.")}async massUnsubscribe(e){throw new kA(AA.NOT_SUPPORTED,"p2p mode does not support massUnsubscribe.")}async massUnsubscribeNoLock(e){throw new kA(AA.NOT_SUPPORTED,"p2p mode does not support massUnsubscribeNoLock.")}async muteRemote(e,t){if(!this.recvConnection)return;const n=this.remoteUserMap.get(e);if(!n)return void sI.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(e.uid,"."));if(!n.get(t))return void sI.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(e.uid," media type ").concat(t,"."));const i=t===fM.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==i&&this.recvConnection.setStatsRemoteVideoIsReady(i,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.recvConnection)return;const n=this.remoteUserMap.get(e);n?n.get(t)||sI.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(e.uid," media type ").concat(t,".")):sI.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(e.uid,"."))}getAllTracks(e){const t=this.localTrackMap.get(bM.LocalAudioTrack);if((null==t?void 0:t.track)instanceof Hj){const n=t.track;return Array.from(this.localTrackMap.entries()).filter(e=>{let[t]=e;return t!==bM.LocalAudioTrack}).filter(t=>{let[n]=t;return!(e&&n===bM.LocalVideoLowTrack)}).map(e=>{let[,{track:t}]=e;return t}).concat(n.trackList)}return Array.from(this.localTrackMap.entries()).filter(t=>{let[n]=t;return!(e&&n===bM.LocalVideoLowTrack)}).map(e=>{let[,{track:t}]=e;return t})}reportPublishEvent(e,t,n,i,r){if(e){const n=this.localTrackMap.get(bM.LocalAudioTrack),a=i?this.localTrackMap.get(bM.LocalVideoLowTrack):this.localTrackMap.get(bM.LocalVideoTrack);mI.publish(this.store.sessionId,{eventElapse:qF.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==n?void 0:n.track.getTrackLabel(),videoName:null==a?void 0:a.track.getTrackLabel(),screenshare:-1!==(null==a?void 0:a.track._hints.indexOf(UI.SCREEN_TRACK)),audio:!!n,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{var a;n||(n=[]);const s=n.find(e=>e instanceof Bj),o=i?null===(a=this.localTrackMap.get(bM.LocalVideoTrack))||void 0===a?void 0:a.track:n.find(e=>e instanceof PP);mI.publish(this.store.sessionId,{eventElapse:qF.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==s?void 0:s.getTrackLabel(),videoName:null==o?void 0:o.getTrackLabel(),screenshare:-1!==(null==o?void 0:o._hints.indexOf(UI.SCREEN_TRACK)),audio:!!s,video:!!o,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}reportSubscribeEvent(e,t,n,i){const r=i===fM.VIDEO?n._videoSSRC:n._audioSSRC;r&&mI.subscribe(this.store.sessionId,{succ:e,ec:t,video:i===fM.VIDEO,audio:i===fM.AUDIO,peerid:n.uid,subscribeRequestid:i===fM.VIDEO?n._videoSSRC:n._audioSSRC,p2pid:this.store.p2pId,eventElapse:qF.measureFromSubscribeStart(this.store.clientId,r)})}reset(){sI.debug("[".concat(this.store.clientId,"] P2PChannel2.reset")),this.sendMutex=new Uk("P2PChannel2-send-mutex",this.store.clientId),this.sendMutex=new Uk("P2PChannel2-recv-mutex",this.store.clientId),this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(bM.LocalAudioTrack);if((null==e?void 0:e.track)instanceof Hj){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach(e=>{t.removeAudioTrack(e)})}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.reconnectInterval&&(window.clearInterval(this.reconnectInterval),this.reconnectInterval=void 0),this.state=yM.Disconnected}getStats(e){var t,n;return e?null===(n=this.recvConnection)||void 0===n?void 0:n.getStats():null===(t=this.sendConnection)||void 0===t?void 0:t.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.recvConnection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(bM.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(bM.LocalVideoTrack);if(e)return{width:e.track.videoWidth||0,height:e.track.videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof PP||t&&t.track instanceof Bj?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const n=this.remoteUserMap.get(e);return!!n&&(!t||n.has(t))}getRemoteMedia(e){var t;const n=Array.from(KR(t=this.remoteUserMap).call(t)).find(t=>t.uid===e);return n?{audioTrack:n.audioTrack,audioSSRC:n._audioSSRC,videoTrack:n.videoTrack,videoSSRC:n._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map(e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}});const t=this.localTrackMap.get(bM.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=Kp(e).call(e,(e,t)=>e.level-t.level),e}async disconnectForReconnect(){this.sendConnection&&this.recvConnection&&(sI.debug("[".concat(this.store.clientId,"] P2PChannel2.disconnectForReconnect closing P2PConnection")),this.state=yM.Reconnecting,AR("KEEP_LAST_FRAME")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach(e=>{let[t]=e;var n;t._videoTrack&&t._videoTrack._player&&(null===(n=t._videoTrack._player.getVideoElement())||void 0===n||n.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())}),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach(e=>{var t;let[n,{track:i}]=e;switch(n){case bM.LocalVideoTrack:Pi(t=i._hints).call(t,UI.LOW_STREAM)?i.close():this.pendingLocalTracks.push(i);break;case bM.LocalAudioTrack:i instanceof Hj?this.pendingLocalTracks=this.pendingLocalTracks.concat(i.trackList):this.pendingLocalTracks.push(i);case bM.LocalVideoLowTrack:}}),this.emit(xM.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach(e=>{let[t,n]=e;Array.from(KR(n).call(n)).forEach(e=>{this.setPendingRemoteMedia(t,e)}),this.emit(xM.MediaReconnectStart,t.uid)}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),sI.debug("[".concat(this.store.clientId,"] P2PChannel2 disconnected, waiting to reconnect.")))}hasPendingRemoteMedia(e,t){for(const n of this.pendingRemoteTracks){const{user:i,kind:r}=n;if((e instanceof QF?e.uid:e)===i.uid&&t===r)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}async restartICE(e,t){let n,i;if(e===BL.SEND_ONLY){if(!this.sendConnection)throw new kA(AA.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.");n=await this.sendMutex.lock("From P2PChannel.restartICE"),i=this.sendConnection}else{if(!this.recvConnection)throw new kA(AA.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before recvConnection established.");n=await this.recvMutex.lock("From P2PChannel.restartICE"),i=this.recvConnection}try{if(t){const e=await i.restartICE(t);return i.isInRestartIce=!1,e}{const e=await i.restartICE();if(e){const t=await ak(this,xM.RequestP2PRestartICE,{direction:BL.RECEIVE_ONLY,iceParameter:e});await i.restartICE(t),i.isInRestartIce=!1}}}finally{n()}}getUplinkNetworkQuality(){if(!this.sendConnection)return 0;const e=this.sendConnection.getStats(),t=this.localTrackMap.get(bM.LocalVideoTrack),n=this.localTrackMap.get(bM.LocalAudioTrack),i=e.videoSend.find(e=>{var n;return e.ssrc===(null==t||null===(n=t.ssrcs)||void 0===n?void 0:n[0].ssrcId)}),r=e.audioSend.find(e=>{var t;return e.ssrc===(null==n||null===(t=n.ssrcs)||void 0===t?void 0:t[0].ssrcId)});if(!i||!r)return 1;const a=ok(this,xM.NeedSignalRTT),s=i?i.rttMs:void 0,o=r?r.rttMs:void 0,l=s&&o?(s+o)/2:s||o,c=(l&&a?(l+a)/2:l||a)||0,d=100*e.sendPacketLossRate*.7/50+.3*c/1500,u=d<.17?1:d<.36?2:d<.59?3:d<.1?4:5,h=null==t?void 0:t.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(UI.SCREEN_TRACK)){const t=h._encoderConfig.bitrateMax,n=e.bitrate.actualEncoded;if(t&&n){const e=(1e3*t-n)/(1e3*t);return zD[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][u]}}return u}getDownlinkNetworkQuality(){if(!this.recvConnection)return 0;const e=this.recvConnection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach(n=>{let[i]=n;const r=i._audioSSRC,a=i._videoSSRC,s=e.audioRecv.find(e=>e.ssrc===r),o=e.videoRecv.find(e=>e.ssrc===a);if(!s&&!o)return void(t+=1);const l=ok(this,xM.NeedSignalRTT),c=e.rtt,d=(c&&l?(c+l)/2:c||l)||0,u=s?s.jitterMs:void 0,h=e.recvPacketLossRate;let p=.7*h*100/50+.3*d/1500;u&&(p=.6*h*100/50+.2*d/1500+.2*u/400),t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5}),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new np((t,n)=>{this.handleMuteLocalTrack(e,t,n)})}filterTobePublishedTracks(e,t,n){const i=[],r=_I(),a=this.getAllTracks();e=uk(e=e.filter(e=>-1===a.indexOf(e)));let s=!1,o=!1;for(const l of e){if(l instanceof PP&&(this.localTrackMap.has(bM.LocalVideoTrack)||s?new kA(AA.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(i.push({track:l,type:bM.LocalVideoTrack}),s=!0),t)){const e=this.getLowVideoTrack(l,n);i.push({track:e,type:bM.LocalVideoLowTrack})}if(l instanceof Bj){const e=this.localTrackMap.get(bM.LocalAudioTrack);if(e){if(!(e.track instanceof Hj))throw new kA(AA.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(l._bypassWebAudio)throw new kA(AA.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");e.track.addAudioTrack(l),this.bindLocalAudioTrackEvents(l,!0)}else if(o){const e=i.find(e=>{let{type:t}=e;return t===bM.LocalAudioTrack});if(!(e.track instanceof Hj))throw new kA(AA.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(l._bypassWebAudio)throw new kA(AA.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");e.track.addAudioTrack(l)}else{if(!r.webAudioMediaStreamDest||l instanceof Hj||l._bypassWebAudio)i.push({track:l,type:bM.LocalAudioTrack});else{const e=new Hj;e.addAudioTrack(l),i.push({track:e,type:bM.LocalAudioTrack})}o=!0}}}return i}filterTobeUnpublishedTracks(e){const t=[],n=this.getAllTracks();e=uk(e=e.filter(e=>-1!==n.indexOf(e)));for(const i of e){if(i instanceof Bj){const e=this.localTrackMap.get(bM.LocalAudioTrack);if(!e)continue;e.track instanceof Hj?(e.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),0===e.track.trackList.length&&(t.push([bM.LocalAudioTrack,e]),e.track.close())):t.push([bM.LocalAudioTrack,e])}if(i instanceof PP){const e=this.localTrackMap.get(bM.LocalVideoTrack);if(!e)continue;t.push([bM.LocalVideoTrack,e]);const n=this.localTrackMap.get(bM.LocalVideoLowTrack);n&&t.push([bM.LocalVideoLowTrack,n])}}return t}bindLocalTrackEvents(e){e.forEach(e=>{let{track:t,type:n}=e;switch(n){case bM.LocalVideoTrack:t.addListener(MI.GET_STATS,this.handleGetLocalVideoStats),t.addListener(MI.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener(MI.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener(MI.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener(MI.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.addListener(MI.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener(MI.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener(MI.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case bM.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case bM.LocalVideoLowTrack:}})}bindLocalAudioTrackEvents(e,t){e instanceof Hj?e.trackList.forEach(e=>{e.addListener(MI.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(MI.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(MI.GET_STATS,this.handleGetLocalAudioStats),e.addListener(MI.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(MI.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(e.addListener(MI.GET_STATS,this.handleGetLocalAudioStats),e.addListener(MI.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener(MI.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener(MI.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener(MI.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener(MI.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map(e=>{let[t,{track:n}]=e;return{track:n,type:t}})),e.forEach(e=>{let{track:t,type:n}=e;switch(n){case bM.LocalVideoTrack:t.off(MI.GET_STATS,this.handleGetLocalVideoStats),t.off(MI.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off(MI.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off(MI.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off(MI.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.off(MI.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off(MI.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off(MI.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case bM.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case bM.LocalVideoLowTrack:}})}unbindLocalAudioTrackEvents(e){e instanceof Hj?e.trackList.forEach(e=>{e.off(MI.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(MI.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(MI.GET_STATS,this.handleGetLocalAudioStats),e.off(MI.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(MI.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(e.off(MI.GET_STATS,this.handleGetLocalAudioStats),e.off(MI.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off(MI.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off(MI.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off(MI.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off(MI.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof JP&&t.addListener(MI.GET_STATS,t=>{t(this.handleGetRemoteVideoStats(e))}),t instanceof ZP&&t.addListener(MI.GET_STATS,t=>{t(this.handleGetRemoteAudioStats(e))})}unbindRemoteTrackEvents(e){e&&e.removeAllListeners(MI.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(e=>{let[t,n]=e;n.has(fM.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),n.has(fM.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)})}createGatewayPublishMessage(e,t){return e.map((e,n)=>{var i;let r,{track:a,type:s}=e;switch(s){case bM.LocalAudioTrack:r=iM.Audio;break;case bM.LocalVideoTrack:r=Pi(i=a._hints).call(i,UI.SCREEN_TRACK)?iM.Screen:iM.High;break;case bM.LocalVideoLowTrack:r=iM.Low}return{kind:s===bM.LocalAudioTrack?fM.AUDIO:fM.VIDEO,stream_type:r,mid:t[n].id,ssrcs:t[n].localSSRC,isMuted:a.muted||!a.enabled}})}createGatewayUnpublishMessage(e){return e.map(e=>{var t;let n,[i,{track:r,ssrcs:a,id:s}]=e;switch(i){case bM.LocalVideoTrack:n=Pi(t=r._hints).call(t,UI.SCREEN_TRACK)?iM.Screen:iM.High;break;case bM.LocalAudioTrack:n=iM.Audio;break;case bM.LocalVideoLowTrack:n=iM.Low}return{stream_type:n,ssrcs:a,mid:s}})}assignLocalTracks(e,t){e.forEach((e,n)=>{let{track:i,type:r}=e;this.localTrackMap.set(r,{track:i,id:t[n].id,ssrcs:t[n].localSSRC})})}withdrawLocalTracks(e){e.forEach(e=>{let[t]=e;this.localTrackMap.delete(t)})}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{var n;sI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: ").concat(e.name,".onConnectionStateChange(").concat(t,")")),this.emit(xM.PeerConnectionStateChange,t),"connected"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),"connected"===t&&(e.isInRestartIce=!1),Pi(n=this._restartStates).call(n,t)&&!e.isInRestartIce&&("disconnected"===t&&await Sk(800),"disconnected"!==e.iceConnectionState&&"failed"!==e.iceConnectionState||this.handleDisconnect(e.direction))},e.onICEConnectionStateChange=e=>{"connected"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),sI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(e,")")),mI.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:e,tag:XA.TRACER}).onSuccess(),this.emit(xM.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{sI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(e,")"))},e.onDTLSTransportStateChange=e=>{sI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(e,")"))},e.onDTLSTransportError=e=>{sI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(e,")"))},e.onFirstAudioDecoded=e=>{var t;const n=Array.from(KR(t=this.remoteUserMap).call(t)).find(t=>t._audioSSRC===e);var i;n&&(this.store.subscribe(n.uid,"audio",void 0,void 0,void 0,Date.now()),null===(i=n.audioTrack)||void 0===i||i.emit(WI.FIRST_FRAME_DECODED),mI.firstRemoteFrame(this.store.sessionId,dI.FIRST_AUDIO_DECODE,uI.FIRST_AUDIO_DECODE,{peer:n._uintid,subscribeElapse:qF.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const n=Array.from(KR(t=this.remoteUserMap).call(t)).find(t=>t._audioSSRC===e);n&&mI.firstRemoteFrame(this.store.sessionId,dI.FIRST_AUDIO_RECEIVED,uI.FIRST_AUDIO_RECEIVED,{peer:n._uintid,subscribeElapse:qF.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,n)=>{this.reportVideoFirstFrameDecoded(e,t,n)},e.onFirstVideoReceived=e=>{var t;const n=Array.from(KR(t=this.remoteUserMap).call(t)).find(t=>t._videoSSRC===e);n&&mI.firstRemoteFrame(this.store.sessionId,dI.FIRST_VIDEO_RECEIVED,uI.FIRST_VIDEO_RECEIVED,{peer:n._uintid,subscribeElapse:qF.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const n="relay"===e.candidateType,i="relay"===t.candidateType;"unknown"!==t.candidateType&&n===i||this.emit(xM.ConnectionTypeChange,n),sI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(uU(t))," -> ").concat(JSON.stringify(uU(e)),")"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{sI.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(uU(t))," -> ").concat(JSON.stringify(uU(e)),")"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)},e.onLocalCandidate=t=>{this.emit(xM.LocalCandidate,{candidate:t,direction:e.direction})}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0,e.onLocalCandidate=void 0}async handleDisconnect(e){const t=e===BL.SEND_ONLY?this.sendConnection:this.recvConnection;t&&!t.isInRestartIce&&(t.isInRestartIce=!0,sI.debug("[".concat(this.store.clientId,"] [P2PChannel-").concat(t.name,"] start use restartICE")),e===BL.SEND_ONLY?this.restartICE(e):ak(this,xM.RequestP2PRestartICE,{direction:BL.SEND_ONLY}))}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const n=this.localTrackMap.get(bM.LocalAudioTrack);if(e instanceof Bj&&(null==n?void 0:n.track)instanceof Hj)return n.track.isActive||t.push([bM.LocalAudioTrack,n]),t;const i=Array.from(this.localTrackMap.entries()).find(t=>{let[,{track:n}]=t;return e===n});if(i&&(t.push(i),i[0]===bM.LocalVideoTrack)){const e=this.localTrackMap.get(bM.LocalVideoLowTrack);e&&t.push([bM.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],n=this.localTrackMap.get(bM.LocalAudioTrack);if(e instanceof Bj&&(null==n?void 0:n.track)instanceof Hj)return n.track.isActive&&t.push([bM.LocalAudioTrack,n]),t;const i=Array.from(this.localTrackMap.entries()).find(t=>{let[,{track:n}]=t;return e===n});if(i)if(i[0]===bM.LocalVideoTrack){t.push(i);const e=this.localTrackMap.get(bM.LocalVideoLowTrack);e&&t.push([bM.LocalVideoLowTrack,e])}else t.push(i);return t}createMuteMessage(e){return e.map(e=>{var t;let n,[i,{track:r,ssrcs:a,id:s}]=e;switch(i){case bM.LocalAudioTrack:n=iM.Audio;break;case bM.LocalVideoTrack:n=Pi(t=r._hints).call(t,UI.SCREEN_TRACK)?iM.Screen:iM.High;break;case bM.LocalVideoLowTrack:n=iM.Low}return{stream_type:n,ssrcs:a,mid:s}})}createUnmuteMessage(e){return e.map(e=>{var t;let n,[i,{track:r,ssrcs:a,id:s}]=e;switch(i){case bM.LocalAudioTrack:n=iM.Audio;break;case bM.LocalVideoTrack:n=Pi(t=r._hints).call(t,UI.SCREEN_TRACK)?iM.Screen:iM.High;break;case bM.LocalVideoLowTrack:n=iM.Low}return{stream_type:n,ssrcs:a,mid:s}})}filterTobeUnSubscribedTracks(e,t){const n=[],i=this.remoteUserMap.get(e);if(!i)return n;if(t){const r=i.get(t);if(!r)return n;n.push([e,{kind:t,id:r}])}else Array.from(i.entries()).forEach(t=>{let[i,r]=t;n.push([e,{kind:i,id:r}])});return n}createUnsubscribeMessage(e){const t=[];return e.forEach(e=>{let[n,{kind:i,id:r}]=e;switch(i){case fM.VIDEO:return void(n._videoSSRC&&t.push({stream_type:fM.VIDEO,ssrcId:n._videoSSRC}));case fM.AUDIO:return void(n._audioSSRC&&t.push({stream_type:fM.AUDIO,ssrcId:n._audioSSRC}))}}),t}withdrawRemoteTracks(e){e.forEach(e=>{let[t,{kind:n}]=e;const i=this.remoteUserMap.get(t);i&&(i.delete(n),0===Array.from(i.entries()).length&&this.remoteUserMap.delete(t))})}async updateBitrateLimit(e){const t=this.localTrackMap.get(bM.LocalVideoTrack),n=this.localTrackMap.get(bM.LocalVideoLowTrack);t&&(await t.track.setBitrateLimit(e.uplink),await new np((e,n)=>{this.handleUpdateVideoEncoder(t.track,e,n,!0)})),n&&e.low_stream_uplink&&(await n.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0}),await new np((e,t)=>{this.handleUpdateVideoEncoder(n.track,e,t,!0)}))}isP2PDisconnected(){if(this.sendConnection&&this.recvConnection){const e=this.sendConnection.peerConnectionState,t=this.recvConnection.peerConnectionState;return"connected"!==e&&"connected"!==t}return!0}async tryToUnmuteAudio(e){for(let t=0;t<e.length;t++)if(e[t]instanceof Bj){const n=this.filterTobeUnmutedTracks(e[t]);if(0===n.length)continue;const i=this.createUnmuteMessage(n);return void await sk(this,xM.RequestUnmuteLocal,i)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=e=>this.getStats(e),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()).filter(e=>{let[,{ssrcs:t}]=e;return!!t}),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.recvConnection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(xM.RequestUpload,e,t),this.statsUploader.requestUploadStats=e=>this.emit(xM.RequestUploadStats,e),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await Sk(Vk(this.dtlsFailedCount,Bk)),this.emit(xM.RequestReconnect)}async reconnectP2P(){}canPublishLowStream(){return this.localTrackMap.has(bM.LocalVideoTrack)||this.pendingLocalTracks.some(e=>e instanceof PP)}throwIfTrackTypeNotMatch(e){if(e.filter(e=>e instanceof PP).length>1)throw new kA(AA.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter(e=>e instanceof Bj).length>1&&(e.some(e=>e instanceof Bj&&e._bypassWebAudio)||!_I().webAudioMediaStreamDest))throw new kA(AA.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const t of e){if(t instanceof PP&&this.pendingLocalTracks.some(e=>e instanceof PP))throw new kA(AA.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof Bj&&this.pendingLocalTracks.some(e=>e instanceof Bj)&&(!_I().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some(e=>e instanceof Bj&&e._bypassWebAudio)))throw new kA(AA.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(e,t){const n=!AR("DISABLE_DUAL_STREAM_USE_ENCODING")&&_I().supportDualStreamEncoding,i=_X(_X({},{width:160,height:120,framerate:15,bitrate:50}),t);let r;r=n?e._mediaStreamTrack.clone():AB(e,i);const a=Ck(8,"track-low-"),s=new PP(r,_X(_X({},n&&{scaleResolutionDownBy:dU(i,e)}),{},{frameRate:i.framerate,bitrateMax:i.bitrate,bitrateMin:i.bitrate}),void 0,void 0,a);return s.on(zI.TRANSCEIVER_UPDATED,t=>{e._updateRtpTransceiver(t,FI.LOW_STREAM)}),s._hints.push(UI.LOW_STREAM),e.addListener(MI.NEED_CLOSE,()=>{s.close()}),s}async globalLock(){return this.recvMutex.lock("From P2PChannel2.globalLock")}reportVideoFirstFrameDecoded(e,t,n,i){var r;const a=Array.from(KR(r=this.remoteUserMap).call(r)).find(t=>t._videoSSRC===e);if(a){i||this.store.subscribe(a.uid,"video",void 0,void 0,void 0,void 0,Date.now());const r=this.store.keyMetrics,s=r.subscribe.find(e=>e.userId===a.uid&&"video"===e.type);mI.firstRemoteVideoDecode(this.store.sessionId,dI.FIRST_VIDEO_DECODE,uI.FIRST_VIDEO_DECODE,{peer:a._uintid,videowidth:t,videoheight:n,subscribeElapse:qF.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==s?void 0:s.subscribeEnd)||0,subscriberStart:(null==s?void 0:s.subscribeStart)||0,videoAddNotify:(null==s?void 0:s.streamAdded)||0,state:i?1:0})}}async remoteMediaSsrcChanged(e,t,n){if(!this.recvConnection)return!1;const i=this.remoteUserMap.get(e);if(!i)return!1;const r=i.get(t);if(!r)return!1;const a=await this.recvConnection.getRemoteSSRC(r);return void 0!==a&&a!==n}isPreSubScribe(e){return!1}async publishDataChannel(e){throw new kA(AA.NOT_SUPPORTED)}async unpublishDataChannel(e){throw new kA(AA.NOT_SUPPORTED)}async subscribeDataChannel(e,t){throw new kA(AA.NOT_SUPPORTED)}async unsubscribeDataChannel(e,t){throw new kA(AA.NOT_SUPPORTED)}hasPendingRemoteDataChannel(e,t){throw new kA(AA.NOT_SUPPORTED)}setPendingRemoteDataChannel(e,t){throw new kA(AA.NOT_SUPPORTED)}async preConnect(e){throw new kA(AA.NOT_SUPPORTED)}getEstablishParams(){throw new kA(AA.NOT_SUPPORTED)}async reSubscribe(e){throw new kA(AA.NOT_SUPPORTED)}reportVideoFirstFrameRender(e){}async updateVideoStreamParameter(e,t){throw new kA(AA.NOT_SUPPORTED)}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach(e=>{let[t,{track:n}]=e;t===bM.LocalVideoLowTrack?n._updateRtpTransceiver(void 0,FI.LOW_STREAM):n._updateRtpTransceiver(void 0)})}},kL(fX.prototype,"p2pConnect",[rX],Object.getOwnPropertyDescriptor(fX.prototype,"p2pConnect"),fX.prototype),kL(fX.prototype,"unpublish",[aX],Object.getOwnPropertyDescriptor(fX.prototype,"unpublish"),fX.prototype),kL(fX.prototype,"unpublishLowStream",[sX],Object.getOwnPropertyDescriptor(fX.prototype,"unpublishLowStream"),fX.prototype),kL(fX.prototype,"subscribe",[oX],Object.getOwnPropertyDescriptor(fX.prototype,"subscribe"),fX.prototype),kL(fX.prototype,"mockSubscribe",[lX],Object.getOwnPropertyDescriptor(fX.prototype,"mockSubscribe"),fX.prototype),kL(fX.prototype,"unsubscribe",[cX],Object.getOwnPropertyDescriptor(fX.prototype,"unsubscribe"),fX.prototype),kL(fX.prototype,"muteRemote",[dX],Object.getOwnPropertyDescriptor(fX.prototype,"muteRemote"),fX.prototype),kL(fX.prototype,"unmuteRemote",[uX],Object.getOwnPropertyDescriptor(fX.prototype,"unmuteRemote"),fX.prototype),kL(fX.prototype,"hasRemoteMediaWithLock",[hX],Object.getOwnPropertyDescriptor(fX.prototype,"hasRemoteMediaWithLock"),fX.prototype),kL(fX.prototype,"disconnectForReconnect",[pX],Object.getOwnPropertyDescriptor(fX.prototype,"disconnectForReconnect"),fX.prototype),kL(fX.prototype,"remoteMediaSsrcChanged",[mX],Object.getOwnPropertyDescriptor(fX.prototype,"remoteMediaSsrcChanged"),fX.prototype),fX);function bX(e){return function(t,n,i){const r=t[n];if("function"!=typeof r)throw new Error("Cannot use mutex on object property.");return i.value=async function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];switch(e){case iX.SEND_ONLY:{const e=await this.sendMutex.lock("From P2PChannel2.".concat(n));try{return await r.apply(this,i)}finally{e()}}case iX.RECEIVE_ONLY:{const e=await this.recvMutex.lock("From P2PChannel2.".concat(n));try{return await r.apply(this,i)}finally{e()}}default:{const e=await this.sendMutex.lock("From P2PChannel2.".concat(n)),t=await this.recvMutex.lock("From P2PChannel2.".concat(n));try{return await r.apply(this,i)}finally{e(),t()}}}},i}}class yX extends WA{constructor(e,t){super(),uC(this,"signal",void 0),uC(this,"token",void 0),uC(this,"tokenTimeout",void 0),uC(this,"tokenInterval",void 0),uC(this,"_sequence",0),uC(this,"userMap",new Map),uC(this,"encoder",new TextEncoder),this.signal=e,this.token=t;const n=()=>{this.signal.connectionState===DL.CONNECTED&&this.check(),0===this.userMap.size?this.tokenInterval=window.setTimeout(n,1e3):this.tokenInterval=window.setTimeout(n,3*AR("P2P_TOKEN_INTERVAL"))};n()}async send(e,t,n,i,r){var a;if(0===this.userMap.size)return;const s=Array.from(up(a=this.userMap).call(a))[0].token;"string"!=typeof t&&(t=JSON.stringify(t)),i=null!=i?i:Ck(6,""),r=null!=r?r:this._sequence++;const o={_id:i,_type:e,_seq:r,_message:t,token:"".concat(this.token,"_").concat(s)};AR("SHOW_P2P_LOG")&&sI.debug("send message",o,"noNeedResponse : ".concat(n)),this.splitMessage(JSON.stringify(o)).forEach(e=>{this.signal.request(ML.DATA_STREAM,{payload:vk(this.encoder.encode(e))})});const l=new np((t,r)=>{const a=window.setTimeout(()=>{this.off("res-@".concat(i,"_ack"),s),this.off("res-@".concat(i),c),this.off(IM.ABORT,l),sI.debug("[external-signal] request timeout, type: ".concat(e,", requestId: ").concat(i)),0===this.userMap.size?r(new kA(AA.INVALID_REMOTE_USER)):r(new kA(AA.TIMEOUT))},AR("EXTERNAL_SIGNAL_REQUEST_TIMEOUT")),s=()=>{a&&window.clearTimeout(a),this.off(IM.ABORT,l),n&&t()},l=()=>{a&&window.clearTimeout(a),this.off("res-@".concat(i,"_ack"),s),this.off("res-@".concat(i),c),r(new kA(AA.EXTERNAL_SIGNAL_ABORT,"type: ".concat(e,", requestId: ").concat(i)))};this.once(IM.ABORT,l),this.once("res-@".concat(i,"_ack"),s);const c=(n,o)=>{d=!0,a&&window.clearTimeout(a),this.off("res-@".concat(i,"_ack"),s),this.off(IM.ABORT,l),"success"===n?t(o):r(new kA(AA.P2P_MESSAGE_FAILED,"request ".concat(e," failed, requestId: ").concat(i)))};let d=!1;n||(this.once("res-@".concat(i),c),Sk(AR("SIGNAL_REQUEST_TIMEOUT")).then(()=>{d||sI.warning("external_signal request timeout, type: ".concat(e,", requestId: ").concat(i,", ").concat(o))}))});try{return await l}catch(a){if(a.code===AA.TIMEOUT)return await this.send(e,t,n,i,r);throw a}}onMessage(e){var t;const{_uid:n}=e;let i,r=this.userMap.get(n);if(r)i=r.splitMessageMap;else{if(this.userMap.size>0||!("_type"in e)||e._type!==RM.CHECK)return;const{token:t}=e;i=new Map,r={uid:n,isStart:!0,token:t,splitMessageMap:i,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map},this.userMap.set(n,r),this.signal.emit(FL.ON_USER_ONLINE,{uid:n}),this.handleUserOnline()}if("id"in e&&"total"in e){var a;const{id:t,total:r}=e,s=null!==(a=i.get(t))&&void 0!==a?a:[];if(s.push(e),i.has(t)||i.set(t,s),s.length!==r)return;{const r=Kp(s).call(s,(e,t)=>e.index-t.index).map(e=>e.payload).join("");i.delete(t),(e=JSON.parse(r))._uid=n}}const{_type:s,token:o}=e;if(Pi(t=[RM.ACK,RM.CHECK]).call(t,s))return s===RM.CHECK&&this.handleCheckToken(r,o),void this.receiveMessage(e);o==="".concat(r.token,"_").concat(this.token)?this.handleReceivedMessage(e):sI.debug('Receive unexpected message", '.concat(o,", cur_token: ").concat(r.token,"_").concat(this.token),e)}check(){const e={_id:Ck(6,""),token:this.token,_type:RM.CHECK};AR("SHOW_P2P_LOG")&&sI.debug("send message",e),this.signal.request(ML.DATA_STREAM,{payload:vk(this.encoder.encode(JSON.stringify(e)))})}ack(e){const t={_id:e,_type:RM.ACK,token:this.token};AR("SHOW_P2P_LOG")&&sI.debug("send message",t),this.signal.request(ML.DATA_STREAM,{payload:vk(this.encoder.encode(JSON.stringify(t)))})}response(e,t,n){this.send(RM.RESPONSE,JSON.stringify({success:!n,message:t}),!0,e)}handleReceivedMessage(e){const t=()=>{this.userMap.forEach(e=>{const{receivedMessagesMap:t,nextExpectedSequenceNumber:n}=e;for(;t.has(n);){const i=t.get(n);t.delete(n),this.receiveMessage(i),e.nextExpectedSequenceNumber++}})};if(!e)return void t();const{_uid:n,_seq:i}=e,r=this.userMap.get(n),{receivedMessagesMap:a,isStart:s,nextExpectedSequenceNumber:o}=r;if(i<o)return this.ack(e._id),void sI.debug("[external-signal] receive old message, seq: ".concat(i,", ").concat(e._message));a.set(i,e),s&&i===o&&(this.receiveMessage(e),a.delete(o),r.nextExpectedSequenceNumber++,t())}receiveMessage(e){const{_id:t,_type:n,_message:i,_uid:r}=e;if(AR("SHOW_P2P_LOG")&&sI.debug("receive message",e),t){let a;switch(e._type!==RM.ACK&&(i&&(a=JSON.parse(i)),this.ack(e._id)),e._type){case RM.CANDIDATE:case RM.CONTROL:this.signal.emit(n,a,r);break;case RM.PUBLISH:case RM.UNPUBLISH:case RM.RESTART_ICE:case RM.CALL:a.uid=r,ak(this.signal,n,a).then(t=>{this.response(e._id,t)}).catch(()=>{this.response(e._id,void 0,!0)});break;case RM.ACK:this.getListeners("res-@".concat(t,"_ack")).length>0&&this.emit("res-@".concat(t,"_ack"));break;case RM.RESPONSE:{const{success:e,message:n}=a;this.emit("res-@".concat(t),e?"success":"failed",n);break}}}}splitMessage(e){if(e.length<yX.MAX_MESSAGE_SIZE)return[e];const t=[],{remoteToken:n}=JSON.parse(e),i=Ck(6,"");let r=0,a=800;const s=Math.ceil(e.length/a);for(;e.length>0;){r++;const o={id:i,index:r,total:s,payload:e.slice(0,a),token:"".concat(this.token,"_").concat(n)};JSON.stringify(o).length>yX.MAX_MESSAGE_SIZE?a-=50:(t.push(o),e=e.slice(a))}return t.map(e=>JSON.stringify(e))}handleCheckToken(e,t){return e.token!==t?(sI.debug("token changed, from ".concat(e.token," to ").concat(t)),this.reset(e.uid,t),!1):(this.tokenTimeout&&(window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0),this.tokenTimeout=window.setTimeout(()=>{sI.debug("token timeout, ".concat(t)),this.reset(e.uid)},AR("MAX_P2P_TIMEOUT")),!0)}async handleUserOnline(){const e=await ak(this.signal,RM.CALL,void 0),t=await this.send(RM.CALL,e);this.signal.emit(LL.P2P_CONNECTION,t,!0)}async reset(e,t){const n=this.userMap.get(e);n&&(this.emit(IM.ABORT),this.signal.emit(FL.ON_USER_OFFLINE,{uid:n.uid,reason:jM.P2P_TOKEN_CHANGED}),this._sequence=0,this.userMap.clear(),t||(sI.debug("change local token from ".concat(t," to ").concat(t)),this.token=Ck(6,"")))}clear(){this._sequence=0,this.userMap.clear(),this.tokenInterval&&window.clearTimeout(this.tokenInterval),this.tokenInterval=void 0,this.tokenTimeout&&window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0,this.emit(IM.ABORT)}}uC(yX,"MAX_SIZE",1),uC(yX,"MAX_MESSAGE_SIZE",1024);class xX extends WA{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===DL.CONNECTED?this.emit(LL.WS_CONNECTED):e===DL.RECONNECTING?this.emit(LL.WS_RECONNECTING,this._websocketReconnectReason):e===DL.CLOSED&&this.emit(LL.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),uC(this,"_disconnectedReason",void 0),uC(this,"_websocketReconnectReason",void 0),uC(this,"_connectionState",DL.CLOSED),uC(this,"reconnectToken",void 0),uC(this,"p2pToken",void 0),uC(this,"websocket",void 0),uC(this,"openConnectionTime",void 0),uC(this,"clientId",void 0),uC(this,"lastMsgTime",Date.now()),uC(this,"uploadCache",[]),uC(this,"uploadCacheInterval",void 0),uC(this,"rttRolling",new Wk(5)),uC(this,"pingpongTimer",void 0),uC(this,"pingpongTimeoutCount",0),uC(this,"joinResponse",void 0),uC(this,"multiIpOption",void 0),uC(this,"initError",void 0),uC(this,"spec",void 0),uC(this,"store",void 0),uC(this,"_external_signal",void 0),uC(this,"onWebsocketMessage",e=>{if(e.data instanceof ArrayBuffer)return void this.emit(LL.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,"_id")){const e="res-@".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,"_type")){switch(t._type){case FL.ON_DATA_STREAM:return void this.handleDataStream(t._message);case FL.MUTE_AUDIO:case FL.MUTE_VIDEO:case FL.ON_P2P_LOST:case FL.ON_USER_ONLINE:return;case FL.ON_USER_OFFLINE:const{uid:e}=t._message;return sI.debug("[".concat(this.clientId,"] user-offline uid: ").concat(e)),void this._external_signal.reset(e)}if(this.emit(t._type,t._message),t._type===FL.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===FL.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(ZA.UID_BANNED);break;case 15:this.close(ZA.IP_BANNED);break;case 16:this.close(ZA.CHANNEL_BANNED)}if(t._type===FL.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case PL.ERR_LICENSE_MISSING:this.close(ZA.LICENSE_MISSING);break;case PL.ERR_LICENSE_EXPIRED:this.close(ZA.LICENSE_EXPIRED);break;case PL.ERR_LICENSE_MINUTES_EXCEEDED:this.close(ZA.LICENSE_MINUTES_EXCEEDED);break;case PL.ERR_LICENSE_PERIOD_INVALID:this.close(ZA.LICENSE_PERIOD_INVALID);break;case PL.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(ZA.LICENSE_MULTIPLE_SDK_SERVICE);break;case PL.ERR_LICENSE_ILLEGAL:this.close(ZA.LICENSE_ILLEGAL);break;default:this.close()}}}),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new KM("gateway-".concat(this.clientId),this.spec.retryConfig,!0,AR("JOIN_GATEWAY_USE_DUAL_DOMAIN"),AR("JOIN_GATEWAY_USE_443PORT_ONLY"),t),this.handleWebsocketEvents(),window.addEventListener("offline",()=>{this.connectionState===DL.CONNECTED&&this.reconnect("retry",nk.OFFLINE)}),this.p2pToken=Ck(6,""),this._external_signal=new yX(this,this.p2pToken)}async request(e,t,n,i){const r=Ck(6,""),a={_id:r,_type:e,_message:t},s=this.websocket.connectionID,o=()=>new np((e,t)=>{if(this.connectionState===DL.CONNECTED)return e();const n=()=>{this.off(LL.WS_CLOSED,i),e()},i=()=>{this.off(LL.WS_CONNECTED,n),t(new kA(AA.WS_ABORT))};this.once(LL.WS_CONNECTED,n),this.once(LL.WS_CLOSED,i)});if(this.connectionState!==DL.CONNECTING&&this.connectionState!==DL.RECONNECTING||e===ML.JOIN||e===ML.REJOIN||await o(),this.websocket.sendMessage(a,!0),i)return;const l=new np((n,i)=>{let a=!1;const o=(i,r)=>{a=!0,n({isSuccess:"success"===i,message:r||{}}),this.off(LL.WS_CLOSED,l),this.off(LL.WS_RECONNECTING,l),this.emit(LL.REQUEST_SUCCESS,e,t)};this.once("res-@".concat(r),o);const l=()=>{i(new kA(AA.WS_ABORT,"type: ".concat(e))),this.off(LL.WS_CLOSED,l),this.off(LL.WS_RECONNECTING,l),this.off("res-@".concat(r),o)};this.once(LL.WS_CLOSED,l),this.once(LL.WS_RECONNECTING,l),Sk(AR("SIGNAL_REQUEST_TIMEOUT")).then(()=>{this.websocket.connectionID!==s||a||(sI.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(e)),this.emit(LL.REQUEST_TIMEOUT,e,t))})});let c=null;try{c=await l}catch(i){if(this.connectionState===DL.CLOSED||e===ML.LEAVE)throw new kA(AA.WS_ABORT);return!this.spec.forceWaitGatewayResponse||n?i.throw():e===ML.JOIN||e===ML.REJOIN?null:(await o(),await this.request(e,t))}if(c.isSuccess)return c.message;const d=Number(c.message.error_code||c.message.code),u=MM(d),h=new kA(AA.UNEXPECTED_RESPONSE,"".concat(u.desc,": ").concat(c.message.error_str),{code:d,data:c.message,desc:u.desc});return"success"===u.action?c.message:(sI.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(e,", error_code: ").concat(d,", message: ").concat(u.desc,", action: ").concat(u.action)),d===PL.ERR_TOO_MANY_BROADCASTERS?e===ML.JOIN||e===ML.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():"failed"===u.action?h.throw():"quit"===u.action?(this.initError=h,this.close(),h.throw()):(d===PL.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=c.message.option,sI.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",nk.MULTI_IP)):this.reconnect(u.action,nk.SERVER_ERROR),e===ML.JOIN||e===ML.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new np(n=>{const i=r=>{(!t||t(r))&&(this.off(e,i),n(r))};this.on(e,i)})}uploadWRTCStats(e){if(!this.store.sessionId)return void sI.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const t={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(UL.WRTC_STATS,t)}upload(e,t){const n={_type:e,_message:t};try{this.websocket.sendMessage(n)}catch(e){const t=AR("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(n),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==DL.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)},AR("UPLOAD_CACHE_INTERVAL")||2e3))}}send(e,t){const n={_type:e,_message:t};this.websocket.sendMessage(n)}async sendExtensionMessage(e,t,n){return await this._external_signal.send(e,t,n)}init(e){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new np((t,n)=>{this.once(LL.WS_CONNECTED,()=>t(this.joinResponse)),this.once(LL.WS_CLOSED,()=>n(this.initError||new kA(AA.WS_ABORT))),this.connectionState=DL.CONNECTING,this.websocket.init(e).catch(n)})}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._external_signal.clear(),this._disconnectedReason=e||ZA.LEAVE,this.connectionState=DL.CLOSED,sI.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),this.p2pToken=Ck(6,""),this._external_signal.clear(),this._external_signal=new yX(this,this.p2pToken)}async join(){if(!this.joinResponse){this.emit(LL.ABORT_P2P_EXECUTION);const e=await ak(this,LL.REQUEST_JOIN_INFO),t=await this.request(ML.JOIN,e);if(!t)return this.emit(LL.REPORT_JOIN_GATEWAY,AA.TIMEOUT,this.url||""),!1;this.joinResponse=t,this.emit(LL.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=DL.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}async downgradeCodec(e){return!1}handleDataStream(e){try{var t;const n=_k(e.payload),i=(new TextDecoder).decode(n),r=JSON.parse(i);"total"in r&&"id"in r||Pi(t=Object.values(RM)).call(t,r._type)?(r._uid=e.uid,this._external_signal.onMessage(r)):this.emit(FL.ON_DATA_STREAM,e)}catch(t){this.emit(FL.ON_DATA_STREAM,e)}}handleNotification(e){sI.debug("[".concat(this.clientId,"] receive notification: "),e);const t=MM(e.code);if("success"!==t.action){if("failed"!==t.action)return"quit"===t.action?("ERR_REPEAT_JOIN_CHANNEL"===t.desc&&this.close(ZA.UID_BANNED),void this.close()):void this.reconnect(t.action,nk.SERVER_ERROR);sI.error("[".concat(this.clientId,"] ignore error: "),t.desc)}}handlePingPong(){if(!this.websocket||"connected"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=AR("PING_PONG_TIME_OUT"),t=Date.now();this.pingpongTimeoutCount>=e&&(sI.warning("[".concat(this.clientId,"] PINGPONG Timeout. Last Socket Message: ").concat(t-this.lastMsgTime,"ms")),t-this.lastMsgTime>AR("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",nk.TIMEOUT):this.request(ML.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),AR("REPORT_STATS")&&this.send(ML.PING_BACK,{pingpongElapse:e})}).catch(e=>{})}handleWebsocketEvents(){this.websocket.on(VL.RECONNECT_CREATE_CONNECTION,e=>{this.emit(LL.WS_RECONNECT_CREATE_CONNECTION,e)}),this.websocket.on(VL.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(VL.CLOSED,()=>{this.connectionState=DL.CLOSED}),this.websocket.on(VL.FAILED,()=>{this._disconnectedReason=ZA.NETWORK_ERROR,this.connectionState=DL.CLOSED}),this.websocket.on(VL.RECONNECTING,e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===DL.CONNECTED?this.connectionState=DL.RECONNECTING:this.connectionState=DL.CONNECTING}),this.websocket.on(VL.WILL_RECONNECT,(e,t,n)=>{"retry"!==e?(sI.debug("".concat(this.clientId," websocket will_connect event, renewSession reconnectMode is ").concat(e)),this.reconnectToken=void 0):sI.debug("".concat(this.clientId," reconnect mode is retry, no need to renew session")),n(e)}),this.websocket.on(VL.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.join().catch(e=>{if(this.emit(LL.REPORT_JOIN_GATEWAY,e,this.url||""),e instanceof kA&&e.code===AA.UNEXPECTED_RESPONSE&&e.data.code===PL.ERR_NO_AUTHORIZED)return sI.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",nk.SERVER_ERROR);sI.error("[".concat(this.clientId,"] join gateway request failed"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",nk.SERVER_ERROR):(this.initError=e,this.close())})}),this.websocket.on(VL.REQUEST_NEW_URLS,(e,t)=>{ak(this,LL.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)}),this.websocket.on(VL.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(FL.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})}}const wX={name:"P2PChannel",create:function(e){let{store:t,statsCollector:n}=e;return new vX(t,n)},createSubmodule:function(e){let{store:t,spec:n}=e;return new xX(n,t)}};function EX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function SX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EX(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}class CX{constructor(e){uC(this,"sessionDesc",void 0),uC(this,"localCapabilities",void 0),uC(this,"rtpCapabilities",void 0),uC(this,"candidates",void 0),uC(this,"_originCandidates",void 0),uC(this,"iceParameters",void 0),uC(this,"dtlsParameters",void 0),uC(this,"setup",void 0),uC(this,"currentMidIndex",void 0),uC(this,"cname",void 0),e=pk(e);const{iceParameters:t,dtlsParameters:n,candidates:i,rtpCapabilities:r,setup:a,localCapabilities:s,sdkCodec:o,cname:l}=e,c=FR("v=0\no=- 0 0 IN IP4 127.0.0.1\ns=AgoraGateway\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS\na=ice-lite\nm=audio 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:audio\nm=video 9 UDP/TLS/RTP/SAVPF 0\nc=IN IP4 127.0.0.1\na=rtcp:9 IN IP4 0.0.0.0\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=mid:video\n");this.rtpCapabilities=r,this.candidates=i,this._originCandidates=pk(i),this.iceParameters=t,this.dtlsParameters=n,this.setup=a,this.localCapabilities=s,this.cname=l;for(let d=0;d<c.mediaDescriptions.length;d++){const e=c.mediaDescriptions[d];if(e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd,e.attributes.fingerprints=n.fingerprints,e.attributes.candidates=i,e.attributes.setup=a,"video"===e.media.mediaType){e.media.fmts=r.videoCodecs.map(e=>e.payloadType.toString(10));const t=r.videoCodecs.filter(e=>{var t,n;return null===(t=e.rtpMap)||void 0===t?void 0:Pi(n=t.encodingName.toLowerCase()).call(n,o)}),n=r.videoCodecs.filter(e=>!Pi(t).call(t,e));e.attributes.payloads=[...t,...n],e.attributes.extmaps=r.videoExtensions}"audio"===e.media.mediaType&&(e.media.fmts=r.audioCodecs.map(e=>e.payloadType.toString(10)),e.attributes.payloads=r.audioCodecs,e.attributes.extmaps=r.audioExtensions),c.mediaDescriptions[d]=this.mungMediaDesc(e)}this.sessionDesc=c,this.currentMidIndex=c.mediaDescriptions.length-1}toString(){return BR(this.sessionDesc)}send(e,t,n){const{ssrcs:i,ssrcGroups:r}=TU(t,this.cname),a=this.sessionDesc.mediaDescriptions.find(t=>e===fM.VIDEO?"video"===t.media.mediaType:"audio"===t.media.mediaType),s=i[0].attributes.label,o=i[0].attributes.mslabel;return a.attributes.ssrcs=a.attributes.ssrcs.concat(i),a.attributes.ssrcGroups=a.attributes.ssrcGroups.concat(r),{id:s,mslabel:o}}batchSend(e){return e.map(e=>{let{kind:t,ssrcMsg:n}=e;return this.send(t,n,void 0)})}stopSending(e){this.sessionDesc.mediaDescriptions.forEach(t=>{const n=[],i=[],r=[];t.attributes.ssrcs.forEach(t=>{Pi(e).call(e,t.attributes.label||"")?r.push(t):n.push(t)}),t.attributes.ssrcGroups.forEach(e=>{var t;Pi(t=r.map(e=>e.ssrcId)).call(t,e.ssrcIds[0])||i.push(e)}),t.attributes.ssrcs=n,t.attributes.ssrcGroups=i})}mute(e){const t=this.sessionDesc.mediaDescriptions.find(t=>t.attributes.mid===e);if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.mute."));t.attributes.direction="inactive"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find(t=>t.attributes.mid===e);if(!t)throw new Error("mediaDescription not found with ".concat(e," in remote SDP when calling RemoteSDP.unmute."));t.attributes.direction="sendonly"}receive(e,t,n){e.forEach((e,t)=>{const n=e._mediaStreamTrack,i=this.sessionDesc.mediaDescriptions.findIndex(e=>e.attributes.mid===n.kind),r=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],e);this.sessionDesc.mediaDescriptions[i]=r})}stopReceiving(e){}updateCandidates(e){const t=this._originCandidates.filter(e=>"udp"===e.transport),n=[];if(t.forEach(e=>{n.push(SX(SX({},e),{},{foundation:"tcpcandidate",priority:Number(e.priority)-1+"",transport:"tcp",port:Number(e.port)+90+""}))}),0!==t.length){switch(e){case gM.TCP_RELAY:this.candidates=n;break;case gM.UDP_TCP_RELAY:case gM.RELAY:this.candidates=[...t,...n];break;default:this.candidates=t}for(const e of this.sessionDesc.mediaDescriptions)e.attributes.candidates=this.candidates}}restartICE(e){e=pk(e),this.iceParameters=e,this.sessionDesc.mediaDescriptions.forEach(t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd})}predictReceivingMids(e){const t=[];for(let n=0;n<e;n++)t.push((this.currentMidIndex+n+1).toString(10));return t}mungRecvMediaDsec(e,t){const n=pk(e);return NU(n,t),kU(n,t),n}updateRecvMedia(e,t){const n=this.sessionDesc.mediaDescriptions.findIndex(t=>t.attributes.mid===e);if(-1!==n){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],t);this.sessionDesc.mediaDescriptions[n]=e}}bumpMid(e){this.currentMidIndex+=e}updateTrackLabel(e,t,n){const i=this.sessionDesc.mediaDescriptions.find(t=>e===fM.VIDEO?"video"===t.attributes.mid:"audio"===t.attributes.mid);if(i){const e=i.attributes.ssrcs.find(e=>e.attributes.label===t);var r;e&&(e.attributes.label=n,null===(r=e.attributes.msid)||void 0===r||r.replace(t,n))}}mungMediaDesc(e){const t=pk(e);return AU(t),function(e){const t=e.attributes.extmaps.find(e=>vU(e.extensionName));t&&e.attributes.extmaps.splice(e.attributes.extmaps.indexOf(t),1),e.attributes.payloads.forEach(e=>{const t=e.rtcpFeedbacks.findIndex(e=>"transport-cc"===e.type);-1!==t&&e.rtcpFeedbacks.splice(t,1)})}(t),t}getSSRC(e){for(const t of this.sessionDesc.mediaDescriptions)for(const n of t.attributes.ssrcs)if(n.attributes.label===e)return[n]}}var TX;function NX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function AX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NX(Object(n),!0).forEach(function(t){uC(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let kX=(TX=class e extends mM{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.videoCodecs.map(e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||"").filter(e=>{var t;return Pi(t=Object.keys(OR)).call(t,e)}))]}constructor(t,n){super(t,n),uC(this,"store",void 0),uC(this,"peerConnection",void 0),uC(this,"remoteSDP",void 0),uC(this,"initialOffer",void 0),uC(this,"statsFilter",void 0),uC(this,"useRTX",!1),uC(this,"localCapabilities",void 0),uC(this,"localCandidateCount",0),uC(this,"allCandidatesReceived",!1),uC(this,"establishPromise",void 0),uC(this,"mutex",void 0),this.store=n,this.mutex=new Uk("P2PConnection-mutex",n.clientId),this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=fR(this.peerConnection,AR("STATS_UPDATE_INTERVAL"),void 0,nA()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{const e=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!e.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const t=wU(e.sdp),n=xU(e.sdp,{filterRTX:!this.useRTX,filterVideoFec:AR("FILTER_VIDEO_FEC"),filterAudioFec:AR("FILTER_AUDIO_FEC"),filterAudioCodec:["opus"]});return this.localCapabilities=n,this.initialOffer=e,AX(AX({},t),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:n},offerSDP:e.sdp})}catch(e){throw new kA(AA.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async updateRemoteConnect(){}async connect(e){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new CX(AX(AX({},e),{},{rtpCapabilities:e.rtpCapabilities.send,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec}));const t=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:"answer",sdp:t})}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(e.toString()))}}async updateRemoteRTPCapabilities(e,t){throw new kA(AA.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}getPreMedia(e){}send(e,t){var n=this;return XT(function*(){const i=yield JT(n.mutex.lock());try{if(!n.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const i=e.map(e=>n.peerConnection.addTrack(e._mediaStreamTrack)),r=yield JT(n.peerConnection.createOffer()),a=FR(r.sdp),s=e.map(e=>{const t=e._mediaStreamTrack,i=a.mediaDescriptions.find(e=>e.attributes.mid===t.kind);if(!i)throw new Error("Cannot extract ssrc from mediaDescription.");return function(e,t,n){const i=e.attributes.ssrcs.filter(e=>e.attributes.label===t),r=e.attributes.ssrcGroups;if(0===i.length)throw new Error("Cannot extract ssrc from plan-b SDP.");if(r&&i.length>1){const e=r.find(e=>-1!==e.ssrcIds.indexOf(i[0].ssrcId));return e?[{ssrcId:e.ssrcIds[0],rtx:n?e.ssrcIds[1]:void 0}]:[{ssrcId:i[0].ssrcId}]}return[{ssrcId:i[0].ssrcId}]}(i,t.id,n.useRTX)});let o;try{o=yield s}catch(e){throw i.forEach(e=>{$N()&&e.replaceTrack(null),n.peerConnection.removeTrack(e)}),e}const l=n.mungSendOfferSDP(r.sdp,e);n.remoteSDP.receive(e,t,o);const c=n.remoteSDP.toString();return yield JT(n.peerConnection.setLocalDescription({type:"offer",sdp:l})),yield JT(n.applySendEncodings(i,e)),yield JT(n.peerConnection.setRemoteDescription({type:"answer",sdp:c})),e.map((e,t)=>{const n=e._mediaStreamTrack.id;return{localSSRC:s[t],id:n}})}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(e.toString()))}finally{i()}})()}async stopSending(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const t=this.peerConnection.getSenders().filter(t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")});if(t.length!==e.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");t.map(e=>{$N()&&e.replaceTrack(null),this.peerConnection.removeTrack(e)});const n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const i=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(e.toString()))}}async receive(e,t,n,i){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(e," before remoteSDP created."));const{id:n,mslabel:r}=this.remoteSDP.send(e,t,i),a=new np((t,i)=>{const a=setTimeout(()=>{i(new Error("Cannot receive track, id: ".concat(n)))},1e4),s=i=>{const o=YN();if(("Safari"===o.name&&11===Number(o.version)||iA())&&i.track.id!==n&&i.streams[0].id===r){var l;const r=i.streams[0].getTracks()[0];return null===(l=this.remoteSDP)||void 0===l||l.updateTrackLabel(e,n,i.track.id),this.peerConnection.removeEventListener("track",s),clearTimeout(a),void t(r)}if(i.track.id===n)return this.peerConnection.removeEventListener("track",s),clearTimeout(a),void t(i.track)};this.peerConnection.addEventListener("track",s)}),s=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:s});const o=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(o),{track:await a,id:n}}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:t});const n=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(n)}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(e.toString()))}}async muteRemote(e){}async unmuteRemote(e){}async muteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const t=this.peerConnection.getSenders().filter(t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")});if(t.length!==e.length)throw new Error("sender' length doesn't match mids' length.");t.map(e=>{if($N()&&e.track)e.track.enabled=!1;else{const t=e.getParameters();t.encodings.forEach(e=>e.active=!1),e.setParameters(t)}})}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const t=this.peerConnection.getSenders().filter(t=>{var n;return-1!==e.indexOf((null===(n=t.track)||void 0===n?void 0:n.id)||"")});if(t.length!==e.length)throw new Error("Senders' length doesn't match mids' length.");t.map(async e=>{if($N()&&e.track)e.track.enabled=!0;else{const t=e.getParameters();t.encodings.forEach(e=>e.active=!0),await e.setParameters(t)}});const n=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(n);const i=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(e.toString()))}}restartICE(e){var t=this;return XT(function*(){const n=yield JT(t.mutex.lock("From P2PConnection.restartICE"));try{if(!t.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");const n=_I().supportPCSetConfiguration;if(e===gM.RELAY&&!n)return;if(n){const n=t.peerConnection.getConfiguration(),i=e===gM.RELAY?"relay":"all";n.iceTransportPolicy!==i&&(sI.debug("[".concat(t.store.clientId,"] restartICE change iceTransportPolicy from [").concat(n.iceTransportPolicy,"] to [").concat(i,"]")),n.iceTransportPolicy=i,t.peerConnection.setConfiguration(n))}e!==gM.RELAY&&t.remoteSDP.updateCandidates(e);const i=yield JT(t.peerConnection.createOffer({iceRestart:!0}));if(!i.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const r=wU(i.sdp),{remoteIceParameters:a}=yield r.iceParameters;t.remoteSDP.restartICE(a);const s=t.remoteSDP.toString();yield JT(t.peerConnection.setLocalDescription(i)),yield JT(t.peerConnection.setRemoteDescription({type:"answer",sdp:s}))}catch(e){sI.warning("[".concat(t.store.clientId,"] restart ICE failed, abort operation"),e)}finally{n()}})()}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const e=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(e.sdp,[t]);this.remoteSDP.updateRecvMedia(t._mediaStreamTrack.kind,t);const i=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:"offer",sdp:n}),await this.peerConnection.setRemoteDescription({type:"answer",sdp:i})}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const n=this.peerConnection.getSenders().filter(t=>{var n;return(null===(n=t.track)||void 0===n?void 0:n.id)===e});1===n.length&&await this.applySendEncodings(n,[t])}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const n=this.peerConnection.getSenders().find(e=>{var n;return(null===(n=e.track)||void 0===n?void 0:n.id)===t});n&&await n.replaceTrack(e._mediaStreamTrack)}createDataChannels(e,t){throw new kA(AA.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}stopDataChannels(e){throw new kA(AA.NOT_SUPPORTED,"Planb mode does not support stopDataChannels.")}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,sI.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,sI.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))},AR("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const n={iceServers:[],sdpSemantics:"plan-b"};return t.iceServers?n.iceServers=t.iceServers:t.turnServer&&"off"!==t.turnServer.mode&&(QA(t.turnServer.servers)?n.iceServers=t.turnServer.servers:(n.iceServers&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),AR("USE_TURN_SERVER_OF_GATEWAY")&&n.iceServers&&t.turnServer.serversFromGateway&&n.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach(e=>{e.forceturn&&(n.iceTransportPolicy="relay")}))),n}static turnServerConfigToIceServers(e){const t=[];return e.forEach(e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turns:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}):(e.udpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.udpport,"?transport=udp")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:"password",urls:"turn:".concat(e.turnServerURL,":").concat(e.tcpport,"?transport=tcp")}))}),t}async updateRtpSenderEncodings(e,t){var n;if(t||(t=this.peerConnection.getSenders().find(t=>{var n;return(null===(n=t.track)||void 0===n?void 0:n.id)===e._mediaStreamTrack.id})),!t)return sI.warn("[".concat(e.getTrackId(),"] no rtpSender found}"));if(!_I().supportSetRtpSenderParameters)return sI.warn("Browser not support set rtp-sender parameters");const i={},r={};if(e instanceof PP)switch(e._optimizationMode){case"motion":i.degradationPreference="maintain-framerate";break;case"detail":i.degradationPreference="maintain-resolution";break;default:i.degradationPreference="balanced"}if(AR("DSCP_TYPE")&&wA()){var a;const e=AR("DSCP_TYPE");Pi(a=["very-low","low","medium","high"]).call(a,e)&&(r.networkPriority=e)}const s=t.getParameters(),o=null===(n=s.encodings)||void 0===n?void 0:n[0];o&&Object.assign(o,r),Object.assign(s,i),sI.debug("[".concat(e.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(s.encodings))),await t.setParameters(s)}async applySendEncodings(e,t){try{if(!_I().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let n=0;n<e.length;n++){const i=e[n],r=t[n];i&&r&&await this.updateRtpSenderEncodings(r,i)}}catch(e){sI.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(e,t){const n=FR(e);return t.forEach((e,t)=>{const i=e._mediaStreamTrack,r=n.mediaDescriptions.find(e=>e.attributes.mid===i.kind);r&&NU(r,e)}),BR(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,n)=>{var i;null===(i=this.onFirstVideoDecoded)||void 0===i||i.call(this,e,t,n)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedLocalCandidateChanged)||void 0===n||n.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var n;null===(n=this.onSelectedRemoteCandidateChanged)||void 0===n||n.call(this,e,t)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(e){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const t=this.remoteSDP.batchSend(e).map((t,n)=>{let{id:i,mslabel:r}=t;const{kind:a}=e[n];return new np((e,t)=>{const n=setTimeout(()=>{t(new Error("Cannot receive track, id: ".concat(i)))},1e4),s=t=>{const o=YN();if("Safari"===o.name&&11===Number(o.version)&&t.track.id!==i&&t.streams[0].id===r){var l;const r=t.streams[0].getTracks()[0];return null===(l=this.remoteSDP)||void 0===l||l.updateTrackLabel(a,i,t.track.id),this.peerConnection.removeEventListener("track",s),clearTimeout(n),void e({track:r,id:i})}if(t.track.id===i)return this.peerConnection.removeEventListener("track",s),clearTimeout(n),void e({track:t.track,id:i})};this.peerConnection.addEventListener("track",s)})}),n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:n});const i=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(i),await np.all(t)}catch(e){throw new kA(AA.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(e.toString()))}}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(t){if(_I().supportPCSetConfiguration){const n=e.resolvePCConfiguration(t);this.peerConnection.setConfiguration(n)}}},kL(TX.prototype,"connect",[RX],Object.getOwnPropertyDescriptor(TX.prototype,"connect"),TX.prototype),kL(TX.prototype,"stopSending",[RX],Object.getOwnPropertyDescriptor(TX.prototype,"stopSending"),TX.prototype),kL(TX.prototype,"receive",[RX],Object.getOwnPropertyDescriptor(TX.prototype,"receive"),TX.prototype),kL(TX.prototype,"stopReceiving",[RX],Object.getOwnPropertyDescriptor(TX.prototype,"stopReceiving"),TX.prototype),kL(TX.prototype,"muteRemote",[RX],Object.getOwnPropertyDescriptor(TX.prototype,"muteRemote"),TX.prototype),kL(TX.prototype,"unmuteRemote",[RX],Object.getOwnPropertyDescriptor(TX.prototype,"unmuteRemote"),TX.prototype),kL(TX.prototype,"muteLocal",[RX],Object.getOwnPropertyDescriptor(TX.prototype,"muteLocal"),TX.prototype),kL(TX.prototype,"unmuteLocal",[RX],Object.getOwnPropertyDescriptor(TX.prototype,"unmuteLocal"),TX.prototype),kL(TX.prototype,"close",[RX],Object.getOwnPropertyDescriptor(TX.prototype,"close"),TX.prototype),kL(TX.prototype,"updateEncoderConfig",[RX],Object.getOwnPropertyDescriptor(TX.prototype,"updateEncoderConfig"),TX.prototype),kL(TX.prototype,"updateSendParameters",[RX],Object.getOwnPropertyDescriptor(TX.prototype,"updateSendParameters"),TX.prototype),kL(TX.prototype,"replaceTrack",[RX],Object.getOwnPropertyDescriptor(TX.prototype,"replaceTrack"),TX.prototype),kL(TX.prototype,"getRemoteSSRC",[RX],Object.getOwnPropertyDescriptor(TX.prototype,"getRemoteSSRC"),TX.prototype),TX);function RX(e,t,n){const i=e[t];if("function"!=typeof i)throw new Error("Cannot use mutex on object property.");return n.value=async function(){const e=this.mutex,n=await e.lock("Locking from P2PConnection.".concat(t));try{for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return await i.apply(this,a)}finally{n()}},n}const IX={name:"PlanBConnection",create:function(e){let{store:t,spec:n}=e;return new kX(n,t)}},OX={interceptLocalAudioFrame:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!_I().supportWebRTCEncodedTransform)return void sI.warning("browser not support audio encoded transform");if(dD.has(e))return;if(!e.track)return;const n={track:e.track};if(QN()){if(!e.createEncodedStreams)return void sI.warning("browser not support createEncodedStreams() API");let r=null;try{r=e.createEncodedStreams()}catch(e){return void sI.error("create audio-encoded-streams error",e&&e.message)}const a=new TransformStream({transform(r,a){n.controller||(n.controller=a),e.track&&e.track.id!==n.track.id&&(sI.debug("audio track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",i),n.track=e.track,n.track.addEventListener("ended",i));const s=t.metadata&&t.metadata();s?function(e,t){const{chunk:n,controller:i}=t,r=lD.METADATA;n.data=function(e,t,n){const i=n.byteLength,r=i+sD+oD,a=rD+aD+r,s=new ArrayBuffer(e.byteLength+a),o=new DataView(s);o.setUint8(0,iD),o.setUint16(1,r),o.setUint8(3,t),o.setUint16(4,i);for(let c=0;c<i;c++)o.setUint8(6+c,n[c]);const l=new Uint8Array(o.buffer);return l.set(new Uint8Array(e),a),l.buffer}(n.data,r,e),i.enqueue(n)}(s,{sender:e,chunk:r,controller:a}):a.enqueue(r)}});r.readable.pipeThrough(a).pipeTo(r.writable)}else if($N()){if("undefined"==typeof RTCRtpScriptTransform)return void sI.warning("browser not support RTCRtpScriptTransform");const r=nD(),a=new MessageChannel;await new np(e=>r.onmessage=t=>{"registered"===t.data&&e(void 0)});const s=new RTCRtpScriptTransform(r,{name:"audio-metadata-tx",port:a.port2},[a.port2]);e.transform=s,await new np(e=>r.onmessage=t=>{"started"===t.data&&e(void 0)}),a.port1.onmessage=r=>{var s;if(r.data.transformed&&e.track&&(null===(s=e.track)||void 0===s?void 0:s.id)!==n.track.id)sI.debug("audio track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",i),n.track=e.track,n.track.addEventListener("ended",i);else if(r.data.getMetadata){const e=t.metadata&&t.metadata();e&&a.port1.postMessage({metadata:e})}},n.worker=r}function i(){if(e.track){if(this.id!==e.track.id)return;e.track.removeEventListener("ended",i)}const t=dD.get(e);if(t){dD.delete(e);try{var n,r;null===(n=t.controller)||void 0===n||n.terminate(),null===(r=t.worker)||void 0===r||r.terminate()}catch(e){sI.warning(e&&e.message)}}}dD.set(e,n),e.track.addEventListener("ended",i)},interceptRemoteAudioFrame:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!_I().supportWebRTCEncodedTransform)return void sI.warning("browser not support audio encoded transform");if(OD.has(e))return;const n={track:e.track,onMetadata:t.onMetadata,onPts:t.onPts};if(QN()&&!iA()){if(!e.createEncodedStreams)return void sI.warning("browser not support createEncodedStreams() API");sA(HN.CHROME,87,116)||(t.enableTopn=!1);let r=null;try{r=e.createEncodedStreams()}catch(e){return void sI.error("create audio-encoded-streams error",e&&e.message)}const a=new TransformStream({transform(r,a){n.controller||(n.controller=a),e.track&&e.track.id!==n.track.id&&(sI.debug("audio track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",i),n.track=e.track,n.track.addEventListener("ended",i)),t.enableTopn?function(e,t,n){var i;const r=cD(new DataView(t.data));if(!r)return n.enqueue(t);const a=e.track.id;jD.set(a,e.track);const s=null===(i=r.tlv.find(e=>e.tag===lD.AUDIO_LEVEL))||void 0===i?void 0:i.value;let o=0;"number"==typeof s&&(o=127-s);const l=Math.round(Math.pow(10,o/60)-1),{selected:c,speaker:d}=function(e,t){let n=wD.get(e);if(n||(n=function(e){const t=new vD;return wD.set(e,t),ED||(ED=new xD(AR("TOPN_SILENCE_THRESHOLD")||500),ED.on("ActiveSpeakerChanged",e=>{null!=e&&(SD=e)})),ED.addSpeakers([t]),t}(e)),wD.size<=CD)return{selected:!0,speaker:n};if(!ED)throw new Error("no active speaker detector");return ED.levelChanged(n.id,t),TD=ED.loudest.map(e=>e.id),SD&&!Pi(TD).call(TD,SD)&&TD.length>=CD&&TD.pop(),{selected:Pi(TD).call(TD,n.id)||n.id===SD,speaker:n}}(e,l),u=function(e,t,n){const i=ND.get(e)||new kD(e,t);return i.score=n,ND.set(e,i),function(e){if(AD.set(e,!0),!RD)return void(RD=Date.now());const t=Date.now();t-RD>1e3&&(AD.get(e)?AD.set(e,!1):(ID(e),AD.delete(e)),RD=t)}(e),i}(a,e.track,d.energyScore);u.addSample(c),u.active&&(t.data=r.frame.buffer,n.enqueue(t))}(e,r,a):t.enableMetadata||t.enablePts?function(e,t,n,i){const r=new DataView(e.data),a=r.getUint8(0);let s;if(0!=(128&a)&&71!==a){const t=function(e){if(e.byteLength<=0)return[];const t=[];let n=0;for(;n<e.byteLength;){const i=(128&e.getUint8(n))>>7,r=127&e.getUint8(n);if(!(i&&n+4<=e.byteLength)){n++;break}{const i=e.getUint32(n,!1),a=(16776192&i)>>10,s=1023&i;t.push({pt:r,ts_offset:a,length:s,data:new Uint8Array}),n+=4}}let i=e.byteLength-n;for(const r of t){if(r.length>i)return console.warn("Broken red payload"),[];r.length>0&&(r.data=new Uint8Array(e.buffer,e.byteOffset+n,r.length),n+=r.length,i-=r.length)}if(i>0){const r={pt:t.length>0?t[t.length-1].pt:0,ts_offset:0,length:i,data:new Uint8Array(e.buffer,e.byteOffset+n,i)};t.push(r)}return t}(r);if(t.length>0){const n=function(e){let t=0;for(let r=0;r<e.length;r++)t+=r<e.length-1?4:1,t+=e[r].length;const n=new Uint8Array(t);let i=0;for(let r=0;r<e.length;r++)if(r<e.length-1){const t=(2147483648|(127&e[r].pt)<<24|(262143&e[r].ts_offset)<<10|1023&e[r].length)>>>0;n[i++]=t>>24&255,n[i++]=t>>16&255,n[i++]=t>>8&255,n[i++]=255&t}else n[i++]=127&e[r].pt;for(const r of e)n.set(r.data,i),i+=r.length;return n}(t.map(e=>{const t=new Uint8Array(e.length);t.set(e.data);const n=cD(new DataView(t.buffer));return null!=n&&n.frame&&(e.data=null==n?void 0:n.frame),s=n,e}));e.data=n.buffer}}else s=cD(r),s&&(e.data=s.frame.buffer);if(t.enqueue(e),!s)return;const o=s.tlv.find(e=>e.tag===lD.METADATA);o&&n&&o.value instanceof Uint8Array&&n(o.value);const l=s.tlv.find(e=>e.tag===lD.AUDIO_64_BIT_PTS);l&&i&&l.value instanceof Uint8Array&&8==l.value.length&&i(new DataView(l.value.buffer).getBigUint64(0,!0))}(r,a,t.onMetadata,t.onPts):a.enqueue(r)}});r.readable.pipeThrough(a).pipeTo(r.writable)}else{if("undefined"==typeof RTCRtpScriptTransform)return void sI.warning("browser not support RTCRtpScriptTransform");const t=nD(),r=new MessageChannel;await new np(e=>t.onmessage=t=>{"registered"===t.data&&e(void 0)});const a=new RTCRtpScriptTransform(t,{name:"audio-metadata-rx",port:r.port2},[r.port2]);e.transform=a,await new np(e=>t.onmessage=t=>{"started"===t.data&&e(void 0)}),r.port1.onmessage=t=>{var r;t.data.transformed&&e.track&&(null===(r=e.track)||void 0===r?void 0:r.id)!==n.track.id?(sI.debug("audio track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",i),n.track=e.track,n.track.addEventListener("ended",i)):t.data.metadata&&n.onMetadata?n.onMetadata(t.data.metadata):t.data.pts&&n.onPts&&n.onPts(t.data.pts)},n.worker=t}function i(){e.track.removeEventListener("ended",i),function(e){const t=OD.get(e);if(t){!function(e){const t=wD.get(e);t&&(wD.delete(e),ED&&(ED.removeSpeakers([t]),0===wD.size&&(ED.destroy(),ED=null)))}(e),ID(e.track.id),OD.delete(e);try{var n,i;null===(n=t.controller)||void 0===n||n.terminate(),null===(i=t.worker)||void 0===i||i.terminate()}catch(e){sI.warning(e&&e.message)}}}(e)}OD.set(e,n),e.track.addEventListener("ended",i)},interceptLocalVideoFrame:async function(e,t){if(!_I().supportWebRTCEncodedTransform)return void sI.warning("browser not support video encoded transform");if(FD.has(e))return;if(!e.track)return;const n={track:e.track};if(QN()){if(!e.createEncodedStreams)return void sI.warning("browser not support createEncodedStreams() API");let r=null;try{r=e.createEncodedStreams()}catch(e){return void sI.error("create video-encoded-streams error",e&&e.message)}const a=[];t.on("sei-to-send",e=>{a.push(e)});const s=new TransformStream({transform(t,r){n.controller||(n.controller=r),e.track&&e.track.id!==n.track.id&&(sI.debug("video track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",i),n.track=e.track,n.track.addEventListener("ended",i));const s=UD(new Uint8Array(t.data)),o=a.shift();if(o){const e=function(e,t,n){switch(n){case PD:return function(e,t){const n=MD(t),i=n.length,r=Math.floor(i/255),a=i%255,s=new Uint8Array(6+r+1+i+e.byteLength);s[0]=0,s[1]=0,s[2]=0,s[3]=1,s[4]=6,s[5]=101;let o=0;for(;o<r;)s[6+o]=255,o++;return s[6+o]=a,o++,s.set(n,6+o),s.set(new Uint8Array(e),6+o+i),s.buffer}(e,t);case DD:return function(e,t){const n=MD(t),i=n.length,r=Math.floor(i/255),a=i%255,s=new Uint8Array(7+r+1+i+1+e.byteLength);s[0]=0,s[1]=0,s[2]=0,s[3]=1,s[4]=78,s[5]=1,s[6]=101;let o=0;for(;o<r;)s[7+o]=255,o++;return s[7+o]=a,o++,s.set(n,7+o),o+=i,s[7+o]=128,o++,s.set(new Uint8Array(e),7+o),s.buffer}(e,t);default:return null}}(t.data,o,s);e&&(t.data=e)}r.enqueue(t)}});r.readable.pipeThrough(s).pipeTo(r.writable)}else{if(!$N())return;{if("undefined"==typeof RTCRtpScriptTransform)return void sI.warning("browser not support RTCRtpScriptTransform");const r=nD(),a=new MessageChannel;await new np(e=>r.onmessage=t=>{"registered"===t.data&&e(void 0)});const s=new RTCRtpScriptTransform(r,{name:"sei-tx",port:a.port2},[a.port2]);e.transform=s,await new np(e=>r.onmessage=t=>{"started"===t.data&&e(void 0)}),t.on("sei-to-send",e=>{a.port1.postMessage({sei:e})}),a.port1.onmessage=t=>{var r;t.data.transformed&&e.track&&(null===(r=e.track)||void 0===r?void 0:r.id)!==n.track.id&&(sI.debug("video track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",i),n.track=e.track,n.track.addEventListener("ended",i))},n.worker=r}}function i(){if(e.track){if(this.id!==e.track.id)return;e.track.removeEventListener("ended",i)}const t=FD.get(e);if(t){FD.delete(e);try{var n,r;null===(n=t.controller)||void 0===n||n.terminate(),null===(r=t.worker)||void 0===r||r.terminate()}catch(e){sI.warning(e&&e.message)}}}FD.set(e,n),e.track.addEventListener("ended",i)},interceptRemoteVideoFrame:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!_I().supportWebRTCEncodedTransform)return void sI.warning("browser not support video encoded transform");if(!e.track)return;if(BD.has(e)){const n=BD.get(e);return void(n&&(n.onSei=t.onSei))}const n={track:e.track,onSei:t.onSei};if(QN()){if(!e.createEncodedStreams)return void sI.warning("browser not support createEncodedStreams() API");let t=null;try{t=e.createEncodedStreams()}catch(e){return void sI.error("create video-encoded-streams error",e&&e.message)}const r=new TransformStream({transform(t,r){n.controller||(n.controller=r),e.track&&e.track.id!==n.track.id&&(sI.debug("video track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",i),n.track=e.track,n.track.addEventListener("ended",i));const a=function(e,t){switch(t){case PD:return function(e){const t=new DataView(e.data);let n=0;for(;n+4<e.data.byteLength;){if(0===t.getUint8(n+0)&&0===t.getUint8(n+1)&&0===t.getUint8(n+2)&&1===t.getUint8(n+3)&&6===t.getUint8(n+4)){let i=n+6,r=0,a=0;for(;255===(a=t.getUint8(i++));)r+=255;r+=a;const s=LD(e.data,i,r);return new Uint8Array(s)}n++}return null}(e);case DD:return function(e){const t=new DataView(e.data);let n=0;for(;n+5<e.data.byteLength;){if(0===t.getUint8(n+0)&&0===t.getUint8(n+1)&&0===t.getUint8(n+2)&&1===t.getUint8(n+3)&&78===t.getUint8(n+4)&&1===t.getUint8(n+5)&&101===t.getUint8(n+6)){let i=n+7,r=0,a=0;for(;255===(a=t.getUint8(i++));)r+=255;r+=a;const s=LD(e.data,i,r);return new Uint8Array(s)}n++}return null}(e);default:return null}}(t,UD(new Uint8Array(t.data)));a&&n.onSei&&n.onSei(a),r.enqueue(t)}});t.readable.pipeThrough(r).pipeTo(t.writable)}else if($N()){if("undefined"==typeof RTCRtpScriptTransform)return void sI.warning("browser not support RTCRtpScriptTransform");const t=nD(),r=new MessageChannel;await new np(e=>t.onmessage=t=>{"registered"===t.data&&e(void 0)});const a=new RTCRtpScriptTransform(t,{name:"sei-rx",port:r.port2},[r.port2]);e.transform=a,await new np(e=>t.onmessage=t=>{"started"===t.data&&e(void 0)}),r.port1.onmessage=t=>{var r;t.data.transformed&&e.track&&(null===(r=e.track)||void 0===r?void 0:r.id)!==n.track.id?(sI.debug("video track changed: ".concat(n.track.id," => ").concat(e.track.id)),n.track.removeEventListener("ended",i),n.track=e.track,n.track.addEventListener("ended",i)):t.data.sei&&n.onSei&&n.onSei(t.data.sei)},n.worker=t}function i(){if(e.track){if(this.id!==e.track.id)return;e.track.removeEventListener("ended",i)}!function(e){const t=BD.get(e);if(t){BD.delete(e);try{var n,i;null===(n=t.controller)||void 0===n||n.terminate(),null===(i=t.worker)||void 0===i||i.terminate()}catch(e){sI.warning(e&&e.message)}}}(e)}BD.set(e,n),e.track.addEventListener("ended",i)}},jX={name:"InterceptFrame",create:()=>OX};_R(),NR("PROCESS_ID","process-".concat(Ck(8,""),"-").concat(Ck(4,""),"-").concat(Ck(4,""),"-").concat(Ck(4,""),"-").concat(Ck(12,""))),function(){let e;try{e=window.localStorage.getItem("websdk_ng_global_parameter")}catch(e){return void sI.error("Error loading sdk config",e.message)}if(e)try{const t=JSON.parse(window.atob(e)),n=Date.now();sI.debug("Loading global parameters from cache",t),Object.keys(t).forEach(e=>{if(Object.prototype.hasOwnProperty.call(TR,e)){const{value:i,expires:r}=t[e];if(r&&r<=n)return;RR[e]=i,TR[e]=i}})}catch(t){sI.error("Error loading mutableParamsCache: ".concat(e),t.message)}}(),Array.isArray(RR.AREAS)&&RR.AREAS.length>0&&mF(RR.AREAS,!0);const PX=(e,t,n)=>{sI.debug("setParameter key:".concat(e,", value:").concat(JSON.stringify(t))),NR(e,t,n)};KU(Qq,!1),KU(aY,!1),KU(fz,!1),KU(LY,!1),KU(Kq,!1),KU(wX,!1),KU(IX,!1),KU(jX,!1);const DX=function(e){const t=new WA,n=e,i={getListeners:t.getListeners.bind(t),on:(e,n)=>(function(e,t){e===TM.SECURITY_POLICY_VIOLATION&&fH(t,!0)}(e,n),t.on.bind(t)(e,n)),addListener:t.addListener.bind(t),once:t.once.bind(t),off:t.off.bind(t),removeAllListeners:t.removeAllListeners.bind(t),emit:t.emit.bind(t),safeEmit:t.safeEmit.bind(t)};return pH(pH({},n),i)}({__TRACK_LIST__:DI,VERSION:vR,BUILD:SR,ESM_BUNDLER:!1,ESM:!1,UMD:!0,DEV:!1,setParameter:PX,getParameter:AR,getSupportedCodec:async function(){let e={audio:[],video:[]};try{let t=new RTCPeerConnection;const n=await async function(e){let t;return _I().supportUnifiedPlan?(e.addTransceiver("video",{direction:"recvonly"}),e.addTransceiver("audio",{direction:"recvonly"}),t=(await e.createOffer()).sdp):t=(await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})).sdp,t}(t);if(!n)return e;t.close(),t=null,e=function(e){const t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push("VP8"),e.match(/ VP9/i)&&t.video.push("VP9"),e.match(/ AV1/i)&&t.video.push("AV1"),e.match(/ H264/i)&&t.video.push("H264"),e.match(/ H265/i)&&t.video.push("H265"),e.match(/ opus/i)&&t.audio.push("OPUS"),e.match(/ PCMU/i)&&t.audio.push("PCMU"),e.match(/ PCMA/i)&&t.audio.push("PCMA"),e.match(/ G722/i)&&t.audio.push("G722"),t}(n)}catch(e){throw new fI(AA.CREATE_OFFER_FAILED,e.toString&&e.toString()).print()}return e},checkSystemRequirements:function(){const e=mI.reportApiInvoke(null,{name:YA.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:XA.TRACER});let t=!1;try{const e=window.RTCPeerConnection,n=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,i=window.WebSocket;t=!!(e&&n&&i),t&&xA()&&aA(75)&&(new e).close()}catch(e){return sI.error("check system requirement failed: ",e),!1}let n=!1;const i=YN();i.name===HN.CHROME&&Number(i.version)>=58&&("WebKit"!==GN.engine.name||function(){const e=YN();if(ZN()){if(e.os===zN.MAC_OS)return!0;if(e.os===zN.IOS){const e=GN.os.version&&GN.os.version.split(".");if(e&&14===Number(e[0])&&e[1]&&Number(e[1])>=3)return!0;if(e&&Number(e[0])>14)return!0}}return!1}())&&(n=!0),(i.name===HN.FIREFOX&&Number(i.version)>=56||i.name===HN.OPERA&&Number(i.version)>=45||i.name===HN.SAFARI&&Number(i.version)>=11||"WebKit"===i.name&&(iA()||vA())&&i.osVersion&&Number(i.osVersion.split(".")[0])>=11||bA()||YN().name===HN.QQ)&&(n=!0),sI.debug("checkSystemRequirements, api:",t,"browser",n);const r=t&&n;return e.onSuccess(r),r},getDevices:function(e){return OO.enumerateDevices(!0,!0,e)},getMicrophones:function(e){return OO.getRecordingDevices(e)},getCameras:function(e){return OO.getCamerasDevices(e)},getElectronScreenSources:SO,getPlaybackDevices:function(e){return OO.getSpeakers(e)},createClient:function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{codec:"vp8",audioCodec:"opus",mode:"rtc"};const n=Ck(5,"client-"),i=mI.reportApiInvoke(null,{id:n,name:YA.CREATE_CLIENT,options:[t],tag:XA.TRACER});try{!function(e){IA(e.codec,"config.codec",["vp8","vp9","av1","h264","h265"]),IA(e.mode,"config.mode",["rtc","live","p2p"]),void 0!==e.audioCodec&&IA(e.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),void 0!==e.proxyServer&&PA(e.proxyServer,"config.proxyServer",1,1e4),void 0!==e.turnServer&&$A(e.turnServer),void 0!==e.httpRetryConfig&&KA(e.httpRetryConfig),void 0!==e.websocketRetryConfig&&KA(e.websocketRetryConfig)}(t)}catch(e){throw i.onError(e),e}return(uA(16,0,!0)||hA(16,0,!0))&&("vp9"===t.codec&&(t.codec="vp8",sI.debug("browser not support vp9, force use vp8")),NR("UNSUPPORTED_VIDEO_CODEC",["vp9"])),void 0===t.audioCodec&&(t.audioCodec="opus"),i.onSuccess(),new sH(aH(aH({forceWaitGatewayResponse:!0},t),{},{role:Pi(e=["rtc","p2p"]).call(e,t.mode)?"host":t.role||"audience"}),n)},createCameraVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=AR("CAMERA_CAPTURE_CONFIG"),n=Ck(8,"track-cam-"),i=mI.reportApiInvoke(null,{id:n,tag:XA.TRACER,name:YA.CREATE_CAM_VIDEO_TRACK,options:[cO({},e),t]});t&&(e.encoderConfig=t);const r=YO(e);let a=null;sI.info("start create camera video track with config",JSON.stringify(e),"trackId",n);try{a=(await AO({video:r},n)).getVideoTracks()[0]||null}catch(e){throw i.onError(e),e}if(!a){const e=new kA(AA.UNEXPECTED_ERROR,"can not find track in media stream");return i.onError(e),e.throw(sI)}if(e.optimizationMode&&LP(n,a,e,RI(e.encoderConfig)),AR("USE_STANDARD_BITRATE_DEFAULT")){const t=RI(e.encoderConfig);e.encoderConfig=t,delete t.bitrateMax,delete t.bitrateMin}const s=new DP(a,e,r,e.scalabiltyMode?OI(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,n);return i.onSuccess(s.getTrackId()),sI.info("create camera video success, trackId:",n),s},createCustomVideoTrack:function(e){const t=Ck(8,"track-cus-"),n=mI.reportApiInvoke(null,{id:t,tag:XA.TRACER,name:YA.CREATE_CUSTOM_VIDEO_TRACK,options:[e]});AR("USE_STANDARD_BITRATE_DEFAULT")&&(delete e.bitrateMax,delete e.bitrateMin);const i=new PP(e.mediaStreamTrack,{width:e.width,height:e.height,frameRate:e.frameRate,bitrateMax:e.bitrateMax,bitrateMin:e.bitrateMin},e.scalabiltyMode?OI(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,t,[UI.CUSTOM_TRACK]);return n.onSuccess(i.getTrackId()),sI.info("create custom video track success with config",e,"trackId",i.getTrackId()),i},createScreenVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"disable";const n="object"==typeof t?function(e){return XO(e)}(t):void 0;n&&(t="auto");const i=Ck(8,"track-scr-v-"),r=mI.reportApiInvoke(null,{id:i,tag:XA.TRACER,name:YA.CREATE_SCREEN_VIDEO_TRACK,options:[cO({},e),t]});e.encoderConfig?"string"==typeof e.encoderConfig||e.encoderConfig.width&&e.encoderConfig.height||(e.encoderConfig.width={max:1920},e.encoderConfig.height={max:1080}):e.encoderConfig="1080p_2";const a=function(e){const t={};e.screenSourceType&&(t.mediaSource=e.screenSourceType),e.extensionId&&QN()&&(t.extensionId=e.extensionId);const{displaySurface:n,selfBrowserSurface:i,surfaceSwitching:r,systemAudio:a,preferCurrentTab:s}=e;(rA(107)||oA(107)||pA(93))&&(n&&(IA(n,"displaySurface",["browser","window","monitor"]),t.displaySurface=n),i?(IA(i,"selfBrowserSurface",["exclude","include"]),t.selfBrowserSurface=i):t.selfBrowserSurface="include",r&&(IA(r,"surfaceSwitching",["exclude","include"]),t.surfaceSwitching=r)),(rA(105)||oA(105)||pA(91))&&a&&(IA(a,"systemAudio",["exclude","include"]),t.systemAudio=a),(rA(94)||oA(94)||pA(80))&&s&&(t.preferCurrentTab=!0),e.electronScreenSourceId&&(t.sourceId=e.electronScreenSourceId);const o=e.encoderConfig?II(e.encoderConfig):null;return t.mandatory={chromeMediaSource:"desktop",maxWidth:o?o.width:void 0,maxHeight:o?o.height:void 0},o&&(o.frameRate&&("number"==typeof o.frameRate?(t.mandatory.maxFrameRate=o.frameRate,t.mandatory.minFrameRate=o.frameRate):(t.mandatory.maxFrameRate=o.frameRate.max||o.frameRate.ideal||o.frameRate.exact||void 0,t.mandatory.minFrameRate=o.frameRate.min||o.frameRate.ideal||o.frameRate.exact||void 0),t.frameRate=o.frameRate),o.width&&(t.width=o.width),o.height&&(t.height=o.height)),t}(e);let s=null,o=null;const l=_I();if(!l.supportShareAudio&&"enable"===t){const e=new kA(AA.NOT_SUPPORTED,"your browser or platform is not support share-screen with audio");return r.onError(e),e.throw(sI)}sI.info("start create screen video track with config",e,"withAudio",t,"trackId",i);const c=l.supportShareAudio&&"disable"!==t;try{const e=await AO({screen:a,screenAudio:c?n||!0:void 0},i);s=e.getVideoTracks()[0]||null,o=e.getAudioTracks()[0]||null}catch(e){throw r.onError(e),e}if(!s){const e=new kA(AA.UNEXPECTED_ERROR,"can not find track in media stream");return r.onError(e),e.throw(sI)}if(!o&&"enable"===t){s&&s.stop();const e=new kA(AA.SHARE_AUDIO_NOT_ALLOWED);return r.onError(e),e.throw(sI)}e.optimizationMode||(e.optimizationMode="detail"),e.optimizationMode&&(LP(i,s,e,e.encoderConfig&&II(e.encoderConfig)||void 0),e.encoderConfig&&"string"!=typeof e.encoderConfig&&(e.encoderConfig.bitrateMin=e.encoderConfig.bitrateMax));const d=new PP(s,e.encoderConfig?II(e.encoderConfig):{},e.scalabiltyMode?OI(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,i,[UI.SCREEN_TRACK]);if(!o)return r.onSuccess(d.getTrackId()),sI.info("create screen video track success","video:",d.getTrackId()),d;const u=new Bj(o,void 0,Ck(8,"track-scr-a-"),!1);return r.onSuccess([d.getTrackId(),u.getTrackId()]),sI.info("create screen video track success","video:",d.getTrackId(),"audio:",u.getTrackId()),[d,u]},createMicrophoneAndCameraTracks:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=AR("CAMERA_CAPTURE_CONFIG"),i=Ck(8,"track-mic-"),r=Ck(8,"track-cam-"),a=mI.reportApiInvoke(null,{id:"".concat(i,"-").concat(r),tag:XA.TRACER,name:YA.CREATE_MIC_AND_CAM_TRACKS,options:[e,t,n]});n&&(t.encoderConfig=n);const s=YO(t),o=KO(e);let l=null,c=null;sI.info("start create camera video track(".concat(r,") and microphone audio track(").concat(i,") with config, audio: ").concat(JSON.stringify(e),", video: ").concat(JSON.stringify(t)));try{const e=await AO({audio:o,video:s},"".concat(i,"-").concat(r));l=e.getAudioTracks()[0],c=e.getVideoTracks()[0]}catch(e){throw a.onError(e),e}if(!l||!c){const e=new kA(AA.UNEXPECTED_ERROR,"can not find tracks in media stream");return a.onError(e),e.throw(sI)}if(t.optimizationMode&&LP(r,c,t,RI(t.encoderConfig)),AR("USE_STANDARD_BITRATE_DEFAULT")){const e=RI(t.encoderConfig);t.encoderConfig=e,delete e.bitrateMax,delete e.bitrateMin}const d=new Vj(l,e,o,i),u=new DP(c,t,s,t.scalabiltyMode?OI(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,r);return a.onSuccess([d.getTrackId(),u.getTrackId()]),sI.info("create camera video track(".concat(r,") and microphone audio track(").concat(i,") success")),[d,u]},createMicrophoneAudioTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Ck(8,"track-mic-"),n=mI.reportApiInvoke(null,{id:t,tag:XA.TRACER,name:YA.CREATE_MIC_AUDIO_TRACK,options:[e]}),i=KO(e);let r=null;sI.info("start create microphone audio track with config",JSON.stringify(e),"trackId",t);try{r=(await AO({audio:i},t)).getAudioTracks()[0]||null}catch(e){throw n.onError(e),e}if(!r){const e=new kA(AA.UNEXPECTED_ERROR,"can not find track in media stream");return n.onError(e),e.throw(sI)}const a=new Vj(r,e,i,t);return n.onSuccess(a.getTrackId()),sI.info("create microphone audio track success, trackId:",t),a},createCustomAudioTrack:function(e){const t=Ck(8,"track-cus-"),n=mI.reportApiInvoke(null,{id:t,tag:XA.TRACER,name:YA.CREATE_CUSTOM_AUDIO_TRACK,options:[e]}),i=new Bj(e.mediaStreamTrack,e.encoderConfig?PI(e.encoderConfig):{},t,!1);return sI.info("create custom audio track success with config",e,"trackId",i.getTrackId()),n.onSuccess(i.getTrackId()),i},createBufferSourceAudioTrack:async function(e){var t;const{cacheOnlineFile:n,encoderConfig:i}=e;let{source:r}=e;const a={source:r instanceof AudioBuffer?"AudioBuffer":r instanceof File?null!==(t=File.name)&&void 0!==t?t:"File":r,cacheOnlineFile:n,encoderConfig:i},s=Ck(8,"track-buf-"),o=mI.reportApiInvoke(null,{id:s,tag:XA.TRACER,name:YA.CREATE_BUFFER_AUDIO_TRACK,options:[a]});if(AR("DISABLE_WEBAUDIO"))throw new kA(AA.NOT_SUPPORTED,"can not create BufferSourceAudioTrack when WebAudio disabled");sI.info("start create buffer source audio track with config",JSON.stringify(a),"trackId",s);const l=r;if(!(r instanceof AudioBuffer))try{r=await async function(e,t){let n=null;if("string"==typeof e){const t=Gj.get(e);if(t)return sI.debug("use cached audio resource: ",e),t;try{n=(await zk(()=>LN.get(e,{responseType:"arraybuffer"}),void 0,void 0,{maxRetryCount:3})).data}catch(e){throw new kA(AA.FETCH_AUDIO_FILE_FAILED,e.toString())}}else{const t=new np((t,n)=>{const i=new FileReader;i.onload=e=>{e.target?t(e.target.result):n(new kA(AA.READ_LOCAL_AUDIO_FILE_ERROR))},i.onerror=()=>{n(new kA(AA.READ_LOCAL_AUDIO_FILE_ERROR))},i.readAsArrayBuffer(e)});n=await t}const i=await function(e){const t=fO();return new np((n,i)=>{t.decodeAudioData(e,e=>{n(e)},e=>{i(new kA(AA.DECODE_AUDIO_FILE_FAILED,e.toString()))})})}(n);return"string"==typeof e&&t&&Gj.set(e,i),i}(r,n)}catch(e){return o.onError(e),e.throw(sI)}const c=new Wj(r),d=new zj(l,c,i?PI(i):{},s);return sI.info("create buffer source audio track success, trackId:",s),o.onSuccess(d.getTrackId()),d},setAppType:function(e){if(sI.debug("setAppType: ".concat(e)),!(Number.isInteger(e)&&e>=0))throw sI.debug("Invalid appType"),new fI(AA.INVALID_PARAMS,"invalid app type",e);NR("APP_TYPE",Math.floor(e))},setLogLevel:function(e){sI.setLogLevel(e)},enableLogUpload:function(){AR("USE_NEW_LOG")?NR("UPLOAD_LOG",!0):sI.enableLogUpload()},disableLogUpload:function(){AR("USE_NEW_LOG")?NR("UPLOAD_LOG",!1):sI.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new JF},checkAudioTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=mI.reportApiInvoke(null,{tag:XA.TRACER,name:YA.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof Bj||e instanceof ZP)){const e=new fI(AA.INVALID_TRACK,"the parameter is not a audio track");return n.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const i=e instanceof Bj?e.getTrackLabel():"remote_track",r=e.getVolumeLevel();let a=r,s=r;const o=Date.now();return new np(r=>{const l=setInterval(()=>{const c=e.getVolumeLevel();a=c>a?c:a,s=c<s?c:s;const d=a-s>1e-4,u=Date.now()-o;if(d||u>t){clearInterval(l);const t=d,s={duration:u,deviceLabel:i,maxVolumeLevel:a,result:t};sI.info("[track-".concat(e.getTrackId(),"] check audio track active completed. ").concat(JSON.stringify(s))),n.onSuccess(s),r(t)}},200)})},checkVideoTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const n=mI.reportApiInvoke(null,{tag:XA.TRACER,name:YA.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof PP||e instanceof JP)){const e=new fI(AA.INVALID_TRACK,"the parameter is not a video track");return n.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const i=e instanceof PP?e.getTrackLabel():"remote_track",r=e.getMediaStreamTrack(!0),a=document.createElement("video");a.style.width="1px",a.style.height="1px",a.setAttribute("muted",""),a.muted=!0,a.setAttribute("playsinline",""),a.controls=!1,($N()||ZN())&&(a.style.opacity="0.01",a.style.position="fixed",a.style.left="0",a.style.top="0",document.body.appendChild(a)),a.srcObject=new MediaStream([r]),a.play();const s=document.createElement("canvas");s.width=160,s.height=120;let o=0,l=0;try{const e=Date.now();o=await function(e,t,n,i){let r,a=0,s=null;return new np((o,l)=>{function c(){a>i&&r&&(r(),o(a));const t=n.getContext("2d");if(!t){const e=new fI(AA.UNEXPECTED_ERROR,"can not get canvas 2d context.");return sI.error(e.toString()),void l(e)}t.drawImage(e,0,0,160,120);const c=t.getImageData(0,0,n.width,n.height),d=Math.floor(c.data.length/3);if(s){for(let e=0;e<d;e+=3)if(c.data[e]!==s[e])return a+=1,void(s=c.data);s=c.data}else s=c.data}setTimeout(()=>{r&&(r(),o(a))},t),r=vO(()=>{c()},30)})}(a,t,s,4),l=Date.now()-e}catch(e){throw n.onError(e),e}hV===HN.SAFARI&&(a.pause(),a.remove()),a.srcObject=null;const c=o>4,d={duration:l,changedPicNum:o,deviceLabel:i,result:c};return sI.info("[track-".concat(e.getTrackId(),"] check video track active completed. ").concat(JSON.stringify(d))),n.onSuccess(d),c},setArea:mF,audioElementPlayCenter:UO,resumeAudioContext:function(){UO.autoResumeAfterInterruption(!0)},processExternalMediaAEC:function(e){uH.processExternalMediaAEC(e)},registerExtensions:function(e){const t=AR("PLUGIN_INFO")||[];e.forEach(e=>{"name"in e&&!Pi(t).call(t,e.name)&&t.push(e.name);const n=e;n.__registered__=!0,n.logger.hookLog=sI.extLog,n.reporter.hookApiInvoke=mI.extApiInvoke,n.parameters&&Object.keys(n.parameters).forEach(e=>{n.parameters[e]=AR(e)})}),PX("PLUGIN_INFO",t)},ChannelMediaRelayError:nM,ChannelMediaRelayEvent:eM,ChannelMediaRelayState:tM,RemoteStreamFallbackType:VI,RemoteStreamType:BI,ConnectionDisconnectedReason:ZA,AudienceLatencyLevelType:JA,AREAS:oM,preload:async function(e,t,n,i){return TV(e,t,n,i)}});return Object.defineProperties(DX,{onAudioAutoplayFailed:{get:()=>PO.onAudioAutoplayFailed,set:e=>{PO.onAudioAutoplayFailed=e}},onAutoplayFailed:{get:()=>PO.onAutoplayFailed,set:e=>{PO.onAutoplayFailed=e}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>DX._onSecurityPolicyViolation,set(e){DX._onSecurityPolicyViolation=e,fH(e)}},__CLIENT_LIST__:{get:()=>AR("SHOW_GLOBAL_CLIENT_LIST")?HD:[]}}),OO.on(tO.CAMERA_DEVICE_CHANGED,e=>{sI.info("camera device changed",JSON.stringify(e)),DX.onCameraChanged&&DX.onCameraChanged(e),DX.safeEmit(TM.CAMERA_CHANGED,e)}),OO.on(tO.RECORDING_DEVICE_CHANGED,e=>{sI.info("microphone device changed",JSON.stringify(e)),DX.onMicrophoneChanged&&DX.onMicrophoneChanged(e),DX.safeEmit(TM.MICROPHONE_CHANGED,e)}),OO.on(tO.PLAYOUT_DEVICE_CHANGED,e=>{sI.debug("playout device changed",JSON.stringify(e)),DX.onPlaybackDeviceChanged&&DX.onPlaybackDeviceChanged(e),DX.safeEmit(TM.PLAYBACK_DEVICE_CHANGED,e)}),UO.onAutoplayFailed=()=>{sI.info("detect audio element autoplay failed"),PO.onAudioAutoplayFailed&&PO.onAudioAutoplayFailed()},mO.on("autoplay-failed",()=>{sI.info("detect webaudio autoplay failed"),PO.onAudioAutoplayFailed&&PO.onAudioAutoplayFailed(),DX.safeEmit(TM.AUTOPLAY_FAILED)}),mO.on(wI.STATE_CHANGE,(e,t)=>{sI.info("audio context state changed: ".concat(t," => ").concat(e)),DX.onAudioContextStateChanged&&DX.onAudioContextStateChanged(e,t),DX.safeEmit(TM.AUDIO_CONTEXT_STATE_CHANGED,e,t)}),ck.on(rk.NETWORK_STATE_CHANGE,(e,t)=>{sI.info("[network-indicator] network state changed, ".concat(t," => ").concat(e))}),window&&(window.__ARTC__=DX),DX}()},1676:(e,t,n)=>{var i=n(2969),r=n(3871);e.exports=function(e,t){return t.length<2?e:i(e,r(t,0,-1))}},1714:(e,t,n)=>{var i=n(1340);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},1733:(e,t,n)=>{var i=n(1775),r=n(4664),a=n(9096);e.exports=function(e,t){var n={};return t=a(t,3),r(e,function(e,r,a){i(n,r,t(e,r,a))}),n}},1775:(e,t,n)=>{var i=n(5654);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1791:(e,t,n)=>{var i=n(5172),r=n(5546);e.exports=function e(t,n){function a(e,r,s,o){try{var l=t[e](r),c=l.value;return c instanceof i?n.resolve(c.v).then(function(e){a("next",e,s,o)},function(e){a("throw",e,s,o)}):n.resolve(c).then(function(e){l.value=e,s(l)},function(e){return a("throw",e,s,o)})}catch(t){o(t)}}var s;this.next||(r(e.prototype),r(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(e,t,i){function r(){return new n(function(t,n){a(e,i,t,n)})}return s=s?s.then(r,r):r()},!0)},e.exports.__esModule=!0,e.exports.default=e.exports},1817:(e,t,n)=>{var i=n(6686),r=Object.create,a=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},1830:e=>{e.exports=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}},1844:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},1946:(e,t,n)=>{var i=n(1340);e.exports=function(e){return i(this.__data__,e)>-1}},1979:(e,t,n)=>{var i=n(3579),r=n(6882)(function(e,t,n){return t=t.toLowerCase(),e+(n?i(t):t)});e.exports=r},1980:e=>{e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},2019:(e,t,n)=>{"use strict";t.A=f;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=d(e)&&"function"!=typeof e)return{default:e};if((t=l(t))&&t.has(e))return t.get(e);var n,i,r={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)"default"!==n&&{}.hasOwnProperty.call(e,n)&&((i=a?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n]);return r.default=e,t&&t.set(e,r),r}(n(5043)),r=o(n(3606)),a=o(n(5173)),s=["type","width","height","series","options"];function o(e){return e&&e.__esModule?e:{default:e}}function l(e){var t,n;return"function"!=typeof WeakMap?null:(t=new WeakMap,n=new WeakMap,(l=function(e){return e?n:t})(e))}function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,i=arguments[t];for(n in i)!{}.hasOwnProperty.call(i,n)||(e[n]=i[n])}return e}).apply(null,arguments)}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return(t=function(e){return e=function(e,t){if("object"!=d(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if(n=n.call(e,t||"default"),"object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"==d(e)?e:e+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(e!==t){if("object"!==d(e)||null===e||"object"!==d(t)||null===t)return!1;if(!n.has(e)&&!n.has(t)){n.add(e),n.add(t);var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(var a=0,s=i;a<s.length;a++){var o=s[a];if(!r.includes(o)||!m(e[o],t[o],n))return!1}}}return!0}function f(e){function t(e){return e&&"object"===d(e)&&!Array.isArray(e)}var n=void 0===(g=e.type)?"line":g,a=void 0===(g=e.width)?"100%":g,o=void 0===(g=e.height)?"auto":g,l=e.series,u=e.options,g=function(e,t){if(null==e)return{};var n,i=function(e,t){if(null==e)return{};var n,i={};for(n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i}(e,t);if(Object.getOwnPropertySymbols)for(var r=Object.getOwnPropertySymbols(e),a=0;a<r.length;a++)n=r[a],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n]);return i}(e,s),_=(0,i.useRef)(null),v=(0,i.useRef)(null),b=(0,i.useRef)(),y=((0,i.useEffect)(function(){b.current=u;var e=_.current;return v.current=new r.default(e,y()),v.current.render(),function(){v.current&&"function"==typeof v.current.destroy&&v.current.destroy()}},[]),(0,i.useEffect)(function(){var e=!m(v.current.w.config.series,l),t=!m(b.current,u)||o!==v.current.opts.chart.height||a!==v.current.opts.chart.width;(e||t)&&(!e||t?v.current.updateOptions(y()):v.current.updateSeries(l)),b.current=u},[u,l,o,a]),function(){return x(u,{chart:{type:n,height:o,width:a},series:l})}),x=function(e,n){var i=h({},e);return t(e)&&t(n)&&Object.keys(n).forEach(function(r){t(n[r])&&r in e?i[r]=x(e[r],n[r]):Object.assign(i,p({},r,n[r]))}),i};e=function(e,t){var n=h({},e);return t.forEach(function(e){delete n[e]}),n}(g,Object.keys(f.propTypes));return i.default.createElement("div",c({ref:_},e))}f.propTypes={type:a.default.string.isRequired,series:a.default.array.isRequired,options:a.default.object.isRequired,width:a.default.oneOfType([a.default.string,a.default.number]),height:a.default.oneOfType([a.default.string,a.default.number])}},2037:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},2070:(e,t,n)=>{var i=n(7937)(n(6552),"Set");e.exports=i},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},2086:(e,t,n)=>{"use strict";e.exports=n(5082)},2112:e=>{e.exports=function(){}},2154:(e,t,n)=>{var i=n(5575),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},2322:(e,t,n)=>{var i=n(6913),r=n(5990),a=n(2761),s=Function.prototype,o=Object.prototype,l=s.toString,c=o.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=i(e))return!1;var t=r(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}},2520:(e,t,n)=>{var i=n(5816),r=n(9096),a=n(9140),s=Math.max;e.exports=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var l=null==n?0:a(n);return l<0&&(l=s(o+l,0)),i(e,r(t,3),l)}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var i=n(4052),r=n(9841),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||(s.test(e)||!a.test(e)||null!=t&&e in Object(t))}},2616:(e,t,n)=>{var i=n(4008),r=n(5857)(function(e,t){return null==e?{}:i(e,t)});e.exports=r},2622:(e,t,n)=>{var i=n(705);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var i=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var i=n(5043),r=n(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function f(e,t,n,i,r,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!u.call(m,e)||!u.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_,v);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_,v);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_,v);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),N=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,M=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),a=i.stack.split("\n"),s=r.length-1,o=a.length-1;1<=s&&0<=o&&r[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(r[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||r[s]!==a[o]){var l="\n"+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case C:return"Profiler";case S:return"StrictMode";case k:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=G(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=W(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),i=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=fe(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var _e=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,Se=null;function Ce(e){if(e=br(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=xr(t),we(e.stateNode,e.type,t))}}function Te(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ne(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ae(e,t){return e(t)}function ke(){}var Re=!1;function Ie(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ae(e,t,n)}finally{Re=!1,(null!==Ee||null!==Se)&&(ke(),Ne())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var i=xr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var je=!1;if(d)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){je=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(de){je=!1}function De(e,t,n,i,r,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Le=!1,Me=null,Ue=!1,Fe=null,Be={onError:function(e){Le=!0,Me=e}};function Ve(e,t,n,i,r,a,s,o,l){Le=!1,Me=null,De.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return We(r),e;if(s===i)return We(r),t;s=s.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=r.unstable_scheduleCallback,Xe=r.unstable_cancelCallback,Ke=r.unstable_shouldYield,Je=r.unstable_requestPaint,Ze=r.unstable_now,Qe=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~r;0!==o?i=ut(o):0!==(a&=s)&&(i=ut(a))}else 0!==(s=n&~r)?i=ut(s):0!==a&&(i=ut(a));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(a=t&-t)||16===r&&0!==(4194240&a)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-st(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _t(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-st(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,Et,St,Ct,Tt=!1,Nt=[],At=null,kt=null,Rt=null,It=new Map,Ot=new Map,jt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,i,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=br(t))&&wt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Mt(e){var t=vr(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,function(){Et(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=br(n))&&wt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);ye=i,n.target.dispatchEvent(i),ye=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){Tt=!1,null!==At&&Ut(At)&&(At=null),null!==kt&&Ut(kt)&&(kt=null),null!==Rt&&Ut(Rt)&&(Rt=null),It.forEach(Ft),Ot.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<Nt.length){Vt(Nt[0],e);for(var n=1;n<Nt.length;n++){var i=Nt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==At&&Vt(At,e),null!==kt&&Vt(kt,e),null!==Rt&&Vt(Rt,e),It.forEach(t),Ot.forEach(t),n=0;n<jt.length;n++)(i=jt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Mt(n),null===n.blockedOn&&jt.shift()}var Ht=y.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,i){var r=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Yt(e,t,n,i)}finally{bt=r,Ht.transition=a}}function qt(e,t,n,i){var r=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Yt(e,t,n,i)}finally{bt=r,Ht.transition=a}}function Yt(e,t,n,i){if(Wt){var r=Kt(e,t,n,i);if(null===r)Wi(e,t,i,Xt,n),Dt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return At=Lt(At,e,t,n,i,r),!0;case"dragenter":return kt=Lt(kt,e,t,n,i,r),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,i,r),!0;case"pointerover":var a=r.pointerId;return It.set(a,Lt(It.get(a)||null,e,t,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,Ot.set(a,Lt(Ot.get(a)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Dt(e,i),4&t&&-1<Pt.indexOf(e)){for(;null!==r;){var a=br(r);if(null!==a&&xt(a),null===(a=Kt(e,t,n,i))&&Wi(e,t,i,Xt,n),a===r)break;r=a}null!==r&&i.stopPropagation()}else Wi(e,t,i,null,n)}}var Xt=null;function Kt(e,t,n,i){if(Xt=null,null!==(e=vr(e=xe(i))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,$t=null;function en(){if($t)return $t;var e,t,n=Qt,i=n.length,r="value"in Zt?Zt.value:Zt.textContent,a=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[a-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,i,r,a){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=M({},cn,{view:0,detail:0}),hn=an(un),pn=M({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=an(pn),fn=an(M({},pn,{dataTransfer:0})),gn=an(M({},un,{relatedTarget:0})),_n=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),yn=an(M({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return Sn}var Tn=M({},un,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(Tn),An=an(M({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=an(M({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=M({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(In),jn=[9,13,27,32],Pn=d&&"CompositionEvent"in window,Dn=null;d&&"documentMode"in document&&(Dn=document.documentMode);var Ln=d&&"TextEvent"in window&&!Dn,Mn=d&&(!Pn||Dn&&8<Dn&&11>=Dn),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,i){Te(i),0<(t=qi(t,"onChange")).length&&(n=new dn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var qn=null,Yn=null;function Xn(e){Ui(e,0)}function Kn(e){if(Y(yr(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(d){var Qn;if(d){var $n="oninput"in document;if(!$n){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),$n="function"===typeof ei.oninput}Qn=$n}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function ti(){qn&&(qn.detachEvent("onpropertychange",ni),Yn=qn=null)}function ni(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];Gn(t,Yn,e,xe(e)),Ie(Xn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Yn=n,(qn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function ai(e,t){if("click"===e)return Kn(t)}function si(e,t){if("input"===e||"change"===e)return Kn(t)}var oi="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(oi(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!u.call(t,r)||!oi(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function di(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function ui(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ui(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hi(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mi(e){var t=hi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ui(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,a=Math.min(i.start,r);i=void 0===i.end?a:Math.min(i.end,r),!e.extend&&a>i&&(r=i,i=a,a=r),r=di(n,a);var s=di(n,i);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fi=d&&"documentMode"in document&&11>=document.documentMode,gi=null,_i=null,vi=null,bi=!1;function yi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bi||null==gi||gi!==X(i)||("selectionStart"in(i=gi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},vi&&li(vi,i)||(vi=i,0<(i=qi(_i,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wi={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},Ei={},Si={};function Ci(e){if(Ei[e])return Ei[e];if(!wi[e])return e;var t,n=wi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Si)return Ei[e]=n[t];return e}d&&(Si=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Ti=Ci("animationend"),Ni=Ci("animationiteration"),Ai=Ci("animationstart"),ki=Ci("transitionend"),Ri=new Map,Ii="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(e,t){Ri.set(e,t),l(t,[e])}for(var ji=0;ji<Ii.length;ji++){var Pi=Ii[ji];Oi(Pi.toLowerCase(),"on"+(Pi[0].toUpperCase()+Pi.slice(1)))}Oi(Ti,"onAnimationEnd"),Oi(Ni,"onAnimationIteration"),Oi(Ai,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(ki,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function Mi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,s,o,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(a(198));var d=Me;Le=!1,Me=null,Ue||(Ue=!0,Fe=d)}}(i,t,void 0,e),e.currentTarget=null}function Ui(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var s=i.length-1;0<=s;s--){var o=i[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&r.isPropagationStopped())break e;Mi(r,o,c),a=l}else for(s=0;s<i.length;s++){if(l=(o=i[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&r.isPropagationStopped())break e;Mi(r,o,c),a=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fi(e,t){var n=t[fr];void 0===n&&(n=t[fr]=new Set);var i=e+"__bubble";n.has(i)||(Hi(t,e,2,!1),n.add(i))}function Bi(e,t,n){var i=0;t&&(i|=4),Hi(n,e,i,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function zi(e){if(!e[Vi]){e[Vi]=!0,s.forEach(function(t){"selectionchange"!==t&&(Li.has(t)||Bi(t,!1,e),Bi(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vi]||(t[Vi]=!0,Bi("selectionchange",!1,t))}}function Hi(e,t,n,i){switch(Jt(t)){case 1:var r=Gt;break;case 4:r=qt;break;default:r=Yt}n=r.bind(null,t,n,e),r=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Wi(e,t,n,i,r){var a=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var o=i.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==o;){if(null===(s=vr(o)))return;if(5===(l=s.tag)||6===l){i=a=s;continue e}o=o.parentNode}}i=i.return}Ie(function(){var i=a,r=xe(n),s=[];e:{var o=Ri.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=kn;break;case Ti:case Ni:case Ai:l=_n;break;case ki:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=i;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Oe(m,h))&&d.push(Gi(m,f,p)))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,n,r),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!vr(c)&&!c[mr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?vr(c):null)&&(c!==(u=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(d=mn,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=An,f="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?o:yr(l),p=null==c?o:yr(c),(o=new d(f,m+"leave",l,n,r)).target=u,o.relatedTarget=p,f=null,vr(r)===i&&((d=new d(h,m+"enter",c,n,r)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,m=0,p=d=l;p;p=Yi(p))m++;for(p=0,f=h;f;f=Yi(f))p++;for(;0<m-p;)d=Yi(d),m--;for(;0<p-m;)h=Yi(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Yi(d),h=Yi(h)}d=null}else d=null;null!==l&&Xi(s,o,l,d,!1),null!==c&&null!==u&&Xi(s,u,c,d,!0)}if("select"===(l=(o=i?yr(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jn;else if(Wn(o))if(Zn)g=si;else{g=ri;var _=ii}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ai);switch(g&&(g=g(e,i))?Gn(s,g,n,r):(_&&_(e,o,i),"focusout"===e&&(_=o._wrapperState)&&_.controlled&&"number"===o.type&&ee(o,"number",o.value)),_=i?yr(i):window,e){case"focusin":(Wn(_)||"true"===_.contentEditable)&&(gi=_,_i=i,vi=null);break;case"focusout":vi=_i=gi=null;break;case"mousedown":bi=!0;break;case"contextmenu":case"mouseup":case"dragend":bi=!1,yi(s,n,r);break;case"selectionchange":if(fi)break;case"keydown":case"keyup":yi(s,n,r)}var v;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(v=en()):(Qt="value"in(Zt=r)?Zt.value:Zt.textContent,zn=!0)),0<(_=qi(i,b)).length&&(b=new yn(b,e,null,n,r),s.push({event:b,listeners:_}),v?b.data=v:null!==(v=Vn(n))&&(b.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Bn(e,t)?(e=en(),$t=Qt=Zt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=qi(i,"onBeforeInput")).length&&(r=new yn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:i}),r.data=v))}Ui(s,t)})}function Gi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Oe(e,n))&&i.unshift(Gi(e,a,r)),null!=(a=Oe(e,t))&&i.push(Gi(e,a,r))),e=e.return}return i}function Yi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xi(e,t,n,i,r){for(var a=t._reactName,s=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===i)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=Oe(n,a))&&s.unshift(Gi(n,l,o)):r||null!=(l=Oe(n,a))&&s.push(Gi(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Ki=/\r\n?/g,Ji=/\u0000|\uFFFD/g;function Zi(e){return("string"===typeof e?e:""+e).replace(Ki,"\n").replace(Ji,"")}function Qi(e,t,n){if(t=Zi(t),Zi(e)!==t&&n)throw Error(a(425))}function $i(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ar="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ar?function(e){return ar.resolve(null).then(e).catch(or)}:ir;function or(e){setTimeout(function(){throw e})}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void zt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);zt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),hr="__reactFiber$"+ur,pr="__reactProps$"+ur,mr="__reactContainer$"+ur,fr="__reactEvents$"+ur,gr="__reactListeners$"+ur,_r="__reactHandles$"+ur;function vr(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dr(e);null!==e;){if(n=e[hr])return n;e=dr(e)}return t}n=(e=n).parentNode}return null}function br(e){return!(e=e[hr]||e[mr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xr(e){return e[pr]||null}var wr=[],Er=-1;function Sr(e){return{current:e}}function Cr(e){0>Er||(e.current=wr[Er],wr[Er]=null,Er--)}function Tr(e,t){Er++,wr[Er]=e.current,e.current=t}var Nr={},Ar=Sr(Nr),kr=Sr(!1),Rr=Nr;function Ir(e,t){var n=e.type.contextTypes;if(!n)return Nr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in n)a[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Or(e){return null!==(e=e.childContextTypes)&&void 0!==e}function jr(){Cr(kr),Cr(Ar)}function Pr(e,t,n){if(Ar.current!==Nr)throw Error(a(168));Tr(Ar,t),Tr(kr,n)}function Dr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(a(108,H(e)||"Unknown",r));return M({},n,i)}function Lr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,Rr=Ar.current,Tr(Ar,e),Tr(kr,kr.current),!0}function Mr(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=Dr(e,t,Rr),i.__reactInternalMemoizedMergedChildContext=e,Cr(kr),Cr(Ar),Tr(Ar,e)):Cr(kr),Tr(kr,n)}var Ur=null,Fr=!1,Br=!1;function Vr(e){null===Ur?Ur=[e]:Ur.push(e)}function zr(){if(!Br&&null!==Ur){Br=!0;var e=0,t=bt;try{var n=Ur;for(bt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Ur=null,Fr=!1}catch(r){throw null!==Ur&&(Ur=Ur.slice(e+1)),Ye($e,zr),r}finally{bt=t,Br=!1}}return null}var Hr=[],Wr=0,Gr=null,qr=0,Yr=[],Xr=0,Kr=null,Jr=1,Zr="";function Qr(e,t){Hr[Wr++]=qr,Hr[Wr++]=Gr,Gr=e,qr=t}function $r(e,t,n){Yr[Xr++]=Jr,Yr[Xr++]=Zr,Yr[Xr++]=Kr,Kr=e;var i=Jr;e=Zr;var r=32-st(i)-1;i&=~(1<<r),n+=1;var a=32-st(t)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Jr=1<<32-st(t)+r|n<<r|i,Zr=a+e}else Jr=1<<a|n<<r|i,Zr=e}function ea(e){null!==e.return&&(Qr(e,1),$r(e,1,0))}function ta(e){for(;e===Gr;)Gr=Hr[--Wr],Hr[Wr]=null,qr=Hr[--Wr],Hr[Wr]=null;for(;e===Kr;)Kr=Yr[--Xr],Yr[Xr]=null,Zr=Yr[--Xr],Yr[Xr]=null,Jr=Yr[--Xr],Yr[Xr]=null}var na=null,ia=null,ra=!1,aa=null;function sa(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ia=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Kr?{id:Jr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ia=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ra){var t=ia;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=cr(n.nextSibling);var i=na;t&&oa(e,t)?sa(i,n):(e.flags=-4097&e.flags|2,ra=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ra=!1,na=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ua(e){if(e!==na)return!1;if(!ra)return da(e),ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ia)){if(la(e))throw ha(),Error(a(418));for(;t;)sa(e,t),t=cr(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=na?cr(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ia;e;)e=cr(e.nextSibling)}function pa(){ia=na=null,ra=!1}function ma(e){null===aa?aa=[e]:aa.push(e)}var fa=y.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=i,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function _a(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=jc(e,t)).index=0,e.sibling=null,e}function s(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Mc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var a=n.type;return a===E?u(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&va(a)===t.type)?((i=r(t,n.props)).ref=ga(e,t,n),i.return=e,i):((i=Pc(n.type,n.key,n.props,null,e.mode,i)).ref=ga(e,t,n),i.return=e,i)}function d(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,i,a){return null===t||7!==t.tag?((t=Dc(n,e.mode,i,a)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case w:return(t=Uc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?c(e,t,n,i):null;case w:return n.key===r?d(e,t,n,i):null;case O:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||D(n))return null!==r?null:u(e,t,n,i,null);_a(e,n)}return null}function m(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case w:return d(t,e=e.get(null===i.key?n:i.key)||null,i,r);case O:return m(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||D(i))return u(t,e=e.get(n)||null,i,r,null);_a(t,i)}return null}function f(r,a,o,l){for(var c=null,d=null,u=a,f=a=0,g=null;null!==u&&f<o.length;f++){u.index>f?(g=u,u=null):g=u.sibling;var _=p(r,u,o[f],l);if(null===_){null===u&&(u=g);break}e&&u&&null===_.alternate&&t(r,u),a=s(_,a,f),null===d?c=_:d.sibling=_,d=_,u=g}if(f===o.length)return n(r,u),ra&&Qr(r,f),c;if(null===u){for(;f<o.length;f++)null!==(u=h(r,o[f],l))&&(a=s(u,a,f),null===d?c=u:d.sibling=u,d=u);return ra&&Qr(r,f),c}for(u=i(r,u);f<o.length;f++)null!==(g=m(u,r,f,o[f],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?f:g.key),a=s(g,a,f),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(r,e)}),ra&&Qr(r,f),c}function g(r,o,l,c){var d=D(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,f=o,g=o=0,_=null,v=l.next();null!==f&&!v.done;g++,v=l.next()){f.index>g?(_=f,f=null):_=f.sibling;var b=p(r,f,v.value,c);if(null===b){null===f&&(f=_);break}e&&f&&null===b.alternate&&t(r,f),o=s(b,o,g),null===u?d=b:u.sibling=b,u=b,f=_}if(v.done)return n(r,f),ra&&Qr(r,g),d;if(null===f){for(;!v.done;g++,v=l.next())null!==(v=h(r,v.value,c))&&(o=s(v,o,g),null===u?d=v:u.sibling=v,u=v);return ra&&Qr(r,g),d}for(f=i(r,f);!v.done;g++,v=l.next())null!==(v=m(f,r,g,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),o=s(v,o,g),null===u?d=v:u.sibling=v,u=v);return e&&f.forEach(function(e){return t(r,e)}),ra&&Qr(r,g),d}return function e(i,a,s,l){if("object"===typeof s&&null!==s&&s.type===E&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var c=s.key,d=a;null!==d;){if(d.key===c){if((c=s.type)===E){if(7===d.tag){n(i,d.sibling),(a=r(d,s.props.children)).return=i,i=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&va(c)===d.type){n(i,d.sibling),(a=r(d,s.props)).ref=ga(i,d,s),a.return=i,i=a;break e}n(i,d);break}t(i,d),d=d.sibling}s.type===E?((a=Dc(s.props.children,i.mode,l,s.key)).return=i,i=a):((l=Pc(s.type,s.key,s.props,null,i.mode,l)).ref=ga(i,a,s),l.return=i,i=l)}return o(i);case w:e:{for(d=s.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(i,a.sibling),(a=r(a,s.children||[])).return=i,i=a;break e}n(i,a);break}t(i,a),a=a.sibling}(a=Uc(s,i.mode,l)).return=i,i=a}return o(i);case O:return e(i,a,(d=s._init)(s._payload),l)}if(te(s))return f(i,a,s,l);if(D(s))return g(i,a,s,l);_a(i,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(i,a.sibling),(a=r(a,s)).return=i,i=a):(n(i,a),(a=Mc(s,i.mode,l)).return=i,i=a),o(i)):n(i,a)}}var ya=ba(!0),xa=ba(!1),wa=Sr(null),Ea=null,Sa=null,Ca=null;function Ta(){Ca=Sa=Ea=null}function Na(e){var t=wa.current;Cr(wa),e._currentValue=t}function Aa(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function ka(e,t){Ea=e,Ca=Sa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ra(e){var t=e._currentValue;if(Ca!==e)if(e={context:e,memoizedValue:t,next:null},null===Sa){if(null===Ea)throw Error(a(308));Sa=e,Ea.dependencies={lanes:0,firstContext:e}}else Sa=Sa.next=e;return t}var Ia=null;function Oa(e){null===Ia?Ia=[e]:Ia.push(e)}function ja(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Oa(t)):(n.next=r.next,r.next=n),t.interleaved=n,Pa(e,i)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Da=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ma(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ua(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Al)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,Pa(e,n)}return null===(r=i.interleaved)?(t.next=t,Oa(i)):(t.next=r.next,r.next=t),i.interleaved=t,Pa(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Va(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?r=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?r=a=t:a=a.next=t}else r=a=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function za(e,t,n,i){var r=e.updateQueue;Da=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=r.baseState;for(s=0,d=c=l=null,o=a;;){var h=o.lane,p=o.eventTime;if((i&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,f=o;switch(h=t,p=n,f.tag){case 1:if("function"===typeof(m=f.payload)){u=m.call(p,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=f.payload)?m.call(p,u,h):m)||void 0===h)break e;u=M({},u,h);break e;case 2:Da=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,s|=h;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(h=o).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===d&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=u}}function Ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var Wa={},Ga=Sr(Wa),qa=Sr(Wa),Ya=Sr(Wa);function Xa(e){if(e===Wa)throw Error(a(174));return e}function Ka(e,t){switch(Tr(Ya,t),Tr(qa,e),Tr(Ga,Wa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Cr(Ga),Tr(Ga,t)}function Ja(){Cr(Ga),Cr(qa),Cr(Ya)}function Za(e){Xa(Ya.current);var t=Xa(Ga.current),n=le(t,e.type);t!==n&&(Tr(qa,e),Tr(Ga,n))}function Qa(e){qa.current===e&&(Cr(Ga),Cr(qa))}var $a=Sr(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var is=y.ReactCurrentDispatcher,rs=y.ReactCurrentBatchConfig,as=0,ss=null,os=null,ls=null,cs=!1,ds=!1,us=0,hs=0;function ps(){throw Error(a(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oi(e[n],t[n]))return!1;return!0}function fs(e,t,n,i,r,s){if(as=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Qs:$s,e=n(i,r),ds){s=0;do{if(ds=!1,us=0,25<=s)throw Error(a(301));s+=1,ls=os=null,t.updateQueue=null,is.current=eo,e=n(i,r)}while(ds)}if(is.current=Zs,t=null!==os&&null!==os.next,as=0,ls=os=ss=null,cs=!1,t)throw Error(a(300));return e}function gs(){var e=0!==us;return us=0,e}function _s(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function vs(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(a(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function bs(e,t){return"function"===typeof t?t(e):t}function ys(e){var t=vs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=os,r=i.baseQueue,s=n.pending;if(null!==s){if(null!==r){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,i=i.baseState;var l=o=null,c=null,d=s;do{var u=d.lane;if((as&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=i):c=c.next=h,ss.lanes|=u,Ll|=u}d=d.next}while(null!==d&&d!==s);null===c?o=i:c.next=l,oi(i,t.memoizedState)||(bo=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,ss.lanes|=s,Ll|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=vs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{s=e(s,o.action),o=o.next}while(o!==r);oi(s,t.memoizedState)||(bo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function ws(){}function Es(e,t){var n=ss,i=vs(),r=t(),s=!oi(i.memoizedState,r);if(s&&(i.memoizedState=r,bo=!0),i=i.queue,Ds(Ts.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Rs(9,Cs.bind(null,n,i,r,t),void 0,null),null===kl)throw Error(a(349));0!==(30&as)||Ss(n,t,r)}return r}function Ss(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cs(e,t,n,i){t.value=n,t.getSnapshot=i,Ns(t)&&As(e)}function Ts(e,t,n){return n(function(){Ns(t)&&As(e)})}function Ns(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oi(e,n)}catch(i){return!0}}function As(e){var t=Pa(e,1);null!==t&&nc(t,e,1,-1)}function ks(e){var t=_s();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ys.bind(null,ss,e),[t.memoizedState,e]}function Rs(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Is(){return vs().memoizedState}function Os(e,t,n,i){var r=_s();ss.flags|=e,r.memoizedState=Rs(1|t,n,void 0,void 0===i?null:i)}function js(e,t,n,i){var r=vs();i=void 0===i?null:i;var a=void 0;if(null!==os){var s=os.memoizedState;if(a=s.destroy,null!==i&&ms(i,s.deps))return void(r.memoizedState=Rs(t,n,a,i))}ss.flags|=e,r.memoizedState=Rs(1|t,n,a,i)}function Ps(e,t){return Os(8390656,8,e,t)}function Ds(e,t){return js(2048,8,e,t)}function Ls(e,t){return js(4,2,e,t)}function Ms(e,t){return js(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,js(4,4,Us.bind(null,t,e),n)}function Bs(){}function Vs(e,t){var n=vs();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ms(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function zs(e,t){var n=vs();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ms(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&as)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(oi(n,t)||(n=ft(),ss.lanes|=n,Ll|=n,e.baseState=!0),t)}function Ws(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var i=rs.transition;rs.transition={};try{e(!1),t()}finally{bt=n,rs.transition=i}}function Gs(){return vs().memoizedState}function qs(e,t,n){var i=tc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Xs(e))Ks(t,n);else if(null!==(n=ja(e,t,n,i))){nc(n,e,i,ec()),Js(n,t,i)}}function Ys(e,t,n){var i=tc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xs(e))Ks(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,oi(o,s)){var l=t.interleaved;return null===l?(r.next=r,Oa(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=ja(e,t,r,i))&&(nc(n,e,i,r=ec()),Js(n,t,i))}}function Xs(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Ks(e,t){ds=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Zs={readContext:Ra,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Qs={readContext:Ra,useCallback:function(e,t){return _s().memoizedState=[e,void 0===t?null:t],e},useContext:Ra,useEffect:Ps,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=_s();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=_s();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=qs.bind(null,ss,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},_s().memoizedState=e},useState:ks,useDebugValue:Bs,useDeferredValue:function(e){return _s().memoizedState=e},useTransition:function(){var e=ks(!1),t=e[0];return e=Ws.bind(null,e[1]),_s().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ss,r=_s();if(ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===kl)throw Error(a(349));0!==(30&as)||Ss(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Ps(Ts.bind(null,i,s,e),[e]),i.flags|=2048,Rs(9,Cs.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=_s(),t=kl.identifierPrefix;if(ra){var n=Zr;t=":"+t+"R"+(n=(Jr&~(1<<32-st(Jr)-1)).toString(32)+n),0<(n=us++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$s={readContext:Ra,useCallback:Vs,useContext:Ra,useEffect:Ds,useImperativeHandle:Fs,useInsertionEffect:Ls,useLayoutEffect:Ms,useMemo:zs,useReducer:ys,useRef:Is,useState:function(){return ys(bs)},useDebugValue:Bs,useDeferredValue:function(e){return Hs(vs(),os.memoizedState,e)},useTransition:function(){return[ys(bs)[0],vs().memoizedState]},useMutableSource:ws,useSyncExternalStore:Es,useId:Gs,unstable_isNewReconciler:!1},eo={readContext:Ra,useCallback:Vs,useContext:Ra,useEffect:Ds,useImperativeHandle:Fs,useInsertionEffect:Ls,useLayoutEffect:Ms,useMemo:zs,useReducer:xs,useRef:Is,useState:function(){return xs(bs)},useDebugValue:Bs,useDeferredValue:function(e){var t=vs();return null===os?t.memoizedState=e:Hs(t,os.memoizedState,e)},useTransition:function(){return[xs(bs)[0],vs().memoizedState]},useMutableSource:ws,useSyncExternalStore:Es,useId:Gs,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var io={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ec(),r=tc(e),a=Ua(i,r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,r))&&(nc(t,e,r,i),Ba(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ec(),r=tc(e),a=Ua(i,r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,r))&&(nc(t,e,r,i),Ba(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),i=tc(e),r=Ua(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Fa(e,r,i))&&(nc(t,e,i,n),Ba(t,e,i))}};function ro(e,t,n,i,r,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,a))}function ao(e,t,n){var i=!1,r=Nr,a=t.contextType;return"object"===typeof a&&null!==a?a=Ra(a):(r=Or(t)?Rr:Ar.current,a=(i=null!==(i=t.contextTypes)&&void 0!==i)?Ir(e,r):Nr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=io,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function so(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},La(e);var a=t.contextType;"object"===typeof a&&null!==a?r.context=Ra(a):(a=Or(t)?Rr:Ar.current,r.context=Ir(e,a)),r.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(no(e,t,a,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&io.enqueueReplaceState(r,r.state,null),za(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",i=t;do{n+=V(i),i=i.return}while(i);var r=n}catch(a){r="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:r,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ua(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=i),uo(0,t)},n}function mo(e,t,n){(n=Ua(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof i&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new ho;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function _o(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ua(-1,1)).tag=2,Fa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var vo=y.ReactCurrentOwner,bo=!1;function yo(e,t,n,i){t.child=null===e?xa(t,null,n,i):ya(t,e.child,n,i)}function xo(e,t,n,i,r){n=n.render;var a=t.ref;return ka(t,r),i=fs(e,t,n,i,a,r),n=gs(),null===e||bo?(ra&&n&&ea(t),t.flags|=1,yo(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wo(e,t,r))}function wo(e,t,n,i,r){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eo(e,t,a,i,r))}if(a=e.child,0===(e.lanes&r)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:li)(s,i)&&e.ref===t.ref)return Wo(e,t,r)}return t.flags|=1,(e=jc(a,i)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,i,r){if(null!==e){var a=e.memoizedProps;if(li(a,i)&&e.ref===t.ref){if(bo=!1,t.pendingProps=i=a,0===(e.lanes&r))return t.lanes=e.lanes,Wo(e,t,r);0!==(131072&e.flags)&&(bo=!0)}}return To(e,t,n,i,r)}function So(e,t,n){var i=t.pendingProps,r=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(jl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Tr(jl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==a?a.baseLanes:n,Tr(jl,Ol),Ol|=i}else null!==a?(i=a.baseLanes|n,t.memoizedState=null):i=n,Tr(jl,Ol),Ol|=i;return yo(e,t,r,n),t.child}function Co(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,i,r){var a=Or(n)?Rr:Ar.current;return a=Ir(t,a),ka(t,r),n=fs(e,t,n,i,a,r),i=gs(),null===e||bo?(ra&&i&&ea(t),t.flags|=1,yo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Wo(e,t,r))}function No(e,t,n,i,r){if(Or(n)){var a=!0;Lr(t)}else a=!1;if(ka(t,r),null===t.stateNode)Ho(e,t),ao(t,n,i),oo(t,n,i,r),i=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ra(c):c=Ir(t,c=Or(n)?Rr:Ar.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==i||l!==c)&&so(t,s,i,c),Da=!1;var h=t.memoizedState;s.state=h,za(t,i,s,r),l=t.memoizedState,o!==i||h!==l||kr.current||Da?("function"===typeof d&&(no(t,n,d,i),l=t.memoizedState),(o=Da||ro(t,n,o,i,h,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=c,i=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Ma(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,u=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ra(l):l=Ir(t,l=Or(n)?Rr:Ar.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==u||h!==l)&&so(t,s,i,l),Da=!1,h=t.memoizedState,s.state=h,za(t,i,s,r);var m=t.memoizedState;o!==u||h!==m||kr.current||Da?("function"===typeof p&&(no(t,n,p,i),m=t.memoizedState),(c=Da||ro(t,n,c,i,h,m,l)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,m,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,m,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),s.props=i,s.state=m,s.context=l,i=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Ao(e,t,n,i,a,r)}function Ao(e,t,n,i,r,a){Co(e,t);var s=0!==(128&t.flags);if(!i&&!s)return r&&Mr(t,n,!1),Wo(e,t,a);i=t.stateNode,vo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=ya(t,e.child,null,a),t.child=ya(t,null,o,a)):yo(e,t,o,a),t.memoizedState=i.state,r&&Mr(t,n,!0),t.child}function ko(e){var t=e.stateNode;t.pendingContext?Pr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pr(0,t.context,!1),Ka(e,t.containerInfo)}function Ro(e,t,n,i,r){return pa(),ma(r),t.flags|=256,yo(e,t,n,i),t.child}var Io,Oo,jo,Po,Do={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var i,r=t.pendingProps,s=$a.current,o=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&s)),i?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Tr($a,1&s),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,r,0,null),e=Dc(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Do,e):Uo(t,l));if(null!==(s=e.memoizedState)&&null!==(i=s.dehydrated))return function(e,t,n,i,r,s,o){if(n)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,i=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,r=t.mode,i=Lc({mode:"visible",children:i.children},r,0,null),(s=Dc(s,r,o,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&ya(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Do,s);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Fo(e,t,o,i=co(s=Error(a(419)),i,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(i=kl)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|o))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Pa(e,r),nc(i,e,r,-1))}return fc(),Fo(e,t,o,i=co(Error(a(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,ia=cr(r.nextSibling),na=t,ra=!0,aa=null,null!==e&&(Yr[Xr++]=Jr,Yr[Xr++]=Zr,Yr[Xr++]=Kr,Jr=e.id,Zr=e.overflow,Kr=t),t=Uo(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,s,n);if(o){o=r.fallback,l=t.mode,i=(s=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==s?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=jc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==i?o=jc(i,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,r}return e=(o=e.child).sibling,r=jc(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Uo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,i){return null!==i&&ma(i),ya(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Aa(e.return,t,n)}function Vo(e,t,n,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function zo(e,t,n){var i=t.pendingProps,r=i.revealOrder,a=i.tail;if(yo(e,t,i.children,n),0!==(2&(i=$a.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Tr($a,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Vo(t,!1,r,n,a);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===es(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Vo(t,!0,n,null,a);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=jc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Yo(e,t,n){var i=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(t),null;case 1:case 17:return Or(t.type)&&jr(),qo(t),null;case 3:return i=t.stateNode,Ja(),Cr(kr),Cr(Ar),ns(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Oo(e,t),qo(t),null;case 5:Qa(t);var r=Xa(Ya.current);if(n=t.type,null!==e&&null!=t.stateNode)jo(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(a(166));return qo(t),null}if(e=Xa(Ga.current),ua(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[hr]=t,i[pr]=s,e=0!==(1&t.mode),n){case"dialog":Fi("cancel",i),Fi("close",i);break;case"iframe":case"object":case"embed":Fi("load",i);break;case"video":case"audio":for(r=0;r<Di.length;r++)Fi(Di[r],i);break;case"source":Fi("error",i);break;case"img":case"image":case"link":Fi("error",i),Fi("load",i);break;case"details":Fi("toggle",i);break;case"input":J(i,s),Fi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Fi("invalid",i);break;case"textarea":re(i,s),Fi("invalid",i)}for(var l in ve(n,s),r=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==s.suppressHydrationWarning&&Qi(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Qi(i.textContent,c,e),r=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fi("scroll",i)}switch(n){case"input":q(i),$(i,s,!0);break;case"textarea":q(i),se(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=$i)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[hr]=t,e[pr]=i,Io(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,i),n){case"dialog":Fi("cancel",e),Fi("close",e),r=i;break;case"iframe":case"object":case"embed":Fi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Di.length;r++)Fi(Di[r],e);r=i;break;case"source":Fi("error",e),r=i;break;case"img":case"image":case"link":Fi("error",e),Fi("load",e),r=i;break;case"details":Fi("toggle",e),r=i;break;case"input":J(e,i),r=K(e,i),Fi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=M({},i,{value:void 0}),Fi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Fi("invalid",e)}for(s in ve(n,r),c=r)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?ge(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Fi("scroll",e):null!=d&&b(e,s,d,l))}switch(n){case"input":q(e),$(e,i,!1);break;case"textarea":q(e),se(e);break;case"option":null!=i.value&&e.setAttribute("value",""+W(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ne(e,!!i.multiple,s,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qo(t),null;case 6:if(e&&null!=t.stateNode)Po(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));if(n=Xa(Ya.current),Xa(Ga.current),ua(t)){if(i=t.stateNode,n=t.memoizedProps,i[hr]=t,(s=i.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Qi(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qi(i.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[hr]=t,t.stateNode=i}return qo(t),null;case 13:if(Cr($a),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ra&&null!==ia&&0!==(1&t.mode)&&0===(128&t.flags))ha(),pa(),t.flags|=98560,s=!1;else if(s=ua(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[hr]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qo(t),s=!1}else null!==aa&&(sc(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$a.current)?0===Pl&&(Pl=3):fc())),null!==t.updateQueue&&(t.flags|=4),qo(t),null);case 4:return Ja(),Oo(e,t),null===e&&zi(t.stateNode.containerInfo),qo(t),null;case 10:return Na(t.type._context),qo(t),null;case 19:if(Cr($a),null===(s=t.memoizedState))return qo(t),null;if(i=0!==(128&t.flags),null===(l=s.rendering))if(i)Go(s,!1);else{if(0!==Pl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Go(s,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Tr($a,1&$a.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>zl&&(t.flags|=128,i=!0,Go(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=es(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ra)return qo(t),null}else 2*Ze()-s.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,i=!0,Go(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=$a.current,Tr($a,i?1&n|2:1&n),t):(qo(t),null);case 22:case 23:return uc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(qo(t),6&t.subtreeFlags&&(t.flags|=8192)):qo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xo(e,t){switch(ta(t),t.tag){case 1:return Or(t.type)&&jr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),Cr(kr),Cr(Ar),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qa(t),null;case 13:if(Cr($a),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Cr($a),null;case 4:return Ja(),null;case 10:return Na(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Io=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oo=function(){},jo=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Xa(Ga.current);var a,s=null;switch(n){case"input":r=K(e,r),i=K(e,i),s=[];break;case"select":r=M({},r,{value:void 0}),i=M({},i,{value:void 0}),s=[];break;case"textarea":r=ie(e,r),i=ie(e,i),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=$i)}for(d in ve(n,i),n=null,r)if(!i.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var l=r[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in i){var c=i[d];if(l=null!=r?r[d]:void 0,i.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Fi("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Po=function(e,t,n,i){n!==i&&(t.flags|=4)};var Ko=!1,Jo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,Qo=null;function $o(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Sc(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){Sc(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&el(t,n,a)}r=r.next}while(r!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[pr],delete t[fr],delete t[gr],delete t[_r])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$i));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Jo||$o(n,t);case 6:var i=dl,r=ul;dl=null,hl(e,t,n),ul=r,null!==(dl=i)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),zt(e)):lr(dl,n.stateNode));break;case 4:i=dl,r=ul,dl=n.stateNode.containerInfo,ul=!0,hl(e,t,n),dl=i,ul=r;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var a=r,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&el(n,t,s),r=r.next}while(r!==i)}hl(e,t,n);break;case 1:if(!Jo&&($o(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){Sc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Jo=(i=Jo)||null!==n.memoizedState,hl(e,t,n),Jo=i):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach(function(t){var i=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(a(160));pl(s,o,r),dl=null,ul=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){Sc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),_l(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:fl(t,e),_l(e),512&i&&null!==n&&$o(n,n.return);break;case 5:if(fl(t,e),_l(e),512&i&&null!==n&&$o(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(g){Sc(e,e.return,g)}}if(4&i&&null!=(r=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(r,s),be(l,o);var d=be(l,s);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?ge(r,h):"dangerouslySetInnerHTML"===u?ue(r,h):"children"===u?he(r,h):b(r,u,h,d)}switch(l){case"input":Q(r,s);break;case"textarea":ae(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;null!=m?ne(r,!!s.multiple,m,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(r,!!s.multiple,s.defaultValue,!0):ne(r,!!s.multiple,s.multiple?[]:"",!1))}r[pr]=s}catch(g){Sc(e,e.return,g)}}break;case 6:if(fl(t,e),_l(e),4&i){if(null===e.stateNode)throw Error(a(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(g){Sc(e,e.return,g)}}break;case 3:if(fl(t,e),_l(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:fl(t,e),_l(e);break;case 13:fl(t,e),_l(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(Vl=Ze())),4&i&&ml(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(d=Jo)||u,fl(t,e),Jo=d):fl(t,e),_l(e),8192&i){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Qo=e,u=e.child;null!==u;){for(h=Qo=u;null!==Qo;){switch(m=(p=Qo).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:$o(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){i=p,n=p.return;try{t=i,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Sc(i,n,g)}}break;case 5:$o(p,p.return);break;case 22:if(null!==p.memoizedState){xl(h);continue}}null!==m?(m.return=p,Qo=m):xl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{r=h.stateNode,d?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fl(t,e),_l(e),4&i&&ml(e);case 21:}}function _l(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var i=n;break e}n=n.return}throw Error(a(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(he(r,""),i.flags&=-33),cl(e,ol(e),r);break;case 3:case 4:var s=i.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(a(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Qo=e,bl(e,t,n)}function bl(e,t,n){for(var i=0!==(1&e.mode);null!==Qo;){var r=Qo,a=r.child;if(22===r.tag&&i){var s=null!==r.memoizedState||Ko;if(!s){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Ko;var c=Jo;if(Ko=s,(Jo=l)&&!c)for(Qo=r;null!==Qo;)l=(s=Qo).child,22===s.tag&&null!==s.memoizedState?wl(r):null!==l?(l.return=s,Qo=l):wl(r);for(;null!==a;)Qo=a,bl(a,t,n),a=a.sibling;Qo=r,Ko=o,Jo=c}yl(e)}else 0!==(8772&r.subtreeFlags)&&null!==a?(a.return=r,Qo=a):yl(e)}}function yl(e){for(;null!==Qo;){var t=Qo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Jo)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ha(t,s,i);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ha(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Jo||512&t.flags&&rl(t)}catch(p){Sc(t,t.return,p)}}if(t===e){Qo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qo=n;break}Qo=t.return}}function xl(e){for(;null!==Qo;){var t=Qo;if(t===e){Qo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qo=n;break}Qo=t.return}}function wl(e){for(;null!==Qo;){var t=Qo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Sc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Sc(t,r,l)}}var a=t.return;try{rl(t)}catch(l){Sc(t,a,l)}break;case 5:var s=t.return;try{rl(t)}catch(l){Sc(t,s,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Qo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Qo=o;break}Qo=t.return}}var El,Sl=Math.ceil,Cl=y.ReactCurrentDispatcher,Tl=y.ReactCurrentOwner,Nl=y.ReactCurrentBatchConfig,Al=0,kl=null,Rl=null,Il=0,Ol=0,jl=Sr(0),Pl=0,Dl=null,Ll=0,Ml=0,Ul=0,Fl=null,Bl=null,Vl=0,zl=1/0,Hl=null,Wl=!1,Gl=null,ql=null,Yl=!1,Xl=null,Kl=0,Jl=0,Zl=null,Ql=-1,$l=0;function ec(){return 0!==(6&Al)?Ze():-1!==Ql?Ql:Ql=Ze()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Il?Il&-Il:null!==fa.transition?(0===$l&&($l=ft()),$l):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,i){if(50<Jl)throw Jl=0,Zl=null,Error(a(185));_t(e,n,i),0!==(2&Al)&&e===kl||(e===kl&&(0===(2&Al)&&(Ml|=n),4===Pl&&oc(e,Il)),ic(e,i),1===n&&0===Al&&0===(1&t.mode)&&(zl=Ze()+500,Fr&&zr()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,l=r[s];-1===l?0!==(o&n)&&0===(o&i)||(r[s]=pt(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var i=ht(e,e===kl?Il:0);if(0===i)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Fr=!0,Vr(e)}(lc.bind(null,e)):Vr(lc.bind(null,e)),sr(function(){0===(6&Al)&&zr()}),n=null;else{switch(yt(i)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=kc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Ql=-1,$l=0,0!==(6&Al))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var i=ht(e,e===kl?Il:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=gc(e,i);else{t=i;var r=Al;Al|=2;var s=mc();for(kl===e&&Il===t||(Hl=null,zl=Ze()+500,hc(e,t));;)try{vc();break}catch(l){pc(e,l)}Ta(),Cl.current=s,Al=r,null!==Rl?t=0:(kl=null,Il=0,t=Pl)}if(0!==t){if(2===t&&(0!==(r=mt(e))&&(i=r,t=ac(e,r))),1===t)throw n=Dl,hc(e,0),oc(e,i),ic(e,Ze()),n;if(6===t)oc(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!oi(a(),r))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gc(e,i))&&(0!==(s=mt(e))&&(i=s,t=ac(e,s))),1===t))throw n=Dl,hc(e,0),oc(e,i),ic(e,Ze()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Bl,Hl);break;case 3:if(oc(e,i),(130023424&i)===i&&10<(t=Vl+500-Ze())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&i)!==i){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(xc.bind(null,e,Bl,Hl),t);break}xc(e,Bl,Hl);break;case 4:if(oc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-st(i);s=1<<o,(o=t[o])>r&&(r=o),i&=~s}if(i=r,10<(i=(120>(i=Ze()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Sl(i/1960))-i)){e.timeoutHandle=ir(xc.bind(null,e,Bl,Hl),i);break}xc(e,Bl,Hl);break;default:throw Error(a(329))}}}return ic(e,Ze()),e.callbackNode===n?rc.bind(null,e):null}function ac(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&sc(t)),e}function sc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function oc(e,t){for(t&=~Ul,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),i=1<<n;e[n]=-1,t&=~i}}function lc(e){if(0!==(6&Al))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return ic(e,Ze()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var i=mt(e);0!==i&&(t=i,n=ac(e,i))}if(1===n)throw n=Dl,hc(e,0),oc(e,t),ic(e,Ze()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bl,Hl),ic(e,Ze()),null}function cc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(zl=Ze()+500,Fr&&zr())}}function dc(e){null!==Xl&&0===Xl.tag&&0===(6&Al)&&wc();var t=Al;Al|=1;var n=Nl.transition,i=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=i,Nl.transition=n,0===(6&(Al=t))&&zr()}}function uc(){Ol=jl.current,Cr(jl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Rl)for(n=Rl.return;null!==n;){var i=n;switch(ta(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&jr();break;case 3:Ja(),Cr(kr),Cr(Ar),ns();break;case 5:Qa(i);break;case 4:Ja();break;case 13:case 19:Cr($a);break;case 10:Na(i.type._context);break;case 22:case 23:uc()}n=n.return}if(kl=e,Rl=e=jc(e.current,null),Il=Ol=t,Pl=0,Dl=null,Ul=Ml=Ll=0,Bl=Fl=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(i=(n=Ia[t]).interleaved)){n.interleaved=null;var r=i.next,a=n.pending;if(null!==a){var s=a.next;a.next=r,i.next=s}n.pending=i}Ia=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(Ta(),is.current=Zs,cs){for(var i=ss.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}cs=!1}if(as=0,ls=os=ss=null,ds=!1,us=0,Tl.current=null,null===n||null===n.return){Pl=1,Dl=t,Rl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,_o(m,o,l,0,t),1&m.mode&&fo(s,d,t),c=d;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fo(s,d,t),fc();break e}c=Error(a(426))}else if(ra&&1&l.mode){var _=go(o);if(null!==_){0===(65536&_.flags)&&(_.flags|=256),_o(_,o,l,0,t),ma(lo(c,l));break e}}s=c=lo(c,l),4!==Pl&&(Pl=2),null===Fl?Fl=[s]:Fl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Va(s,po(0,c,t));break e;case 1:l=c;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Va(s,mo(s,l,t));break e}}s=s.return}while(null!==s)}yc(n)}catch(y){t=y,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function mc(){var e=Cl.current;return Cl.current=Zs,null===e?Zs:e}function fc(){0!==Pl&&3!==Pl&&2!==Pl||(Pl=4),null===kl||0===(268435455&Ll)&&0===(268435455&Ml)||oc(kl,Il)}function gc(e,t){var n=Al;Al|=2;var i=mc();for(kl===e&&Il===t||(Hl=null,hc(e,t));;)try{_c();break}catch(r){pc(e,r)}if(Ta(),Al=n,Cl.current=i,null!==Rl)throw Error(a(261));return kl=null,Il=0,Pl}function _c(){for(;null!==Rl;)bc(Rl)}function vc(){for(;null!==Rl&&!Ke();)bc(Rl)}function bc(e){var t=El(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?yc(e):Rl=t,Tl.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Ol)))return void(Rl=n)}else{if(null!==(n=Xo(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Pl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Pl&&(Pl=5)}function xc(e,t,n){var i=bt,r=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,n,i){do{wc()}while(null!==Xl);if(0!==(6&Al))throw Error(a(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-st(n),a=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~a}}(e,s),e===kl&&(Rl=kl=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,kc(tt,function(){return wc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Nl.transition,Nl.transition=null;var o=bt;bt=1;var l=Al;Al|=4,Tl.current=null,function(e,t){if(er=Wt,pi(e=hi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var m;h!==n||0!==r&&3!==h.nodeType||(l=o+r),h!==s||0!==i&&3!==h.nodeType||(c=o+i),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++d===r&&(l=o),p===s&&++u===i&&(c=o),null!==(m=h.nextSibling))break;p=(h=p).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Wt=!1,Qo=t;null!==Qo;)if(e=(t=Qo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qo=e;else for(;null!==Qo;){t=Qo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,_=f.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),_);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(a(163))}}catch(x){Sc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qo=e;break}Qo=t.return}f=tl,tl=!1}(e,n),gl(n,e),mi(tr),Wt=!!er,tr=er=null,e.current=n,vl(n,e,r),Je(),Al=l,bt=o,Nl.transition=s}else e.current=n;if(Yl&&(Yl=!1,Xl=e,Kl=r),s=e.pendingLanes,0===s&&(ql=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ze()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;0!==(1&Kl)&&0!==e.tag&&wc(),s=e.pendingLanes,0!==(1&s)?e===Zl?Jl++:(Jl=0,Zl=e):Jl=0,zr()}(e,t,n,i)}finally{Nl.transition=r,bt=i}return null}function wc(){if(null!==Xl){var e=yt(Kl),t=Nl.transition,n=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Xl)var i=!1;else{if(e=Xl,Xl=null,Kl=0,0!==(6&Al))throw Error(a(331));var r=Al;for(Al|=4,Qo=e.current;null!==Qo;){var s=Qo,o=s.child;if(0!==(16&Qo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Qo=d;null!==Qo;){var u=Qo;switch(u.tag){case 0:case 11:case 15:nl(8,u,s)}var h=u.child;if(null!==h)h.return=u,Qo=h;else for(;null!==Qo;){var p=(u=Qo).sibling,m=u.return;if(al(u),u===d){Qo=null;break}if(null!==p){p.return=m,Qo=p;break}Qo=m}}}var f=s.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(null!==g)}}Qo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Qo=o;else e:for(;null!==Qo;){if(0!==(2048&(s=Qo).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Qo=v;break e}Qo=s.return}}var b=e.current;for(Qo=b;null!==Qo;){var y=(o=Qo).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,Qo=y;else e:for(o=b;null!==Qo;){if(0!==(2048&(l=Qo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(w){Sc(l,l.return,w)}if(l===o){Qo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Qo=x;break e}Qo=l.return}}if(Al=r,zr(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(rt,e)}catch(w){}i=!0}return i}finally{bt=n,Nl.transition=t}}return!1}function Ec(e,t,n){e=Fa(e,t=po(0,t=lo(n,t),1),1),t=ec(),null!==e&&(_t(e,1,t),ic(e,t))}function Sc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===ql||!ql.has(i))){t=Fa(t,e=mo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(_t(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,kl===e&&(Il&n)===n&&(4===Pl||3===Pl&&(130023424&Il)===Il&&500>Ze()-Vl?hc(e,0):Ul|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Pa(e,t))&&(_t(e,t,n),ic(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(a(314))}null!==i&&i.delete(t),Tc(e,n)}function kc(e,t){return Ye(e,t)}function Rc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,i){return new Rc(e,t,n,i)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,i,r,s){var o=2;if(i=e,"function"===typeof e)Oc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Dc(n.children,r,s,t);case S:o=8,r|=8;break;case C:return(e=Ic(12,n,t,2|r)).elementType=C,e.lanes=s,e;case k:return(e=Ic(13,n,t,r)).elementType=k,e.lanes=s,e;case R:return(e=Ic(19,n,t,r)).elementType=R,e.lanes=s,e;case j:return Lc(n,r,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:o=10;break e;case N:o=9;break e;case A:o=11;break e;case I:o=14;break e;case O:o=16,i=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ic(o,n,t,r)).elementType=e,t.type=i,t.lanes=s,t}function Dc(e,t,n,i){return(e=Ic(7,e,i,t)).lanes=n,e}function Lc(e,t,n,i){return(e=Ic(22,e,i,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,i,r,a,s,o,l){return e=new Fc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ic(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(a),e}function Vc(e){if(!e)return Nr;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Or(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Or(n))return Dr(e,n,t)}return t}function zc(e,t,n,i,r,a,s,o,l){return(e=Bc(n,i,!0,e,0,a,0,o,l)).context=Vc(null),n=e.current,(a=Ua(i=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Fa(n,a,r),e.current.lanes=r,_t(e,r,i),ic(e,i),e}function Hc(e,t,n,i){var r=t.current,a=ec(),s=tc(r);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ua(a,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Fa(r,t,s))&&(nc(e,r,s,a),Ba(e,r,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||kr.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:ko(t),pa();break;case 5:Za(t);break;case 1:Or(t.type)&&Lr(t);break;case 4:Ka(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Tr(wa,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Tr($a,1&$a.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Tr($a,1&$a.current),null!==(e=Wo(e,t,n))?e.sibling:null);Tr($a,1&$a.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return zo(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Tr($a,$a.current),i)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return Wo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ra&&0!==(1048576&t.flags)&&$r(t,qr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ho(e,t),e=t.pendingProps;var r=Ir(t,Ar.current);ka(t,n),r=fs(null,t,i,e,r,n);var s=gs();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Or(i)?(s=!0,Lr(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,La(t),r.updater=io,t.stateNode=r,r._reactInternals=t,oo(t,i,e,n),t=Ao(null,t,i,!0,s,n)):(t.tag=0,ra&&s&&ea(t),yo(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===I)return 14}return 2}(i),e=to(i,e),r){case 0:t=To(null,t,i,e,n);break e;case 1:t=No(null,t,i,e,n);break e;case 11:t=xo(null,t,i,e,n);break e;case 14:t=wo(null,t,i,to(i.type,e),n);break e}throw Error(a(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,To(e,t,i,r=t.elementType===i?r:to(i,r),n);case 1:return i=t.type,r=t.pendingProps,No(e,t,i,r=t.elementType===i?r:to(i,r),n);case 3:e:{if(ko(t),null===e)throw Error(a(387));i=t.pendingProps,r=(s=t.memoizedState).element,Ma(e,t),za(t,i,null,n);var o=t.memoizedState;if(i=o.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ro(e,t,i,n,r=lo(Error(a(423)),t));break e}if(i!==r){t=Ro(e,t,i,n,r=lo(Error(a(424)),t));break e}for(ia=cr(t.stateNode.containerInfo.firstChild),na=t,ra=!0,aa=null,n=xa(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),i===r){t=Wo(e,t,n);break e}yo(e,t,i,n)}t=t.child}return t;case 5:return Za(t),null===e&&ca(t),i=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,o=r.children,nr(i,r)?o=null:null!==s&&nr(i,s)&&(t.flags|=32),Co(e,t),yo(e,t,o,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Mo(e,t,n);case 4:return Ka(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ya(t,null,i,n):yo(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,xo(e,t,i,r=t.elementType===i?r:to(i,r),n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value,Tr(wa,i._currentValue),i._currentValue=o,null!==s)if(oi(s.value,o)){if(s.children===r.children&&!kr.current){t=Wo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===s.tag){(c=Ua(-1,n&-n)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Aa(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Aa(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}yo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,ka(t,n),i=i(r=Ra(r)),t.flags|=1,yo(e,t,i,n),t.child;case 14:return r=to(i=t.type,t.pendingProps),wo(e,t,i,r=to(i.type,r),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:to(i,r),Ho(e,t),t.tag=1,Or(i)?(e=!0,Lr(t)):e=!1,ka(t,n),ao(t,i,r),oo(t,i,r,n),Ao(null,t,i,!0,e,n);case 19:return zo(e,t,n);case 22:return So(e,t,n)}throw Error(a(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function $c(e,t,n,i,r){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof r){var o=r;r=function(){var e=Wc(s);o.call(e)}}Hc(t,s,e,r)}else s=function(e,t,n,i,r){if(r){if("function"===typeof i){var a=i;i=function(){var e=Wc(s);a.call(e)}}var s=zc(t,i,e,0,null,!1,0,"",Qc);return e._reactRootContainer=s,e[mr]=s.current,zi(8===e.nodeType?e.parentNode:e),dc(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var o=i;i=function(){var e=Wc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[mr]=l.current,zi(8===e.nodeType?e.parentNode:e),dc(function(){Hc(t,l,n,i)}),l}(n,t,e,r,i);return Wc(s)}Kc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Kc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Hc(null,e,null,null)}),t[mr]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Mt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Ze()),0===(6&Al)&&(zl=Ze()+500,zr()))}break;case 13:dc(function(){var t=Pa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),qc(e,1)}},wt=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=Pa(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},St=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=xr(i);if(!r)throw Error(a(90));Y(i),Q(i,r)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,ke=dc;var ed={usingClientEntryPoint:!1,Events:[br,yr,xr,Te,Ne,cc]},td={findFiberByHostInstance:vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{rt=id.inject(nd),at=id}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,i="",r=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,i,r),e[mr]=t.current,zi(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(a(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var i=null!=n&&n.hydratedSources||null,r=!1,s="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,r,0,s,o),e[mr]=t.current,zi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Kc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(a(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){$c(null,null,e,!1,function(){e._reactRootContainer=null,e[mr]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Zc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $c(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var i=n(5193),r=n(2761),a=Object.prototype,s=a.hasOwnProperty,o=a.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&s.call(e,"callee")&&!o.call(e,"callee")};e.exports=l},2794:(e,t,n)=>{var i=n(9742),r=n(7498),a=n(9096);e.exports=function(e,t){return e&&e.length?i(e,a(t,2),r):void 0}},2823:e=>{var t=Math.max;e.exports=function(e,n,i,r){for(var a=-1,s=e.length,o=i.length,l=-1,c=n.length,d=t(s-o,0),u=Array(c+d),h=!r;++l<c;)u[l]=n[l];for(;++a<o;)(h||a<s)&&(u[i[a]]=e[a]);for(;d--;)u[l++]=e[a++];return u}},2866:(e,t,n)=>{var i=n(2969);e.exports=function(e){return function(t){return i(t,e)}}},2867:(e,t,n)=>{var i=n(6600),r=i&&new i;e.exports=r},2897:(e,t,n)=>{var i=n(3693);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},2929:(e,t,n)=>{var i=n(6552).Uint8Array;e.exports=i},2952:(e,t,n)=>{var i=n(5652);e.exports=function(e,t,n,r){return i(e,function(e,i,a){t(r,e,n(e),a)}),r}},2955:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=t.CARRIAGE_RETURN_PLACEHOLDER=t.CARRIAGE_RETURN_REGEX=t.CARRIAGE_RETURN=t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(e,t){return e[t.toLowerCase()]=t,e},{}),t.CARRIAGE_RETURN="\r",t.CARRIAGE_RETURN_REGEX=new RegExp(t.CARRIAGE_RETURN,"g"),t.CARRIAGE_RETURN_PLACEHOLDER="__HTML_DOM_PARSER_CARRIAGE_RETURN_PLACEHOLDER_".concat(Date.now(),"__"),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=new RegExp(t.CARRIAGE_RETURN_PLACEHOLDER,"g")},2960:(e,t,n)=>{var i=n(3738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}throw new TypeError(i(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},2969:(e,t,n)=>{var i=n(5324),r=n(914);e.exports=function(e,t){for(var n=0,a=(t=i(t,e)).length;null!=e&&n<a;)e=e[r(t[n++])];return n&&n==a?e:void 0}},2990:(e,t,n)=>{var i=n(1817),r=n(2112);function a(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}a.prototype=i(r.prototype),a.prototype.constructor=a,e.exports=a},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3086:(e,t,n)=>{var i=n(2037)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=i},3097:(e,t,n)=>{var i=n(2969);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},3204:(e,t,n)=>{var i=n(3343),r=n(2777),a=n(4052),s=n(4543),o=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),d=!n&&r(e),u=!n&&!d&&s(e),h=!n&&!d&&!u&&l(e),p=n||d||u||h,m=p?i(e.length,String):[],f=m.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||u&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||o(g,f))||m.push(g);return m}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3343:e=>{e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},3345:(e,t,n)=>{var i=n(6882),r=n(643),a=i(function(e,t,n){return e+(n?" ":"")+r(t)});e.exports=a},3366:(e,t,n)=>{var i=n(7894),r=n(9057);e.exports=function(e,t){return null!=e&&r(e,t,i)}},3440:(e,t,n)=>{var i=n(6552)["__core-js_shared__"];e.exports=i},3516:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},3540:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var a=n(8400),s=n(3682);r(n(3682),t);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function e(e,t,n){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"===typeof t&&(n=t,t=o),"object"===typeof e&&(t=e,e=void 0),this.callback=null!==e&&void 0!==e?e:null,this.options=null!==t&&void 0!==t?t:o,this.elementCB=null!==n&&void 0!==n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?a.ElementType.Tag:void 0,i=new s.Element(e,t,void 0,n);this.addNode(i),this.tagStack.push(i)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===a.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new s.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===a.ElementType.Comment)this.lastNode.data+=e;else{var t=new s.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new s.Text(""),t=new s.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new s.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"===typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=l,t.default=l},3579:(e,t,n)=>{var i=n(1069),r=n(643);e.exports=function(e){return r(i(e).toLowerCase())}},3606:(e,t,n)=>{"use strict";var i;function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,y(i.key),i)}}function l(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=w(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}function d(e){var t=m();return function(){var n,i=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}(this,n)}}function u(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(o.push(i.value),o.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return o}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function w(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}var E=function(){function e(){s(this,e)}return l(e,[{key:"shadeRGBColor",value:function(e,t){var n=t.split(","),i=e<0?0:255,r=e<0?-1*e:e,a=parseInt(n[0].slice(4),10),s=parseInt(n[1],10),o=parseInt(n[2],10);return"rgb("+(Math.round((i-a)*r)+a)+","+(Math.round((i-s)*r)+s)+","+(Math.round((i-o)*r)+o)+")"}},{key:"shadeHexColor",value:function(e,t){var n=parseInt(t.slice(1),16),i=e<0?0:255,r=e<0?-1*e:e,a=n>>16,s=n>>8&255,o=255&n;return"#"+(16777216+65536*(Math.round((i-a)*r)+a)+256*(Math.round((i-s)*r)+s)+(Math.round((i-o)*r)+o)).toString(16).slice(1)}},{key:"shadeColor",value:function(t,n){return e.isColorHex(n)?this.shadeHexColor(t,n):this.shadeRGBColor(t,n)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&"object"===x(e)&&!Array.isArray(e)&&null!=e}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n}},{key:"extend",value:function(e,t){var n=this;"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t});var i=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(r){n.isObject(t[r])&&r in e?i[r]=n.extend(e[r],t[r]):Object.assign(i,u({},r,t[r]))}),i}},{key:"extendArray",value:function(t,n){var i=[];return t.map(function(t){i.push(e.extend(n,t))}),i}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(t){if(e.is("Array",t)){for(var n=[],i=0;i<t.length;i++)n[i]=this.clone(t[i]);return n}if(e.is("Null",t))return null;if(e.is("Date",t))return t;if("object"===x(t)){var r={};for(var a in t)t.hasOwnProperty(a)&&(r[a]=this.clone(t[a]));return r}return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return null===e?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){var t=String(e).split(/[eE]/);if(1===t.length)return t[0];var n="",i=e<0?"-":"",r=t[0].replace(".",""),a=Number(t[1])+1;if(a<0){for(n=i+"0.";a++;)n+="0";return n+r.replace(/^-/,"")}for(a-=r.length;a--;)n+="0";return r+n}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),n=e.clientHeight,i=e.clientWidth;return n-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[i-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(e,t){return Array.isArray(t)&&(t=t.reduce(function(e,t){return e.length>t.length?e:t})),e.length>t.length?e:t},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==e.substring(0,1)&&(e="#999999");var n=e.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var i=0;i<n.length;i++)n[i]=parseInt(1===n[i].length?n[i]+n[i]:n[i],16);return void 0!==t&&n.push(t),"rgba("+n.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var n=[],i=2*Math.PI/t,r=0;r<t;r++){var a={};a.x=e*Math.sin(r*i),a.y=-e*Math.cos(r*i),n.push(a)}return n}},{key:"polarToCartesian",value:function(e,t,n,i){var r=(i-90)*Math.PI/180;return{x:e+n*Math.cos(r),y:t+n*Math.sin(r)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=e.toString().slice();return n.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,n){if(n>=e.length)for(var i=n-e.length+1;i--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style.key=t[n])}},{key:"preciseAddition",value:function(e,t){var n=(String(e).split(".")[1]||"").length,i=(String(t).split(".")[1]||"").length,r=Math.pow(10,Math.max(n,i));return(Math.round(e*r)+Math.round(t*r))/r}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,i=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,t))));for(e=Math.round(Math.abs(e)*i),t=Math.round(Math.abs(t)*i);t;){var r=t;t=e%t,e=r}return e/i}},{key:"getPrimeFactors",value:function(e){for(var t=[],n=2;e>=2;)e%n==0?(t.push(n),e/=n):n++;return t}},{key:"mod",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,i=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*i))%(t=Math.round(Math.abs(t)*i))/i}}]),e}(),S=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.setEasingFunctions()}return l(e,[{key:"setEasingFunctions",value:function(){var e;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":e="-";break;case"easein":e="<";break;case"easeout":e=">";break;case"easeinout":default:e="<>";break;case"swing":e=function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1};break;case"bounce":e=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375};break;case"elastic":e=function(e){return e===!!e?e:Math.pow(2,-10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=e}}},{key:"animateLine",value:function(e,t,n,i){e.attr(t).animate(i).attr(n)}},{key:"animateMarker",value:function(e,t,n,i){e.attr({opacity:0}).animate(t,n).attr({opacity:1}).afterAll(function(){i()})}},{key:"animateRect",value:function(e,t,n,i,r){e.attr(t).animate(i).attr(n).afterAll(function(){return r()})}},{key:"animatePathsGradually",value:function(e){var t=e.el,n=e.realIndex,i=e.j,r=e.fill,a=e.pathFrom,s=e.pathTo,o=e.speed,l=e.delay,c=this.w,d=0;c.config.chart.animations.animateGradually.enabled&&(d=c.config.chart.animations.animateGradually.delay),c.config.chart.animations.dynamicAnimation.enabled&&c.globals.dataChanged&&"bar"!==c.config.chart.type&&(d=0),this.morphSVG(t,n,i,"line"!==c.config.chart.type||c.globals.comboCharts?r:"stroke",a,s,o,l*d)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof t.config.chart.events.animationEnd&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,n,i,r,a,s,o){var l=this,c=this.w;r||(r=e.attr("pathFrom")),a||(a=e.attr("pathTo"));var d=function(e){return"radar"===c.config.chart.type&&(s=1),"M 0 ".concat(c.globals.gridHeight)};(!r||r.indexOf("undefined")>-1||r.indexOf("NaN")>-1)&&(r=d()),(!a||a.indexOf("undefined")>-1||a.indexOf("NaN")>-1)&&(a=d()),c.globals.shouldAnimate||(s=1),e.plot(r).animate(1,c.globals.easing,o).plot(r).animate(s,c.globals.easing,o).plot(a).afterAll(function(){E.isNumber(n)?n===c.globals.series[c.globals.maxValsInArrayIndex].length-2&&c.globals.shouldAnimate&&l.animationCompleted(e):"none"!==i&&c.globals.shouldAnimate&&(!c.globals.comboCharts&&t===c.globals.series.length-1||c.globals.comboCharts)&&l.animationCompleted(e),l.showDelayedElements()})}}]),e}(),C=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"getDefaultFilter",value:function(e,t){var n=this.w;e.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==n.config.states.normal.filter?this.applyFilter(e,t,n.config.states.normal.filter.type,n.config.states.normal.filter.value):n.config.chart.dropShadow.enabled&&this.dropShadow(e,n.config.chart.dropShadow,t)}},{key:"addNormalFilter",value:function(e,t){var n=this.w;n.config.chart.dropShadow.enabled&&!e.node.classList.contains("apexcharts-marker")&&this.dropShadow(e,n.config.chart.dropShadow,t)}},{key:"addLightenFilter",value:function(e,t,n){var i=this,r=this.w,a=n.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter(function(e){var n=r.config.chart.dropShadow;(n.enabled?i.addShadow(e,t,n):e).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:a}})}),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"addDarkenFilter",value:function(e,t,n){var i=this,r=this.w,a=n.intensity;e.unfilter(!0),new window.SVG.Filter,e.filter(function(e){var n=r.config.chart.dropShadow;(n.enabled?i.addShadow(e,t,n):e).componentTransfer({rgb:{type:"linear",slope:a}})}),e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)}},{key:"applyFilter",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(n){case"none":this.addNormalFilter(e,t);break;case"lighten":this.addLightenFilter(e,t,{intensity:i});break;case"darken":this.addDarkenFilter(e,t,{intensity:i})}}},{key:"addShadow",value:function(e,t,n){var i,r=this.w,a=n.blur,s=n.top,o=n.left,l=n.color,c=n.opacity;if((null===(i=r.config.chart.dropShadow.enabledOnSeries)||void 0===i?void 0:i.length)>0&&-1===r.config.chart.dropShadow.enabledOnSeries.indexOf(t))return e;var d=e.flood(Array.isArray(l)?l[t]:l,c).composite(e.sourceAlpha,"in").offset(o,s).gaussianBlur(a).merge(e.source);return e.blend(e.source,d)}},{key:"dropShadow",value:function(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=t.top,s=t.left,o=t.blur,l=t.color,c=t.opacity,d=t.noUserSpaceOnUse,u=this.w;return e.unfilter(!0),E.isMsEdge()&&"radialBar"===u.config.chart.type||(null===(n=u.config.chart.dropShadow.enabledOnSeries)||void 0===n?void 0:n.length)>0&&-1===(null===(i=u.config.chart.dropShadow.enabledOnSeries)||void 0===i?void 0:i.indexOf(r))||(l=Array.isArray(l)?l[r]:l,e.filter(function(e){var t;t=E.isSafari()||E.isFirefox()||E.isMsEdge()?e.flood(l,c).composite(e.sourceAlpha,"in").offset(s,a).gaussianBlur(o):e.flood(l,c).composite(e.sourceAlpha,"in").offset(s,a).gaussianBlur(o).merge(e.source),e.blend(e.source,t)}),d||e.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(e.filterer.node)),e}},{key:"setSelectionFilter",value:function(e,t,n){var i=this.w;if(void 0!==i.globals.selectedDataPoints[t]&&i.globals.selectedDataPoints[t].indexOf(n)>-1){e.node.setAttribute("selected",!0);var r=i.config.states.active.filter;"none"!==r&&this.applyFilter(e,t,r.type,r.value)}}},{key:"_scaleFilterSize",value:function(e){!function(t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),e}(),T=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"roundPathCorners",value:function(e,t){function n(e,t,n){var r=t.x-e.x,a=t.y-e.y,s=Math.sqrt(r*r+a*a);return i(e,t,Math.min(1,n/s))}function i(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}}function r(e,t){e.length>2&&(e[e.length-2]=t.x,e[e.length-1]=t.y)}function a(e){return{x:parseFloat(e[e.length-2]),y:parseFloat(e[e.length-1])}}e.indexOf("NaN")>-1&&(e="");var s=e.split(/[,\s]/).reduce(function(e,t){var n=t.match("([a-zA-Z])(.+)");return n?(e.push(n[1]),e.push(n[2])):e.push(t),e},[]).reduce(function(e,t){return parseFloat(t)==t&&e.length?e[e.length-1].push(t):e.push([t]),e},[]),o=[];if(s.length>1){var l=a(s[0]),c=null;"Z"==s[s.length-1][0]&&s[0].length>2&&(c=["L",l.x,l.y],s[s.length-1]=c),o.push(s[0]);for(var d=1;d<s.length;d++){var u=o[o.length-1],h=s[d],p=h==c?s[1]:s[d+1];if(p&&u&&u.length>2&&"L"==h[0]&&p.length>2&&"L"==p[0]){var m,f,g=a(u),_=a(h),v=a(p);m=n(_,g,t),f=n(_,v,t),r(h,m),h.origPoint=_,o.push(h);var b=i(m,_,.5),y=i(_,f,.5),x=["C",b.x,b.y,y.x,y.y,f.x,f.y];x.origPoint=_,o.push(x)}else o.push(h)}if(c){var w=a(o[o.length-1]);o.push(["Z"]),r(o[0],w)}}else o=s;return o.reduce(function(e,t){return e+t.join(" ")+" "},"")}},{key:"drawLine",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:n,y2:i,stroke:r,"stroke-dasharray":a,"stroke-width":s,"stroke-linecap":o})}},{key:"drawRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,d=this.w.globals.dom.Paper.rect();return d.attr({x:e,y:t,width:n>0?n:0,height:i>0?i:0,rx:r,ry:r,opacity:s,"stroke-width":null!==o?o:0,stroke:null!==l?l:"none","stroke-dasharray":c}),d.node.setAttribute("fill",a),d}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:i,stroke:t,"stroke-width":n})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e<0&&(e=0);var n=this.w.globals.dom.Paper.circle(2*e);return null!==t&&n.attr(t),n}},{key:"drawPath",value:function(e){var t=e.d,n=void 0===t?"":t,i=e.stroke,r=void 0===i?"#a8a8a8":i,a=e.strokeWidth,s=void 0===a?1:a,o=e.fill,l=e.fillOpacity,c=void 0===l?1:l,d=e.strokeOpacity,u=void 0===d?1:d,h=e.classes,p=e.strokeLinecap,m=void 0===p?null:p,f=e.strokeDashArray,g=void 0===f?0:f,_=this.w;return null===m&&(m=_.config.stroke.lineCap),(n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(_.globals.gridHeight)),_.globals.dom.Paper.path(n).attr({fill:o,"fill-opacity":c,stroke:r,"stroke-opacity":u,"stroke-linecap":m,"stroke-width":s,"stroke-dasharray":g,class:h})}},{key:"group",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w.globals.dom.Paper.group();return null!==e&&t.attr(e),t}},{key:"move",value:function(e,t){return["M",e,t].join(" ")}},{key:"line",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;return null===n?i=[" L",e,t].join(" "):"H"===n?i=[" H",e].join(" "):"V"===n&&(i=[" V",t].join(" ")),i}},{key:"curve",value:function(e,t,n,i,r,a){return["C",e,t,n,i,r,a].join(" ")}},{key:"quadraticCurve",value:function(e,t,n,i){return["Q",e,t,n,i].join(" ")}},{key:"arc",value:function(e,t,n,i,r,a,s){var o="A";return arguments.length>7&&void 0!==arguments[7]&&arguments[7]&&(o="a"),[o,e,t,n,i,r,a,s].join(" ")}},{key:"renderPaths",value:function(e){var t,n=e.j,i=e.realIndex,r=e.pathFrom,a=e.pathTo,s=e.stroke,o=e.strokeWidth,l=e.strokeLinecap,c=e.fill,d=e.animationDelay,u=e.initialSpeed,h=e.dataChangeSpeed,p=e.className,m=e.chartType,f=e.shouldClipToGrid,_=void 0===f||f,v=e.bindEventsOnPaths,b=void 0===v||v,y=e.drawShadow,x=void 0===y||y,w=this.w,E=new C(this.ctx),T=new S(this.ctx),N=this.w.config.chart.animations.enabled,A=N&&this.w.config.chart.animations.dynamicAnimation.enabled,k=!!(N&&!w.globals.resized||A&&w.globals.dataChanged&&w.globals.shouldAnimate);k?t=r:(t=a,w.globals.animationEnded=!0);var R,I=w.config.stroke.dashArray;R=Array.isArray(I)?I[i]:w.config.stroke.dashArray;var O=this.drawPath({d:t,stroke:s,strokeWidth:o,fill:c,fillOpacity:1,classes:p,strokeLinecap:l,strokeDashArray:R});if(O.attr("index",i),_&&("bar"===m&&!w.globals.isHorizontal||w.globals.comboCharts?O.attr({"clip-path":"url(#gridRectBarMask".concat(w.globals.cuid,")")}):O.attr({"clip-path":"url(#gridRectMask".concat(w.globals.cuid,")")})),"none"!==w.config.states.normal.filter.type)E.getDefaultFilter(O,i);else if(w.config.chart.dropShadow.enabled&&x){var j=w.config.chart.dropShadow;E.dropShadow(O,j,i)}b&&(O.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,O)),O.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,O)),O.node.addEventListener("mousedown",this.pathMouseDown.bind(this,O))),O.attr({pathTo:a,pathFrom:r});var P={el:O,j:n,realIndex:i,pathFrom:r,pathTo:a,fill:c,strokeWidth:o,delay:d};return!N||w.globals.resized||w.globals.dataChanged?!w.globals.resized&&w.globals.dataChanged||T.showDelayedElements():T.animatePathsGradually(g(g({},P),{},{speed:u})),w.globals.dataChanged&&A&&k&&T.animatePathsGradually(g(g({},P),{},{speed:h})),O}},{key:"drawPattern",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,n,function(a){"horizontalLines"===e?a.line(0,0,n,0).stroke({color:i,width:r+1}):"verticalLines"===e?a.line(0,0,0,t).stroke({color:i,width:r+1}):"slantedLines"===e?a.line(0,0,t,n).stroke({color:i,width:r}):"squares"===e?a.rect(t,n).fill("none").stroke({color:i,width:r}):"circles"===e&&a.circle(t).fill("none").stroke({color:i,width:r})})}},{key:"drawGradient",value:function(e,t,n,i,r){var a,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,d=this.w;t.length<9&&0===t.indexOf("#")&&(t=E.hexToRgba(t,i)),n.length<9&&0===n.indexOf("#")&&(n=E.hexToRgba(n,r));var u=0,h=1,p=1,m=null;null!==o&&(u=void 0!==o[0]?o[0]/100:0,h=void 0!==o[1]?o[1]/100:1,p=void 0!==o[2]?o[2]/100:1,m=void 0!==o[3]?o[3]/100:null);var f=!("donut"!==d.config.chart.type&&"pie"!==d.config.chart.type&&"polarArea"!==d.config.chart.type&&"bubble"!==d.config.chart.type);if(a=null===l||0===l.length?d.globals.dom.Paper.gradient(f?"radial":"linear",function(e){e.at(u,t,i),e.at(h,n,r),e.at(p,n,r),null!==m&&e.at(m,t,i)}):d.globals.dom.Paper.gradient(f?"radial":"linear",function(e){(Array.isArray(l[c])?l[c]:l).forEach(function(t){e.at(t.offset/100,t.color,t.opacity)})}),f){var g=d.globals.gridWidth/2,_=d.globals.gridHeight/2;"bubble"!==d.config.chart.type?a.attr({gradientUnits:"userSpaceOnUse",cx:g,cy:_,r:s}):a.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===e?a.from(0,0).to(0,1):"diagonal"===e?a.from(0,0).to(1,1):"horizontal"===e?a.from(0,1).to(1,1):"diagonal2"===e&&a.from(1,0).to(0,1);return a}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,n=e.maxWidth,i=e.fontSize,r=e.fontFamily,a=this.getTextRects(t,i,r),s=a.width/t.length,o=Math.floor(n/s);return n<a.width?t.slice(0,o-3)+"...":t}},{key:"drawText",value:function(e){var t=this,n=e.x,i=e.y,r=e.text,a=e.textAnchor,s=e.fontSize,o=e.fontFamily,l=e.fontWeight,c=e.foreColor,d=e.opacity,u=e.maxWidth,h=e.cssClass,p=void 0===h?"":h,m=e.isPlainText,f=void 0===m||m,_=e.dominantBaseline,v=void 0===_?"auto":_,b=this.w;void 0===r&&(r="");var y=r;a||(a="start"),c&&c.length||(c=b.config.chart.foreColor),o=o||b.config.chart.fontFamily,l=l||"regular";var x,w={maxWidth:u,fontSize:s=s||"11px",fontFamily:o};return Array.isArray(r)?x=b.globals.dom.Paper.text(function(e){for(var n=0;n<r.length;n++)y=r[n],u&&(y=t.getTextBasedOnMaxWidth(g({text:r[n]},w))),0===n?e.tspan(y):e.tspan(y).newLine()}):(u&&(y=this.getTextBasedOnMaxWidth(g({text:r},w))),x=f?b.globals.dom.Paper.plain(r):b.globals.dom.Paper.text(function(e){return e.tspan(y)})),x.attr({x:n,y:i,"text-anchor":a,"dominant-baseline":v,"font-size":s,"font-family":o,"font-weight":l,fill:c,class:"apexcharts-text "+p}),x.node.style.fontFamily=o,x.node.style.opacity=d,x}},{key:"getMarkerPath",value:function(e,t,n,i){var r="";switch(n){case"cross":r="M ".concat(e-(i/=1.4)," ").concat(t-i," L ").concat(e+i," ").concat(t+i,"  M ").concat(e-i," ").concat(t+i," L ").concat(e+i," ").concat(t-i);break;case"plus":r="M ".concat(e-(i/=1.12)," ").concat(t," L ").concat(e+i," ").concat(t,"  M ").concat(e," ").concat(t-i," L ").concat(e," ").concat(t+i);break;case"star":case"sparkle":var a=5;i*=1.15,"sparkle"===n&&(i/=1.1,a=4);for(var s=Math.PI/a,o=0;o<=2*a;o++){var l=o*s,c=o%2==0?i:i/2;r+=(0===o?"M":"L")+(e+c*Math.sin(l))+","+(t-c*Math.cos(l))}r+="Z";break;case"triangle":r="M ".concat(e," ").concat(t-i," \n             L ").concat(e+i," ").concat(t+i," \n             L ").concat(e-i," ").concat(t+i," \n             Z");break;case"square":case"rect":r="M ".concat(e-(i/=1.125)," ").concat(t-i," \n           L ").concat(e+i," ").concat(t-i," \n           L ").concat(e+i," ").concat(t+i," \n           L ").concat(e-i," ").concat(t+i," \n           Z");break;case"diamond":i*=1.05,r="M ".concat(e," ").concat(t-i," \n             L ").concat(e+i," ").concat(t," \n             L ").concat(e," ").concat(t+i," \n             L ").concat(e-i," ").concat(t," \n            Z");break;case"line":r="M ".concat(e-(i/=1.1)," ").concat(t," \n           L ").concat(e+i," ").concat(t);break;default:i*=2,r="M ".concat(e,", ").concat(t," \n           m -").concat(i/2,", 0 \n           a ").concat(i/2,",").concat(i/2," 0 1,0 ").concat(i,",0 \n           a ").concat(i/2,",").concat(i/2," 0 1,0 -").concat(i,",0")}return r}},{key:"drawMarkerShape",value:function(e,t,n,i,r){var a=this.drawPath({d:this.getMarkerPath(e,t,n,i,r),stroke:r.pointStrokeColor,strokeDashArray:r.pointStrokeDashArray,strokeWidth:r.pointStrokeWidth,fill:r.pointFillColor,fillOpacity:r.pointFillOpacity,strokeOpacity:r.pointStrokeOpacity});return a.attr({cx:e,cy:t,shape:r.shape,class:r.class?r.class:""}),a}},{key:"drawMarker",value:function(e,t,n){e=e||0;var i=n.pSize||0;return E.isNumber(t)||(i=0,t=0),this.drawMarkerShape(e,t,null==n?void 0:n.shape,i,g(g({},n),"line"===n.shape||"plus"===n.shape||"cross"===n.shape?{pointStrokeColor:n.pointFillColor,pointStrokeOpacity:n.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var n=this.w,i=new C(this.ctx),r=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);if("function"==typeof n.config.chart.events.dataPointMouseEnter&&n.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:n}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:n}]),("none"===n.config.states.active.filter.type||"true"!==e.node.getAttribute("selected"))&&"none"!==n.config.states.hover.filter.type&&!n.globals.isTouchDevice){var s=n.config.states.hover.filter;i.applyFilter(e,r,s.type,s.value)}}},{key:"pathMouseLeave",value:function(e,t){var n=this.w,i=new C(this.ctx),r=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10);"function"==typeof n.config.chart.events.dataPointMouseLeave&&n.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:n}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:r,dataPointIndex:a,w:n}]),"none"!==n.config.states.active.filter.type&&"true"===e.node.getAttribute("selected")||"none"!==n.config.states.hover.filter.type&&i.getDefaultFilter(e,r)}},{key:"pathMouseDown",value:function(e,t){var n=this.w,i=new C(this.ctx),r=parseInt(e.node.getAttribute("index"),10),a=parseInt(e.node.getAttribute("j"),10),s="false";if("true"===e.node.getAttribute("selected")){if(e.node.setAttribute("selected","false"),n.globals.selectedDataPoints[r].indexOf(a)>-1){var o=n.globals.selectedDataPoints[r].indexOf(a);n.globals.selectedDataPoints[r].splice(o,1)}}else{if(!n.config.states.active.allowMultipleDataPointsSelection&&n.globals.selectedDataPoints.length>0){n.globals.selectedDataPoints=[];var l=n.globals.dom.Paper.select(".apexcharts-series path").members,c=n.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,d=function(e){Array.prototype.forEach.call(e,function(e){e.node.setAttribute("selected","false"),i.getDefaultFilter(e,r)})};d(l),d(c)}e.node.setAttribute("selected","true"),s="true",void 0===n.globals.selectedDataPoints[r]&&(n.globals.selectedDataPoints[r]=[]),n.globals.selectedDataPoints[r].push(a)}if("true"===s){var u=n.config.states.active.filter;if("none"!==u)i.applyFilter(e,r,u.type,u.value);else if("none"!==n.config.states.hover.filter&&!n.globals.isTouchDevice){var h=n.config.states.hover.filter;i.applyFilter(e,r,h.type,h.value)}}else"none"!==n.config.states.active.filter.type&&("none"===n.config.states.hover.filter.type||n.globals.isTouchDevice?i.getDefaultFilter(e,r):(h=n.config.states.hover.filter,i.applyFilter(e,r,h.type,h.value)));"function"==typeof n.config.chart.events.dataPointSelection&&n.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:a,w:n}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:r,dataPointIndex:a,w:n}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&"function"==typeof e.getBBox&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=this.w,s=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:n,foreColor:"#fff",opacity:0});i&&s.attr("transform",i),a.globals.dom.Paper.add(s);var o=s.bbox();return r||(o=s.node.getBoundingClientRect()),s.remove(),{width:o.width,height:o.height}}},{key:"placeTextWithEllipsis",value:function(e,t,n){if("function"==typeof e.getComputedTextLength&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=n/1.1)){for(var i=t.length-3;i>0;i-=3)if(e.getSubStringLength(0,i)<=n/1.1)return void(e.textContent=t.substring(0,i)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}}]),e}(),N=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.w,n=[];if(0===t.globals.series.length)return n;for(var i=0;i<t.globals.series[t.globals.maxValsInArrayIndex].length;i++){for(var r=0,a=0;a<t.globals.series.length;a++)void 0!==t.globals.series[a][i]&&-1===e.indexOf(a)&&(r+=t.globals.series[a][i]);n.push(r)}return n}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?this.w.config.series.reduce(function(e,t){return e+t},0):this.w.globals.series[e].reduce(function(e,t){return e+t},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,n=[];return t.globals.seriesGroups.forEach(function(i){var r=[];t.config.series.forEach(function(e,n){i.indexOf(t.globals.seriesNames[n])>-1&&r.push(n)});var a=t.globals.series.map(function(e,t){return-1===r.indexOf(t)?t:-1}).filter(function(e){return-1!==e});n.push(e.getStackedSeriesTotals(a))}),n}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,n=[],i=[],r=[],a=e.series.length>t.yaxis.length||t.yaxis.some(function(e){return Array.isArray(e.seriesName)});t.series.forEach(function(e,t){r.push(t),i.push(null)}),t.yaxis.forEach(function(e,t){n[t]=[]});var s=[];t.yaxis.forEach(function(e,i){var o=!1;if(e.seriesName){var l=[];Array.isArray(e.seriesName)?l=e.seriesName:l.push(e.seriesName),l.forEach(function(e){t.series.forEach(function(t,s){if(t.name===e){var l=s;i===s||a?!a||r.indexOf(s)>-1?n[i].push([i,s]):console.warn("Series '"+t.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(n[s].push([s,i]),l=i),o=!0,-1!==(l=r.indexOf(l))&&r.splice(l,1)}})})}o||s.push(i)}),n=n.map(function(e,t){var n=[];return e.forEach(function(e){i[e[1]]=e[0],n.push(e[1])}),n});for(var o=t.yaxis.length-1,l=0;l<s.length&&(o=s[l],n[o]=[],r);l++){var c=r[0];r.shift(),n[o].push(c),i[c]=o}r.forEach(function(e){n[o].push(e),i[e]=o}),e.seriesYAxisMap=n.map(function(e){return e}),e.seriesYAxisReverseMap=i.map(function(e){return e}),e.seriesYAxisMap.forEach(function(e,n){e.forEach(function(e){t.series[e]&&void 0===t.series[e].group&&(t.series[e].group="apexcharts-axis-".concat(n.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===e?this.w.config.series.filter(function(e){return null!==e}):this.w.config.series[e].data.filter(function(e){return null!==e})).length}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(e,t,n){return e===n[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,n=e.slice();return t.config.xaxis.convertedCatToNumeric&&(n=e.map(function(e,n){return t.config.xaxis.labels.formatter(e-t.globals.minX+1)})),n}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(e){return e.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(e){return e.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(e){t=Math.max(t,e)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(e){t=Math.max(t,e.size)}),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(e,t){var n=0;if(Array.isArray(e))for(var i=0;i<e.length;i++)n+=e[i];else n+=e;return n})}},{key:"getSeriesTotalsXRange",value:function(e,t){var n=this.w;return n.globals.series.map(function(i,r){for(var a=0,s=0;s<i.length;s++)n.globals.seriesX[r][s]>e&&n.globals.seriesX[r][s]<t&&(a+=i[s]);return a})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,n){var i=[];if(Array.isArray(t))for(var r=0;r<t.length;r++){var a=e.globals.stackedSeriesTotals[r],s=0;a&&(s=100*t[r]/a),i.push(s)}else{var o=100*t/e.globals.seriesTotals.reduce(function(e,t){return e+t},0);i.push(o)}return i})}},{key:"getCalculatedRatios",value:function(){var e,t,n,i=this,r=this.w,a=r.globals,s=[],o=0,l=[],c=.1,d=0;if(a.yRange=[],a.isMultipleYAxis)for(var u=0;u<a.minYArr.length;u++)a.yRange.push(Math.abs(a.minYArr[u]-a.maxYArr[u])),l.push(0);else a.yRange.push(Math.abs(a.minY-a.maxY));a.xRange=Math.abs(a.maxX-a.minX),a.zRange=Math.abs(a.maxZ-a.minZ);for(var h=0;h<a.yRange.length;h++)s.push(a.yRange[h]/a.gridHeight);if(t=a.xRange/a.gridWidth,e=a.yRange/a.gridWidth,n=a.xRange/a.gridHeight,(o=a.zRange/a.gridHeight*16)||(o=1),a.minY!==Number.MIN_VALUE&&0!==Math.abs(a.minY)&&(a.hasNegs=!0),r.globals.seriesYAxisReverseMap.length>0){var p=function(e,t){var n=r.config.yaxis[r.globals.seriesYAxisReverseMap[t]],a=e<0?-1:1;return e=Math.abs(e),n.logarithmic&&(e=i.getBaseLog(n.logBase,e)),-a*e/s[t]};if(a.isMultipleYAxis){l=[];for(var m=0;m<s.length;m++)l.push(p(a.minYArr[m],m))}else(l=[]).push(p(a.minY,0)),a.minY!==Number.MIN_VALUE&&0!==Math.abs(a.minY)&&(c=-a.minY/e,d=a.minX/t)}else(l=[]).push(0),c=0,d=0;return{yRatio:s,invertedYRatio:e,zRatio:o,xRatio:t,invertedXRatio:n,baseLineInvertedY:c,baseLineY:l,baseLineX:d}}},{key:"getLogSeries",value:function(e){var t=this,n=this.w;return n.globals.seriesLog=e.map(function(e,i){var r=n.globals.seriesYAxisReverseMap[i];return n.config.yaxis[r]&&n.config.yaxis[r].logarithmic?e.map(function(e){return null===e?null:t.getLogVal(n.config.yaxis[r].logBase,e,i)}):e}),n.globals.invalidLogScale?e:n.globals.seriesLog}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,n){if(t<=0)return 0;var i=this.w,r=0===i.globals.minYArr[n]?-1:this.getBaseLog(e,i.globals.minYArr[n]),a=(0===i.globals.maxYArr[n]?0:this.getBaseLog(e,i.globals.maxYArr[n]))-r;return t<1?t/a:(this.getBaseLog(e,t)-r)/a}},{key:"getLogYRatios",value:function(e){var t=this,n=this.w,i=this.w.globals;return i.yLogRatio=e.slice(),i.logYRange=i.yRange.map(function(e,r){var a=n.globals.seriesYAxisReverseMap[r];if(n.config.yaxis[a]&&t.w.config.yaxis[a].logarithmic){var s,o=-Number.MAX_VALUE,l=Number.MIN_VALUE;return i.seriesLog.forEach(function(e,t){e.forEach(function(e){n.config.yaxis[t]&&n.config.yaxis[t].logarithmic&&(o=Math.max(e,o),l=Math.min(e,l))})}),s=Math.pow(i.yRange[r],Math.abs(l-o)/i.yRange[r]),i.yLogRatio[r]=s/i.gridHeight,s}}),i.invalidLogScale?e.slice():i.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,n,i){var r=this.w,a=[];return e.series.length>0&&t.forEach(function(t){var s=[],o=[];e.i.forEach(function(n,i){r.config.series[n].group===t&&(s.push(e.series[i]),o.push(n))}),s.length>0&&a.push(i.draw(s,n,o))}),a}}],[{key:"checkComboSeries",value:function(e,t){var n=!1,i=0,r=0;return void 0===t&&(t="line"),e.length&&void 0!==e[0].type&&e.forEach(function(e){"bar"!==e.type&&"column"!==e.type&&"candlestick"!==e.type&&"boxPlot"!==e.type||i++,void 0!==e.type&&e.type!==t&&r++}),r>0&&(n=!0),{comboBarCount:i,comboCharts:n}}},{key:"extendArrayProps",value:function(e,t,n){var i,r,a,s,o,l;return null!==(i=t)&&void 0!==i&&i.yaxis&&(t=e.extendYAxis(t,n)),null!==(r=t)&&void 0!==r&&r.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),null!==(a=t)&&void 0!==a&&null!==(s=a.annotations)&&void 0!==s&&s.xaxis&&(t=e.extendXAxisAnnotations(t)),null!==(o=t)&&void 0!==o&&null!==(l=o.annotations)&&void 0!==l&&l.points&&(t=e.extendPointAnnotations(t))),t}}]),e}(),A=function(){function e(t){s(this,e),this.w=t.w,this.annoCtx=t}return l(e,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.w;if("vertical"===e.label.orientation){var i=null!==t?t:0,r=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(i,"']"));if(null!==r){var a=r.getBoundingClientRect();r.setAttribute("x",parseFloat(r.getAttribute("x"))-a.height+4);var s="top"===e.label.position?a.width:-a.width;r.setAttribute("y",parseFloat(r.getAttribute("y"))+s);var o=this.annoCtx.graphics.rotateAroundCenter(r),l=o.x,c=o.y;r.setAttribute("transform","rotate(-90 ".concat(l," ").concat(c,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var n=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var i=n.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),r=e.getBoundingClientRect(),a=t.label.style.padding,s=a.left,o=a.right,l=a.top,c=a.bottom;if("vertical"===t.label.orientation){var d=[s,o,l,c];l=d[0],c=d[1],s=d[2],o=d[3]}var u=r.left-i.left-s,h=r.top-i.top-l,p=this.annoCtx.graphics.drawRect(u-n.globals.barPadForNumericAxis,h,r.width+s+o,r.height+l+c,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&p.node.classList.add(t.id),p}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,n=function(n,i,r){var a=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(i,"']"));if(a){var s=a.parentNode,o=e.addBackgroundToAnno(a,n);o&&(s.insertBefore(o.node,a),n.label.mouseEnter&&o.node.addEventListener("mouseenter",n.label.mouseEnter.bind(e,n)),n.label.mouseLeave&&o.node.addEventListener("mouseleave",n.label.mouseLeave.bind(e,n)),n.label.click&&o.node.addEventListener("click",n.label.click.bind(e,n)))}};t.config.annotations.xaxis.forEach(function(e,t){return n(e,t,"xaxis")}),t.config.annotations.yaxis.forEach(function(e,t){return n(e,t,"yaxis")}),t.config.annotations.points.forEach(function(e,t){return n(e,t,"point")})}},{key:"getY1Y2",value:function(e,t){var n,i=this.w,r="y1"===e?t.y:t.y2,a=!1;if(this.annoCtx.invertAxis){var s=i.config.xaxis.convertedCatToNumeric?i.globals.categoryLabels:i.globals.labels,o=s.indexOf(r),l=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(o+1,")"));n=l?parseFloat(l.getAttribute("y")):(i.globals.gridHeight/s.length-1)*(o+1)-i.globals.barHeight,void 0!==t.seriesIndex&&i.globals.barHeight&&(n-=i.globals.barHeight/2*(i.globals.series.length-1)-i.globals.barHeight*t.seriesIndex)}else{var c,d=i.globals.seriesYAxisMap[t.yAxisIndex][0],u=i.config.yaxis[t.yAxisIndex].logarithmic?new N(this.annoCtx.ctx).getLogVal(i.config.yaxis[t.yAxisIndex].logBase,r,d)/i.globals.yLogRatio[d]:(r-i.globals.minYArr[d])/(i.globals.yRange[d]/i.globals.gridHeight);n=i.globals.gridHeight-Math.min(Math.max(u,0),i.globals.gridHeight),a=u>i.globals.gridHeight||u<0,!t.marker||void 0!==t.y&&null!==t.y||(n=0),null!==(c=i.config.yaxis[t.yAxisIndex])&&void 0!==c&&c.reversed&&(n=u)}return"string"==typeof r&&r.includes("px")&&(n=parseFloat(r)),{yP:n,clipped:a}}},{key:"getX1X2",value:function(e,t){var n=this.w,i="x1"===e?t.x:t.x2,r=this.annoCtx.invertAxis?n.globals.minY:n.globals.minX,a=this.annoCtx.invertAxis?n.globals.maxY:n.globals.maxX,s=this.annoCtx.invertAxis?n.globals.yRange[0]:n.globals.xRange,o=!1,l=this.annoCtx.inversedReversedAxis?(a-i)/(s/n.globals.gridWidth):(i-r)/(s/n.globals.gridWidth);return"category"!==n.config.xaxis.type&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||n.config.chart.sparkline.enabled||(l=this.getStringX(i)),"string"==typeof i&&i.includes("px")&&(l=parseFloat(i)),null==i&&t.marker&&(l=n.globals.gridWidth),void 0!==t.seriesIndex&&n.globals.barWidth&&!this.annoCtx.invertAxis&&(l-=n.globals.barWidth/2*(n.globals.series.length-1)-n.globals.barWidth*t.seriesIndex),l>n.globals.gridWidth?(l=n.globals.gridWidth,o=!0):l<0&&(l=0,o=!0),{x:l,clipped:o}}},{key:"getStringX",value:function(e){var t=this.w,n=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var i=t.globals.labels.map(function(e){return Array.isArray(e)?e.join(" "):e}).indexOf(e),r=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(i+1,")"));return r&&(n=parseFloat(r.getAttribute("x"))),n}}]),e}(),k=function(){function e(t){s(this,e),this.w=t.w,this.annoCtx=t,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new A(this.annoCtx)}return l(e,[{key:"addXaxisAnnotation",value:function(e,t,n){var i,r=this.w,a=this.helpers.getX1X2("x1",e),s=a.x,o=a.clipped,l=!0,c=e.label.text,d=e.strokeDashArray;if(E.isNumber(s)){if(null===e.x2||void 0===e.x2){if(!o){var u=this.annoCtx.graphics.drawLine(s+e.offsetX,0+e.offsetY,s+e.offsetX,r.globals.gridHeight+e.offsetY,e.borderColor,d,e.borderWidth);t.appendChild(u.node),e.id&&u.node.classList.add(e.id)}}else{var h=this.helpers.getX1X2("x2",e);if(i=h.x,l=h.clipped,!o||!l){if(i<s){var p=s;s=i,i=p}var m=this.annoCtx.graphics.drawRect(s+e.offsetX,0+e.offsetY,i-s,r.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,d);m.node.classList.add("apexcharts-annotation-rect"),m.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(m.node),e.id&&m.node.classList.add(e.id)}}if(!o||!l){var f=this.annoCtx.graphics.getTextRects(c,parseFloat(e.label.style.fontSize)),g="top"===e.label.position?4:"center"===e.label.position?r.globals.gridHeight/2+("vertical"===e.label.orientation?f.width/2:0):r.globals.gridHeight,_=this.annoCtx.graphics.drawText({x:s+e.label.offsetX,y:g+e.label.offsetY-("vertical"===e.label.orientation?"top"===e.label.position?f.width/2-12:-f.width/2:0),text:c,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});_.attr({rel:n}),t.appendChild(_.node),this.annoCtx.helpers.setOrientations(e,n)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(t,i){e.addXaxisAnnotation(t,n.node,i)}),n}}]),e}(),R=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return l(e,[{key:"isValidDate",value:function(e){return"number"!=typeof e&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var n=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(n)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var n=this.w.globals.locale,i=this.w.config.xaxis.labels.datetimeUTC,r=["\0"].concat(b(n.months)),a=["\x01"].concat(b(n.shortMonths)),s=["\x02"].concat(b(n.days)),o=["\x03"].concat(b(n.shortDays));function l(e,t){var n=e+"";for(t=t||2;n.length<t;)n="0"+n;return n}var c=i?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+c)).replace(/(^|[^\\])yy/g,"$1"+c.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+c);var d=(i?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+r[0])).replace(/(^|[^\\])MMM/g,"$1"+a[0])).replace(/(^|[^\\])MM/g,"$1"+l(d))).replace(/(^|[^\\])M/g,"$1"+d);var u=i?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+s[0])).replace(/(^|[^\\])ddd/g,"$1"+o[0])).replace(/(^|[^\\])dd/g,"$1"+l(u))).replace(/(^|[^\\])d/g,"$1"+u);var h=i?e.getUTCHours():e.getHours(),p=h>12?h-12:0===h?12:h;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+l(h))).replace(/(^|[^\\])H/g,"$1"+h)).replace(/(^|[^\\])hh+/g,"$1"+l(p))).replace(/(^|[^\\])h/g,"$1"+p);var m=i?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+l(m))).replace(/(^|[^\\])m/g,"$1"+m);var f=i?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+l(f))).replace(/(^|[^\\])s/g,"$1"+f);var g=i?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+l(g,3)),g=Math.round(g/10),t=t.replace(/(^|[^\\])ff/g,"$1"+l(g)),g=Math.round(g/10);var _=h<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+g)).replace(/(^|[^\\])TT+/g,"$1"+_)).replace(/(^|[^\\])T/g,"$1"+_.charAt(0));var v=_.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+v)).replace(/(^|[^\\])t/g,"$1"+v.charAt(0));var y=-e.getTimezoneOffset(),x=i||!y?"Z":y>0?"+":"-";if(!i){var w=(y=Math.abs(y))%60;x+=l(Math.floor(y/60))+":"+l(w)}t=t.replace(/(^|[^\\])K/g,"$1"+x);var E=(i?e.getUTCDay():e.getDay())+1;return(t=(t=(t=(t=t.replace(new RegExp(s[0],"g"),s[E])).replace(new RegExp(o[0],"g"),o[E])).replace(new RegExp(r[0],"g"),r[d])).replace(new RegExp(a[0],"g"),a[d])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,n){var i=this.w;void 0!==i.config.xaxis.min&&(e=i.config.xaxis.min),void 0!==i.config.xaxis.max&&(t=i.config.xaxis.max);var r=this.getDate(e),a=this.getDate(t),s=this.formatDate(r,"yyyy MM dd HH mm ss fff").split(" "),o=this.formatDate(a,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(s[6],10),maxMillisecond:parseInt(o[6],10),minSecond:parseInt(s[5],10),maxSecond:parseInt(o[5],10),minMinute:parseInt(s[4],10),maxMinute:parseInt(o[4],10),minHour:parseInt(s[3],10),maxHour:parseInt(o[3],10),minDate:parseInt(s[2],10),maxDate:parseInt(o[2],10),minMonth:parseInt(s[1],10)-1,maxMonth:parseInt(o[1],10)-1,minYear:parseInt(s[0],10),maxYear:parseInt(o[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,n){return this.determineDaysOfMonths(e,t)-n}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,n){var i=this.daysCntOfYear[t]+n;return t>1&&this.isLeapYear()&&i++,i}},{key:"determineDaysOfMonths",value:function(e,t){var n=30;switch(e=E.monthMod(e),!0){case this.months30.indexOf(e)>-1:2===e&&(n=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:n=31}return n}}]),e}(),I=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.tooltipKeyFormat="dd MMM"}return l(e,[{key:"xLabelFormat",value:function(e,t,n,i){var r=this.w;if("datetime"===r.config.xaxis.type&&void 0===r.config.xaxis.labels.formatter&&void 0===r.config.tooltip.x.formatter){var a=new R(this.ctx);return a.formatDate(a.getDate(t),r.config.tooltip.x.format)}return e(t,n,i)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(e){return e}):e}},{key:"defaultYFormatter",value:function(e,t,n){var i=this.w;if(E.isNumber(e))if(0!==i.globals.yValueDecimal)e=e.toFixed(void 0!==t.decimalsInFloat?t.decimalsInFloat:i.globals.yValueDecimal);else{var r=e.toFixed(0);e=e==r?r:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.ttKeyFormatter=function(t){return e.defaultGeneralFormatter(t)},t.globals.ttZFormatter=function(e){return e},t.globals.legendFormatter=function(t){return e.defaultGeneralFormatter(t)},void 0!==t.config.xaxis.labels.formatter?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(e){if(E.isNumber(e)){if(!t.config.xaxis.convertedCatToNumeric&&"numeric"===t.config.xaxis.type){if(E.isNumber(t.config.xaxis.decimalsInFloat))return e.toFixed(t.config.xaxis.decimalsInFloat);var n=t.globals.maxX-t.globals.minX;return n>0&&n<100?e.toFixed(1):e.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?e.toFixed(1):e.toFixed(0)}return e},"function"==typeof t.config.tooltip.x.formatter?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,"function"==typeof t.config.xaxis.tooltip.formatter&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||void 0!==t.config.tooltip.y.formatter)&&(t.globals.ttVal=t.config.tooltip.y),void 0!==t.config.tooltip.z.formatter&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),void 0!==t.config.legend.formatter&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(n,i){void 0!==n.labels.formatter?t.globals.yLabelFormatters[i]=n.labels.formatter:t.globals.yLabelFormatters[i]=function(r){return t.globals.xyCharts?Array.isArray(r)?r.map(function(t){return e.defaultYFormatter(t,n,i)}):e.defaultYFormatter(r,n,i):r}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if("heatmap"===e.config.chart.type){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(e,t){return e.length>t.length?e:t},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),e}(),O=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"getLabel",value:function(e,t,n,i){var r,a,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",l=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=this.w,d=void 0===e[i]?"":e[i],u=d,h=c.globals.xLabelFormatter,p=c.config.xaxis.labels.formatter,m=!1,f=new I(this.ctx),g=d;l&&(u=f.xLabelFormat(h,d,g,{i:i,dateFormatter:new R(this.ctx).formatDate,w:c}),void 0!==p&&(u=p(d,e[i],{i:i,dateFormatter:new R(this.ctx).formatDate,w:c}))),t.length>0?(r=t[i].unit,a=null,t.forEach(function(e){"month"===e.unit?a="year":"day"===e.unit?a="month":"hour"===e.unit?a="day":"minute"===e.unit&&(a="hour")}),m=a===r,n=t[i].position,u=t[i].value):"datetime"===c.config.xaxis.type&&void 0===p&&(u=""),void 0===u&&(u=""),u=Array.isArray(u)?u:u.toString();var _,v=new T(this.ctx);_=c.globals.rotateXLabels&&l?v.getTextRects(u,parseInt(o,10),null,"rotate(".concat(c.config.xaxis.labels.rotate," 0 0)"),!1):v.getTextRects(u,parseInt(o,10));var b=!c.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&("NaN"===String(u)||s.indexOf(u)>=0&&b)&&(u=""),{x:n,text:u,textRect:_,isBold:m}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,n){var i=this.w,r=i.config.xaxis.tickAmount;return"dataPoints"===r&&(r=Math.round(i.globals.gridWidth/120)),r>n||e%Math.round(n/(r+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,n,i,r){var a=this.w;if(0===e&&a.globals.skipFirstTimelinelabel&&(t.text=""),e===n-1&&a.globals.skipLastTimelinelabel&&(t.text=""),a.config.xaxis.labels.hideOverlappingLabels&&i.length>0){var s=r[r.length-1];t.x<s.textRect.width/(a.globals.rotateXLabels?Math.abs(a.config.xaxis.labels.rotate)/12:1.01)+s.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var n=this.w;return n.config.yaxis[e]&&n.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some(function(e){return-1===t.collapsedSeriesIndices.indexOf(e)})}},{key:"translateYAxisIndex",value:function(e){var t=this.w,n=t.globals,i=t.config.yaxis;return n.series.length>i.length||i.some(function(e){return Array.isArray(e.seriesName)})?e:n.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,n=t.config.yaxis[e];if(!n.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!n.showForNullSeries){var i=t.globals.seriesYAxisMap[e],r=new N(this.ctx);return i.every(function(e){return r.isSeriesNull(e)})}return!1}},{key:"getYAxisForeColor",value:function(e,t){var n=this.w;return Array.isArray(e)&&n.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,n.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,n,i,r,a,s){var o=this.w,l=new T(this.ctx),c=o.globals.translateY+o.config.yaxis[r].labels.offsetY;if(o.globals.isBarHorizontal?c=0:"heatmap"===o.config.chart.type&&(c+=a/2),i.show&&t>0){!0===o.config.yaxis[r].opposite&&(e+=i.width);for(var d=t;d>=0;d--){var u=l.drawLine(e+n.offsetX-i.width+i.offsetX,c+i.offsetY,e+n.offsetX+i.offsetX,c+i.offsetY,i.color);s.add(u),c+=a}}}}]),e}(),P=function(){function e(t){s(this,e),this.w=t.w,this.annoCtx=t,this.helpers=new A(this.annoCtx),this.axesUtils=new O(this.annoCtx)}return l(e,[{key:"addYaxisAnnotation",value:function(e,t,n){var i,r=this.w,a=e.strokeDashArray,s=this.helpers.getY1Y2("y1",e),o=s.yP,l=s.clipped,c=!0,d=!1,u=e.label.text;if(null===e.y2||void 0===e.y2){if(!l){d=!0;var h=this.annoCtx.graphics.drawLine(0+e.offsetX,o+e.offsetY,this._getYAxisAnnotationWidth(e),o+e.offsetY,e.borderColor,a,e.borderWidth);t.appendChild(h.node),e.id&&h.node.classList.add(e.id)}}else{if(i=(s=this.helpers.getY1Y2("y2",e)).yP,c=s.clipped,i>o){var p=o;o=i,i=p}if(!l||!c){d=!0;var m=this.annoCtx.graphics.drawRect(0+e.offsetX,i+e.offsetY,this._getYAxisAnnotationWidth(e),o-i,0,e.fillColor,e.opacity,1,e.borderColor,a);m.node.classList.add("apexcharts-annotation-rect"),m.attr("clip-path","url(#gridRectMask".concat(r.globals.cuid,")")),t.appendChild(m.node),e.id&&m.node.classList.add(e.id)}}if(d){var f="right"===e.label.position?r.globals.gridWidth:"center"===e.label.position?r.globals.gridWidth/2:0,g=this.annoCtx.graphics.drawText({x:f+e.label.offsetX,y:(null!=i?i:o)+e.label.offsetY-3,text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});g.attr({rel:n}),t.appendChild(g.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach(function(t,i){t.yAxisIndex=e.axesUtils.translateYAxisIndex(t.yAxisIndex),e.axesUtils.isYAxisHidden(t.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(t.yAxisIndex)||e.addYaxisAnnotation(t,n.node,i)}),n}}]),e}(),D=function(){function e(t){s(this,e),this.w=t.w,this.annoCtx=t,this.helpers=new A(this.annoCtx)}return l(e,[{key:"addPointAnnotation",value:function(e,t,n){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var i=this.helpers.getX1X2("x1",e),r=i.x,a=i.clipped,s=(i=this.helpers.getY1Y2("y1",e)).yP,o=i.clipped;if(E.isNumber(r)&&!o&&!a){var l={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},c=this.annoCtx.graphics.drawMarker(r+e.marker.offsetX,s+e.marker.offsetY,l);t.appendChild(c.node);var d=e.label.text?e.label.text:"",u=this.annoCtx.graphics.drawText({x:r+e.label.offsetX,y:s+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:d,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(u.attr({rel:n}),t.appendChild(u.node),e.customSVG.SVG){var h=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});h.attr({transform:"translate(".concat(r+e.customSVG.offsetX,", ").concat(s+e.customSVG.offsetY,")")}),h.node.innerHTML=e.customSVG.SVG,t.appendChild(h.node)}if(e.image.path){var p=e.image.width?e.image.width:20,m=e.image.height?e.image.height:20;c=this.annoCtx.addImage({x:r+e.image.offsetX-p/2,y:s+e.image.offsetY-m/2,width:p,height:m,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&c.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&c.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&c.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(t,i){e.addPointAnnotation(t,n.node,i)}),n}}]),e}(),L={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},M=function(){function e(){s(this,e),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return l(e,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[L],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(e,t){return e+t},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(e,t){return e+t},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return null!==e?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),e}(),U=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.graphics=new T(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new A(this),this.xAxisAnnotations=new k(this),this.yAxisAnnotations=new P(this),this.pointsAnnotations=new D(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return l(e,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),n=this.xAxisAnnotations.drawXAxisAnnotations(),i=this.pointsAnnotations.drawPointAnnotations(),r=e.config.chart.animations.enabled,a=[t,n,i],s=[n.node,t.node,i.node],o=0;o<3;o++)e.globals.dom.elGraphical.add(a[o]),!r||e.globals.resized||e.globals.dataChanged||"scatter"!==e.config.chart.type&&"bubble"!==e.config.chart.type&&e.globals.dataPoints>1&&s[o].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:s[o],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,n){e.addImage(t,n)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,n){e.addText(t,n)})}},{key:"addXaxisAnnotation",value:function(e,t,n){this.xAxisAnnotations.addXaxisAnnotation(e,t,n)}},{key:"addYaxisAnnotation",value:function(e,t,n){this.yAxisAnnotations.addYaxisAnnotation(e,t,n)}},{key:"addPointAnnotation",value:function(e,t,n){this.pointsAnnotations.addPointAnnotation(e,t,n)}},{key:"addText",value:function(e,t){var n=e.x,i=e.y,r=e.text,a=e.textAnchor,s=e.foreColor,o=e.fontSize,l=e.fontFamily,c=e.fontWeight,d=e.cssClass,u=e.backgroundColor,h=e.borderWidth,p=e.strokeDashArray,m=e.borderRadius,f=e.borderColor,g=e.appendTo,_=void 0===g?".apexcharts-svg":g,v=e.paddingLeft,b=void 0===v?4:v,y=e.paddingRight,x=void 0===y?4:y,w=e.paddingBottom,E=void 0===w?2:w,S=e.paddingTop,C=void 0===S?2:S,T=this.w,N=this.graphics.drawText({x:n,y:i,text:r,textAnchor:a||"start",fontSize:o||"12px",fontWeight:c||"regular",fontFamily:l||T.config.chart.fontFamily,foreColor:s||T.config.chart.foreColor,cssClass:d}),A=T.globals.dom.baseEl.querySelector(_);A&&A.appendChild(N.node);var k=N.bbox();if(r){var R=this.graphics.drawRect(k.x-b,k.y-C,k.width+b+x,k.height+E+C,m,u||"transparent",1,h,f,p);A.insertBefore(R.node,N.node)}}},{key:"addImage",value:function(e,t){var n=this.w,i=e.path,r=e.x,a=void 0===r?0:r,s=e.y,o=void 0===s?0:s,l=e.width,c=void 0===l?20:l,d=e.height,u=void 0===d?20:d,h=e.appendTo,p=void 0===h?".apexcharts-svg":h,m=n.globals.dom.Paper.image(i);m.size(c,u).move(a,o);var f=n.globals.dom.baseEl.querySelector(p);return f&&f.appendChild(m.node),m}},{key:"addXaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"xaxis",contextMethod:n.addXaxisAnnotation}),n}},{key:"addYaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"yaxis",contextMethod:n.addYaxisAnnotation}),n}},{key:"addPointAnnotationExternal",value:function(e,t,n){return void 0===this.invertAxis&&(this.invertAxis=n.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"point",contextMethod:n.addPointAnnotation}),n}},{key:"addAnnotationExternal",value:function(e){var t=e.params,n=e.pushToMemory,i=e.context,r=e.type,a=e.contextMethod,s=i,o=s.w,l=o.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations")),c=l.childNodes.length+1,d=new M,u=Object.assign({},"xaxis"===r?d.xAxisAnnotation:"yaxis"===r?d.yAxisAnnotation:d.pointAnnotation),h=E.extend(u,t);switch(r){case"xaxis":this.addXaxisAnnotation(h,l,c);break;case"yaxis":this.addYaxisAnnotation(h,l,c);break;case"point":this.addPointAnnotation(h,l,c)}var p=o.globals.dom.baseEl.querySelector(".apexcharts-".concat(r,"-annotations .apexcharts-").concat(r,"-annotation-label[rel='").concat(c,"']")),m=this.helpers.addBackgroundToAnno(p,h);return m&&l.insertBefore(m.node,p),n&&o.globals.memory.methodsToExec.push({context:s,id:h.id?h.id:E.randomId(),method:a,label:"addAnnotation",params:t}),i}},{key:"clearAnnotations",value:function(e){for(var t=e.w,n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),i=t.globals.memory.methodsToExec.length-1;i>=0;i--)"addText"!==t.globals.memory.methodsToExec[i].label&&"addAnnotation"!==t.globals.memory.methodsToExec[i].label||t.globals.memory.methodsToExec.splice(i,1);n=E.listToArray(n),Array.prototype.forEach.call(n,function(e){for(;e.firstChild;)e.removeChild(e.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var n=e.w,i=n.globals.dom.baseEl.querySelectorAll(".".concat(t));i&&(n.globals.memory.methodsToExec.map(function(e,i){e.id===t&&n.globals.memory.methodsToExec.splice(i,1)}),Array.prototype.forEach.call(i,function(e){e.parentElement.removeChild(e)}))}}]),e}(),F=function(e){var t,n=e.isTimeline,i=e.ctx,r=e.seriesIndex,a=e.dataPointIndex,s=e.y1,o=e.y2,l=e.w,c=l.globals.seriesRangeStart[r][a],d=l.globals.seriesRangeEnd[r][a],u=l.globals.labels[a],h=l.config.series[r].name?l.config.series[r].name:"",p=l.globals.ttKeyFormatter,m=l.config.tooltip.y.title.formatter,f={w:l,seriesIndex:r,dataPointIndex:a,start:c,end:d};"function"==typeof m&&(h=m(h,f)),null!==(t=l.config.series[r].data[a])&&void 0!==t&&t.x&&(u=l.config.series[r].data[a].x),n||"datetime"===l.config.xaxis.type&&(u=new I(i).xLabelFormat(l.globals.ttKeyFormatter,u,u,{i:void 0,dateFormatter:new R(i).formatDate,w:l})),"function"==typeof p&&(u=p(u,f)),Number.isFinite(s)&&Number.isFinite(o)&&(c=s,d=o);var g="",_="",v=l.globals.colors[r];if(void 0===l.config.tooltip.x.formatter)if("datetime"===l.config.xaxis.type){var b=new R(i);g=b.formatDate(b.getDate(c),l.config.tooltip.x.format),_=b.formatDate(b.getDate(d),l.config.tooltip.x.format)}else g=c,_=d;else g=l.config.tooltip.x.formatter(c),_=l.config.tooltip.x.formatter(d);return{start:c,end:d,startVal:g,endVal:_,ylabel:u,color:v,seriesName:h}},B=function(e){var t=e.color,n=e.seriesName,i=e.ylabel,r=e.start,a=e.end,s=e.seriesIndex,o=e.dataPointIndex,l=e.ctx.tooltip.tooltipLabels.getFormatters(s);r=l.yLbFormatter(r),a=l.yLbFormatter(a);var c=l.yLbFormatter(e.w.globals.series[s][o]),d='<span class="value start-value">\n  '.concat(r,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(a,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+t+'">'+(n||"")+'</span></div><div> <span class="category">'+i+": </span> "+(e.w.globals.comboCharts?"rangeArea"===e.w.config.series[s].type||"rangeBar"===e.w.config.series[s].type?d:"<span>".concat(c,"</span>"):d)+" </div></div>"},V=function(){function e(t){s(this,e),this.opts=t}return l(e,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),E.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var n=t.w.config.series[t.seriesIndex].name;return null!==e?n+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),g(g({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,i=t.dataPointIndex,r=t.w;return e._getBoxTooltip(r,n,i,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,i=t.dataPointIndex,r=t.w;return e._getBoxTooltip(r,n,i,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var n=t.seriesIndex,i=t.dataPointIndex,r=t.w,a=function(){var e=r.globals.seriesRangeStart[n][i];return r.globals.seriesRangeEnd[n][i]-e};return r.globals.comboCharts?"rangeBar"===r.config.series[n].type||"rangeArea"===r.config.series[n].type?a():e:a()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(e){var t=F(g(g({},e),{},{isTimeline:!0})),n=t.color,i=t.seriesName,r=t.ylabel,a=t.startVal,s=t.endVal;return B(g(g({},e),{},{color:n,seriesName:i,ylabel:r,start:a,end:s}))}(e):function(e){var t=F(e),n=t.color,i=t.seriesName,r=t.ylabel,a=t.start,s=t.end;return B(g(g({},e),{},{color:n,seriesName:i,ylabel:r,start:a,end:s}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,n;return null!==(t=e.plotOptions.bar)&&void 0!==t&&t.barHeight||(e.plotOptions.bar.barHeight=2),null!==(n=e.plotOptions.bar)&&void 0!==n&&n.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(e){var t=F(e),n=t.color,i=t.seriesName,r=t.ylabel,a=t.start,s=t.end;return B(g(g({},e),{},{color:n,seriesName:i,ylabel:r,start:a,end:s}))}(e)}}}}},{key:"brush",value:function(e){return E.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(t,n){e.yaxis[n].min=0,e.yaxis[n].max=100}),"bar"===e.chart.type&&(e.dataLabels.formatter=t||function(e){return"number"==typeof e&&e?e.toFixed(0)+"%":e}),e}},{key:"stackedBars",value:function(){var e=this.bar();return g(g({},e),{},{plotOptions:g(g({},e.plotOptions),{},{bar:g(g({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,n){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(e){return E.isNumber(e)?Math.floor(e):e};var i=e.xaxis.labels.formatter,r=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return n&&n.length&&(r=n.map(function(e){return Array.isArray(e)?e:String(e)})),r&&r.length&&(e.xaxis.labels.formatter=function(e){return E.isNumber(e)?i(r[Math.floor(e)-1]):i(e)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,n,i,r){var a=e.globals.seriesCandleO[t][n],s=e.globals.seriesCandleH[t][n],o=e.globals.seriesCandleM[t][n],l=e.globals.seriesCandleL[t][n],c=e.globals.seriesCandleC[t][n];return e.config.series[t].type&&e.config.series[t].type!==r?'<div class="apexcharts-custom-tooltip">\n          '.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][n],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(i[0],': <span class="value">')+a+"</span></div>"+"<div>".concat(i[1],': <span class="value">')+s+"</span></div>"+(o?"<div>".concat(i[2],': <span class="value">')+o+"</span></div>":"")+"<div>".concat(i[3],': <span class="value">')+l+"</span></div>"+"<div>".concat(i[4],': <span class="value">')+c+"</span></div></div>"}}]),e}(),z=function(){function e(t){s(this,e),this.opts=t}return l(e,[{key:"init",value:function(e){var t=e.responsiveOverride,n=this.opts,i=new M,r=new V(n);this.chartType=n.chart.type,n=this.extendYAxis(n),n=this.extendAnnotations(n);var a=i.init(),s={};if(n&&"object"===x(n)){var o,l,c,d,u,h,p,m,f,g,_={};_=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(n.chart.type)?r[n.chart.type]():r.line(),null!==(o=n.plotOptions)&&void 0!==o&&null!==(l=o.bar)&&void 0!==l&&l.isFunnel&&(_=r.funnel()),n.chart.stacked&&"bar"===n.chart.type&&(_=r.stackedBars()),null!==(c=n.chart.brush)&&void 0!==c&&c.enabled&&(_=r.brush(_)),null!==(d=n.plotOptions)&&void 0!==d&&null!==(u=d.line)&&void 0!==u&&u.isSlopeChart&&(_=r.slope()),n.chart.stacked&&"100%"===n.chart.stackType&&(n=r.stacked100(n)),null!==(h=n.plotOptions)&&void 0!==h&&null!==(p=h.bar)&&void 0!==p&&p.isDumbbell&&(n=r.dumbbell(n)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(n),n.xaxis=n.xaxis||window.Apex.xaxis||{},t||(n.xaxis.convertedCatToNumeric=!1),(null!==(m=(n=this.checkForCatToNumericXAxis(this.chartType,_,n)).chart.sparkline)&&void 0!==m&&m.enabled||null!==(f=window.Apex.chart)&&void 0!==f&&null!==(g=f.sparkline)&&void 0!==g&&g.enabled)&&(_=r.sparkline(_)),s=E.extend(a,_)}var v=E.extend(s,window.Apex);return a=E.extend(v,n),this.handleUserInputErrors(a)}},{key:"checkForCatToNumericXAxis",value:function(e,t,n){var i,r,a=new V(n),s=("bar"===e||"boxPlot"===e)&&(null===(i=n.plotOptions)||void 0===i||null===(r=i.bar)||void 0===r?void 0:r.horizontal),o="pie"===e||"polarArea"===e||"donut"===e||"radar"===e||"radialBar"===e||"heatmap"===e,l="datetime"!==n.xaxis.type&&"numeric"!==n.xaxis.type,c=n.xaxis.tickPlacement?n.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return s||o||!l||"between"===c||(n=a.convertCatToNumeric(n)),n}},{key:"extendYAxis",value:function(e,t){var n=new M;(void 0===e.yaxis||!e.yaxis||Array.isArray(e.yaxis)&&0===e.yaxis.length)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=E.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[E.extend(n.yAxis,e.yaxis)]:e.yaxis=E.extendArray(e.yaxis,n.yAxis);var i=!1;e.yaxis.forEach(function(e){e.logarithmic&&(i=!0)});var r=e.series;return t&&!r&&(r=t.config.series),i&&r.length!==e.yaxis.length&&r.length&&(e.yaxis=r.map(function(t,i){if(t.name||(r[i].name="series-".concat(i+1)),e.yaxis[i])return e.yaxis[i].seriesName=r[i].name,e.yaxis[i];var a=E.extend(n.yAxis,e.yaxis[0]);return a.show=!1,a})),i&&r.length>1&&r.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return void 0===e.annotations&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new M;return e.annotations.yaxis=E.extendArray(void 0!==e.annotations.yaxis?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new M;return e.annotations.xaxis=E.extendArray(void 0!==e.annotations.xaxis?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new M;return e.annotations.points=E.extendArray(void 0!==e.annotations.points?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&"dark"===e.theme.mode&&(e.tooltip||(e.tooltip={}),"light"!==e.tooltip.theme&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===t.chart.type&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return"bar"!==t.chart.type&&"rangeBar"!==t.chart.type||t.tooltip.shared&&"barWidth"===t.xaxis.crosshairs.width&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),"candlestick"!==t.chart.type&&"boxPlot"!==t.chart.type||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),e}(),H=function(){function e(){s(this,e)}return l(e,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:"pan"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.pan,selectionEnabled:"selection"===e.chart.toolbar.autoSelected&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=E.extend({},e),t.initialSeries=E.clone(e.series),t.lastXAxis=E.clone(t.initialConfig.xaxis),t.lastYAxis=E.clone(t.initialConfig.yaxis),t}}]),e}(),W=function(){function e(t){s(this,e),this.opts=t}return l(e,[{key:"init",value:function(){var e=new z(this.opts).init({responsiveOverride:!1});return{config:e,globals:(new H).init(e)}}}]),e}(),G=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return l(e,[{key:"clippedImgArea",value:function(e){var t=this.w,n=t.config,i=parseInt(t.globals.gridWidth,10),r=parseInt(t.globals.gridHeight,10),a=i>r?i:r,s=e.image,o=0,l=0;void 0===e.width&&void 0===e.height?void 0!==n.fill.image.width&&void 0!==n.fill.image.height?(o=n.fill.image.width+1,l=n.fill.image.height):(o=a+1,l=a):(o=e.width,l=e.height);var c=document.createElementNS(t.globals.SVGNS,"pattern");T.setAttrs(c,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:o+"px",height:l+"px"});var d=document.createElementNS(t.globals.SVGNS,"image");c.appendChild(d),d.setAttributeNS(window.SVG.xlink,"href",s),T.setAttrs(d,{x:0,y:0,preserveAspectRatio:"none",width:o+"px",height:l+"px"}),d.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(c)}},{key:"getSeriesIndex",value:function(e){var t=this.w,n=t.config.chart.type;return("bar"===n||"rangeBar"===n)&&t.config.plotOptions.bar.distributed||"heatmap"===n||"treemap"===n?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(e){var t=this.w;this.opts=e;var n,i,r,a=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var s=this.getFillColors()[this.seriesIndex];void 0!==t.globals.seriesColors[this.seriesIndex]&&(s=t.globals.seriesColors[this.seriesIndex]),"function"==typeof s&&(s=s({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:t}));var o=e.fillType?e.fillType:this.getFillType(this.seriesIndex),l=Array.isArray(a.fill.opacity)?a.fill.opacity[this.seriesIndex]:a.fill.opacity;e.color&&(s=e.color),s||(s="#fff",console.warn("undefined color - ApexCharts"));var c=s;if(-1===s.indexOf("rgb")?s.length<9&&(c=E.hexToRgba(s,l)):s.indexOf("rgba")>-1&&(l=E.getOpacityFromRGBA(s)),e.opacity&&(l=e.opacity),"pattern"===o&&(i=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:i,fillColor:s,fillOpacity:l,defaultColor:c})),"gradient"===o&&(r=this.handleGradientFill({fillConfig:e.fillConfig,fillColor:s,fillOpacity:l,i:this.seriesIndex})),"image"===o){var d=a.fill.image.src,u=e.patternID?e.patternID:"",h="pattern".concat(t.globals.cuid).concat(e.seriesNumber+1).concat(u);-1===this.patternIDs.indexOf(h)&&(this.clippedImgArea({opacity:l,image:Array.isArray(d)?e.seriesNumber<d.length?d[e.seriesNumber]:d[0]:d,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:h}),this.patternIDs.push(h)),n="url(#".concat(h,")")}else n="gradient"===o?r:"pattern"===o?i:c;return e.solid&&(n=c),n}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,n=this.opts,i=[];return e.globals.comboCharts?"line"===e.config.series[this.seriesIndex].type?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors):"line"===t.chart.type?Array.isArray(e.globals.stroke.colors)?i=e.globals.stroke.colors:i.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?i=e.globals.fill.colors:i.push(e.globals.fill.colors),void 0!==n.fillColors&&(i=[],Array.isArray(n.fillColors)?i=n.fillColors.slice():i.push(n.fillColors)),i}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,n=(e.patternFill,e.fillColor),i=e.fillOpacity,r=e.defaultColor,a=this.w.config.fill;t&&(a=t);var s=this.opts,o=new T(this.ctx),l=Array.isArray(a.pattern.strokeWidth)?a.pattern.strokeWidth[this.seriesIndex]:a.pattern.strokeWidth,c=n;return Array.isArray(a.pattern.style)?void 0!==a.pattern.style[s.seriesNumber]?o.drawPattern(a.pattern.style[s.seriesNumber],a.pattern.width,a.pattern.height,c,l,i):r:o.drawPattern(a.pattern.style,a.pattern.width,a.pattern.height,c,l,i)}},{key:"handleGradientFill",value:function(e){var t=e.fillColor,n=e.fillOpacity,i=e.fillConfig,r=e.i,a=this.w.config.fill;i&&(a=g(g({},a),i));var s,o=this.opts,l=new T(this.ctx),c=new E,d=a.gradient.type,u=t,h=void 0===a.gradient.opacityFrom?n:Array.isArray(a.gradient.opacityFrom)?a.gradient.opacityFrom[r]:a.gradient.opacityFrom;u.indexOf("rgba")>-1&&(h=E.getOpacityFromRGBA(u));var p=void 0===a.gradient.opacityTo?n:Array.isArray(a.gradient.opacityTo)?a.gradient.opacityTo[r]:a.gradient.opacityTo;if(void 0===a.gradient.gradientToColors||0===a.gradient.gradientToColors.length)s="dark"===a.gradient.shade?c.shadeColor(-1*parseFloat(a.gradient.shadeIntensity),t.indexOf("rgb")>-1?E.rgb2hex(t):t):c.shadeColor(parseFloat(a.gradient.shadeIntensity),t.indexOf("rgb")>-1?E.rgb2hex(t):t);else if(a.gradient.gradientToColors[o.seriesNumber]){var m=a.gradient.gradientToColors[o.seriesNumber];s=m,m.indexOf("rgba")>-1&&(p=E.getOpacityFromRGBA(m))}else s=t;if(a.gradient.gradientFrom&&(u=a.gradient.gradientFrom),a.gradient.gradientTo&&(s=a.gradient.gradientTo),a.gradient.inverseColors){var f=u;u=s,s=f}return u.indexOf("rgb")>-1&&(u=E.rgb2hex(u)),s.indexOf("rgb")>-1&&(s=E.rgb2hex(s)),l.drawGradient(d,u,s,h,p,o.size,a.gradient.stops,a.gradient.colorStops,r)}}]),e}(),q=function(){function e(t,n){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)void 0===e.globals.markers.size[t]&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(t){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e,t,n,i){var r,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=this.w,o=t,l=e,c=null,d=new T(this.ctx),u=s.config.markers.discrete&&s.config.markers.discrete.length;if((s.globals.markers.size[t]>0||a||u)&&(c=d.group({class:a||u?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(s.globals.cuid,")")),Array.isArray(l.x))for(var h=0;h<l.x.length;h++){var p=n;1===n&&0===h&&(p=0),1===n&&1===h&&(p=1);var m="apexcharts-marker";if("line"!==s.config.chart.type&&"area"!==s.config.chart.type||s.globals.comboCharts||s.config.tooltip.intersect||(m+=" no-pointer-events"),(Array.isArray(s.config.markers.size)?s.globals.markers.size[t]>0:s.config.markers.size>0)||a||u){E.isNumber(l.y[h])?m+=" w".concat(E.randomId()):m="apexcharts-nullpoint";var f=this.getMarkerConfig({cssClass:m,seriesIndex:t,dataPointIndex:p});s.config.series[o].data[p]&&(s.config.series[o].data[p].fillColor&&(f.pointFillColor=s.config.series[o].data[p].fillColor),s.config.series[o].data[p].strokeColor&&(f.pointStrokeColor=s.config.series[o].data[p].strokeColor)),void 0!==i&&(f.pSize=i),(l.x[h]<-s.globals.markers.largestSize||l.x[h]>s.globals.gridWidth+s.globals.markers.largestSize||l.y[h]<-s.globals.markers.largestSize||l.y[h]>s.globals.gridHeight+s.globals.markers.largestSize)&&(f.pSize=0),(r=d.drawMarker(l.x[h],l.y[h],f)).attr("rel",p),r.attr("j",p),r.attr("index",t),r.node.setAttribute("default-marker-size",f.pSize),new C(this.ctx).setSelectionFilter(r,t,p),this.addEvents(r),c&&c.add(r)}else void 0===s.globals.pointsArray[t]&&(s.globals.pointsArray[t]=[]),s.globals.pointsArray[t].push([l.x[h],l.y[h]])}return c}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,n=e.seriesIndex,i=e.dataPointIndex,r=void 0===i?null:i,a=e.radius,s=void 0===a?null:a,o=e.size,l=void 0===o?null:o,c=e.strokeWidth,d=void 0===c?null:c,u=this.w,h=this.getMarkerStyle(n),p=null===l?u.globals.markers.size[n]:l,m=u.config.markers;return null!==r&&m.discrete.length&&m.discrete.map(function(e){e.seriesIndex===n&&e.dataPointIndex===r&&(h.pointStrokeColor=e.strokeColor,h.pointFillColor=e.fillColor,p=e.size,h.pointShape=e.shape)}),{pSize:null===s?p:s,pRadius:null!==s?s:m.radius,pointStrokeWidth:null!==d?d:Array.isArray(m.strokeWidth)?m.strokeWidth[n]:m.strokeWidth,pointStrokeColor:h.pointStrokeColor,pointFillColor:h.pointFillColor,shape:h.pointShape||(Array.isArray(m.shape)?m.shape[n]:m.shape),class:t,pointStrokeOpacity:Array.isArray(m.strokeOpacity)?m.strokeOpacity[n]:m.strokeOpacity,pointStrokeDashArray:Array.isArray(m.strokeDashArray)?m.strokeDashArray[n]:m.strokeDashArray,pointFillOpacity:Array.isArray(m.fillOpacity)?m.fillOpacity[n]:m.fillOpacity,seriesIndex:n}}},{key:"addEvents",value:function(e){var t=this.w,n=new T(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",n.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,n=t.globals.markers.colors,i=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(i)?i[e]:i,pointFillColor:Array.isArray(n)?n[e]:n}}}]),e}(),Y=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.initialAnim=this.w.config.chart.animations.enabled}return l(e,[{key:"draw",value:function(e,t,n){var i=this.w,r=new T(this.ctx),a=n.realIndex,s=n.pointsPos,o=n.zRatio,l=n.elParent,c=r.group({class:"apexcharts-series-markers apexcharts-series-".concat(i.config.chart.type)});if(c.attr("clip-path","url(#gridRectMarkerMask".concat(i.globals.cuid,")")),Array.isArray(s.x))for(var d=0;d<s.x.length;d++){var u=t+1,h=!0;0===t&&0===d&&(u=0),0===t&&1===d&&(u=1);var p=i.globals.markers.size[a];if(o!==1/0){var m=i.config.plotOptions.bubble;p=i.globals.seriesZ[a][u],m.zScaling&&(p/=o),m.minBubbleRadius&&p<m.minBubbleRadius&&(p=m.minBubbleRadius),m.maxBubbleRadius&&p>m.maxBubbleRadius&&(p=m.maxBubbleRadius)}var f=s.x[d],g=s.y[d];if(p=p||0,null!==g&&void 0!==i.globals.series[a][u]||(h=!1),h){var _=this.drawPoint(f,g,p,a,u,t);c.add(_)}l.add(c)}}},{key:"drawPoint",value:function(e,t,n,i,r,a){var s=this.w,o=i,l=new S(this.ctx),c=new C(this.ctx),d=new G(this.ctx),u=new q(this.ctx),h=new T(this.ctx),p=u.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:o,dataPointIndex:r,radius:"bubble"===s.config.chart.type||s.globals.comboCharts&&s.config.series[i]&&"bubble"===s.config.series[i].type?n:null}),m=d.fillPath({seriesNumber:i,dataPointIndex:r,color:p.pointFillColor,patternUnits:"objectBoundingBox",value:s.globals.series[i][a]}),f=h.drawMarker(e,t,p);if(s.config.series[o].data[r]&&s.config.series[o].data[r].fillColor&&(m=s.config.series[o].data[r].fillColor),f.attr({fill:m}),s.config.chart.dropShadow.enabled){var g=s.config.chart.dropShadow;c.dropShadow(f,g,i)}if(!this.initialAnim||s.globals.dataChanged||s.globals.resized)s.globals.animationEnded=!0;else{var _=s.config.chart.animations.speed;l.animateMarker(f,_,s.globals.easing,function(){window.setTimeout(function(){l.animationCompleted(f)},100)})}return f.attr({rel:r,j:r,index:i,"default-marker-size":p.pSize}),c.setSelectionFilter(f,i,r),u.addEvents(f),f.node.classList.add("apexcharts-marker"),f}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),e}(),X=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"dataLabelsCorrection",value:function(e,t,n,i,r,a,s){var o=this.w,l=!1,c=new T(this.ctx).getTextRects(n,s),d=c.width,u=c.height;t<0&&(t=0),t>o.globals.gridHeight+u&&(t=o.globals.gridHeight+u/2),void 0===o.globals.dataLabelsRects[i]&&(o.globals.dataLabelsRects[i]=[]),o.globals.dataLabelsRects[i].push({x:e,y:t,width:d,height:u});var h=o.globals.dataLabelsRects[i].length-2,p=void 0!==o.globals.lastDrawnDataLabelsIndexes[i]?o.globals.lastDrawnDataLabelsIndexes[i][o.globals.lastDrawnDataLabelsIndexes[i].length-1]:0;if(void 0!==o.globals.dataLabelsRects[i][h]){var m=o.globals.dataLabelsRects[i][p];(e>m.x+m.width||t>m.y+m.height||t+u<m.y||e+d<m.x)&&(l=!0)}return(0===r||a)&&(l=!0),{x:e,y:t,textRects:c,drawnextLabel:l}}},{key:"drawDataLabel",value:function(e){var t=this,n=e.type,i=e.pos,r=e.i,a=e.j,s=e.isRangeStart,o=e.strokeWidth,l=void 0===o?2:o,c=this.w,d=new T(this.ctx),u=c.config.dataLabels,h=0,p=0,m=a,f=null;if(-1!==c.globals.collapsedSeriesIndices.indexOf(r)||!u.enabled||!Array.isArray(i.x))return f;f=d.group({class:"apexcharts-data-labels"});for(var g=0;g<i.x.length;g++)if(h=i.x[g]+u.offsetX,p=i.y[g]+u.offsetY+l,!isNaN(h)){1===a&&0===g&&(m=0),1===a&&1===g&&(m=1);var _=c.globals.series[r][m];"rangeArea"===n&&(_=s?c.globals.seriesRangeStart[r][m]:c.globals.seriesRangeEnd[r][m]);var v="",b=function(e){return c.config.dataLabels.formatter(e,{ctx:t.ctx,seriesIndex:r,dataPointIndex:m,w:c})};"bubble"===c.config.chart.type?(v=b(_=c.globals.seriesZ[r][m]),p=i.y[g],p=new Y(this.ctx).centerTextInBubble(p,r,m).y):void 0!==_&&(v=b(_));var y=c.config.dataLabels.textAnchor;c.globals.isSlopeChart&&(y=0===m?"end":m===c.config.series[r].data.length-1?"start":"middle"),this.plotDataLabelsText({x:h,y:p,text:v,i:r,j:m,parent:f,offsetCorrection:!0,dataLabelsConfig:c.config.dataLabels,textAnchor:y})}return f}},{key:"plotDataLabelsText",value:function(e){var t=this.w,n=new T(this.ctx),i=e.x,r=e.y,a=e.i,s=e.j,o=e.text,l=e.textAnchor,c=e.fontSize,d=e.parent,u=e.dataLabelsConfig,h=e.color,p=e.alwaysDrawDataLabel,m=e.offsetCorrection,f=e.className,g=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(a)<0)return g;var _={x:i,y:r,drawnextLabel:!0,textRects:null};m&&(_=this.dataLabelsCorrection(i,r,o,a,s,p,parseInt(u.style.fontSize,10))),t.globals.zoomed||(i=_.x,r=_.y),_.textRects&&(i<-20-_.textRects.width||i>t.globals.gridWidth+_.textRects.width+30)&&(o="");var v=t.globals.dataLabels.style.colors[a];(("bar"===t.config.chart.type||"rangeBar"===t.config.chart.type)&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(v=t.globals.dataLabels.style.colors[s]),"function"==typeof v&&(v=v({series:t.globals.series,seriesIndex:a,dataPointIndex:s,w:t})),h&&(v=h);var b=u.offsetX,y=u.offsetY;if("bar"!==t.config.chart.type&&"rangeBar"!==t.config.chart.type||(b=0,y=0),t.globals.isSlopeChart&&(0!==s&&(b=-2*u.offsetX+5),0!==s&&s!==t.config.series[a].data.length-1&&(b=0)),_.drawnextLabel){if((g=n.drawText({width:100,height:parseInt(u.style.fontSize,10),x:i+b,y:r+y,foreColor:v,textAnchor:l||u.textAnchor,text:o,fontSize:c||u.style.fontSize,fontFamily:u.style.fontFamily,fontWeight:u.style.fontWeight||"normal"})).attr({class:f||"apexcharts-datalabel",cx:i,cy:r}),u.dropShadow.enabled){var x=u.dropShadow;new C(this.ctx).dropShadow(g,x)}d.add(g),void 0===t.globals.lastDrawnDataLabelsIndexes[a]&&(t.globals.lastDrawnDataLabelsIndexes[a]=[]),t.globals.lastDrawnDataLabelsIndexes[a].push(s)}return g}},{key:"addBackgroundToDataLabel",value:function(e,t){var n=this.w,i=n.config.dataLabels.background,r=i.padding,a=i.padding/2,s=t.width,o=t.height,l=new T(this.ctx).drawRect(t.x-r,t.y-a/2,s+2*r,o+a,i.borderRadius,"transparent"!==n.config.chart.background&&n.config.chart.background?n.config.chart.background:"#fff",i.opacity,i.borderWidth,i.borderColor);return i.dropShadow.enabled&&new C(this.ctx).dropShadow(l,i.dropShadow),l}},{key:"dataLabelsBackground",value:function(){var e=this.w;if("bubble"!==e.config.chart.type)for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),n=0;n<t.length;n++){var i=t[n],r=i.getBBox(),a=null;if(r.width&&r.height&&(a=this.addBackgroundToDataLabel(i,r)),a){i.parentNode.insertBefore(a.node,i);var s=i.getAttribute("fill");!e.config.chart.animations.enabled||e.globals.resized||e.globals.dataChanged?a.attr({fill:s}):a.animate().attr({fill:s}),i.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),n=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),i=0;i<t.length;i++)n&&n.insertBefore(t[i],n.nextSibling)}}]),e}(),K=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.legendInactiveClass="legend-mouseover-inactive"}return l(e,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(E.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),n=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:n}}},{key:"addCollapsedClassToSeries",value:function(e,t){var n=this.w;function i(n){for(var i=0;i<n.length;i++)n[i].index===t&&e.node.classList.add("apexcharts-series-collapsed")}i(n.globals.collapsedSeries),i(n.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.w,r=E.clone(i.globals.initialSeries);i.globals.previousPaths=[],n?(i.globals.collapsedSeries=[],i.globals.ancillaryCollapsedSeries=[],i.globals.collapsedSeriesIndices=[],i.globals.ancillaryCollapsedSeriesIndices=[]):r=this.emptyCollapsedSeries(r),i.config.series=r,e&&(t&&(i.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,n=0;n<e.length;n++)t.globals.collapsedSeriesIndices.indexOf(n)>-1&&(e[n].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,n=this.getSeriesByName(e),i=parseInt(null==n?void 0:n.getAttribute("data:realIndex"),10),r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),a=null,s=null,o=null;if(t.globals.axisCharts||"radialBar"===t.config.chart.type)if(t.globals.axisCharts){a=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(i,"']")),s=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(i,"']"));var l=t.globals.seriesYAxisReverseMap[i];o=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(l,"']"))}else a=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"']"));else a=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(i+1,"'] path"));for(var c=0;c<r.length;c++)r[c].classList.add(this.legendInactiveClass);if(a)t.globals.axisCharts||a.parentNode.classList.remove(this.legendInactiveClass),a.classList.remove(this.legendInactiveClass),null!==s&&s.classList.remove(this.legendInactiveClass),null!==o&&o.classList.remove(this.legendInactiveClass);else for(var d=0;d<r.length;d++)r[d].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var n=this.w;t||(t=e.target);var i=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if("mousemove"===e.type){var r=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(n.globals.seriesNames[r])}else if("mouseout"===e.type)for(var a=0;a<i.length;a++)i[a].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var n=this,i=this.w,r=i.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),a=function(e){for(var t=0;t<r.length;t++)r[t].classList[e](n.legendInactiveClass)};if("mousemove"===e.type){var s=parseInt(t.getAttribute("rel"),10)-1;a("add");var o=i.config.plotOptions.heatmap.colorScale.ranges;!function(e,t){for(var i=0;i<r.length;i++){var a=Number(r[i].getAttribute("val"));a>=e.from&&(a<e.to||e.to===t&&a===t)&&r[i].classList.remove(n.legendInactiveClass)}}(o[s],o.reduce(function(e,t){return Math.max(e,t.to)},0))}else"mouseout"===e.type&&a("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.w,i=0;if(n.config.series.length>1)for(var r=n.config.series.map(function(e,i){return e.data&&e.data.length>0&&-1===n.globals.collapsedSeriesIndices.indexOf(i)&&(!n.globals.comboCharts||0===t.length||t.length&&t.indexOf(n.config.series[i].type)>-1)?i:-1}),a="asc"===e?0:r.length-1;"asc"===e?a<r.length:a>=0;"asc"===e?a++:a--)if(-1!==r[a]){i=r[a];break}return i}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,t){return"bar"===e.type||"column"===e.type?t:-1}).filter(function(e){return-1!==e}):this.w.config.series.map(function(e,t){return t})}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(t,n,i){for(var r=t[n].childNodes,a={type:i,paths:[],realIndex:t[n].getAttribute("data:realIndex")},s=0;s<r.length;s++)if(r[s].hasAttribute("pathTo")){var o=r[s].getAttribute("pathTo");a.paths.push({d:o})}e.globals.previousPaths.push(a)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(n){for(var i,r=(i=n,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(i,"-series .apexcharts-series"))),a=0;a<r.length;a++)t(r,a,n)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(n.length>0)for(var i=function(t){for(var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(t,"'] rect")),i=[],r=function(e){var t=function(t){return n[e].getAttribute(t)},r={x:parseFloat(t("x")),y:parseFloat(t("y")),width:parseFloat(t("width")),height:parseFloat(t("height"))};i.push({rect:r,color:n[e].getAttribute("color")})},a=0;a<n.length;a++)r(a);e.globals.previousPaths.push(i)},r=0;r<n.length;r++)i(r);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(e){var t=this.w,n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series"));if(n.length>0)for(var i=0;i<n.length;i++){for(var r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e,"-series .apexcharts-series[data\\:realIndex='").concat(i,"'] circle")),a=[],s=0;s<r.length;s++)a.push({x:r[s].getAttribute("cx"),y:r[s].getAttribute("cy"),r:r[s].getAttribute("r")});t.globals.previousPaths.push(a)}}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,n=new T(this.ctx),i=e.globals.svgWidth/2,r=e.globals.svgHeight/2,a="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,"left"===t.align?(i=10,a="start"):"right"===t.align&&(i=e.globals.svgWidth-10,a="end"),"top"===t.verticalAlign?r=50:"bottom"===t.verticalAlign&&(r=e.globals.svgHeight-50),i+=t.offsetX,r=r+parseInt(t.style.fontSize,10)+2+t.offsetY,void 0!==t.text&&""!==t.text){var s=n.drawText({x:i,y:r,text:t.text,textAnchor:a,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(s)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,n=0;n<e.length;n++)if(0===e[n].length)for(var i=0;i<e[t.globals.maxValsInArrayIndex].length;i++)e[n].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,n=this.filteredSeriesX(),i=0;i<n.length-1;i++)if(n[i][0]!==n[i+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(e){return e.length>0?e:[]})}}]),e}(),J=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new N(this.ctx)}return l(e,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new K(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&null!==e[this.activeSeriesIndex].data[0]&&void 0!==e[this.activeSeriesIndex].data[0].x&&null!==e[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new K(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),void 0!==e[this.activeSeriesIndex].data&&e[this.activeSeriesIndex].data.length>0&&void 0!==e[this.activeSeriesIndex].data[0]&&null!==e[this.activeSeriesIndex].data[0]&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var n=this.w.config,i=this.w.globals,r="boxPlot"===n.chart.type||"boxPlot"===n.series[t].type,a=0;a<e[t].data.length;a++)if(void 0!==e[t].data[a][1]&&(Array.isArray(e[t].data[a][1])&&4===e[t].data[a][1].length&&!r?this.twoDSeries.push(E.parseNumber(e[t].data[a][1][3])):e[t].data[a].length>=5?this.twoDSeries.push(E.parseNumber(e[t].data[a][4])):this.twoDSeries.push(E.parseNumber(e[t].data[a][1])),i.dataFormatXNumeric=!0),"datetime"===n.xaxis.type){var s=new Date(e[t].data[a][0]);s=new Date(s).getTime(),this.twoDSeriesX.push(s)}else this.twoDSeriesX.push(e[t].data[a][0]);for(var o=0;o<e[t].data.length;o++)void 0!==e[t].data[o][2]&&(this.threeDSeries.push(e[t].data[o][2]),i.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var n=this.w.config,i=this.w.globals,r=new R(this.ctx),a=t;i.collapsedSeriesIndices.indexOf(t)>-1&&(a=this.activeSeriesIndex);for(var s=0;s<e[t].data.length;s++)void 0!==e[t].data[s].y&&(Array.isArray(e[t].data[s].y)?this.twoDSeries.push(E.parseNumber(e[t].data[s].y[e[t].data[s].y.length-1])):this.twoDSeries.push(E.parseNumber(e[t].data[s].y))),void 0!==e[t].data[s].goals&&Array.isArray(e[t].data[s].goals)?(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[s].goals)):(void 0===this.seriesGoals[t]&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var o=0;o<e[a].data.length;o++){var l="string"==typeof e[a].data[o].x,c=Array.isArray(e[a].data[o].x),d=!c&&!!r.isValidDate(e[a].data[o].x);if(l||d)if(l||n.xaxis.convertedCatToNumeric){var u=i.isBarHorizontal&&i.isRangeData;"datetime"!==n.xaxis.type||u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[o].x),isNaN(e[a].data[o].x)||"category"===this.w.config.xaxis.type||"string"==typeof e[a].data[o].x||(i.isXNumeric=!0)):this.twoDSeriesX.push(r.parseDate(e[a].data[o].x))}else"datetime"===n.xaxis.type?this.twoDSeriesX.push(r.parseDate(e[a].data[o].x.toString())):(i.dataFormatXNumeric=!0,i.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[a].data[o].x)));else c?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[a].data[o].x)):(i.isXNumeric=!0,i.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[a].data[o].x))}if(e[t].data[0]&&void 0!==e[t].data[0].z){for(var h=0;h<e[t].data.length;h++)this.threeDSeries.push(e[t].data[h].z);i.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var n=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(i=this.handleRangeDataFormat("xy",e,t)),n.seriesRangeStart.push(void 0===i.start?[]:i.start),n.seriesRangeEnd.push(void 0===i.end?[]:i.end),n.seriesRange.push(i.rangeUniques),n.seriesRange.forEach(function(e,t){e&&e.forEach(function(e,t){e.y.forEach(function(t,n){for(var i=0;i<e.y.length;i++)if(n!==i){var r=t.y1,a=t.y2,s=e.y[i].y1;r<=e.y[i].y2&&s<=a&&(e.overlaps.indexOf(t.rangeName)<0&&e.overlaps.push(t.rangeName),e.overlaps.indexOf(e.y[i].rangeName)<0&&e.overlaps.push(e.y[i].rangeName))}})})}),i}},{key:"handleCandleStickBoxData",value:function(e,t){var n=this.w.globals,i={};return this.isFormat2DArray()?i=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(i=this.handleCandleStickBoxDataFormat("xy",e,t)),n.seriesCandleO[t]=i.o,n.seriesCandleH[t]=i.h,n.seriesCandleM[t]=i.m,n.seriesCandleL[t]=i.l,n.seriesCandleC[t]=i.c,i}},{key:"handleRangeDataFormat",value:function(e,t,n){var i=[],r=[],a=t[n].data.filter(function(e,t,n){return t===n.findIndex(function(t){return t.x===e.x})}).map(function(e,t){return{x:e.x,overlaps:[],y:[]}});if("array"===e)for(var s=0;s<t[n].data.length;s++)Array.isArray(t[n].data[s])?(i.push(t[n].data[s][1][0]),r.push(t[n].data[s][1][1])):(i.push(t[n].data[s]),r.push(t[n].data[s]));else if("xy"===e)for(var o=function(e){var s=Array.isArray(t[n].data[e].y),o=E.randomId(),l=t[n].data[e].x,c={y1:s?t[n].data[e].y[0]:t[n].data[e].y,y2:s?t[n].data[e].y[1]:t[n].data[e].y,rangeName:o};t[n].data[e].rangeName=o;var d=a.findIndex(function(e){return e.x===l});a[d].y.push(c),i.push(c.y1),r.push(c.y2)},l=0;l<t[n].data.length;l++)o(l);return{start:i,end:r,rangeUniques:a}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,n){var i=this.w,r="boxPlot"===i.config.chart.type||"boxPlot"===i.config.series[n].type,a=[],s=[],o=[],l=[],c=[];if("array"===e)if(r&&6===t[n].data[0].length||!r&&5===t[n].data[0].length)for(var d=0;d<t[n].data.length;d++)a.push(t[n].data[d][1]),s.push(t[n].data[d][2]),r?(o.push(t[n].data[d][3]),l.push(t[n].data[d][4]),c.push(t[n].data[d][5])):(l.push(t[n].data[d][3]),c.push(t[n].data[d][4]));else for(var u=0;u<t[n].data.length;u++)Array.isArray(t[n].data[u][1])&&(a.push(t[n].data[u][1][0]),s.push(t[n].data[u][1][1]),r?(o.push(t[n].data[u][1][2]),l.push(t[n].data[u][1][3]),c.push(t[n].data[u][1][4])):(l.push(t[n].data[u][1][2]),c.push(t[n].data[u][1][3])));else if("xy"===e)for(var h=0;h<t[n].data.length;h++)Array.isArray(t[n].data[h].y)&&(a.push(t[n].data[h].y[0]),s.push(t[n].data[h].y[1]),r?(o.push(t[n].data[h].y[2]),l.push(t[n].data[h].y[3]),c.push(t[n].data[h].y[4])):(l.push(t[n].data[h].y[2]),c.push(t[n].data[h].y[3])));return{o:a,h:s,m:o,l:l,c:c}}},{key:"parseDataAxisCharts",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,i=this.w.config,r=this.w.globals,a=new R(n),s=i.labels.length>0?i.labels.slice():i.xaxis.categories.slice();r.isRangeBar="rangeBar"===i.chart.type&&r.isBarHorizontal,r.hasXaxisGroups="category"===i.xaxis.type&&i.xaxis.group.groups.length>0,r.hasXaxisGroups&&(r.groups=i.xaxis.group.groups),e.forEach(function(e,t){void 0!==e.name?r.seriesNames.push(e.name):r.seriesNames.push("series-"+parseInt(t+1,10))}),this.coreUtils.setSeriesYAxisMappings();var o=[],l=b(new Set(i.series.map(function(e){return e.group})));i.series.forEach(function(e,t){var n=l.indexOf(e.group);o[n]||(o[n]=[]),o[n].push(r.seriesNames[t])}),r.seriesGroups=o;for(var c=function(){for(var e=0;e<s.length;e++)if("string"==typeof s[e]){if(!a.isValidDate(s[e]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(a.parseDate(s[e]))}else t.twoDSeriesX.push(s[e])},d=0;d<e.length;d++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===e[d].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==i.chart.type&&"rangeArea"!==i.chart.type&&"rangeBar"!==e[d].type&&"rangeArea"!==e[d].type||(r.isRangeData=!0,"rangeBar"!==i.chart.type&&"rangeArea"!==i.chart.type||this.handleRangeData(e,d)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,d):this.isFormatXY()&&this.handleFormatXY(e,d),"candlestick"!==i.chart.type&&"candlestick"!==e[d].type&&"boxPlot"!==i.chart.type&&"boxPlot"!==e[d].type||this.handleCandleStickBoxData(e,d),r.series.push(this.twoDSeries),r.labels.push(this.twoDSeriesX),r.seriesX.push(this.twoDSeriesX),r.seriesGoals=this.seriesGoals,d!==this.activeSeriesIndex||this.fallbackToCategory||(r.isXNumeric=!0);else{"datetime"===i.xaxis.type?(r.isXNumeric=!0,c(),r.seriesX.push(this.twoDSeriesX)):"numeric"===i.xaxis.type&&(r.isXNumeric=!0,s.length>0&&(this.twoDSeriesX=s,r.seriesX.push(this.twoDSeriesX))),r.labels.push(this.twoDSeriesX);var u=e[d].data.map(function(e){return E.parseNumber(e)});r.series.push(u)}r.seriesZ.push(this.threeDSeries),void 0!==e[d].color?r.seriesColors.push(e[d].color):r.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,n=this.w.config;t.series=e.slice(),t.seriesNames=n.labels.slice();for(var i=0;i<t.series.length;i++)void 0===t.seriesNames[i]&&t.seriesNames.push("series-"+(i+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,n=this.w.globals;t.xaxis.categories.length>0?n.labels=t.xaxis.categories:t.labels.length>0?n.labels=t.labels.slice():this.fallbackToCategory?(n.labels=n.labels[0],n.seriesRange.length&&(n.seriesRange.map(function(e){e.forEach(function(e){n.labels.indexOf(e.x)<0&&e.x&&n.labels.push(e.x)})}),n.labels=Array.from(new Set(n.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new V(t).convertCatToNumericXaxis(t,this.ctx,n.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,n=this.w.config,i=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var r=n.series.map(function(e,t){return e.data.filter(function(e,t,n){return n.findIndex(function(t){return t.x===e.x})===t})}),a=r.reduce(function(e,t,n,i){return i[e].length>t.length?e:n},0),s=0;s<r[a].length;s++)i.push(s+1);else for(var o=0;o<t.series[t.maxValsInArrayIndex].length;o++)i.push(o+1);t.seriesX=[];for(var l=0;l<e.length;l++)t.seriesX.push(i);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(0===i.length){i=t.axisCharts?[]:t.series.map(function(e,t){return t+1});for(var c=0;c<e.length;c++)t.seriesX.push(i)}t.labels=i,n.xaxis.convertedCatToNumeric&&(t.categoryLabels=i.map(function(e){return n.xaxis.labels.formatter(e)})),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,n=t.config,i=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),i.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),n.chart.stacked){var r=new K(this.ctx);i.series=r.setNullSeriesToZeroValues(i.series)}this.coreUtils.getSeriesTotals(),i.axisCharts&&(i.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),i.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),i.dataFormatXNumeric||i.isXNumeric&&("numeric"!==n.xaxis.type||0!==n.labels.length||0!==n.xaxis.categories.length)||this.handleExternalLabelsData(e);for(var a=this.coreUtils.getCategoryLabels(i.labels),s=0;s<a.length;s++)if(Array.isArray(a[s])){i.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach(function(n,i){var r=0;n.forEach(function(t){-1!==e.globals.collapsedSeriesIndices.indexOf(t)&&r++}),r>0&&r==n.length&&t.push(i)}),e.globals.ignoreYAxisIndexes=t.map(function(e){return e})}}]),e}(),Z=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"scaleSvgNode",value:function(e,t){var n=parseFloat(e.getAttributeNS(null,"width")),i=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",n*t),e.setAttributeNS(null,"height",i*t),e.setAttributeNS(null,"viewBox","0 0 "+n+" "+i)}},{key:"getSvgString",value:function(){var e=this;return new Promise(function(t){var n=e.w,i=n.config.chart.toolbar.export.width,r=n.config.chart.toolbar.export.scale||i/n.globals.svgWidth;r||(r=1);var a=e.w.globals.dom.Paper.svg(),s=e.w.globals.dom.Paper.node.cloneNode(!0);1!==r&&e.scaleSvgNode(s,r),e.convertImagesToBase64(s).then(function(){a=(new XMLSerializer).serializeToString(s),t(a.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var t=this,n=e.getElementsByTagName("image"),i=Array.from(n).map(function(e){var n=e.getAttributeNS("http://www.w3.org/1999/xlink","href");return n&&!n.startsWith("data:")?t.getBase64FromUrl(n).then(function(t){e.setAttributeNS("http://www.w3.org/1999/xlink","href",t)}).catch(function(e){console.error("Error converting image to base64:",e)}):Promise.resolve()});return Promise.all(i)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(t,n){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){var e=document.createElement("canvas");e.width=i.width,e.height=i.height,e.getContext("2d").drawImage(i,0,0),t(e.toDataURL())},i.onerror=n,i.src=e})}},{key:"cleanup",value:function(){var e=this.w,t=e.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),n=e.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(i,function(e){e.setAttribute("width",0)}),t&&t[0]&&(t[0].setAttribute("x",-500),t[0].setAttribute("x1",-500),t[0].setAttribute("x2",-500)),n&&n[0]&&(n[0].setAttribute("y",-100),n[0].setAttribute("y1",-100),n[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(t){e.cleanup(),e.getSvgString().then(function(e){var n=new Blob([e],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(n))})})}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(n){var i=t.w,r=e?e.scale||e.width/i.globals.svgWidth:1;t.cleanup();var a=document.createElement("canvas");a.width=i.globals.svgWidth*r,a.height=parseInt(i.globals.dom.elWrap.style.height,10)*r;var s="transparent"!==i.config.chart.background&&i.config.chart.background?i.config.chart.background:"#fff",o=a.getContext("2d");o.fillStyle=s,o.fillRect(0,0,a.width*r,a.height*r),t.getSvgString().then(function(e){var t="data:image/svg+xml,"+encodeURIComponent(e),i=new Image;i.crossOrigin="anonymous",i.onload=function(){if(o.drawImage(i,0,0),a.msToBlob){var e=a.msToBlob();n({blob:e})}else{var t=a.toDataURL("image/png");n({imgURI:t})}},i.src=t})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,n=this.w.config.chart.toolbar.export.width,i=t?{scale:t}:n?{width:n}:void 0;this.dataURI(i).then(function(t){var n=t.imgURI,i=t.blob;i?navigator.msSaveOrOpenBlob(i,e.w.globals.chartID+".png"):e.triggerDownload(n,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,n=e.series,i=e.fileName,r=e.columnDelimiter,a=void 0===r?",":r,s=e.lineDelimiter,o=void 0===s?"\n":s,l=this.w;n||(n=l.config.series);var c,d,u=[],h=[],p="",m=l.globals.series.map(function(e,t){return-1===l.globals.collapsedSeriesIndices.indexOf(t)?e:[]}),f=function(e){return"function"==typeof l.config.chart.toolbar.export.csv.categoryFormatter?l.config.chart.toolbar.export.csv.categoryFormatter(e):"datetime"===l.config.xaxis.type&&String(e).length>=10?new Date(e).toDateString():E.isNumber(e)?e:e.split(a).join("")},g=function(e){return"function"==typeof l.config.chart.toolbar.export.csv.valueFormatter?l.config.chart.toolbar.export.csv.valueFormatter(e):e},_=Math.max.apply(Math,b(n.map(function(e){return e.data?e.data.length:0}))),v=new J(this.ctx),y=new O(this.ctx),x=function(e){var n="";if(l.globals.axisCharts){if("category"===l.config.xaxis.type||l.config.xaxis.convertedCatToNumeric)if(l.globals.isBarHorizontal){var i=l.globals.yLabelFormatters[0],r=new K(t.ctx).getActiveConfigSeriesIndex();n=i(l.globals.labels[e],{seriesIndex:r,dataPointIndex:e,w:l})}else n=y.getLabel(l.globals.labels,l.globals.timescaleLabels,0,e).text;"datetime"===l.config.xaxis.type&&(l.config.xaxis.categories.length?n=l.config.xaxis.categories[e]:l.config.labels.length&&(n=l.config.labels[e]))}else n=l.config.labels[e];return null===n?"nullvalue":(Array.isArray(n)&&(n=n.join(" ")),E.isNumber(n)?n:n.split(a).join(""))};u.push(l.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===l.config.chart.type?(u.push("minimum"),u.push("q1"),u.push("median"),u.push("q3"),u.push("maximum")):"candlestick"===l.config.chart.type?(u.push("open"),u.push("high"),u.push("low"),u.push("close")):"rangeBar"===l.config.chart.type?(u.push("minimum"),u.push("maximum")):n.map(function(e,t){var n=(e.name?e.name:"series-".concat(t))+"";l.globals.axisCharts&&u.push(n.split(a).join("")?n.split(a).join(""):"series-".concat(t))}),l.globals.axisCharts||(u.push(l.config.chart.toolbar.export.csv.headerValue),h.push(u.join(a))),l.globals.allSeriesHasEqualX||!l.globals.axisCharts||l.config.xaxis.categories.length||l.config.labels.length?n.map(function(e,t){l.globals.axisCharts?function(e,t){if(u.length&&0===t&&h.push(u.join(a)),e.data){e.data=e.data.length&&e.data||b(Array(_)).map(function(){return""});for(var i=0;i<e.data.length;i++){u=[];var r=x(i);if("nullvalue"!==r){if(r||(v.isFormatXY()?r=n[t].data[i].x:v.isFormat2DArray()&&(r=n[t].data[i]?n[t].data[i][0]:"")),0===t){u.push(f(r));for(var s=0;s<l.globals.series.length;s++){var o,c=v.isFormatXY()?null===(o=n[s].data[i])||void 0===o?void 0:o.y:m[s][i];u.push(g(c))}}("candlestick"===l.config.chart.type||e.type&&"candlestick"===e.type)&&(u.pop(),u.push(l.globals.seriesCandleO[t][i]),u.push(l.globals.seriesCandleH[t][i]),u.push(l.globals.seriesCandleL[t][i]),u.push(l.globals.seriesCandleC[t][i])),("boxPlot"===l.config.chart.type||e.type&&"boxPlot"===e.type)&&(u.pop(),u.push(l.globals.seriesCandleO[t][i]),u.push(l.globals.seriesCandleH[t][i]),u.push(l.globals.seriesCandleM[t][i]),u.push(l.globals.seriesCandleL[t][i]),u.push(l.globals.seriesCandleC[t][i])),"rangeBar"===l.config.chart.type&&(u.pop(),u.push(l.globals.seriesRangeStart[t][i]),u.push(l.globals.seriesRangeEnd[t][i])),u.length&&h.push(u.join(a))}}}}(e,t):((u=[]).push(f(l.globals.labels[t])),u.push(g(m[t])),h.push(u.join(a)))}):(c=new Set,d={},n.forEach(function(e,t){null==e||e.data.forEach(function(e){var i,r;if(v.isFormatXY())i=e.x,r=e.y;else{if(!v.isFormat2DArray())return;i=e[0],r=e[1]}d[i]||(d[i]=Array(n.length).fill("")),d[i][t]=g(r),c.add(i)})}),u.length&&h.push(u.join(a)),Array.from(c).sort().forEach(function(e){h.push([f(e),d[e].join(a)])})),p+=h.join(o),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+p),i||l.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,n){var i=document.createElement("a");i.href=e,i.download=(t||this.w.globals.chartID)+n,document.body.appendChild(i),i.click(),document.body.removeChild(i)}}]),e}(),Q=function(){function e(t,n){s(this,e),this.ctx=t,this.elgrid=n,this.w=t.w;var i=this.w;this.axesUtils=new O(t),this.xaxisLabels=i.globals.labels.slice(),i.globals.timescaleLabels.length>0&&!i.globals.isBarHorizontal&&(this.xaxisLabels=i.globals.timescaleLabels.slice()),i.config.xaxis.overwriteCategories&&(this.xaxisLabels=i.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],"top"===i.config.xaxis.position?this.offY=0:this.offY=i.globals.gridHeight,this.offY=this.offY+i.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===i.config.chart.type&&i.config.plotOptions.bar.horizontal,this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.xaxisBorderWidth=i.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=i.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=i.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=i.config.xaxis.axisBorder.height,this.yaxis=i.config.yaxis[0]}return l(e,[{key:"drawXaxis",value:function(){var e=this.w,t=new T(this.ctx),n=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),i=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});n.add(i);for(var r=[],a=0;a<this.xaxisLabels.length;a++)r.push(this.xaxisLabels[a]);if(this.drawXAxisLabelAndGroup(!0,t,i,r,e.globals.isXNumeric,function(e,t){return t}),e.globals.hasXaxisGroups){var s=e.globals.groups;r=[];for(var o=0;o<s.length;o++)r.push(s[o].title);var l={};e.config.xaxis.group.style&&(l.xaxisFontSize=e.config.xaxis.group.style.fontSize,l.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,l.xaxisForeColors=e.config.xaxis.group.style.colors,l.fontWeight=e.config.xaxis.group.style.fontWeight,l.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,i,r,!1,function(e,t){return s[e].cols*t},l)}if(void 0!==e.config.xaxis.title.text){var c=t.group({class:"apexcharts-xaxis-title"}),d=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===e.config.xaxis.position?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});c.add(d),n.add(c)}if(e.config.xaxis.axisBorder.show){var u=e.globals.barPadForNumericAxis,h=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-u,this.offY,this.xaxisBorderWidth+u,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(h):n.add(h)}return n}},{key:"drawXAxisLabelAndGroup",value:function(e,t,n,i,r,a){var s,o=this,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=[],d=[],u=this.w,h=l.xaxisFontSize||this.xaxisFontSize,p=l.xaxisFontFamily||this.xaxisFontFamily,m=l.xaxisForeColors||this.xaxisForeColors,f=l.fontWeight||u.config.xaxis.labels.style.fontWeight,g=l.cssClass||u.config.xaxis.labels.style.cssClass,_=u.globals.padHorizontal,v=i.length,b="category"===u.config.xaxis.type?u.globals.dataPoints:v;if(0===b&&v>b&&(b=v),r){var y=b>1?b-1:b;s=u.globals.gridWidth/Math.min(y,v-1),_=_+a(0,s)/2+u.config.xaxis.labels.offsetX}else s=u.globals.gridWidth/b,_=_+a(0,s)+u.config.xaxis.labels.offsetX;for(var x=function(r){var l=_-a(r,s)/2+u.config.xaxis.labels.offsetX;0===r&&1===v&&s/2===_&&1===b&&(l=u.globals.gridWidth/2);var y=o.axesUtils.getLabel(i,u.globals.timescaleLabels,l,r,c,h,e),x=28;if(u.globals.rotateXLabels&&e&&(x=22),u.config.xaxis.title.text&&"top"===u.config.xaxis.position&&(x+=parseFloat(u.config.xaxis.title.style.fontSize)+2),e||(x=x+parseFloat(h)+(u.globals.xAxisLabelsHeight-u.globals.xAxisGroupLabelsHeight)+(u.globals.rotateXLabels?10:0)),y=void 0!==u.config.xaxis.tickAmount&&"dataPoints"!==u.config.xaxis.tickAmount&&"datetime"!==u.config.xaxis.type?o.axesUtils.checkLabelBasedOnTickamount(r,y,v):o.axesUtils.checkForOverflowingLabels(r,y,v,c,d),u.config.xaxis.labels.show){var w=t.drawText({x:y.x,y:o.offY+u.config.xaxis.labels.offsetY+x-("top"===u.config.xaxis.position?u.globals.xAxisHeight+u.config.xaxis.axisTicks.height-2:0),text:y.text,textAnchor:"middle",fontWeight:y.isBold?600:f,fontSize:h,fontFamily:p,foreColor:Array.isArray(m)?e&&u.config.xaxis.convertedCatToNumeric?m[u.globals.minX+r-1]:m[r]:m,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+g});if(n.add(w),w.on("click",function(e){if("function"==typeof u.config.chart.events.xAxisLabelClick){var t=Object.assign({},u,{labelIndex:r});u.config.chart.events.xAxisLabelClick(e,o.ctx,t)}}),e){var E=document.createElementNS(u.globals.SVGNS,"title");E.textContent=Array.isArray(y.text)?y.text.join(" "):y.text,w.node.appendChild(E),""!==y.text&&(c.push(y.text),d.push(y))}}r<v-1&&(_+=a(r+1,s))},w=0;w<=v-1;w++)x(w)}},{key:"drawXaxisInversed",value:function(e){var t,n,i=this,r=this.w,a=new T(this.ctx),s=r.config.yaxis[0].opposite?r.globals.translateYAxisX[e]:0,o=a.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),l=a.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+s+", 0)"});o.add(l);var c=[];if(r.config.yaxis[e].show)for(var d=0;d<this.xaxisLabels.length;d++)c.push(this.xaxisLabels[d]);t=r.globals.gridHeight/c.length,n=-t/2.2;var u=r.globals.yLabelFormatters[0],h=r.config.yaxis[0].labels;if(h.show)for(var p=function(s){var o=void 0===c[s]?"":c[s];o=u(o,{seriesIndex:e,dataPointIndex:s,w:r});var d=i.axesUtils.getYAxisForeColor(h.style.colors,e),p=0;Array.isArray(o)&&(p=o.length/2*parseInt(h.style.fontSize,10));var m=h.offsetX-15,f="end";i.yaxis.opposite&&(f="start"),"left"===r.config.yaxis[0].labels.align?(m=h.offsetX,f="start"):"center"===r.config.yaxis[0].labels.align?(m=h.offsetX,f="middle"):"right"===r.config.yaxis[0].labels.align&&(f="end");var g=a.drawText({x:m,y:n+t+h.offsetY-p,text:o,textAnchor:f,foreColor:Array.isArray(d)?d[s]:d,fontSize:h.style.fontSize,fontFamily:h.style.fontFamily,fontWeight:h.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+h.style.cssClass,maxWidth:h.maxWidth});l.add(g),g.on("click",function(e){if("function"==typeof r.config.chart.events.xAxisLabelClick){var t=Object.assign({},r,{labelIndex:s});r.config.chart.events.xAxisLabelClick(e,i.ctx,t)}});var _=document.createElementNS(r.globals.SVGNS,"title");if(_.textContent=Array.isArray(o)?o.join(" "):o,g.node.appendChild(_),0!==r.config.yaxis[e].labels.rotate){var v=a.rotateAroundCenter(g.node);g.node.setAttribute("transform","rotate(".concat(r.config.yaxis[e].labels.rotate," 0 ").concat(v.y,")"))}n+=t},m=0;m<=c.length-1;m++)p(m);if(void 0!==r.config.yaxis[0].title.text){var f=a.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+s+", 0)"}),g=a.drawText({x:r.config.yaxis[0].title.offsetX,y:r.globals.gridHeight/2+r.config.yaxis[0].title.offsetY,text:r.config.yaxis[0].title.text,textAnchor:"middle",foreColor:r.config.yaxis[0].title.style.color,fontSize:r.config.yaxis[0].title.style.fontSize,fontWeight:r.config.yaxis[0].title.style.fontWeight,fontFamily:r.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+r.config.yaxis[0].title.style.cssClass});f.add(g),o.add(f)}var _=0;this.isCategoryBarHorizontal&&r.config.yaxis[0].opposite&&(_=r.globals.gridWidth);var v=r.config.xaxis.axisBorder;if(v.show){var b=a.drawLine(r.globals.padHorizontal+v.offsetX+_,1+v.offsetY,r.globals.padHorizontal+v.offsetX+_,r.globals.gridHeight+v.offsetY,v.color,0);this.elgrid&&this.elgrid.elGridBorders&&r.config.grid.show?this.elgrid.elGridBorders.add(b):o.add(b)}return r.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(_,c.length,r.config.yaxis[0].axisBorder,r.config.yaxis[0].axisTicks,0,t,o),o}},{key:"drawXaxisTicks",value:function(e,t,n){var i=this.w,r=e;if(!(e<0||e-2>i.globals.gridWidth)){var a=this.offY+i.config.xaxis.axisTicks.offsetY;if(t=t+a+i.config.xaxis.axisTicks.height,"top"===i.config.xaxis.position&&(t=a-i.config.xaxis.axisTicks.height),i.config.xaxis.axisTicks.show){var s=new T(this.ctx).drawLine(e+i.config.xaxis.axisTicks.offsetX,a+i.config.xaxis.offsetY,r+i.config.xaxis.axisTicks.offsetX,t+i.config.xaxis.offsetY,i.config.xaxis.axisTicks.color);n.add(s),s.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],n=this.xaxisLabels.length,i=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var r=0;r<n;r++)i=this.xaxisLabels[r].position,t.push(i);else for(var a=n,s=0;s<a;s++){var o=a;e.globals.isXNumeric&&"bar"!==e.config.chart.type&&(o-=1),i+=e.globals.gridWidth/o,t.push(i)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new T(this.ctx),n=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var s=0;s<i.length;s++){var o=t.rotateAroundCenter(i[s]);o.y=o.y-1,o.x=o.x+1,i[s].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(o.x," ").concat(o.y,")")),i[s].setAttribute("text-anchor","end"),n.setAttribute("transform","translate(0, ".concat(-10,")"));var l=i[s].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(l,function(n){t.placeTextWithEllipsis(n,n.textContent,e.globals.xAxisLabelsHeight-("bottom"===e.config.legend.position?20:10))})}else!function(){for(var n=e.globals.gridWidth/(e.globals.labels.length+1),r=0;r<i.length;r++){var a=i[r].childNodes;e.config.xaxis.labels.trim&&"datetime"!==e.config.xaxis.type&&Array.prototype.forEach.call(a,function(e){t.placeTextWithEllipsis(e,e.textContent,n)})}}();if(r.length>0){var c=r[r.length-1].getBBox(),d=r[0].getBBox();c.x<-20&&r[r.length-1].parentNode.removeChild(r[r.length-1]),d.x+d.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&r[0].parentNode.removeChild(r[0]);for(var u=0;u<a.length;u++)t.placeTextWithEllipsis(a[u],a[u].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),e}(),$=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.xaxisLabels=n.globals.labels.slice(),this.axesUtils=new O(t),this.isRangeBar=n.globals.seriesRange.length&&n.globals.isBarHorizontal,n.globals.timescaleLabels.length>0&&(this.xaxisLabels=n.globals.timescaleLabels.slice())}return l(e,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.w,n=new T(this.ctx);e||(e=n.group({class:"apexcharts-grid"}));var i=n.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),r=n.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(r),e.add(i),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,n=new T(this.ctx),i=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,b(e.config.stroke.width)):e.config.stroke.width,r=function(e){var n=document.createElementNS(t.SVGNS,"clipPath");return n.setAttribute("id",e),n};t.dom.elGridRectMask=r("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=r("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=r("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=r("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=r("nonForecastMask".concat(t.cuid));var a=0,s=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(a=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),s=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=n.drawRect(0,0,t.gridWidth,t.gridHeight,0,"#fff"),t.dom.elGridRectBar=n.drawRect(-i/2-a-2,-i/2-2,t.gridWidth+i+s+a+4,t.gridHeight+i+4,0,"#fff");var o=e.globals.markers.largestSize;t.dom.elGridRectMarker=n.drawRect(-o,-o,t.gridWidth+2*o,t.gridHeight+2*o,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var l=t.dom.baseEl.querySelector("defs");l.appendChild(t.dom.elGridRectMask),l.appendChild(t.dom.elGridRectBarMask),l.appendChild(t.dom.elGridRectMarkerMask),l.appendChild(t.dom.elForecastMask),l.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,n=e.x1,i=e.y1,r=e.x2,a=e.y2,s=e.xCount,o=e.parent,l=this.w;if(!(0===t&&l.globals.skipFirstTimelinelabel||t===s-1&&l.globals.skipLastTimelinelabel&&!l.config.xaxis.labels.formatter||"radar"===l.config.chart.type)){l.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:n,y1:i,x2:r,y2:a,xCount:s,parent:o});var c=0;if(l.globals.hasXaxisGroups&&"between"===l.config.xaxis.tickPlacement){var d=l.globals.groups;if(d){for(var u=0,h=0;u<t&&h<d.length;h++)u+=d[h].cols;u===t&&(c=.6*l.globals.xAxisLabelsHeight)}}new Q(this.ctx).drawXaxisTicks(n,c,l.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,n=e.x1,i=e.y1,r=e.x2,a=e.y2,s=e.xCount,o=e.parent,l=this.w,c=o.node.classList.contains("apexcharts-gridlines-horizontal"),d=l.globals.barPadForNumericAxis,u=0===i&&0===a||0===n&&0===r||i===l.globals.gridHeight&&a===l.globals.gridHeight||l.globals.isBarHorizontal&&(0===t||t===s-1),h=new T(this).drawLine(n-(c?d:0),i,r+(c?d:0),a,l.config.grid.borderColor,l.config.grid.strokeDashArray);h.node.classList.add("apexcharts-gridline"),u&&l.config.grid.show?this.elGridBorders.add(h):o.add(h)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,n=e.x1,i=e.y1,r=e.x2,a=e.y2,s=e.type,o=this.w,l=new T(this.ctx),c=o.globals.barPadForNumericAxis,d=o.config.grid[s].colors[t],u=l.drawRect(n-("row"===s?c:0),i,r+("row"===s?2*c:0),a,0,d,o.config.grid[s].opacity);this.elg.add(u),u.attr("clip-path","url(#gridRectMask".concat(o.globals.cuid,")")),u.node.classList.add("apexcharts-grid-".concat(s))}},{key:"_drawXYLines",value:function(e){var t=this,n=e.xCount,i=e.tickAmount,r=this.w;if(r.config.grid.xaxis.lines.show||r.config.xaxis.axisTicks.show){var a,s=r.globals.padHorizontal,o=r.globals.gridHeight;r.globals.timescaleLabels.length?function(e){for(var i=e.xC,r=e.x1,a=e.y1,s=e.x2,o=e.y2,l=0;l<i;l++)r=t.xaxisLabels[l].position,s=t.xaxisLabels[l].position,t._drawGridLines({i:l,x1:r,y1:a,x2:s,y2:o,xCount:n,parent:t.elgridLinesV})}({xC:n,x1:s,y1:0,x2:a,y2:o}):(r.globals.isXNumeric&&(n=r.globals.xAxisScale.result.length),function(e){for(var i=e.xC,a=e.x1,s=e.y1,o=e.x2,l=e.y2,c=0;c<i+(r.globals.isXNumeric?0:1);c++)0===c&&1===i&&1===r.globals.dataPoints&&(o=a=r.globals.gridWidth/2),t._drawGridLines({i:c,x1:a,y1:s,x2:o,y2:l,xCount:n,parent:t.elgridLinesV}),o=a+=r.globals.gridWidth/(r.globals.isXNumeric?i-1:i)}({xC:n,x1:s,y1:0,x2:a,y2:o}))}if(r.config.grid.yaxis.lines.show){var l=0,c=0,d=r.globals.gridWidth,u=i+1;this.isRangeBar&&(u=r.globals.labels.length);for(var h=0;h<u+(this.isRangeBar?1:0);h++)this._drawGridLine({i:h,xCount:u+(this.isRangeBar?1:0),x1:0,y1:l,x2:d,y2:c,parent:this.elgridLinesH}),c=l+=r.globals.gridHeight/(this.isRangeBar?u:i)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show)for(var i,r=n.globals.padHorizontal,a=n.globals.gridHeight,s=0;s<t+1;s++)n.config.grid.xaxis.lines.show&&this._drawGridLine({i:s,xCount:t+1,x1:r,y1:0,x2:i,y2:a,parent:this.elgridLinesV}),new Q(this.ctx).drawXaxisTicks(r,0,n.globals.dom.elGraphical),i=r+=n.globals.gridWidth/t;if(n.config.grid.yaxis.lines.show)for(var o=0,l=0,c=n.globals.gridWidth,d=0;d<n.globals.dataPoints+1;d++)this._drawGridLine({i:d,xCount:n.globals.dataPoints+1,x1:0,y1:o,x2:c,y2:l,parent:this.elgridLinesH}),l=o+=n.globals.gridHeight/n.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,n=new T(this.ctx);this.elg=n.group({class:"apexcharts-grid"}),this.elgridLinesH=n.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=n.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=n.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var i=0;i<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(i);)i++;i===t.seriesYAxisMap.length&&(i=0);var r,a,s,o,l=t.yAxisScale[i].result.length-1;!t.isBarHorizontal||this.isRangeBar?(r=this.xaxisLabels.length,this.isRangeBar&&(l=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(r=e.config.xaxis.tickAmount),(null===(a=t.yAxisScale)||void 0===a||null===(s=a[i])||void 0===s||null===(o=s.result)||void 0===o?void 0:o.length)>0&&"datetime"!==e.config.xaxis.type&&(r=t.yAxisScale[i].result.length-1)),this._drawXYLines({xCount:r,tickAmount:l})):(r=l,l=t.xTickAmount,this._drawInvertedXYLines({xCount:r,tickAmount:l}));return this.drawGridBands(r,l),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/r}}},{key:"drawGridBands",value:function(e,t){var n,i,r=this,a=this.w;if((null===(n=a.config.grid.row.colors)||void 0===n?void 0:n.length)>0&&function(e,n,i,s,o,l){for(var c=0,d=0;c<n;c++,d++)d>=a.config.grid.row.colors.length&&(d=0),r._drawGridBandRect({c:d,x1:0,y1:s,x2:o,y2:l,type:"row"}),s+=a.globals.gridHeight/t}(0,t,0,0,a.globals.gridWidth,a.globals.gridHeight/t),(null===(i=a.config.grid.column.colors)||void 0===i?void 0:i.length)>0){var s=a.globals.isBarHorizontal||"on"!==a.config.xaxis.tickPlacement||"category"!==a.config.xaxis.type&&!a.config.xaxis.convertedCatToNumeric?e:e-1;a.globals.isXNumeric&&(s=a.globals.xAxisScale.result.length-1);for(var o=a.globals.padHorizontal,l=a.globals.padHorizontal+a.globals.gridWidth/s,c=a.globals.gridHeight,d=0,u=0;d<e;d++,u++){var h;u>=a.config.grid.column.colors.length&&(u=0),"datetime"===a.config.xaxis.type&&(o=this.xaxisLabels[d].position,l=((null===(h=this.xaxisLabels[d+1])||void 0===h?void 0:h.position)||a.globals.gridWidth)-this.xaxisLabels[d].position),this._drawGridBandRect({c:u,x1:o,y1:0,x2:l,y2:c,type:"column"}),o+=a.globals.gridWidth/s}}}}]),e}(),ee=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.coreUtils=new N(this.ctx)}return l(e,[{key:"niceScale",value:function(e,t){var n,i,r,a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=1e-11,l=this.w,c=l.globals;c.isBarHorizontal?(n=l.config.xaxis,i=Math.max((c.svgWidth-100)/25,2)):(n=l.config.yaxis[s],i=Math.max((c.svgHeight-100)/15,2)),E.isNumber(i)||(i=10),r=void 0!==n.min&&null!==n.min,a=void 0!==n.max&&null!==n.min;var d=void 0!==n.stepSize&&null!==n.stepSize,u=void 0!==n.tickAmount&&null!==n.tickAmount,h=u?n.tickAmount:c.niceScaleDefaultTicks[Math.min(Math.round(i/2),c.niceScaleDefaultTicks.length-1)];if(c.isMultipleYAxis&&!u&&c.multiAxisTickAmount>0&&(h=c.multiAxisTickAmount,u=!0),h="dataPoints"===h?c.dataPoints-1:Math.abs(Math.round(h)),(e===Number.MIN_VALUE&&0===t||!E.isNumber(e)&&!E.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=E.isNumber(n.min)?n.min:0,t=E.isNumber(n.max)?n.max:e+h,c.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var p=t;t=e,e=p}else e===t&&(e=0===e?0:e-1,t=0===t?2:t+1);var m=[];h<1&&(h=1);var f=h,g=Math.abs(t-e);!r&&e>0&&e/g<.15&&(e=0,r=!0),!a&&t<0&&-t/g<.15&&(t=0,a=!0);var _=(g=Math.abs(t-e))/f,v=_,b=Math.floor(Math.log10(v)),y=Math.pow(10,b),x=Math.ceil(v/y);if(_=v=(x=c.niceScaleAllowedMagMsd[0===c.yValueDecimal?0:1][x])*y,c.isBarHorizontal&&n.stepSize&&"datetime"!==n.type?(_=n.stepSize,d=!0):d&&(_=n.stepSize),d&&n.forceNiceScale){var w=Math.floor(Math.log10(_));_*=Math.pow(10,b-w)}if(r&&a){var S=g/f;if(u)if(d)if(0!=E.mod(g,_)){var C=E.getGCD(_,S);_=S/C<10?C:S}else 0==E.mod(_,S)?_=S:(S=_,u=!1);else _=S;else if(d)0==E.mod(g,_)?S=_:_=S;else if(0==E.mod(g,_))S=_;else{S=g/(f=Math.ceil(g/_));var T=E.getGCD(g,_);g/T<i&&(S=T),_=S}f=Math.round(g/_)}else{if(r||a){if(a)if(u)e=t-_*f;else{var N=e;e=_*Math.floor(e/_),Math.abs(t-e)/E.getGCD(g,_)>i&&(e=t-_*h,e+=_*Math.floor((N-e)/_))}else if(r)if(u)t=e+_*f;else{var A=t;t=_*Math.ceil(t/_),Math.abs(t-e)/E.getGCD(g,_)>i&&(t=e+_*h,t+=_*Math.ceil((A-t)/_))}}else if(c.isMultipleYAxis&&u){var k=_*Math.floor(e/_),R=k+_*f;R<t&&(_*=2),R=t,t=(e=k)+_*f,g=Math.abs(t-e),e>0&&e<Math.abs(R-t)&&(e=0,t=_*f),t<0&&-t<Math.abs(k-e)&&(t=0,e=-_*f)}else e=_*Math.floor(e/_),t=_*Math.ceil(t/_);g=Math.abs(t-e),_=E.getGCD(g,_),f=Math.round(g/_)}if(u||r||a||(f=Math.ceil((g-o)/(_+o)))>16&&E.getPrimeFactors(f).length<2&&f++,!u&&n.forceNiceScale&&0===c.yValueDecimal&&f>g&&(f=g,_=Math.round(g/f)),f>i&&(!u&&!d||n.forceNiceScale)){var I=E.getPrimeFactors(f),O=I.length-1,j=f;e:for(var P=0;P<O;P++)for(var D=0;D<=O-P;D++){for(var L=Math.min(D+P,O),M=j,U=1,F=D;F<=L;F++)U*=I[F];if((M/=U)<i){j=M;break e}}_=j===f?g:g/j,f=Math.round(g/_)}c.isMultipleYAxis&&0==c.multiAxisTickAmount&&c.ignoreYAxisIndexes.indexOf(s)<0&&(c.multiAxisTickAmount=f);var B=e-_,V=_*o;do{B+=_,m.push(E.stripNumber(B,7))}while(t-B>V);return{result:m,niceMin:m[0],niceMax:m[m.length-1]}}},{key:"linearScale",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=Math.abs(t-e),s=[];if(e===t)return{result:s=[e],niceMin:s[0],niceMax:s[s.length-1]};"dataPoints"===(n=this._adjustTicksForSmallRange(n,i,a))&&(n=this.w.globals.dataPoints-1),r||(r=a/n),r=Math.round(10*(r+Number.EPSILON))/10,n===Number.MAX_VALUE&&(n=5,r=1);for(var o=e;n>=0;)s.push(o),o=E.preciseAddition(o,r),n-=1;return{result:s,niceMin:s[0],niceMax:s[s.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var i=[],r=Math.ceil(Math.log(t)/Math.log(n)+1),a=Math.floor(Math.log(e)/Math.log(n));a<r;a++)i.push(Math.pow(n,a));return{result:i,niceMin:i[0],niceMax:i[i.length-1]}}},{key:"logarithmicScale",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var i=[],r=Math.log(t)/Math.log(n),a=Math.log(e)/Math.log(n),s=r-a,o=Math.round(s),l=s/o,c=0,d=a;c<o;c++,d+=l)i.push(Math.pow(n,d));return i.push(Math.pow(n,r)),{result:i,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,n){var i=e;if(void 0!==t&&this.w.config.yaxis[t].labels.formatter&&void 0===this.w.config.yaxis[t].tickAmount){var r=Number(this.w.config.yaxis[t].labels.formatter(1));E.isNumber(r)&&0===this.w.globals.yValueDecimal&&(i=Math.ceil(n))}return i<e?i:e}},{key:"setYScaleForIndex",value:function(e,t,n){var i=this.w.globals,r=this.w.config,a=i.isBarHorizontal?r.xaxis:r.yaxis[e];void 0===i.yAxisScale[e]&&(i.yAxisScale[e]=[]);var s=Math.abs(n-t);a.logarithmic&&s<=5&&(i.invalidLogScale=!0),a.logarithmic&&s>5?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=a.forceNiceScale?this.logarithmicScaleNice(t,n,a.logBase):this.logarithmicScale(t,n,a.logBase)):n!==-Number.MAX_VALUE&&E.isNumber(n)&&t!==Number.MAX_VALUE&&E.isNumber(t)?(i.allSeriesCollapsed=!1,i.yAxisScale[e]=this.niceScale(t,n,e)):i.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var n=this.w,i=n.globals,r=Math.abs(t-e);if(t!==-Number.MAX_VALUE&&E.isNumber(t)){var a=i.xTickAmount+1;r<10&&r>1&&(a=r),i.xAxisScale=this.linearScale(e,t,a,0,n.config.xaxis.stepSize)}else i.xAxisScale=this.linearScale(0,10,10);return i.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,n=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var i=n.seriesYAxisMap,r=n.minYArr,a=n.maxYArr;n.allSeriesCollapsed=!0,n.barGroups=[],i.forEach(function(i,s){var o=[];i.forEach(function(e){var n=t.series[e].group;o.indexOf(n)<0&&o.push(n)}),i.length>0?function(){var l,c,d=Number.MAX_VALUE,u=-Number.MAX_VALUE,h=d,p=u;if(t.chart.stacked)!function(){var e=new Array(n.dataPoints).fill(0),r=[],a=[],m=[];o.forEach(function(){r.push(e.map(function(){return Number.MIN_VALUE})),a.push(e.map(function(){return Number.MIN_VALUE})),m.push(e.map(function(){return Number.MIN_VALUE}))});for(var f=function(e){!l&&t.series[i[e]].type&&(l=t.series[i[e]].type);var d=i[e];c=t.series[d].group?t.series[d].group:"axis-".concat(s),!(n.collapsedSeriesIndices.indexOf(d)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(d)<0)||(n.allSeriesCollapsed=!1,o.forEach(function(e,i){if(t.series[d].group===e)for(var s=0;s<n.series[d].length;s++){var o=n.series[d][s];o>=0?a[i][s]+=o:m[i][s]+=o,r[i][s]+=o,h=Math.min(h,o),p=Math.max(p,o)}})),"bar"!==l&&"column"!==l||n.barGroups.push(c)},g=0;g<i.length;g++)f(g);l||(l=t.chart.type),"bar"===l||"column"===l?o.forEach(function(e,t){d=Math.min(d,Math.min.apply(null,m[t])),u=Math.max(u,Math.max.apply(null,a[t]))}):(o.forEach(function(e,t){h=Math.min(h,Math.min.apply(null,r[t])),p=Math.max(p,Math.max.apply(null,r[t]))}),d=h,u=p),d===Number.MIN_VALUE&&u===Number.MIN_VALUE&&(u=-Number.MAX_VALUE)}();else for(var m=0;m<i.length;m++){var f=i[m];d=Math.min(d,r[f]),u=Math.max(u,a[f]),!(n.collapsedSeriesIndices.indexOf(f)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(f)<0)||(n.allSeriesCollapsed=!1)}void 0!==t.yaxis[s].min&&(d="function"==typeof t.yaxis[s].min?t.yaxis[s].min(d):t.yaxis[s].min),void 0!==t.yaxis[s].max&&(u="function"==typeof t.yaxis[s].max?t.yaxis[s].max(u):t.yaxis[s].max),n.barGroups=n.barGroups.filter(function(e,t,n){return n.indexOf(e)===t}),e.setYScaleForIndex(s,d,u),i.forEach(function(e){r[e]=n.yAxisScale[s].niceMin,a[e]=n.yAxisScale[s].niceMax})}():e.setYScaleForIndex(s,0,-Number.MAX_VALUE)})}}]),e}(),te=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.scales=new ee(t)}return l(e,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.w.config,a=this.w.globals,s=-Number.MAX_VALUE,o=Number.MIN_VALUE;null===i&&(i=e+1);var l=a.series,c=l,d=l;"candlestick"===r.chart.type?(c=a.seriesCandleL,d=a.seriesCandleH):"boxPlot"===r.chart.type?(c=a.seriesCandleO,d=a.seriesCandleC):a.isRangeData&&(c=a.seriesRangeStart,d=a.seriesRangeEnd);var u=!1;if(a.seriesX.length>=i){var h,p=null===(h=a.brushSource)||void 0===h?void 0:h.w.config.chart.brush;(r.chart.zoom.enabled&&r.chart.zoom.autoScaleYaxis||null!=p&&p.enabled&&null!=p&&p.autoScaleYaxis)&&(u=!0)}for(var m=e;m<i;m++){a.dataPoints=Math.max(a.dataPoints,l[m].length);var f=r.series[m].type;a.categoryLabels.length&&(a.dataPoints=a.categoryLabels.filter(function(e){return void 0!==e}).length),a.labels.length&&"datetime"!==r.xaxis.type&&0!==a.series.reduce(function(e,t){return e+t.length},0)&&(a.dataPoints=Math.max(a.dataPoints,a.labels.length));var g=0,_=l[m].length-1;if(u){if(r.xaxis.min)for(;g<_&&a.seriesX[m][g]<r.xaxis.min;g++);if(r.xaxis.max)for(;_>g&&a.seriesX[m][_]>r.xaxis.max;_--);}for(var v=g;v<=_&&v<a.series[m].length;v++){var b=l[m][v];if(null!==b&&E.isNumber(b)){switch(void 0!==d[m][v]&&(s=Math.max(s,d[m][v]),t=Math.min(t,d[m][v])),void 0!==c[m][v]&&(t=Math.min(t,c[m][v]),n=Math.max(n,c[m][v])),f){case"candlestick":void 0!==a.seriesCandleC[m][v]&&(s=Math.max(s,a.seriesCandleH[m][v]),t=Math.min(t,a.seriesCandleL[m][v]));break;case"boxPlot":void 0!==a.seriesCandleC[m][v]&&(s=Math.max(s,a.seriesCandleC[m][v]),t=Math.min(t,a.seriesCandleO[m][v]))}f&&"candlestick"!==f&&"boxPlot"!==f&&"rangeArea"!==f&&"rangeBar"!==f&&(s=Math.max(s,a.series[m][v]),t=Math.min(t,a.series[m][v])),n=s,a.seriesGoals[m]&&a.seriesGoals[m][v]&&Array.isArray(a.seriesGoals[m][v])&&a.seriesGoals[m][v].forEach(function(e){o!==Number.MIN_VALUE&&(o=Math.min(o,e.value),t=o),s=Math.max(s,e.value),n=s}),E.isFloat(b)&&(b=E.noExponents(b),a.yValueDecimal=Math.max(a.yValueDecimal,b.toString().split(".")[1].length)),o>c[m][v]&&c[m][v]<0&&(o=c[m][v])}else a.hasNullValues=!0}"bar"!==f&&"column"!==f||(o<0&&s<0&&(s=0,n=Math.max(n,0)),o===Number.MIN_VALUE&&(o=0,t=Math.min(t,0)))}return"rangeBar"===r.chart.type&&a.seriesRangeStart.length&&a.isBarHorizontal&&(o=t),"bar"===r.chart.type&&(o<0&&s<0&&(s=0),o===Number.MIN_VALUE&&(o=0)),{minY:o,maxY:s,lowestY:t,highestY:n}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var n,i=Number.MAX_VALUE;if(e.isMultipleYAxis){i=Number.MAX_VALUE;for(var r=0;r<e.series.length;r++)n=this.getMinYMaxY(r),e.minYArr[r]=n.lowestY,e.maxYArr[r]=n.highestY,i=Math.min(i,n.lowestY)}return n=this.getMinYMaxY(0,i,null,e.series.length),"bar"===t.chart.type?(e.minY=n.minY,e.maxY=n.maxY):(e.minY=n.lowestY,e.maxY=n.highestY),i=n.lowestY,t.chart.stacked&&this._setStackedMinMax(),"line"===t.chart.type||"area"===t.chart.type||"scatter"===t.chart.type||"candlestick"===t.chart.type||"boxPlot"===t.chart.type||"rangeBar"===t.chart.type&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&i!==-Number.MAX_VALUE&&i!==e.maxY&&(e.minY=i):e.minY=e.minY!==Number.MIN_VALUE?Math.min(n.minY,e.minY):n.minY,t.yaxis.forEach(function(t,n){void 0!==t.max&&("number"==typeof t.max?e.maxYArr[n]=t.max:"function"==typeof t.max&&(e.maxYArr[n]=t.max(e.isMultipleYAxis?e.maxYArr[n]:e.maxY)),e.maxY=e.maxYArr[n]),void 0!==t.min&&("number"==typeof t.min?e.minYArr[n]=t.min:"function"==typeof t.min&&(e.minYArr[n]=t.min(e.isMultipleYAxis?e.minYArr[n]===Number.MIN_VALUE?0:e.minYArr[n]:e.minY)),e.minY=e.minYArr[n])}),e.isBarHorizontal&&["min","max"].forEach(function(n){void 0!==t.xaxis[n]&&"number"==typeof t.xaxis[n]&&("min"===n?e.minY=t.xaxis[n]:e.maxY=t.xaxis[n])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=i):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach(function(n){switch(n.type||t.chart.type){case"bar":case"column":e.barGroups.push(n.group);break;case"line":e.lineGroups.push(n.group);break;case"area":e.areaGroups.push(n.group)}}),e.barGroups=e.barGroups.filter(function(e,t,n){return n.indexOf(e)===t}),e.lineGroups=e.lineGroups.filter(function(e,t,n){return n.indexOf(e)===t}),e.areaGroups=e.areaGroups.filter(function(e,t,n){return n.indexOf(e)===t}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,n="numeric"===t.xaxis.type||"datetime"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var t=0;t<e.series.length;t++)if(e.labels[t])for(var n=0;n<e.labels[t].length;n++)null!==e.labels[t][n]&&E.isNumber(e.labels[t][n])&&(e.maxX=Math.max(e.maxX,e.labels[t][n]),e.initialMaxX=Math.max(e.maxX,e.labels[t][n]),e.minX=Math.min(e.minX,e.labels[t][n]),e.initialMinX=Math.min(e.minX,e.labels[t][n]))}(),e.noLabelsProvided&&0===t.xaxis.categories.length&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var i=10;if(void 0===t.xaxis.tickAmount)i=Math.round(e.svgWidth/150),"numeric"===t.xaxis.type&&e.dataPoints<30&&(i=e.dataPoints-1),i>e.dataPoints&&0!==e.dataPoints&&(i=e.dataPoints-1);else if("dataPoints"===t.xaxis.tickAmount){if(e.series.length>1&&(i=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var r=e.maxX-e.minX;r<30&&(i=r-1)}}else i=t.xaxis.tickAmount;if(e.xTickAmount=i,void 0!==t.xaxis.max&&"number"==typeof t.xaxis.max&&(e.maxX=t.xaxis.max),void 0!==t.xaxis.min&&"number"==typeof t.xaxis.min&&(e.minX=t.xaxis.min),void 0!==t.xaxis.range&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var a=[],s=e.minX-1;s<e.maxX;s++)a.push(s+1);e.xAxisScale={result:a,niceMin:a[0],niceMax:a[a.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,i,i,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,i-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());n&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ)for(var t=0;t<e.series.length;t++)if(void 0!==e.seriesZ[t])for(var n=0;n<e.seriesZ[t].length;n++)null!==e.seriesZ[t][n]&&E.isNumber(e.seriesZ[t][n])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][n]),e.minZ=Math.min(e.minZ,e.seriesZ[t][n]))}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var n=new R(this.ctx);if("datetime"===t.xaxis.type){var i=n.getDate(e.minX);t.xaxis.labels.datetimeUTC?i.setUTCDate(i.getUTCDate()-2):i.setDate(i.getDate()-2),e.minX=new Date(i).getTime();var r=n.getDate(e.maxX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()+2):r.setDate(r.getDate()+2),e.maxX=new Date(r).getTime()}else("numeric"===t.xaxis.type||"category"===t.xaxis.type&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,n){1===t.length&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var i=t.slice();i.sort(function(e,t){return e-t}),i.forEach(function(t,n){if(n>0){var r=t-i[n-1];r>0&&(e.minXDiff=Math.min(r,e.minXDiff))}}),1!==e.dataPoints&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var n=t.seriesGroups;n.length||(n=[this.w.globals.seriesNames.map(function(e){return e})]);var i={},r={};n.forEach(function(n){i[n]=[],r[n]=[],e.w.config.series.map(function(e,i){return n.indexOf(t.seriesNames[i])>-1?i:null}).filter(function(e){return null!==e}).forEach(function(a){for(var s=0;s<t.series[t.maxValsInArrayIndex].length;s++){var o,l,c,d;void 0===i[n][s]&&(i[n][s]=0,r[n][s]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||"bar"===(null===(o=e.w.config.series)||void 0===o||null===(l=o[a])||void 0===l?void 0:l.type)||"column"===(null===(c=e.w.config.series)||void 0===c||null===(d=c[a])||void 0===d?void 0:d.type)))&&null!==t.series[a][s]&&E.isNumber(t.series[a][s])&&(t.series[a][s]>0?i[n][s]+=parseFloat(t.series[a][s])+1e-4:r[n][s]+=parseFloat(t.series[a][s]))}})}),Object.entries(i).forEach(function(e){var n=v(e,1)[0];i[n].forEach(function(e,a){t.maxY=Math.max(t.maxY,i[n][a]),t.minY=Math.min(t.minY,r[n][a])})})}}}]),e}(),ne=function(){function e(t,n){s(this,e),this.ctx=t,this.elgrid=n,this.w=t.w;var i=this.w;this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.axisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===i.config.chart.type&&i.config.plotOptions.bar.horizontal,this.xAxisoffX="bottom"===i.config.xaxis.position?i.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new O(t)}return l(e,[{key:"drawYaxis",value:function(e){var t=this.w,n=new T(this.ctx),i=t.config.yaxis[e].labels.style,r=i.fontSize,a=i.fontFamily,s=i.fontWeight,o=n.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return o;var l=n.group({class:"apexcharts-yaxis-texts-g"});o.add(l);var c=t.globals.yAxisScale[e].result.length-1,d=t.globals.gridHeight/c,u=t.globals.yLabelFormatters[e],h=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var p=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?p=0:"heatmap"===t.config.chart.type&&(p-=d/2),p+=parseInt(r,10)/3;for(var m=c;m>=0;m--){var f=u(h[m],m,t),g=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&0!==t.config.yaxis.length&&(g*=-1);var _=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),v=this.axesUtils.getYAxisForeColor(i.colors,e),b=Array.isArray(v)?v[m]:v,y=E.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(e){return e.textContent}),x=n.drawText({x:g,y:p,text:y.includes(f)&&!t.config.yaxis[e].labels.showDuplicates?"":f,textAnchor:_,fontSize:r,fontFamily:a,fontWeight:s,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:b,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(i.cssClass)});l.add(x),this.addTooltip(x,f),0!==t.config.yaxis[e].labels.rotate&&this.rotateLabel(n,x,firstLabel,t.config.yaxis[e].labels.rotate),p+=d}}return this.addYAxisTitle(n,o,e),this.addAxisBorder(n,o,e,c,d),o}},{key:"getTextAnchor",value:function(e,t){return"left"===e?"start":"center"===e?"middle":"right"===e?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var n=document.createElementNS(this.w.globals.SVGNS,"title");n.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(n)}},{key:"rotateLabel",value:function(e,t,n,i){var r=e.rotateAroundCenter(n.node),a=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(i," ").concat(r.x," ").concat(a.y,")"))}},{key:"addYAxisTitle",value:function(e,t,n){var i=this.w;if(void 0!==i.config.yaxis[n].title.text){var r=e.group({class:"apexcharts-yaxis-title"}),a=i.config.yaxis[n].opposite?i.globals.translateYAxisX[n]:0,s=e.drawText({x:a,y:i.globals.gridHeight/2+i.globals.translateY+i.config.yaxis[n].title.offsetY,text:i.config.yaxis[n].title.text,textAnchor:"end",foreColor:i.config.yaxis[n].title.style.color,fontSize:i.config.yaxis[n].title.style.fontSize,fontWeight:i.config.yaxis[n].title.style.fontWeight,fontFamily:i.config.yaxis[n].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(i.config.yaxis[n].title.style.cssClass)});r.add(s),t.add(r)}}},{key:"addAxisBorder",value:function(e,t,n,i,r){var a=this.w,s=a.config.yaxis[n].axisBorder,o=31+s.offsetX;if(a.config.yaxis[n].opposite&&(o=-31-s.offsetX),s.show){var l=e.drawLine(o,a.globals.translateY+s.offsetY-2,o,a.globals.gridHeight+a.globals.translateY+s.offsetY+2,s.color,0,s.width);t.add(l)}a.config.yaxis[n].axisTicks.show&&this.axesUtils.drawYAxisTicks(o,i,s,a.config.yaxis[n].axisTicks,n,r,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,n=new T(this.ctx),i=n.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),r=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(r);var a=t.globals.yAxisScale[e].result.length-1,s=t.globals.gridWidth/a+.1,o=s+t.config.xaxis.labels.offsetX,l=t.globals.xLabelFormatter,c=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),d=t.globals.timescaleLabels;if(d.length>0&&(this.xaxisLabels=d.slice(),a=(c=d.slice()).length),t.config.xaxis.labels.show)for(var u=d.length?0:a;d.length?u<d.length:u>=0;d.length?u++:u--){var h=l(c[u],u,t),p=t.globals.gridWidth+t.globals.padHorizontal-(o-s+t.config.xaxis.labels.offsetX);if(d.length){var m=this.axesUtils.getLabel(c,d,p,u,this.drawnLabels,this.xaxisFontSize);p=m.x,h=m.text,this.drawnLabels.push(m.text),0===u&&t.globals.skipFirstTimelinelabel&&(h=""),u===c.length-1&&t.globals.skipLastTimelinelabel&&(h="")}var f=n.drawText({x:p,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-("top"===t.config.xaxis.position?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:h,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});r.add(f),f.tspan(h),this.addTooltip(f,h),o+=s}return this.inversedYAxisTitleText(i),this.inversedYAxisBorder(i),i}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,n=new T(this.ctx),i=t.config.xaxis.axisBorder;if(i.show){var r=0;"bar"===t.config.chart.type&&t.globals.isXNumeric&&(r-=15);var a=n.drawLine(t.globals.padHorizontal+r+i.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,i.color,0,i.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(a):e.add(a)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,n=new T(this.ctx);if(void 0!==t.config.xaxis.title.text){var i=n.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),r=n.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});i.add(r),e.add(i)}}},{key:"yAxisTitleRotate",value:function(e,t){var n=this.w,i=new T(this.ctx),r=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),a=r?r.getBoundingClientRect():{width:0,height:0},s=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),o=s?s.getBoundingClientRect():{width:0,height:0};if(s){var l=this.xPaddingForYAxisTitle(e,a,o,t);s.setAttribute("x",l.xPos-(t?10:0));var c=i.rotateAroundCenter(s);s.setAttribute("transform","rotate(".concat(t?-1*n.config.yaxis[e].title.rotate:n.config.yaxis[e].title.rotate," ").concat(c.x," ").concat(c.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,n,i){var r=this.w,a=0,s=10;return void 0===r.config.yaxis[e].title.text||e<0?{xPos:a,padd:0}:(i?a=t.width+r.config.yaxis[e].title.offsetX+n.width/2+s/2:(a=-1*t.width+r.config.yaxis[e].title.offsetX+s/2+n.width/2,r.globals.isBarHorizontal&&(s=25,a=-1*t.width-r.config.yaxis[e].title.offsetX-s)),{xPos:a,padd:s})}},{key:"setYAxisXPosition",value:function(e,t){var n=this.w,i=0,r=0,a=18,s=1;n.config.yaxis.length>1&&(this.multipleYs=!0),n.config.yaxis.forEach(function(o,l){var c=n.globals.ignoreYAxisIndexes.includes(l)||!o.show||o.floating||0===e[l].width,d=e[l].width+t[l].width;o.opposite?n.globals.isBarHorizontal?(r=n.globals.gridWidth+n.globals.translateX-1,n.globals.translateYAxisX[l]=r-o.labels.offsetX):(r=n.globals.gridWidth+n.globals.translateX+s,c||(s+=d+20),n.globals.translateYAxisX[l]=r-o.labels.offsetX+20):(i=n.globals.translateX-a,c||(a+=d+20),n.globals.translateYAxisX[l]=i+o.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;E.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(t,n){var i=e.config.yaxis[n];if(i&&!i.floating&&void 0!==i.labels.align){var r=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),a=E.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label"))),s=r.getBoundingClientRect();a.forEach(function(e){e.setAttribute("text-anchor",i.labels.align)}),"left"!==i.labels.align||i.opposite?"center"===i.labels.align?r.setAttribute("transform","translate(".concat(s.width/2*(i.opposite?1:-1),", 0)")):"right"===i.labels.align&&i.opposite&&r.setAttribute("transform","translate(".concat(s.width,", 0)")):r.setAttribute("transform","translate(-".concat(s.width,", 0)"))}})}}]),e}(),ie=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.documentEvent=E.bind(this.documentEvent,this)}return l(e,[{key:"addEventListener",value:function(e,t){var n=this.w;n.globals.events.hasOwnProperty(e)?n.globals.events[e].push(t):n.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){var i=n.globals.events[e].indexOf(t);-1!==i&&n.globals.events[e].splice(i,1)}}},{key:"fireEvent",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var i=n.globals.events[e],r=i.length,a=0;a<r;a++)i[a].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,n=this.ctx,i=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(e){i.addEventListener(e,function(e){var i=Object.assign({},t,{seriesIndex:t.globals.axisCharts?t.globals.capturedSeriesIndex:0,dataPointIndex:t.globals.capturedDataPointIndex});"mousemove"===e.type||"touchmove"===e.type?"function"==typeof t.config.chart.events.mouseMove&&t.config.chart.events.mouseMove(e,n,i):"mouseleave"===e.type||"touchleave"===e.type?"function"==typeof t.config.chart.events.mouseLeave&&t.config.chart.events.mouseLeave(e,n,i):("mouseup"===e.type&&1===e.which||"touchend"===e.type)&&("function"==typeof t.config.chart.events.click&&t.config.chart.events.click(e,n,i),n.ctx.events.fireEvent("click",[e,n,i]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(n){t.globals.dom.baseEl.addEventListener(n,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,n=e.target.className;if("click"===e.type){var i=t.globals.dom.baseEl.querySelector(".apexcharts-menu");i&&i.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==n&&i.classList.remove("apexcharts-menu-open")}t.globals.clientX="touchmove"===e.type?e.touches[0].clientX:e.clientX,t.globals.clientY="touchmove"===e.type?e.touches[0].clientY:e.clientY}}]),e}(),re=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var n=t.filter(function(t){return t.name===e})[0];if(!n)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var i=E.extend(L,n);this.w.globals.locale=i.options}}]),e}(),ae=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"drawAxis",value:function(e,t){var n,i,r=this,a=this.w.globals,s=this.w.config,o=new Q(this.ctx,t),l=new ne(this.ctx,t);a.axisCharts&&"radar"!==e&&(a.isBarHorizontal?(i=l.drawYaxisInversed(0),n=o.drawXaxisInversed(0),a.dom.elGraphical.add(n),a.dom.elGraphical.add(i)):(n=o.drawXaxis(),a.dom.elGraphical.add(n),s.yaxis.map(function(e,t){if(-1===a.ignoreYAxisIndexes.indexOf(t)&&(i=l.drawYaxis(t),a.dom.Paper.add(i),"back"===r.w.config.grid.position)){var n=a.dom.Paper.children()[1];n.remove(),a.dom.Paper.add(n)}})))}}]),e}(),se=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new T(this.ctx),n=new C(this.ctx),i=e.config.xaxis.crosshairs.fill.gradient,r=e.config.xaxis.crosshairs.dropShadow,a=e.config.xaxis.crosshairs.fill.type,s=i.colorFrom,o=i.colorTo,l=i.opacityFrom,c=i.opacityTo,d=i.stops,u=r.enabled,h=r.left,p=r.top,m=r.blur,f=r.color,g=r.opacity,_=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){"gradient"===a&&(_=t.drawGradient("vertical",s,o,l,c,null,d,null));var v=t.drawRect();1===e.config.xaxis.crosshairs.width&&(v=t.drawLine());var b=e.globals.gridHeight;(!E.isNumber(b)||b<0)&&(b=0);var y=e.config.xaxis.crosshairs.width;(!E.isNumber(y)||y<0)&&(y=0),v.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:b,width:y,height:b,fill:_,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),u&&(v=n.dropShadow(v,{left:h,top:p,blur:m,color:f,opacity:g})),e.globals.dom.elGraphical.add(v)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new T(this.ctx),n=e.config.yaxis[0].crosshairs,i=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var r=t.drawLine(-i,0,e.globals.gridWidth+i,0,n.stroke.color,n.stroke.dashArray,n.stroke.width);r.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(r)}var a=t.drawLine(-i,0,e.globals.gridWidth+i,0,n.stroke.color,0,0);a.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(a)}}]),e}(),oe=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"checkResponsiveConfig",value:function(e){var t=this,n=this.w,i=n.config;if(0!==i.responsive.length){var r=i.responsive.slice();r.sort(function(e,t){return e.breakpoint>t.breakpoint?1:t.breakpoint>e.breakpoint?-1:0}).reverse();var a=new z({}),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r[0].breakpoint,s=window.innerWidth>0?window.innerWidth:screen.width;if(s>i){var o=E.clone(n.globals.initialConfig);o.series=E.clone(n.config.series);var l=N.extendArrayProps(a,o,n);e=E.extend(l,e),e=E.extend(n.config,e),t.overrideResponsiveOptions(e)}else for(var c=0;c<r.length;c++)s<r[c].breakpoint&&(e=N.extendArrayProps(a,r[c].options,n),e=E.extend(n.config,e),t.overrideResponsiveOptions(e))};if(e){var o=N.extendArrayProps(a,e,n);o=E.extend(n.config,o),s(o=E.extend(o,e))}else s({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new z(e).init({responsiveOverride:!0});this.w.config=t}}]),e}(),le=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return l(e,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,n=e.plotOptions;return"treemap"===t.type&&n.treemap&&n.treemap.distributed||"heatmap"===t.type&&n.heatmap&&n.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,n=e.plotOptions;return n.bar&&n.bar.distributed&&("bar"===t.type||"rangeBar"===t.type)}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new E;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode));var n=b(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(n),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var i=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],i),this.applyDataLabelsColors(i),this.applyRadarPolygonsColors(),this.applyMarkersColors(i)}},{key:"getColors",value:function(e){var t=this,n=this.w;return e&&0!==e.length?Array.isArray(e)&&e.length>0&&"function"==typeof e[0]?(this.isColorFn=!0,n.config.series.map(function(i,r){var a=e[r]||e[0];return"function"==typeof a?a({value:n.globals.axisCharts?n.globals.series[r][0]||0:n.globals.series[r],seriesIndex:r,dataPointIndex:r,w:t.w}):a})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach(function(e,n){e&&(t[n]=e)})}},{key:"getMonochromeColors",value:function(e,t,n){var i=e.color,r=e.shadeIntensity,a=e.shadeTo,s=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,o=1/(s/r),l=0;return Array.from({length:s},function(){var e="dark"===a?n.shadeColor(-1*l,i):n.shadeColor(l,i);return l+=o,e})}},{key:"applyColorTypes",value:function(e,t){var n=this,i=this.w;e.forEach(function(e){i.globals[e].colors=void 0===i.config[e].colors?n.isColorFn?i.config.colors:t:i.config[e].colors.slice(),n.pushExtraColors(i.globals[e].colors)})}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=void 0===t.config.dataLabels.style.colors?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=void 0===e.config.plotOptions.radar.polygons.fill.colors?["dark"===e.config.theme.mode?"#424242":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=void 0===t.config.markers.colors?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.w,r=t||i.globals.series.length;if(null===n&&(n=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===i.config.chart.type&&i.config.plotOptions.heatmap&&i.config.plotOptions.heatmap.colorScale.inverse),n&&i.globals.series.length&&(r=i.globals.series[i.globals.maxValsInArrayIndex].length*i.globals.series.length),e.length<r)for(var a=r-e.length,s=0;s<a;s++)e.push(e[s])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,n="dark"===t?"palette4":"light"===t?"palette1":e.theme.palette||"palette1",i="dark"===t?"#f6f7f8":"light"===t?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=i,e.theme.palette=n,e}},{key:"predefined",value:function(){var e={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return e[this.w.config.theme.palette]||e.default}}]),e}(),ce=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,n="title"===e?t.config.title:t.config.subtitle,i=t.globals.svgWidth/2,r=n.offsetY,a="middle";if("left"===n.align?(i=10,a="start"):"right"===n.align&&(i=t.globals.svgWidth-10,a="end"),i+=n.offsetX,r=r+parseInt(n.style.fontSize,10)+n.margin/2,void 0!==n.text){var s=new T(this.ctx).drawText({x:i,y:r,text:n.text,textAnchor:a,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,fontWeight:n.style.fontWeight,foreColor:n.style.color,opacity:1});s.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(s)}}}]),e}(),de=function(){function e(t){s(this,e),this.w=t.w,this.dCtx=t}return l(e,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,n=0,i=0,r="title"===e?t.config.title.floating:t.config.subtitle.floating,a=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(null!==a&&!r){var s=a.getBoundingClientRect();n=s.width,i=t.globals.axisCharts?s.height+5:s.height}return{width:n,height:i}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||"top"!==e.config.legend.position&&"bottom"!==e.config.legend.position||(t.style.maxHeight=e.globals.svgHeight/2+"px");var n=Object.assign({},E.getBoundingClientRect(t));return null!==t&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:n.x,y:n.y,height:n.height,width:0===n.height?0:n.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},"left"!==e.config.legend.position&&"right"!==e.config.legend.position||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,n=[];t.config.series.forEach(function(r,a){r.data.forEach(function(r,s){var o;o=t.globals.series[a][s],i=t.config.dataLabels.formatter(o,{ctx:e.dCtx.ctx,seriesIndex:a,dataPointIndex:s,w:t}),n.push(i)})});var i=E.getLargestStringFromArr(n),r=new T(this.dCtx.ctx),a=t.config.dataLabels.style,s=r.getTextRects(i,parseInt(a.fontSize),a.fontFamily);return{width:1.05*s.width,height:s.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var n=e;if(this.w.globals.isMultiLineX){var i=t.map(function(e,t){return Array.isArray(e)?e.length:1}),r=Math.max.apply(Math,b(i));n=t[i.indexOf(r)]}return n}}]),e}(),ue=function(){function e(t){s(this,e),this.w=t.w,this.dCtx=t}return l(e,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,n=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&0===n.length&&(n=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var i=this.getxAxisTimeScaleLabelsCoords();e={width:i.width,height:i.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==t.config.legend.position&&"right"!==t.config.legend.position||t.config.legend.floating?0:this.dCtx.lgRect.width;var r=t.globals.xLabelFormatter,a=E.getLargestStringFromArr(n),s=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,n);t.globals.isBarHorizontal&&(s=a=t.globals.yAxisScale[0].result.reduce(function(e,t){return e.length>t.length?e:t},0));var o=new I(this.dCtx.ctx),l=a;a=o.xLabelFormat(r,a,l,{i:void 0,dateFormatter:new R(this.dCtx.ctx).formatDate,w:t}),s=o.xLabelFormat(r,s,l,{i:void 0,dateFormatter:new R(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&void 0===a||""===String(a).trim())&&(s=a="1");var c=new T(this.dCtx.ctx),d=c.getTextRects(a,t.config.xaxis.labels.style.fontSize),u=d;if(a!==s&&(u=c.getTextRects(s,t.config.xaxis.labels.style.fontSize)),(e={width:d.width>=u.width?d.width:u.width,height:d.height>=u.height?d.height:u.height}).width*n.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==t.config.xaxis.labels.rotate||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var h=function(e){return c.getTextRects(e,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};d=h(a),a!==s&&(u=h(s)),e.height=(d.height>u.height?d.height:u.height)/1.5,e.width=d.width>u.width?d.width:u.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var n,i=(null===(e=t.config.xaxis.group.style)||void 0===e?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,r=t.globals.groups.map(function(e){return e.title}),a=E.getLargestStringFromArr(r),s=this.dCtx.dimHelpers.getLargestStringFromMultiArr(a,r),o=new T(this.dCtx.ctx),l=o.getTextRects(a,i),c=l;return a!==s&&(c=o.getTextRects(s,i)),n={width:l.width>=c.width?l.width:c.width,height:l.height>=c.height?l.height:c.height},t.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,n=0;if(void 0!==e.config.xaxis.title.text){var i=new T(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=i.width,n=i.height}return{width:t,height:n}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var n=this.dCtx.timescaleLabels.map(function(e){return e.value}),i=n.reduce(function(e,t){return void 0===e?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):e.length>t.length?e:t},0);return 1.05*(e=new T(this.dCtx.ctx).getTextRects(i,t.config.xaxis.labels.style.fontSize)).width*n.length>t.globals.gridWidth&&0!==t.config.xaxis.labels.rotate&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,n=this.w,i=n.globals,r=n.config,a=r.xaxis.type,s=e.width;i.skipLastTimelinelabel=!1,i.skipFirstTimelinelabel=!1;var o=n.config.yaxis[0].opposite&&n.globals.isBarHorizontal,l=function(e,o){r.yaxis.length>1&&function(e){return-1!==i.collapsedSeriesIndices.indexOf(e)}(o)||function(e){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var o=t.dCtx.timescaleLabels[0],l=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+s/1.75-t.dCtx.yAxisWidthRight,c=o.position-s/1.75+t.dCtx.yAxisWidthLeft,d="right"===n.config.legend.position&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;l>i.svgWidth-i.translateX-d&&(i.skipLastTimelinelabel=!0),c<-(e.show&&!e.floating||"bar"!==r.chart.type&&"candlestick"!==r.chart.type&&"rangeBar"!==r.chart.type&&"boxPlot"!==r.chart.type?10:s/1.75)&&(i.skipFirstTimelinelabel=!0)}else"datetime"===a?t.dCtx.gridPad.right<s&&!i.rotateXLabels&&(i.skipLastTimelinelabel=!0):"datetime"!==a&&t.dCtx.gridPad.right<s/2-t.dCtx.yAxisWidthRight&&!i.rotateXLabels&&!n.config.xaxis.labels.trim&&(t.dCtx.xPadRight=s/2+1)}(e)};r.yaxis.forEach(function(e,n){o?(t.dCtx.gridPad.left<s&&(t.dCtx.xPadLeft=s/2+1),t.dCtx.xPadRight=s/2+1):l(e,n)})}}]),e}(),he=function(){function e(t){s(this,e),this.w=t.w,this.dCtx=t}return l(e,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,n=[],i=10,r=new O(this.dCtx.ctx);return t.config.yaxis.map(function(a,s){var o={seriesIndex:s,dataPointIndex:-1,w:t},l=t.globals.yAxisScale[s],c=0;if(!r.isYAxisHidden(s)&&a.labels.show&&void 0!==a.labels.minWidth&&(c=a.labels.minWidth),!r.isYAxisHidden(s)&&a.labels.show&&l.result.length){var d=t.globals.yLabelFormatters[s],u=l.niceMin===Number.MIN_VALUE?0:l.niceMin,h=l.result.reduce(function(e,t){var n,i;return(null===(n=String(d(e,o)))||void 0===n?void 0:n.length)>(null===(i=String(d(t,o)))||void 0===i?void 0:i.length)?e:t},u),p=h=d(h,o);if(void 0!==h&&0!==h.length||(h=l.niceMax),t.globals.isBarHorizontal){i=0;var m=t.globals.labels.slice();h=E.getLargestStringFromArr(m),h=d(h,{seriesIndex:s,dataPointIndex:-1,w:t}),p=e.dCtx.dimHelpers.getLargestStringFromMultiArr(h,m)}var f=new T(e.dCtx.ctx),g="rotate(".concat(a.labels.rotate," 0 0)"),_=f.getTextRects(h,a.labels.style.fontSize,a.labels.style.fontFamily,g,!1),v=_;h!==p&&(v=f.getTextRects(p,a.labels.style.fontSize,a.labels.style.fontFamily,g,!1)),n.push({width:(c>v.width||c>_.width?c:v.width>_.width?v.width:_.width)+i,height:v.height>_.height?v.height:_.height})}else n.push({width:0,height:0})}),n}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,n=[];return t.config.yaxis.map(function(t,i){if(t.show&&void 0!==t.title.text){var r=new T(e.dCtx.ctx),a="rotate(".concat(t.title.rotate," 0 0)"),s=r.getTextRects(t.title.text,t.title.style.fontSize,t.title.style.fontFamily,a,!1);n.push({width:s.width,height:s.height})}else n.push({width:0,height:0})}),n}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,n=0,i=0,r=e.globals.yAxisScale.length>1?10:0,a=new O(this.dCtx.ctx),s=function(s,o){var l=e.config.yaxis[o].floating,c=0;s.width>0&&!l?(c=s.width+r,function(t){return e.globals.ignoreYAxisIndexes.indexOf(t)>-1}(o)&&(c=c-s.width-r)):c=l||a.isYAxisHidden(o)?0:5,e.config.yaxis[o].opposite?i+=c:n+=c,t+=c};return e.globals.yLabelsCoords.map(function(e,t){s(e,t)}),e.globals.yTitleCoords.map(function(e,t){s(e,t)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=n,this.dCtx.yAxisWidthRight=i,t}}]),e}(),pe=function(){function e(t){s(this,e),this.w=t.w,this.dCtx=t}return l(e,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,n=t.config,i=t.globals;if(i.noData||i.collapsedSeries.length+i.ancillaryCollapsedSeries.length===n.series.length)return 0;var r=function(e){return["bar","rangeBar","candlestick","boxPlot"].includes(e)},a=n.chart.type,s=0,o=r(a)?n.series.length:1;i.comboBarCount>0&&(o=i.comboBarCount),i.collapsedSeries.forEach(function(e){r(e.type)&&(o-=1)}),n.chart.stacked&&(o=1);var l=r(a)||i.comboBarCount>0,c=Math.abs(i.initialMaxX-i.initialMinX);if(l&&i.isXNumeric&&!i.isBarHorizontal&&o>0&&0!==c){c<=3&&(c=i.dataPoints);var d=c/e,u=i.minXDiff&&i.minXDiff/d>0?i.minXDiff/d:0;u>e/2&&(u/=2),(s=u*parseInt(n.plotOptions.bar.columnWidth,10)/100)<1&&(s=1),i.barPadForNumericAxis=s}return s}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,n=t.globals,i=this.dCtx.isSparkline||!n.axisCharts?0:10;["title","subtitle"].forEach(function(r){void 0!==t.config[r].text?i+=t.config[r].margin:i+=e.dCtx.isSparkline||!n.axisCharts?0:5}),!t.config.legend.show||"bottom"!==t.config.legend.position||t.config.legend.floating||n.axisCharts||(i+=10);var r=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),a=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");n.gridHeight-=r.height+a.height+i,n.translateY+=r.height+a.height+i}},{key:"setGridXPosForDualYAxis",value:function(e,t){var n=this.w,i=new O(this.dCtx.ctx);n.config.yaxis.forEach(function(r,a){-1!==n.globals.ignoreYAxisIndexes.indexOf(a)||r.floating||i.isYAxisHidden(a)||(r.opposite&&(n.globals.translateX-=t[a].width+e[a].width+parseInt(r.labels.style.fontSize,10)/1.2+12),n.globals.translateX<2&&(n.globals.translateX=2))})}}]),e}(),me=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new de(this),this.dimYAxis=new he(this),this.dimXAxis=new ue(this),this.dimGrid=new pe(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return l(e,[{key:"plotCoords",value:function(){var e=this,t=this.w,n=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var i=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,b(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(t){var n=v(t,2),i=n[0],r=n[1];e.gridPad[i]=Math.max(r,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(i/2,this.gridPad.top),this.gridPad.bottom=Math.max(i/2,this.gridPad.bottom)),n.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),n.gridHeight=n.gridHeight-this.gridPad.top-this.gridPad.bottom,n.gridWidth=n.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var r=this.dimGrid.gridPadForColumnsInNumericAxis(n.gridWidth);n.gridWidth=n.gridWidth-2*r,n.translateX=n.translateX+this.gridPad.left+this.xPadLeft+(r>0?r:0),n.translateY=n.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,n=t.globals,i=this.dimYAxis.getyAxisLabelsCoords(),r=this.dimYAxis.getyAxisTitleCoords();n.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(e,n){t.globals.yLabelsCoords.push({width:i[n].width,index:n}),t.globals.yTitleCoords.push({width:r[n].width,index:n})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var a=this.dimXAxis.getxAxisLabelsCoords(),s=this.dimXAxis.getxAxisGroupLabelsCoords(),o=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(a,o,s),n.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,n.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(n.rotateXLabels=!1,n.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),n.translateXAxisY=n.translateXAxisY+t.config.xaxis.labels.offsetY,n.translateXAxisX=n.translateXAxisX+t.config.xaxis.labels.offsetX;var l=this.yAxisWidth,c=this.xAxisHeight;n.xAxisLabelsHeight=this.xAxisHeight-o.height,n.xAxisGroupLabelsHeight=n.xAxisLabelsHeight-a.height,n.xAxisLabelsWidth=this.xAxisWidth,n.xAxisHeight=this.xAxisHeight;var d=10;("radar"===t.config.chart.type||this.isSparkline)&&(l=0,c=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===t.config.chart.type)&&(l=0,c=0,d=0),this.isSparkline||"treemap"===t.config.chart.type||this.dimXAxis.additionalPaddingXLabels(a);var u=function(){n.translateX=l+e.datalabelsCoords.width,n.gridHeight=n.svgHeight-e.lgRect.height-c-(e.isSparkline||"treemap"===t.config.chart.type?0:t.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-l-2*e.datalabelsCoords.width};switch("top"===t.config.xaxis.position&&(d=n.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":n.translateY=d,u();break;case"top":n.translateY=this.lgRect.height+d,u();break;case"left":n.translateY=d,n.translateX=this.lgRect.width+l+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-c-12,n.gridWidth=n.svgWidth-this.lgRect.width-l-2*this.datalabelsCoords.width;break;case"right":n.translateY=d,n.translateX=l+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-c-12,n.gridWidth=n.svgWidth-this.lgRect.width-l-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(r,i),new ne(this.ctx).setYAxisXPosition(i,r)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=e.config,i=0;e.config.legend.show&&!e.config.legend.floating&&(i=20);var r="pie"===n.chart.type||"polarArea"===n.chart.type||"donut"===n.chart.type?"pie":"radialBar",a=n.plotOptions[r].offsetY,s=n.plotOptions[r].offsetX;if(!n.legend.show||n.legend.floating){t.gridHeight=t.svgHeight;var o=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(o,t.gridHeight),t.translateY=a,void(t.translateX=s+(t.svgWidth-t.gridWidth)/2)}switch(n.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=a-10,t.translateX=s+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+a+10,t.translateX=s+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-i,t.gridHeight="auto"!==n.chart.height?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=s+this.lgRect.width+i;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-i-5,t.gridHeight="auto"!==n.chart.height?t.svgHeight:t.gridWidth,t.translateY=a,t.translateX=s+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,n){var i=this.w,r=i.globals.hasXaxisGroups?2:1,a=n.height+e.height+t.height,s=i.globals.isMultiLineX?1.2:i.globals.LINE_HEIGHT_RATIO,o=i.globals.rotateXLabels?22:10,l=i.globals.rotateXLabels&&"bottom"===i.config.legend.position?10:0;this.xAxisHeight=a*s+r*o+l,this.xAxisWidth=e.width,this.xAxisHeight-t.height>i.config.xaxis.labels.maxHeight&&(this.xAxisHeight=i.config.xaxis.labels.maxHeight),i.config.xaxis.labels.minHeight&&this.xAxisHeight<i.config.xaxis.labels.minHeight&&(this.xAxisHeight=i.config.xaxis.labels.minHeight),i.config.xaxis.floating&&(this.xAxisHeight=0);var c=0,d=0;i.config.yaxis.forEach(function(e){c+=e.labels.minWidth,d+=e.labels.maxWidth}),this.yAxisWidth<c&&(this.yAxisWidth=c),this.yAxisWidth>d&&(this.yAxisWidth=d)}}]),e}(),fe=function(){function e(t){s(this,e),this.w=t.w,this.lgCtx=t}return l(e,[{key:"getLegendStyles",value:function(){var e,t,n,i=document.createElement("style");i.setAttribute("type","text/css");var r=(null===(e=this.lgCtx.ctx)||void 0===e||null===(t=e.opts)||void 0===t||null===(n=t.chart)||void 0===n?void 0:n.nonce)||this.w.config.chart.nonce;r&&i.setAttribute("nonce",r);var a=document.createTextNode("\n      .apexcharts-flip-y {\n        transform: scaleY(-1) translateY(-100%);\n        transform-origin: top;\n        transform-box: fill-box;\n      }\n      .apexcharts-flip-x {\n        transform: scaleX(-1);\n        transform-origin: center;\n        transform-box: fill-box;\n      }\n      .apexcharts-legend {\n        display: flex;\n        overflow: auto;\n        padding: 0 10px;\n      }\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\n        flex-wrap: wrap\n      }\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\n        flex-direction: column;\n        bottom: 0;\n      }\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\n        justify-content: flex-start;\n      }\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\n        justify-content: center;\n      }\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\n        justify-content: flex-end;\n      }\n      .apexcharts-legend-series {\n        cursor: pointer;\n        line-height: normal;\n        display: flex;\n        align-items: center;\n      }\n      .apexcharts-legend-text {\n        position: relative;\n        font-size: 14px;\n      }\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\n        pointer-events: none;\n      }\n      .apexcharts-legend-marker {\n        position: relative;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        margin-right: 1px;\n      }\n\n      .apexcharts-legend-series.apexcharts-no-click {\n        cursor: auto;\n      }\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\n        display: none !important;\n      }\n      .apexcharts-inactive-legend {\n        opacity: 0.45;\n      }");return i.appendChild(a),i}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var n=this,i=this.w;if(i.globals.axisCharts||"radialBar"===i.config.chart.type){i.globals.resized=!0;var r=null,a=null;i.globals.risingSeries=[],i.globals.axisCharts?(r=i.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),a=parseInt(r.getAttribute("data:realIndex"),10)):(r=i.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),a=parseInt(r.getAttribute("rel"),10)-1),t?[{cs:i.globals.collapsedSeries,csi:i.globals.collapsedSeriesIndices},{cs:i.globals.ancillaryCollapsedSeries,csi:i.globals.ancillaryCollapsedSeriesIndices}].forEach(function(e){n.riseCollapsedSeries(e.cs,e.csi,a)}):this.hideSeries({seriesEl:r,realIndex:a})}else{var s=i.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(e+1,"'] path")),o=i.config.chart.type;if("pie"===o||"polarArea"===o||"donut"===o){var l=i.config.plotOptions.pie.donut.labels;new T(this.lgCtx.ctx).pathMouseDown(s.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(s.members[0].node,l)}s.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,n=this.w,i=n.globals,r=E.clone(n.config.series);if(i.axisCharts){var a=n.config.yaxis[i.seriesYAxisReverseMap[t]],s={index:t,data:r[t].data.slice(),type:r[t].type||n.config.chart.type};if(a&&a.show&&a.showAlways)i.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(i.ancillaryCollapsedSeries.push(s),i.ancillaryCollapsedSeriesIndices.push(t));else if(i.collapsedSeriesIndices.indexOf(t)<0){i.collapsedSeries.push(s),i.collapsedSeriesIndices.push(t);var o=i.risingSeries.indexOf(t);i.risingSeries.splice(o,1)}}else i.collapsedSeries.push({index:t,data:r[t]}),i.collapsedSeriesIndices.push(t);return i.allSeriesCollapsed=i.collapsedSeries.length+i.ancillaryCollapsedSeries.length===n.config.series.length,this._getSeriesBasedOnCollapsedState(r)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,n=e.realIndex,i=this.w,r=this.getSeriesAfterCollapsing({realIndex:n}),a=t.childNodes,s=0;s<a.length;s++)a[s].classList.contains("apexcharts-series-markers-wrap")&&(a[s].classList.contains("apexcharts-hide")?a[s].classList.remove("apexcharts-hide"):a[s].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,n){var i=this.w,r=E.clone(i.config.series);if(e.length>0){for(var a=0;a<e.length;a++)e[a].index===n&&(i.globals.axisCharts?r[n].data=e[a].data.slice():r[n]=e[a].data,r[n].hidden=!1,e.splice(a,1),t.splice(a,1),i.globals.risingSeries.push(n));r=this._getSeriesBasedOnCollapsedState(r),this.lgCtx.ctx.updateHelpers._updateSeries(r,i.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,n=0;return t.globals.axisCharts?e.forEach(function(i,r){t.globals.collapsedSeriesIndices.indexOf(r)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(r)<0||(e[r].data=[],n++)}):e.forEach(function(i,r){!t.globals.collapsedSeriesIndices.indexOf(r)<0&&(e[r]=0,n++)}),t.globals.allSeriesCollapsed=n===e.length,e}}]),e}(),ge=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new fe(this)}return l(e,[{key:"init",value:function(){var e=this.w,t=e.globals,n=e.config,i=n.legend.showForSingleSeries&&1===t.series.length||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(i||!t.axisCharts)&&n.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),"bottom"===n.legend.position||"top"===n.legend.position?this.legendAlignHorizontal():"right"!==n.legend.position&&"left"!==n.legend.position||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,n=e.fillcolor,i=this.w,r=document.createElement("span");r.classList.add("apexcharts-legend-marker");var a=i.config.legend.markers.shape||i.config.markers.shape,s=a;Array.isArray(a)&&(s=a[t]);var o=Array.isArray(i.config.legend.markers.size)?parseFloat(i.config.legend.markers.size[t]):parseFloat(i.config.legend.markers.size),l=Array.isArray(i.config.legend.markers.offsetX)?parseFloat(i.config.legend.markers.offsetX[t]):parseFloat(i.config.legend.markers.offsetX),c=Array.isArray(i.config.legend.markers.offsetY)?parseFloat(i.config.legend.markers.offsetY[t]):parseFloat(i.config.legend.markers.offsetY),d=Array.isArray(i.config.legend.markers.strokeWidth)?parseFloat(i.config.legend.markers.strokeWidth[t]):parseFloat(i.config.legend.markers.strokeWidth),u=r.style;if(u.height=2*(o+d)+"px",u.width=2*(o+d)+"px",u.left=l+"px",u.top=c+"px",i.config.legend.markers.customHTML)u.background="transparent",u.color=n[t],Array.isArray(i.config.legend.markers.customHTML)?i.config.legend.markers.customHTML[t]&&(r.innerHTML=i.config.legend.markers.customHTML[t]()):r.innerHTML=i.config.legend.markers.customHTML();else{var h=new q(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(s),seriesIndex:t,strokeWidth:d,size:o}),p=SVG(r).size("100%","100%"),m=new T(this.ctx).drawMarker(0,0,g(g({},h),{},{pointFillColor:Array.isArray(n)?n[t]:h.pointFillColor,shape:s}));SVG.select(".apexcharts-legend-marker.apexcharts-marker").members.forEach(function(e){e.node.classList.contains("apexcharts-marker-triangle")?e.node.style.transform="translate(50%, 45%)":e.node.style.transform="translate(50%, 50%)"}),p.add(m)}return r}},{key:"drawLegends",value:function(){var e=this,t=this.w,n=t.config.legend.fontFamily,i=t.globals.seriesNames,r=t.config.legend.markers.fillColors?t.config.legend.markers.fillColors.slice():t.globals.colors.slice();if("heatmap"===t.config.chart.type){var a=t.config.plotOptions.heatmap.colorScale.ranges;i=a.map(function(e){return e.name?e.name:e.from+" - "+e.to}),r=a.map(function(e){return e.color})}else this.isBarsDistributed&&(i=t.globals.labels.slice());t.config.legend.customLegendItems.length&&(i=t.config.legend.customLegendItems);for(var s=t.globals.legendFormatter,o=t.config.legend.inverseOrder,l=o?i.length-1:0;o?l>=0:l<=i.length-1;o?l--:l++){var c,d=s(i[l],{seriesIndex:l,w:t}),u=!1,h=!1;if(t.globals.collapsedSeries.length>0)for(var p=0;p<t.globals.collapsedSeries.length;p++)t.globals.collapsedSeries[p].index===l&&(u=!0);if(t.globals.ancillaryCollapsedSeriesIndices.length>0)for(var m=0;m<t.globals.ancillaryCollapsedSeriesIndices.length;m++)t.globals.ancillaryCollapsedSeriesIndices[m]===l&&(h=!0);var f=this.createLegendMarker({i:l,fillcolor:r});T.setAttrs(f,{rel:l+1,"data:collapsed":u||h}),(u||h)&&f.classList.add("apexcharts-inactive-legend");var g=document.createElement("div"),_=document.createElement("span");_.classList.add("apexcharts-legend-text"),_.innerHTML=Array.isArray(d)?d.join(" "):d;var v=t.config.legend.labels.useSeriesColors?t.globals.colors[l]:Array.isArray(t.config.legend.labels.colors)?null===(c=t.config.legend.labels.colors)||void 0===c?void 0:c[l]:t.config.legend.labels.colors;v||(v=t.config.chart.foreColor),_.style.color=v,_.style.fontSize=parseFloat(t.config.legend.fontSize)+"px",_.style.fontWeight=t.config.legend.fontWeight,_.style.fontFamily=n||t.config.chart.fontFamily,T.setAttrs(_,{rel:l+1,i:l,"data:default-text":encodeURIComponent(d),"data:collapsed":u||h}),g.appendChild(f),g.appendChild(_);var b=new N(this.ctx);t.config.legend.showForZeroSeries||0===b.getSeriesTotalByIndex(l)&&b.seriesHaveSameValues(l)&&!b.isSeriesNull(l)&&-1===t.globals.collapsedSeriesIndices.indexOf(l)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&g.classList.add("apexcharts-hidden-zero-series"),t.config.legend.showForNullSeries||b.isSeriesNull(l)&&-1===t.globals.collapsedSeriesIndices.indexOf(l)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(l)&&g.classList.add("apexcharts-hidden-null-series"),t.globals.dom.elLegendWrap.appendChild(g),t.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(t.config.legend.horizontalAlign)),t.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+t.config.legend.position),g.classList.add("apexcharts-legend-series"),g.style.margin="".concat(t.config.legend.itemMargin.vertical,"px ").concat(t.config.legend.itemMargin.horizontal,"px"),t.globals.dom.elLegendWrap.style.width=t.config.legend.width?t.config.legend.width+"px":"",t.globals.dom.elLegendWrap.style.height=t.config.legend.height?t.config.legend.height+"px":"",T.setAttrs(g,{rel:l+1,seriesName:E.escapeString(i[l]),"data:collapsed":u||h}),(u||h)&&g.classList.add("apexcharts-inactive-legend"),t.config.legend.onItemClick.toggleDataSeries||g.classList.add("apexcharts-no-click")}t.globals.dom.elWrap.addEventListener("click",e.onLegendClick,!0),t.config.legend.onItemHover.highlightDataSeries&&0===t.config.legend.customLegendItems.length&&(t.globals.dom.elWrap.addEventListener("mousemove",e.onLegendHovered,!0),t.globals.dom.elWrap.addEventListener("mouseout",e.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var n=this.w,i=n.globals.dom.elLegendWrap,r=i.clientHeight,a=0,s=0;if("bottom"===n.config.legend.position)s=n.globals.svgHeight-Math.min(r,n.globals.svgHeight/2)-5;else if("top"===n.config.legend.position){var o=new me(this.ctx),l=o.dimHelpers.getTitleSubtitleCoords("title").height,c=o.dimHelpers.getTitleSubtitleCoords("subtitle").height;s=(l>0?l-10:0)+(c>0?c-10:0)}i.style.position="absolute",a=a+e+n.config.legend.offsetX,s=s+t+n.config.legend.offsetY,i.style.left=a+"px",i.style.top=s+"px","right"===n.config.legend.position&&(i.style.left="auto",i.style.right=25+n.config.legend.offsetX+"px"),["width","height"].forEach(function(e){i.style[e]&&(i.style[e]=parseInt(n.config.legend[e],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new me(this.ctx),n=t.dimHelpers.getTitleSubtitleCoords("title"),i=t.dimHelpers.getTitleSubtitleCoords("subtitle"),r=0;"top"===e.config.legend.position&&(r=n.height+i.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,r)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),n=0;"left"===e.config.legend.position&&(n=20),"right"===e.config.legend.position&&(n=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(n,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,n=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if("heatmap"===t.config.chart.type||this.isBarsDistributed){if(n){var i=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,i,this.w]),new K(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&n&&new K(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var n=parseInt(e.target.getAttribute("rel"),10)-1,i="true"===e.target.getAttribute("data:collapsed"),r=this.w.config.chart.events.legendClick;"function"==typeof r&&r(this.ctx,n,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,n,this.w]);var a=this.w.config.legend.markers.onClick;"function"==typeof a&&e.target.classList.contains("apexcharts-legend-marker")&&(a(this.ctx,n,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,n,this.w])),"treemap"!==t.config.chart.type&&"heatmap"!==t.config.chart.type&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(n,i)}}}]),e}(),_e=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=n.globals.minX,this.maxX=n.globals.maxX}return l(e,[{key:"createToolbar",value:function(){var e=this,t=this.w,n=function(){return document.createElement("div")},i=n();if(i.setAttribute("class","apexcharts-toolbar"),i.style.top=t.config.chart.toolbar.offsetY+"px",i.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(i),this.elZoom=n(),this.elZoomIn=n(),this.elZoomOut=n(),this.elPan=n(),this.elSelection=n(),this.elZoomReset=n(),this.elMenuIcon=n(),this.elMenu=n(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var r=0;r<this.t.customIcons.length;r++)this.elCustomIcons.push(n());var a=[],s=function(n,i,r){var s=n.toLowerCase();e.t[s]&&t.config.chart.zoom.enabled&&a.push({el:i,icon:"string"==typeof e.t[s]?e.t[s]:r,title:e.localeValues[n],class:"apexcharts-".concat(s,"-icon")})};s("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),s("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var o=function(n){e.t[n]&&t.config.chart[n].enabled&&a.push({el:"zoom"===n?e.elZoom:e.elSelection,icon:"string"==typeof e.t[n]?e.t[n]:"zoom"===n?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:e.localeValues["zoom"===n?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(n,"-icon")})};o("zoom"),o("selection"),this.t.pan&&t.config.chart.zoom.enabled&&a.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),s("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&a.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var l=0;l<this.elCustomIcons.length;l++)a.push({el:this.elCustomIcons[l],icon:this.t.customIcons[l].icon,title:this.t.customIcons[l].title,index:this.t.customIcons[l].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[l].class});a.forEach(function(e,t){e.index&&E.moveIndexInArray(a,t,e.index)});for(var c=0;c<a.length;c++)T.setAttrs(a[c].el,{class:a[c].class,title:a[c].title}),a[c].el.innerHTML=a[c].icon,i.appendChild(a[c].el);this._createHamburgerMenu(i),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),T.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],n=0;n<t.length;n++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[n].innerHTML=t[n].title,T.setAttrs(this.elMenuItems[n],{class:"apexcharts-menu-item ".concat(t[n].name),title:t[n].title}),this.elMenu.appendChild(this.elMenuItems[n])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(t){t.classList.contains("exportSVG")?t.addEventListener("click",e.handleDownload.bind(e,"svg")):t.classList.contains("exportPNG")?t.addEventListener("click",e.handleDownload.bind(e,"png")):t.classList.contains("exportCSV")&&t.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var n="selection"===e?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,i="selection"===e?"selectionEnabled":"zoomEnabled";t.w.globals[i]=!t.w.globals[i],n.classList.contains(t.ctx.toolbar.selectedClass)?n.classList.remove(t.ctx.toolbar.selectedClass):n.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),"pan"===e?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t="pan"===e?this.elPan:this.elZoom,n="pan"===e?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),n&&n.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(t){t&&t.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,n=(this.minX+t)/2,i=(this.maxX+t)/2,r=this._getNewMinXMaxX(n,i);e.globals.disableZoomIn||this.zoomUpdateOptions(r.minX,r.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!("datetime"===e.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,n=this.minX-(t-this.minX),i=this.maxX-(t-this.maxX),r=this._getNewMinXMaxX(n,i);e.globals.disableZoomOut||this.zoomUpdateOptions(r.minX,r.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var n=this.w.config.xaxis.convertedCatToNumeric;return{minX:n?Math.floor(e):e,maxX:n?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var n=this.w;if(void 0!==e||void 0!==t){if(!(n.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=n.globals.dataPoints),t-e<2))){var i={min:e,max:t},r=this.getBeforeZoomRange(i);r&&(i=r.xaxis);var a={xaxis:i},s=E.clone(n.globals.initialConfig.yaxis);n.config.chart.group||(a.yaxis=s),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(a,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(i,s)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t})}},{key:"getBeforeZoomRange",value:function(e,t){var n=null;return"function"==typeof this.ev.beforeZoom&&(n=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),n}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,n=new Z(this.ctx);switch(e){case"svg":n.exportToSVG(this.ctx);break;case"png":n.exportToPng(this.ctx);break;case"csv":n.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(e){var t=e.w;if(t.globals.lastXAxis.min=t.globals.initialConfig.xaxis.min,t.globals.lastXAxis.max=t.globals.initialConfig.xaxis.max,e.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof t.config.chart.events.beforeResetZoom){var n=t.config.chart.events.beforeResetZoom(e,t);n&&e.updateHelpers.revertDefaultAxisMinMax(n)}"function"==typeof t.config.chart.events.zoomed&&e.ctx.toolbar.zoomCallback({min:t.config.xaxis.min,max:t.config.xaxis.max}),t.globals.zoomed=!1;var i=e.ctx.series.emptyCollapsedSeries(E.clone(t.globals.initialSeries));e.updateHelpers._updateSeries(i,t.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),e}(),ve=function(){p(t,_e);var e=d(t);function t(n){var i;return s(this,t),(i=e.call(this,n)).ctx=n,i.w=n.w,i.dragged=!1,i.graphics=new T(i.ctx),i.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],i.clientX=0,i.clientY=0,i.startX=0,i.endX=0,i.dragX=0,i.startY=0,i.endY=0,i.dragY=0,i.moveDirection="none",i.debounceTimer=null,i.debounceDelay=100,i.wheelDelay=400,i}return l(t,[{key:"init",value:function(e){var t=this,n=e.xyRatios,i=this.w,r=this;this.xyRatios=n,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=i.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),i.globals.dom.elGraphical.add(this.zoomRect),i.globals.dom.elGraphical.add(this.selectionRect),"x"===i.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:i.globals.gridWidth,maxY:i.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===i.config.chart.selection.type?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:i.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=i.globals.dom.baseEl.querySelector("".concat(i.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(e){t.hoverArea.addEventListener(e,r.svgMouseEvents.bind(r,n),{capture:!1,passive:!0})}),i.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",r.mouseWheelEvent.bind(r),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(e,t){var n=this.w,i=this,r=this.ctx.toolbar,a=n.globals.zoomEnabled?n.config.chart.zoom.type:n.config.chart.selection.type,s=n.config.chart.toolbar.autoSelected;if(t.shiftKey?(this.shiftWasPressed=!0,r.enableZoomPanFromToolbar("pan"===s?"zoom":"pan")):this.shiftWasPressed&&(r.enableZoomPanFromToolbar(s),this.shiftWasPressed=!1),t.target){var o,l=t.target.classList;if(t.target.parentNode&&null!==t.target.parentNode&&(o=t.target.parentNode.classList),!(l.contains("apexcharts-selection-rect")||l.contains("apexcharts-legend-marker")||l.contains("apexcharts-legend-text")||o&&o.contains("apexcharts-toolbar"))){if(i.clientX="touchmove"===t.type||"touchstart"===t.type?t.touches[0].clientX:"touchend"===t.type?t.changedTouches[0].clientX:t.clientX,i.clientY="touchmove"===t.type||"touchstart"===t.type?t.touches[0].clientY:"touchend"===t.type?t.changedTouches[0].clientY:t.clientY,"mousedown"===t.type&&1===t.which){var c=i.gridRect.getBoundingClientRect();i.startX=i.clientX-c.left,i.startY=i.clientY-c.top,i.dragged=!1,i.w.globals.mousedown=!0}if(("mousemove"===t.type&&1===t.which||"touchmove"===t.type)&&(i.dragged=!0,n.globals.panEnabled?(n.globals.selection=null,i.w.globals.mousedown&&i.panDragging({context:i,zoomtype:a,xyRatios:e})):(i.w.globals.mousedown&&n.globals.zoomEnabled||i.w.globals.mousedown&&n.globals.selectionEnabled)&&(i.selection=i.selectionDrawing({context:i,zoomtype:a}))),"mouseup"===t.type||"touchend"===t.type||"mouseleave"===t.type){var d,u=null===(d=i.gridRect)||void 0===d?void 0:d.getBoundingClientRect();u&&i.w.globals.mousedown&&(i.endX=i.clientX-u.left,i.endY=i.clientY-u.top,i.dragX=Math.abs(i.endX-i.startX),i.dragY=Math.abs(i.endY-i.startY),(n.globals.zoomEnabled||n.globals.selectionEnabled)&&i.selectionDrawn({context:i,zoomtype:a}),n.globals.panEnabled&&n.config.xaxis.convertedCatToNumeric&&i.delayedPanScrolled()),n.globals.zoomEnabled&&i.hideSelectionRect(this.selectionRect),i.dragged=!1,i.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"mouseWheelEvent",value:function(e){var t=this,n=this.w;e.preventDefault();var i=Date.now();i-n.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(e),n.globals.lastWheelExecution=i),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){i-n.globals.lastWheelExecution>t.wheelDelay&&(t.executeMouseWheelZoom(e),n.globals.lastWheelExecution=i)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(e){var t,n=this.w;this.minX=n.globals.isRangeBar?n.globals.minY:n.globals.minX,this.maxX=n.globals.isRangeBar?n.globals.maxY:n.globals.maxX;var i=null===(t=this.gridRect)||void 0===t?void 0:t.getBoundingClientRect();if(i){var r,a,s,o=(e.clientX-i.left)/i.width,l=this.minX,c=this.maxX,d=c-l;if(e.deltaY<0){var u=l+o*d;a=u-(r=.5*d)/2,s=u+r/2}else a=l-(r=1.5*d)/2,s=c+r/2;if(!n.globals.isRangeBar){a=Math.max(a,n.globals.initialMinX),s=Math.min(s,n.globals.initialMaxX);var h=.01*(n.globals.initialMaxX-n.globals.initialMinX);if(s-a<h){var p=(a+s)/2;a=p-h/2,s=p+h/2}}var m=this._getNewMinXMaxX(a,s);isNaN(m.minX)||isNaN(m.maxX)||this.zoomUpdateOptions(m.minX,m.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var e=this.w;if(this.selectionRect){var t=this.selectionRect.node.getBoundingClientRect();t.width>0&&t.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:e.globals.gridWidth,maxY:e.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var e=this.w,t=this.xyRatios;if(!e.globals.zoomEnabled)if(void 0!==e.globals.selection&&null!==e.globals.selection)this.drawSelectionRect(e.globals.selection);else if(void 0!==e.config.chart.selection.xaxis.min&&void 0!==e.config.chart.selection.xaxis.max){var n=(e.config.chart.selection.xaxis.min-e.globals.minX)/t.xRatio,i=e.globals.gridWidth-(e.globals.maxX-e.config.chart.selection.xaxis.max)/t.xRatio-n;e.globals.isRangeBar&&(n=(e.config.chart.selection.xaxis.min-e.globals.yAxisScale[0].niceMin)/t.invertedYRatio,i=(e.config.chart.selection.xaxis.max-e.config.chart.selection.xaxis.min)/t.invertedYRatio);var r={x:n,y:0,width:i,height:e.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0};this.drawSelectionRect(r),this.makeSelectionRectDraggable(),"function"==typeof e.config.chart.events.selection&&e.config.chart.events.selection(this.ctx,{xaxis:{min:e.config.chart.selection.xaxis.min,max:e.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(e){var t=e.x,n=e.y,i=e.width,r=e.height,a=e.translateX,s=void 0===a?0:a,o=e.translateY,l=void 0===o?0:o,c=this.w,d=this.zoomRect,u=this.selectionRect;if(this.dragged||null!==c.globals.selection){var h={transform:"translate("+s+", "+l+")"};c.globals.zoomEnabled&&this.dragged&&(i<0&&(i=1),d.attr({x:t,y:n,width:i,height:r,fill:c.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":c.config.chart.zoom.zoomedArea.fill.opacity,stroke:c.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":c.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":c.config.chart.zoom.zoomedArea.stroke.opacity}),T.setAttrs(d.node,h)),c.globals.selectionEnabled&&(u.attr({x:t,y:n,width:i>0?i:0,height:r>0?r:0,fill:c.config.chart.selection.fill.color,"fill-opacity":c.config.chart.selection.fill.opacity,stroke:c.config.chart.selection.stroke.color,"stroke-width":c.config.chart.selection.stroke.width,"stroke-dasharray":c.config.chart.selection.stroke.dashArray,"stroke-opacity":c.config.chart.selection.stroke.opacity}),T.setAttrs(u.node,h))}}},{key:"hideSelectionRect",value:function(e){e&&e.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(e){var t,n=e.context,i=e.zoomtype,r=this.w,a=n,s=this.gridRect.getBoundingClientRect(),o=a.startX-1,l=a.startY,c=!1,d=!1,u=a.clientX-s.left-o,h=a.clientY-s.top-l;return Math.abs(u+o)>r.globals.gridWidth?u=r.globals.gridWidth-o:a.clientX-s.left<0&&(u=o),o>a.clientX-s.left&&(c=!0,u=Math.abs(u)),l>a.clientY-s.top&&(d=!0,h=Math.abs(h)),t="x"===i?{x:c?o-u:o,y:0,width:u,height:r.globals.gridHeight}:"y"===i?{x:0,y:d?l-h:l,width:r.globals.gridWidth,height:h}:{x:c?o-u:o,y:d?l-h:l,width:u,height:h},a.drawSelectionRect(t),a.selectionDragging("resizing"),t}},{key:"selectionDragging",value:function(e,t){var n=this,i=this.w,r=this.xyRatios,a=this.selectionRect,s=0;"resizing"===e&&(s=30);var o=function(e){return parseFloat(a.node.getAttribute(e))},l={x:o("x"),y:o("y"),width:o("width"),height:o("height")};i.globals.selection=l,"function"==typeof i.config.chart.events.selection&&i.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var e,t,s,o,l=n.gridRect.getBoundingClientRect(),c=a.node.getBoundingClientRect();i.globals.isRangeBar?(e=i.globals.yAxisScale[0].niceMin+(c.left-l.left)*r.invertedYRatio,t=i.globals.yAxisScale[0].niceMin+(c.right-l.left)*r.invertedYRatio,s=0,o=1):(e=i.globals.xAxisScale.niceMin+(c.left-l.left)*r.xRatio,t=i.globals.xAxisScale.niceMin+(c.right-l.left)*r.xRatio,s=i.globals.yAxisScale[0].niceMin+(l.bottom-c.bottom)*r.yRatio[0],o=i.globals.yAxisScale[0].niceMax-(c.top-l.top)*r.yRatio[0]);var d={xaxis:{min:e,max:t},yaxis:{min:s,max:o}};i.config.chart.events.selection(n.ctx,d),i.config.chart.brush.enabled&&void 0!==i.config.chart.events.brushScrolled&&i.config.chart.events.brushScrolled(n.ctx,d)},s))}},{key:"selectionDrawn",value:function(e){var t=e.context,n=e.zoomtype,i=this.w,r=t,a=this.xyRatios,s=this.ctx.toolbar;if(r.startX>r.endX){var o=r.startX;r.startX=r.endX,r.endX=o}if(r.startY>r.endY){var l=r.startY;r.startY=r.endY,r.endY=l}var c=void 0,d=void 0;i.globals.isRangeBar?(c=i.globals.yAxisScale[0].niceMin+r.startX*a.invertedYRatio,d=i.globals.yAxisScale[0].niceMin+r.endX*a.invertedYRatio):(c=i.globals.xAxisScale.niceMin+r.startX*a.xRatio,d=i.globals.xAxisScale.niceMin+r.endX*a.xRatio);var u=[],h=[];if(i.config.yaxis.forEach(function(e,t){var n=i.globals.seriesYAxisMap[t][0];u.push(i.globals.yAxisScale[t].niceMax-a.yRatio[n]*r.startY),h.push(i.globals.yAxisScale[t].niceMax-a.yRatio[n]*r.endY)}),r.dragged&&(r.dragX>10||r.dragY>10)&&c!==d)if(i.globals.zoomEnabled){var p=E.clone(i.globals.initialConfig.yaxis),m=E.clone(i.globals.initialConfig.xaxis);if(i.globals.zoomed=!0,i.config.xaxis.convertedCatToNumeric&&(c=Math.floor(c),d=Math.floor(d),c<1&&(c=1,d=i.globals.dataPoints),d-c<2&&(d=c+1)),"xy"!==n&&"x"!==n||(m={min:c,max:d}),"xy"!==n&&"y"!==n||p.forEach(function(e,t){p[t].min=h[t],p[t].max=u[t]}),s){var f=s.getBeforeZoomRange(m,p);f&&(m=f.xaxis?f.xaxis:m,p=f.yaxis?f.yaxis:p)}var g={xaxis:m};i.config.chart.group||(g.yaxis=p),r.ctx.updateHelpers._updateOptions(g,!1,r.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof i.config.chart.events.zoomed&&s.zoomCallback(m,p)}else if(i.globals.selectionEnabled){var _,v=null;_={min:c,max:d},"xy"!==n&&"y"!==n||(v=E.clone(i.config.yaxis)).forEach(function(e,t){v[t].min=h[t],v[t].max=u[t]}),i.globals.selection=r.selection,"function"==typeof i.config.chart.events.selection&&i.config.chart.events.selection(r.ctx,{xaxis:_,yaxis:v})}}},{key:"panDragging",value:function(e){var t=e.context,n=this.w,i=t;if(void 0!==n.globals.lastClientPosition.x){var r=n.globals.lastClientPosition.x-i.clientX,a=n.globals.lastClientPosition.y-i.clientY;Math.abs(r)>Math.abs(a)&&r>0?this.moveDirection="left":Math.abs(r)>Math.abs(a)&&r<0?this.moveDirection="right":Math.abs(a)>Math.abs(r)&&a>0?this.moveDirection="up":Math.abs(a)>Math.abs(r)&&a<0&&(this.moveDirection="down")}n.globals.lastClientPosition={x:i.clientX,y:i.clientY};var s=n.globals.isRangeBar?n.globals.minY:n.globals.minX,o=n.globals.isRangeBar?n.globals.maxY:n.globals.maxX;n.config.xaxis.convertedCatToNumeric||i.panScrolled(s,o)}},{key:"delayedPanScrolled",value:function(){var e=this.w,t=e.globals.minX,n=e.globals.maxX,i=(e.globals.maxX-e.globals.minX)/2;"left"===this.moveDirection?(t=e.globals.minX+i,n=e.globals.maxX+i):"right"===this.moveDirection&&(t=e.globals.minX-i,n=e.globals.maxX-i),t=Math.floor(t),n=Math.floor(n),this.updateScrolledChart({xaxis:{min:t,max:n}},t,n)}},{key:"panScrolled",value:function(e,t){var n=this.w,i=this.xyRatios,r=E.clone(n.globals.initialConfig.yaxis),a=i.xRatio,s=n.globals.minX,o=n.globals.maxX;n.globals.isRangeBar&&(a=i.invertedYRatio,s=n.globals.minY,o=n.globals.maxY),"left"===this.moveDirection?(e=s+n.globals.gridWidth/15*a,t=o+n.globals.gridWidth/15*a):"right"===this.moveDirection&&(e=s-n.globals.gridWidth/15*a,t=o-n.globals.gridWidth/15*a),n.globals.isRangeBar||(e<n.globals.initialMinX||t>n.globals.initialMaxX)&&(e=s,t=o);var l={xaxis:{min:e,max:t}};n.config.chart.group||(l.yaxis=r),this.updateScrolledChart(l,e,t)}},{key:"updateScrolledChart",value:function(e,t,n){var i=this.w;this.ctx.updateHelpers._updateOptions(e,!1,!1),"function"==typeof i.config.chart.events.scrolled&&i.config.chart.events.scrolled(this.ctx,{xaxis:{min:t,max:n}})}}]),t}(),be=function(){function e(t){s(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx}return l(e,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,n=e.elGrid,i=e.clientX,r=e.clientY,a=this.w,s=n.getBoundingClientRect(),o=s.width,l=s.height,c=o/(a.globals.dataPoints-1),d=l/a.globals.dataPoints,u=this.hasBars();!a.globals.comboCharts&&!u||a.config.xaxis.convertedCatToNumeric||(c=o/a.globals.dataPoints);var h=i-s.left-a.globals.barPadForNumericAxis,p=r-s.top;h<0||p<0||h>o||p>l?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):a.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):a.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var m=Math.round(h/c),f=Math.floor(p/d);u&&!a.config.xaxis.convertedCatToNumeric&&(m=Math.ceil(h/c),m-=1);var g=null,_=null,v=a.globals.seriesXvalues.map(function(e){return e.filter(function(e){return E.isNumber(e)})}),b=a.globals.seriesYvalues.map(function(e){return e.filter(function(e){return E.isNumber(e)})});if(a.globals.isXNumeric){var y=this.ttCtx.getElGrid().getBoundingClientRect(),x=h*(y.width/o),w=p*(y.height/l);g=(_=this.closestInMultiArray(x,w,v,b)).index,m=_.j,null!==g&&(v=a.globals.seriesXvalues[g],m=(_=this.closestInArray(x,v)).index)}return a.globals.capturedSeriesIndex=null===g?-1:g,(!m||m<1)&&(m=0),a.globals.isBarHorizontal?a.globals.capturedDataPointIndex=f:a.globals.capturedDataPointIndex=m,{capturedSeries:g,j:a.globals.isBarHorizontal?f:m,hoverX:h,hoverY:p}}},{key:"closestInMultiArray",value:function(e,t,n,i){var r=this.w,a=0,s=null,o=-1;r.globals.series.length>1?a=this.getFirstActiveXArray(n):s=0;var l=n[a][0],c=Math.abs(e-l);if(n.forEach(function(t){t.forEach(function(t,n){var i=Math.abs(e-t);i<=c&&(c=i,o=n)})}),-1!==o){var d=i[a][o],u=Math.abs(t-d);s=a,i.forEach(function(e,n){var i=Math.abs(t-e[o]);i<=u&&(u=i,s=n)})}return{index:s,j:o}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,n=0,i=e.map(function(e,t){return e.length>0?t:-1}),r=0;r<i.length;r++)if(-1!==i[r]&&-1===t.globals.collapsedSeriesIndices.indexOf(r)&&-1===t.globals.ancillaryCollapsedSeriesIndices.indexOf(r)){n=i[r];break}return n}},{key:"closestInArray",value:function(e,t){for(var n=t[0],i=null,r=Math.abs(e-n),a=0;a<t.length;a++){var s=Math.abs(e-t[a]);s<r&&(r=s,i=a)}return{index:i}}},{key:"isXoverlap",value:function(e){var t=[],n=this.w.globals.seriesX.filter(function(e){return void 0!==e[0]});if(n.length>0)for(var i=0;i<n.length-1;i++)void 0!==n[i][e]&&void 0!==n[i+1][e]&&n[i][e]!==n[i+1][e]&&t.push("unEqual");return 0===t.length}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,n=0;n<t.length-1;n++)if(t[n].data.length!==t[n+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return b(e).reduce(function(e,t){return e+t.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return"number"==typeof e?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(e=b(e)).sort(function(e,t){var n=Number(e.getAttribute("data:realIndex")),i=Number(t.getAttribute("data:realIndex"));return i<n?1:i>n?-1:0});var t=[];return e.forEach(function(e){t.push(e.querySelector(".apexcharts-marker"))}),t}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var n=Number(e.getAttribute("cx")),i=Number(e.getAttribute("cy")),r=e.getAttribute("shape");return new T(this.ctx).getMarkerPath(n,i,r,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,n=t.config.markers.hover.size;return void 0===n&&(n=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),n}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,n=this.ttCtx;0===n.allTooltipSeriesGroups.length&&(n.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var i=n.allTooltipSeriesGroups,r=0;r<i.length;r++)"enable"===e?(i[r].classList.add("apexcharts-active"),i[r].style.display=t.config.tooltip.items.display):(i[r].classList.remove("apexcharts-active"),i[r].style.display="none")}}]),e}(),ye=function(){function e(t){s(this,e),this.w=t.w,this.ctx=t.ctx,this.ttCtx=t,this.tooltipUtil=new be(t)}return l(e,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,n=void 0===t||t,i=e.ttItems,r=e.i,a=void 0===r?0:r,s=e.j,o=void 0===s?null:s,l=e.y1,c=e.y2,d=e.e,u=this.w;void 0!==u.config.tooltip.custom?this.handleCustomTooltip({i:a,j:o,y1:l,y2:c,w:u}):this.toggleActiveInactiveSeries(n,a);var h=this.getValuesToPrint({i:a,j:o});this.printLabels({i:a,j:o,values:h,ttItems:i,shared:n,e:d});var p=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=p.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=p.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,n=this,i=e.i,r=e.j,a=e.values,s=e.ttItems,o=e.shared,l=e.e,c=this.w,d=[],u=function(e){return c.globals.seriesGoals[e]&&c.globals.seriesGoals[e][r]&&Array.isArray(c.globals.seriesGoals[e][r])},h=a.xVal,p=a.zVal,m=a.xAxisTTVal,f="",_=c.globals.colors[i];null!==r&&c.config.plotOptions.bar.distributed&&(_=c.globals.colors[r]);for(var v=function(e,a){var v=n.getFormatters(i);f=n.getSeriesName({fn:v.yLbTitleFormatter,index:i,seriesIndex:i,j:r}),"treemap"===c.config.chart.type&&(f=v.yLbTitleFormatter(String(c.config.series[i].data[r].x),{series:c.globals.series,seriesIndex:i,dataPointIndex:r,w:c}));var b=c.config.tooltip.inverseOrder?a:e;if(c.globals.axisCharts){var y=function(e){var t,n,i,a;return c.globals.isRangeData?v.yLbFormatter(null===(t=c.globals.seriesRangeStart)||void 0===t||null===(n=t[e])||void 0===n?void 0:n[r],{series:c.globals.seriesRangeStart,seriesIndex:e,dataPointIndex:r,w:c})+" - "+v.yLbFormatter(null===(i=c.globals.seriesRangeEnd)||void 0===i||null===(a=i[e])||void 0===a?void 0:a[r],{series:c.globals.seriesRangeEnd,seriesIndex:e,dataPointIndex:r,w:c}):v.yLbFormatter(c.globals.series[e][r],{series:c.globals.series,seriesIndex:e,dataPointIndex:r,w:c})};if(o)v=n.getFormatters(b),f=n.getSeriesName({fn:v.yLbTitleFormatter,index:b,seriesIndex:i,j:r}),_=c.globals.colors[b],t=y(b),u(b)&&(d=c.globals.seriesGoals[b][r].map(function(e){return{attrs:e,val:v.yLbFormatter(e.value,{seriesIndex:b,dataPointIndex:r,w:c})}}));else{var x,w=null==l||null===(x=l.target)||void 0===x?void 0:x.getAttribute("fill");w&&(-1!==w.indexOf("url")?-1!==w.indexOf("Pattern")&&(_=c.globals.dom.baseEl.querySelector(w.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):_=w),t=y(i),u(i)&&Array.isArray(c.globals.seriesGoals[i][r])&&(d=c.globals.seriesGoals[i][r].map(function(e){return{attrs:e,val:v.yLbFormatter(e.value,{seriesIndex:i,dataPointIndex:r,w:c})}}))}}null===r&&(t=v.yLbFormatter(c.globals.series[i],g(g({},c),{},{seriesIndex:i,dataPointIndex:i}))),n.DOMHandling({i:i,t:b,j:r,ttItems:s,values:{val:t,goalVals:d,xVal:h,xAxisTTVal:m,zVal:p},seriesName:f,shared:o,pColor:_})},b=0,y=c.globals.series.length-1;b<c.globals.series.length;b++,y--)v(b,y)}},{key:"getFormatters",value:function(e){var t,n=this.w,i=n.globals.yLabelFormatters[e];return void 0!==n.globals.ttVal?Array.isArray(n.globals.ttVal)?(i=n.globals.ttVal[e]&&n.globals.ttVal[e].formatter,t=n.globals.ttVal[e]&&n.globals.ttVal[e].title&&n.globals.ttVal[e].title.formatter):(i=n.globals.ttVal.formatter,"function"==typeof n.globals.ttVal.title.formatter&&(t=n.globals.ttVal.title.formatter)):t=n.config.tooltip.y.title.formatter,"function"!=typeof i&&(i=n.globals.yLabelFormatters[0]?n.globals.yLabelFormatters[0]:function(e){return e}),"function"!=typeof t&&(t=function(e){return e}),{yLbFormatter:i,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,n=e.index,i=e.seriesIndex,r=e.j,a=this.w;return t(String(a.globals.seriesNames[n]),{series:a.globals.series,seriesIndex:i,dataPointIndex:r,w:a})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,n=e.j,i=e.ttItems,r=e.values,a=e.seriesName,s=e.shared,o=e.pColor,l=this.w,c=this.ttCtx,d=r.val,u=r.goalVals,h=r.xVal,p=r.xAxisTTVal,m=r.zVal,f=null;f=i[t].children,l.config.tooltip.fillSeriesColor&&(i[t].style.backgroundColor=o,f[0].style.display="none"),c.showTooltipTitle&&(null===c.tooltipTitle&&(c.tooltipTitle=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),c.tooltipTitle.innerHTML=h),c.isXAxisTooltipEnabled&&(c.xaxisTooltipText.innerHTML=""!==p?p:h);var g=i[t].querySelector(".apexcharts-tooltip-text-y-label");g&&(g.innerHTML=a||"");var _=i[t].querySelector(".apexcharts-tooltip-text-y-value");_&&(_.innerHTML=void 0!==d?d:""),f[0]&&f[0].classList.contains("apexcharts-tooltip-marker")&&(l.config.tooltip.marker.fillColors&&Array.isArray(l.config.tooltip.marker.fillColors)&&(o=l.config.tooltip.marker.fillColors[t]),f[0].style.backgroundColor=o),l.config.tooltip.marker.show||(f[0].style.display="none");var v=i[t].querySelector(".apexcharts-tooltip-text-goals-label"),b=i[t].querySelector(".apexcharts-tooltip-text-goals-value");if(u.length&&l.globals.seriesGoals[t]){var y=function(){var e="<div >",t="<div>";u.forEach(function(n,i){e+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(n.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(n.attrs.name,"</div>"),t+="<div>".concat(n.val,"</div>")}),v.innerHTML=e+"</div>",b.innerHTML=t+"</div>"};s?l.globals.seriesGoals[t][n]&&Array.isArray(l.globals.seriesGoals[t][n])?y():(v.innerHTML="",b.innerHTML=""):y()}else v.innerHTML="",b.innerHTML="";if(null!==m&&(i[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=l.config.tooltip.z.title,i[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==m?m:""),s&&f[0]){if(l.config.tooltip.hideEmptySeries){var x=i[t].querySelector(".apexcharts-tooltip-marker"),w=i[t].querySelector(".apexcharts-tooltip-text");0==parseFloat(d)?(x.style.display="none",w.style.display="none"):(x.style.display="block",w.style.display="block")}null==d||l.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||l.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(c.tConfig.enabledOnSeries)&&-1===c.tConfig.enabledOnSeries.indexOf(t)?f[0].parentNode.style.display="none":f[0].parentNode.style.display=l.config.tooltip.items.display}else Array.isArray(c.tConfig.enabledOnSeries)&&-1===c.tConfig.enabledOnSeries.indexOf(t)&&(f[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var n=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var i=n.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));i&&(i.classList.add("apexcharts-active"),i.style.display=n.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,n=e.j,i=this.w,r=this.ctx.series.filteredSeriesX(),a="",s="",o=null,l=null,c={series:i.globals.series,seriesIndex:t,dataPointIndex:n,w:i},d=i.globals.ttZFormatter;null===n?l=i.globals.series[t]:i.globals.isXNumeric&&"treemap"!==i.config.chart.type?(a=r[t][n],0===r[t].length&&(a=r[this.tooltipUtil.getFirstActiveXArray(r)][n])):a=new J(this.ctx).isFormatXY()?void 0!==i.config.series[t].data[n]?i.config.series[t].data[n].x:"":void 0!==i.globals.labels[n]?i.globals.labels[n]:"";var u=a;return a=i.globals.isXNumeric&&"datetime"===i.config.xaxis.type?new I(this.ctx).xLabelFormat(i.globals.ttKeyFormatter,u,u,{i:void 0,dateFormatter:new R(this.ctx).formatDate,w:this.w}):i.globals.isBarHorizontal?i.globals.yLabelFormatters[0](u,c):i.globals.xLabelFormatter(u,c),void 0!==i.config.tooltip.x.formatter&&(a=i.globals.ttKeyFormatter(u,c)),i.globals.seriesZ.length>0&&i.globals.seriesZ[t].length>0&&(o=d(i.globals.seriesZ[t][n],i)),s="function"==typeof i.config.xaxis.tooltip.formatter?i.globals.xaxisTooltipFormatter(u,c):a,{val:Array.isArray(l)?l.join(" "):l,xVal:Array.isArray(a)?a.join(" "):a,xAxisTTVal:Array.isArray(s)?s.join(" "):s,zVal:o}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,n=e.j,i=e.y1,r=e.y2,a=e.w,s=this.ttCtx.getElTooltip(),o=a.config.tooltip.custom;Array.isArray(o)&&o[t]&&(o=o[t]),s.innerHTML=o({ctx:this.ctx,series:a.globals.series,seriesIndex:t,dataPointIndex:n,y1:i,y2:r,w:a})}}]),e}(),xe=function(){function e(t){s(this,e),this.ttCtx=t,this.ctx=t.ctx,this.w=t.w}return l(e,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.ttCtx,i=this.w,r=n.getElXCrosshairs(),a=e-n.xcrosshairsWidth/2,s=i.globals.labels.slice().length;if(null!==t&&(a=i.globals.gridWidth/s*t),null===r||i.globals.isBarHorizontal||(r.setAttribute("x",a),r.setAttribute("x1",a),r.setAttribute("x2",a),r.setAttribute("y2",i.globals.gridHeight),r.classList.add("apexcharts-active")),a<0&&(a=0),a>i.globals.gridWidth&&(a=i.globals.gridWidth),n.isXAxisTooltipEnabled){var o=a;"tickWidth"!==i.config.xaxis.crosshairs.width&&"barWidth"!==i.config.xaxis.crosshairs.width||(o=a+n.xcrosshairsWidth/2),this.moveXAxisTooltip(o)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;null!==t.ycrosshairs&&T.setAttrs(t.ycrosshairs,{y1:e,y2:e}),null!==t.ycrosshairsHidden&&T.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;if(null!==n.xaxisTooltip&&0!==n.xcrosshairsWidth){n.xaxisTooltip.classList.add("apexcharts-active");var i,r=n.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=n.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e))e+=t.globals.translateX,i=new T(this.ctx).getTextRects(n.xaxisTooltipText.innerHTML),n.xaxisTooltipText.style.minWidth=i.width+"px",n.xaxisTooltip.style.left=e+"px",n.xaxisTooltip.style.top=r+"px"}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;null===n.yaxisTTEls&&(n.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var i=parseInt(n.ycrosshairsHidden.getAttribute("y1"),10),r=t.globals.translateY+i,a=n.yaxisTTEls[e].getBoundingClientRect().height,s=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(s-=26),r-=a/2,-1===t.globals.ignoreYAxisIndexes.indexOf(e)?(n.yaxisTTEls[e].classList.add("apexcharts-active"),n.yaxisTTEls[e].style.top=r+"px",n.yaxisTTEls[e].style.left=s+t.config.yaxis[e].tooltip.offsetX+"px"):n.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.w,r=this.ttCtx,a=r.getElTooltip(),s=r.tooltipRect,o=null!==n?parseFloat(n):1,l=parseFloat(e)+o+5,c=parseFloat(t)+o/2;if(l>i.globals.gridWidth/2&&(l=l-s.ttWidth-o-10),l>i.globals.gridWidth-s.ttWidth-10&&(l=i.globals.gridWidth-s.ttWidth),l<-20&&(l=-20),i.config.tooltip.followCursor){var d=r.getElGrid().getBoundingClientRect();(l=r.e.clientX-d.left)>i.globals.gridWidth/2&&(l-=r.tooltipRect.ttWidth),(c=r.e.clientY+i.globals.translateY-d.top)>i.globals.gridHeight/2&&(c-=r.tooltipRect.ttHeight)}else i.globals.isBarHorizontal||s.ttHeight/2+c>i.globals.gridHeight&&(c=i.globals.gridHeight-s.ttHeight+i.globals.translateY);isNaN(l)||(l+=i.globals.translateX,a.style.left=l+"px",a.style.top=c+"px")}},{key:"moveMarkers",value:function(e,t){var n=this.w,i=this.ttCtx;if(n.globals.markers.size[e]>0)for(var r=n.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),a=0;a<r.length;a++)parseInt(r[a].getAttribute("rel"),10)===t&&(i.marker.resetPointsSize(),i.marker.enlargeCurrentPoint(t,r[a]));else i.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var n,i,r,a,s=this.w,o=this.ttCtx,l=new T(this.ctx),c=s.globals.pointsArray,d=o.tooltipUtil.getHoverMarkerSize(t),u=s.config.series[t].type;if(!u||"column"!==u&&"candlestick"!==u&&"boxPlot"!==u){r=null===(n=c[t][e])||void 0===n?void 0:n[0],a=(null===(i=c[t][e])||void 0===i?void 0:i[1])||0;var h=s.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(h&&a<s.globals.gridHeight&&a>0){var p=h.getAttribute("shape"),m=l.getMarkerPath(r,a,p,1.5*d);h.setAttribute("d",m)}this.moveXCrosshairs(r),o.fixedTooltip||this.moveTooltip(r,a,d)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,n=this.ttCtx,i=n.w,r=0,a=0,s=i.globals.pointsArray,o=new K(this.ctx),l=new T(this.ctx);t=o.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var c=n.tooltipUtil.getHoverMarkerSize(t);s[t]&&(r=s[t][e][0],a=s[t][e][1]);var d=n.tooltipUtil.getAllMarkers();if(null!==d)for(var u=0;u<i.globals.series.length;u++){var h=s[u];if(i.globals.comboCharts&&void 0===h&&d.splice(u,0,null),h&&h.length){var p=s[u][e][1],m=void 0;d[u].setAttribute("cx",r);var f=d[u].getAttribute("shape");if("rangeArea"===i.config.chart.type&&!i.globals.comboCharts){var g=e+i.globals.series[u].length;m=s[u][g][1],p-=Math.abs(p-m)/2}if(null!==p&&!isNaN(p)&&p<i.globals.gridHeight+c&&p+c>0){var _=l.getMarkerPath(r,p,f,c);d[u].setAttribute("d",_)}else d[u].setAttribute("d","")}}this.moveXCrosshairs(r),n.fixedTooltip||this.moveTooltip(r,a||i.globals.gridHeight,c)}},{key:"moveStickyTooltipOverBars",value:function(e,t){var n=this.w,i=this.ttCtx,r=n.globals.columnSeries?n.globals.columnSeries.length:n.globals.series.length,a=r>=2&&r%2==0?Math.floor(r/2):Math.floor(r/2)+1;n.globals.isBarHorizontal&&(a=new K(this.ctx).getActiveConfigSeriesIndex("desc")+1);var s=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(a,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(a,"'] path[j='").concat(e,"']"));s||"number"!=typeof t||(s=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,"'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='").concat(t,"'] path[j='").concat(e,"'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='").concat(t,"'] path[j='").concat(e,"'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='").concat(t,"'] path[j='").concat(e,"']")));var o=s?parseFloat(s.getAttribute("cx")):0,l=s?parseFloat(s.getAttribute("cy")):0,c=s?parseFloat(s.getAttribute("barWidth")):0,d=i.getElGrid().getBoundingClientRect(),u=s&&(s.classList.contains("apexcharts-candlestick-area")||s.classList.contains("apexcharts-boxPlot-area"));n.globals.isXNumeric?(s&&!u&&(o-=r%2!=0?c/2:0),s&&u&&n.globals.comboCharts&&(o-=c/2)):n.globals.isBarHorizontal||(o=i.xAxisTicksPositions[e-1]+i.dataPointsDividedWidth/2,isNaN(o)&&(o=i.xAxisTicksPositions[e]-i.dataPointsDividedWidth/2)),n.globals.isBarHorizontal?l-=i.tooltipRect.ttHeight:n.config.tooltip.followCursor?l=i.e.clientY-d.top-i.tooltipRect.ttHeight/2:l+i.tooltipRect.ttHeight+15>n.globals.gridHeight&&(l=n.globals.gridHeight),n.globals.isBarHorizontal||this.moveXCrosshairs(o),i.fixedTooltip||this.moveTooltip(o,l||n.globals.gridHeight)}}]),e}(),we=function(){function e(t){s(this,e),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx,this.tooltipPosition=new xe(t)}return l(e,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new T(this.ctx),n=new q(this.ctx),i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");i=b(i),e.config.chart.stacked&&i.sort(function(e,t){return parseFloat(e.getAttribute("data:realIndex"))-parseFloat(t.getAttribute("data:realIndex"))});for(var r=0;r<i.length;r++){var a=i[r].querySelector(".apexcharts-series-markers-wrap");if(null!==a){var s=void 0,o="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==e.config.chart.type&&"area"!==e.config.chart.type||e.globals.comboCharts||e.config.tooltip.intersect||(o+=" no-pointer-events");var l=n.getMarkerConfig({cssClass:o,seriesIndex:Number(a.getAttribute("data:realIndex"))});(s=t.drawMarker(0,0,l)).node.setAttribute("default-marker-size",0);var c=document.createElementNS(e.globals.SVGNS,"g");c.classList.add("apexcharts-series-markers"),c.appendChild(s.node),a.appendChild(c)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.w;"bubble"!==r.config.chart.type&&this.newPointSize(e,t);var a=t.getAttribute("cx"),s=t.getAttribute("cy");if(null!==n&&null!==i&&(a=n,s=i),this.tooltipPosition.moveXCrosshairs(a),!this.fixedTooltip){if("radar"===r.config.chart.type){var o=this.ttCtx.getElGrid().getBoundingClientRect();a=this.ttCtx.e.clientX-o.left}this.tooltipPosition.moveTooltip(a,s,r.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,n=this,i=this.ttCtx,r=e,a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),s=t.config.markers.hover.size,o=0;o<a.length;o++){var l=a[o].getAttribute("rel"),c=a[o].getAttribute("index");if(void 0===s&&(s=t.globals.markers.size[c]+t.config.markers.hover.sizeOffset),r===parseInt(l,10)){n.newPointSize(r,a[o]);var d=a[o].getAttribute("cx"),u=a[o].getAttribute("cy");n.tooltipPosition.moveXCrosshairs(d),i.fixedTooltip||n.tooltipPosition.moveTooltip(d,u,s)}else n.oldPointSize(a[o])}}},{key:"newPointSize",value:function(e,t){var n=this.w,i=n.config.markers.hover.size,r=0===e?t.parentNode.firstChild:t.parentNode.lastChild;if("0"!==r.getAttribute("default-marker-size")){var a=parseInt(r.getAttribute("index"),10);void 0===i&&(i=n.globals.markers.size[a]+n.config.markers.hover.sizeOffset),i<0&&(i=0);var s=this.ttCtx.tooltipUtil.getPathFromPoint(t,i);t.setAttribute("d",s)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),n=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",n)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var n=parseFloat(e[t].getAttribute("default-marker-size"));if(E.isNumber(n)&&n>=0){var i=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],n);e[t].setAttribute("d",i)}else e[t].setAttribute("d","M0,0")}}}]),e}(),Ee=function(){function e(t){s(this,e),this.w=t.w;var n=this.w;this.ttCtx=t,this.isVerticalGroupedRangeBar=!n.globals.isBarHorizontal&&"rangeBar"===n.config.chart.type&&n.config.plotOptions.bar.rangeBarGroupRows}return l(e,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,n=e.opt,i=e.x,r=e.y,a=e.type,s=this.ttCtx,o=this.w;if(t.target.classList.contains("apexcharts-".concat(a,"-rect"))){var l=this.getAttr(t,"i"),c=this.getAttr(t,"j"),d=this.getAttr(t,"cx"),u=this.getAttr(t,"cy"),h=this.getAttr(t,"width"),p=this.getAttr(t,"height");if(s.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:l,j:c,shared:!1,e:t}),o.globals.capturedSeriesIndex=l,o.globals.capturedDataPointIndex=c,i=d+s.tooltipRect.ttWidth/2+h,r=u+s.tooltipRect.ttHeight/2-p/2,s.tooltipPosition.moveXCrosshairs(d+h/2),i>o.globals.gridWidth/2&&(i=d-s.tooltipRect.ttWidth/2+h),s.w.config.tooltip.followCursor){var m=o.globals.dom.elWrap.getBoundingClientRect();i=o.globals.clientX-m.left-(i>o.globals.gridWidth/2?s.tooltipRect.ttWidth:0),r=o.globals.clientY-m.top-(r>o.globals.gridHeight/2?s.tooltipRect.ttHeight:0)}}return{x:i,y:r}}},{key:"handleMarkerTooltip",value:function(e){var t,n,i=e.e,r=e.opt,a=e.x,s=e.y,o=this.w,l=this.ttCtx;if(i.target.classList.contains("apexcharts-marker")){var c=parseInt(r.paths.getAttribute("cx"),10),d=parseInt(r.paths.getAttribute("cy"),10),u=parseFloat(r.paths.getAttribute("val"));if(n=parseInt(r.paths.getAttribute("rel"),10),t=parseInt(r.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,l.intersect){var h=E.findAncestor(r.paths,"apexcharts-series");h&&(t=parseInt(h.getAttribute("data:realIndex"),10))}if(l.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:t,j:n,shared:!l.showOnIntersect&&o.config.tooltip.shared,e:i}),"mouseup"===i.type&&l.markerClick(i,t,n),o.globals.capturedSeriesIndex=t,o.globals.capturedDataPointIndex=n,a=c,s=d+o.globals.translateY-1.4*l.tooltipRect.ttHeight,l.w.config.tooltip.followCursor){var p=l.getElGrid().getBoundingClientRect();s=l.e.clientY+o.globals.translateY-p.top}u<0&&(s=d),l.marker.enlargeCurrentPoint(n,r.paths,a,s)}return{x:a,y:s}}},{key:"handleBarTooltip",value:function(e){var t,n,i=e.e,r=e.opt,a=this.w,s=this.ttCtx,o=s.getElTooltip(),l=0,c=0,d=0,u=this.getBarTooltipXY({e:i,opt:r});t=u.i;var h=u.j;a.globals.capturedSeriesIndex=t,a.globals.capturedDataPointIndex=h,a.globals.isBarHorizontal&&s.tooltipUtil.hasBars()||!a.config.tooltip.shared?(c=u.x,d=u.y,n=Array.isArray(a.config.stroke.width)?a.config.stroke.width[t]:a.config.stroke.width,l=c):a.globals.comboCharts||a.config.tooltip.shared||(l/=2),isNaN(d)&&(d=a.globals.svgHeight-s.tooltipRect.ttHeight);var p=parseInt(r.paths.parentNode.getAttribute("data:realIndex"),10);if(a.globals.isMultipleYAxis?a.config.yaxis[p]&&a.config.yaxis[p].reversed:a.config.yaxis[0].reversed,c+s.tooltipRect.ttWidth>a.globals.gridWidth?c-=s.tooltipRect.ttWidth:c<0&&(c=0),s.w.config.tooltip.followCursor){var m=s.getElGrid().getBoundingClientRect();d=s.e.clientY-m.top}null===s.tooltip&&(s.tooltip=a.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),a.config.tooltip.shared||(a.globals.comboBarCount>0?s.tooltipPosition.moveXCrosshairs(l+n/2):s.tooltipPosition.moveXCrosshairs(l)),!s.fixedTooltip&&(!a.config.tooltip.shared||a.globals.isBarHorizontal&&s.tooltipUtil.hasBars())&&(d=d+a.globals.translateY-s.tooltipRect.ttHeight/2,o.style.left=c+a.globals.translateX+"px",o.style.top=d+"px")}},{key:"getBarTooltipXY",value:function(e){var t=this,n=e.e,i=e.opt,r=this.w,a=null,s=this.ttCtx,o=0,l=0,c=0,d=0,u=0,h=n.target.classList;if(h.contains("apexcharts-bar-area")||h.contains("apexcharts-candlestick-area")||h.contains("apexcharts-boxPlot-area")||h.contains("apexcharts-rangebar-area")){var p=n.target,m=p.getBoundingClientRect(),f=i.elGrid.getBoundingClientRect(),g=m.height;u=m.height;var _=m.width,v=parseInt(p.getAttribute("cx"),10),b=parseInt(p.getAttribute("cy"),10);d=parseFloat(p.getAttribute("barWidth"));var y="touchmove"===n.type?n.touches[0].clientX:n.clientX;a=parseInt(p.getAttribute("j"),10),o=parseInt(p.parentNode.getAttribute("rel"),10)-1;var x=p.getAttribute("data-range-y1"),w=p.getAttribute("data-range-y2");r.globals.comboCharts&&(o=parseInt(p.parentNode.getAttribute("data:realIndex"),10));var E=function(e){return r.globals.isXNumeric?v-_/2:t.isVerticalGroupedRangeBar?v+_/2:v-s.dataPointsDividedWidth+_/2},S=function(){return b-s.dataPointsDividedHeight+g/2-s.tooltipRect.ttHeight/2};s.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:o,j:a,y1:x?parseInt(x,10):null,y2:w?parseInt(w,10):null,shared:!s.showOnIntersect&&r.config.tooltip.shared,e:n}),r.config.tooltip.followCursor?r.globals.isBarHorizontal?(l=y-f.left+15,c=S()):(l=E(),c=n.clientY-f.top-s.tooltipRect.ttHeight/2-15):r.globals.isBarHorizontal?((l=v)<s.xyRatios.baseLineInvertedY&&(l=v-s.tooltipRect.ttWidth),c=S()):(l=E(),c=b)}return{x:l,y:c,barHeight:u,barWidth:d,i:o,j:a}}}]),e}(),Se=function(){function e(t){s(this,e),this.w=t.w,this.ttCtx=t}return l(e,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,n="bottom"===e.config.xaxis.position;t.xaxisOffY=n?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var i=n?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",r=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&null===e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",i+" apexcharts-theme-"+e.config.tooltip.theme),r.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,n=0;n<e.config.yaxis.length;n++){var i=e.config.yaxis[n].opposite||e.config.yaxis[n].crosshairs.opposite;t.yaxisOffX=i?e.globals.gridWidth+1:1;var r="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n,i?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),a=e.globals.dom.elWrap;null===e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n))&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),a.appendChild(t.yaxisTooltip),0===n&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[n]=document.createElement("div"),t.yaxisTooltipText[n].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[n]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,n=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var i=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==i&&"barWidth"===e.config.xaxis.crosshairs.width){var r=parseFloat(i.getAttribute("barWidth"));t.xcrosshairsWidth=r}else if("tickWidth"===e.config.xaxis.crosshairs.width){var a=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/a}}else if("tickWidth"===e.config.xaxis.crosshairs.width){var s=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/s}else if("barWidth"===e.config.xaxis.crosshairs.width){var o=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==o){var l=parseFloat(o.getAttribute("barWidth"));t.xcrosshairsWidth=l}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),null!==n&&t.xcrosshairsWidth>0&&n.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,n){var i=this.ttCtx,r=this.w,a=r.globals,s=a.seriesYAxisMap[e];if(i.yaxisTooltips[e]&&s.length>0){var o=a.yLabelFormatters[e],l=i.getElGrid().getBoundingClientRect(),c=s[0],d=0;n.yRatio.length>1&&(d=c);var u=(t-l.top)*n.yRatio[d],h=a.maxYArr[c]-a.minYArr[c],p=a.minYArr[c]+(h-u);r.config.yaxis[e].reversed&&(p=a.maxYArr[c]-(h-u)),i.tooltipPosition.moveYCrosshairs(t-l.top),i.yaxisTooltipText[e].innerHTML=o(p),i.tooltipPosition.moveYAxisTooltip(e)}}}]),e}(),Ce=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.tConfig=n.config.tooltip,this.tooltipUtil=new be(this),this.tooltipLabels=new ye(this),this.tooltipPosition=new xe(this),this.marker=new we(this),this.intersect=new Ee(this),this.axesTooltip=new Se(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!n.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return l(e,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(e,n){return!!(e.show&&e.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var n=document.createElement("div");if(n.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&n.classList.add(t.config.tooltip.cssClass),n.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),t.globals.dom.elWrap.appendChild(n),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var i=new Q(this.ctx);this.xAxisTicksPositions=i.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==t.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==t.config.markers.size&&0!==t.globals.markers.largestSize||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,n.appendChild(this.tooltipTitle));var r=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(r=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(r),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,n=this.w,i=[],r=this.getElTooltip(),a=function(a){var s=document.createElement("div");s.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(a)),s.style.order=n.config.tooltip.inverseOrder?e-a:a+1;var o=document.createElement("span");o.classList.add("apexcharts-tooltip-marker"),o.style.backgroundColor=n.globals.colors[a],s.appendChild(o);var l=document.createElement("div");l.classList.add("apexcharts-tooltip-text"),l.style.fontFamily=t.tConfig.style.fontFamily||n.config.chart.fontFamily,l.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(e){var t=document.createElement("div");t.classList.add("apexcharts-tooltip-".concat(e,"-group"));var n=document.createElement("span");n.classList.add("apexcharts-tooltip-text-".concat(e,"-label")),t.appendChild(n);var i=document.createElement("span");i.classList.add("apexcharts-tooltip-text-".concat(e,"-value")),t.appendChild(i),l.appendChild(t)}),s.appendChild(l),r.appendChild(s),i.push(s)},s=0;s<e;s++)a(s);return i}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,n=this.getElTooltip(),i=!("bar"!==t&&"candlestick"!==t&&"boxPlot"!==t&&"rangeBar"!==t),r="area"===t||"line"===t||"scatter"===t||"bubble"===t||"radar"===t,a=e.globals.dom.Paper.node,s=this.getElGrid();s&&(this.seriesBound=s.getBoundingClientRect());var o,l=[],c=[],d={hoverArea:a,elGrid:s,tooltipEl:n,tooltipY:l,tooltipX:c,ttItems:this.ttItems};if(e.globals.axisCharts&&(r?o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):i?o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==t&&"treemap"!==t||(o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),o&&o.length))for(var u=0;u<o.length;u++)l.push(o[u].getAttribute("cy")),c.push(o[u].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||i&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([a],d);else if(i&&!e.globals.comboCharts||r&&this.showOnIntersect)this.addDatapointEventsListeners(d);else if(!e.globals.axisCharts||"heatmap"===t||"treemap"===t){var h=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(h,d)}if(this.showOnIntersect){var p=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");p.length>0&&this.addPathsEventListeners(p,d),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(d)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),n=t.getBoundingClientRect(),i=n.width+10,r=n.height+10,a=this.tConfig.fixed.offsetX,s=this.tConfig.fixed.offsetY,o=this.tConfig.fixed.position.toLowerCase();return o.indexOf("right")>-1&&(a=a+e.globals.svgWidth-i+10),o.indexOf("bottom")>-1&&(s=s+e.globals.svgHeight-r-10),t.style.left=a+"px",t.style.top=s+"px",{x:a,y:s,ttWidth:i,ttHeight:r}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var n=this,i=function(i){var r={paths:e[i],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(t){return e[i].addEventListener(t,n.onSeriesHover.bind(n,r),{capture:!1,passive:!0})})},r=0;r<e.length;r++)i(r)}},{key:"onSeriesHover",value:function(e,t){var n=this,i=Date.now()-this.lastHoverTime;i>=100?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){n.seriesHover(e,t)},100-i))}},{key:"seriesHover",value:function(e,t){var n=this;this.lastHoverTime=Date.now();var i=[],r=this.w;r.config.chart.group&&(i=this.ctx.getGroupedCharts()),r.globals.axisCharts&&(r.globals.minX===-1/0&&r.globals.maxX===1/0||0===r.globals.dataPoints)||(i.length?i.forEach(function(i){var r=n.getElTooltip(i),a={paths:e.paths,tooltipEl:r,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:i.w.globals.tooltip.ttItems};i.w.globals.minX===n.w.globals.minX&&i.w.globals.maxX===n.w.globals.maxX&&i.w.globals.tooltip.seriesHoverByContext({chartCtx:i,ttCtx:i.w.globals.tooltip,opt:a,e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,n=e.ttCtx,i=e.opt,r=e.e,a=t.w,s=this.getElTooltip(t);s&&(n.tooltipRect={x:0,y:0,ttWidth:s.getBoundingClientRect().width,ttHeight:s.getBoundingClientRect().height},n.e=r,!n.tooltipUtil.hasBars()||a.globals.comboCharts||n.isBarShared||this.tConfig.onDatasetHover.highlightDataSeries&&new K(t).toggleSeriesOnHover(r,r.target.parentNode),n.fixedTooltip&&n.drawFixedTooltipRect(),a.globals.axisCharts?n.axisChartsTooltips({e:r,opt:i,tooltipRect:n.tooltipRect}):n.nonAxisChartsTooltips({e:r,opt:i,tooltipRect:n.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var t,n,i=e.e,r=e.opt,a=this.w,s=r.elGrid.getBoundingClientRect(),o="touchmove"===i.type?i.touches[0].clientX:i.clientX,l="touchmove"===i.type?i.touches[0].clientY:i.clientY;if(this.clientY=l,this.clientX=o,a.globals.capturedSeriesIndex=-1,a.globals.capturedDataPointIndex=-1,l<s.top||l>s.top+s.height)this.handleMouseOut(r);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!a.config.tooltip.shared){var c=parseInt(r.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(c)<0)return void this.handleMouseOut(r)}var d=this.getElTooltip(),u=this.getElXCrosshairs(),h=[];a.config.chart.group&&(h=this.ctx.getSyncedCharts());var p=a.globals.xyCharts||"bar"===a.config.chart.type&&!a.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||a.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===i.type||"touchmove"===i.type||"mouseup"===i.type){if(a.globals.collapsedSeries.length+a.globals.ancillaryCollapsedSeries.length===a.globals.series.length)return;null!==u&&u.classList.add("apexcharts-active");var m=this.yaxisTooltips.filter(function(e){return!0===e});if(null!==this.ycrosshairs&&m.length&&this.ycrosshairs.classList.add("apexcharts-active"),p&&!this.showOnIntersect||h.length>1)this.handleStickyTooltip(i,o,l,r);else if("heatmap"===a.config.chart.type||"treemap"===a.config.chart.type){var f=this.intersect.handleHeatTreeTooltip({e:i,opt:r,x:t,y:n,type:a.config.chart.type});t=f.x,n=f.y,d.style.left=t+"px",d.style.top=n+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:i,opt:r}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:i,opt:r,x:t,y:n});if(this.yaxisTooltips.length)for(var g=0;g<a.config.yaxis.length;g++)this.axesTooltip.drawYaxisTooltipText(g,l,this.xyRatios);a.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),r.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==i.type&&"touchend"!==i.type||this.handleMouseOut(r)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,n=e.opt,i=e.tooltipRect,r=this.w,a=n.paths.getAttribute("rel"),s=this.getElTooltip(),o=r.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===t.type||"touchmove"===t.type){r.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),s.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:parseInt(a,10)-1,shared:!1});var l=r.globals.clientX-o.left-i.ttWidth/2,c=r.globals.clientY-o.top-i.ttHeight-10;if(s.style.left=l+"px",s.style.top=c+"px",r.config.legend.tooltipHoverFormatter){var d=a-1,u=(0,r.config.legend.tooltipHoverFormatter)(this.legendLabels[d].getAttribute("data:default-text"),{seriesIndex:d,dataPointIndex:d,w:r});this.legendLabels[d].innerHTML=u}}else"mouseout"!==t.type&&"touchend"!==t.type||(s.classList.remove("apexcharts-active"),r.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),r.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)}))}},{key:"handleStickyTooltip",value:function(e,t,n,i){var r=this.w,a=this.tooltipUtil.getNearestValues({context:this,hoverArea:i.hoverArea,elGrid:i.elGrid,clientX:t,clientY:n}),s=a.j,o=a.capturedSeries;r.globals.collapsedSeriesIndices.includes(o)&&(o=null);var l=i.elGrid.getBoundingClientRect();if(a.hoverX<0||a.hoverX>l.width)this.handleMouseOut(i);else if(null!==o)this.handleStickyCapturedSeries(e,o,i,s);else if(this.tooltipUtil.isXoverlap(s)||r.globals.isBarHorizontal){var c=r.globals.series.findIndex(function(e,t){return!r.globals.collapsedSeriesIndices.includes(t)});this.create(e,this,c,s,i.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,n,i){var r=this.w;if(this.tConfig.shared||null!==r.globals.series[t][i]){if(void 0!==r.globals.series[t][i])this.tConfig.shared&&this.tooltipUtil.isXoverlap(i)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,i,n.ttItems):this.create(e,this,t,i,n.ttItems,!1);else if(this.tooltipUtil.isXoverlap(i)){var a=r.globals.series.findIndex(function(e,t){return!r.globals.collapsedSeriesIndices.includes(t)});this.create(e,this,a,i,n.ttItems)}}else this.handleMouseOut(n)}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new T(this.ctx),n=e.globals.dom.Paper.select(".apexcharts-bar-area"),i=0;i<n.length;i++)t.pathMouseLeave(n[i])}},{key:"handleMouseOut",value:function(e){var t=this.w,n=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==t.config.chart.type&&this.marker.resetPointsSize(),null!==n&&n.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var i=0;i<this.yaxisTTEls.length;i++)this.yaxisTTEls[i].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)})}},{key:"markerClick",value:function(e,t,n){var i=this.w;"function"==typeof i.config.chart.events.markerClick&&i.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:i}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:i}])}},{key:"create",value:function(e,t,n,i,r){var a,s,o,l,c,d,u,h,p,m,f,_,v,b,y,x,w=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,E=this.w,S=t;"mouseup"===e.type&&this.markerClick(e,n,i),null===w&&(w=this.tConfig.shared);var C=this.tooltipUtil.hasMarkers(n),N=this.tooltipUtil.getElBars();if(E.config.legend.tooltipHoverFormatter){var A=E.config.legend.tooltipHoverFormatter,k=Array.from(this.legendLabels);k.forEach(function(e){var t=e.getAttribute("data:default-text");e.innerHTML=decodeURIComponent(t)});for(var R=0;R<k.length;R++){var I=k[R],O=parseInt(I.getAttribute("i"),10),j=decodeURIComponent(I.getAttribute("data:default-text")),P=A(j,{seriesIndex:w?O:n,dataPointIndex:i,w:E});if(w)I.innerHTML=E.globals.collapsedSeriesIndices.indexOf(O)<0?P:j;else if(I.innerHTML=O===n?P:j,n===O)break}}var D=g(g({ttItems:r,i:n,j:i},void 0!==(null===(a=E.globals.seriesRange)||void 0===a||null===(s=a[n])||void 0===s||null===(o=s[i])||void 0===o||null===(l=o.y[0])||void 0===l?void 0:l.y1)&&{y1:null===(c=E.globals.seriesRange)||void 0===c||null===(d=c[n])||void 0===d||null===(u=d[i])||void 0===u||null===(h=u.y[0])||void 0===h?void 0:h.y1}),void 0!==(null===(p=E.globals.seriesRange)||void 0===p||null===(m=p[n])||void 0===m||null===(f=m[i])||void 0===f||null===(_=f.y[0])||void 0===_?void 0:_.y2)&&{y2:null===(v=E.globals.seriesRange)||void 0===v||null===(b=v[n])||void 0===b||null===(y=b[i])||void 0===y||null===(x=y.y[0])||void 0===x?void 0:x.y2});if(w){if(S.tooltipLabels.drawSeriesTexts(g(g({},D),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),C)E.globals.markers.largestSize>0?S.marker.enlargePoints(i):S.tooltipPosition.moveDynamicPointsOnHover(i);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(N),this.barSeriesHeight>0)){var L=new T(this.ctx),M=E.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(i,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(i,n);for(var U=0;U<M.length;U++)L.pathMouseEnter(M[U])}}else S.tooltipLabels.drawSeriesTexts(g({shared:!1},D)),this.tooltipUtil.hasBars()&&S.tooltipPosition.moveStickyTooltipOverBars(i,n),C&&S.tooltipPosition.moveMarkers(n,i)}}]),e}(),Te=function(){function e(t){s(this,e),this.w=t.w,this.barCtx=t,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return l(e,[{key:"handleBarDataLabels",value:function(e){var t,n,i=e.x,r=e.y,a=e.y1,s=e.y2,o=e.i,l=e.j,c=e.realIndex,d=e.columnGroupIndex,u=e.series,h=e.barHeight,p=e.barWidth,m=e.barXPosition,f=e.barYPosition,_=e.visibleSeries,v=e.renderedPath,b=this.w,y=new T(this.barCtx.ctx),x=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[c]:this.barCtx.strokeWidth;b.globals.isXNumeric&&!b.globals.isBarHorizontal?(t=i+parseFloat(p*(_+1)),n=r+parseFloat(h*(_+1))-x):(t=i+parseFloat(p*_),n=r+parseFloat(h*_));var w,E,S=null,C=i,N=r,A=b.config.dataLabels,k=this.barCtx.barOptions.dataLabels,R=this.barCtx.barOptions.dataLabels.total;void 0!==f&&this.barCtx.isRangeBar&&(n=f,N=f),void 0!==m&&this.barCtx.isVerticalGroupedRangeBar&&(t=m,C=m);var I=A.offsetX,O=A.offsetY,j={width:0,height:0};if(b.config.dataLabels.enabled){var P=b.globals.series[o][l];j=y.getTextRects(b.config.dataLabels.formatter?b.config.dataLabels.formatter(P,g(g({},b),{},{seriesIndex:o,dataPointIndex:l,w:b})):b.globals.yLabelFormatters[0](P),parseFloat(A.style.fontSize))}var D={x:i,y:r,i:o,j:l,realIndex:c,columnGroupIndex:d,renderedPath:v,bcx:t,bcy:n,barHeight:h,barWidth:p,textRects:j,strokeWidth:x,dataLabelsX:C,dataLabelsY:N,dataLabelsConfig:A,barDataLabelsConfig:k,barTotalDataLabelsConfig:R,offX:I,offY:O};return E=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(D):this.calculateColumnsDataLabelsPosition(D),v.attr({cy:E.bcy,cx:E.bcx,j:l,val:b.globals.series[o][l],barHeight:h,barWidth:p}),w=this.drawCalculatedDataLabels({x:E.dataLabelsX,y:E.dataLabelsY,val:this.barCtx.isRangeBar?[a,s]:"100%"===b.config.chart.stackType?u[c][l]:b.globals.series[c][l],i:c,j:l,barWidth:p,barHeight:h,textRects:j,dataLabelsConfig:A}),b.config.chart.stacked&&R.enabled&&(S=this.drawTotalDataLabels({x:E.totalDataLabelsX,y:E.totalDataLabelsY,barWidth:p,barHeight:h,realIndex:c,textAnchor:E.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:c,j:l}),dataLabelsConfig:A,barTotalDataLabelsConfig:R})),{dataLabels:w,totalDataLabels:S}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,n=e.j,i=this.w,r=this.barCtx.stackedSeriesTotals[n];return this.totalFormatter&&(r=this.totalFormatter(r,g(g({},i),{},{seriesIndex:t,dataPointIndex:n,w:i}))),r}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this.w,n=e.i,i=e.j,r=e.realIndex;e.columnGroupIndex;var a,s,o=e.y,l=e.bcx,c=e.barWidth,d=e.barHeight,u=e.textRects,h=e.dataLabelsX,p=e.dataLabelsY,m=e.dataLabelsConfig,f=e.barDataLabelsConfig,g=e.barTotalDataLabelsConfig,_=e.strokeWidth,v=e.offX,b=e.offY,y=l;d=Math.abs(d);var x="vertical"===t.config.plotOptions.bar.dataLabels.orientation,w=this.barCtx.barHelpers.getZeroValueEncounters({i:n,j:i}).zeroEncounters;l-=_/2;var E=t.globals.gridWidth/t.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?h+=c/2:(h=t.globals.isXNumeric?l-c/2+v:l-E+c/2+v,w>0&&t.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(h-=c*w)),x&&(h=h+u.height/2-_/2-2);var S=t.globals.series[n][i]<0,C=o;switch(this.barCtx.isReversed&&(C=o+(S?d:-d)),f.position){case"center":p=x?S?C-d/2+b:C+d/2-b:S?C-d/2+u.height/2+b:C+d/2+u.height/2-b;break;case"bottom":p=x?S?C-d+b:C+d-b:S?C-d+u.height+_+b:C+d-u.height/2+_-b;break;case"top":p=x?S?C+b:C-b:S?C-u.height/2-b:C+u.height+b}if(this.barCtx.lastActiveBarSerieIndex===r&&g.enabled){var N=new T(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:r,j:i}),m.fontSize);a=S?C-N.height/2-b-g.offsetY+18:C+N.height+b+g.offsetY-18;var A=E;s=y+(t.globals.isXNumeric?-c*t.globals.barGroups.length/2:t.globals.barGroups.length*c/2-(t.globals.barGroups.length-1)*c-A)+g.offsetX}return t.config.chart.stacked||(p<0?p=0+_:p+u.height/3>t.globals.gridHeight&&(p=t.globals.gridHeight-_)),{bcx:l,bcy:o,dataLabelsX:h,dataLabelsY:p,totalDataLabelsX:s,totalDataLabelsY:a,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this.w,n=e.x,i=e.i,r=e.j,a=e.realIndex,s=e.bcy,o=e.barHeight,l=e.barWidth,c=e.textRects,d=e.dataLabelsX,u=e.strokeWidth,h=e.dataLabelsConfig,p=e.barDataLabelsConfig,m=e.barTotalDataLabelsConfig,f=e.offX,g=e.offY,_=t.globals.gridHeight/t.globals.dataPoints;l=Math.abs(l);var v,b,y=s-(this.barCtx.isRangeBar?0:_)+o/2+c.height/2+g-3,x="start",w=t.globals.series[i][r]<0,E=n;switch(this.barCtx.isReversed&&(E=n+(w?-l:l),x=w?"start":"end"),p.position){case"center":d=w?E+l/2-f:Math.max(c.width/2,E-l/2)+f;break;case"bottom":d=w?E+l-u-f:E-l+u+f;break;case"top":d=w?E-u-f:E-u+f}if(this.barCtx.lastActiveBarSerieIndex===a&&m.enabled){var S=new T(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:a,j:r}),h.fontSize);w?(v=E-u-f-m.offsetX,x="end"):v=E+f+m.offsetX+(this.barCtx.isReversed?-(l+u):u),b=y-c.height/2+S.height/2+m.offsetY+u}return t.config.chart.stacked||("start"===h.textAnchor?d-c.width<0?d=w?c.width+u:u:d+c.width>t.globals.gridWidth&&(d=w?t.globals.gridWidth-u:t.globals.gridWidth-c.width-u):"middle"===h.textAnchor?d-c.width/2<0?d=c.width/2+u:d+c.width/2>t.globals.gridWidth&&(d=t.globals.gridWidth-c.width/2-u):"end"===h.textAnchor&&(d<1?d=c.width+u:d+1>t.globals.gridWidth&&(d=t.globals.gridWidth-c.width-u))),{bcx:n,bcy:s,dataLabelsX:d,dataLabelsY:y,totalDataLabelsX:v,totalDataLabelsY:b,totalDataLabelsAnchor:x}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,n=e.y,i=e.val,r=e.i,a=e.j,s=e.textRects,o=e.barHeight,l=e.barWidth,c=e.dataLabelsConfig,d=this.w,u="rotate(0)";"vertical"===d.config.plotOptions.bar.dataLabels.orientation&&(u="rotate(-90, ".concat(t,", ").concat(n,")"));var h=new X(this.barCtx.ctx),p=new T(this.barCtx.ctx),m=c.formatter,f=null,_=d.globals.collapsedSeriesIndices.indexOf(r)>-1;if(c.enabled&&!_){f=p.group({class:"apexcharts-data-labels",transform:u});var v="";void 0!==i&&(v=m(i,g(g({},d),{},{seriesIndex:r,dataPointIndex:a,w:d}))),!i&&d.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(v="");var b=d.globals.series[r][a]<0,y=d.config.plotOptions.bar.dataLabels.position;"vertical"===d.config.plotOptions.bar.dataLabels.orientation&&("top"===y&&(c.textAnchor=b?"end":"start"),"center"===y&&(c.textAnchor="middle"),"bottom"===y&&(c.textAnchor=b?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&l<p.getTextRects(v,parseFloat(c.style.fontSize)).width&&(v=""),d.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?s.width/1.6>Math.abs(l)&&(v=""):s.height/1.6>Math.abs(o)&&(v=""));var x=g({},c);this.barCtx.isHorizontal&&i<0&&("start"===c.textAnchor?x.textAnchor="end":"end"===c.textAnchor&&(x.textAnchor="start")),h.plotDataLabelsText({x:t,y:n,text:v,i:r,j:a,parent:f,dataLabelsConfig:x,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return f}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,n=e.y,i=e.val,r=e.realIndex,a=e.textAnchor,s=e.barTotalDataLabelsConfig;this.w;var o,l=new T(this.barCtx.ctx);return s.enabled&&void 0!==t&&void 0!==n&&this.barCtx.lastActiveBarSerieIndex===r&&(o=l.drawText({x:t,y:n,foreColor:s.style.color,text:i,textAnchor:a,fontFamily:s.style.fontFamily,fontSize:s.style.fontSize,fontWeight:s.style.fontWeight})),o}}]),e}(),Ne=function(){function e(t){s(this,e),this.w=t.w,this.barCtx=t}return l(e,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var n=0;n<e.length;n++)if(e[n].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[n].length),t.globals.isXNumeric)for(var i=0;i<e[n].length;i++)t.globals.seriesX[n][i]>t.globals.minX&&t.globals.seriesX[n][i]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(){var e,t,n,i,r,a,s,o,l=this.w,c=l.globals.dataPoints;this.barCtx.isRangeBar&&(c=l.globals.labels.length);var d=this.barCtx.seriesLen;if(l.config.plotOptions.bar.rangeBarGroupRows&&(d=1),this.barCtx.isHorizontal)r=(n=l.globals.gridHeight/c)/d,l.globals.isXNumeric&&(r=(n=l.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),r=r*parseInt(this.barCtx.barOptions.barHeight,10)/100,-1===String(this.barCtx.barOptions.barHeight).indexOf("%")&&(r=parseInt(this.barCtx.barOptions.barHeight,10)),o=this.barCtx.baseLineInvertedY+l.globals.padHorizontal+(this.barCtx.isReversed?l.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(o=l.globals.gridWidth/2),t=(n-r*this.barCtx.seriesLen)/2;else{if(i=l.globals.gridWidth/this.barCtx.visibleItems,l.config.xaxis.convertedCatToNumeric&&(i=l.globals.gridWidth/l.globals.dataPoints),a=i/d*parseInt(this.barCtx.barOptions.columnWidth,10)/100,l.globals.isXNumeric){var u=this.barCtx.xRatio;l.globals.minXDiff&&.5!==l.globals.minXDiff&&l.globals.minXDiff/u>0&&(i=l.globals.minXDiff/u),(a=i/d*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(a=1)}-1===String(this.barCtx.barOptions.columnWidth).indexOf("%")&&(a=parseInt(this.barCtx.barOptions.columnWidth,10)),s=l.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?l.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),e=l.globals.padHorizontal+(i-a*this.barCtx.seriesLen)/2}return l.globals.barHeight=r,l.globals.barWidth=a,{x:e,y:t,yDivision:n,xDivision:i,barHeight:r,barWidth:a,zeroH:s,zeroW:o}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,t,n,i){var r,a,s,o,l,c=this.w,d=this.barCtx.ctx.fill,u=null,h=this.barCtx.barOptions.distributed?n:t;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(i){e[t][n]>=i.from&&e[t][n]<=i.to&&(u=i.color)}),null!==(r=c.config.series[t].data[n])&&void 0!==r&&r.fillColor&&(u=c.config.series[t].data[n].fillColor),d.fillPath({seriesNumber:this.barCtx.barOptions.distributed?h:i,dataPointIndex:n,color:u,value:e[t][n],fillConfig:null===(a=c.config.series[t].data[n])||void 0===a?void 0:a.fill,fillType:null!==(s=c.config.series[t].data[n])&&void 0!==s&&null!==(o=s.fill)&&void 0!==o&&o.type?null===(l=c.config.series[t].data[n])||void 0===l?void 0:l.fill.type:Array.isArray(c.config.fill.type)?c.config.fill.type[i]:c.config.fill.type})}},{key:"getStrokeWidth",value:function(e,t,n){var i=0,r=this.w;return this.barCtx.series[e][t]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,r.config.stroke.show&&(this.barCtx.isNullValue||(i=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth)),i}},{key:"createBorderRadiusArr",value:function(e){var t=this.w,n=!this.w.config.chart.stacked||"last"!==t.config.plotOptions.bar.borderRadiusWhenStacked||t.config.plotOptions.bar.borderRadius<=0,i=e.length,r=e[0].length,a=Array.from({length:i},function(){return Array(r).fill(n?"top":"none")});if(n)return a;for(var s=0;s<r;s++){for(var o=[],l=[],d=0,u=0;u<i;u++){var h=e[u][s];h>0?(o.push(u),d++):h<0&&(l.push(u),d++)}if(o.length>0&&0===l.length)if(1===o.length)a[o[0]][s]="both";else{var p,m=o[0],f=o[o.length-1],g=c(o);try{for(g.s();!(p=g.n()).done;){var _=p.value;a[_][s]=_===m?"bottom":_===f?"top":"none"}}catch(e){g.e(e)}finally{g.f()}}else if(l.length>0&&0===o.length)if(1===l.length)a[l[0]][s]="both";else{var v,b=l[0],y=l[l.length-1],x=c(l);try{for(x.s();!(v=x.n()).done;){var w=v.value;a[w][s]=w===b?"bottom":w===y?"top":"none"}}catch(e){x.e(e)}finally{x.f()}}else if(o.length>0&&l.length>0){var E,S=o[o.length-1],C=c(o);try{for(C.s();!(E=C.n()).done;){var T=E.value;a[T][s]=T===S?"top":"none"}}catch(e){C.e(e)}finally{C.f()}var N,A=l[l.length-1],k=c(l);try{for(k.s();!(N=k.n()).done;){var R=N.value;a[R][s]=R===A?"bottom":"none"}}catch(e){k.e(e)}finally{k.f()}}else 1===d&&(a[o[0]||l[0]][s]="both")}return a}},{key:"barBackground",value:function(e){var t=e.j,n=e.i,i=e.x1,r=e.x2,a=e.y1,s=e.y2,o=e.elSeries,l=this.w,c=new T(this.barCtx.ctx),d=new K(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&d===n){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var u=this.barCtx.barOptions.colors.backgroundBarColors[t],h=c.drawRect(void 0!==i?i:0,void 0!==a?a:0,void 0!==r?r:l.globals.gridWidth,void 0!==s?s:l.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,u,this.barCtx.barOptions.colors.backgroundBarOpacity);o.add(h),h.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,n=e.barWidth,i=e.barXPosition,r=e.y1,a=e.y2,s=e.strokeWidth,o=e.isReversed,l=e.series,c=e.seriesGroup,d=e.realIndex,u=e.i,h=e.j,p=e.w,m=new T(this.barCtx.ctx);(s=Array.isArray(s)?s[d]:s)||(s=0);var f=n,g=i;null!==(t=p.config.series[d].data[h])&&void 0!==t&&t.columnWidthOffset&&(g=i-p.config.series[d].data[h].columnWidthOffset/2,f=n+p.config.series[d].data[h].columnWidthOffset);var _=s/2,v=g+_,b=g+f-_,y=(l[u][h]>=0?1:-1)*(o?-1:1);r+=.001-_*y,a+=.001+_*y;var x=m.move(v,r),w=m.move(v,r),E=m.line(b,r);if(p.globals.previousPaths.length>0&&(w=this.barCtx.getPreviousPath(d,h,!1)),x=x+m.line(v,a)+m.line(b,a)+E+("around"===p.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[d][h]?" Z":" z"),w=w+m.line(v,r)+E+E+E+E+E+m.line(v,r)+("around"===p.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[d][h]?" Z":" z"),"none"!==this.arrBorderRadius[d][h]&&(x=m.roundPathCorners(x,p.config.plotOptions.bar.borderRadius)),p.config.chart.stacked){var S=this.barCtx;(S=this.barCtx[c]).yArrj.push(a-_*y),S.yArrjF.push(Math.abs(r-a+s*y)),S.yArrjVal.push(this.barCtx.series[u][h])}return{pathTo:x,pathFrom:w}}},{key:"getBarpaths",value:function(e){var t,n=e.barYPosition,i=e.barHeight,r=e.x1,a=e.x2,s=e.strokeWidth,o=e.isReversed,l=e.series,c=e.seriesGroup,d=e.realIndex,u=e.i,h=e.j,p=e.w,m=new T(this.barCtx.ctx);(s=Array.isArray(s)?s[d]:s)||(s=0);var f=n,g=i;null!==(t=p.config.series[d].data[h])&&void 0!==t&&t.barHeightOffset&&(f=n-p.config.series[d].data[h].barHeightOffset/2,g=i+p.config.series[d].data[h].barHeightOffset);var _=s/2,v=f+_,b=f+g-_,y=(l[u][h]>=0?1:-1)*(o?-1:1);r+=.001+_*y,a+=.001-_*y;var x=m.move(r,v),w=m.move(r,v);p.globals.previousPaths.length>0&&(w=this.barCtx.getPreviousPath(d,h,!1));var E=m.line(r,b);if(x=x+m.line(a,v)+m.line(a,b)+E+("around"===p.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[d][h]?" Z":" z"),w=w+m.line(r,v)+E+E+E+E+E+m.line(r,v)+("around"===p.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[d][h]?" Z":" z"),"none"!==this.arrBorderRadius[d][h]&&(x=m.roundPathCorners(x,p.config.plotOptions.bar.borderRadius)),p.config.chart.stacked){var S=this.barCtx;(S=this.barCtx[c]).xArrj.push(a+_*y),S.xArrjF.push(Math.abs(r-a-s*y)),S.xArrjVal.push(this.barCtx.series[u][h])}return{pathTo:x,pathFrom:w}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,n=this.w,i=0;i<t.length;i++){for(var r=0,a=0;a<t[n.globals.maxValsInArrayIndex].length;a++)r+=t[i][a];0===r&&this.barCtx.zeroSerieses.push(i)}}},{key:"getXForValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:t;return null!=e&&(n=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),n}},{key:"getYForValue",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?null:t;return null!=e&&(i=t-e/this.barCtx.yRatio[n]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[n]:0)),i}},{key:"getGoalValues",value:function(e,t,n,i,r,a){var s=this,o=this.w,l=[],c=function(i,r){var o;l.push((u(o={},e,"x"===e?s.getXForValue(i,t,!1):s.getYForValue(i,n,a,!1)),u(o,"attrs",r),o))};if(o.globals.seriesGoals[i]&&o.globals.seriesGoals[i][r]&&Array.isArray(o.globals.seriesGoals[i][r])&&o.globals.seriesGoals[i][r].forEach(function(e){c(e.value,e)}),this.barCtx.barOptions.isDumbbell&&o.globals.seriesRange.length){var d=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:o.globals.colors,h={strokeHeight:"x"===e?0:o.globals.markers.size[i],strokeWidth:"x"===e?o.globals.markers.size[i]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(d[i])?d[i][0]:d[i]};c(o.globals.seriesRangeStart[i][r],h),c(o.globals.seriesRangeEnd[i][r],g(g({},h),{},{strokeColor:Array.isArray(d[i])?d[i][1]:d[i]}))}return l}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,n=e.barYPosition,i=e.goalX,r=e.goalY,a=e.barWidth,s=e.barHeight,o=new T(this.barCtx.ctx),l=o.group({className:"apexcharts-bar-goals-groups"});l.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:l.node}),l.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var c=null;return this.barCtx.isHorizontal?Array.isArray(i)&&i.forEach(function(e){if(e.x>=-1&&e.x<=o.w.globals.gridWidth+1){var t=void 0!==e.attrs.strokeHeight?e.attrs.strokeHeight:s/2,i=n+t+s/2;c=o.drawLine(e.x,i-2*t,e.x,i,e.attrs.strokeColor?e.attrs.strokeColor:void 0,e.attrs.strokeDashArray,e.attrs.strokeWidth?e.attrs.strokeWidth:2,e.attrs.strokeLineCap),l.add(c)}}):Array.isArray(r)&&r.forEach(function(e){if(e.y>=-1&&e.y<=o.w.globals.gridHeight+1){var n=void 0!==e.attrs.strokeWidth?e.attrs.strokeWidth:a/2,i=t+n+a/2;c=o.drawLine(i-2*n,e.y,i,e.y,e.attrs.strokeColor?e.attrs.strokeColor:void 0,e.attrs.strokeDashArray,e.attrs.strokeHeight?e.attrs.strokeHeight:2,e.attrs.strokeLineCap),l.add(c)}}),l}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,n=e.currPaths,i=e.color,r=this.w,a=t.x,s=t.x1,o=t.barYPosition,l=n.x,c=n.x1,d=n.barYPosition,u=o+n.barHeight,h=new T(this.barCtx.ctx),p=new E,m=h.move(s,u)+h.line(a,u)+h.line(l,d)+h.line(c,d)+h.line(s,u)+("around"===r.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[realIndex][j]?" Z":" z");return h.drawPath({d:m,fill:p.shadeColor(.5,E.rgb2hex(i)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(e){var t,n=e.i,i=e.j,r=this.w,a=0,s=0;return(r.config.plotOptions.bar.horizontal?r.globals.series.map(function(e,t){return t}):(null===(t=r.globals.columnSeries)||void 0===t?void 0:t.i.map(function(e){return e}))||[]).forEach(function(e){var t=r.globals.seriesPercent[e][i];t&&a++,e<n&&0===t&&s++}),{nonZeroColumns:a,zeroEncounters:s}}},{key:"getGroupIndex",value:function(e){var t=this.w,n=t.globals.seriesGroups.findIndex(function(n){return n.indexOf(t.globals.seriesNames[e])>-1}),i=this.barCtx.columnGroupIndices,r=i.indexOf(n);return r<0&&(i.push(n),r=i.length-1),{groupIndex:n,columnGroupIndex:r}}}]),e}(),Ae=function(){function e(t,n){s(this,e),this.ctx=t,this.w=t.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.isRangeBar=i.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!i.globals.isBarHorizontal&&i.globals.seriesRange.length&&i.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=n,null!==this.xyRatios&&(this.xRatio=n.xRatio,this.yRatio=n.yRatio,this.invertedXRatio=n.invertedXRatio,this.invertedYRatio=n.invertedYRatio,this.baseLineY=n.baseLineY,this.baseLineInvertedY=n.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var r=new K(this.ctx);this.lastActiveBarSerieIndex=r.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var a=r.getBarSeriesIndices(),o=new N(this.ctx);this.stackedSeriesTotals=o.getStackedSeriesTotals(this.w.config.series.map(function(e,t){return-1===a.indexOf(t)?t:-1}).filter(function(e){return-1!==e})),this.barHelpers=new Ne(this)}return l(e,[{key:"draw",value:function(e,t){var n=this.w,i=new T(this.ctx),r=new N(this.ctx,n);e=r.getLogSeries(e),this.series=e,this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var a=i.group({class:"apexcharts-bar-series apexcharts-plot-series"});n.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var s=0,o=0;s<e.length;s++,o++){var l,c,d,u,h=void 0,p=void 0,m=[],f=[],_=n.globals.comboCharts?t[s]:s,v=this.barHelpers.getGroupIndex(_).columnGroupIndex,b=i.group({class:"apexcharts-series",rel:s+1,seriesName:E.escapeString(n.globals.seriesNames[_]),"data:realIndex":_});this.ctx.series.addCollapsedClassToSeries(b,_),e[s].length>0&&(this.visibleI=this.visibleI+1);var y=0,x=0;this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[_],this.translationsIndex=_);var w=this.translationsIndex;this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var S=this.barHelpers.initialPositions();p=S.y,y=S.barHeight,c=S.yDivision,u=S.zeroW,h=S.x,x=S.barWidth,l=S.xDivision,d=S.zeroH,this.horizontal||f.push(h+x/2);var C=i.group({class:"apexcharts-datalabels","data:realIndex":_});n.globals.delayedElements.push({el:C.node}),C.node.classList.add("apexcharts-element-hidden");var A=i.group({class:"apexcharts-bar-goals-markers"}),k=i.group({class:"apexcharts-bar-shadows"});n.globals.delayedElements.push({el:k.node}),k.node.classList.add("apexcharts-element-hidden");for(var R=0;R<e[s].length;R++){var I=this.barHelpers.getStrokeWidth(s,R,_),O=null,j={indexes:{i:s,j:R,realIndex:_,translationsIndex:w,bc:o},x:h,y:p,strokeWidth:I,elSeries:b};this.isHorizontal?(O=this.drawBarPaths(g(g({},j),{},{barHeight:y,zeroW:u,yDivision:c})),x=this.series[s][R]/this.invertedYRatio):(O=this.drawColumnPaths(g(g({},j),{},{xDivision:l,barWidth:x,zeroH:d})),y=this.series[s][R]/this.yRatio[w]);var P=this.barHelpers.getPathFillColor(e,s,R,_);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&R>0){var D=this.barHelpers.drawBarShadow({color:"string"==typeof P&&-1===(null==P?void 0:P.indexOf("url"))?P:E.hexToRgba(n.globals.colors[s]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:O});D&&k.add(D)}this.pathArr.push(O);var L=this.barHelpers.drawGoalLine({barXPosition:O.barXPosition,barYPosition:O.barYPosition,goalX:O.goalX,goalY:O.goalY,barHeight:y,barWidth:x});L&&A.add(L),p=O.y,h=O.x,R>0&&f.push(h+x/2),m.push(p),this.renderSeries({realIndex:_,pathFill:P,j:R,i:s,columnGroupIndex:v,pathFrom:O.pathFrom,pathTo:O.pathTo,strokeWidth:I,elSeries:b,x:h,y:p,series:e,barHeight:Math.abs(O.barHeight?O.barHeight:y),barWidth:Math.abs(O.barWidth?O.barWidth:x),elDataLabelsWrap:C,elGoalsMarkers:A,elBarShadows:k,visibleSeries:this.visibleI,type:"bar"})}n.globals.seriesXvalues[_]=f,n.globals.seriesYvalues[_]=m,a.add(b)}return a}},{key:"renderSeries",value:function(e){var t=e.realIndex,n=e.pathFill,i=e.lineFill,r=e.j,a=e.i,s=e.columnGroupIndex,o=e.pathFrom,l=e.pathTo,c=e.strokeWidth,d=e.elSeries,u=e.x,h=e.y,p=e.y1,m=e.y2,f=e.series,g=e.barHeight,_=e.barWidth,v=e.barXPosition,b=e.barYPosition,y=e.elDataLabelsWrap,x=e.elGoalsMarkers,w=e.elBarShadows,E=e.visibleSeries,S=e.type,N=e.classes,A=this.w,k=new T(this.ctx);if(!i){var R="function"==typeof A.globals.stroke.colors[t]?function(e){var t,n=A.config.stroke.colors;return Array.isArray(n)&&n.length>0&&((t=n[e])||(t=""),"function"==typeof t)?t({value:A.globals.series[e][r],dataPointIndex:r,w:A}):t}(t):A.globals.stroke.colors[t];i=this.barOptions.distributed?A.globals.stroke.colors[r]:R}A.config.series[a].data[r]&&A.config.series[a].data[r].strokeColor&&(i=A.config.series[a].data[r].strokeColor),this.isNullValue&&(n="none");var I=r/A.config.chart.animations.animateGradually.delay*(A.config.chart.animations.speed/A.globals.dataPoints)/2.4,O=k.renderPaths({i:a,j:r,realIndex:t,pathFrom:o,pathTo:l,stroke:i,strokeWidth:c,strokeLineCap:A.config.stroke.lineCap,fill:n,animationDelay:I,initialSpeed:A.config.chart.animations.speed,dataChangeSpeed:A.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(S,"-area ").concat(N),chartType:S});O.attr("clip-path","url(#gridRectBarMask".concat(A.globals.cuid,")"));var j=A.config.forecastDataPoints;j.count>0&&r>=A.globals.dataPoints-j.count&&(O.node.setAttribute("stroke-dasharray",j.dashArray),O.node.setAttribute("stroke-width",j.strokeWidth),O.node.setAttribute("fill-opacity",j.fillOpacity)),void 0!==p&&void 0!==m&&(O.attr("data-range-y1",p),O.attr("data-range-y2",m)),new C(this.ctx).setSelectionFilter(O,t,r),d.add(O);var P=new Te(this).handleBarDataLabels({x:u,y:h,y1:p,y2:m,i:a,j:r,series:f,realIndex:t,columnGroupIndex:s,barHeight:g,barWidth:_,barXPosition:v,barYPosition:b,renderedPath:O,visibleSeries:E});return null!==P.dataLabels&&y.add(P.dataLabels),P.totalDataLabels&&y.add(P.totalDataLabels),d.add(y),x&&d.add(x),w&&d.add(w),d}},{key:"drawBarPaths",value:function(e){var t,n=e.indexes,i=e.barHeight,r=e.strokeWidth,a=e.zeroW,s=e.x,o=e.y,l=e.yDivision,c=e.elSeries,d=this.w,u=n.i,h=n.j;if(d.globals.isXNumeric)t=(o=(d.globals.seriesX[u][h]-d.globals.minX)/this.invertedXRatio-i)+i*this.visibleI;else if(d.config.plotOptions.bar.hideZeroBarsWhenGrouped){var p=0,m=0;d.globals.seriesPercent.forEach(function(e,t){e[h]&&p++,t<u&&0===e[h]&&m++}),p>0&&(i=this.seriesLen*i/p),t=o+i*this.visibleI,t-=i*m}else t=o+i*this.visibleI;this.isFunnel&&(a-=(this.barHelpers.getXForValue(this.series[u][h],a)-a)/2),s=this.barHelpers.getXForValue(this.series[u][h],a);var f=this.barHelpers.getBarpaths({barYPosition:t,barHeight:i,x1:a,x2:s,strokeWidth:r,isReversed:this.isReversed,series:this.series,realIndex:n.realIndex,i:u,j:h,w:d});return d.globals.isXNumeric||(o+=l),this.barHelpers.barBackground({j:h,i:u,y1:t-i*this.visibleI,y2:i*this.seriesLen,elSeries:c}),{pathTo:f.pathTo,pathFrom:f.pathFrom,x1:a,x:s,y:o,goalX:this.barHelpers.getGoalValues("x",a,null,u,h),barYPosition:t,barHeight:i}}},{key:"drawColumnPaths",value:function(e){var t,n=e.indexes,i=e.x,r=e.y,a=e.xDivision,s=e.barWidth,o=e.zeroH,l=e.strokeWidth,c=e.elSeries,d=this.w,u=n.realIndex,h=n.translationsIndex,p=n.i,m=n.j,f=n.bc;if(d.globals.isXNumeric){var g=this.getBarXForNumericXAxis({x:i,j:m,realIndex:u,barWidth:s});i=g.x,t=g.barXPosition}else if(d.config.plotOptions.bar.hideZeroBarsWhenGrouped){var _=this.barHelpers.getZeroValueEncounters({i:p,j:m}),v=_.nonZeroColumns,b=_.zeroEncounters;v>0&&(s=this.seriesLen*s/v),t=i+s*this.visibleI,t-=s*b}else t=i+s*this.visibleI;r=this.barHelpers.getYForValue(this.series[p][m],o,h);var y=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:s,y1:o,y2:r,strokeWidth:l,isReversed:this.isReversed,series:this.series,realIndex:u,i:p,j:m,w:d});return d.globals.isXNumeric||(i+=a),this.barHelpers.barBackground({bc:f,j:m,i:p,x1:t-l/2-s*this.visibleI,x2:s*this.seriesLen+l/2,elSeries:c}),{pathTo:y.pathTo,pathFrom:y.pathFrom,x:i,y:r,goalY:this.barHelpers.getGoalValues("y",null,o,p,m,h),barXPosition:t,barWidth:s}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,n=e.barWidth,i=e.realIndex,r=e.j,a=this.w,s=i;return a.globals.seriesX[i].length||(s=a.globals.maxValsInArrayIndex),a.globals.seriesX[s][r]&&(t=(a.globals.seriesX[s][r]-a.globals.minX)/this.xRatio-n*this.seriesLen/2),{barXPosition:t+n*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var n,i=this.w,r=0;r<i.globals.previousPaths.length;r++){var a=i.globals.previousPaths[r];a.paths&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(e,10)&&void 0!==i.globals.previousPaths[r].paths[t]&&(n=i.globals.previousPaths[r].paths[t].d)}return n}}]),e}(),ke=function(){p(t,Ae);var e=d(t);function t(){return s(this,t),e.apply(this,arguments)}return l(t,[{key:"draw",value:function(e,t){var n=this,i=this.w;this.graphics=new T(this.ctx),this.bar=new Ae(this.ctx,this.xyRatios);var r=new N(this.ctx,i);e=r.getLogSeries(e),this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e),"100%"===i.config.chart.stackType&&(e=i.globals.comboCharts?t.map(function(e){return i.globals.seriesPercent[e]}):i.globals.seriesPercent.slice()),this.series=e,this.barHelpers.initializeStackedPrevVars(this);for(var a=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),s=0,o=0,l=function(r,l){var c=void 0,d=void 0,u=void 0,h=void 0,p=i.globals.comboCharts?t[r]:r,m=n.barHelpers.getGroupIndex(p),f=m.groupIndex,_=m.columnGroupIndex;n.groupCtx=n[i.globals.seriesGroups[f]];var v=[],b=[],y=0;n.yRatio.length>1&&(n.yaxisIndex=i.globals.seriesYAxisReverseMap[p][0],y=p),n.isReversed=i.config.yaxis[n.yaxisIndex]&&i.config.yaxis[n.yaxisIndex].reversed;var x=n.graphics.group({class:"apexcharts-series",seriesName:E.escapeString(i.globals.seriesNames[p]),rel:r+1,"data:realIndex":p});n.ctx.series.addCollapsedClassToSeries(x,p);var w=n.graphics.group({class:"apexcharts-datalabels","data:realIndex":p}),S=n.graphics.group({class:"apexcharts-bar-goals-markers"}),C=0,T=0,N=n.initialPositions(s,o,c,d,u,h,y);o=N.y,C=N.barHeight,d=N.yDivision,h=N.zeroW,s=N.x,T=N.barWidth,c=N.xDivision,u=N.zeroH,i.globals.barHeight=C,i.globals.barWidth=T,n.barHelpers.initializeStackedXYVars(n),1===n.groupCtx.prevY.length&&n.groupCtx.prevY[0].every(function(e){return isNaN(e)})&&(n.groupCtx.prevY[0]=n.groupCtx.prevY[0].map(function(){return u}),n.groupCtx.prevYF[0]=n.groupCtx.prevYF[0].map(function(){return 0}));for(var A=0;A<i.globals.dataPoints;A++){var k=n.barHelpers.getStrokeWidth(r,A,p),R={indexes:{i:r,j:A,realIndex:p,translationsIndex:y,bc:l},strokeWidth:k,x:s,y:o,elSeries:x,columnGroupIndex:_,seriesGroup:i.globals.seriesGroups[f]},I=null;n.isHorizontal?(I=n.drawStackedBarPaths(g(g({},R),{},{zeroW:h,barHeight:C,yDivision:d})),T=n.series[r][A]/n.invertedYRatio):(I=n.drawStackedColumnPaths(g(g({},R),{},{xDivision:c,barWidth:T,zeroH:u})),C=n.series[r][A]/n.yRatio[y]);var O=n.barHelpers.drawGoalLine({barXPosition:I.barXPosition,barYPosition:I.barYPosition,goalX:I.goalX,goalY:I.goalY,barHeight:C,barWidth:T});O&&S.add(O),o=I.y,s=I.x,v.push(s),b.push(o);var j=n.barHelpers.getPathFillColor(e,r,A,p),P="";i.globals.isBarHorizontal?"bottom"===n.barHelpers.arrBorderRadius[p][A]&&i.globals.series[p][A]>0&&(P="apexcharts-flip-x"):"bottom"===n.barHelpers.arrBorderRadius[p][A]&&i.globals.series[p][A]>0&&(P="apexcharts-flip-y"),x=n.renderSeries({realIndex:p,pathFill:j,j:A,i:r,columnGroupIndex:_,pathFrom:I.pathFrom,pathTo:I.pathTo,strokeWidth:k,elSeries:x,x:s,y:o,series:e,barHeight:C,barWidth:T,elDataLabelsWrap:w,elGoalsMarkers:S,type:"bar",visibleSeries:_,classes:P})}i.globals.seriesXvalues[p]=v,i.globals.seriesYvalues[p]=b,n.groupCtx.prevY.push(n.groupCtx.yArrj),n.groupCtx.prevYF.push(n.groupCtx.yArrjF),n.groupCtx.prevYVal.push(n.groupCtx.yArrjVal),n.groupCtx.prevX.push(n.groupCtx.xArrj),n.groupCtx.prevXF.push(n.groupCtx.xArrjF),n.groupCtx.prevXVal.push(n.groupCtx.xArrjVal),a.add(x)},c=0,d=0;c<e.length;c++,d++)l(c,d);return a}},{key:"initialPositions",value:function(e,t,n,i,r,a,s){var o,l,c=this.w;if(this.isHorizontal){i=c.globals.gridHeight/c.globals.dataPoints;var d=c.config.plotOptions.bar.barHeight;o=-1===String(d).indexOf("%")?parseInt(d,10):i*parseInt(d,10)/100,a=c.globals.padHorizontal+(this.isReversed?c.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),t=(i-o)/2}else{l=n=c.globals.gridWidth/c.globals.dataPoints;var u=c.config.plotOptions.bar.columnWidth;c.globals.isXNumeric&&c.globals.dataPoints>1?l=(n=c.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:-1===String(u).indexOf("%")?l=parseInt(u,10):l*=parseInt(u,10)/100,r=this.isReversed?this.baseLineY[s]:c.globals.gridHeight-this.baseLineY[s],e=c.globals.padHorizontal+(n-l)/2}var h=c.globals.barGroups.length||1;return{x:e,y:t,yDivision:i,xDivision:n,barHeight:o/h,barWidth:l/h,zeroH:r,zeroW:a}}},{key:"drawStackedBarPaths",value:function(e){for(var t,n=e.indexes,i=e.barHeight,r=e.strokeWidth,a=e.zeroW,s=e.x,o=e.y,l=e.columnGroupIndex,c=e.seriesGroup,d=e.yDivision,u=e.elSeries,h=this.w,p=o+l*i,m=n.i,f=n.j,g=n.realIndex,_=n.translationsIndex,v=0,b=0;b<this.groupCtx.prevXF.length;b++)v+=this.groupCtx.prevXF[b][f];var y;if((y=c.indexOf(h.config.series[g].name))>0){var x=a;this.groupCtx.prevXVal[y-1][f]<0?x=this.series[m][f]>=0?this.groupCtx.prevX[y-1][f]+v-2*(this.isReversed?v:0):this.groupCtx.prevX[y-1][f]:this.groupCtx.prevXVal[y-1][f]>=0&&(x=this.series[m][f]>=0?this.groupCtx.prevX[y-1][f]:this.groupCtx.prevX[y-1][f]-v+2*(this.isReversed?v:0)),t=x}else t=a;s=null===this.series[m][f]?t:t+this.series[m][f]/this.invertedYRatio-2*(this.isReversed?this.series[m][f]/this.invertedYRatio:0);var w=this.barHelpers.getBarpaths({barYPosition:p,barHeight:i,x1:t,x2:s,strokeWidth:r,isReversed:this.isReversed,series:this.series,realIndex:n.realIndex,seriesGroup:c,i:m,j:f,w:h});return this.barHelpers.barBackground({j:f,i:m,y1:p,y2:i,elSeries:u}),o+=d,{pathTo:w.pathTo,pathFrom:w.pathFrom,goalX:this.barHelpers.getGoalValues("x",a,null,m,f,_),barXPosition:t,barYPosition:p,x:s,y:o}}},{key:"drawStackedColumnPaths",value:function(e){var t=e.indexes,n=e.x,i=e.y,r=e.xDivision,a=e.barWidth,s=e.zeroH,o=e.columnGroupIndex,l=e.seriesGroup,c=e.elSeries,d=this.w,u=t.i,h=t.j,p=t.bc,m=t.realIndex,f=t.translationsIndex;if(d.globals.isXNumeric){var g=d.globals.seriesX[m][h];g||(g=0),n=(g-d.globals.minX)/this.xRatio-a/2*d.globals.barGroups.length}for(var _,v=n+o*a,b=0,y=0;y<this.groupCtx.prevYF.length;y++)b+=isNaN(this.groupCtx.prevYF[y][h])?0:this.groupCtx.prevYF[y][h];var x=u;if(l&&(x=l.indexOf(d.globals.seriesNames[m])),x>0&&!d.globals.isXNumeric||x>0&&d.globals.isXNumeric&&d.globals.seriesX[m-1][h]===d.globals.seriesX[m][h]){var w,E,S,C=Math.min(this.yRatio.length+1,m+1);if(void 0!==this.groupCtx.prevY[x-1]&&this.groupCtx.prevY[x-1].length)for(var T=1;T<C;T++){var N;if(!isNaN(null===(N=this.groupCtx.prevY[x-T])||void 0===N?void 0:N[h])){S=this.groupCtx.prevY[x-T][h];break}}for(var A=1;A<C;A++){var k,R;if((null===(k=this.groupCtx.prevYVal[x-A])||void 0===k?void 0:k[h])<0){E=this.series[u][h]>=0?S-b+2*(this.isReversed?b:0):S;break}if((null===(R=this.groupCtx.prevYVal[x-A])||void 0===R?void 0:R[h])>=0){E=this.series[u][h]>=0?S:S+b-2*(this.isReversed?b:0);break}}void 0===E&&(E=d.globals.gridHeight),_=null!==(w=this.groupCtx.prevYF[0])&&void 0!==w&&w.every(function(e){return 0===e})&&this.groupCtx.prevYF.slice(1,x).every(function(e){return e.every(function(e){return isNaN(e)})})?s:E}else _=s;i=this.series[u][h]?_-this.series[u][h]/this.yRatio[f]+2*(this.isReversed?this.series[u][h]/this.yRatio[f]:0):_;var I=this.barHelpers.getColumnPaths({barXPosition:v,barWidth:a,y1:_,y2:i,yRatio:this.yRatio[f],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:l,realIndex:t.realIndex,i:u,j:h,w:d});return this.barHelpers.barBackground({bc:p,j:h,i:u,x1:v,x2:a,elSeries:c}),{pathTo:I.pathTo,pathFrom:I.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,s,u,h),barXPosition:v,x:d.globals.isXNumeric?n:n+r,y:i}}}]),t}(),Re=function(){p(t,Ae);var e=d(t);function t(){return s(this,t),e.apply(this,arguments)}return l(t,[{key:"draw",value:function(e,t,n){var i=this,r=this.w,a=new T(this.ctx),s=r.globals.comboCharts?t:r.config.chart.type,o=new G(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=r.config.plotOptions.bar.horizontal;var l=new N(this.ctx,r);e=l.getLogSeries(e),this.series=e,this.yRatio=l.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);for(var c=a.group({class:"apexcharts-".concat(s,"-series apexcharts-plot-series")}),d=function(t){i.isBoxPlot="boxPlot"===r.config.chart.type||"boxPlot"===r.config.series[t].type;var s,l,d,u,h=void 0,p=void 0,m=[],f=[],_=r.globals.comboCharts?n[t]:t,v=i.barHelpers.getGroupIndex(_).columnGroupIndex,b=a.group({class:"apexcharts-series",seriesName:E.escapeString(r.globals.seriesNames[_]),rel:t+1,"data:realIndex":_});i.ctx.series.addCollapsedClassToSeries(b,_),e[t].length>0&&(i.visibleI=i.visibleI+1);var y,x,w=0;i.yRatio.length>1&&(i.yaxisIndex=r.globals.seriesYAxisReverseMap[_][0],w=_);var S=i.barHelpers.initialPositions();p=S.y,y=S.barHeight,l=S.yDivision,u=S.zeroW,h=S.x,x=S.barWidth,s=S.xDivision,d=S.zeroH,f.push(h+x/2);for(var C=a.group({class:"apexcharts-datalabels","data:realIndex":_}),T=function(n){var a=i.barHelpers.getStrokeWidth(t,n,_),c=null,E={indexes:{i:t,j:n,realIndex:_,translationsIndex:w},x:h,y:p,strokeWidth:a,elSeries:b};c=i.isHorizontal?i.drawHorizontalBoxPaths(g(g({},E),{},{yDivision:l,barHeight:y,zeroW:u})):i.drawVerticalBoxPaths(g(g({},E),{},{xDivision:s,barWidth:x,zeroH:d})),p=c.y,h=c.x,n>0&&f.push(h+x/2),m.push(p),c.pathTo.forEach(function(s,l){var d=!i.isBoxPlot&&i.candlestickOptions.wick.useFillColor?c.color[l]:r.globals.stroke.colors[t],u=o.fillPath({seriesNumber:_,dataPointIndex:n,color:c.color[l],value:e[t][n]});i.renderSeries({realIndex:_,pathFill:u,lineFill:d,j:n,i:t,pathFrom:c.pathFrom,pathTo:s,strokeWidth:a,elSeries:b,x:h,y:p,series:e,columnGroupIndex:v,barHeight:y,barWidth:x,elDataLabelsWrap:C,visibleSeries:i.visibleI,type:r.config.chart.type})})},N=0;N<r.globals.dataPoints;N++)T(N);r.globals.seriesXvalues[_]=f,r.globals.seriesYvalues[_]=m,c.add(b)},u=0;u<e.length;u++)d(u);return c}},{key:"drawVerticalBoxPaths",value:function(e){var t=e.indexes,n=e.x;e.y;var i=e.xDivision,r=e.barWidth,a=e.zeroH,s=e.strokeWidth,o=this.w,l=new T(this.ctx),c=t.i,d=t.j,u=!0,h=o.config.plotOptions.candlestick.colors.upward,p=o.config.plotOptions.candlestick.colors.downward,m="";this.isBoxPlot&&(m=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var f=this.yRatio[t.translationsIndex],g=t.realIndex,_=this.getOHLCValue(g,d),v=a,b=a;_.o>_.c&&(u=!1);var y=Math.min(_.o,_.c),x=Math.max(_.o,_.c),w=_.m;o.globals.isXNumeric&&(n=(o.globals.seriesX[g][d]-o.globals.minX)/this.xRatio-r/2);var E=n+r*this.visibleI;void 0===this.series[c][d]||null===this.series[c][d]?(y=a,x=a):(y=a-y/f,x=a-x/f,v=a-_.h/f,b=a-_.l/f,w=a-_.m/f);var S=l.move(E,a),C=l.move(E+r/2,y);return o.globals.previousPaths.length>0&&(C=this.getPreviousPath(g,d,!0)),S=this.isBoxPlot?[l.move(E,y)+l.line(E+r/2,y)+l.line(E+r/2,v)+l.line(E+r/4,v)+l.line(E+r-r/4,v)+l.line(E+r/2,v)+l.line(E+r/2,y)+l.line(E+r,y)+l.line(E+r,w)+l.line(E,w)+l.line(E,y+s/2),l.move(E,w)+l.line(E+r,w)+l.line(E+r,x)+l.line(E+r/2,x)+l.line(E+r/2,b)+l.line(E+r-r/4,b)+l.line(E+r/4,b)+l.line(E+r/2,b)+l.line(E+r/2,x)+l.line(E,x)+l.line(E,w)+"z"]:[l.move(E,x)+l.line(E+r/2,x)+l.line(E+r/2,v)+l.line(E+r/2,x)+l.line(E+r,x)+l.line(E+r,y)+l.line(E+r/2,y)+l.line(E+r/2,b)+l.line(E+r/2,y)+l.line(E,y)+l.line(E,x-s/2)],C+=l.move(E,y),o.globals.isXNumeric||(n+=i),{pathTo:S,pathFrom:C,x:n,y:x,barXPosition:E,color:this.isBoxPlot?m:u?[h]:[p]}}},{key:"drawHorizontalBoxPaths",value:function(e){var t=e.indexes;e.x;var n=e.y,i=e.yDivision,r=e.barHeight,a=e.zeroW,s=e.strokeWidth,o=this.w,l=new T(this.ctx),c=t.i,d=t.j,u=this.boxOptions.colors.lower;this.isBoxPlot&&(u=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var h=this.invertedYRatio,p=t.realIndex,m=this.getOHLCValue(p,d),f=a,g=a,_=Math.min(m.o,m.c),v=Math.max(m.o,m.c),b=m.m;o.globals.isXNumeric&&(n=(o.globals.seriesX[p][d]-o.globals.minX)/this.invertedXRatio-r/2);var y=n+r*this.visibleI;void 0===this.series[c][d]||null===this.series[c][d]?(_=a,v=a):(_=a+_/h,v=a+v/h,f=a+m.h/h,g=a+m.l/h,b=a+m.m/h);var x=l.move(a,y),w=l.move(_,y+r/2);return o.globals.previousPaths.length>0&&(w=this.getPreviousPath(p,d,!0)),x=[l.move(_,y)+l.line(_,y+r/2)+l.line(f,y+r/2)+l.line(f,y+r/2-r/4)+l.line(f,y+r/2+r/4)+l.line(f,y+r/2)+l.line(_,y+r/2)+l.line(_,y+r)+l.line(b,y+r)+l.line(b,y)+l.line(_+s/2,y),l.move(b,y)+l.line(b,y+r)+l.line(v,y+r)+l.line(v,y+r/2)+l.line(g,y+r/2)+l.line(g,y+r-r/4)+l.line(g,y+r/4)+l.line(g,y+r/2)+l.line(v,y+r/2)+l.line(v,y)+l.line(b,y)+"z"],w+=l.move(_,y),o.globals.isXNumeric||(n+=i),{pathTo:x,pathFrom:w,x:v,y:n,barYPosition:y,color:u}}},{key:"getOHLCValue",value:function(e,t){var n=this.w;return{o:this.isBoxPlot?n.globals.seriesCandleH[e][t]:n.globals.seriesCandleO[e][t],h:this.isBoxPlot?n.globals.seriesCandleO[e][t]:n.globals.seriesCandleH[e][t],m:n.globals.seriesCandleM[e][t],l:this.isBoxPlot?n.globals.seriesCandleC[e][t]:n.globals.seriesCandleL[e][t],c:this.isBoxPlot?n.globals.seriesCandleL[e][t]:n.globals.seriesCandleC[e][t]}}}]),t}(),Ie=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,n=e.config.plotOptions[e.config.chart.type];return n.colorScale.ranges.length>0&&n.colorScale.ranges.map(function(e,n){e.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,n,i){var r=this.w,a=1,s=r.config.plotOptions[e].shadeIntensity,o=this.determineColor(e,t,n);r.globals.hasNegs||i?a=r.config.plotOptions[e].reverseNegativeShade?o.percent<0?o.percent/100*(1.25*s):(1-o.percent/100)*(1.25*s):o.percent<=0?1-(1+o.percent/100)*s:(1-o.percent/100)*s:(a=1-o.percent/100,"treemap"===e&&(a=(1-o.percent/100)*(1.25*s)));var l=o.color,c=new E;if(r.config.plotOptions[e].enableShades)if("dark"===this.w.config.theme.mode){var d=c.shadeColor(-1*a,o.color);l=E.hexToRgba(E.isColorHex(d)?d:E.rgb2hex(d),r.config.fill.opacity)}else{var u=c.shadeColor(a,o.color);l=E.hexToRgba(E.isColorHex(u)?u:E.rgb2hex(u),r.config.fill.opacity)}return{color:l,colorProps:o}}},{key:"determineColor",value:function(e,t,n){var i=this.w,r=i.globals.series[t][n],a=i.config.plotOptions[e],s=a.colorScale.inverse?n:t;a.distributed&&"treemap"===i.config.chart.type&&(s=n);var o=i.globals.colors[s],l=null,c=Math.min.apply(Math,b(i.globals.series[t])),d=Math.max.apply(Math,b(i.globals.series[t]));a.distributed||"heatmap"!==e||(c=i.globals.minY,d=i.globals.maxY),void 0!==a.colorScale.min&&(c=a.colorScale.min<i.globals.minY?a.colorScale.min:i.globals.minY,d=a.colorScale.max>i.globals.maxY?a.colorScale.max:i.globals.maxY);var u=Math.abs(d)+Math.abs(c),h=100*r/(0===u?u-1e-6:u);return a.colorScale.ranges.length>0&&a.colorScale.ranges.map(function(e,t){if(r>=e.from&&r<=e.to){o=e.color,l=e.foreColor?e.foreColor:null,c=e.from,d=e.to;var n=Math.abs(d)+Math.abs(c);h=100*r/(0===n?n-1e-6:n)}}),{color:o,foreColor:l,percent:h}}},{key:"calculateDataLabels",value:function(e){var t=e.text,n=e.x,i=e.y,r=e.i,a=e.j,s=e.colorProps,o=e.fontSize,l=this.w.config.dataLabels,c=new T(this.ctx),d=new X(this.ctx),u=null;if(l.enabled){u=c.group({class:"apexcharts-data-labels"});var h=l.offsetX,p=l.offsetY,m=n+h,f=i+parseFloat(l.style.fontSize)/3+p;d.plotDataLabelsText({x:m,y:f,text:t,i:r,j:a,color:s.foreColor,parent:u,fontSize:o,dataLabelsConfig:l})}return u}},{key:"addListeners",value:function(e){var t=new T(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),e}(),Oe=function(){function e(t,n){s(this,e),this.ctx=t,this.w=t.w,this.xRatio=n.xRatio,this.yRatio=n.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Ie(t),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return l(e,[{key:"draw",value:function(e){var t=this.w,n=new T(this.ctx),i=n.group({class:"apexcharts-heatmap"});i.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var r=t.globals.gridWidth/t.globals.dataPoints,a=t.globals.gridHeight/t.globals.series.length,s=0,o=!1;this.negRange=this.helpers.checkColorRange();var l=e.slice();t.config.yaxis[0].reversed&&(o=!0,l.reverse());for(var c=o?0:l.length-1;o?c<l.length:c>=0;o?c++:c--){var d=n.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:E.escapeString(t.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(this.ctx.series.addCollapsedClassToSeries(d,c),t.config.chart.dropShadow.enabled){var u=t.config.chart.dropShadow;new C(this.ctx).dropShadow(d,u,c)}for(var h=0,p=t.config.plotOptions.heatmap.shadeIntensity,m=0;m<l[c].length;m++){var f=this.helpers.getShadeColor(t.config.chart.type,c,m,this.negRange),g=f.color,_=f.colorProps;"image"===t.config.fill.type&&(g=new G(this.ctx).fillPath({seriesNumber:c,dataPointIndex:m,opacity:t.globals.hasNegs?_.percent<0?1-(1+_.percent/100):p+_.percent/100:_.percent/100,patternID:E.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:r,height:t.config.fill.image.height?t.config.fill.image.height:a}));var v=this.rectRadius,b=n.drawRect(h,s,r,a,v);if(b.attr({cx:h,cy:s}),b.node.classList.add("apexcharts-heatmap-rect"),d.add(b),b.attr({fill:g,i:c,index:c,j:m,val:e[c][m],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?g:t.globals.stroke.colors[0],color:g}),this.helpers.addListeners(b),t.config.chart.animations.enabled&&!t.globals.dataChanged){var y=1;t.globals.resized||(y=t.config.chart.animations.speed),this.animateHeatMap(b,h,s,r,a,y)}if(t.globals.dataChanged){var x=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){x=this.dynamicAnim.speed;var w=t.globals.previousPaths[c]&&t.globals.previousPaths[c][m]&&t.globals.previousPaths[c][m].color;w||(w="rgba(255, 255, 255, 0)"),this.animateHeatColor(b,E.isColorHex(w)?w:E.rgb2hex(w),E.isColorHex(g)?g:E.rgb2hex(g),x)}}var S=(0,t.config.dataLabels.formatter)(t.globals.series[c][m],{value:t.globals.series[c][m],seriesIndex:c,dataPointIndex:m,w:t}),N=this.helpers.calculateDataLabels({text:S,x:h+r/2,y:s+a/2,i:c,j:m,colorProps:_,series:l});null!==N&&d.add(N),h+=r}s+=a,i.add(d)}var A=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?A.unshift(""):A.push(""),t.globals.yAxisScale[0].result=A,i}},{key:"animateHeatMap",value:function(e,t,n,i,r,a){var s=new S(this.ctx);s.animateRect(e,{x:t+i/2,y:n+r/2,width:0,height:0},{x:t,y:n,width:i,height:r},a,function(){s.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,n,i){e.attr({fill:t}).animate(i).attr({fill:n})}}]),e}(),je=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"drawYAxisTexts",value:function(e,t,n,i){var r=this.w,a=r.config.yaxis[0],s=r.globals.yLabelFormatters[0];return new T(this.ctx).drawText({x:e+a.labels.offsetX,y:t+a.labels.offsetY,text:s(i,n),textAnchor:"middle",fontSize:a.labels.style.fontSize,fontFamily:a.labels.style.fontFamily,foreColor:Array.isArray(a.labels.style.colors)?a.labels.style.colors[n]:a.labels.style.colors})}}]),e}(),Pe=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w;var n=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==n.globals.stroke.colors?n.globals.stroke.colors:n.globals.colors,this.defaultSize=Math.min(n.globals.gridWidth,n.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=n.globals.gridWidth/2,"radialBar"===n.config.chart.type?this.fullAngle=360:this.fullAngle=Math.abs(n.config.plotOptions.pie.endAngle-n.config.plotOptions.pie.startAngle),this.initialAngle=n.config.plotOptions.pie.startAngle%this.fullAngle,n.globals.radialSize=this.defaultSize/2.05-n.config.stroke.width-(n.config.chart.sparkline.enabled?0:n.config.chart.dropShadow.blur),this.donutSize=n.globals.radialSize*parseInt(n.config.plotOptions.pie.donut.size,10)/100;var i=n.config.plotOptions.pie.customScale,r=n.globals.gridWidth/2,a=n.globals.gridHeight/2;this.translateX=r-r*i,this.translateY=a-a*i,this.dataLabelsGroup=new T(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return l(e,[{key:"draw",value:function(e){var t=this,n=this.w,i=new T(this.ctx),r=i.group({class:"apexcharts-pie"});if(n.globals.noData)return r;for(var a=0,s=0;s<e.length;s++)a+=E.negToZero(e[s]);var o=[],l=i.group();0===a&&(a=1e-5),e.forEach(function(e){t.maxY=Math.max(t.maxY,e)}),n.config.yaxis[0].max&&(this.maxY=n.config.yaxis[0].max),"back"===n.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(r);for(var c=0;c<e.length;c++){var d=this.fullAngle*E.negToZero(e[c])/a;o.push(d),"polarArea"===this.chartType?(o[c]=this.fullAngle/e.length,this.sliceSizes.push(n.globals.radialSize*e[c]/this.maxY)):this.sliceSizes.push(n.globals.radialSize)}if(n.globals.dataChanged){for(var u,h=0,p=0;p<n.globals.previousPaths.length;p++)h+=E.negToZero(n.globals.previousPaths[p]);for(var m=0;m<n.globals.previousPaths.length;m++)u=this.fullAngle*E.negToZero(n.globals.previousPaths[m])/h,this.prevSectorAngleArr.push(u)}if(this.donutSize<0&&(this.donutSize=0),"donut"===this.chartType){var f=i.drawCircle(this.donutSize);f.attr({cx:this.centerX,cy:this.centerY,fill:n.config.plotOptions.pie.donut.background?n.config.plotOptions.pie.donut.background:"transparent"}),l.add(f)}var g=this.drawArcs(o,e);if(this.sliceLabels.forEach(function(e){g.add(e)}),l.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n.config.plotOptions.pie.customScale,")")}),l.add(g),r.add(l),this.donutDataLabels.show){var _=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});r.add(_)}return"front"===n.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(r),r}},{key:"drawArcs",value:function(e,t){var n=this.w,i=new C(this.ctx),r=new T(this.ctx),a=new G(this.ctx),s=r.group({class:"apexcharts-slices"}),o=this.initialAngle,l=this.initialAngle,c=this.initialAngle,d=this.initialAngle;this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0;for(var u=0;u<e.length;u++){var h=r.group({class:"apexcharts-series apexcharts-pie-series",seriesName:E.escapeString(n.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});s.add(h),l=d,c=(o=c)+e[u],d=l+this.prevSectorAngleArr[u];var p=c<o?this.fullAngle+c-o:c-o,m=a.fillPath({seriesNumber:u,size:this.sliceSizes[u],value:t[u]}),f=this.getChangedPath(l,d),g=r.drawPath({d:f,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[u]:this.lineColorArr,strokeWidth:0,fill:m,fillOpacity:n.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(u)});if(g.attr({index:0,j:u}),i.setSelectionFilter(g,0,u),n.config.chart.dropShadow.enabled){var _=n.config.chart.dropShadow;i.dropShadow(g,_,u)}this.addListeners(g,this.donutDataLabels),T.setAttrs(g.node,{"data:angle":p,"data:startAngle":o,"data:strokeWidth":this.strokeWidth,"data:value":t[u]});var v={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?v=E.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize/1.25+n.config.plotOptions.pie.dataLabels.offset,(o+p/2)%this.fullAngle):"donut"===this.chartType&&(v=E.polarToCartesian(this.centerX,this.centerY,(n.globals.radialSize+this.donutSize)/2+n.config.plotOptions.pie.dataLabels.offset,(o+p/2)%this.fullAngle)),h.add(g);var b=0;if(!this.initialAnim||n.globals.resized||n.globals.dataChanged?this.animBeginArr.push(0):(0===(b=p/this.fullAngle*n.config.chart.animations.speed)&&(b=1),this.animDur=b+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&n.globals.dataChanged?this.animatePaths(g,{size:this.sliceSizes[u],endAngle:c,startAngle:o,prevStartAngle:l,prevEndAngle:d,animateStartingPos:!0,i:u,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:n.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(g,{size:this.sliceSizes[u],endAngle:c,startAngle:o,i:u,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:b}),n.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&g.node.addEventListener("mouseup",this.pieClicked.bind(this,u)),void 0!==n.globals.selectedDataPoints[0]&&n.globals.selectedDataPoints[0].indexOf(u)>-1&&this.pieClicked(u),n.config.dataLabels.enabled){var y=v.x,x=v.y,w=100*p/this.fullAngle+"%";if(0!==p&&n.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[u]){var S=n.config.dataLabels.formatter;void 0!==S&&(w=S(n.globals.seriesPercent[u][0],{seriesIndex:u,w:n}));var N=n.globals.dataLabels.style.colors[u],A=r.group({class:"apexcharts-datalabels"}),k=r.drawText({x:y,y:x,text:w,textAnchor:"middle",fontSize:n.config.dataLabels.style.fontSize,fontFamily:n.config.dataLabels.style.fontFamily,fontWeight:n.config.dataLabels.style.fontWeight,foreColor:N});if(A.add(k),n.config.dataLabels.dropShadow.enabled){var R=n.config.dataLabels.dropShadow;i.dropShadow(k,R)}k.node.classList.add("apexcharts-pie-label"),n.config.chart.animations.animate&&!1===n.globals.resized&&(k.node.classList.add("apexcharts-pie-label-delay"),k.node.style.animationDelay=n.config.chart.animations.speed/940+"s"),this.sliceLabels.push(A)}}}return s}},{key:"addListeners",value:function(e,t){var n=new T(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var n=this.w,i=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,r=i,a=t.startAngle,s=t.startAngle;void 0!==t.prevStartAngle&&void 0!==t.prevEndAngle&&(a=t.prevEndAngle,r=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===n.config.series.length-1&&(i+s>this.fullAngle?t.endAngle=t.endAngle-(i+s):i+s<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(i+s)))),i===this.fullAngle&&(i=this.fullAngle-.01),this.animateArc(e,a,s,i,r,t)}},{key:"animateArc",value:function(e,t,n,i,r,a){var s,o=this,l=this.w,c=new S(this.ctx),d=a.size;(isNaN(t)||isNaN(r))&&(t=n,r=i,a.dur=0);var u=i,h=n,p=t<n?this.fullAngle+t-n:t-n;l.globals.dataChanged&&a.shouldSetPrevPaths&&a.prevEndAngle&&(s=o.getPiePath({me:o,startAngle:a.prevStartAngle,angle:a.prevEndAngle<a.prevStartAngle?this.fullAngle+a.prevEndAngle-a.prevStartAngle:a.prevEndAngle-a.prevStartAngle,size:d}),e.attr({d:s})),0!==a.dur?e.animate(a.dur,l.globals.easing,a.animBeginArr[a.i]).afterAll(function(){"pie"!==o.chartType&&"donut"!==o.chartType&&"polarArea"!==o.chartType||this.animate(l.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":o.strokeWidth}),a.i===l.config.series.length-1&&c.animationCompleted(e)}).during(function(l){u=p+(i-p)*l,a.animateStartingPos&&(u=r+(i-r)*l,h=t-r+(n-(t-r))*l),s=o.getPiePath({me:o,startAngle:h,angle:u,size:d}),e.node.setAttribute("data:pathOrig",s),e.attr({d:s})}):(s=o.getPiePath({me:o,startAngle:h,angle:i,size:d}),a.isTrack||(l.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",s),e.attr({d:s,"stroke-width":o.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,n=this.w,i=this,r=i.sliceSizes[e]+(n.config.plotOptions.pie.expandOnClick?4:0),a=n.globals.dom.Paper.select(".apexcharts-".concat(i.chartType.toLowerCase(),"-slice-").concat(e)).members[0];if("true"!==a.attr("data:pieClicked")){var s=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(s,function(e){e.setAttribute("data:pieClicked","false");var t=e.getAttribute("data:pathOrig");t&&e.setAttribute("d",t)}),n.globals.capturedDataPointIndex=e,a.attr("data:pieClicked","true");var o=parseInt(a.attr("data:startAngle"),10),l=parseInt(a.attr("data:angle"),10);t=i.getPiePath({me:i,startAngle:o,angle:l,size:r}),360!==l&&a.plot(t)}else{a.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(a.node,this.donutDataLabels);var c=a.attr("data:pathOrig");a.attr({d:c})}}},{key:"getChangedPath",value:function(e,t){var n="";return this.dynamicAnim&&this.w.globals.dataChanged&&(n=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),n}},{key:"getPiePath",value:function(e){var t,n=e.me,i=e.startAngle,r=e.angle,a=e.size,s=new T(this.ctx),o=i,l=Math.PI*(o-90)/180,c=r+i;Math.ceil(c)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(c=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(c)>this.fullAngle&&(c-=this.fullAngle);var d=Math.PI*(c-90)/180,u=n.centerX+a*Math.cos(l),h=n.centerY+a*Math.sin(l),p=n.centerX+a*Math.cos(d),m=n.centerY+a*Math.sin(d),f=E.polarToCartesian(n.centerX,n.centerY,n.donutSize,c),g=E.polarToCartesian(n.centerX,n.centerY,n.donutSize,o),_=r>180?1:0,v=["M",u,h,"A",a,a,0,_,1,p,m];return t="donut"===n.chartType?[].concat(v,["L",f.x,f.y,"A",n.donutSize,n.donutSize,0,_,0,g.x,g.y,"L",u,h,"z"]).join(" "):"pie"===n.chartType||"polarArea"===n.chartType?[].concat(v,["L",n.centerX,n.centerY,"L",u,h]).join(" "):[].concat(v).join(" "),s.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,n=new ee(this.ctx),i=new T(this.ctx),r=new je(this.ctx),a=i.group(),s=i.group(),o=n.niceScale(0,Math.ceil(this.maxY),0),l=o.result.reverse(),c=o.result.length;this.maxY=o.niceMax;for(var d=t.globals.radialSize,u=d/(c-1),h=0;h<c-1;h++){var p=i.drawCircle(d);if(p.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var m=r.drawYAxisTexts(this.centerX,this.centerY-d+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,h,l[h]);s.add(m)}a.add(p),d-=u}this.drawSpokes(e),e.add(a),e.add(s)}},{key:"renderInnerDataLabels",value:function(e,t,n){var i=this.w,r=new T(this.ctx),a=t.total.show;e.node.innerHTML="",e.node.style.opacity=n.opacity;var s,o,l=n.centerX,c=this.donutDataLabels.total.label?n.centerY:n.centerY-n.centerY/6;s=void 0===t.name.color?i.globals.colors[0]:t.name.color;var d=t.name.fontSize,u=t.name.fontFamily,h=t.name.fontWeight;o=void 0===t.value.color?i.config.chart.foreColor:t.value.color;var p=t.value.formatter,m="",f="";if(a?(s=t.total.color,d=t.total.fontSize,u=t.total.fontFamily,h=t.total.fontWeight,f=this.donutDataLabels.total.label?t.total.label:"",m=t.total.formatter(i)):1===i.globals.series.length&&(m=p(i.globals.series[0],i),f=i.globals.seriesNames[0]),f&&(f=t.name.formatter(f,t.total.show,i)),t.name.show){var g=r.drawText({x:l,y:c+parseFloat(t.name.offsetY),text:f,textAnchor:"middle",foreColor:s,fontSize:d,fontWeight:h,fontFamily:u});g.node.classList.add("apexcharts-datalabel-label"),e.add(g)}if(t.value.show){var _=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,v=r.drawText({x:l,y:c+_,text:m,textAnchor:"middle",foreColor:o,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});v.node.classList.add("apexcharts-datalabel-value"),e.add(v)}return e}},{key:"printInnerLabels",value:function(e,t,n,i){var r,a=this.w;i?r=void 0===e.name.color?a.globals.colors[parseInt(i.parentNode.getAttribute("rel"),10)-1]:e.name.color:a.globals.series.length>1&&e.total.show&&(r=e.total.color);var s=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),o=a.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");n=(0,e.value.formatter)(n,a),i||"function"!=typeof e.total.formatter||(n=e.total.formatter(a));var l=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,l,a):"",null!==s&&(s.textContent=t),null!==o&&(o.textContent=n),null!==s&&(s.style.fill=r)}},{key:"printDataLabelsInner",value:function(e,t){var n=this.w,i=e.getAttribute("data:value"),r=n.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];n.globals.series.length>1&&this.printInnerLabels(t,r,i,e);var a=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==a&&(a.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,n=this.w,i=new T(this.ctx),r=n.config.plotOptions.polarArea.spokes;if(0!==r.strokeWidth){for(var a=[],s=360/n.globals.series.length,o=0;o<n.globals.series.length;o++)a.push(E.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize,n.config.plotOptions.pie.startAngle+s*o));a.forEach(function(n,a){var s=i.drawLine(n.x,n.y,t.centerX,t.centerY,Array.isArray(r.connectorColors)?r.connectorColors[a]:r.connectorColors);e.add(s)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.select(".apexcharts-datalabels-group").members[0],n=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.select(".apexcharts-radialbar, .apexcharts-pie").members[0].add(n)}}}]),e}(),De=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var n=this.w;this.graphics=new T(this.ctx),this.lineColorArr=void 0!==n.globals.stroke.colors?n.globals.stroke.colors:n.globals.colors,this.defaultSize=n.globals.svgHeight<n.globals.svgWidth?n.globals.gridHeight:n.globals.gridWidth,this.isLog=n.config.yaxis[0].logarithmic,this.logBase=n.config.yaxis[0].logBase,this.coreUtils=new N(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,n.globals.maxY,0):n.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):n.globals.minY,this.polygons=n.config.plotOptions.radar.polygons,this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-n.config.chart.dropShadow.blur,n.config.xaxis.labels.show&&(this.size=this.size-n.globals.xAxisLabelsWidth/1.75),void 0!==n.config.plotOptions.radar.size&&(this.size=n.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return l(e,[{key:"draw",value:function(e){var t=this,n=this.w,i=new G(this.ctx),r=[],a=new X(this.ctx);e.length&&(this.dataPointsLen=e[n.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var s=n.globals.gridWidth/2,o=n.globals.gridHeight/2,l=s+n.config.plotOptions.radar.offsetX,c=o+n.config.plotOptions.radar.offsetY,d=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(l||0,", ").concat(c||0,")")}),u=[],h=null,p=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(e,s){var o=e.length===n.globals.dataPoints,l=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":o,seriesName:E.escapeString(n.globals.seriesNames[s]),rel:s+1,"data:realIndex":s});t.dataRadiusOfPercent[s]=[],t.dataRadius[s]=[],t.angleArr[s]=[],e.forEach(function(e,n){var i=Math.abs(t.maxValue-t.minValue);e-=t.minValue,t.isLog&&(e=t.coreUtils.getLogVal(t.logBase,e,0)),t.dataRadiusOfPercent[s][n]=e/i,t.dataRadius[s][n]=t.dataRadiusOfPercent[s][n]*t.size,t.angleArr[s][n]=n*t.disAngle}),u=t.getDataPointsPos(t.dataRadius[s],t.angleArr[s]);var c=t.createPaths(u,{x:0,y:0});h=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),p=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":s}),n.globals.delayedElements.push({el:h.node,index:s});var d={i:s,realIndex:s,animationDelay:s,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:n.globals.stroke.colors[s],strokeLineCap:n.config.stroke.lineCap},m=null;n.globals.previousPaths.length>0&&(m=t.getPreviousPath(s));for(var f=0;f<c.linePathsTo.length;f++){var _=t.graphics.renderPaths(g(g({},d),{},{pathFrom:null===m?c.linePathsFrom[f]:m,pathTo:c.linePathsTo[f],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[s]:t.strokeWidth,fill:"none",drawShadow:!1}));l.add(_);var v=i.fillPath({seriesNumber:s}),b=t.graphics.renderPaths(g(g({},d),{},{pathFrom:null===m?c.areaPathsFrom[f]:m,pathTo:c.areaPathsTo[f],strokeWidth:0,fill:v,drawShadow:!1}));if(n.config.chart.dropShadow.enabled){var y=new C(t.ctx),x=n.config.chart.dropShadow;y.dropShadow(b,Object.assign({},x,{noUserSpaceOnUse:!0}),s)}l.add(b)}e.forEach(function(e,i){var r=new q(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:s,dataPointIndex:i}),o=t.graphics.drawMarker(u[i].x,u[i].y,r);o.attr("rel",i),o.attr("j",i),o.attr("index",s),o.node.setAttribute("default-marker-size",r.pSize);var c=t.graphics.group({class:"apexcharts-series-markers"});c&&c.add(o),h.add(c),l.add(h);var d=n.config.dataLabels;if(d.enabled){var m=d.formatter(n.globals.series[s][i],{seriesIndex:s,dataPointIndex:i,w:n});a.plotDataLabelsText({x:u[i].x,y:u[i].y,text:m,textAnchor:"middle",i:s,j:s,parent:p,offsetCorrection:!1,dataLabelsConfig:g({},d)})}l.add(p)}),r.push(l)}),this.drawPolygons({parent:d}),n.config.xaxis.labels.show){var m=this.drawXAxisTexts();d.add(m)}return r.forEach(function(e){d.add(e)}),d.add(this.yaxisLabels),d}},{key:"drawPolygons",value:function(e){for(var t=this,n=this.w,i=e.parent,r=new je(this.ctx),a=n.globals.yAxisScale[0].result.reverse(),s=a.length,o=[],l=this.size/(s-1),c=0;c<s;c++)o[c]=l*c;o.reverse();var d=[],u=[];o.forEach(function(e,n){var i=E.getPolygonPos(e,t.dataPointsLen),r="";i.forEach(function(e,i){if(0===n){var a=t.graphics.drawLine(e.x,e.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[i]:t.polygons.connectorColors);u.push(a)}0===i&&t.yaxisLabelsTextsPos.push({x:e.x,y:e.y}),r+=e.x+","+e.y+" "}),d.push(r)}),d.forEach(function(e,r){var a=t.polygons.strokeColors,s=t.polygons.strokeWidth,o=t.graphics.drawPolygon(e,Array.isArray(a)?a[r]:a,Array.isArray(s)?s[r]:s,n.globals.radarPolygons.fill.colors[r]);i.add(o)}),u.forEach(function(e){i.add(e)}),n.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(e,n){var i=r.drawYAxisTexts(e.x,e.y,n,a[n]);t.yaxisLabels.add(i)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,n=t.config.xaxis.labels,i=this.graphics.group({class:"apexcharts-xaxis"}),r=E.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(a,s){var o=t.config.xaxis.labels.formatter,l=new X(e.ctx);if(r[s]){var c=e.getTextPos(r[s],e.size),d=o(a,{seriesIndex:-1,dataPointIndex:s,w:t});l.plotDataLabelsText({x:c.newX,y:c.newY,text:d,textAnchor:c.textAnchor,i:s,j:s,parent:i,className:"apexcharts-xaxis-label",color:Array.isArray(n.style.colors)&&n.style.colors[s]?n.style.colors[s]:"#a8a8a8",dataLabelsConfig:g({textAnchor:c.textAnchor,dropShadow:{enabled:!1}},n),offsetCorrection:!1}).on("click",function(n){if("function"==typeof t.config.chart.events.xAxisLabelClick){var i=Object.assign({},t,{labelIndex:s});t.config.chart.events.xAxisLabelClick(n,e.ctx,i)}})}}),i}},{key:"createPaths",value:function(e,t){var n=this,i=[],r=[],a=[],s=[];if(e.length){r=[this.graphics.move(t.x,t.y)],s=[this.graphics.move(t.x,t.y)];var o=this.graphics.move(e[0].x,e[0].y),l=this.graphics.move(e[0].x,e[0].y);e.forEach(function(t,i){o+=n.graphics.line(t.x,t.y),l+=n.graphics.line(t.x,t.y),i===e.length-1&&(o+="Z",l+="Z")}),i.push(o),a.push(l)}return{linePathsFrom:r,linePathsTo:i,areaPathsFrom:s,areaPathsTo:a}}},{key:"getTextPos",value:function(e,t){var n="middle",i=e.x,r=e.y;return Math.abs(e.x)>=10?e.x>0?(n="start",i+=10):e.x<0&&(n="end",i-=10):n="middle",Math.abs(e.y)>=t-10&&(e.y<0?r-=10:e.y>0&&(r+=10)),{textAnchor:n,newX:i,newY:r}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,n=null,i=0;i<t.globals.previousPaths.length;i++){var r=t.globals.previousPaths[i];r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(e,10)&&void 0!==t.globals.previousPaths[i].paths[0]&&(n=t.globals.previousPaths[i].paths[0].d)}return n}},{key:"getDataPointsPos",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var i=[],r=0;r<n;r++){var a={};a.x=e[r]*Math.sin(t[r]),a.y=-e[r]*Math.cos(t[r]),i.push(a)}return i}}]),e}(),Le=function(){p(t,Pe);var e=d(t);function t(n){var i;s(this,t),(i=e.call(this,n)).ctx=n,i.w=n.w,i.animBeginArr=[0],i.animDur=0;var r=i.w;return i.startAngle=r.config.plotOptions.radialBar.startAngle,i.endAngle=r.config.plotOptions.radialBar.endAngle,i.totalAngle=Math.abs(r.config.plotOptions.radialBar.endAngle-r.config.plotOptions.radialBar.startAngle),i.trackStartAngle=r.config.plotOptions.radialBar.track.startAngle,i.trackEndAngle=r.config.plotOptions.radialBar.track.endAngle,i.barLabels=i.w.config.plotOptions.radialBar.barLabels,i.donutDataLabels=i.w.config.plotOptions.radialBar.dataLabels,i.radialDataLabels=i.donutDataLabels,i.trackStartAngle||(i.trackStartAngle=i.startAngle),i.trackEndAngle||(i.trackEndAngle=i.endAngle),360===i.endAngle&&(i.endAngle=359.99),i.margin=parseInt(r.config.plotOptions.radialBar.track.margin,10),i.onBarLabelClick=i.onBarLabelClick.bind(a(i)),i}return l(t,[{key:"draw",value:function(e){var t=this.w,n=new T(this.ctx),i=n.group({class:"apexcharts-radialbar"});if(t.globals.noData)return i;var r=n.group(),a=this.defaultSize/2,s=t.globals.gridWidth/2,o=this.defaultSize/2.05;t.config.chart.sparkline.enabled||(o=o-t.config.stroke.width-t.config.chart.dropShadow.blur);var l=t.globals.fill.colors;if(t.config.plotOptions.radialBar.track.show){var c=this.drawTracks({size:o,centerX:s,centerY:a,colorArr:l,series:e});r.add(c)}var d=this.drawArcs({size:o,centerX:s,centerY:a,colorArr:l,series:e}),u=360;t.config.plotOptions.radialBar.startAngle<0&&(u=this.totalAngle);var h=(360-u)/360;if(t.globals.radialSize=o-o*h,this.radialDataLabels.value.show){var p=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);t.globals.radialSize+=p*h}return r.add(d.g),"front"===t.config.plotOptions.radialBar.hollow.position&&(d.g.add(d.elHollow),d.dataLabels&&d.g.add(d.dataLabels)),i.add(r),i}},{key:"drawTracks",value:function(e){var t=this.w,n=new T(this.ctx),i=n.group({class:"apexcharts-tracks"}),r=new C(this.ctx),a=new G(this.ctx),s=this.getStrokeWidth(e);e.size=e.size-s/2;for(var o=0;o<e.series.length;o++){var l=n.group({class:"apexcharts-radialbar-track apexcharts-track"});i.add(l),l.attr({rel:o+1}),e.size=e.size-s-this.margin;var c=t.config.plotOptions.radialBar.track,d=a.fillPath({seriesNumber:0,size:e.size,fillColors:Array.isArray(c.background)?c.background[o]:c.background,solid:!0}),u=this.trackStartAngle,h=this.trackEndAngle;Math.abs(h)+Math.abs(u)>=360&&(h=360-Math.abs(this.startAngle)-.1);var p=n.drawPath({d:"",stroke:d,strokeWidth:s*parseInt(c.strokeWidth,10)/100,fill:"none",strokeOpacity:c.opacity,classes:"apexcharts-radialbar-area"});if(c.dropShadow.enabled){var m=c.dropShadow;r.dropShadow(p,m)}l.add(p),p.attr("id","apexcharts-radialbarTrack-"+o),this.animatePaths(p,{centerX:e.centerX,centerY:e.centerY,endAngle:h,startAngle:u,size:e.size,i:o,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:t.globals.easing})}return i}},{key:"drawArcs",value:function(e){var t=this.w,n=new T(this.ctx),i=new G(this.ctx),r=new C(this.ctx),a=n.group(),s=this.getStrokeWidth(e);e.size=e.size-s/2;var o=t.config.plotOptions.radialBar.hollow.background,l=e.size-s*e.series.length-this.margin*e.series.length-s*parseInt(t.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,c=l-t.config.plotOptions.radialBar.hollow.margin;void 0!==t.config.plotOptions.radialBar.hollow.image&&(o=this.drawHollowImage(e,a,l,o));var d=this.drawHollow({size:c,centerX:e.centerX,centerY:e.centerY,fill:o||"transparent"});if(t.config.plotOptions.radialBar.hollow.dropShadow.enabled){var u=t.config.plotOptions.radialBar.hollow.dropShadow;r.dropShadow(d,u)}var h=1;!this.radialDataLabels.total.show&&t.globals.series.length>1&&(h=0);var p=null;if(this.radialDataLabels.show){var m=t.globals.dom.Paper.select(".apexcharts-datalabels-group").members[0];p=this.renderInnerDataLabels(m,this.radialDataLabels,{hollowSize:l,centerX:e.centerX,centerY:e.centerY,opacity:h})}"back"===t.config.plotOptions.radialBar.hollow.position&&(a.add(d),p&&a.add(p));var f=!1;t.config.plotOptions.radialBar.inverseOrder&&(f=!0);for(var g=f?e.series.length-1:0;f?g>=0:g<e.series.length;f?g--:g++){var _=n.group({class:"apexcharts-series apexcharts-radial-series",seriesName:E.escapeString(t.globals.seriesNames[g])});a.add(_),_.attr({rel:g+1,"data:realIndex":g}),this.ctx.series.addCollapsedClassToSeries(_,g),e.size=e.size-s-this.margin;var v=i.fillPath({seriesNumber:g,size:e.size,value:e.series[g]}),b=this.startAngle,y=void 0,x=E.negToZero(e.series[g]>100?100:e.series[g])/100,w=Math.round(this.totalAngle*x)+this.startAngle,S=void 0;t.globals.dataChanged&&(y=this.startAngle,S=Math.round(this.totalAngle*E.negToZero(t.globals.previousPaths[g])/100)+y),Math.abs(w)+Math.abs(b)>360&&(w-=.01),Math.abs(S)+Math.abs(y)>360&&(S-=.01);var N=w-b,A=Array.isArray(t.config.stroke.dashArray)?t.config.stroke.dashArray[g]:t.config.stroke.dashArray,k=n.drawPath({d:"",stroke:v,strokeWidth:s,fill:"none",fillOpacity:t.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+g,strokeDashArray:A});if(T.setAttrs(k.node,{"data:angle":N,"data:value":e.series[g]}),t.config.chart.dropShadow.enabled){var R=t.config.chart.dropShadow;r.dropShadow(k,R,g)}if(r.setSelectionFilter(k,0,g),this.addListeners(k,this.radialDataLabels),_.add(k),k.attr({index:0,j:g}),this.barLabels.enabled){var I=E.polarToCartesian(e.centerX,e.centerY,e.size,b),O=this.barLabels.formatter(t.globals.seriesNames[g],{seriesIndex:g,w:t}),j=["apexcharts-radialbar-label"];this.barLabels.onClick||j.push("apexcharts-no-click");var P=this.barLabels.useSeriesColors?t.globals.colors[g]:t.config.chart.foreColor;P||(P=t.config.chart.foreColor);var D=I.x+this.barLabels.offsetX,L=I.y+this.barLabels.offsetY,M=n.drawText({x:D,y:L,text:O,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:P,cssClass:j.join(" ")});M.on("click",this.onBarLabelClick),M.attr({rel:g+1}),0!==b&&M.attr({"transform-origin":"".concat(D," ").concat(L),transform:"rotate(".concat(b," 0 0)")}),_.add(M)}var U=0;!this.initialAnim||t.globals.resized||t.globals.dataChanged||(U=t.config.chart.animations.speed),t.globals.dataChanged&&(U=t.config.chart.animations.dynamicAnimation.speed),this.animDur=U/(1.2*e.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(k,{centerX:e.centerX,centerY:e.centerY,endAngle:w,startAngle:b,prevEndAngle:S,prevStartAngle:y,size:e.size,i:g,totalItems:2,animBeginArr:this.animBeginArr,dur:U,shouldSetPrevPaths:!0,easing:t.globals.easing})}return{g:a,elHollow:d,dataLabels:p}}},{key:"drawHollow",value:function(e){var t=new T(this.ctx).drawCircle(2*e.size);return t.attr({class:"apexcharts-radialbar-hollow",cx:e.centerX,cy:e.centerY,r:e.size,fill:e.fill}),t}},{key:"drawHollowImage",value:function(e,t,n,i){var r=this.w,a=new G(this.ctx),s=E.randomId(),o=r.config.plotOptions.radialBar.hollow.image;if(r.config.plotOptions.radialBar.hollow.imageClipped)a.clippedImgArea({width:n,height:n,image:o,patternID:"pattern".concat(r.globals.cuid).concat(s)}),i="url(#pattern".concat(r.globals.cuid).concat(s,")");else{var l=r.config.plotOptions.radialBar.hollow.imageWidth,c=r.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===l&&void 0===c){var d=r.globals.dom.Paper.image(o).loaded(function(t){this.move(e.centerX-t.width/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-t.height/2+r.config.plotOptions.radialBar.hollow.imageOffsetY)});t.add(d)}else{var u=r.globals.dom.Paper.image(o).loaded(function(t){this.move(e.centerX-l/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,e.centerY-c/2+r.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(l,c)});t.add(u)}}return i}},{key:"getStrokeWidth",value:function(e){var t=this.w;return e.size*(100-parseInt(t.config.plotOptions.radialBar.hollow.size,10))/100/(e.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(e){var t=parseInt(e.target.getAttribute("rel"),10)-1,n=this.barLabels.onClick,i=this.w;n&&n(i.globals.seriesNames[t],{w:i,seriesIndex:t})}}]),t}(),Me=function(){p(t,Ae);var e=d(t);function t(){return s(this,t),e.apply(this,arguments)}return l(t,[{key:"draw",value:function(e,t){var n=this.w,i=new T(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=e,this.seriesRangeStart=n.globals.seriesRangeStart,this.seriesRangeEnd=n.globals.seriesRangeEnd,this.barHelpers.initVariables(e);for(var r=i.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),a=0;a<e.length;a++){var s,o,l,c,d=void 0,u=void 0,h=n.globals.comboCharts?t[a]:a,p=this.barHelpers.getGroupIndex(h).columnGroupIndex,m=i.group({class:"apexcharts-series",seriesName:E.escapeString(n.globals.seriesNames[h]),rel:a+1,"data:realIndex":h});this.ctx.series.addCollapsedClassToSeries(m,h),e[a].length>0&&(this.visibleI=this.visibleI+1);var f=0,_=0,v=0;this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[h][0],v=h);var b=this.barHelpers.initialPositions();u=b.y,c=b.zeroW,d=b.x,_=b.barWidth,f=b.barHeight,s=b.xDivision,o=b.yDivision,l=b.zeroH;for(var y=i.group({class:"apexcharts-datalabels","data:realIndex":h}),x=i.group({class:"apexcharts-rangebar-goals-markers"}),w=0;w<n.globals.dataPoints;w++){var S=this.barHelpers.getStrokeWidth(a,w,h),C=this.seriesRangeStart[a][w],N=this.seriesRangeEnd[a][w],A=null,k=null,R=null,I={x:d,y:u,strokeWidth:S,elSeries:m},O=this.seriesLen;if(n.config.plotOptions.bar.rangeBarGroupRows&&(O=1),void 0===n.config.series[a].data[w])break;if(this.isHorizontal){R=u+f*this.visibleI;var j=(o-f*O)/2;if(n.config.series[a].data[w].x){var P=this.detectOverlappingBars({i:a,j:w,barYPosition:R,srty:j,barHeight:f,yDivision:o,initPositions:b});f=P.barHeight,R=P.barYPosition}_=(A=this.drawRangeBarPaths(g({indexes:{i:a,j:w,realIndex:h},barHeight:f,barYPosition:R,zeroW:c,yDivision:o,y1:C,y2:N},I))).barWidth}else{n.globals.isXNumeric&&(d=(n.globals.seriesX[a][w]-n.globals.minX)/this.xRatio-_/2),k=d+_*this.visibleI;var D=(s-_*O)/2;if(n.config.series[a].data[w].x){var L=this.detectOverlappingBars({i:a,j:w,barXPosition:k,srtx:D,barWidth:_,xDivision:s,initPositions:b});_=L.barWidth,k=L.barXPosition}f=(A=this.drawRangeColumnPaths(g({indexes:{i:a,j:w,realIndex:h,translationsIndex:v},barWidth:_,barXPosition:k,zeroH:l,xDivision:s},I))).barHeight}var M=this.barHelpers.drawGoalLine({barXPosition:A.barXPosition,barYPosition:R,goalX:A.goalX,goalY:A.goalY,barHeight:f,barWidth:_});M&&x.add(M),u=A.y,d=A.x;var U=this.barHelpers.getPathFillColor(e,a,w,h),F=n.globals.stroke.colors[h];this.renderSeries({realIndex:h,pathFill:U,lineFill:F,j:w,i:a,x:d,y:u,y1:C,y2:N,pathFrom:A.pathFrom,pathTo:A.pathTo,strokeWidth:S,elSeries:m,series:e,barHeight:f,barWidth:_,barXPosition:k,barYPosition:R,columnGroupIndex:p,elDataLabelsWrap:y,elGoalsMarkers:x,visibleSeries:this.visibleI,type:"rangebar"})}r.add(m)}return r}},{key:"detectOverlappingBars",value:function(e){var t=e.i,n=e.j,i=e.barYPosition,r=e.barXPosition,a=e.srty,s=e.srtx,o=e.barHeight,l=e.barWidth,c=e.yDivision,d=e.xDivision,u=e.initPositions,h=this.w,p=[],m=h.config.series[t].data[n].rangeName,f=h.config.series[t].data[n].x,g=Array.isArray(f)?f.join(" "):f,_=h.globals.labels.map(function(e){return Array.isArray(e)?e.join(" "):e}).indexOf(g),v=h.globals.seriesRange[t].findIndex(function(e){return e.x===g&&e.overlaps.length>0});return this.isHorizontal?(i=h.config.plotOptions.bar.rangeBarGroupRows?a+c*_:a+o*this.visibleI+c*_,v>-1&&!h.config.plotOptions.bar.rangeBarOverlap&&(p=h.globals.seriesRange[t][v].overlaps).indexOf(m)>-1&&(i=(o=u.barHeight/p.length)*this.visibleI+c*(100-parseInt(this.barOptions.barHeight,10))/100/2+o*(this.visibleI+p.indexOf(m))+c*_)):(_>-1&&!h.globals.timescaleLabels.length&&(r=h.config.plotOptions.bar.rangeBarGroupRows?s+d*_:s+l*this.visibleI+d*_),v>-1&&!h.config.plotOptions.bar.rangeBarOverlap&&(p=h.globals.seriesRange[t][v].overlaps).indexOf(m)>-1&&(r=(l=u.barWidth/p.length)*this.visibleI+d*(100-parseInt(this.barOptions.barWidth,10))/100/2+l*(this.visibleI+p.indexOf(m))+d*_)),{barYPosition:i,barXPosition:r,barHeight:o,barWidth:l}}},{key:"drawRangeColumnPaths",value:function(e){var t=e.indexes,n=e.x,i=e.xDivision,r=e.barWidth,a=e.barXPosition,s=e.zeroH,o=this.w,l=t.i,c=t.j,d=t.realIndex,u=t.translationsIndex,h=this.yRatio[u],p=this.getRangeValue(d,c),m=Math.min(p.start,p.end),f=Math.max(p.start,p.end);void 0===this.series[l][c]||null===this.series[l][c]?m=s:(m=s-m/h,f=s-f/h);var g=Math.abs(f-m),_=this.barHelpers.getColumnPaths({barXPosition:a,barWidth:r,y1:m,y2:f,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:d,i:d,j:c,w:o});if(o.globals.isXNumeric){var v=this.getBarXForNumericXAxis({x:n,j:c,realIndex:d,barWidth:r});n=v.x,a=v.barXPosition}else n+=i;return{pathTo:_.pathTo,pathFrom:_.pathFrom,barHeight:g,x:n,y:p.start<0&&p.end<0?m:f,goalY:this.barHelpers.getGoalValues("y",null,s,l,c,u),barXPosition:a}}},{key:"preventBarOverflow",value:function(e){var t=this.w;return e<0&&(e=0),e>t.globals.gridWidth&&(e=t.globals.gridWidth),e}},{key:"drawRangeBarPaths",value:function(e){var t=e.indexes,n=e.y,i=e.y1,r=e.y2,a=e.yDivision,s=e.barHeight,o=e.barYPosition,l=e.zeroW,c=this.w,d=t.realIndex,u=t.j,h=this.preventBarOverflow(l+i/this.invertedYRatio),p=this.preventBarOverflow(l+r/this.invertedYRatio),m=this.getRangeValue(d,u),f=Math.abs(p-h),g=this.barHelpers.getBarpaths({barYPosition:o,barHeight:s,x1:h,x2:p,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:d,realIndex:d,j:u,w:c});return c.globals.isXNumeric||(n+=a),{pathTo:g.pathTo,pathFrom:g.pathFrom,barWidth:f,x:m.start<0&&m.end<0?h:p,goalX:this.barHelpers.getGoalValues("x",l,null,d,u),y:n}}},{key:"getRangeValue",value:function(e,t){var n=this.w;return{start:n.globals.seriesRangeStart[e][t],end:n.globals.seriesRangeEnd[e][t]}}}]),t}(),Ue=function(){function e(t){s(this,e),this.w=t.w,this.lineCtx=t}return l(e,[{key:"sameValueSeriesFix",value:function(e,t){var n=this.w;if(("gradient"===n.config.fill.type||"gradient"===n.config.fill.type[e])&&new N(this.lineCtx.ctx,n).seriesHaveSameValues(e)){var i=t[e].slice();i[i.length-1]=i[i.length-1]+1e-6,t[e]=i}return t}},{key:"calculatePoints",value:function(e){var t=e.series,n=e.realIndex,i=e.x,r=e.y,a=e.i,s=e.j,o=e.prevY,l=this.w,c=[],d=[];if(0===s){var u=this.lineCtx.categoryAxisCorrection+l.config.markers.offsetX;l.globals.isXNumeric&&(u=(l.globals.seriesX[n][0]-l.globals.minX)/this.lineCtx.xRatio+l.config.markers.offsetX),c.push(u),d.push(E.isNumber(t[a][0])?o+l.config.markers.offsetY:null),c.push(i+l.config.markers.offsetX),d.push(E.isNumber(t[a][s+1])?r+l.config.markers.offsetY:null)}else c.push(i+l.config.markers.offsetX),d.push(E.isNumber(t[a][s+1])?r+l.config.markers.offsetY:null);return{x:c,y:d}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,n=e.pathFromArea,i=e.realIndex,r=this.w,a=0;a<r.globals.previousPaths.length;a++){var s=r.globals.previousPaths[a];("line"===s.type||"area"===s.type)&&s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(i,10)&&("line"===s.type?(this.lineCtx.appendPathFrom=!1,t=r.globals.previousPaths[a].paths[0].d):"area"===s.type&&(this.lineCtx.appendPathFrom=!1,n=r.globals.previousPaths[a].paths[0].d,r.config.stroke.show&&r.globals.previousPaths[a].paths[1]&&(t=r.globals.previousPaths[a].paths[1].d)))}return{pathFromLine:t,pathFromArea:n}}},{key:"determineFirstPrevY",value:function(e){var t,n,i,r=e.i,a=e.realIndex,s=e.series,o=e.prevY,l=e.lineYPosition,c=e.translationsIndex,d=this.w,u=d.config.chart.stacked&&!d.globals.comboCharts||d.config.chart.stacked&&d.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||"bar"===(null===(t=this.w.config.series[a])||void 0===t?void 0:t.type)||"column"===(null===(n=this.w.config.series[a])||void 0===n?void 0:n.type));if(void 0!==(null===(i=s[r])||void 0===i?void 0:i[0]))o=(l=u&&r>0?this.lineCtx.prevSeriesY[r-1][0]:this.lineCtx.zeroY)-s[r][0]/this.lineCtx.yRatio[c]+2*(this.lineCtx.isReversed?s[r][0]/this.lineCtx.yRatio[c]:0);else if(u&&r>0&&void 0===s[r][0])for(var h=r-1;h>=0;h--)if(null!==s[h][0]&&void 0!==s[h][0]){o=l=this.lineCtx.prevSeriesY[h][0];break}return{prevY:o,lineYPosition:l}}}]),e}(),Fe=function(e){var t=function(e){for(var t,n,i,r,a=function(e){for(var t=[],n=e[0],i=e[1],r=t[0]=Ve(n,i),a=1,s=e.length-1;a<s;a++)n=i,i=e[a+1],t[a]=.5*(r+(r=Ve(n,i)));return t[a]=r,t}(e),s=e.length-1,o=[],l=0;l<s;l++)i=Ve(e[l],e[l+1]),Math.abs(i)<1e-6?a[l]=a[l+1]=0:(r=(t=a[l]/i)*t+(n=a[l+1]/i)*n)>9&&(r=3*i/Math.sqrt(r),a[l]=r*t,a[l+1]=r*n);for(var c=0;c<=s;c++)r=(e[Math.min(s,c+1)][0]-e[Math.max(0,c-1)][0])/(6*(1+a[c]*a[c])),o.push([r||0,a[c]*r||0]);return o}(e),n=e[1],i=e[0],r=[],a=t[1],s=t[0];r.push(i,[i[0]+s[0],i[1]+s[1],n[0]-a[0],n[1]-a[1],n[0],n[1]]);for(var o=2,l=t.length;o<l;o++){var c=e[o],d=t[o];r.push([c[0]-d[0],c[1]-d[1],c[0],c[1]])}return r},Be=function(e,t,n){var i=e.slice(t,n);if(t){if(n-t>1&&i[1].length<6){var r=i[0].length;i[1]=[2*i[0][r-2]-i[0][r-4],2*i[0][r-1]-i[0][r-3]].concat(i[1])}i[0]=i[0].slice(-2)}return i};function Ve(e,t){return(t[1]-e[1])/(t[0]-e[0])}var ze=function(){function e(t,n,i){s(this,e),this.ctx=t,this.w=t.w,this.xyRatios=n,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||i,this.scatter=new Y(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Ue(this),this.markers=new q(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return l(e,[{key:"draw",value:function(e,t,n,i){var r,a=this.w,s=new T(this.ctx),o=a.globals.comboCharts?t:a.config.chart.type,l=s.group({class:"apexcharts-".concat(o,"-series apexcharts-plot-series")}),c=new N(this.ctx,a);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=c.getLogSeries(e),this.yRatio=c.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var d=[],u=0;u<e.length;u++){e=this.lineHelpers.sameValueSeriesFix(u,e);var h=a.globals.comboCharts?n[u]:u,p=this.yRatio.length>1?h:0;this._initSerieVariables(e,u,h);var m=[],f=[],_=[],v=a.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,h),a.globals.isXNumeric&&a.globals.seriesX.length>0&&(v=(a.globals.seriesX[h][0]-a.globals.minX)/this.xRatio),_.push(v);var b,y=v,x=void 0,w=y,E=this.zeroY,S=this.zeroY;E=this.lineHelpers.determineFirstPrevY({i:u,realIndex:h,series:e,prevY:E,lineYPosition:0,translationsIndex:p}).prevY,"monotoneCubic"===a.config.stroke.curve&&null===e[u][0]?m.push(null):m.push(E),b=E,"rangeArea"===o&&(x=S=this.lineHelpers.determineFirstPrevY({i:u,realIndex:h,series:i,prevY:S,lineYPosition:0,translationsIndex:p}).prevY,f.push(null!==m[0]?S:null));var C=this._calculatePathsFrom({type:o,series:e,i:u,realIndex:h,translationsIndex:p,prevX:w,prevY:E,prevY2:S}),A=[m[0]],k=[f[0]],R={type:o,series:e,realIndex:h,translationsIndex:p,i:u,x:v,y:1,pX:y,pY:b,pathsFrom:C,linePaths:[],areaPaths:[],seriesIndex:n,lineYPosition:0,xArrj:_,yArrj:m,y2Arrj:f,seriesRangeEnd:i},I=this._iterateOverDataPoints(g(g({},R),{},{iterations:"rangeArea"===o?e[u].length-1:void 0,isRangeStart:!0}));if("rangeArea"===o){for(var O=this._calculatePathsFrom({series:i,i:u,realIndex:h,prevX:w,prevY:S}),j=this._iterateOverDataPoints(g(g({},R),{},{series:i,xArrj:[v],yArrj:A,y2Arrj:k,pY:x,areaPaths:I.areaPaths,pathsFrom:O,iterations:i[u].length-1,isRangeStart:!1})),P=I.linePaths.length/2,D=0;D<P;D++)I.linePaths[D]=j.linePaths[D+P]+I.linePaths[D];I.linePaths.splice(P),I.pathFromLine=j.pathFromLine+I.pathFromLine}else I.pathFromArea+="z";this._handlePaths({type:o,realIndex:h,i:u,paths:I}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),d.push(this.elSeries)}if(void 0!==(null===(r=a.config.series[0])||void 0===r?void 0:r.zIndex)&&d.sort(function(e,t){return Number(e.node.getAttribute("zIndex"))-Number(t.node.getAttribute("zIndex"))}),a.config.chart.stacked)for(var L=d.length-1;L>=0;L--)l.add(d[L]);else for(var M=0;M<d.length;M++)l.add(d[M]);return l}},{key:"_initSerieVariables",value:function(e,t,n){var i=this.w,r=new T(this.ctx);this.xDivision=i.globals.gridWidth/(i.globals.dataPoints-("on"===i.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(i.config.stroke.width)?i.config.stroke.width[n]:i.config.stroke.width;var a=0;this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[n],a=n),this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed,this.zeroY=i.globals.gridHeight-this.baseLineY[a]-(this.isReversed?i.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[a]:0),this.areaBottomY=this.zeroY,(this.zeroY>i.globals.gridHeight||"end"===i.config.plotOptions.area.fillTo)&&(this.areaBottomY=i.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=r.group({class:"apexcharts-series",zIndex:void 0!==i.config.series[n].zIndex?i.config.series[n].zIndex:n,seriesName:E.escapeString(i.globals.seriesNames[n])}),this.elPointsMain=r.group({class:"apexcharts-series-markers-wrap","data:realIndex":n}),this.elDataLabelsWrap=r.group({class:"apexcharts-datalabels","data:realIndex":n});var s=e[t].length===i.globals.dataPoints;this.elSeries.attr({"data:longestSeries":s,rel:t+1,"data:realIndex":n}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,n,i,r,a=e.type,s=e.series,o=e.i,l=e.realIndex,c=e.translationsIndex,d=e.prevX,u=e.prevY,h=e.prevY2,p=this.w,m=new T(this.ctx);if(null===s[o][0]){for(var f=0;f<s[o].length;f++)if(null!==s[o][f]){d=this.xDivision*f,u=this.zeroY-s[o][f]/this.yRatio[c],t=m.move(d,u),n=m.move(d,this.areaBottomY);break}}else t=m.move(d,u),"rangeArea"===a&&(t=m.move(d,h)+m.line(d,u)),n=m.move(d,this.areaBottomY)+m.line(d,u);if(i=m.move(0,this.zeroY)+m.line(0,this.zeroY),r=m.move(0,this.zeroY)+m.line(0,this.zeroY),p.globals.previousPaths.length>0){var g=this.lineHelpers.checkPreviousPaths({pathFromLine:i,pathFromArea:r,realIndex:l});i=g.pathFromLine,r=g.pathFromArea}return{prevX:d,prevY:u,linePath:t,areaPath:n,pathFromLine:i,pathFromArea:r}}},{key:"_handlePaths",value:function(e){var t=e.type,n=e.realIndex,i=e.i,r=e.paths,a=this.w,s=new T(this.ctx),o=new G(this.ctx);this.prevSeriesY.push(r.yArrj),a.globals.seriesXvalues[n]=r.xArrj,a.globals.seriesYvalues[n]=r.yArrj;var l=a.config.forecastDataPoints;if(l.count>0&&"rangeArea"!==t){var c=a.globals.seriesXvalues[n][a.globals.seriesXvalues[n].length-l.count-1],d=s.drawRect(c,0,a.globals.gridWidth,a.globals.gridHeight,0);a.globals.dom.elForecastMask.appendChild(d.node);var u=s.drawRect(0,0,c,a.globals.gridHeight,0);a.globals.dom.elNonForecastMask.appendChild(u.node)}this.pointsChart||a.globals.delayedElements.push({el:this.elPointsMain.node,index:n});var h={i:i,realIndex:n,animationDelay:i,initialSpeed:a.config.chart.animations.speed,dataChangeSpeed:a.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if("area"===t)for(var p=o.fillPath({seriesNumber:n}),m=0;m<r.areaPaths.length;m++){var f=s.renderPaths(g(g({},h),{},{pathFrom:r.pathFromArea,pathTo:r.areaPaths[m],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:p}));this.elSeries.add(f)}if(a.config.stroke.show&&!this.pointsChart){var _=null;if("line"===t)_=o.fillPath({seriesNumber:n,i:i});else if("solid"===a.config.stroke.fill.type)_=a.globals.stroke.colors[n];else{var v=a.config.fill;a.config.fill=a.config.stroke.fill,_=o.fillPath({seriesNumber:n,i:i}),a.config.fill=v}for(var b=0;b<r.linePaths.length;b++){var y=_;"rangeArea"===t&&(y=o.fillPath({seriesNumber:n}));var x=g(g({},h),{},{pathFrom:r.pathFromLine,pathTo:r.linePaths[b],stroke:_,strokeWidth:this.strokeWidth,strokeLineCap:a.config.stroke.lineCap,fill:"rangeArea"===t?y:"none"}),w=s.renderPaths(x);if(this.elSeries.add(w),w.attr("fill-rule","evenodd"),l.count>0&&"rangeArea"!==t){var E=s.renderPaths(x);E.node.setAttribute("stroke-dasharray",l.dashArray),l.strokeWidth&&E.node.setAttribute("stroke-width",l.strokeWidth),this.elSeries.add(E),E.attr("clip-path","url(#forecastMask".concat(a.globals.cuid,")")),w.attr("clip-path","url(#nonForecastMask".concat(a.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,n,i=this,r=e.type,a=e.series,s=e.iterations,o=e.realIndex,l=e.translationsIndex,c=e.i,d=e.x,u=e.y,h=e.pX,p=e.pY,m=e.pathsFrom,f=e.linePaths,g=e.areaPaths,_=e.seriesIndex,v=e.lineYPosition,b=e.xArrj,y=e.yArrj,x=e.y2Arrj,w=e.isRangeStart,S=e.seriesRangeEnd,C=this.w,N=new T(this.ctx),A=this.yRatio,k=m.prevY,R=m.linePath,I=m.areaPath,O=m.pathFromLine,j=m.pathFromArea,P=E.isNumber(C.globals.minYArr[o])?C.globals.minYArr[o]:C.globals.minY;s||(s=C.globals.dataPoints>1?C.globals.dataPoints-1:C.globals.dataPoints);var D=function(e,t){return t-e/A[l]+2*(i.isReversed?e/A[l]:0)},L=u,M=C.config.chart.stacked&&!C.globals.comboCharts||C.config.chart.stacked&&C.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||"bar"===(null===(t=this.w.config.series[o])||void 0===t?void 0:t.type)||"column"===(null===(n=this.w.config.series[o])||void 0===n?void 0:n.type)),U=C.config.stroke.curve;Array.isArray(U)&&(U=Array.isArray(_)?U[_[c]]:U[c]);for(var F,B=0,V=0;V<s;V++){var z=void 0===a[c][V+1]||null===a[c][V+1];if(C.globals.isXNumeric){var H=C.globals.seriesX[o][V+1];void 0===C.globals.seriesX[o][V+1]&&(H=C.globals.seriesX[o][s-1]),d=(H-C.globals.minX)/this.xRatio}else d+=this.xDivision;v=M&&c>0&&C.globals.collapsedSeries.length<C.config.series.length-1?this.prevSeriesY[function(e){for(var t=e;t>0;t--){if(!(C.globals.collapsedSeriesIndices.indexOf((null==_?void 0:_[t])||t)>-1))return t;t--}return 0}(c-1)][V+1]:this.zeroY,z?u=D(P,v):(u=D(a[c][V+1],v),"rangeArea"===r&&(L=D(S[c][V+1],v))),b.push(d),!z||"smooth"!==C.config.stroke.curve&&"monotoneCubic"!==C.config.stroke.curve?(y.push(u),x.push(L)):(y.push(null),x.push(null));var W=this.lineHelpers.calculatePoints({series:a,x:d,y:u,realIndex:o,i:c,j:V,prevY:k}),G=this._createPaths({type:r,series:a,i:c,realIndex:o,j:V,x:d,y:u,y2:L,xArrj:b,yArrj:y,y2Arrj:x,pX:h,pY:p,pathState:B,segmentStartX:F,linePath:R,areaPath:I,linePaths:f,areaPaths:g,curve:U,isRangeStart:w});g=G.areaPaths,f=G.linePaths,h=G.pX,p=G.pY,B=G.pathState,F=G.segmentStartX,I=G.areaPath,R=G.linePath,!this.appendPathFrom||"monotoneCubic"===U&&"rangeArea"===r||(O+=N.line(d,this.zeroY),j+=N.line(d,this.zeroY)),this.handleNullDataPoints(a,W,c,V,o),this._handleMarkersAndLabels({type:r,pointsPos:W,i:c,j:V,realIndex:o,isRangeStart:w})}return{yArrj:y,xArrj:b,pathFromArea:j,areaPaths:g,pathFromLine:O,linePaths:f,linePath:R,areaPath:I}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,n=e.pointsPos,i=e.isRangeStart,r=e.i,a=e.j,s=e.realIndex,o=this.w,l=new X(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,a,{realIndex:s,pointsPos:n,zRatio:this.zRatio,elParent:this.elPointsMain});else{o.globals.series[r].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var c=this.markers.plotChartMarkers(n,s,a+1);null!==c&&this.elPointsMain.add(c)}var d=l.drawDataLabel({type:t,isRangeStart:i,pos:n,i:s,j:a+1});null!==d&&this.elDataLabelsWrap.add(d)}},{key:"_createPaths",value:function(e){var t=e.type,n=e.series,i=e.i;e.realIndex;var r,a=e.j,s=e.x,o=e.y,l=e.xArrj,c=e.yArrj,d=e.y2,u=e.y2Arrj,h=e.pX,p=e.pY,m=e.pathState,f=e.segmentStartX,g=e.linePath,_=e.areaPath,v=e.linePaths,b=e.areaPaths,y=e.curve,x=e.isRangeStart,w=new T(this.ctx),E=this.areaBottomY,S="rangeArea"===t,C="rangeArea"===t&&x;switch(y){case"monotoneCubic":var N=x?c:u;switch(m){case 0:if(null===N[a+1])break;m=1;case 1:if(!(S?l.length===n[i].length:a===n[i].length-2))break;case 2:var A=x?l:l.slice().reverse(),k=x?N:N.slice().reverse(),R=(r=k,A.map(function(e,t){return[e,r[t]]}).filter(function(e){return null!==e[1]})),I=R.length>1?Fe(R):R,O=[];S&&(C?b=R:O=b.reverse());var j=0,P=0;if(function(e,t){for(var n=function(e){var t=[],n=0;return e.forEach(function(e){null!==e?n++:n>0&&(t.push(n),n=0)}),n>0&&t.push(n),t}(e),i=[],r=0,a=0;r<n.length;a+=n[r++])i[r]=Be(t,a,a+n[r]);return i}(k,I).forEach(function(e){j++;var t=function(e){for(var t="",n=0;n<e.length;n++){var i=e[n],r=i.length;r>4?(t+="C".concat(i[0],", ").concat(i[1]),t+=", ".concat(i[2],", ").concat(i[3]),t+=", ".concat(i[4],", ").concat(i[5])):r>2&&(t+="S".concat(i[0],", ").concat(i[1]),t+=", ".concat(i[2],", ").concat(i[3]))}return t}(e),n=P,i=(P+=e.length)-1;C?g=w.move(R[n][0],R[n][1])+t:S?g=w.move(O[n][0],O[n][1])+w.line(R[n][0],R[n][1])+t+w.line(O[i][0],O[i][1]):(g=w.move(R[n][0],R[n][1])+t,_=g+w.line(R[i][0],E)+w.line(R[n][0],E)+"z",b.push(_)),v.push(g)}),S&&j>1&&!C){var D=v.slice(j).reverse();v.splice(j),D.forEach(function(e){return v.push(e)})}m=0}break;case"smooth":var L=.35*(s-h);if(null===n[i][a])m=0;else switch(m){case 0:if(f=h,g=C?w.move(h,u[a])+w.line(h,p):w.move(h,p),_=w.move(h,p),null===n[i][a+1]){v.push(g),b.push(_);break}if(m=1,a<n[i].length-2){var M=w.curve(h+L,p,s-L,o,s,o);g+=M,_+=M;break}case 1:if(null===n[i][a+1])g+=C?w.line(h,d):w.move(h,p),_+=w.line(h,E)+w.line(f,E)+"z",v.push(g),b.push(_),m=-1;else{var U=w.curve(h+L,p,s-L,o,s,o);g+=U,_+=U,a>=n[i].length-2&&(C&&(g+=w.curve(s,o,s,o,s,d)+w.move(s,d)),_+=w.curve(s,o,s,o,s,E)+w.line(f,E)+"z",v.push(g),b.push(_),m=-1)}}h=s,p=o;break;default:var F=function(e,t,n){var i=[];switch(e){case"stepline":i=w.line(t,null,"H")+w.line(null,n,"V");break;case"linestep":i=w.line(null,n,"V")+w.line(t,null,"H");break;case"straight":i=w.line(t,n)}return i};if(null===n[i][a])m=0;else switch(m){case 0:if(f=h,g=C?w.move(h,u[a])+w.line(h,p):w.move(h,p),_=w.move(h,p),null===n[i][a+1]){v.push(g),b.push(_);break}if(m=1,a<n[i].length-2){var B=F(y,s,o);g+=B,_+=B;break}case 1:if(null===n[i][a+1])g+=C?w.line(h,d):w.move(h,p),_+=w.line(h,E)+w.line(f,E)+"z",v.push(g),b.push(_),m=-1;else{var V=F(y,s,o);g+=V,_+=V,a>=n[i].length-2&&(C&&(g+=w.line(s,d)),_+=w.line(s,E)+w.line(f,E)+"z",v.push(g),b.push(_),m=-1)}}h=s,p=o}return{linePaths:v,areaPaths:b,pX:h,pY:p,pathState:m,segmentStartX:f,linePath:g,areaPath:_}}},{key:"handleNullDataPoints",value:function(e,t,n,i,r){var a=this.w;if(null===e[n][i]&&a.config.markers.showNullDataPoints||1===e[n].length){var s=this.strokeWidth-a.config.markers.strokeWidth/2;s>0||(s=0);var o=this.markers.plotChartMarkers(t,r,i+1,s,!0);null!==o&&this.elPointsMain.add(o)}}}]),e}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function e(t,n,i,r){this.xoffset=t,this.yoffset=n,this.height=r,this.width=i,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(e){var t,n=[],i=this.xoffset,r=this.yoffset,s=a(e)/this.height,o=a(e)/this.width;if(this.width>=this.height)for(t=0;t<e.length;t++)n.push([i,r,i+s,r+e[t]/s]),r+=e[t]/s;else for(t=0;t<e.length;t++)n.push([i,r,i+e[t]/o,r+o]),i+=e[t]/o;return n},this.cutArea=function(t){var n;if(this.width>=this.height){var i=t/this.height,r=this.width-i;n=new e(this.xoffset+i,this.yoffset,r,this.height)}else{var a=t/this.width,s=this.height-a;n=new e(this.xoffset,this.yoffset+a,this.width,s)}return n}}function t(t,i,r,s,o){s=void 0===s?0:s,o=void 0===o?0:o;var l=n(function(e,t){var n,i=[],r=t/a(e);for(n=0;n<e.length;n++)i[n]=e[n]*r;return i}(t,i*r),[],new e(s,o,i,r),[]);return function(e){var t,n,i=[];for(t=0;t<e.length;t++)for(n=0;n<e[t].length;n++)i.push(e[t][n]);return i}(l)}function n(e,t,r,s){var o,l,c;if(0!==e.length)return o=r.shortestEdge(),function(e,t,n){var r;return 0===e.length||((r=e.slice()).push(t),i(e,n)>=i(r,n))}(t,l=e[0],o)?(t.push(l),n(e.slice(1),t,r,s)):(c=r.cutArea(a(t),s),s.push(r.getCoordinates(t)),n(e,[],c,s)),s;s.push(r.getCoordinates(t))}function i(e,t){var n=Math.min.apply(Math,e),i=Math.max.apply(Math,e),r=a(e);return Math.max(Math.pow(t,2)*i/Math.pow(r,2),Math.pow(r,2)/(Math.pow(t,2)*n))}function r(e){return e&&e.constructor===Array}function a(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t];return n}function s(e){var t,n=0;if(r(e[0]))for(t=0;t<e.length;t++)n+=s(e[t]);else n=a(e);return n}return function e(n,i,a,o,l){o=void 0===o?0:o,l=void 0===l?0:l;var c,d,u=[],h=[];if(r(n[0])){for(d=0;d<n.length;d++)u[d]=s(n[d]);for(c=t(u,i,a,o,l),d=0;d<n.length;d++)h.push(e(n[d],c[d][2]-c[d][0],c[d][3]-c[d][1],c[d][0],c[d][1]))}else h=t(n,i,a,o,l);return h}}();var He,We,Ge=function(){function e(t,n){s(this,e),this.ctx=t,this.w=t.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Ie(t),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return l(e,[{key:"draw",value:function(e){var t=this,n=this.w,i=new T(this.ctx),r=new G(this.ctx),a=i.group({class:"apexcharts-treemap"});if(n.globals.noData)return a;var s=[];return e.forEach(function(e){var t=e.map(function(e){return Math.abs(e)});s.push(t)}),this.negRange=this.helpers.checkColorRange(),n.config.series.forEach(function(e,n){e.data.forEach(function(e){Array.isArray(t.labels[n])||(t.labels[n]=[]),t.labels[n].push(e.x)})}),window.TreemapSquared.generate(s,n.globals.gridWidth,n.globals.gridHeight).forEach(function(s,o){var l=i.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:E.escapeString(n.globals.seriesNames[o]),rel:o+1,"data:realIndex":o});if(n.config.chart.dropShadow.enabled){var c=n.config.chart.dropShadow;new C(t.ctx).dropShadow(a,c,o)}var d=i.group({class:"apexcharts-data-labels"});s.forEach(function(a,s){var c=a[0],d=a[1],u=a[2],h=a[3],p=i.drawRect(c,d,u-c,h-d,n.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,n.config.plotOptions.treemap.useFillColorAsStroke?f:n.globals.stroke.colors[o]);p.attr({cx:c,cy:d,index:o,i:o,j:s,width:u-c,height:h-d});var m=t.helpers.getShadeColor(n.config.chart.type,o,s,t.negRange),f=m.color;void 0!==n.config.series[o].data[s]&&n.config.series[o].data[s].fillColor&&(f=n.config.series[o].data[s].fillColor);var g=r.fillPath({color:f,seriesNumber:o,dataPointIndex:s});p.node.classList.add("apexcharts-treemap-rect"),p.attr({fill:g}),t.helpers.addListeners(p);var _={x:c+(u-c)/2,y:d+(h-d)/2,width:0,height:0},v={x:c,y:d,width:u-c,height:h-d};if(n.config.chart.animations.enabled&&!n.globals.dataChanged){var b=1;n.globals.resized||(b=n.config.chart.animations.speed),t.animateTreemap(p,_,v,b)}if(n.globals.dataChanged){var y=1;t.dynamicAnim.enabled&&n.globals.shouldAnimate&&(y=t.dynamicAnim.speed,n.globals.previousPaths[o]&&n.globals.previousPaths[o][s]&&n.globals.previousPaths[o][s].rect&&(_=n.globals.previousPaths[o][s].rect),t.animateTreemap(p,_,v,y))}var x=t.getFontSize(a),w=n.config.dataLabels.formatter(t.labels[o][s],{value:n.globals.series[o][s],seriesIndex:o,dataPointIndex:s,w:n});"truncate"===n.config.plotOptions.treemap.dataLabels.format&&(x=parseInt(n.config.dataLabels.style.fontSize,10),w=t.truncateLabels(w,x,c,d,u,h));var E=null;n.globals.series[o][s]&&(E=t.helpers.calculateDataLabels({text:w,x:(c+u)/2,y:(d+h)/2+t.strokeWidth/2+x/3,i:o,j:s,colorProps:m,fontSize:x,series:e})),n.config.dataLabels.enabled&&E&&t.rotateToFitLabel(E,x,w,c,d,u,h),l.add(p),null!==E&&l.add(E)}),l.add(d),a.add(l)}),a}},{key:"getFontSize",value:function(e){var t,n,i=this.w,r=function e(t){var n,i=0;if(Array.isArray(t[0]))for(n=0;n<t.length;n++)i+=e(t[n]);else for(n=0;n<t.length;n++)i+=t[n].length;return i}(this.labels)/function e(t){var n,i=0;if(Array.isArray(t[0]))for(n=0;n<t.length;n++)i+=e(t[n]);else for(n=0;n<t.length;n++)i+=1;return i}(this.labels);return t=(e[2]-e[0])*(e[3]-e[1]),n=Math.pow(t,.5),Math.min(n/r,parseInt(i.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(e,t,n,i,r,a,s){var o=new T(this.ctx),l=o.getTextRects(n,t);if(l.width+this.w.config.stroke.width+5>a-i&&l.width<=s-r){var c=o.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(c.x," ").concat(c.y,") translate(").concat(l.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,n,i,r,a){var s=new T(this.ctx),o=s.getTextRects(e,t).width+this.w.config.stroke.width+5>r-n&&a-i>r-n?a-i:r-n,l=s.getTextBasedOnMaxWidth({text:e,maxWidth:o,fontSize:t});return e.length!==l.length&&o/t<5?"":l}},{key:"animateTreemap",value:function(e,t,n,i){var r=new S(this.ctx);r.animateRect(e,{x:t.x,y:t.y,width:t.width,height:t.height},{x:n.x,y:n.y,width:n.width,height:n.height},i,function(){r.animationCompleted(e)})}}]),e}(),qe=10/86400,Ye=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return l(e,[{key:"calculateTimeScaleTicks",value:function(e,t){var n=this,i=this.w;if(i.globals.allSeriesCollapsed)return i.globals.labels=[],i.globals.timescaleLabels=[],[];var r=new R(this.ctx),a=(t-e)/864e5;this.determineInterval(a),i.globals.disableZoomIn=!1,i.globals.disableZoomOut=!1,a<qe?i.globals.disableZoomIn=!0:a>5e4&&(i.globals.disableZoomOut=!0);var s=r.getTimeUnitsfromTimestamp(e,t,this.utc),o=i.globals.gridWidth/a,l=o/24,c=l/60,d=c/60,u=Math.floor(24*a),h=Math.floor(1440*a),p=Math.floor(86400*a),m=Math.floor(a),f=Math.floor(a/30),_=Math.floor(a/365),v={minMillisecond:s.minMillisecond,minSecond:s.minSecond,minMinute:s.minMinute,minHour:s.minHour,minDate:s.minDate,minMonth:s.minMonth,minYear:s.minYear},b={firstVal:v,currentMillisecond:v.minMillisecond,currentSecond:v.minSecond,currentMinute:v.minMinute,currentHour:v.minHour,currentMonthDate:v.minDate,currentDate:v.minDate,currentMonth:v.minMonth,currentYear:v.minYear,daysWidthOnXAxis:o,hoursWidthOnXAxis:l,minutesWidthOnXAxis:c,secondsWidthOnXAxis:d,numberOfSeconds:p,numberOfMinutes:h,numberOfHours:u,numberOfDays:m,numberOfMonths:f,numberOfYears:_};switch(this.tickInterval){case"years":this.generateYearScale(b);break;case"months":case"half_year":this.generateMonthScale(b);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(b);break;case"hours":this.generateHourScale(b);break;case"minutes_fives":case"minutes":this.generateMinuteScale(b);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(b)}var y=this.timeScaleArray.map(function(e){var t={position:e.position,unit:e.unit,year:e.year,day:e.day?e.day:1,hour:e.hour?e.hour:0,month:e.month+1};return"month"===e.unit?g(g({},t),{},{day:1,value:e.value+1}):"day"===e.unit||"hour"===e.unit?g(g({},t),{},{value:e.value}):"minute"===e.unit?g(g({},t),{},{value:e.value,minute:e.value}):"second"===e.unit?g(g({},t),{},{value:e.value,minute:e.minute,second:e.second}):e});return y.filter(function(e){var t=1,r=Math.ceil(i.globals.gridWidth/120),a=e.value;void 0!==i.config.xaxis.tickAmount&&(r=i.config.xaxis.tickAmount),y.length>r&&(t=Math.floor(y.length/r));var s=!1,o=!1;switch(n.tickInterval){case"years":"year"===e.unit&&(s=!0);break;case"half_year":t=7,"year"===e.unit&&(s=!0);break;case"months":t=1,"year"===e.unit&&(s=!0);break;case"months_fortnight":t=15,"year"!==e.unit&&"month"!==e.unit||(s=!0),30===a&&(o=!0);break;case"months_days":t=10,"month"===e.unit&&(s=!0),30===a&&(o=!0);break;case"week_days":t=8,"month"===e.unit&&(s=!0);break;case"days":t=1,"month"===e.unit&&(s=!0);break;case"hours":"day"===e.unit&&(s=!0);break;case"minutes_fives":case"seconds_fives":a%5!=0&&(o=!0);break;case"seconds_tens":a%10!=0&&(o=!0)}if("hours"===n.tickInterval||"minutes_fives"===n.tickInterval||"seconds_tens"===n.tickInterval||"seconds_fives"===n.tickInterval){if(!o)return!0}else if((a%t==0||s)&&!o)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var n=this.w,i=this.formatDates(e),r=this.removeOverlappingTS(i);n.globals.timescaleLabels=r.slice(),new me(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,n=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case n>15:this.tickInterval="minutes_fives";break;case n>5:this.tickInterval="minutes";break;case n>1:this.tickInterval="seconds_tens";break;case 60*n>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,n=e.currentMonth,i=e.currentYear,r=e.daysWidthOnXAxis,a=e.numberOfYears,s=t.minYear,o=0,l=new R(this.ctx),c="year";if(t.minDate>1||t.minMonth>0){var d=l.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);o=(l.determineDaysOfYear(t.minYear)-d+1)*r,s=t.minYear+1,this.timeScaleArray.push({position:o,value:s,unit:c,year:s,month:E.monthMod(n+1)})}else 1===t.minDate&&0===t.minMonth&&this.timeScaleArray.push({position:o,value:s,unit:c,year:i,month:E.monthMod(n+1)});for(var u=s,h=o,p=0;p<a;p++)u++,h=l.determineDaysOfYear(u-1)*r+h,this.timeScaleArray.push({position:h,value:u,unit:c,year:u,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,n=e.currentMonthDate,i=e.currentMonth,r=e.currentYear,a=e.daysWidthOnXAxis,s=e.numberOfMonths,o=i,l=0,c=new R(this.ctx),d="month",u=0;if(t.minDate>1){l=(c.determineDaysOfMonths(i+1,t.minYear)-n+1)*a,o=E.monthMod(i+1);var h=r+u,p=E.monthMod(o),m=o;0===o&&(d="year",m=h,p=1,h+=u+=1),this.timeScaleArray.push({position:l,value:m,unit:d,year:h,month:p})}else this.timeScaleArray.push({position:l,value:o,unit:d,year:r,month:E.monthMod(i)});for(var f=o+1,g=l,_=0,v=1;_<s;_++,v++){0===(f=E.monthMod(f))?(d="year",u+=1):d="month";var b=this._getYear(r,f,u);g=c.determineDaysOfMonths(f,b)*a+g;var y=0===f?b:f;this.timeScaleArray.push({position:g,value:y,unit:d,year:b,month:0===f?1:f}),f++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,n=e.currentMonth,i=e.currentYear,r=e.hoursWidthOnXAxis,a=e.numberOfDays,s=new R(this.ctx),o="day",l=t.minDate+1,c=l,d=function(e,t,n){return e>s.determineDaysOfMonths(t+1,n)?(c=1,o="month",h=t+=1,t):t},u=(24-t.minHour)*r,h=l,p=d(c,n,i);0===t.minHour&&1===t.minDate?(u=0,h=E.monthMod(t.minMonth),o="month",c=t.minDate):1!==t.minDate&&0===t.minHour&&0===t.minMinute&&(u=0,l=t.minDate,h=l,p=d(c=l,n,i)),this.timeScaleArray.push({position:u,value:h,unit:o,year:this._getYear(i,p,0),month:E.monthMod(p),day:c});for(var m=u,f=0;f<a;f++){o="day",p=d(c+=1,p,this._getYear(i,p,0));var g=this._getYear(i,p,0);m=24*r+m;var _=1===c?E.monthMod(p):c;this.timeScaleArray.push({position:m,value:_,unit:o,year:g,month:E.monthMod(p),day:_})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,n=e.currentDate,i=e.currentMonth,r=e.currentYear,a=e.minutesWidthOnXAxis,s=e.numberOfHours,o=new R(this.ctx),l="hour",c=function(e,t){return e>o.determineDaysOfMonths(t+1,r)&&(f=1,t+=1),{month:t,date:f}},d=function(e,t){return e>o.determineDaysOfMonths(t+1,r)?t+=1:t},u=60-(t.minMinute+t.minSecond/60),h=u*a,p=t.minHour+1,m=p;60===u&&(h=0,m=p=t.minHour);var f=n;m>=24&&(m=0,f+=1,l="day");var g=c(f,i).month;g=d(f,g),this.timeScaleArray.push({position:h,value:p,unit:l,day:f,hour:m,year:r,month:E.monthMod(g)}),m++;for(var _=h,v=0;v<s;v++){l="hour",m>=24&&(m=0,l="day",g=c(f+=1,g).month,g=d(f,g));var b=this._getYear(r,g,0);_=60*a+_;var y=0===m?f:m;this.timeScaleArray.push({position:_,value:y,unit:l,hour:m,day:f,year:b,month:E.monthMod(g)}),m++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,i=e.currentMinute,r=e.currentHour,a=e.currentDate,s=e.currentMonth,o=e.currentYear,l=e.minutesWidthOnXAxis,c=e.secondsWidthOnXAxis,d=e.numberOfMinutes,u=i+1,h=a,p=s,m=o,f=r,g=(60-n-t/1e3)*c,_=0;_<d;_++)u>=60&&(u=0,24===(f+=1)&&(f=0)),this.timeScaleArray.push({position:g,value:u,unit:"minute",hour:f,minute:u,day:h,year:this._getYear(m,p,0),month:E.monthMod(p)}),g+=l,u++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,i=e.currentMinute,r=e.currentHour,a=e.currentDate,s=e.currentMonth,o=e.currentYear,l=e.secondsWidthOnXAxis,c=e.numberOfSeconds,d=n+1,u=i,h=a,p=s,m=o,f=r,g=(1e3-t)/1e3*l,_=0;_<c;_++)d>=60&&(d=0,++u>=60&&(u=0,24===++f&&(f=0))),this.timeScaleArray.push({position:g,value:d,unit:"second",hour:f,minute:u,second:d,day:h,year:this._getYear(m,p,0),month:E.monthMod(p)}),g+=l,d++}},{key:"createRawDateString",value:function(e,t){var n=e.year;return 0===e.month&&(e.month=1),n+="-"+("0"+e.month.toString()).slice(-2),"day"===e.unit?n+="day"===e.unit?"-"+("0"+t).slice(-2):"-01":n+="-"+("0"+(e.day?e.day:"1")).slice(-2),"hour"===e.unit?n+="hour"===e.unit?"T"+("0"+t).slice(-2):"T00":n+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),"minute"===e.unit?n+=":"+("0"+t).slice(-2):n+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),"second"===e.unit?n+=":"+("0"+t).slice(-2):n+=":00",this.utc&&(n+=".000Z"),n}},{key:"formatDates",value:function(e){var t=this,n=this.w;return e.map(function(e){var i=e.value.toString(),r=new R(t.ctx),a=t.createRawDateString(e,i),s=r.getDate(r.parseDate(a));if(t.utc||(s=r.getDate(r.parseDateWithTimezone(a))),void 0===n.config.xaxis.labels.format){var o="dd MMM",l=n.config.xaxis.labels.datetimeFormatter;"year"===e.unit&&(o=l.year),"month"===e.unit&&(o=l.month),"day"===e.unit&&(o=l.day),"hour"===e.unit&&(o=l.hour),"minute"===e.unit&&(o=l.minute),"second"===e.unit&&(o=l.second),i=r.formatDate(s,o)}else i=r.formatDate(s,n.config.xaxis.labels.format);return{dateString:a,position:e.position,value:i,unit:e.unit,year:e.year,month:e.month}})}},{key:"removeOverlappingTS",value:function(e){var t,n=this,i=new T(this.ctx),r=!1;e.length>0&&e[0].value&&e.every(function(t){return t.value.length===e[0].value.length})&&(r=!0,t=i.getTextRects(e[0].value).width);var a=0,s=e.map(function(s,o){if(o>0&&n.w.config.xaxis.labels.hideOverlappingLabels){var l=r?t:i.getTextRects(e[a].value).width,c=e[a].position;return s.position>c+l+10?(a=o,s):null}return s});return s.filter(function(e){return null!==e})}},{key:"_getYear",value:function(e,t,n){return e+Math.floor(t/12)+n}}]),e}(),Xe=function(){function e(t,n){s(this,e),this.ctx=n,this.w=n.w,this.el=t}return l(e,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,n=e.config,i=n.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(i),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(i),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(i)&&n.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),T.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=new window.SVG.Doc(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(n.chart.offsetX,", ").concat(n.chart.offsetY,")")}),t.dom.Paper.node.style.background="dark"!==n.theme.mode||n.chart.background?"light"!==n.theme.mode||n.chart.background?n.chart.background:"#fff":"#424242",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),T.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),t.dom.elLegendForeign.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var n=this.w,i=this.ctx,r=n.config,a=n.globals,s={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},column:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},o=r.chart.type||"line",l=null,c=0;a.series.forEach(function(t,i){var r=e[i].type||o;s[r]?("rangeArea"===r?(s[r].series.push(a.seriesRangeStart[i]),s[r].seriesRangeEnd.push(a.seriesRangeEnd[i])):s[r].series.push(t),s[r].i.push(i),"column"!==r&&"bar"!==r||(n.globals.columnSeries=s.column)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(r)?l=r:"bar"===r?(s.column.series.push(t),s.column.i.push(i)):console.warn("You have specified an unrecognized series type (".concat(r,").")),o!==r&&"scatter"!==r&&c++}),c>0&&(l&&console.warn("Chart or series type ".concat(l," cannot appear with other chart or series types.")),s.column.series.length>0&&r.plotOptions.bar.horizontal&&(c-=s.column.series.length,s.column={series:[],i:[]},n.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),a.comboCharts||(a.comboCharts=c>0);var d=new ze(i,t),u=new Re(i,t);i.pie=new Pe(i);var h=new Le(i);i.rangeBar=new Me(i,t);var p=new De(i),m=[];if(a.comboCharts){var f,g,_=new N(i);if(s.area.series.length>0&&(f=m).push.apply(f,b(_.drawSeriesByGroup(s.area,a.areaGroups,"area",d))),s.column.series.length>0)if(r.chart.stacked){var v=new ke(i,t);m.push(v.draw(s.column.series,s.column.i))}else i.bar=new Ae(i,t),m.push(i.bar.draw(s.column.series,s.column.i));if(s.rangeArea.series.length>0&&m.push(d.draw(s.rangeArea.series,"rangeArea",s.rangeArea.i,s.rangeArea.seriesRangeEnd)),s.line.series.length>0&&(g=m).push.apply(g,b(_.drawSeriesByGroup(s.line,a.lineGroups,"line",d))),s.candlestick.series.length>0&&m.push(u.draw(s.candlestick.series,"candlestick",s.candlestick.i)),s.boxPlot.series.length>0&&m.push(u.draw(s.boxPlot.series,"boxPlot",s.boxPlot.i)),s.rangeBar.series.length>0&&m.push(i.rangeBar.draw(s.rangeBar.series,s.rangeBar.i)),s.scatter.series.length>0){var y=new ze(i,t,!0);m.push(y.draw(s.scatter.series,"scatter",s.scatter.i))}if(s.bubble.series.length>0){var x=new ze(i,t,!0);m.push(x.draw(s.bubble.series,"bubble",s.bubble.i))}}else switch(r.chart.type){case"line":m=d.draw(a.series,"line");break;case"area":m=d.draw(a.series,"area");break;case"bar":r.chart.stacked?m=new ke(i,t).draw(a.series):(i.bar=new Ae(i,t),m=i.bar.draw(a.series));break;case"candlestick":m=new Re(i,t).draw(a.series,"candlestick");break;case"boxPlot":m=new Re(i,t).draw(a.series,r.chart.type);break;case"rangeBar":m=i.rangeBar.draw(a.series);break;case"rangeArea":m=d.draw(a.seriesRangeStart,"rangeArea",void 0,a.seriesRangeEnd);break;case"heatmap":m=new Oe(i,t).draw(a.series);break;case"treemap":m=new Ge(i,t).draw(a.series);break;case"pie":case"donut":case"polarArea":m=i.pie.draw(a.series);break;case"radialBar":m=h.draw(a.series);break;case"radar":m=p.draw(a.series);break;default:m=d.draw(a.series)}return m}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,n=e.config;n.chart.width=n.chart.width||"100%",n.chart.height=n.chart.height||"auto",t.svgWidth=n.chart.width,t.svgHeight=n.chart.height;var i=E.getDimensions(this.el),r=n.chart.width.toString().split(/[0-9]+/g).pop();"%"===r?E.isNumber(i[0])&&(0===i[0].width&&(i=E.getDimensions(this.el.parentNode)),t.svgWidth=i[0]*parseInt(n.chart.width,10)/100):"px"!==r&&""!==r||(t.svgWidth=parseInt(n.chart.width,10));var a=String(n.chart.height).toString().split(/[0-9]+/g).pop();if("auto"!==t.svgHeight&&""!==t.svgHeight)if("%"===a){var s=E.getDimensions(this.el.parentNode);t.svgHeight=s[1]*parseInt(n.chart.height,10)/100}else t.svgHeight=parseInt(n.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),T.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),"%"!==a){var o=n.chart.sparkline.enabled?0:t.axisCharts?n.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+o,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,n=e.translateX;T.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(n,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=0,i=e.config.chart.sparkline.enabled?1:15;i+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(n=new ge(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var r=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),a=2.05*e.globals.radialSize;if(r&&!e.config.chart.sparkline.enabled&&0!==e.config.plotOptions.radialBar.startAngle){var s=E.getBoundingClientRect(r);a=s.bottom;var o=s.bottom-s.top;a=Math.max(2.05*e.globals.radialSize,o)}var l=Math.ceil(a+t.translateY+n+i);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",l),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(l,"px"),T.setAttrs(t.dom.Paper.node,{height:l}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(l,"px"))}},{key:"coreCalculations",value:function(){new te(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(){return[]})},n=new H,i=this.w.globals;n.initGlobalVars(i),i.seriesXvalues=t(),i.seriesYvalues=t()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if("back"===e.config.xaxis.crosshairs.position&&new se(this.ctx).drawXCrosshairs(),"back"===e.config.yaxis[0].crosshairs.position&&new se(this.ctx).drawYCrosshairs(),"datetime"===e.config.xaxis.type&&void 0===e.config.xaxis.labels.formatter){this.ctx.timeScale=new Ye(this.ctx);var n=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(n)}t=new N(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.w;if(t.config.chart.brush.enabled&&"function"!=typeof t.config.chart.events.selection){var n=Array.isArray(t.config.chart.brush.targets)?t.config.chart.brush.targets:[t.config.chart.brush.target];n.forEach(function(t){var n=ApexCharts.getChartByID(t);n.w.globals.brushSource=e.ctx,"function"!=typeof n.w.config.chart.events.zoomed&&(n.w.config.chart.events.zoomed=function(){return e.updateSourceChart(n)}),"function"!=typeof n.w.config.chart.events.scrolled&&(n.w.config.chart.events.scrolled=function(){return e.updateSourceChart(n)})}),t.config.chart.events.selection=function(e,t){n.forEach(function(e){ApexCharts.getChartByID(e).ctx.updateHelpers._updateOptions({xaxis:{min:t.xaxis.min,max:t.xaxis.max}},!1,!1,!1,!1)})}}}}]),e}(),Ke=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"_updateOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(s){var o=[t.ctx];r&&(o=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(o=[t.ctx],t.ctx.w.globals.isExecCalled=!1),o.forEach(function(r,l){var c=r.w;if(c.globals.shouldAnimate=i,n||(c.globals.resized=!0,c.globals.dataChanged=!0,i&&r.series.getPreviousPaths()),e&&"object"===x(e)&&(r.config=new z(e),e=N.extendArrayProps(r.config,e,c),r.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,c.config=E.extend(c.config,e),a&&(c.globals.lastXAxis=e.xaxis?E.clone(e.xaxis):[],c.globals.lastYAxis=e.yaxis?E.clone(e.yaxis):[],c.globals.initialConfig=E.extend({},c.config),c.globals.initialSeries=E.clone(c.config.series),e.series))){for(var d=0;d<c.globals.collapsedSeriesIndices.length;d++){var u=c.config.series[c.globals.collapsedSeriesIndices[d]];c.globals.collapsedSeries[d].data=c.globals.axisCharts?u.data.slice():u}for(var h=0;h<c.globals.ancillaryCollapsedSeriesIndices.length;h++){var p=c.config.series[c.globals.ancillaryCollapsedSeriesIndices[h]];c.globals.ancillaryCollapsedSeries[h].data=c.globals.axisCharts?p.data.slice():p}r.series.emptyCollapsedSeries(c.config.series)}return r.update(e).then(function(){l===o.length-1&&s(r)})})})}},{key:"_updateSeries",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(r){var a,s=n.w;return s.globals.shouldAnimate=t,s.globals.dataChanged=!0,t&&n.ctx.series.getPreviousPaths(),s.globals.axisCharts?(0===(a=e.map(function(e,t){return n._extendSeries(e,t)})).length&&(a=[{data:[]}]),s.config.series=a):s.config.series=e.slice(),i&&(s.globals.initialConfig.series=E.clone(s.config.series),s.globals.initialSeries=E.clone(s.config.series)),n.ctx.update().then(function(){r(n.ctx)})})}},{key:"_extendSeries",value:function(e,t){var n=this.w,i=n.config.series[t];return g(g({},n.config.series[t]),{},{name:e.name?e.name:null==i?void 0:i.name,color:e.color?e.color:null==i?void 0:i.color,type:e.type?e.type:null==i?void 0:i.type,group:e.group?e.group:null==i?void 0:i.group,hidden:void 0!==e.hidden?e.hidden:null==i?void 0:i.hidden,data:e.data?e.data:null==i?void 0:i.data,zIndex:void 0!==e.zIndex?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var n=this.w,i=null,r=".apexcharts-series[data\\:realIndex='".concat(e,"']");return n.globals.axisCharts?i=n.globals.dom.Paper.select("".concat(r," path[j='").concat(t,"'], ").concat(r," circle[j='").concat(t,"'], ").concat(r," rect[j='").concat(t,"']")).members[0]:void 0===t&&(i=n.globals.dom.Paper.select("".concat(r," path[j='").concat(e,"']")).members[0],"pie"!==n.config.chart.type&&"polarArea"!==n.config.chart.type&&"donut"!==n.config.chart.type||this.ctx.pie.pieClicked(e)),i?(new T(this.ctx).pathMouseDown(i,null),i.node?i.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(n){void 0!==e.xaxis[n]&&(t.config.xaxis[n]=e.xaxis[n],t.globals.lastXAxis[n]=e.xaxis[n])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var n=new V(e);e=n.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&"100%"===e.chart.stackType&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,n){e.yaxis[n].min=0,e.yaxis[n].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,n=this.w,i=n.globals.lastXAxis,r=n.globals.lastYAxis;e&&e.xaxis&&(i=e.xaxis),e&&e.yaxis&&(r=e.yaxis),n.config.xaxis.min=i.min,n.config.xaxis.max=i.max;n.config.yaxis.map(function(e,i){n.globals.zoomed||void 0!==r[i]?function(e){void 0!==r[e]&&(n.config.yaxis[e].min=r[e].min,n.config.yaxis[e].max=r[e].max)}(i):void 0!==t.ctx.opts.yaxis[i]&&(e.min=t.ctx.opts.yaxis[i].min,e.max=t.ctx.opts.yaxis[i].max)})}}]),e}();He="undefined"!=typeof window?window:void 0,We=function(e,t){var n=(void 0!==this?this:e).SVG=function(e){if(n.supported)return e=new n.Doc(e),n.parser.draw||n.prepare(),e};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.dev",n.supported=!0,!n.supported)return!1;n.did=1e3,n.eid=function(e){return"Svgjs"+d(e)+n.did++},n.create=function(e){var n=t.createElementNS(this.ns,e);return n.setAttribute("id",this.eid(e)),n},n.extend=function(){var e,t;t=(e=[].slice.call(arguments)).pop();for(var i=e.length-1;i>=0;i--)if(e[i])for(var r in t)e[i].prototype[r]=t[r];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(e){var t="function"==typeof e.create?e.create:function(){this.constructor.call(this,n.create(e.create))};return e.inherit&&(t.prototype=new e.inherit),e.extend&&n.extend(t,e.extend),e.construct&&n.extend(e.parent||n.Container,e.construct),t},n.adopt=function(t){return t?t.instance?t.instance:((i="svg"==t.nodeName?t.parentNode instanceof e.SVGElement?new n.Nested:new n.Doc:"linearGradient"==t.nodeName?new n.Gradient("linear"):"radialGradient"==t.nodeName?new n.Gradient("radial"):n[d(t.nodeName)]?new(n[d(t.nodeName)]):new n.Element(t)).type=t.nodeName,i.node=t,t.instance=i,i instanceof n.Doc&&i.namespace().defs(),i.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),i):null;var i},n.prepare=function(){var e=t.getElementsByTagName("body")[0],i=(e?new n.Doc(e):n.adopt(t.documentElement).nested()).size(2,0);n.parser={body:e||t.documentElement,draw:i.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:i.polyline().node,path:i.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},t.addEventListener("DOMContentLoaded",function(){n.parser.draw||n.prepare()},!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(e,t){for(var n=e.length,i=[],r=0;r<n;r++)i.push(t(e[r]));return i},filter:function(e,t){for(var n=e.length,i=[],r=0;r<n;r++)t(e[r])&&i.push(e[r]);return i},filterSVGElements:function(t){return this.filter(t,function(t){return t instanceof e.SVGElement})}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(e){var t,i;this.r=0,this.g=0,this.b=0,e&&("string"==typeof e?n.regex.isRgb.test(e)?(t=n.regex.rgb.exec(e.replace(n.regex.whitespace,"")),this.r=parseInt(t[1]),this.g=parseInt(t[2]),this.b=parseInt(t[3])):n.regex.isHex.test(e)&&(t=n.regex.hex.exec(4==(i=e).length?["#",i.substring(1,2),i.substring(1,2),i.substring(2,3),i.substring(2,3),i.substring(3,4),i.substring(3,4)].join(""):i),this.r=parseInt(t[1],16),this.g=parseInt(t[2],16),this.b=parseInt(t[3],16)):"object"===x(e)&&(this.r=e.r,this.g=e.g,this.b=e.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+u(this.r)+u(this.g)+u(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(e){return this.destination=new n.Color(e),this},at:function(e){return this.destination?(e=e<0?0:e>1?1:e,new n.Color({r:~~(this.r+(this.destination.r-this.r)*e),g:~~(this.g+(this.destination.g-this.g)*e),b:~~(this.b+(this.destination.b-this.b)*e)})):this}}),n.Color.test=function(e){return e+="",n.regex.isHex.test(e)||n.regex.isRgb.test(e)},n.Color.isRgb=function(e){return e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b},n.Color.isColor=function(e){return n.Color.isRgb(e)||n.Color.test(e)},n.Array=function(e,t){0==(e=(e||[]).valueOf()).length&&t&&(e=t.valueOf()),this.value=this.parse(e)},n.extend(n.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(e){return e=e.valueOf(),Array.isArray(e)?e:this.split(e)}}),n.PointArray=function(e,t){n.Array.call(this,e,t||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray;for(var i={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]}},r="mlhvqtcsaz".split(""),a=0,s=r.length;a<s;++a)i[r[a]]=function(e){return function(t,n,r){if("H"==e)t[0]=t[0]+n.x;else if("V"==e)t[0]=t[0]+n.y;else if("A"==e)t[5]=t[5]+n.x,t[6]=t[6]+n.y;else for(var a=0,s=t.length;a<s;++a)t[a]=t[a]+(a%2?n.y:n.x);if(i&&"function"==typeof i[e])return i[e](t,n,r)}}(r[a].toUpperCase());n.PathArray=function(e,t){n.Array.call(this,e,t||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return function(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t][0],null!=e[t][1]&&(i+=e[t][1],null!=e[t][2]&&(i+=" ",i+=e[t][2],null!=e[t][3]&&(i+=" ",i+=e[t][3],i+=" ",i+=e[t][4],null!=e[t][5]&&(i+=" ",i+=e[t][5],i+=" ",i+=e[t][6],null!=e[t][7]&&(i+=" ",i+=e[t][7])))));return i+" "}(this.value)},move:function(e,t){var n=this.bbox();return n.x,n.y,this},at:function(e){if(!this.destination)return this;for(var t=this.value,i=this.destination.value,r=[],a=new n.PathArray,s=0,o=t.length;s<o;s++){r[s]=[t[s][0]];for(var l=1,c=t[s].length;l<c;l++)r[s][l]=t[s][l]+(i[s][l]-t[s][l])*e;"A"===r[s][0]&&(r[s][4]=+(0!=r[s][4]),r[s][5]=+(0!=r[s][5]))}return a.value=r,a},parse:function(e){if(e instanceof n.PathArray)return e.valueOf();var t,r={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};e="string"==typeof e?e.replace(n.regex.numbersWithDots,l).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):e.reduce(function(e,t){return[].concat.call(e,t)},[]);var a=[],s=new n.Point,o=new n.Point,c=0,d=e.length;do{n.regex.isPathLetter.test(e[c])?(t=e[c],++c):"M"==t?t="L":"m"==t&&(t="l"),a.push(i[t].call(null,e.slice(c,c+=r[t.toUpperCase()]).map(parseFloat),s,o))}while(d>c);return a},bbox:function(){return n.parser.draw||n.prepare(),n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(e,t){this.value=0,this.unit=t||"","number"==typeof e?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:"string"==typeof e?(t=e.match(n.regex.numberAndUnit))&&(this.value=parseFloat(t[1]),"%"==t[5]?this.value/=100:"s"==t[5]&&(this.value*=1e3),this.unit=t[5]):e instanceof n.Number&&(this.value=e.valueOf(),this.unit=e.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(e){return e=new n.Number(e),new n.Number(this+e,this.unit||e.unit)},minus:function(e){return e=new n.Number(e),new n.Number(this-e,this.unit||e.unit)},times:function(e){return e=new n.Number(e),new n.Number(this*e,this.unit||e.unit)},divide:function(e){return e=new n.Number(e),new n.Number(this/e,this.unit||e.unit)},to:function(e){var t=new n.Number(this);return"string"==typeof e&&(t.unit=e),t},morph:function(e){return this.destination=new n.Number(e),e.relative&&(this.destination.value+=this.value),this},at:function(e){return this.destination?new n.Number(this.destination).minus(this).times(e).plus(this):this}}}),n.Element=n.invent({create:function(e){this._stroke=n.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=e)&&(this.type=e.nodeName,this.node.instance=this,this._stroke=e.getAttribute("stroke")||this._stroke)},extend:{x:function(e){return this.attr("x",e)},y:function(e){return this.attr("y",e)},cx:function(e){return null==e?this.x()+this.width()/2:this.x(e-this.width()/2)},cy:function(e){return null==e?this.y()+this.height()/2:this.y(e-this.height()/2)},move:function(e,t){return this.x(e).y(t)},center:function(e,t){return this.cx(e).cy(t)},width:function(e){return this.attr("width",e)},height:function(e){return this.attr("height",e)},size:function(e,t){var i=h(this,e,t);return this.width(new n.Number(i.width)).height(new n.Number(i.height))},clone:function(e){this.writeDataToDom();var t=f(this.node.cloneNode(!0));return e?e.add(t):this.after(t),t},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(e){return this.after(e).remove(),e},addTo:function(e){return e.put(this)},putIn:function(e){return e.add(this)},id:function(e){return this.attr("id",e)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var e=this.attr("class");return null==e?[]:e.trim().split(n.regex.delimiter)},hasClass:function(e){return-1!=this.classes().indexOf(e)},addClass:function(e){if(!this.hasClass(e)){var t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this},removeClass:function(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!=e}).join(" ")),this},toggleClass:function(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)},reference:function(e){return n.get(this.attr(e))},parent:function(t){var i=this;if(!i.node.parentNode)return null;if(i=n.adopt(i.node.parentNode),!t)return i;for(;i&&i.node instanceof e.SVGElement;){if("string"==typeof t?i.matches(t):i instanceof t)return i;if(!i.node.parentNode||"#document"==i.node.parentNode.nodeName)return null;i=n.adopt(i.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(e){var t=[],n=this;do{if(!(n=n.parent(e))||!n.node)break;t.push(n)}while(n.parent);return t},matches:function(e){return function(e,t){return(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector).call(e,t)}(this.node,e)},native:function(){return this.node},svg:function(e){var i=t.createElementNS("http://www.w3.org/2000/svg","svg");if(!(e&&this instanceof n.Parent))return i.appendChild(e=t.createElementNS("http://www.w3.org/2000/svg","svg")),this.writeDataToDom(),e.appendChild(this.node.cloneNode(!0)),i.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");i.innerHTML="<svg>"+e.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var r=0,a=i.firstChild.childNodes.length;r<a;r++)this.node.appendChild(i.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(e){return this.dom=e,this},is:function(e){return function(e,t){return e instanceof t}(this,e)}}}),n.easing={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return 1-Math.cos(e*Math.PI/2)}},n.morph=function(e){return function(t,i){return new n.MorphObj(t,i).at(e)}},n.Situation=n.invent({create:function(e){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(e.duration).valueOf(),this.delay=new n.Number(e.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=e.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(e){this._target=e,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(e,t,i){"object"===x(e)&&(t=e.ease,i=e.delay,e=e.duration);var r=new n.Situation({duration:e||1e3,delay:i||0,ease:n.easing[t||"-"]||t});return this.queue(r),this},target:function(e){return e&&e instanceof n.Element?(this._target=e,this):this._target},timeToAbsPos:function(e){return(e-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(e){return this.situation.duration/this._speed*e+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=e.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){e.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(e){return("function"==typeof e||e instanceof n.Situation)&&this.situations.push(e),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var e,t=this.situation;if(t.init)return this;for(var i in t.animations){e=this.target()[i](),Array.isArray(e)||(e=[e]),Array.isArray(t.animations[i])||(t.animations[i]=[t.animations[i]]);for(var r=e.length;r--;)t.animations[i][r]instanceof n.Number&&(e[r]=new n.Number(e[r])),t.animations[i][r]=e[r].morph(t.animations[i][r])}for(var i in t.attrs)t.attrs[i]=new n.MorphObj(this.target().attr(i),t.attrs[i]);for(var i in t.styles)t.styles[i]=new n.MorphObj(this.target().style(i),t.styles[i]);return t.initialTransformation=this.target().matrixify(),t.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(e,t){var n=this.active;return this.active=!1,t&&this.clearQueue(),e&&this.situation&&(!n&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(e){var t=this.last();return this.target().on("finished.fx",function n(i){i.detail.situation==t&&(e.call(this,t),this.off("finished.fx",n))}),this._callStart()},during:function(e){var t=this.last(),i=function(i){i.detail.situation==t&&e.call(this,i.detail.pos,n.morph(i.detail.pos),i.detail.eased,t)};return this.target().off("during.fx",i).on("during.fx",i),this.after(function(){this.off("during.fx",i)}),this._callStart()},afterAll:function(e){var t=function t(n){e.call(this),this.off("allfinished.fx",t)};return this.target().off("allfinished.fx",t).on("allfinished.fx",t),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(e,t,n){return this.last()[n||"animations"][e]=t,this._callStart()},step:function(e){var t,n,i;e||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(t=Math.max(this.absPos,0),n=Math.floor(t),!0===this.situation.loops||n<this.situation.loops?(this.pos=t-n,i=this.situation.loop,this.situation.loop=n):(this.absPos=this.situation.loops,this.pos=1,i=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-i)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var r=this.situation.ease(this.pos);for(var a in this.situation.once)a>this.lastPos&&a<=r&&(this.situation.once[a].call(this.target(),this.pos,r),delete this.situation.once[a]);return this.active&&this.target().fire("during",{pos:this.pos,eased:r,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=r,this):this},eachAt:function(){var e,t=this,i=this.target(),r=this.situation;for(var a in r.animations)e=[].concat(r.animations[a]).map(function(e){return"string"!=typeof e&&e.at?e.at(r.ease(t.pos),t.pos):e}),i[a].apply(i,e);for(var a in r.attrs)e=[a].concat(r.attrs[a]).map(function(e){return"string"!=typeof e&&e.at?e.at(r.ease(t.pos),t.pos):e}),i.attr.apply(i,e);for(var a in r.styles)e=[a].concat(r.styles[a]).map(function(e){return"string"!=typeof e&&e.at?e.at(r.ease(t.pos),t.pos):e}),i.style.apply(i,e);if(r.transforms.length){e=r.initialTransformation,a=0;for(var s=r.transforms.length;a<s;a++){var o=r.transforms[a];o instanceof n.Matrix?e=o.relative?e.multiply((new n.Matrix).morph(o).at(r.ease(this.pos))):e.morph(o).at(r.ease(this.pos)):(o.relative||o.undo(e.extract()),e=e.multiply(o.at(r.ease(this.pos))))}i.matrix(e)}return this},once:function(e,t,n){var i=this.last();return n||(e=i.ease(e)),i.once[e]=t,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:n.Element,construct:{animate:function(e,t,i){return(this.fx||(this.fx=new n.FX(this))).animate(e,t,i)},delay:function(e){return(this.fx||(this.fx=new n.FX(this))).delay(e)},stop:function(e,t){return this.fx&&this.fx.stop(e,t),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),n.MorphObj=n.invent({create:function(e,t){return n.Color.isColor(t)?new n.Color(e).morph(t):n.regex.delimiter.test(e)?n.regex.pathLetters.test(e)?new n.PathArray(e).morph(t):new n.Array(e).morph(t):n.regex.numberAndUnit.test(t)?new n.Number(e).morph(t):(this.value=e,void(this.destination=t))},extend:{at:function(e,t){return t<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(e,t,n){if("object"===x(e))for(var i in e)this.attr(i,e[i]);else this.add(e,t,"attrs");return this},plot:function(e,t,n,i){return 4==arguments.length?this.plot([e,t,n,i]):this.add("plot",new(this.target().morphArray)(e))}}),n.Box=n.invent({create:function(e,t,i,r){if(!("object"!==x(e)||e instanceof n.Element))return n.Box.call(this,null!=e.left?e.left:e.x,null!=e.top?e.top:e.y,e.width,e.height);var a;4==arguments.length&&(this.x=e,this.y=t,this.width=i,this.height=r),null==(a=this).x&&(a.x=0,a.y=0,a.width=0,a.height=0),a.w=a.width,a.h=a.height,a.x2=a.x+a.width,a.y2=a.y+a.height,a.cx=a.x+a.width/2,a.cy=a.y+a.height/2}}),n.BBox=n.invent({create:function(e){if(n.Box.apply(this,[].slice.call(arguments)),e instanceof n.Element){var i;try{if(!t.documentElement.contains){for(var r=e.node;r.parentNode;)r=r.parentNode;if(r!=t)throw new Error("Element not in the dom")}i=e.node.getBBox()}catch(t){if(e instanceof n.Shape){n.parser.draw||n.prepare();var a=e.clone(n.parser.draw.instance).show();a&&a.node&&"function"==typeof a.node.getBBox&&(i=a.node.getBBox()),a&&"function"==typeof a.remove&&a.remove()}else i={x:e.node.clientLeft,y:e.node.clientTop,width:e.node.clientWidth,height:e.node.clientHeight}}n.Box.call(this,i)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.Matrix=n.invent({create:function(e){var t=m([1,0,0,1,0,0]);e=null===e?t:e instanceof n.Element?e.matrixify():"string"==typeof e?m(e.split(n.regex.delimiter).map(parseFloat)):6==arguments.length?m([].slice.call(arguments)):Array.isArray(e)?m(e):e&&"object"===x(e)?e:t;for(var i=_.length-1;i>=0;--i)this[_[i]]=null!=e[_[i]]?e[_[i]]:t[_[i]]},extend:{extract:function(){var e=p(this,0,1);p(this,1,0);var t=180/Math.PI*Math.atan2(e.y,e.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(t*Math.PI/180)+this.f*Math.sin(t*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(t*Math.PI/180)+this.e*Math.sin(-t*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(e){return this.destination=new n.Matrix(e),this},multiply:function(e){return new n.Matrix(this.native().multiply(function(e){return e instanceof n.Matrix||(e=new n.Matrix(e)),e}(e).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(e,t){return new n.Matrix(this.native().translate(e||0,t||0))},native:function(){for(var e=n.parser.native.createSVGMatrix(),t=_.length-1;t>=0;t--)e[_[t]]=this[_[t]];return e},toString:function(){return"matrix("+g(this.a)+","+g(this.b)+","+g(this.c)+","+g(this.d)+","+g(this.e)+","+g(this.f)+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new n.Matrix(t)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(e,t){var n;n=Array.isArray(e)?{x:e[0],y:e[1]}:"object"===x(e)?{x:e.x,y:e.y}:null!=e?{x:e,y:null!=t?t:e}:{x:0,y:0},this.x=n.x,this.y=n.y},extend:{clone:function(){return new n.Point(this)},morph:function(e,t){return this.destination=new n.Point(e,t),this}}}),n.extend(n.Element,{point:function(e,t){return new n.Point(e,t).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(e,t,i){if(null==e){for(e={},i=(t=this.node.attributes).length-1;i>=0;i--)e[t[i].nodeName]=n.regex.isNumber.test(t[i].nodeValue)?parseFloat(t[i].nodeValue):t[i].nodeValue;return e}if("object"===x(e))for(var r in e)this.attr(r,e[r]);else if(null===t)this.node.removeAttribute(e);else{if(null==t)return null==(t=this.node.getAttribute(e))?n.defaults.attrs[e]:n.regex.isNumber.test(t)?parseFloat(t):t;"stroke-width"==e?this.attr("stroke",parseFloat(t)>0?this._stroke:null):"stroke"==e&&(this._stroke=t),"fill"!=e&&"stroke"!=e||(n.regex.isImage.test(t)&&(t=this.doc().defs().image(t,0,0)),t instanceof n.Image&&(t=this.doc().defs().pattern(0,0,function(){this.add(t)}))),"number"==typeof t?t=new n.Number(t):n.Color.isColor(t)?t=new n.Color(t):Array.isArray(t)&&(t=new n.Array(t)),"leading"==e?this.leading&&this.leading(t):"string"==typeof i?this.node.setAttributeNS(i,e,t.toString()):this.node.setAttribute(e,t.toString()),!this.rebuild||"font-size"!=e&&"x"!=e||this.rebuild(e,t)}return this}}),n.extend(n.Element,{transform:function(e,t){var i;return"object"!==x(e)?(i=new n.Matrix(this).extract(),"string"==typeof e?i[e]:i):(i=new n.Matrix(this),t=!!t||!!e.relative,null!=e.a&&(i=t?i.multiply(new n.Matrix(e)):new n.Matrix(e)),this.attr("transform",i))}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map(function(e){var t=e.trim().split("(");return[t[0],t[1].split(n.regex.delimiter).map(function(e){return parseFloat(e)})]}).reduce(function(e,t){return"matrix"==t[0]?e.multiply(m(t[1])):e[t[0]].apply(e,t[1])},new n.Matrix)},toParent:function(e){if(this==e)return this;var t=this.screenCTM(),n=e.screenCTM().inverse();return this.addTo(e).untransform().transform(n.multiply(t)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(e,t){if(arguments.length>1&&"boolean"!=typeof t)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(e))for(var n=0,i=this.arguments.length;n<i;++n)this[this.arguments[n]]=e[n];else if(e&&"object"===x(e))for(n=0,i=this.arguments.length;n<i;++n)this[this.arguments[n]]=e[this.arguments[n]];this.inversed=!1,!0===t&&(this.inversed=!0)}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(e,t){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.extend(n.Element,{style:function(e,t){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===x(e))for(var i in e)this.style(i,e[i]);else{if(!n.regex.isCss.test(e))return this.node.style[c(e)];for(e=e.split(/\s*;\s*/).filter(function(e){return!!e}).map(function(e){return e.split(/\s*:\s*/)});t=e.pop();)this.style(t[0],t[1])}else this.node.style[c(e)]=null===t||n.regex.isBlank.test(t)?"":t;return this}}),n.Parent=n.invent({create:function(e){this.constructor.call(this,e)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),function(e){return n.adopt(e)})},add:function(e,t){return null==t?this.node.appendChild(e.node):e.node!=this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this},put:function(e,t){return this.add(e,t),e},has:function(e){return this.index(e)>=0},index:function(e){return[].slice.call(this.node.childNodes).indexOf(e.node)},get:function(e){return n.adopt(this.node.childNodes[e])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(e,t){for(var i=this.children(),r=0,a=i.length;r<a;r++)i[r]instanceof n.Element&&e.apply(i[r],[r,i]),t&&i[r]instanceof n.Container&&i[r].each(e,t);return this},removeElement:function(e){return this.node.removeChild(e.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(e,t){return 0===t||this instanceof n.Defs||this.node==n.parser.draw||(e=e||(this instanceof n.Doc?this:this.parent(n.Parent)),t=t||1/0,this.each(function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(e,t-1):this.toParent(e)}),this.node.firstChild||this.remove()),this},flatten:function(e,t){return this.ungroup(e,t)}}),n.Container=n.invent({create:function(e){this.constructor.call(this,e)},inherit:n.Parent}),n.ViewBox=n.invent({parent:n.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(e){n.Element.prototype[e]=function(t){return n.on(this.node,e,t),this}}),n.listeners=[],n.handlerMap=[],n.listenerId=0,n.on=function(e,t,i,r,a){var s=i.bind(r||e.instance||e),o=(n.handlerMap.indexOf(e)+1||n.handlerMap.push(e))-1,l=t.split(".")[0],c=t.split(".")[1]||"*";n.listeners[o]=n.listeners[o]||{},n.listeners[o][l]=n.listeners[o][l]||{},n.listeners[o][l][c]=n.listeners[o][l][c]||{},i._svgjsListenerId||(i._svgjsListenerId=++n.listenerId),n.listeners[o][l][c][i._svgjsListenerId]=s,e.addEventListener(l,s,a||{passive:!1})},n.off=function(e,t,i){var r=n.handlerMap.indexOf(e),a=t&&t.split(".")[0],s=t&&t.split(".")[1],o="";if(-1!=r)if(i){if("function"==typeof i&&(i=i._svgjsListenerId),!i)return;n.listeners[r][a]&&n.listeners[r][a][s||"*"]&&(e.removeEventListener(a,n.listeners[r][a][s||"*"][i],!1),delete n.listeners[r][a][s||"*"][i])}else if(s&&a){if(n.listeners[r][a]&&n.listeners[r][a][s]){for(var l in n.listeners[r][a][s])n.off(e,[a,s].join("."),l);delete n.listeners[r][a][s]}}else if(s)for(var c in n.listeners[r])for(var o in n.listeners[r][c])s===o&&n.off(e,[c,s].join("."));else if(a){if(n.listeners[r][a]){for(var o in n.listeners[r][a])n.off(e,[a,o].join("."));delete n.listeners[r][a]}}else{for(var c in n.listeners[r])n.off(e,c);delete n.listeners[r],delete n.handlerMap[r]}},n.extend(n.Element,{on:function(e,t,i,r){return n.on(this.node,e,t,i,r),this},off:function(e,t){return n.off(this.node,e,t),this},fire:function(t,i){return t instanceof e.Event?this.node.dispatchEvent(t):this.node.dispatchEvent(t=new n.CustomEvent(t,{detail:i,cancelable:!0})),this._event=t,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(e){return null==e?this.transform("x"):this.transform({x:e-this.x()},!0)}},construct:{group:function(){return this.put(new n.G)}}}),n.Doc=n.invent({create:function(e){e&&("svg"==(e="string"==typeof e?t.getElementById(e):e).nodeName?this.constructor.call(this,e):(this.constructor.call(this,n.create("svg")),e.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){var e;return this._defs||((e=this.node.getElementsByTagName("defs")[0])?this._defs=n.adopt(e):this._defs=new n.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw&&!n.parser.draw.parentNode&&this.node.appendChild(n.parser.draw),this},clone:function(e){this.writeDataToDom();var t=this.node,n=f(t.cloneNode(!0));return e?(e.node||e).appendChild(n.node):t.parentNode.insertBefore(n.node,t.nextSibling),n}}}),n.extend(n.Element,{}),n.Gradient=n.invent({create:function(e){this.constructor.call(this,n.create(e+"Gradient")),this.type=e},inherit:n.Container,extend:{at:function(e,t,i){return this.put(new n.Stop).update(e,t,i)},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(e,t,i){return"transform"==e&&(e="gradientTransform"),n.Container.prototype.attr.call(this,e,t,i)}},construct:{gradient:function(e,t){return this.defs().gradient(e,t)}}}),n.extend(n.Gradient,n.FX,{from:function(e,t){return"radial"==(this._target||this).type?this.attr({fx:new n.Number(e),fy:new n.Number(t)}):this.attr({x1:new n.Number(e),y1:new n.Number(t)})},to:function(e,t){return"radial"==(this._target||this).type?this.attr({cx:new n.Number(e),cy:new n.Number(t)}):this.attr({x2:new n.Number(e),y2:new n.Number(t)})}}),n.extend(n.Defs,{gradient:function(e,t){return this.put(new n.Gradient(e)).update(t)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(e){return("number"==typeof e||e instanceof n.Number)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=e.opacity&&this.attr("stop-opacity",e.opacity),null!=e.color&&this.attr("stop-color",e.color),null!=e.offset&&this.attr("offset",new n.Number(e.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(e){return this.clear(),"function"==typeof e&&e.call(this,this),this},toString:function(){return this.fill()},attr:function(e,t,i){return"transform"==e&&(e="patternTransform"),n.Container.prototype.attr.call(this,e,t,i)}},construct:{pattern:function(e,t,n){return this.defs().pattern(e,t,n)}}}),n.extend(n.Defs,{pattern:function(e,t,i){return this.put(new n.Pattern).update(i).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})}}),n.Shape=n.invent({create:function(e){this.constructor.call(this,e)},inherit:n.Element}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(e,t){return this.attr("href",(t||"")+"#"+e,n.xlink)}},construct:{use:function(e,t){return this.put(new n.Use).element(e,t)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(e,t){return this.put(new n.Rect).size(e,t)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(e){return this.put(new n.Circle).rx(new n.Number(e).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(e){return this.attr("r",e)},ry:function(e){return this.rx(e)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(e,t){return this.put(new n.Ellipse).size(e,t).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(e){return this.attr("rx",e)},ry:function(e){return this.attr("ry",e)}}),n.extend(n.Circle,n.Ellipse,{x:function(e){return null==e?this.cx()-this.rx():this.cx(e+this.rx())},y:function(e){return null==e?this.cy()-this.ry():this.cy(e+this.ry())},cx:function(e){return null==e?this.attr("cx"):this.attr("cx",e)},cy:function(e){return null==e?this.attr("cy"):this.attr("cy",e)},width:function(e){return null==e?2*this.rx():this.rx(new n.Number(e).divide(2))},height:function(e){return null==e?2*this.ry():this.ry(new n.Number(e).divide(2))},size:function(e,t){var i=h(this,e,t);return this.rx(new n.Number(i.width).divide(2)).ry(new n.Number(i.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(e,t,i,r){return null==e?this.array():(e=void 0!==t?{x1:e,y1:t,x2:i,y2:r}:new n.PointArray(e).toLine(),this.attr(e))},move:function(e,t){return this.attr(this.array().move(e,t).toLine())},size:function(e,t){var n=h(this,e,t);return this.attr(this.array().size(n.width,n.height).toLine())}},construct:{line:function(e,t,i,r){return n.Line.prototype.plot.apply(this.put(new n.Line),null!=e?[e,t,i,r]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(e){return this.put(new n.Polyline).plot(e||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(e){return this.put(new n.Polygon).plot(e||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(e){return null==e?this.array():this.clear().attr("points","string"==typeof e?e:this._array=new n.PointArray(e))},clear:function(){return delete this._array,this},move:function(e,t){return this.attr("points",this.array().move(e,t))},size:function(e,t){var n=h(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(e){return null==e?this.bbox().x:this.move(e,this.bbox().y)},y:function(e){return null==e?this.bbox().y:this.move(this.bbox().x,e)},width:function(e){var t=this.bbox();return null==e?t.width:this.size(e,t.height)},height:function(e){var t=this.bbox();return null==e?t.height:this.size(t.width,e)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(e){return null==e?this.array():this.clear().attr("d","string"==typeof e?e:this._array=new n.PathArray(e))},clear:function(){return delete this._array,this}},construct:{path:function(e){return this.put(new n.Path).plot(e||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(t){if(!t)return this;var i=this,r=new e.Image;return n.on(r,"load",function(){n.off(r);var e=i.parent(n.Pattern);null!==e&&(0==i.width()&&0==i.height()&&i.size(r.width,r.height),e&&0==e.width()&&0==e.height()&&e.size(i.width(),i.height()),"function"==typeof i._loaded&&i._loaded.call(i,{width:r.width,height:r.height,ratio:r.width/r.height,url:t}))}),n.on(r,"error",function(e){n.off(r),"function"==typeof i._error&&i._error.call(i,e)}),this.attr("href",r.src=this.src=t,n.xlink)},loaded:function(e){return this._loaded=e,this},error:function(e){return this._error=e,this}},construct:{image:function(e,t,i){return this.put(new n.Image).load(e).size(t||0,i||t||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(e){return null==e?this.attr("x"):this.attr("x",e)},text:function(e){if(void 0===e){e="";for(var t=this.node.childNodes,i=0,r=t.length;i<r;++i)0!=i&&3!=t[i].nodeType&&1==n.adopt(t[i]).dom.newLined&&(e+="\n"),e+=t[i].textContent;return e}if(this.clear().build(!0),"function"==typeof e)e.call(this,this);else{i=0;for(var a=(e=e.split("\n")).length;i<a;i++)this.tspan(e[i]).newLine()}return this.build(!1).rebuild()},size:function(e){return this.attr("font-size",e).rebuild()},leading:function(e){return null==e?this.dom.leading:(this.dom.leading=new n.Number(e),this.rebuild())},lines:function(){var e=(this.textPath&&this.textPath()||this).node,t=n.utils.map(n.utils.filterSVGElements(e.childNodes),function(e){return n.adopt(e)});return new n.Set(t)},rebuild:function(e){if("boolean"==typeof e&&(this._rebuild=e),this._rebuild){var t=this,i=0,r=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(t.textPath()||this.attr("x",t.attr("x")),"\n"==this.text()?i+=r:(this.attr("dy",r+i),i=0))}),this.fire("rebuild")}return this},build:function(e){return this._build=!!e,this},setData:function(e){return this.dom=e,this.dom.leading=new n.Number(e.leading||1.3),this}},construct:{text:function(e){return this.put(new n.Text).text(e)},plain:function(e){return this.put(new n.Text).plain(e)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(e){return null==e?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof e?e.call(this,this):this.plain(e),this)},dx:function(e){return this.attr("dx",e)},dy:function(e){return this.attr("dy",e)},newLine:function(){var e=this.parent(n.Text);return this.dom.newLined=!0,this.dy(e.dom.leading*e.attr("font-size")).attr("x",e.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(e){return!1===this._build&&this.clear(),this.node.appendChild(t.createTextNode(e)),this},tspan:function(e){var t=(this.textPath&&this.textPath()||this).node,i=new n.Tspan;return!1===this._build&&this.clear(),t.appendChild(i.node),i.text(e)},clear:function(){for(var e=(this.textPath&&this.textPath()||this).node;e.hasChildNodes();)e.removeChild(e.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{morphArray:n.PathArray,array:function(){var e=this.track();return e?e.array():null},plot:function(e){var t=this.track(),n=null;return t&&(n=t.plot(e)),null==e?n:this},track:function(){var e=this.textPath();if(e)return e.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}});var o={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return"color"==t?e:e+"-"+t}};function l(e,t,i,r){return i+r.replace(n.regex.dots," .")}function c(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function d(e){return e.charAt(0).toUpperCase()+e.slice(1)}function u(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function h(e,t,n){if(null==t||null==n){var i=e.bbox();null==t?t=i.width/i.height*n:null==n&&(n=i.height/i.width*t)}return{width:t,height:n}}function p(e,t,n){return{x:t*e.a+n*e.c+0,y:t*e.b+n*e.d+0}}function m(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}function f(t){for(var i=t.childNodes.length-1;i>=0;i--)t.childNodes[i]instanceof e.SVGElement&&f(t.childNodes[i]);return n.adopt(t).id(n.eid(t.nodeName))}function g(e){return Math.abs(e)>1e-37?e:0}["fill","stroke"].forEach(function(e){var t={};t[e]=function(t){if(void 0===t)return this;if("string"==typeof t||n.Color.isRgb(t)||t&&"function"==typeof t.fill)this.attr(e,t);else for(var i=o[e].length-1;i>=0;i--)null!=t[o[e][i]]&&this.attr(o.prefix(e,o[e][i]),t[o[e][i]]);return this},n.extend(n.Element,n.FX,t)}),n.extend(n.Element,n.FX,{translate:function(e,t){return this.transform({x:e,y:t})},matrix:function(e){return this.attr("transform",new n.Matrix(6==arguments.length?[].slice.call(arguments):e))},opacity:function(e){return this.attr("opacity",e)},dx:function(e){return this.x(new n.Number(e).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(e){return this.y(new n.Number(e).plus(this instanceof n.FX?0:this.y()),!0)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(e){return this.node.getPointAtLength(e)}}),n.Set=n.invent({create:function(e){Array.isArray(e)?this.members=e:this.clear()},extend:{add:function(){for(var e=[].slice.call(arguments),t=0,n=e.length;t<n;t++)this.members.push(e[t]);return this},remove:function(e){var t=this.index(e);return t>-1&&this.members.splice(t,1),this},each:function(e){for(var t=0,n=this.members.length;t<n;t++)e.apply(this.members[t],[t,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(e){return this.index(e)>=0},index:function(e){return this.members.indexOf(e)},get:function(e){return this.members[e]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(e){return new n.Set(e)}}}),n.FX.Set=n.invent({create:function(e){this.set=e}}),n.Set.inherit=function(){var e=[];for(var t in n.Shape.prototype)"function"==typeof n.Shape.prototype[t]&&"function"!=typeof n.Set.prototype[t]&&e.push(t);for(var t in e.forEach(function(e){n.Set.prototype[e]=function(){for(var t=0,i=this.members.length;t<i;t++)this.members[t]&&"function"==typeof this.members[t][e]&&this.members[t][e].apply(this.members[t],arguments);return"animate"==e?this.fx||(this.fx=new n.FX.Set(this)):this}}),e=[],n.FX.prototype)"function"==typeof n.FX.prototype[t]&&"function"!=typeof n.FX.Set.prototype[t]&&e.push(t);e.forEach(function(e){n.FX.Set.prototype[e]=function(){for(var t=0,n=this.set.members.length;t<n;t++)this.set.members[t].fx[e].apply(this.set.members[t].fx,arguments);return this}})},n.extend(n.Element,{}),n.extend(n.Element,{remember:function(e,t){if("object"===x(arguments[0]))for(var n in e)this.remember(n,e[n]);else{if(1==arguments.length)return this.memory()[e];this.memory()[e]=t}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(e){var i=t.getElementById(function(e){var t=(e||"").toString().match(n.regex.reference);if(t)return t[1]}(e)||e);return n.adopt(i)},n.select=function(e,i){return new n.Set(n.utils.map((i||t).querySelectorAll(e),function(e){return n.adopt(e)}))},n.extend(n.Parent,{select:function(e){return n.select(e,this.node)}});var _="abcdef".split("");if("function"!=typeof e.CustomEvent){var v=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var i=t.createEvent("CustomEvent");return i.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i};v.prototype=e.Event.prototype,n.CustomEvent=v}else n.CustomEvent=e.CustomEvent;return n},void 0!==(i=function(){return We(He,He.document)}.call(t,n,t,e))&&(e.exports=i),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(e,t){return this.add(e,t),!e.attr("in")&&this.autoSetIn&&e.attr("in",this.source),e.attr("result")||e.attr("result",e),e},blend:function(e,t,n){return this.put(new SVG.BlendEffect(e,t,n))},colorMatrix:function(e,t){return this.put(new SVG.ColorMatrixEffect(e,t))},convolveMatrix:function(e){return this.put(new SVG.ConvolveMatrixEffect(e))},componentTransfer:function(e){return this.put(new SVG.ComponentTransferEffect(e))},composite:function(e,t,n){return this.put(new SVG.CompositeEffect(e,t,n))},flood:function(e,t){return this.put(new SVG.FloodEffect(e,t))},offset:function(e,t){return this.put(new SVG.OffsetEffect(e,t))},image:function(e){return this.put(new SVG.ImageEffect(e))},merge:function(){var e=[void 0];for(var t in arguments)e.push(arguments[t]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,e)))},gaussianBlur:function(e,t){return this.put(new SVG.GaussianBlurEffect(e,t))},morphology:function(e,t){return this.put(new SVG.MorphologyEffect(e,t))},diffuseLighting:function(e,t,n){return this.put(new SVG.DiffuseLightingEffect(e,t,n))},displacementMap:function(e,t,n,i,r){return this.put(new SVG.DisplacementMapEffect(e,t,n,i,r))},specularLighting:function(e,t,n,i){return this.put(new SVG.SpecularLightingEffect(e,t,n,i))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(e,t,n,i,r){return this.put(new SVG.TurbulenceEffect(e,t,n,i,r))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(e){var t=this.put(new SVG.Filter);return"function"==typeof e&&e.call(t,t),t}}),SVG.extend(SVG.Container,{filter:function(e){return this.defs().filter(e)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(e){return this.filterer=e instanceof SVG.Element?e:this.doc().filter(e),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(e){return this.filterer&&!0===e&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",e)},result:function(e){return null==e?this.attr("result"):this.attr("result",e)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",e)},result:function(e){return null==e?this.attr("result"):this.attr("result",e)},toString:function(){return this.result()}}});var e={blend:function(e,t){return this.parent()&&this.parent().blend(this,e,t)},colorMatrix:function(e,t){return this.parent()&&this.parent().colorMatrix(e,t).in(this)},convolveMatrix:function(e){return this.parent()&&this.parent().convolveMatrix(e).in(this)},componentTransfer:function(e){return this.parent()&&this.parent().componentTransfer(e).in(this)},composite:function(e,t){return this.parent()&&this.parent().composite(this,e,t)},flood:function(e,t){return this.parent()&&this.parent().flood(e,t)},offset:function(e,t){return this.parent()&&this.parent().offset(e,t).in(this)},image:function(e){return this.parent()&&this.parent().image(e)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(e,t){return this.parent()&&this.parent().gaussianBlur(e,t).in(this)},morphology:function(e,t){return this.parent()&&this.parent().morphology(e,t).in(this)},diffuseLighting:function(e,t,n){return this.parent()&&this.parent().diffuseLighting(e,t,n).in(this)},displacementMap:function(e,t,n,i){return this.parent()&&this.parent().displacementMap(this,e,t,n,i)},specularLighting:function(e,t,n,i){return this.parent()&&this.parent().specularLighting(e,t,n,i).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(e,t,n,i,r){return this.parent()&&this.parent().turbulence(e,t,n,i,r).in(this)}};SVG.extend(SVG.Effect,e),SVG.extend(SVG.ParentEffect,e),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(e){this.attr("in",e)}}});var t={blend:function(e,t,n){this.attr({in:e,in2:t,mode:n||"normal"})},colorMatrix:function(e,t){"matrix"==e&&(t=r(t)),this.attr({type:e,values:void 0===t?null:t})},convolveMatrix:function(e){e=r(e),this.attr({order:Math.sqrt(e.split(" ").length),kernelMatrix:e})},composite:function(e,t,n){this.attr({in:e,in2:t,operator:n})},flood:function(e,t){this.attr("flood-color",e),null!=t&&this.attr("flood-opacity",t)},offset:function(e,t){this.attr({dx:e,dy:t})},image:function(e){this.attr("href",e,SVG.xlink)},displacementMap:function(e,t,n,i,r){this.attr({in:e,in2:t,scale:n,xChannelSelector:i,yChannelSelector:r})},gaussianBlur:function(e,t){null!=e||null!=t?this.attr("stdDeviation",function(e){if(!Array.isArray(e))return e;for(var t=0,n=e.length,i=[];t<n;t++)i.push(e[t]);return i.join(" ")}(Array.prototype.slice.call(arguments))):this.attr("stdDeviation","0 0")},morphology:function(e,t){this.attr({operator:e,radius:t})},tile:function(){},turbulence:function(e,t,n,i,r){this.attr({numOctaves:t,seed:n,stitchTiles:i,baseFrequency:e,type:r})}},n={merge:function(){var e;if(arguments[0]instanceof SVG.Set){var t=this;arguments[0].each(function(e){this instanceof SVG.MergeNode?t.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&t.put(new SVG.MergeNode(this))})}else{e=Array.isArray(arguments[0])?arguments[0]:arguments;for(var n=0;n<e.length;n++)e[n]instanceof SVG.MergeNode?this.put(e[n]):this.put(new SVG.MergeNode(e[n]))}},componentTransfer:function(e){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(e){this[e]=new(SVG["Func"+e.toUpperCase()])("identity"),this.rgb.add(this[e]),this.node.appendChild(this[e].node)}.bind(this)),e)for(var t in e.rgb&&(["r","g","b"].forEach(function(t){this[t].attr(e.rgb)}.bind(this)),delete e.rgb),e)this[t].attr(e[t])},diffuseLighting:function(e,t,n){this.attr({surfaceScale:e,diffuseConstant:t,kernelUnitLength:n})},specularLighting:function(e,t,n,i){this.attr({surfaceScale:e,diffuseConstant:t,specularExponent:n,kernelUnitLength:i})}},i={distantLight:function(e,t){this.attr({azimuth:e,elevation:t})},pointLight:function(e,t,n){this.attr({x:e,y:t,z:n})},spotLight:function(e,t,n,i,r,a){this.attr({x:e,y:t,z:n,pointsAtX:i,pointsAtY:r,pointsAtZ:a})},mergeNode:function(e){this.attr("in",e)}};function r(e){return Array.isArray(e)&&(e=new SVG.Array(e)),e.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function a(){var e=function(){};for(var t in"function"==typeof arguments[arguments.length-1]&&(e=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var n in arguments[t])e(arguments[t][n],n,arguments[t])}["r","g","b","a"].forEach(function(e){i["Func"+e.toUpperCase()]=function(e){switch(this.attr("type",e),e){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),a(t,function(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1);SVG[n+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),e.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),a(n,function(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1);SVG[n+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),e.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),a(i,function(e,t){var n=t.charAt(0).toUpperCase()+t.slice(1);SVG[n]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+n)),e.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(e){return e instanceof SVG.MergeNode?this.add(e,0):this.add(new SVG.MergeNode(e),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(e){return null==e?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",e)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function e(e,r,a,s,o,l,c){for(var d=e.slice(r,a||c),u=s.slice(o,l||c),h=0,p={pos:[0,0],start:[0,0]},m={pos:[0,0],start:[0,0]};d[h]=t.call(p,d[h]),u[h]=t.call(m,u[h]),d[h][0]!=u[h][0]||"M"==d[h][0]||"A"==d[h][0]&&(d[h][4]!=u[h][4]||d[h][5]!=u[h][5])?(Array.prototype.splice.apply(d,[h,1].concat(i.call(p,d[h]))),Array.prototype.splice.apply(u,[h,1].concat(i.call(m,u[h])))):(d[h]=n.call(p,d[h]),u[h]=n.call(m,u[h])),++h!=d.length||h!=u.length;)h==d.length&&d.push(["C",p.pos[0],p.pos[1],p.pos[0],p.pos[1],p.pos[0],p.pos[1]]),h==u.length&&u.push(["C",m.pos[0],m.pos[1],m.pos[0],m.pos[1],m.pos[0],m.pos[1]]);return{start:d,dest:u}}function t(e){switch(e[0]){case"z":case"Z":e[0]="L",e[1]=this.start[0],e[2]=this.start[1];break;case"H":e[0]="L",e[2]=this.pos[1];break;case"V":e[0]="L",e[2]=e[1],e[1]=this.pos[0];break;case"T":e[0]="Q",e[3]=e[1],e[4]=e[2],e[1]=this.reflection[1],e[2]=this.reflection[0];break;case"S":e[0]="C",e[6]=e[4],e[5]=e[3],e[4]=e[2],e[3]=e[1],e[2]=this.reflection[1],e[1]=this.reflection[0]}return e}function n(e){var t=e.length;return this.pos=[e[t-2],e[t-1]],-1!="SCQT".indexOf(e[0])&&(this.reflection=[2*this.pos[0]-e[t-4],2*this.pos[1]-e[t-3]]),e}function i(e){var t=[e];switch(e[0]){case"M":return this.pos=this.start=[e[1],e[2]],t;case"L":e[5]=e[3]=e[1],e[6]=e[4]=e[2],e[1]=this.pos[0],e[2]=this.pos[1];break;case"Q":e[6]=e[4],e[5]=e[3],e[4]=1*e[4]/3+2*e[2]/3,e[3]=1*e[3]/3+2*e[1]/3,e[2]=1*this.pos[1]/3+2*e[2]/3,e[1]=1*this.pos[0]/3+2*e[1]/3;break;case"A":t=function(e,t){var n,i,r,a,s,o,l,c,d,u,h,p,m,f,g,_,v,b,y,x,w,E,S,C,T,N,A=Math.abs(t[1]),k=Math.abs(t[2]),R=t[3]%360,I=t[4],O=t[5],j=t[6],P=t[7],D=new SVG.Point(e),L=new SVG.Point(j,P),M=[];if(0===A||0===k||D.x===L.x&&D.y===L.y)return[["C",D.x,D.y,L.x,L.y,L.x,L.y]];for((i=(n=new SVG.Point((D.x-L.x)/2,(D.y-L.y)/2).transform((new SVG.Matrix).rotate(R))).x*n.x/(A*A)+n.y*n.y/(k*k))>1&&(A*=i=Math.sqrt(i),k*=i),r=(new SVG.Matrix).rotate(R).scale(1/A,1/k).rotate(-R),D=D.transform(r),o=(a=[(L=L.transform(r)).x-D.x,L.y-D.y])[0]*a[0]+a[1]*a[1],s=Math.sqrt(o),a[0]/=s,a[1]/=s,l=o<4?Math.sqrt(1-o/4):0,I===O&&(l*=-1),c=new SVG.Point((L.x+D.x)/2+l*-a[1],(L.y+D.y)/2+l*a[0]),d=new SVG.Point(D.x-c.x,D.y-c.y),u=new SVG.Point(L.x-c.x,L.y-c.y),h=Math.acos(d.x/Math.sqrt(d.x*d.x+d.y*d.y)),d.y<0&&(h*=-1),p=Math.acos(u.x/Math.sqrt(u.x*u.x+u.y*u.y)),u.y<0&&(p*=-1),O&&h>p&&(p+=2*Math.PI),!O&&h<p&&(p-=2*Math.PI),_=[],v=h,m=(p-h)/(f=Math.ceil(2*Math.abs(h-p)/Math.PI)),g=4*Math.tan(m/4)/3,w=0;w<=f;w++)y=Math.cos(v),b=Math.sin(v),x=new SVG.Point(c.x+y,c.y+b),_[w]=[new SVG.Point(x.x+g*b,x.y-g*y),x,new SVG.Point(x.x-g*b,x.y+g*y)],v+=m;for(_[0][0]=_[0][1].clone(),_[_.length-1][2]=_[_.length-1][1].clone(),r=(new SVG.Matrix).rotate(R).scale(A,k).rotate(-R),w=0,E=_.length;w<E;w++)_[w][0]=_[w][0].transform(r),_[w][1]=_[w][1].transform(r),_[w][2]=_[w][2].transform(r);for(w=1,E=_.length;w<E;w++)S=(x=_[w-1][2]).x,C=x.y,T=(x=_[w][0]).x,N=x.y,j=(x=_[w][1]).x,P=x.y,M.push(["C",S,C,T,N,j,P]);return M}(this.pos,e),e=t[0]}return e[0]="C",this.pos=[e[5],e[6]],this.reflection=[2*e[5]-e[3],2*e[6]-e[4]],t}function r(e,t){if(!1===t)return!1;for(var n=t,i=e.length;n<i;++n)if("M"==e[n][0])return n;return!1}SVG.extend(SVG.PathArray,{morph:function(t){for(var n=this.value,i=this.parse(t),a=0,s=0,o=!1,l=!1;!1!==a||!1!==s;){var c;o=r(n,!1!==a&&a+1),l=r(i,!1!==s&&s+1),!1===a&&(a=0==(c=new SVG.PathArray(d.start).bbox()).height||0==c.width?n.push(n[0])-1:n.push(["M",c.x+c.width/2,c.y+c.height/2])-1),!1===s&&(s=0==(c=new SVG.PathArray(d.dest).bbox()).height||0==c.width?i.push(i[0])-1:i.push(["M",c.x+c.width/2,c.y+c.height/2])-1);var d=e(n,a,o,i,s,l);n=n.slice(0,a).concat(d.start,!1===o?[]:n.slice(o)),i=i.slice(0,s).concat(d.dest,!1===l?[]:i.slice(l)),a=!1!==o&&a+d.start.length,s=!1!==l&&s+d.dest.length}return this.value=n,this.destination=new SVG.PathArray,this.destination.value=i,this}})}(),function(){function e(e){e.remember("_draggable",this),this.el=e}e.prototype.init=function(e,t){var n=this;this.constraint=e,this.value=t,this.el.on("mousedown.drag",function(e){n.start(e)}),this.el.on("touchstart.drag",function(e){n.start(e)})},e.prototype.transformPoint=function(e,t){var n=(e=e||window.event).changedTouches&&e.changedTouches[0]||e;return this.p.x=n.clientX-(t||0),this.p.y=n.clientY,this.p.matrixTransform(this.m)},e.prototype.getBBox=function(){var e=this.el.bbox();return this.el instanceof SVG.Nested&&(e=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(e.x=this.el.x(),e.y=this.el.y()),e},e.prototype.start=function(e){if("click"!=e.type&&"mousedown"!=e.type&&"mousemove"!=e.type||1==(e.which||e.buttons)){var t=this;if(this.el.fire("beforedrag",{event:e,handler:this}),!this.el.event().defaultPrevented){e.preventDefault(),e.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var n,i=this.getBBox();if(this.el instanceof SVG.Text)switch(n=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":n/=2;break;case"start":n=0}this.startPoints={point:this.transformPoint(e,n),box:i,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(e){t.drag(e)}),SVG.on(window,"touchmove.drag",function(e){t.drag(e)}),SVG.on(window,"mouseup.drag",function(e){t.end(e)}),SVG.on(window,"touchend.drag",function(e){t.end(e)}),this.el.fire("dragstart",{event:e,p:this.startPoints.point,m:this.m,handler:this})}}},e.prototype.drag=function(e){var t=this.getBBox(),n=this.transformPoint(e),i=this.startPoints.box.x+n.x-this.startPoints.point.x,r=this.startPoints.box.y+n.y-this.startPoints.point.y,a=this.constraint,s=n.x-this.startPoints.point.x,o=n.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:e,p:n,m:this.m,handler:this}),this.el.event().defaultPrevented)return n;if("function"==typeof a){var l=a.call(this.el,i,r,this.m);"boolean"==typeof l&&(l={x:l,y:l}),!0===l.x?this.el.x(i):!1!==l.x&&this.el.x(l.x),!0===l.y?this.el.y(r):!1!==l.y&&this.el.y(l.y)}else"object"==typeof a&&(null!=a.minX&&i<a.minX?s=(i=a.minX)-this.startPoints.box.x:null!=a.maxX&&i>a.maxX-t.width&&(s=(i=a.maxX-t.width)-this.startPoints.box.x),null!=a.minY&&r<a.minY?o=(r=a.minY)-this.startPoints.box.y:null!=a.maxY&&r>a.maxY-t.height&&(o=(r=a.maxY-t.height)-this.startPoints.box.y),null!=a.snapToGrid&&(i-=i%a.snapToGrid,r-=r%a.snapToGrid,s-=s%a.snapToGrid,o-=o%a.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:s,y:o},!0):this.el.move(i,r));return n},e.prototype.end=function(e){var t=this.drag(e);this.el.fire("dragend",{event:e,p:t,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(t,n){"function"!=typeof t&&"object"!=typeof t||(n=t,t=!0);var i=this.remember("_draggable")||new e(this);return(t=void 0===t||t)?i.init(n||{},t):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function e(e){this.el=e,e.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(e,t,n){var i="string"!=typeof e?e:t[e];return n?i/2:i},this.pointCoords=function(e,t){var n=this.pointsList[e];return{x:this.pointCoord(n[0],t,"t"===e||"b"===e),y:this.pointCoord(n[1],t,"r"===e||"l"===e)}}}e.prototype.init=function(e,t){var n=this.el.bbox();this.options={};var i=this.el.selectize.defaults.points;for(var r in this.el.selectize.defaults)this.options[r]=this.el.selectize.defaults[r],void 0!==t[r]&&(this.options[r]=t[r]);var a=["points","pointsExclude"];for(var r in a){var s=this.options[a[r]];"string"==typeof s?s=s.length>0?s.split(/\s*,\s*/i):[]:"boolean"==typeof s&&"points"===a[r]&&(s=s?i:[]),this.options[a[r]]=s}this.options.points=[i,this.options.points].reduce(function(e,t){return e.filter(function(e){return t.indexOf(e)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(e,t){return e.filter(function(e){return t.indexOf(e)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(n.x,n.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(e):this.selectRect(e),this.observe(),this.cleanup()},e.prototype.selectPoints=function(e){return this.pointSelection.isSelected=e,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},e.prototype.getPointArray=function(){var e=this.el.bbox();return this.el.array().valueOf().map(function(t){return[t[0]-e.x,t[1]-e.y]})},e.prototype.drawPoints=function(){for(var e=this,t=this.getPointArray(),n=0,i=t.length;n<i;++n){var r=function(t){return function(n){(n=n||window.event).preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation();var i=n.pageX||n.touches[0].pageX,r=n.pageY||n.touches[0].pageY;e.el.fire("point",{x:i,y:r,i:t,event:n})}}(n),a=this.drawPoint(t[n][0],t[n][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",r).on("mousedown",r);this.pointSelection.set.add(a)}},e.prototype.drawPoint=function(e,t){var n=this.options.pointType;switch(n){case"circle":return this.drawCircle(e,t);case"rect":return this.drawRect(e,t);default:if("function"==typeof n)return n.call(this,e,t);throw new Error("Unknown "+n+" point type!")}},e.prototype.drawCircle=function(e,t){return this.nested.circle(this.options.pointSize).center(e,t)},e.prototype.drawRect=function(e,t){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(e,t)},e.prototype.updatePointSelection=function(){var e=this.getPointArray();this.pointSelection.set.each(function(t){this.cx()===e[t][0]&&this.cy()===e[t][1]||this.center(e[t][0],e[t][1])})},e.prototype.updateRectSelection=function(){var e=this,t=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:t.width,height:t.height}),this.options.points.length&&this.options.points.map(function(n,i){var r=e.pointCoords(n,t);e.rectSelection.set.get(i+1).center(r.x,r.y)}),this.options.rotationPoint){var n=this.rectSelection.set.length();this.rectSelection.set.get(n-1).center(t.width/2,20)}},e.prototype.selectRect=function(e){var t=this,n=this.el.bbox();function i(e){return function(n){(n=n||window.event).preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation();var i=n.pageX||n.touches[0].pageX,r=n.pageY||n.touches[0].pageY;t.el.fire(e,{x:i,y:r,event:n})}}if(this.rectSelection.isSelected=e,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(n.width,n.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(e,r){var a=t.pointCoords(e,n),s=t.drawPoint(a.x,a.y).attr("class",t.options.classPoints+"_"+e).on("mousedown",i(e)).on("touchstart",i(e));t.rectSelection.set.add(s)}),this.rectSelection.set.each(function(){this.addClass(t.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var r=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation();var n=e.pageX||e.touches[0].pageX,i=e.pageY||e.touches[0].pageY;t.el.fire("rot",{x:n,y:i,event:e})},a=this.drawPoint(n.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",r).on("mousedown",r);this.rectSelection.set.add(a)}},e.prototype.handler=function(){var e=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(e.x,e.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},e.prototype.observe=function(){var e=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){e.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(e){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){e.handler()})},e.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(t,n){return"object"==typeof t&&(n=t,t=!0),(this.remember("_selectHandler")||new e(this)).init(void 0===t||t,n||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function e(e){e.remember("_resizeHandler",this),this.el=e,this.parameters={},this.lastUpdateCall=null,this.p=e.doc().node.createSVGPoint()}e.prototype.transformPoint=function(e,t,n){return this.p.x=e-(this.offset.x-window.pageXOffset),this.p.y=t-(this.offset.y-window.pageYOffset),this.p.matrixTransform(n||this.m)},e.prototype._extractPosition=function(e){return{x:null!=e.clientX?e.clientX:e.touches[0].clientX,y:null!=e.clientY?e.clientY:e.touches[0].clientY}},e.prototype.init=function(e){var t=this;if(this.stop(),"stop"!==e){for(var n in this.options={},this.el.resize.defaults)this.options[n]=this.el.resize.defaults[n],void 0!==e[n]&&(this.options[n]=e[n]);this.el.on("lt.resize",function(e){t.resize(e||window.event)}),this.el.on("rt.resize",function(e){t.resize(e||window.event)}),this.el.on("rb.resize",function(e){t.resize(e||window.event)}),this.el.on("lb.resize",function(e){t.resize(e||window.event)}),this.el.on("t.resize",function(e){t.resize(e||window.event)}),this.el.on("r.resize",function(e){t.resize(e||window.event)}),this.el.on("b.resize",function(e){t.resize(e||window.event)}),this.el.on("l.resize",function(e){t.resize(e||window.event)}),this.el.on("rot.resize",function(e){t.resize(e||window.event)}),this.el.on("point.resize",function(e){t.resize(e||window.event)}),this.update()}},e.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},e.prototype.resize=function(e){var t=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var n=this._extractPosition(e.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(n.x,n.y),x:e.detail.x,y:e.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==e.detail.i){var i=this.el.array().valueOf();this.parameters.i=e.detail.i,this.parameters.pointCoords=[i[e.detail.i][0],i[e.detail.i][1]]}switch(e.type){case"lt":this.calc=function(e,t){var n=this.snapToGrid(e,t);if(this.parameters.box.width-n[0]>0&&this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-n[0]);n=this.checkAspectRatio(n),this.el.move(this.parameters.box.x+n[0],this.parameters.box.y+n[1]).size(this.parameters.box.width-n[0],this.parameters.box.height-n[1])}};break;case"rt":this.calc=function(e,t){var n=this.snapToGrid(e,t,2);if(this.parameters.box.width+n[0]>0&&this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+n[0]);n=this.checkAspectRatio(n,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+n[1]).size(this.parameters.box.width+n[0],this.parameters.box.height-n[1])}};break;case"rb":this.calc=function(e,t){var n=this.snapToGrid(e,t,0);if(this.parameters.box.width+n[0]>0&&this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+n[0]);n=this.checkAspectRatio(n),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+n[0],this.parameters.box.height+n[1])}};break;case"lb":this.calc=function(e,t){var n=this.snapToGrid(e,t,1);if(this.parameters.box.width-n[0]>0&&this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+n[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-n[0]);n=this.checkAspectRatio(n,!0),this.el.move(this.parameters.box.x+n[0],this.parameters.box.y).size(this.parameters.box.width-n[0],this.parameters.box.height+n[1])}};break;case"t":this.calc=function(e,t){var n=this.snapToGrid(e,t,2);if(this.parameters.box.height-n[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+n[1]).height(this.parameters.box.height-n[1])}};break;case"r":this.calc=function(e,t){var n=this.snapToGrid(e,t,0);if(this.parameters.box.width+n[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+n[0])}};break;case"b":this.calc=function(e,t){var n=this.snapToGrid(e,t,0);if(this.parameters.box.height+n[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+n[1])}};break;case"l":this.calc=function(e,t){var n=this.snapToGrid(e,t,1);if(this.parameters.box.width-n[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+n[0],this.parameters.box.y).width(this.parameters.box.width-n[0])}};break;case"rot":this.calc=function(e,t){var n=e+this.parameters.p.x,i=t+this.parameters.p.y,r=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),a=Math.atan2(i-this.parameters.box.y-this.parameters.box.height/2,n-this.parameters.box.x-this.parameters.box.width/2),s=this.parameters.rotation+180*(a-r)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(s-s%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(e,t){var n=this.snapToGrid(e,t,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),i=this.el.array().valueOf();i[this.parameters.i][0]=this.parameters.pointCoords[0]+n[0],i[this.parameters.i][1]=this.parameters.pointCoords[1]+n[1],this.el.plot(i)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:e}),SVG.on(window,"touchmove.resize",function(e){t.update(e||window.event)}),SVG.on(window,"touchend.resize",function(){t.done()}),SVG.on(window,"mousemove.resize",function(e){t.update(e||window.event)}),SVG.on(window,"mouseup.resize",function(){t.done()})},e.prototype.update=function(e){if(e){var t=this._extractPosition(e),n=this.transformPoint(t.x,t.y),i=n.x-this.parameters.p.x,r=n.y-this.parameters.p.y;this.lastUpdateCall=[i,r],this.calc(i,r),this.el.fire("resizing",{dx:i,dy:r,event:e})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},e.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},e.prototype.snapToGrid=function(e,t,n,i){var r;return void 0!==i?r=[(n+e)%this.options.snapToGrid,(i+t)%this.options.snapToGrid]:(n=null==n?3:n,r=[(this.parameters.box.x+e+(1&n?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+t+(2&n?0:this.parameters.box.height))%this.options.snapToGrid]),e<0&&(r[0]-=this.options.snapToGrid),t<0&&(r[1]-=this.options.snapToGrid),e-=Math.abs(r[0])<this.options.snapToGrid/2?r[0]:r[0]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),t-=Math.abs(r[1])<this.options.snapToGrid/2?r[1]:r[1]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(e,t,n,i)},e.prototype.constraintToBox=function(e,t,n,i){var r,a,s=this.options.constraint||{};return void 0!==i?(r=n,a=i):(r=this.parameters.box.x+(1&n?0:this.parameters.box.width),a=this.parameters.box.y+(2&n?0:this.parameters.box.height)),void 0!==s.minX&&r+e<s.minX&&(e=s.minX-r),void 0!==s.maxX&&r+e>s.maxX&&(e=s.maxX-r),void 0!==s.minY&&a+t<s.minY&&(t=s.minY-a),void 0!==s.maxY&&a+t>s.maxY&&(t=s.maxY-a),[e,t]},e.prototype.checkAspectRatio=function(e,t){if(!this.options.saveAspectRatio)return e;var n=e.slice(),i=this.parameters.box.width/this.parameters.box.height,r=this.parameters.box.width+e[0],a=this.parameters.box.height-e[1],s=r/a;return s<i?(n[1]=r/i-this.parameters.box.height,t&&(n[1]=-n[1])):s>i&&(n[0]=this.parameters.box.width-a*i,t&&(n[0]=-n[0])),n},SVG.extend(SVG.Element,{resize:function(t){return(this.remember("_resizeHandler")||new e(this)).init(t||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Je=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new S(this.ctx),this.ctx.axes=new ae(this.ctx),this.ctx.core=new Xe(this.ctx.el,this.ctx),this.ctx.config=new z({}),this.ctx.data=new J(this.ctx),this.ctx.grid=new $(this.ctx),this.ctx.graphics=new T(this.ctx),this.ctx.coreUtils=new N(this.ctx),this.ctx.crosshairs=new se(this.ctx),this.ctx.events=new ie(this.ctx),this.ctx.exports=new Z(this.ctx),this.ctx.fill=new G(this.ctx),this.ctx.localization=new re(this.ctx),this.ctx.options=new M,this.ctx.responsive=new oe(this.ctx),this.ctx.series=new K(this.ctx),this.ctx.theme=new le(this.ctx),this.ctx.formatters=new I(this.ctx),this.ctx.titleSubtitle=new ce(this.ctx),this.ctx.legend=new ge(this.ctx),this.ctx.toolbar=new _e(this.ctx),this.ctx.tooltip=new Ce(this.ctx),this.ctx.dimensions=new me(this.ctx),this.ctx.updateHelpers=new Ke(this.ctx),this.ctx.zoomPanSelection=new ve(this.ctx),this.ctx.w.globals.tooltip=new Ce(this.ctx)}}]),e}(),Ze=function(){function e(t){s(this,e),this.ctx=t,this.w=t.w}return l(e,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off(),this.stop()},!0),e.ungroup(),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,n=e.isUpdating,i=this.w.globals.dom.Paper.node;i.parentNode&&i.parentNode.parentNode&&!n&&(i.parentNode.parentNode.style.minHeight="unset");var r=this.w.globals.dom.baseEl;r&&this.ctx.eventList.forEach(function(e){r.removeEventListener(e,t.ctx.events.documentEvent)});var a=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(a.Paper),a.Paper.remove(),a.elWrap=null,a.elGraphical=null,a.elLegendWrap=null,a.elLegendForeign=null,a.baseEl=null,a.elGridRect=null,a.elGridRectMask=null,a.elGridRectBarMask=null,a.elGridRectMarkerMask=null,a.elForecastMask=null,a.elNonForecastMask=null,a.elDefs=null}}]),e}(),Qe=new WeakMap,$e=function(){function e(t,n){s(this,e),this.opts=n,this.ctx=this,this.w=new W(n).init(),this.el=t,this.w.globals.cuid=E.randomId(),this.w.globals.chartID=this.w.config.chart.id?E.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Je(this).initModules(),this.create=E.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return l(e,[{key:"render",value:function(){var e=this;return new Promise(function(t,n){if(null!==e.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var i=e.w.config.chart.events.beforeMount;"function"==typeof i&&i(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(e,t){var n=!1;if(e.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var i=e.getBoundingClientRect();"none"!==e.style.display&&0!==i.width||(n=!0)}var r=new ResizeObserver(function(i){n&&t.call(e,i),n=!0});e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(e.children).forEach(function(e){return r.observe(e)}):r.observe(e),Qe.set(t,r)}(e.el.parentNode,e.parentResizeHandler);var r=e.el.getRootNode&&e.el.getRootNode(),a=E.is("ShadowRoot",r),s=e.el.ownerDocument,o=a?r.getElementById("apexcharts-css"):s.getElementById("apexcharts-css");if(!o){var l;(o=document.createElement("style")).id="apexcharts-css",o.textContent='@keyframes opaque {\n  0% {\n    opacity: 0\n  }\n\n  to {\n    opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n\n  0%,\n  to {\n    opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  direction: ltr !important;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\nrect.legend-mouseover-inactive,\n.legend-mouseover-inactive rect,\n.legend-mouseover-inactive path,\n.legend-mouseover-inactive circle,\n.legend-mouseover-inactive line,\n.legend-mouseover-inactive text.apexcharts-yaxis-title-text,\n.legend-mouseover-inactive text.apexcharts-yaxis-label {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, .96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, .8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, .7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-z-value:empty,\n.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,\n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,\n.apexcharts-tooltip-text-goals-label,\n.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,\n.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, .7);\n  border: 1px solid rgba(0, 0, 0, .5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, .7);\n  border: 1px solid rgba(0, 0, 0, .5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,\n.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,\n.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,\n.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,\n.apexcharts-pan-icon,\n.apexcharts-reset-icon,\n.apexcharts-selection-icon,\n.apexcharts-toolbar-custom-icon,\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,\n.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,\n.apexcharts-reset-icon,\n.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, .7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,\n.apexcharts-datalabel.apexcharts-element-hidden,\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-hidden-element-shown {\n  opacity: 1;\n  transition: 0.25s ease all;\n}\n\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value,\n.apexcharts-datalabels,\n.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-radialbar-label {\n  cursor: pointer;\n}\n\n.apexcharts-annotation-rect,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-gridline,\n.apexcharts-line,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-point-annotation-label,\n.apexcharts-radar-series path:not(.apexcharts-marker),\n.apexcharts-radar-series polygon,\n.apexcharts-toolbar svg,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-xaxis-annotation-label,\n.apexcharts-yaxis-annotation-label,\n.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-tooltip-active .apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,\n.resize-triggers,\n.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n\n.apexcharts-bar-goals-markers {\n  pointer-events: none\n}\n\n.apexcharts-bar-shadows {\n  pointer-events: none\n}\n\n.apexcharts-rangebar-goals-markers {\n  pointer-events: none\n}\n';var c=(null===(l=e.opts.chart)||void 0===l?void 0:l.nonce)||e.w.config.chart.nonce;c&&o.setAttribute("nonce",c),a?r.prepend(o):s.head.appendChild(o)}var d=e.create(e.w.config.series,{});if(!d)return t(e);e.mount(d).then(function(){"function"==typeof e.w.config.chart.events.mounted&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(d)}).catch(function(e){n(e)})}else n(new Error("Element not found"))})}},{key:"create",value:function(e,t){var n=this,i=this.w;new Je(this).initModules();var r=this.w.globals;if(r.noData=!1,r.animationEnded=!1,this.responsive.checkResponsiveConfig(t),i.config.xaxis.convertedCatToNumeric&&new V(i.config).convertCatToNumericXaxis(i.config,this.ctx),null===this.el)return r.animationEnded=!0,null;if(this.core.setupElements(),"treemap"===i.config.chart.type&&(i.config.grid.show=!1,i.config.yaxis[0].show=!1),0===r.svgWidth)return r.animationEnded=!0,null;var a=e;e.forEach(function(e,t){e.hidden&&(a=n.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:t}))});var s=N.checkComboSeries(a,i.config.chart.type);r.comboCharts=s.comboCharts,r.comboBarCount=s.comboBarCount;var o=a.every(function(e){return e.data&&0===e.data.length});(0===a.length||o&&r.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(a),this.theme.init(),new q(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),r.noData&&r.collapsedSeries.length!==r.series.length&&!i.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),r.axisCharts&&(this.core.coreCalculations(),"category"!==i.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=i.globals.minX,this.ctx.toolbar.maxX=i.globals.maxX),this.formatters.heatmapLabelFormatters(),new N(this).getLargestMarkerSize(),this.dimensions.plotCoords();var l=this.core.xySettings();this.grid.createGridMask();var c=this.core.plotChartType(a,l),d=new X(this);return d.bringForward(),i.config.dataLabels.background.enabled&&d.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:c,xyRatios:l,dimensions:{plot:{left:i.globals.translateX,top:i.globals.translateY,width:i.globals.gridWidth,height:i.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this,i=n.w;return new Promise(function(r,a){if(null===n.el)return a(new Error("Not enough data to display or target element not found"));(null===t||i.globals.allSeriesCollapsed)&&n.series.handleNoData(),n.grid=new $(n);var s,o,l=n.grid.drawGrid();if(n.annotations=new U(n),n.annotations.drawImageAnnos(),n.annotations.drawTextAnnos(),"back"===i.config.grid.position&&(l&&i.globals.dom.elGraphical.add(l.el),null!=l&&null!==(s=l.elGridBorders)&&void 0!==s&&s.node&&i.globals.dom.elGraphical.add(l.elGridBorders)),Array.isArray(t.elGraph))for(var c=0;c<t.elGraph.length;c++)i.globals.dom.elGraphical.add(t.elGraph[c]);else i.globals.dom.elGraphical.add(t.elGraph);"front"===i.config.grid.position&&(l&&i.globals.dom.elGraphical.add(l.el),null!=l&&null!==(o=l.elGridBorders)&&void 0!==o&&o.node&&i.globals.dom.elGraphical.add(l.elGridBorders)),"front"===i.config.xaxis.crosshairs.position&&n.crosshairs.drawXCrosshairs(),"front"===i.config.yaxis[0].crosshairs.position&&n.crosshairs.drawYCrosshairs(),"treemap"!==i.config.chart.type&&n.axes.drawAxis(i.config.chart.type,l);var d=new Q(e.ctx,l),u=new ne(e.ctx,l);if(null!==l&&(d.xAxisLabelCorrections(l.xAxisTickWidth),u.setYAxisTextAlignments(),i.config.yaxis.map(function(e,t){-1===i.globals.ignoreYAxisIndexes.indexOf(t)&&u.yAxisTitleRotate(t,e.opposite)})),n.annotations.drawAxesAnnotations(),!i.globals.noData){if(i.config.tooltip.enabled&&!i.globals.noData&&n.w.globals.tooltip.drawTooltip(t.xyRatios),i.globals.axisCharts&&(i.globals.isXNumeric||i.config.xaxis.convertedCatToNumeric||i.globals.isRangeBar))(i.config.chart.zoom.enabled||i.config.chart.selection&&i.config.chart.selection.enabled||i.config.chart.pan&&i.config.chart.pan.enabled)&&n.zoomPanSelection.init({xyRatios:t.xyRatios});else{var h=i.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(e){h[e]=!1})}i.config.chart.toolbar.show&&!i.globals.allSeriesCollapsed&&n.toolbar.createToolbar()}i.globals.memory.methodsToExec.length>0&&i.globals.memory.methodsToExec.forEach(function(e){e.method(e.params,!1,e.context)}),i.globals.axisCharts||i.globals.noData||n.core.resizeNonAxisCharts(),r(n)})}},{key:"destroy",value:function(){var e,t;window.removeEventListener("resize",this.windowResizeHandler),this.el.parentNode,e=this.parentResizeHandler,(t=Qe.get(e))&&(t.disconnect(),Qe.delete(e));var n=this.w.config.chart.id;n&&Apex._chartInstances.forEach(function(e,t){e.id===E.escapeString(n)&&Apex._chartInstances.splice(t,1)}),new Ze(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=this.w;return s.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(e,n){return t.updateHelpers._extendSeries(e,n)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),s.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,n,i,r,a)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,n)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.w.config.series.slice();return i.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(i,t,n)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this;n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var i=n.w.config.series.slice(),r=0;r<i.length;r++)if(null!==e[r]&&void 0!==e[r])for(var a=0;a<e[r].data.length;a++)i[r].data.push(e[r].data[a]);return n.w.config.series=i,t&&(n.w.globals.initialSeries=E.clone(n.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(n,i){new Ze(t.ctx).clear({isUpdating:!0});var r=t.create(t.w.config.series,e);if(!r)return n(t);t.mount(r).then(function(){"function"==typeof t.w.config.chart.events.updated&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,n(t)}).catch(function(e){i(e)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(e){t.push(e)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(e){if(e.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addXaxisAnnotationExternal(e,t,i)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addYaxisAnnotationExternal(e,t,i)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this;n&&(i=n),i.annotations.addPointAnnotationExternal(e,t,i)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=this;t&&(n=t),n.annotations.removeAnnotation(n,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new te(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new te(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new Z(this.ctx).dataURI(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Z(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;"function"==typeof e&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=E.escapeString(e);if(Apex._chartInstances){var n=Apex._chartInstances.filter(function(e){return e.id===t})[0];return n&&n.chart}}},{key:"initOnLoad",value:function(){for(var t=document.querySelectorAll("[data-apexcharts]"),n=0;n<t.length;n++)new e(t[n],JSON.parse(t[n].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var n=this.getChartByID(e);if(n){n.w.globals.isExecCalled=!0;var i=null;if(-1!==n.publicMethods.indexOf(t)){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];i=n[t].apply(n,a)}return i}}},{key:"merge",value:function(e,t){return E.extend(e,t)}}]),e}();e.exports=$e},3668:(e,t,n)=>{var i=n(8902),r=n(2587),a=n(8114);e.exports=function(e,t,n,s,o,l){var c=1&n,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var h=l.get(e),p=l.get(t);if(h&&p)return h==t&&p==e;var m=-1,f=!0,g=2&n?new i:void 0;for(l.set(e,t),l.set(t,e);++m<d;){var _=e[m],v=t[m];if(s)var b=c?s(v,_,m,t,e,l):s(_,v,m,e,t,l);if(void 0!==b){if(b)continue;f=!1;break}if(g){if(!r(t,function(e,t){if(!a(g,t)&&(_===e||o(_,e,n,s,l)))return g.push(t)})){f=!1;break}}else if(_!==v&&!o(_,v,n,s,l)){f=!1;break}}return l.delete(e),l.delete(t),f}},3682:function(e,t,n){"use strict";var i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var a=n(8400),s=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),x(this,e)},e}();t.Node=s;var o=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return i(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(s);t.DataNode=o;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=a.ElementType.Text,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(o);t.Text=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=a.ElementType.Comment,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(o);t.Comment=c;var d=function(e){function t(t,n){var i=e.call(this,n)||this;return i.name=t,i.type=a.ElementType.Directive,i}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(o);t.ProcessingInstruction=d;var u=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return i(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(s);t.NodeWithChildren=u;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=a.ElementType.CDATA,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(u);t.CDATA=h;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=a.ElementType.Root,t}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(u);t.Document=p;var m=function(e){function t(t,n,i,r){void 0===i&&(i=[]),void 0===r&&(r="script"===t?a.ElementType.Script:"style"===t?a.ElementType.Style:a.ElementType.Tag);var s=e.call(this,i)||this;return s.name=t,s.attribs=n,s.type=r,s}return i(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map(function(t){var n,i;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(i=e["x-attribsPrefix"])||void 0===i?void 0:i[t]}})},enumerable:!1,configurable:!0}),t}(u);function f(e){return(0,a.isTag)(e)}function g(e){return e.type===a.ElementType.CDATA}function _(e){return e.type===a.ElementType.Text}function v(e){return e.type===a.ElementType.Comment}function b(e){return e.type===a.ElementType.Directive}function y(e){return e.type===a.ElementType.Root}function x(e,t){var n;if(void 0===t&&(t=!1),_(e))n=new l(e.data);else if(v(e))n=new c(e.data);else if(f(e)){var i=t?w(e.children):[],a=new m(e.name,r({},e.attribs),i);i.forEach(function(e){return e.parent=a}),null!=e.namespace&&(a.namespace=e.namespace),e["x-attribsNamespace"]&&(a["x-attribsNamespace"]=r({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(a["x-attribsPrefix"]=r({},e["x-attribsPrefix"])),n=a}else if(g(e)){i=t?w(e.children):[];var s=new h(i);i.forEach(function(e){return e.parent=s}),n=s}else if(y(e)){i=t?w(e.children):[];var o=new p(i);i.forEach(function(e){return e.parent=o}),e["x-mode"]&&(o["x-mode"]=e["x-mode"]),n=o}else{if(!b(e))throw new Error("Not implemented yet: ".concat(e.type));var u=new d(e.name,e.data);null!=e["x-name"]&&(u["x-name"]=e["x-name"],u["x-publicId"]=e["x-publicId"],u["x-systemId"]=e["x-systemId"]),n=u}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function w(e){for(var t=e.map(function(e){return x(e,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=m,t.isTag=f,t.isCDATA=g,t.isText=_,t.isComment=v,t.isDirective=b,t.isDocument=y,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=x},3693:(e,t,n)=>{var i=n(7736);e.exports=function(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3713:(e,t,n)=>{var i=n(6140),r=n(1143),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3728:(e,t,n)=>{var i=n(8420),r=n(6614),a=n(4570),s=n(6571),o=n(6140),l=n(8673),c=Object.prototype.hasOwnProperty,d=a(function(e,t){if(o(t)||s(t))r(t,l(t),e);else for(var n in t)c.call(t,n)&&i(e,n,t[n])});e.exports=d},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3781:(e,t,n)=>{var i=n(9417),r=n(8673);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var a=t[n],s=e[a];t[n]=[a,s,i(s)]}return t}},3846:(e,t,n)=>{var i=n(1130),r=n(8479),a=n(6350),s=n(7823);e.exports=function(e,t,n){var o=t+"";return a(e,r(o,s(i(o),n)))}},3851:(e,t,n)=>{var i=n(1170),r=n(966),a=n(6552);e.exports=function(e,t,n,s){var o=1&t,l=r(e);return function t(){for(var r=-1,c=arguments.length,d=-1,u=s.length,h=Array(u+c),p=this&&this!==a&&this instanceof t?l:e;++d<u;)h[d]=s[d];for(;c--;)h[d++]=arguments[++r];return i(p,o?n:this,h)}}},3871:e=>{e.exports=function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(r);++i<r;)a[i]=e[i+t];return a}},3888:(e,t,n)=>{var i=n(5647),r=n(6196),a=n(4736),s=n(4159),o=i(function(e,t){var n=s(t,a(o));return r(e,32,void 0,t,n)});o.placeholder={},e.exports=o},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var i=n(396),r=n(2866),a=n(2597),s=n(914);e.exports=function(e){return a(e)?i(s(e)):r(e)}},3947:function(e,t,n){var i=n(2897).default;e.exports=function(){"use strict";const e=new Map,t={set(t,n,i){e.has(t)||e.set(t,new Map);const r=e.get(t);r.has(n)||0===r.size?r.set(n,i):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(r.keys())[0],"."))},get:(t,n)=>e.has(t)&&e.get(t).get(n)||null,remove(t,n){if(!e.has(t))return;const i=e.get(t);i.delete(n),0===i.size&&e.delete(t)}},n=1e6,r=1e3,a="transitionend",s=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(e,t)=>"#".concat(CSS.escape(t)))),e),o=e=>null===e||void 0===e?"".concat(e):Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),l=e=>{do{e+=Math.floor(Math.random()*n)}while(document.getElementById(e));return e},c=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const i=Number.parseFloat(t),a=Number.parseFloat(n);return i||a?(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*r):0},d=e=>{e.dispatchEvent(new Event(a))},u=e=>!(!e||"object"!==typeof e)&&("undefined"!==typeof e.jquery&&(e=e[0]),"undefined"!==typeof e.nodeType),h=e=>u(e)?e.jquery?e[0]:e:"string"===typeof e&&e.length>0?document.querySelector(s(e)):null,p=e=>{if(!u(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const t=e.closest("summary");if(t&&t.parentNode!==n)return!1;if(null===t)return!1}return t},m=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||("undefined"!==typeof e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),f=e=>{if(!document.documentElement.attachShadow)return null;if("function"===typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?f(e.parentNode):null},g=()=>{},_=e=>{e.offsetHeight},v=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,b=[],y=e=>{"loading"===document.readyState?(b.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of b)e()}),b.push(e)):e()},x=()=>"rtl"===document.documentElement.dir,w=e=>{y(()=>{const t=v();if(t){const n=e.NAME,i=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=i,e.jQueryInterface)}})},E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return"function"===typeof e?e.call(...t):n},S=function(e,t){if(arguments.length>2&&void 0!==arguments[2]&&!arguments[2])return void E(e);const n=5,i=c(t)+n;let r=!1;const s=n=>{let{target:i}=n;i===t&&(r=!0,t.removeEventListener(a,s),E(e))};t.addEventListener(a,s),setTimeout(()=>{r||d(t)},i)},C=(e,t,n,i)=>{const r=e.length;let a=e.indexOf(t);return-1===a?!n&&i?e[r-1]:e[0]:(a+=n?1:-1,i&&(a=(a+r)%r),e[Math.max(0,Math.min(a,r-1))])},T=/[^.]*(?=\..*)\.|.*/,N=/\..*/,A=/::\d+$/,k={};let R=1;const I={mouseenter:"mouseover",mouseleave:"mouseout"},O=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function j(e,t){return t&&"".concat(t,"::").concat(R++)||e.uidEvent||R++}function P(e){const t=j(e);return e.uidEvent=t,k[t]=k[t]||{},k[t]}function D(e,t){return function n(i){return W(i,{delegateTarget:e}),n.oneOff&&H.off(e,i.type,t),t.apply(e,[i])}}function L(e,t,n){return function i(r){const a=e.querySelectorAll(t);for(let{target:s}=r;s&&s!==this;s=s.parentNode)for(const o of a)if(o===s)return W(r,{delegateTarget:s}),i.oneOff&&H.off(e,r.type,t,n),n.apply(s,[r])}}function M(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===n)}function U(e,t,n){const i="string"===typeof t,r=i?n:t||n;let a=z(e);return O.has(a)||(a=e),[i,r,a]}function F(e,t,n,i,r){if("string"!==typeof t||!e)return;let[a,s,o]=U(t,n,i);if(t in I){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};s=e(s)}const l=P(e),c=l[o]||(l[o]={}),d=M(c,s,a?n:null);if(d)return void(d.oneOff=d.oneOff&&r);const u=j(s,t.replace(T,"")),h=a?L(e,n,s):D(e,s);h.delegationSelector=a?n:null,h.callable=s,h.oneOff=r,h.uidEvent=u,c[u]=h,e.addEventListener(o,h,a)}function B(e,t,n,i,r){const a=M(t[n],i,r);a&&(e.removeEventListener(n,a,Boolean(r)),delete t[n][a.uidEvent])}function V(e,t,n,i){const r=t[n]||{};for(const[a,s]of Object.entries(r))a.includes(i)&&B(e,t,n,s.callable,s.delegationSelector)}function z(e){return e=e.replace(N,""),I[e]||e}const H={on(e,t,n,i){F(e,t,n,i,!1)},one(e,t,n,i){F(e,t,n,i,!0)},off(e,t,n,i){if("string"!==typeof t||!e)return;const[r,a,s]=U(t,n,i),o=s!==t,l=P(e),c=l[s]||{},d=t.startsWith(".");if("undefined"===typeof a){if(d)for(const n of Object.keys(l))V(e,l,n,t.slice(1));for(const[n,i]of Object.entries(c)){const r=n.replace(A,"");o&&!t.includes(r)||B(e,l,s,i.callable,i.delegationSelector)}}else{if(!Object.keys(c).length)return;B(e,l,s,a,r?n:null)}},trigger(e,t,n){if("string"!==typeof t||!e)return null;const i=v();let r=null,a=!0,s=!0,o=!1;t!==z(t)&&i&&(r=i.Event(t,n),i(e).trigger(r),a=!r.isPropagationStopped(),s=!r.isImmediatePropagationStopped(),o=r.isDefaultPrevented());const l=W(new Event(t,{bubbles:a,cancelable:!0}),n);return o&&l.preventDefault(),s&&e.dispatchEvent(l),l.defaultPrevented&&r&&r.preventDefault(),l}};function W(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const[i,r]of Object.entries(t))try{e[i]=r}catch(n){Object.defineProperty(e,i,{configurable:!0,get:()=>r})}return e}function G(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!==typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function q(e){return e.replace(/[A-Z]/g,e=>"-".concat(e.toLowerCase()))}const Y={setDataAttribute(e,t,n){e.setAttribute("data-bs-".concat(q(t)),n)},removeDataAttribute(e,t){e.removeAttribute("data-bs-".concat(q(t)))},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"));for(const i of n){let n=i.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1),t[n]=G(e.dataset[i])}return t},getDataAttribute:(e,t)=>G(e.getAttribute("data-bs-".concat(q(t))))};class X{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=u(t)?Y.getDataAttribute(t,"config"):{};return i(i(i(i({},this.constructor.Default),"object"===typeof n?n:{}),u(t)?Y.getDataAttributes(t):{}),"object"===typeof e?e:{})}_typeCheckConfig(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.DefaultType;for(const[n,i]of Object.entries(t)){const t=e[n],r=u(t)?"element":o(t);if(!new RegExp(i).test(r))throw new TypeError("".concat(this.constructor.NAME.toUpperCase(),': Option "').concat(n,'" provided type "').concat(r,'" but expected type "').concat(i,'".'))}}}const K="5.3.8";class J extends X{constructor(e,n){super(),(e=h(e))&&(this._element=e,this._config=this._getConfig(n),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),H.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t){S(e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return t.get(h(e),this.DATA_KEY)}static getOrCreateInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"===typeof t?t:null)}static get VERSION(){return K}static get DATA_KEY(){return"bs.".concat(this.NAME)}static get EVENT_KEY(){return".".concat(this.DATA_KEY)}static eventName(e){return"".concat(e).concat(this.EVENT_KEY)}}const Z=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#".concat(n.split("#")[1])),t=n&&"#"!==n?n.trim():null}return t?t.split(",").map(e=>s(e)).join(","):null},Q={find(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(t,e)},children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){const n=[];let i=e.parentNode.closest(t);for(;i;)n.push(i),i=i.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>"".concat(e,':not([tabindex^="-"])')).join(",");return this.find(t,e).filter(e=>!m(e)&&p(e))},getSelectorFromElement(e){const t=Z(e);return t&&Q.findOne(t)?t:null},getElementFromSelector(e){const t=Z(e);return t?Q.findOne(t):null},getMultipleElementsFromSelector(e){const t=Z(e);return t?Q.find(t):[]}},$=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide";const n="click.dismiss".concat(e.EVENT_KEY),i=e.NAME;H.on(document,n,'[data-bs-dismiss="'.concat(i,'"]'),function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),m(this))return;const r=Q.getElementFromSelector(this)||this.closest(".".concat(i));e.getOrCreateInstance(r)[t]()})},ee="alert",te=".".concat("bs.alert"),ne="close".concat(te),ie="closed".concat(te),re="fade",ae="show";class se extends J{static get NAME(){return ee}close(){if(H.trigger(this._element,ne).defaultPrevented)return;this._element.classList.remove(ae);const e=this._element.classList.contains(re);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),H.trigger(this._element,ie),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=se.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}})}}$(se,"close"),w(se);const oe="button",le=".".concat("bs.button"),ce=".data-api",de="active",ue='[data-bs-toggle="button"]',he="click".concat(le).concat(ce);class pe extends J{static get NAME(){return oe}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(de))}static jQueryInterface(e){return this.each(function(){const t=pe.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}H.on(document,he,ue,e=>{e.preventDefault();const t=e.target.closest(ue);pe.getOrCreateInstance(t).toggle()}),w(pe);const me="swipe",fe=".bs.swipe",ge="touchstart".concat(fe),_e="touchmove".concat(fe),ve="touchend".concat(fe),be="pointerdown".concat(fe),ye="pointerup".concat(fe),xe="touch",we="pen",Ee="pointer-event",Se=40,Ce={endCallback:null,leftCallback:null,rightCallback:null},Te={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ne extends X{constructor(e,t){super(),this._element=e,e&&Ne.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Ce}static get DefaultType(){return Te}static get NAME(){return me}dispose(){H.off(this._element,fe)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),E(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Se)return;const t=e/this._deltaX;this._deltaX=0,t&&E(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(H.on(this._element,be,e=>this._start(e)),H.on(this._element,ye,e=>this._end(e)),this._element.classList.add(Ee)):(H.on(this._element,ge,e=>this._start(e)),H.on(this._element,_e,e=>this._move(e)),H.on(this._element,ve,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===we||e.pointerType===xe)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Ae="carousel",ke=".".concat("bs.carousel"),Re=".data-api",Ie="ArrowLeft",Oe="ArrowRight",je=500,Pe="next",De="prev",Le="left",Me="right",Ue="slide".concat(ke),Fe="slid".concat(ke),Be="keydown".concat(ke),Ve="mouseenter".concat(ke),ze="mouseleave".concat(ke),He="dragstart".concat(ke),We="load".concat(ke).concat(Re),Ge="click".concat(ke).concat(Re),qe="carousel",Ye="active",Xe="slide",Ke="carousel-item-end",Je="carousel-item-start",Ze="carousel-item-next",Qe="carousel-item-prev",$e=".active",et=".carousel-item",tt=$e+et,nt=".carousel-item img",it=".carousel-indicators",rt="[data-bs-slide], [data-bs-slide-to]",at='[data-bs-ride="carousel"]',st={[Ie]:Me,[Oe]:Le},ot={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},lt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ct extends J{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Q.findOne(it,this._element),this._addEventListeners(),this._config.ride===qe&&this.cycle()}static get Default(){return ot}static get DefaultType(){return lt}static get NAME(){return Ae}next(){this._slide(Pe)}nextWhenVisible(){!document.hidden&&p(this._element)&&this.next()}prev(){this._slide(De)}pause(){this._isSliding&&d(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?H.one(this._element,Fe,()=>this.cycle()):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void H.one(this._element,Fe,()=>this.to(e));const n=this._getItemIndex(this._getActive());if(n===e)return;const i=e>n?Pe:De;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&H.on(this._element,Be,e=>this._keydown(e)),"hover"===this._config.pause&&(H.on(this._element,Ve,()=>this.pause()),H.on(this._element,ze,()=>this._maybeEnableCycle())),this._config.touch&&Ne.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of Q.find(nt,this._element))H.on(t,He,e=>e.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(Le)),rightCallback:()=>this._slide(this._directionToOrder(Me)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),je+this._config.interval))}};this._swipeHelper=new Ne(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=st[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Q.findOne($e,this._indicatorsElement);t.classList.remove(Ye),t.removeAttribute("aria-current");const n=Q.findOne('[data-bs-slide-to="'.concat(e,'"]'),this._indicatorsElement);n&&(n.classList.add(Ye),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._isSliding)return;const n=this._getActive(),i=e===Pe,r=t||C(this._getItems(),n,i,this._config.wrap);if(r===n)return;const a=this._getItemIndex(r),s=t=>H.trigger(this._element,t,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:a});if(s(Ue).defaultPrevented)return;if(!n||!r)return;const o=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=r;const l=i?Je:Ke,c=i?Ze:Qe;r.classList.add(c),_(r),n.classList.add(l),r.classList.add(l);const d=()=>{r.classList.remove(l,c),r.classList.add(Ye),n.classList.remove(Ye,c,l),this._isSliding=!1,s(Fe)};this._queueCallback(d,n,this._isAnimated()),o&&this.cycle()}_isAnimated(){return this._element.classList.contains(Xe)}_getActive(){return Q.findOne(tt,this._element)}_getItems(){return Q.find(et,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return x()?e===Le?De:Pe:e===Le?Pe:De}_orderToDirection(e){return x()?e===De?Le:Me:e===De?Me:Le}static jQueryInterface(e){return this.each(function(){const t=ct.getOrCreateInstance(this,e);if("number"!==typeof e){if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}else t.to(e)})}}H.on(document,Ge,rt,function(e){const t=Q.getElementFromSelector(this);if(!t||!t.classList.contains(qe))return;e.preventDefault();const n=ct.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");return i?(n.to(i),void n._maybeEnableCycle()):"next"===Y.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())}),H.on(window,We,()=>{const e=Q.find(at);for(const t of e)ct.getOrCreateInstance(t)}),w(ct);const dt="collapse",ut=".".concat("bs.collapse"),ht=".data-api",pt="show".concat(ut),mt="shown".concat(ut),ft="hide".concat(ut),gt="hidden".concat(ut),_t="click".concat(ut).concat(ht),vt="show",bt="collapse",yt="collapsing",xt="collapsed",wt=":scope .".concat(bt," .").concat(bt),Et="collapse-horizontal",St="width",Ct="height",Tt=".collapse.show, .collapse.collapsing",Nt='[data-bs-toggle="collapse"]',At={parent:null,toggle:!0},kt={parent:"(null|element)",toggle:"boolean"};class Rt extends J{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=Q.find(Nt);for(const i of n){const e=Q.getSelectorFromElement(i),t=Q.find(e).filter(e=>e===this._element);null!==e&&t.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return At}static get DefaultType(){return kt}static get NAME(){return dt}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(Tt).filter(e=>e!==this._element).map(e=>Rt.getOrCreateInstance(e,{toggle:!1}))),e.length&&e[0]._isTransitioning)return;if(H.trigger(this._element,pt).defaultPrevented)return;for(const a of e)a.hide();const t=this._getDimension();this._element.classList.remove(bt),this._element.classList.add(yt),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(yt),this._element.classList.add(bt,vt),this._element.style[t]="",H.trigger(this._element,mt)},i=t[0].toUpperCase()+t.slice(1),r="scroll".concat(i);this._queueCallback(n,this._element,!0),this._element.style[t]="".concat(this._element[r],"px")}hide(){if(this._isTransitioning||!this._isShown())return;if(H.trigger(this._element,ft).defaultPrevented)return;const e=this._getDimension();this._element.style[e]="".concat(this._element.getBoundingClientRect()[e],"px"),_(this._element),this._element.classList.add(yt),this._element.classList.remove(bt,vt);for(const n of this._triggerArray){const e=Q.getElementFromSelector(n);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([n],!1)}this._isTransitioning=!0;const t=()=>{this._isTransitioning=!1,this._element.classList.remove(yt),this._element.classList.add(bt),H.trigger(this._element,gt)};this._element.style[e]="",this._queueCallback(t,this._element,!0)}_isShown(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains(vt)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=h(e.parent),e}_getDimension(){return this._element.classList.contains(Et)?St:Ct}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Nt);for(const t of e){const e=Q.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=Q.find(wt,this._config.parent);return Q.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle(xt,!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"===typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const n=Rt.getOrCreateInstance(this,t);if("string"===typeof e){if("undefined"===typeof n[e])throw new TypeError('No method named "'.concat(e,'"'));n[e]()}})}}H.on(document,_t,Nt,function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const t of Q.getMultipleElementsFromSelector(this))Rt.getOrCreateInstance(t,{toggle:!1}).toggle()}),w(Rt);var It="top",Ot="bottom",jt="right",Pt="left",Dt="auto",Lt=[It,Ot,jt,Pt],Mt="start",Ut="end",Ft="clippingParents",Bt="viewport",Vt="popper",zt="reference",Ht=Lt.reduce(function(e,t){return e.concat([t+"-"+Mt,t+"-"+Ut])},[]),Wt=[].concat(Lt,[Dt]).reduce(function(e,t){return e.concat([t,t+"-"+Mt,t+"-"+Ut])},[]),Gt="beforeRead",qt="read",Yt="afterRead",Xt="beforeMain",Kt="main",Jt="afterMain",Zt="beforeWrite",Qt="write",$t="afterWrite",en=[Gt,qt,Yt,Xt,Kt,Jt,Zt,Qt,$t];function tn(e){return e?(e.nodeName||"").toLowerCase():null}function nn(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function rn(e){return e instanceof nn(e).Element||e instanceof Element}function an(e){return e instanceof nn(e).HTMLElement||e instanceof HTMLElement}function sn(e){return"undefined"!==typeof ShadowRoot&&(e instanceof nn(e).ShadowRoot||e instanceof ShadowRoot)}function on(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];an(r)&&tn(r)&&(Object.assign(r.style,n),Object.keys(i).forEach(function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)}))})}function ln(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var i=t.elements[e],r=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});an(i)&&tn(i)&&(Object.assign(i.style,a),Object.keys(r).forEach(function(e){i.removeAttribute(e)}))})}}const cn={name:"applyStyles",enabled:!0,phase:"write",fn:on,effect:ln,requires:["computeStyles"]};function dn(e){return e.split("-")[0]}var un=Math.max,hn=Math.min,pn=Math.round;function mn(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function fn(){return!/^((?!chrome|android).)*safari/i.test(mn())}function gn(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),r=1,a=1;t&&an(e)&&(r=e.offsetWidth>0&&pn(i.width)/e.offsetWidth||1,a=e.offsetHeight>0&&pn(i.height)/e.offsetHeight||1);var s=(rn(e)?nn(e):window).visualViewport,o=!fn()&&n,l=(i.left+(o&&s?s.offsetLeft:0))/r,c=(i.top+(o&&s?s.offsetTop:0))/a,d=i.width/r,u=i.height/a;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function _n(e){var t=gn(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function vn(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&sn(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function bn(e){return nn(e).getComputedStyle(e)}function yn(e){return["table","td","th"].indexOf(tn(e))>=0}function xn(e){return((rn(e)?e.ownerDocument:e.document)||window.document).documentElement}function wn(e){return"html"===tn(e)?e:e.assignedSlot||e.parentNode||(sn(e)?e.host:null)||xn(e)}function En(e){return an(e)&&"fixed"!==bn(e).position?e.offsetParent:null}function Sn(e){var t=/firefox/i.test(mn());if(/Trident/i.test(mn())&&an(e)&&"fixed"===bn(e).position)return null;var n=wn(e);for(sn(n)&&(n=n.host);an(n)&&["html","body"].indexOf(tn(n))<0;){var i=bn(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}function Cn(e){for(var t=nn(e),n=En(e);n&&yn(n)&&"static"===bn(n).position;)n=En(n);return n&&("html"===tn(n)||"body"===tn(n)&&"static"===bn(n).position)?t:n||Sn(e)||t}function Tn(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Nn(e,t,n){return un(e,hn(t,n))}function An(e,t,n){var i=Nn(e,t,n);return i>n?n:i}function kn(){return{top:0,right:0,bottom:0,left:0}}function Rn(e){return Object.assign({},kn(),e)}function In(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}var On=function(e,t){return Rn("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:In(e,Lt))};function jn(e){var t,n=e.state,i=e.name,r=e.options,a=n.elements.arrow,s=n.modifiersData.popperOffsets,o=dn(n.placement),l=Tn(o),c=[Pt,jt].indexOf(o)>=0?"height":"width";if(a&&s){var d=On(r.padding,n),u=_n(a),h="y"===l?It:Pt,p="y"===l?Ot:jt,m=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],f=s[l]-n.rects.reference[l],g=Cn(a),_=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,v=m/2-f/2,b=d[h],y=_-u[c]-d[p],x=_/2-u[c]/2+v,w=Nn(b,x,y),E=l;n.modifiersData[i]=((t={})[E]=w,t.centerOffset=w-x,t)}}function Pn(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!==typeof i||(i=t.elements.popper.querySelector(i)))&&vn(t.elements.popper,i)&&(t.elements.arrow=i)}const Dn={name:"arrow",enabled:!0,phase:"main",fn:jn,effect:Pn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ln(e){return e.split("-")[1]}var Mn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Un(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:pn(n*r)/r||0,y:pn(i*r)/r||0}}function Fn(e){var t,n=e.popper,i=e.popperRect,r=e.placement,a=e.variation,s=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,h=s.x,p=void 0===h?0:h,m=s.y,f=void 0===m?0:m,g="function"===typeof d?d({x:p,y:f}):{x:p,y:f};p=g.x,f=g.y;var _=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),b=Pt,y=It,x=window;if(c){var w=Cn(n),E="clientHeight",S="clientWidth";w===nn(n)&&"static"!==bn(w=xn(n)).position&&"absolute"===o&&(E="scrollHeight",S="scrollWidth"),(r===It||(r===Pt||r===jt)&&a===Ut)&&(y=Ot,f-=(u&&w===x&&x.visualViewport?x.visualViewport.height:w[E])-i.height,f*=l?1:-1),r!==Pt&&(r!==It&&r!==Ot||a!==Ut)||(b=jt,p-=(u&&w===x&&x.visualViewport?x.visualViewport.width:w[S])-i.width,p*=l?1:-1)}var C,T=Object.assign({position:o},c&&Mn),N=!0===d?Un({x:p,y:f},nn(n)):{x:p,y:f};return p=N.x,f=N.y,l?Object.assign({},T,((C={})[y]=v?"0":"",C[b]=_?"0":"",C.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+f+"px)":"translate3d("+p+"px, "+f+"px, 0)",C)):Object.assign({},T,((t={})[y]=v?f+"px":"",t[b]=_?p+"px":"",t.transform="",t))}function Bn(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,a=n.adaptive,s=void 0===a||a,o=n.roundOffsets,l=void 0===o||o,c={placement:dn(t.placement),variation:Ln(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Fn(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Fn(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Vn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Bn,data:{}};var zn={passive:!0};function Hn(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,a=void 0===r||r,s=i.resize,o=void 0===s||s,l=nn(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach(function(e){e.addEventListener("scroll",n.update,zn)}),o&&l.addEventListener("resize",n.update,zn),function(){a&&c.forEach(function(e){e.removeEventListener("scroll",n.update,zn)}),o&&l.removeEventListener("resize",n.update,zn)}}const Wn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Hn,data:{}};var Gn={left:"right",right:"left",bottom:"top",top:"bottom"};function qn(e){return e.replace(/left|right|bottom|top/g,function(e){return Gn[e]})}var Yn={start:"end",end:"start"};function Xn(e){return e.replace(/start|end/g,function(e){return Yn[e]})}function Kn(e){var t=nn(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Jn(e){return gn(xn(e)).left+Kn(e).scrollLeft}function Zn(e,t){var n=nn(e),i=xn(e),r=n.visualViewport,a=i.clientWidth,s=i.clientHeight,o=0,l=0;if(r){a=r.width,s=r.height;var c=fn();(c||!c&&"fixed"===t)&&(o=r.offsetLeft,l=r.offsetTop)}return{width:a,height:s,x:o+Jn(e),y:l}}function Qn(e){var t,n=xn(e),i=Kn(e),r=null==(t=e.ownerDocument)?void 0:t.body,a=un(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=un(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-i.scrollLeft+Jn(e),l=-i.scrollTop;return"rtl"===bn(r||n).direction&&(o+=un(n.clientWidth,r?r.clientWidth:0)-a),{width:a,height:s,x:o,y:l}}function $n(e){var t=bn(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function ei(e){return["html","body","#document"].indexOf(tn(e))>=0?e.ownerDocument.body:an(e)&&$n(e)?e:ei(wn(e))}function ti(e,t){var n;void 0===t&&(t=[]);var i=ei(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),a=nn(i),s=r?[a].concat(a.visualViewport||[],$n(i)?i:[]):i,o=t.concat(s);return r?o:o.concat(ti(wn(s)))}function ni(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ii(e,t){var n=gn(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function ri(e,t,n){return t===Bt?ni(Zn(e,n)):rn(t)?ii(t,n):ni(Qn(xn(e)))}function ai(e){var t=ti(wn(e)),n=["absolute","fixed"].indexOf(bn(e).position)>=0&&an(e)?Cn(e):e;return rn(n)?t.filter(function(e){return rn(e)&&vn(e,n)&&"body"!==tn(e)}):[]}function si(e,t,n,i){var r="clippingParents"===t?ai(e):[].concat(t),a=[].concat(r,[n]),s=a[0],o=a.reduce(function(t,n){var r=ri(e,n,i);return t.top=un(r.top,t.top),t.right=hn(r.right,t.right),t.bottom=hn(r.bottom,t.bottom),t.left=un(r.left,t.left),t},ri(e,s,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function oi(e){var t,n=e.reference,i=e.element,r=e.placement,a=r?dn(r):null,s=r?Ln(r):null,o=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(a){case It:t={x:o,y:n.y-i.height};break;case Ot:t={x:o,y:n.y+n.height};break;case jt:t={x:n.x+n.width,y:l};break;case Pt:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=a?Tn(a):null;if(null!=c){var d="y"===c?"height":"width";switch(s){case Mt:t[c]=t[c]-(n[d]/2-i[d]/2);break;case Ut:t[c]=t[c]+(n[d]/2-i[d]/2)}}return t}function li(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=void 0===i?e.placement:i,a=n.strategy,s=void 0===a?e.strategy:a,o=n.boundary,l=void 0===o?Ft:o,c=n.rootBoundary,d=void 0===c?Bt:c,u=n.elementContext,h=void 0===u?Vt:u,p=n.altBoundary,m=void 0!==p&&p,f=n.padding,g=void 0===f?0:f,_=Rn("number"!==typeof g?g:In(g,Lt)),v=h===Vt?zt:Vt,b=e.rects.popper,y=e.elements[m?v:h],x=si(rn(y)?y:y.contextElement||xn(e.elements.popper),l,d,s),w=gn(e.elements.reference),E=oi({reference:w,element:b,placement:r}),S=ni(Object.assign({},b,E)),C=h===Vt?S:w,T={top:x.top-C.top+_.top,bottom:C.bottom-x.bottom+_.bottom,left:x.left-C.left+_.left,right:C.right-x.right+_.right},N=e.modifiersData.offset;if(h===Vt&&N){var A=N[r];Object.keys(T).forEach(function(e){var t=[jt,Ot].indexOf(e)>=0?1:-1,n=[It,Ot].indexOf(e)>=0?"y":"x";T[e]+=A[n]*t})}return T}function ci(e,t){void 0===t&&(t={});var n=t,i=n.placement,r=n.boundary,a=n.rootBoundary,s=n.padding,o=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Wt:l,d=Ln(i),u=d?o?Ht:Ht.filter(function(e){return Ln(e)===d}):Lt,h=u.filter(function(e){return c.indexOf(e)>=0});0===h.length&&(h=u);var p=h.reduce(function(t,n){return t[n]=li(e,{placement:n,boundary:r,rootBoundary:a,padding:s})[dn(n)],t},{});return Object.keys(p).sort(function(e,t){return p[e]-p[t]})}function di(e){if(dn(e)===Dt)return[];var t=qn(e);return[Xn(e),t,Xn(t)]}function ui(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,a=void 0===r||r,s=n.altAxis,o=void 0===s||s,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=void 0===p||p,f=n.allowedAutoPlacements,g=t.options.placement,_=dn(g),v=l||(_!==g&&m?di(g):[qn(g)]),b=[g].concat(v).reduce(function(e,n){return e.concat(dn(n)===Dt?ci(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:m,allowedAutoPlacements:f}):n)},[]),y=t.rects.reference,x=t.rects.popper,w=new Map,E=!0,S=b[0],C=0;C<b.length;C++){var T=b[C],N=dn(T),A=Ln(T)===Mt,k=[It,Ot].indexOf(N)>=0,R=k?"width":"height",I=li(t,{placement:T,boundary:d,rootBoundary:u,altBoundary:h,padding:c}),O=k?A?jt:Pt:A?Ot:It;y[R]>x[R]&&(O=qn(O));var j=qn(O),P=[];if(a&&P.push(I[N]<=0),o&&P.push(I[O]<=0,I[j]<=0),P.every(function(e){return e})){S=T,E=!1;break}w.set(T,P)}if(E)for(var D=function(e){var t=b.find(function(t){var n=w.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return S=t,"break"},L=m?3:1;L>0&&"break"!==D(L);L--);t.placement!==S&&(t.modifiersData[i]._skip=!0,t.placement=S,t.reset=!0)}}const hi={name:"flip",enabled:!0,phase:"main",fn:ui,requiresIfExists:["offset"],data:{_skip:!1}};function pi(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function mi(e){return[It,jt,Ot,Pt].some(function(t){return e[t]>=0})}function fi(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,a=t.modifiersData.preventOverflow,s=li(t,{elementContext:"reference"}),o=li(t,{altBoundary:!0}),l=pi(s,i),c=pi(o,r,a),d=mi(l),u=mi(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}const gi={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:fi};function _i(e,t,n){var i=dn(e),r=[Pt,It].indexOf(i)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=a[0],o=a[1];return s=s||0,o=(o||0)*r,[Pt,jt].indexOf(i)>=0?{x:o,y:s}:{x:s,y:o}}function vi(e){var t=e.state,n=e.options,i=e.name,r=n.offset,a=void 0===r?[0,0]:r,s=Wt.reduce(function(e,n){return e[n]=_i(n,t.rects,a),e},{}),o=s[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}const bi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vi};function yi(e){var t=e.state,n=e.name;t.modifiersData[n]=oi({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const xi={name:"popperOffsets",enabled:!0,phase:"read",fn:yi,data:{}};function wi(e){return"x"===e?"y":"x"}function Ei(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,a=void 0===r||r,s=n.altAxis,o=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,u=n.padding,h=n.tether,p=void 0===h||h,m=n.tetherOffset,f=void 0===m?0:m,g=li(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),_=dn(t.placement),v=Ln(t.placement),b=!v,y=Tn(_),x=wi(y),w=t.modifiersData.popperOffsets,E=t.rects.reference,S=t.rects.popper,C="function"===typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,T="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(w){if(a){var k,R="y"===y?It:Pt,I="y"===y?Ot:jt,O="y"===y?"height":"width",j=w[y],P=j+g[R],D=j-g[I],L=p?-S[O]/2:0,M=v===Mt?E[O]:S[O],U=v===Mt?-S[O]:-E[O],F=t.elements.arrow,B=p&&F?_n(F):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:kn(),z=V[R],H=V[I],W=Nn(0,E[O],B[O]),G=b?E[O]/2-L-W-z-T.mainAxis:M-W-z-T.mainAxis,q=b?-E[O]/2+L+W+H+T.mainAxis:U+W+H+T.mainAxis,Y=t.elements.arrow&&Cn(t.elements.arrow),X=Y?"y"===y?Y.clientTop||0:Y.clientLeft||0:0,K=null!=(k=null==N?void 0:N[y])?k:0,J=j+q-K,Z=Nn(p?hn(P,j+G-K-X):P,j,p?un(D,J):D);w[y]=Z,A[y]=Z-j}if(o){var Q,$="x"===y?It:Pt,ee="x"===y?Ot:jt,te=w[x],ne="y"===x?"height":"width",ie=te+g[$],re=te-g[ee],ae=-1!==[It,Pt].indexOf(_),se=null!=(Q=null==N?void 0:N[x])?Q:0,oe=ae?ie:te-E[ne]-S[ne]-se+T.altAxis,le=ae?te+E[ne]+S[ne]-se-T.altAxis:re,ce=p&&ae?An(oe,te,le):Nn(p?oe:ie,te,p?le:re);w[x]=ce,A[x]=ce-te}t.modifiersData[i]=A}}const Si={name:"preventOverflow",enabled:!0,phase:"main",fn:Ei,requiresIfExists:["offset"]};function Ci(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ti(e){return e!==nn(e)&&an(e)?Ci(e):Kn(e)}function Ni(e){var t=e.getBoundingClientRect(),n=pn(t.width)/e.offsetWidth||1,i=pn(t.height)/e.offsetHeight||1;return 1!==n||1!==i}function Ai(e,t,n){void 0===n&&(n=!1);var i=an(t),r=an(t)&&Ni(t),a=xn(t),s=gn(e,r,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&(("body"!==tn(t)||$n(a))&&(o=Ti(t)),an(t)?((l=gn(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=Jn(a))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function ki(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}}),i.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||r(e)}),i}function Ri(e){var t=ki(e);return en.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}function Ii(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Oi(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}var ji={placement:"bottom",modifiers:[],strategy:"absolute"};function Pi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function Di(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,a=void 0===r?ji:r;return function(e,t,n){void 0===n&&(n=a);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},ji,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],o=!1,l={state:r,setOptions:function(n){var s="function"===typeof n?n(r.options):n;d(),r.options=Object.assign({},a,r.options,s),r.scrollParents={reference:rn(e)?ti(e):e.contextElement?ti(e.contextElement):[],popper:ti(t)};var o=Ri(Oi([].concat(i,r.options.modifiers)));return r.orderedModifiers=o.filter(function(e){return e.enabled}),c(),l.update()},forceUpdate:function(){if(!o){var e=r.elements,t=e.reference,n=e.popper;if(Pi(t,n)){r.rects={reference:Ai(t,Cn(n),"fixed"===r.options.strategy),popper:_n(n)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach(function(e){return r.modifiersData[e.name]=Object.assign({},e.data)});for(var i=0;i<r.orderedModifiers.length;i++)if(!0!==r.reset){var a=r.orderedModifiers[i],s=a.fn,c=a.options,d=void 0===c?{}:c,u=a.name;"function"===typeof s&&(r=s({state:r,options:d,name:u,instance:l})||r)}else r.reset=!1,i=-1}}},update:Ii(function(){return new Promise(function(e){l.forceUpdate(),e(r)})}),destroy:function(){d(),o=!0}};if(!Pi(e,t))return l;function c(){r.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var o=a({state:r,name:t,instance:l,options:i}),c=function(){};s.push(o||c)}})}function d(){s.forEach(function(e){return e()}),s=[]}return l.setOptions(n).then(function(e){!o&&n.onFirstUpdate&&n.onFirstUpdate(e)}),l}}var Li=Di(),Mi=Di({defaultModifiers:[Wn,xi,Vn,cn]}),Ui=Di({defaultModifiers:[Wn,xi,Vn,cn,bi,hi,Si,Dn,gi]});const Fi=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Jt,afterRead:Yt,afterWrite:$t,applyStyles:cn,arrow:Dn,auto:Dt,basePlacements:Lt,beforeMain:Xt,beforeRead:Gt,beforeWrite:Zt,bottom:Ot,clippingParents:Ft,computeStyles:Vn,createPopper:Ui,createPopperBase:Li,createPopperLite:Mi,detectOverflow:li,end:Ut,eventListeners:Wn,flip:hi,hide:gi,left:Pt,main:Kt,modifierPhases:en,offset:bi,placements:Wt,popper:Vt,popperGenerator:Di,popperOffsets:xi,preventOverflow:Si,read:qt,reference:zt,right:jt,start:Mt,top:It,variationPlacements:Ht,viewport:Bt,write:Qt},Symbol.toStringTag,{value:"Module"})),Bi="dropdown",Vi=".".concat("bs.dropdown"),zi=".data-api",Hi="Escape",Wi="Tab",Gi="ArrowUp",qi="ArrowDown",Yi=2,Xi="hide".concat(Vi),Ki="hidden".concat(Vi),Ji="show".concat(Vi),Zi="shown".concat(Vi),Qi="click".concat(Vi).concat(zi),$i="keydown".concat(Vi).concat(zi),er="keyup".concat(Vi).concat(zi),tr="show",nr="dropup",ir="dropend",rr="dropstart",ar="dropup-center",sr="dropdown-center",or='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',lr="".concat(or,".").concat(tr),cr=".dropdown-menu",dr=".navbar",ur=".navbar-nav",hr=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",pr=x()?"top-end":"top-start",mr=x()?"top-start":"top-end",fr=x()?"bottom-end":"bottom-start",gr=x()?"bottom-start":"bottom-end",_r=x()?"left-start":"right-start",vr=x()?"right-start":"left-start",br="top",yr="bottom",xr={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},wr={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Er extends J{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Q.next(this._element,cr)[0]||Q.prev(this._element,cr)[0]||Q.findOne(cr,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return xr}static get DefaultType(){return wr}static get NAME(){return Bi}toggle(){return this._isShown()?this.hide():this.show()}show(){if(m(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!H.trigger(this._element,Ji,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(ur))for(const e of[].concat(...document.body.children))H.on(e,"mouseover",g);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(tr),this._element.classList.add(tr),H.trigger(this._element,Zi,e)}}hide(){if(m(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!H.trigger(this._element,Xi,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))H.off(e,"mouseover",g);this._popper&&this._popper.destroy(),this._menu.classList.remove(tr),this._element.classList.remove(tr),this._element.setAttribute("aria-expanded","false"),Y.removeDataAttribute(this._menu,"popper"),H.trigger(this._element,Ki,e)}}_getConfig(e){if("object"===typeof(e=super._getConfig(e)).reference&&!u(e.reference)&&"function"!==typeof e.reference.getBoundingClientRect)throw new TypeError("".concat(Bi.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return e}_createPopper(){if("undefined"===typeof Fi)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;"parent"===this._config.reference?e=this._parent:u(this._config.reference)?e=h(this._config.reference):"object"===typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Ui(e,this._menu,t)}_isShown(){return this._menu.classList.contains(tr)}_getPlacement(){const e=this._parent;if(e.classList.contains(ir))return _r;if(e.classList.contains(rr))return vr;if(e.classList.contains(ar))return br;if(e.classList.contains(sr))return yr;const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains(nr)?t?mr:pr:t?gr:fr}_detectNavbar(){return null!==this._element.closest(dr)}_getOffset(){const{offset:e}=this._config;return"string"===typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"===typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(Y.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),i(i({},e),E(this._config.popperConfig,[void 0,e]))}_selectMenuItem(e){let{key:t,target:n}=e;const i=Q.find(hr,this._menu).filter(e=>p(e));i.length&&C(i,n,t===qi,!i.includes(n)).focus()}static jQueryInterface(e){return this.each(function(){const t=Er.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}})}static clearMenus(e){if(e.button===Yi||"keyup"===e.type&&e.key!==Wi)return;const t=Q.find(lr);for(const n of t){const t=Er.getInstance(n);if(!t||!1===t._config.autoClose)continue;const i=e.composedPath(),r=i.includes(t._menu);if(i.includes(t._element)||"inside"===t._config.autoClose&&!r||"outside"===t._config.autoClose&&r)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&e.key===Wi||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const a={relatedTarget:t._element};"click"===e.type&&(a.clickEvent=e),t._completeHide(a)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n=e.key===Hi,i=[Gi,qi].includes(e.key);if(!i&&!n)return;if(t&&!n)return;e.preventDefault();const r=this.matches(or)?this:Q.prev(this,or)[0]||Q.next(this,or)[0]||Q.findOne(or,e.delegateTarget.parentNode),a=Er.getOrCreateInstance(r);if(i)return e.stopPropagation(),a.show(),void a._selectMenuItem(e);a._isShown()&&(e.stopPropagation(),a.hide(),r.focus())}}H.on(document,$i,or,Er.dataApiKeydownHandler),H.on(document,$i,cr,Er.dataApiKeydownHandler),H.on(document,Qi,Er.clearMenus),H.on(document,er,Er.clearMenus),H.on(document,Qi,or,function(e){e.preventDefault(),Er.getOrCreateInstance(this).toggle()}),w(Er);const Sr="backdrop",Cr="fade",Tr="show",Nr="mousedown.bs.".concat(Sr),Ar={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},kr={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Rr extends X{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Ar}static get DefaultType(){return kr}static get NAME(){return Sr}show(e){if(!this._config.isVisible)return void E(e);this._append();const t=this._getElement();this._config.isAnimated&&_(t),t.classList.add(Tr),this._emulateAnimation(()=>{E(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove(Tr),this._emulateAnimation(()=>{this.dispose(),E(e)})):E(e)}dispose(){this._isAppended&&(H.off(this._element,Nr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Cr),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=h(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),H.on(e,Nr,()=>{E(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){S(e,this._getElement(),this._config.isAnimated)}}const Ir="focustrap",Or=".".concat("bs.focustrap"),jr="focusin".concat(Or),Pr="keydown.tab".concat(Or),Dr="Tab",Lr="forward",Mr="backward",Ur={autofocus:!0,trapElement:null},Fr={autofocus:"boolean",trapElement:"element"};class Br extends X{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ur}static get DefaultType(){return Fr}static get NAME(){return Ir}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),H.off(document,Or),H.on(document,jr,e=>this._handleFocusin(e)),H.on(document,Pr,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,H.off(document,Or))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=Q.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===Mr?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===Dr&&(this._lastTabNavDirection=e.shiftKey?Mr:Lr)}}const Vr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",zr=".sticky-top",Hr="padding-right",Wr="margin-right";class Gr{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Hr,t=>t+e),this._setElementAttributes(Vr,Hr,t=>t+e),this._setElementAttributes(zr,Wr,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Hr),this._resetElementAttributes(Vr,Hr),this._resetElementAttributes(zr,Wr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const i=this.getWidth(),r=e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+i)return;this._saveInitialAttribute(e,t);const r=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,"".concat(n(Number.parseFloat(r)),"px"))};this._applyManipulationCallback(e,r)}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&Y.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){const n=e=>{const n=Y.getDataAttribute(e,t);null!==n?(Y.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,t){if(u(e))t(e);else for(const n of Q.find(e,this._element))t(n)}}const qr="modal",Yr=".".concat("bs.modal"),Xr=".data-api",Kr="Escape",Jr="hide".concat(Yr),Zr="hidePrevented".concat(Yr),Qr="hidden".concat(Yr),$r="show".concat(Yr),ea="shown".concat(Yr),ta="resize".concat(Yr),na="click.dismiss".concat(Yr),ia="mousedown.dismiss".concat(Yr),ra="keydown.dismiss".concat(Yr),aa="click".concat(Yr).concat(Xr),sa="modal-open",oa="fade",la="show",ca="modal-static",da=".modal.show",ua=".modal-dialog",ha=".modal-body",pa='[data-bs-toggle="modal"]',ma={backdrop:!0,focus:!0,keyboard:!0},fa={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ga extends J{constructor(e,t){super(e,t),this._dialog=Q.findOne(ua,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Gr,this._addEventListeners()}static get Default(){return ma}static get DefaultType(){return fa}static get NAME(){return qr}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||H.trigger(this._element,$r,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(sa),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){this._isShown&&!this._isTransitioning&&(H.trigger(this._element,Jr).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(la),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){H.off(window,Yr),H.off(this._dialog,Yr),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Rr({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Br({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Q.findOne(ha,this._dialog);t&&(t.scrollTop=0),_(this._element),this._element.classList.add(la);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,H.trigger(this._element,ea,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){H.on(this._element,ra,e=>{e.key===Kr&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),H.on(window,ta,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),H.on(this._element,ia,e=>{H.one(this._element,na,t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(sa),this._resetAdjustments(),this._scrollBar.reset(),H.trigger(this._element,Qr)})}_isAnimated(){return this._element.classList.contains(oa)}_triggerBackdropTransition(){if(H.trigger(this._element,Zr).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(ca)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(ca),this._queueCallback(()=>{this._element.classList.remove(ca),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const e=x()?"paddingLeft":"paddingRight";this._element.style[e]="".concat(t,"px")}if(!n&&e){const e=x()?"paddingRight":"paddingLeft";this._element.style[e]="".concat(t,"px")}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const n=ga.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof n[e])throw new TypeError('No method named "'.concat(e,'"'));n[e](t)}})}}H.on(document,aa,pa,function(e){const t=Q.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),H.one(t,$r,e=>{e.defaultPrevented||H.one(t,Qr,()=>{p(this)&&this.focus()})});const n=Q.findOne(da);n&&ga.getInstance(n).hide(),ga.getOrCreateInstance(t).toggle(this)}),$(ga),w(ga);const _a="offcanvas",va=".".concat("bs.offcanvas"),ba=".data-api",ya="load".concat(va).concat(ba),xa="Escape",wa="show",Ea="showing",Sa="hiding",Ca="offcanvas-backdrop",Ta=".offcanvas.show",Na="show".concat(va),Aa="shown".concat(va),ka="hide".concat(va),Ra="hidePrevented".concat(va),Ia="hidden".concat(va),Oa="resize".concat(va),ja="click".concat(va).concat(ba),Pa="keydown.dismiss".concat(va),Da='[data-bs-toggle="offcanvas"]',La={backdrop:!0,keyboard:!0,scroll:!1},Ma={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ua extends J{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return La}static get DefaultType(){return Ma}static get NAME(){return _a}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown)return;if(H.trigger(this._element,Na,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Gr).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ea);const t=()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(wa),this._element.classList.remove(Ea),H.trigger(this._element,Aa,{relatedTarget:e})};this._queueCallback(t,this._element,!0)}hide(){if(!this._isShown)return;if(H.trigger(this._element,ka).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Sa),this._backdrop.hide();const e=()=>{this._element.classList.remove(wa,Sa),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Gr).reset(),H.trigger(this._element,Ia)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{"static"!==this._config.backdrop?this.hide():H.trigger(this._element,Ra)},t=Boolean(this._config.backdrop);return new Rr({className:Ca,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new Br({trapElement:this._element})}_addEventListeners(){H.on(this._element,Pa,e=>{e.key===xa&&(this._config.keyboard?this.hide():H.trigger(this._element,Ra))})}static jQueryInterface(e){return this.each(function(){const t=Ua.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}})}}H.on(document,ja,Da,function(e){const t=Q.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),m(this))return;H.one(t,Ia,()=>{p(this)&&this.focus()});const n=Q.findOne(Ta);n&&n!==t&&Ua.getInstance(n).hide(),Ua.getOrCreateInstance(t).toggle(this)}),H.on(window,ya,()=>{for(const e of Q.find(Ta))Ua.getOrCreateInstance(e).show()}),H.on(window,Oa,()=>{for(const e of Q.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Ua.getOrCreateInstance(e).hide()}),$(Ua),w(Ua);const Fa={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Ba=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Va=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,za=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?!Ba.has(n)||Boolean(Va.test(e.nodeValue)):t.filter(e=>e instanceof RegExp).some(e=>e.test(n))};function Ha(e,t,n){if(!e.length)return e;if(n&&"function"===typeof n)return n(e);const i=(new window.DOMParser).parseFromString(e,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const a of r){const e=a.nodeName.toLowerCase();if(!Object.keys(t).includes(e)){a.remove();continue}const n=[].concat(...a.attributes),i=[].concat(t["*"]||[],t[e]||[]);for(const t of n)za(t,i)||a.removeAttribute(t.nodeName)}return i.body.innerHTML}const Wa="TemplateFactory",Ga={allowList:Fa,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},qa={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Ya={entry:"(string|element|function|null)",selector:"(string|element)"};class Xa extends X{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Ga}static get DefaultType(){return qa}static get NAME(){return Wa}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content=i(i({},this._config.content),e),this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(e,r,i);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},Ya)}_setContent(e,t,n){const i=Q.findOne(n,e);i&&((t=this._resolvePossibleFunction(t))?u(t)?this._putElementInTemplate(h(t),i):this._config.html?i.innerHTML=this._maybeSanitize(t):i.textContent=t:i.remove())}_maybeSanitize(e){return this._config.sanitize?Ha(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return E(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Ka="tooltip",Ja=new Set(["sanitize","allowList","sanitizeFn"]),Za="fade",Qa="show",$a=".tooltip-inner",es=".".concat("modal"),ts="hide.bs.modal",ns="hover",is="focus",rs="click",as="manual",ss="hide",os="hidden",ls="show",cs="shown",ds="inserted",us="click",hs="focusin",ps="focusout",ms="mouseenter",fs="mouseleave",gs={AUTO:"auto",TOP:"top",RIGHT:x()?"left":"right",BOTTOM:"bottom",LEFT:x()?"right":"left"},_s={allowList:Fa,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},vs={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class bs extends J{constructor(e,t){if("undefined"===typeof Fi)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return _s}static get DefaultType(){return vs}static get NAME(){return Ka}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),H.off(this._element.closest(es),ts,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=H.trigger(this._element,this.constructor.eventName(ls)),t=(f(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:i}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(i.append(n),H.trigger(this._element,this.constructor.eventName(ds))),this._popper=this._createPopper(n),n.classList.add(Qa),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))H.on(a,"mouseover",g);const r=()=>{H.trigger(this._element,this.constructor.eventName(cs)),!1===this._isHovered&&this._leave(),this._isHovered=!1};this._queueCallback(r,this.tip,this._isAnimated())}hide(){if(!this._isShown())return;if(H.trigger(this._element,this.constructor.eventName(ss)).defaultPrevented)return;if(this._getTipElement().classList.remove(Qa),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))H.off(t,"mouseover",g);this._activeTrigger[rs]=!1,this._activeTrigger[is]=!1,this._activeTrigger[ns]=!1,this._isHovered=null;const e=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),H.trigger(this._element,this.constructor.eventName(os)))};this._queueCallback(e,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Za,Qa),t.classList.add("bs-".concat(this.constructor.NAME,"-auto"));const n=l(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(Za),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Xa(i(i({},this._config),{},{content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)})),this._templateFactory}_getContentForTemplate(){return{[$a]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Za)}_isShown(){return this.tip&&this.tip.classList.contains(Qa)}_createPopper(e){const t=E(this._config.placement,[this,e,this._element]),n=gs[t.toUpperCase()];return Ui(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return"string"===typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"===typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return E(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return i(i({},t),E(this._config.popperConfig,[void 0,t]))}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)H.on(this._element,this.constructor.eventName(us),this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger[rs]=!(t._isShown()&&t._activeTrigger[rs]),t.toggle()});else if(t!==as){const e=t===ns?this.constructor.eventName(ms):this.constructor.eventName(hs),n=t===ns?this.constructor.eventName(fs):this.constructor.eventName(ps);H.on(this._element,e,this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?is:ns]=!0,t._enter()}),H.on(this._element,n,this._config.selector,e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?is:ns]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},H.on(this._element.closest(es),ts,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=Y.getDataAttributes(this._element);for(const n of Object.keys(t))Ja.has(n)&&delete t[n];return e=i(i({},t),"object"===typeof e&&e?e:{}),e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:h(e.container),"number"===typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"===typeof e.title&&(e.title=e.title.toString()),"number"===typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=bs.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}})}}w(bs);const ys="popover",xs=".popover-header",ws=".popover-body",Es=i(i({},bs.Default),{},{content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"}),Ss=i(i({},bs.DefaultType),{},{content:"(null|string|element|function)"});class Cs extends bs{static get Default(){return Es}static get DefaultType(){return Ss}static get NAME(){return ys}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[xs]:this._getTitle(),[ws]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=Cs.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}})}}w(Cs);const Ts="scrollspy",Ns=".".concat("bs.scrollspy"),As=".data-api",ks="activate".concat(Ns),Rs="click".concat(Ns),Is="load".concat(Ns).concat(As),Os="dropdown-item",js="active",Ps='[data-bs-spy="scroll"]',Ds="[href]",Ls=".nav, .list-group",Ms=".nav-link",Us=".nav-item",Fs=".list-group-item",Bs="".concat(Ms,", ").concat(Us," > ").concat(Ms,", ").concat(Fs),Vs=".dropdown",zs=".dropdown-toggle",Hs={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Ws={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Gs extends J{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Hs}static get DefaultType(){return Ws}static get NAME(){return Ts}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=h(e.target)||document.body,e.rootMargin=e.offset?"".concat(e.offset,"px 0px -30%"):e.rootMargin,"string"===typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(H.off(this._config.target,Rs),H.on(this._config.target,Rs,Ds,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:i,behavior:"smooth"});n.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),e)}_observerCallback(e){const t=e=>this._targetLinks.get("#".concat(e.target.id)),n=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(a));continue}const e=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&e){if(n(a),!i)return}else r||e||n(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Q.find(Ds,this._config.target);for(const t of e){if(!t.hash||m(t))continue;const e=Q.findOne(decodeURI(t.hash),this._element);p(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(js),this._activateParents(e),H.trigger(this._element,ks,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Os))Q.findOne(zs,e.closest(Vs)).classList.add(js);else for(const t of Q.parents(e,Ls))for(const e of Q.prev(t,Bs))e.classList.add(js)}_clearActiveClass(e){e.classList.remove(js);const t=Q.find("".concat(Ds,".").concat(js),e);for(const n of t)n.classList.remove(js)}static jQueryInterface(e){return this.each(function(){const t=Gs.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e]()}})}}H.on(window,Is,()=>{for(const e of Q.find(Ps))Gs.getOrCreateInstance(e)}),w(Gs);const qs="tab",Ys=".".concat("bs.tab"),Xs="hide".concat(Ys),Ks="hidden".concat(Ys),Js="show".concat(Ys),Zs="shown".concat(Ys),Qs="click".concat(Ys),$s="keydown".concat(Ys),eo="load".concat(Ys),to="ArrowLeft",no="ArrowRight",io="ArrowUp",ro="ArrowDown",ao="Home",so="End",oo="active",lo="fade",co="show",uo="dropdown",ho=".dropdown-toggle",po=".dropdown-menu",mo=":not(".concat(ho,")"),fo='.list-group, .nav, [role="tablist"]',go=".nav-item, .list-group-item",_o=".nav-link".concat(mo,", .list-group-item").concat(mo,', [role="tab"]').concat(mo),vo='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',bo="".concat(_o,", ").concat(vo),yo=".".concat(oo,'[data-bs-toggle="tab"], .').concat(oo,'[data-bs-toggle="pill"], .').concat(oo,'[data-bs-toggle="list"]');class xo extends J{constructor(e){super(e),this._parent=this._element.closest(fo),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),H.on(this._element,$s,e=>this._keydown(e)))}static get NAME(){return qs}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?H.trigger(t,Xs,{relatedTarget:e}):null;H.trigger(e,Js,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(oo),this._activate(Q.getElementFromSelector(e));const n=()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),H.trigger(e,Zs,{relatedTarget:t})):e.classList.add(co)};this._queueCallback(n,e,e.classList.contains(lo))}_deactivate(e,t){if(!e)return;e.classList.remove(oo),e.blur(),this._deactivate(Q.getElementFromSelector(e));const n=()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),H.trigger(e,Ks,{relatedTarget:t})):e.classList.remove(co)};this._queueCallback(n,e,e.classList.contains(lo))}_keydown(e){if(![to,no,io,ro,ao,so].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(e=>!m(e));let n;if([ao,so].includes(e.key))n=t[e.key===ao?0:t.length-1];else{const i=[no,ro].includes(e.key);n=C(t,e.target,i,!0)}n&&(n.focus({preventScroll:!0}),xo.getOrCreateInstance(n).show())}_getChildren(){return Q.find(bo,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Q.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby","".concat(e.id)))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains(uo))return;const i=(e,i)=>{const r=Q.findOne(e,n);r&&r.classList.toggle(i,t)};i(ho,oo),i(po,co),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(oo)}_getInnerElement(e){return e.matches(bo)?e:Q.findOne(bo,e)}_getOuterElement(e){return e.closest(go)||e}static jQueryInterface(e){return this.each(function(){const t=xo.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e]()}})}}H.on(document,Qs,vo,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),m(this)||xo.getOrCreateInstance(this).show()}),H.on(window,eo,()=>{for(const e of Q.find(yo))xo.getOrCreateInstance(e)}),w(xo);const wo="toast",Eo=".".concat("bs.toast"),So="mouseover".concat(Eo),Co="mouseout".concat(Eo),To="focusin".concat(Eo),No="focusout".concat(Eo),Ao="hide".concat(Eo),ko="hidden".concat(Eo),Ro="show".concat(Eo),Io="shown".concat(Eo),Oo="fade",jo="hide",Po="show",Do="showing",Lo={animation:"boolean",autohide:"boolean",delay:"number"},Mo={animation:!0,autohide:!0,delay:5e3};class Uo extends J{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Mo}static get DefaultType(){return Lo}static get NAME(){return wo}show(){if(H.trigger(this._element,Ro).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Oo);const e=()=>{this._element.classList.remove(Do),H.trigger(this._element,Io),this._maybeScheduleHide()};this._element.classList.remove(jo),_(this._element),this._element.classList.add(Po,Do),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown())return;if(H.trigger(this._element,Ao).defaultPrevented)return;const e=()=>{this._element.classList.add(jo),this._element.classList.remove(Do,Po),H.trigger(this._element,ko)};this._element.classList.add(Do),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Po),super.dispose()}isShown(){return this._element.classList.contains(Po)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){H.on(this._element,So,e=>this._onInteraction(e,!0)),H.on(this._element,Co,e=>this._onInteraction(e,!1)),H.on(this._element,To,e=>this._onInteraction(e,!0)),H.on(this._element,No,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=Uo.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}})}}return $(Uo),w(Uo),{Alert:se,Button:pe,Carousel:ct,Collapse:Rt,Dropdown:Er,Modal:ga,Offcanvas:Ua,Popover:Cs,ScrollSpy:Gs,Tab:xo,Toast:Uo,Tooltip:bs}}()},4008:(e,t,n)=>{var i=n(7449),r=n(3366);e.exports=function(e,t){return i(e,t,function(t,n){return r(e,n)})}},4020:e=>{e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}},4048:(e,t,n)=>{var i=n(8468),r=n(6571),a=n(620),s=n(9140),o=n(6727),l=Math.max;e.exports=function(e,t,n,c){e=r(e)?e:o(e),n=n&&!c?s(n):0;var d=e.length;return n<0&&(n=l(d+n,0)),a(e)?n<=d&&e.indexOf(t,n)>-1:!!d&&i(e,t,n)>-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var i=n(8259),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=i(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,i,r){t.push(i?r.replace(a,"$1"):n||e)}),t});e.exports=s},4159:e=>{var t="__lodash_placeholder__";e.exports=function(e,n){for(var i=-1,r=e.length,a=0,s=[];++i<r;){var o=e[i];o!==n&&o!==t||(e[i]=t,s[a++]=i)}return s}},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}},4190:(e,t,n)=>{var i=n(1340);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=_.prototype;var y=b.prototype=new v;y.constructor=b,f(y,_.prototype),y.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,i){var r,a={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)w.call(t,r)&&!S.hasOwnProperty(r)&&(a[r]=t[r]);var l=arguments.length-2;if(1===l)a.children=i;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===a[r]&&(a[r]=l[r]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function k(e,t,r,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return s=s(l=e),e=""===a?"."+A(l,0):a,x(s)?(r="",null!=e&&(r=e.replace(N,"$&/")+"/"),k(s,t,r,"",function(e){return e})):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(N,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",x(e))for(var c=0;c<e.length;c++){var d=a+A(o=e[c],c);l+=k(o,t,r,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=k(o=o.value,t,r,d=a+A(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var i=[],r=0;return k(e,i,"","",function(e){return t.call(n,e,r++)}),i}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},j={transition:null},P={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:j,ReactCurrentOwner:E};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=_,t.Fragment=r,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=D,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!S.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},4222:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null;if(!e||"string"!==typeof e)return n;var i=(0,r.default)(e),a="function"===typeof t;return i.forEach(function(e){if("declaration"===e.type){var i=e.property,r=e.value;a?t(i,r,e):r&&((n=n||{})[i]=r)}}),n};var r=i(n(4403))},4258:(e,t,n)=>{var i=n(5906)();e.exports=i},4262:(e,t,n)=>{var i=n(8895),r=n(4052);e.exports=function(e,t,n){var a=t(e);return r(e)?a:i(a,n(e))}},4273:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n,h=(e=(0,i.escapeSpecialCharacters)(e)).match(o),p=h&&h[1]?h[1].toLowerCase():"";switch(p){case r:var m=u(e);if(!l.test(e))null===(t=null===(_=m.querySelector(a))||void 0===_?void 0:_.parentNode)||void 0===t||t.removeChild(_);if(!c.test(e))null===(n=null===(_=m.querySelector(s))||void 0===_?void 0:_.parentNode)||void 0===n||n.removeChild(_);return m.querySelectorAll(r);case a:case s:var g=d(e).querySelectorAll(p);return c.test(e)&&l.test(e)?g[0].parentNode.childNodes:g;default:return f?f(e):(_=d(e,s).querySelector(s)).childNodes;var _}};var i=n(1454),r="html",a="head",s="body",o=/<([a-zA-Z]+[0-9]?)/,l=/<head[^]*>/i,c=/<body[^]*>/i,d=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},u=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},h="object"===typeof window&&window.DOMParser;if("function"===typeof h){var p=new h;d=u=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),p.parseFromString(e,"text/html")}}if("object"===typeof document&&document.implementation){var m=document.implementation.createHTMLDocument();d=function(e,t){if(t){var n=m.documentElement.querySelector(t);return n&&(n.innerHTML=e),m}return m.documentElement.innerHTML=e,m}}var f,g="object"===typeof document&&document.createElement("template");g&&g.content&&(f=function(e){return g.innerHTML=e,g.content.childNodes})},4353:(e,t,n)=>{e=n.nmd(e);var i=n(6552),r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,s=a&&a.exports===r?i.Buffer:void 0,o=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=o?o(n):new e.constructor(n);return e.copy(i),i}},4373:e=>{e.exports=function(e){var t=Object(e),n=[];for(var i in t)n.unshift(i);return function e(){for(;n.length;)if((i=n.pop())in t)return e.value=i,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},4390:(e,t,n)=>{var i=n(6365),r=n(6578)(i);e.exports=r},4391:(e,t,n)=>{"use strict";var i=n(7950);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},4403:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,i=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,l=/^\s+|\s+$/g,c="";function d(e){return e?e.replace(l,c):c}e.exports=function(e,l){if("string"!==typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var u=1,h=1;function p(e){var t=e.match(n);t&&(u+=t.length);var i=e.lastIndexOf("\n");h=~i?e.length-i:h+e.length}function m(){var e={line:u,column:h};return function(t){return t.position=new f(e),b(),t}}function f(e){this.start=e,this.end={line:u,column:h},this.source=l.source}f.prototype.content=e;var g=[];function _(t){var n=new Error(l.source+":"+u+":"+h+": "+t);if(n.reason=t,n.filename=l.source,n.line=u,n.column=h,n.source=e,!l.silent)throw n;g.push(n)}function v(t){var n=t.exec(e);if(n){var i=n[0];return p(i),e=e.slice(i.length),n}}function b(){v(i)}function y(e){var t;for(e=e||[];t=x();)!1!==t&&e.push(t);return e}function x(){var t=m();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;c!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,c===e.charAt(n-1))return _("End of comment missing");var i=e.slice(2,n-2);return h+=2,p(i),e=e.slice(n),h+=2,t({type:"comment",comment:i})}}function w(){var e=m(),n=v(r);if(n){if(x(),!v(a))return _("property missing ':'");var i=v(s),l=e({type:"declaration",property:d(n[0].replace(t,c)),value:i?d(i[0].replace(t,c)):c});return v(o),l}}return b(),function(){var e,t=[];for(y(t);e=w();)!1!==e&&(t.push(e),y(t));return t}()}},4404:(e,t,n)=>{"use strict";var i=n(9509),r={},a={};function s(e){r[e.name.toLowerCase()]=e.code,a[e.code.toLowerCase()]=e.name}i.forEach(s),t.overwrite=function(e){e&&e.length&&e.forEach(function(e){var t=i.findIndex(function(t){return t.code===e.code});i[t]=e,s(e)})},t.getCode=function(e){return r[e.toLowerCase()]},t.getName=function(e){return a[e.toLowerCase()]},t.getNames=function(){return i.map(function(e){return e.name})},t.getCodes=function(){return i.map(function(e){return e.code})},t.getCodeList=function(){return a},t.getNameList=function(){return r},t.getData=function(){return i}},4430:(e,t,n)=>{var i=n(6196);function r(e,t,n){var a=i(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return a.placeholder=r.placeholder,a}r.placeholder={},e.exports=r},4495:(e,t,n)=>{var i=n(966),r=n(6552);e.exports=function(e,t,n){var a=1&t,s=i(e);return function t(){return(this&&this!==r&&this instanceof t?s:e).apply(a?n:this,arguments)}}},4543:(e,t,n)=>{e=n.nmd(e);var i=n(6552),r=n(14),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,o=s&&s.exports===a?i.Buffer:void 0,l=(o?o.isBuffer:void 0)||r;e.exports=l},4545:(e,t,n)=>{var i=n(7160);e.exports=function(){this.__data__=new i,this.size=0}},4552:(e,t,n)=>{var i=n(9812),r=Object.prototype,a=r.hasOwnProperty,s=r.toString,o=i?i.toStringTag:void 0;e.exports=function(e){var t=a.call(e,o),n=e[o];try{e[o]=void 0;var i=!0}catch(l){}var r=s.call(e);return i&&(t?e[o]=n:delete e[o]),r}},4570:(e,t,n)=>{var i=n(5647),r=n(929);e.exports=function(e){return i(function(t,n){var i=-1,a=n.length,s=a>1?n[a-1]:void 0,o=a>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(a--,s):void 0,o&&r(n[0],n[1],o)&&(s=a<3?void 0:s,a=1),t=Object(t);++i<a;){var l=n[i];l&&e(t,l,i,s)}return t})}},4575:e=>{"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,i=/^\d+$/,r=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s=/^\s*(['"]?)(.*?)(\1)\s*$/,o=new t(512),l=new t(512),c=new t(512);function d(e){return o.get(e)||o.set(e,u(e).map(function(e){return e.replace(s,"$2")}))}function u(e){return e.match(n)||[""]}function h(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function p(e){return!h(e)&&(function(e){return e.match(r)&&!e.match(i)}(e)||function(e){return a.test(e)}(e))}e.exports={Cache:t,split:u,normalizePath:d,setter:function(e){var t=d(e);return l.get(e)||l.set(e,function(e,n){for(var i=0,r=t.length,a=e;i<r-1;){var s=t[i];if("__proto__"===s||"constructor"===s||"prototype"===s)return e;a=a[t[i++]]}a[t[i]]=n})},getter:function(e,t){var n=d(e);return c.get(e)||c.set(e,function(e){for(var i=0,r=n.length;i<r;){if(null==e&&t)return;e=e[n[i++]]}return e})},join:function(e){return e.reduce(function(e,t){return e+(h(t)||i.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(e,t,n){!function(e,t,n){var i,r,a,s,o=e.length;for(r=0;r<o;r++)(i=e[r])&&(p(i)&&(i='"'+i+'"'),a=!(s=h(i))&&/^\d+$/.test(i),t.call(n,i,s,a,r,e))}(Array.isArray(e)?e:u(e),t,n)}}},4633:(e,t,n)=>{var i=n(5172),r=n(6993),a=n(5869),s=n(887),o=n(1791),l=n(4373),c=n(2960);function d(){"use strict";var t=r(),n=t.m(d),u=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function h(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))}var p={throw:1,return:2,break:3,continue:3};function m(e){var t,n;return function(i){t||(t={stop:function(){return n(i.a,2)},catch:function(){return i.v},abrupt:function(e,t){return n(i.a,p[e],t)},delegateYield:function(e,r,a){return t.resultName=r,n(i.d,c(e),a)},finish:function(e){return n(i.f,e)}},n=function(e,n,r){i.p=t.prev,i.n=t.next;try{return e(n,r)}finally{t.next=i.n}}),t.resultName&&(t[t.resultName]=i.v,t.resultName=void 0),t.sent=i.v,t.next=i.n;try{return e.call(this,t)}finally{i.p=t.prev,i.n=t.next}}}return(e.exports=d=function(){return{wrap:function(e,n,i,r){return t.w(m(e),n,i,r&&r.reverse())},isGeneratorFunction:h,mark:t.m,awrap:function(e,t){return new i(e,t)},AsyncIterator:o,async:function(e,t,n,i,r){return(h(t)?s:a)(m(e),t,n,i,r)},keys:l,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=d,e.exports.__esModule=!0,e.exports.default=e.exports},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var i=n(4258),r=n(8673);e.exports=function(e,t){return e&&i(e,t,r)}},4710:e=>{e.exports=function(e,t,n,i){for(var r=-1,a=null==e?0:e.length;++r<a;){var s=e[r];t(i,s,n(s),e)}return i}},4736:e=>{e.exports=function(e){return e.placeholder}},4756:(e,t,n)=>{var i=n(4633)();e.exports=i;try{regeneratorRuntime=i}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},4789:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){void 0===n&&(n={});for(var i=[],r="function"===typeof n.replace,c=n.transform||s.returnFirstArg,d=n.library||o,u=d.cloneElement,h=d.createElement,p=d.isValidElement,m=t.length,f=0;f<m;f++){var g=t[f];if(r){var _=n.replace(g,f);if(p(_)){m>1&&(_=u(_,{key:_.key||f})),i.push(c(_,g,f));continue}}if("text"!==g.type){var v=g,b={};l(v)?((0,s.setStyleProp)(v.attribs.style,v.attribs),b=v.attribs):v.attribs&&(b=(0,a.default)(v.attribs,v.name));var y=void 0;switch(g.type){case"script":case"style":g.children[0]&&(b.dangerouslySetInnerHTML={__html:g.children[0].data});break;case"tag":"textarea"===g.name&&g.children[0]?b.defaultValue=g.children[0].data:g.children&&g.children.length&&(y=e(g.children,n));break;default:continue}m>1&&(b.key=f),i.push(c(h(g.name,b,y),g,f))}else{var x=!g.data.trim().length;if(x&&g.parent&&!(0,s.canTextBeChildOfNode)(g.parent))continue;if(n.trim&&x)continue;i.push(c(g.data,g,f))}}return 1===i.length?i[0]:i};var r=n(5043),a=i(n(6876)),s=n(8625),o={cloneElement:r.cloneElement,createElement:r.createElement,isValidElement:r.isValidElement};function l(e){return s.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&(0,s.isCustomComponent)(e.name,e.attribs)}},4816:(e,t,n)=>{var i=n(7251),r=n(7159),a=n(438),s=n(9394),o=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=s,l.prototype.set=o,e.exports=l},4933:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={}},4971:(e,t,n)=>{var i=n(3086),r=n(1069),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=r(e))&&e.replace(a,i).replace(s,"")}},5029:(e,t,n)=>{var i=n(6989),r=n(3097),a=n(3366),s=n(2597),o=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return s(e)&&o(t)?l(c(e),t):function(n){var s=r(n,e);return void 0===s&&s===t?a(n,e):i(t,s,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5082:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,f=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,y=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case u:case a:case o:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case f:case l:return e;default:return t}}case r:return t}}}function w(e){return x(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=g,t.Memo=f,t.Portal=r,t.Profiler=o,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||x(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===f},t.isPortal=function(e){return x(e)===r},t.isProfiler=function(e){return x(e)===o},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===u||e===o||e===s||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===f||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===v||e.$$typeof===b||e.$$typeof===y||e.$$typeof===_)},t.typeOf=x},5111:(e,t,n)=>{var i=n(3279);e.exports=function(e){return"function"==typeof e?e:i}},5119:(e,t,n)=>{var i=n(6614),r=n(474);e.exports=function(e,t){return e&&i(t,r(t),e)}},5172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var i=n(6913),r=n(2761);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},5204:(e,t,n)=>{var i=n(7937)(n(6552),"Map");e.exports=i},5295:(e,t,n)=>{var i=n(8189),r=n(6311),a=n(9115),s=n(1069);e.exports=function(e){return function(t){t=s(t);var n=r(t)?a(t):void 0,o=n?n[0]:t.charAt(0),l=n?i(n,1).join(""):t.slice(1);return o[e]()+l}}},5324:(e,t,n)=>{var i=n(4052),r=n(2597),a=n(4079),s=n(1069);e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:a(s(e))}},5387:(e,t,n)=>{var i=n(7937)(n(6552),"Promise");e.exports=i},5428:(e,t,n)=>{var i=n(6913),r=n(6173),a=n(2761),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&r(e.length)&&!!s[i(e)]}},5491:(e,t,n)=>{var i=n(726),r=n(5652),a=n(5111),s=n(4052);e.exports=function(e,t){return(s(e)?i:r)(e,a(t))}},5538:(e,t,n)=>{var i=n(7160),r=n(4545),a=n(793),s=n(7760),o=n(3892),l=n(6788);function c(e){var t=this.__data__=new i(e);this.size=t.size}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=s,c.prototype.has=o,c.prototype.set=l,e.exports=c},5546:e=>{function t(n,i,r,a){var s=Object.defineProperty;try{s({},"",{})}catch(n){s=0}e.exports=t=function(e,n,i,r){function a(n,i){t(e,n,function(e){return this._invoke(n,i,e)})}n?s?s(e,n,{value:i,enumerable:!r,configurable:!r,writable:!r}):e[n]=i:(a("next",0),a("throw",1),a("return",2))},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i,r,a)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5575:(e,t,n)=>{var i=n(7937)(Object,"create");e.exports=i},5636:(e,t,n)=>{var i=n(1170),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var a=arguments,s=-1,o=r(a.length-t,0),l=Array(o);++s<o;)l[s]=a[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=a[s];return c[t]=n(l),i(e,this,c)}}},5647:(e,t,n)=>{var i=n(3279),r=n(5636),a=n(6350);e.exports=function(e,t){return a(r(e,t,i),e+"")}},5652:(e,t,n)=>{var i=n(4664),r=n(6516)(i);e.exports=r},5654:(e,t,n)=>{var i=n(7937),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=r},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var i=n(9395),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,o){var l=1&n,c=i(e),d=c.length;if(d!=i(t).length&&!l)return!1;for(var u=d;u--;){var h=c[u];if(!(l?h in t:r.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var f=!0;o.set(e,t),o.set(t,e);for(var g=l;++u<d;){var _=e[h=c[u]],v=t[h];if(a)var b=l?a(v,_,h,t,e,o):a(_,v,h,e,t,o);if(!(void 0===b?_===v||s(_,v,n,a,o):b)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var y=e.constructor,x=t.constructor;y==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x||(f=!1)}return o.delete(e),o.delete(t),f}},5791:(e,t,n)=>{var i=n(6924),r=n(2761);e.exports=function(e){return r(e)&&"[object Map]"==i(e)}},5797:(e,t,n)=>{var i=n(4816);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var s=e.apply(this,i);return n.cache=a.set(r,s)||a,s};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},5816:e=>{e.exports=function(e,t,n,i){for(var r=e.length,a=n+(i?1:-1);i?a--:++a<r;)if(t(e[a],a,e))return a;return-1}},5857:(e,t,n)=>{var i=n(819),r=n(5636),a=n(6350);e.exports=function(e){return a(r(e,void 0,i),e+"")}},5866:(e,t,n)=>{var i=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}},5869:(e,t,n)=>{var i=n(887);e.exports=function(e,t,n,r,a){var s=i(e,t,n,r,a);return s.next().then(function(e){return e.done?e.value:s.next()})},e.exports.__esModule=!0,e.exports.default=e.exports},5906:e=>{e.exports=function(e){return function(t,n,i){for(var r=-1,a=Object(t),s=i(t),o=s.length;o--;){var l=s[e?o:++r];if(!1===n(a[l],l,a))break}return t}}},5921:(e,t,n)=>{var i=n(449),r=n(7574),a=n(6832),s=a&&a.isSet,o=s?r(s):i;e.exports=o},5967:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},5990:(e,t,n)=>{var i=n(3028)(Object.getPrototypeOf,Object);e.exports=i},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6178:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function i(){return t.apply(null,arguments)}function r(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(o(e,t))return!1;return!0}function c(e){return void 0===e}function d(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,i=[],r=e.length;for(n=0;n<r;++n)i.push(t(e[n],n));return i}function p(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t,n,i){return Xn(e,t,n,i,!0).utc()}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=f()),e._pf}function _(e){var t=null,i=!1,r=e._d&&!isNaN(e._d.getTime());return r&&(t=g(e),i=n.call(t.parsedDateParts,function(e){return null!=e}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i),e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?r:(e._isValid=r,e._isValid)}function v(e){var t=m(NaN);return null!=e?p(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),i=n.length>>>0;for(t=0;t<i;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var b=i.momentProperties=[],y=!1;function x(e,t){var n,i,r,a=b.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=g(t)),c(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)c(r=t[i=b[n]])||(e[i]=r);return e}function w(e){x(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,i.updateOffset(this),y=!1)}function E(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function S(e){!1===i.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,t){var n=!0;return p(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){var r,a,s,l=[],c=arguments.length;for(a=0;a<c;a++){if(r="","object"===typeof arguments[a]){for(s in r+="\n["+a+"] ",arguments[0])o(arguments[0],s)&&(r+=s+": "+arguments[0][s]+", ");r=r.slice(0,-2)}else r=arguments[a];l.push(r)}S(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var T,N={};function A(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),N[e]||(S(t),N[e]=!0)}function k(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function R(e){var t,n;for(n in e)o(e,n)&&(k(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function I(e,t){var n,i=p({},e);for(n in t)o(t,n)&&(s(e[n])&&s(t[n])?(i[n]={},p(i[n],e[n]),p(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)o(e,n)&&!o(t,n)&&s(e[n])&&(i[n]=p({},i[n]));return i}function O(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)o(e,t)&&n.push(t);return n};var j={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function P(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return k(i)?i.call(t,n):i}function D(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,M=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},F={};function B(e,t,n,i){var r=i;"string"===typeof i&&(r=function(){return this[i]()}),e&&(F[e]=r),t&&(F[t[0]]=function(){return D(r.apply(this,arguments),t[1],t[2])}),n&&(F[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function V(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,i=e.match(L);for(t=0,n=i.length;t<n;t++)F[i[t]]?i[t]=F[i[t]]:i[t]=V(i[t]);return function(t){var r,a="";for(r=0;r<n;r++)a+=k(i[r])?i[r].call(t,e):i[r];return a}}function H(e,t){return e.isValid()?(t=W(t,e.localeData()),U[t]=U[t]||z(t),U[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(M.lastIndex=0;n>=0&&M.test(e);)e=e.replace(M,i),M.lastIndex=0,n-=1;return e}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function q(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])}var Y="Invalid date";function X(){return this._invalidDate}var K="%d",J=/\d{1,2}/;function Z(e){return this._ordinal.replace("%d",e)}var Q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function $(e,t,n,i){var r=this._relativeTime[n];return k(r)?r(e,t,n,i):r.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return k(n)?n(t):n.replace(/%s/i,t)}var te={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ne(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,i={};for(n in e)o(e,n)&&(t=ne(n))&&(i[t]=e[n]);return i}var re={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ae(e){var t,n=[];for(t in e)o(e,t)&&n.push({unit:t,priority:re[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}var se,oe=/\d/,le=/\d\d/,ce=/\d{3}/,de=/\d{4}/,ue=/[+-]?\d{6}/,he=/\d\d?/,pe=/\d\d\d\d?/,me=/\d\d\d\d\d\d?/,fe=/\d{1,3}/,ge=/\d{1,4}/,_e=/[+-]?\d{1,6}/,ve=/\d+/,be=/[+-]?\d+/,ye=/Z|[+-]\d\d:?\d\d/gi,xe=/Z|[+-]\d\d(?::?\d\d)?/gi,we=/[+-]?\d+(\.\d{1,3})?/,Ee=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Se=/^[1-9]\d?/,Ce=/^([1-9]\d|\d)/;function Te(e,t,n){se[e]=k(t)?t:function(e,i){return e&&n?n:t}}function Ne(e,t){return o(se,e)?se[e](t._strict,t._locale):new RegExp(Ae(e))}function Ae(e){return ke(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}))}function ke(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Re(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ie(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Re(t)),n}se={};var Oe={};function je(e,t){var n,i,r=t;for("string"===typeof e&&(e=[e]),d(t)&&(r=function(e,n){n[t]=Ie(e)}),i=e.length,n=0;n<i;n++)Oe[e[n]]=r}function Pe(e,t){je(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function De(e,t,n){null!=t&&o(Oe,e)&&Oe[e](t,n._a,n,e)}function Le(e){return e%4===0&&e%100!==0||e%400===0}var Me=0,Ue=1,Fe=2,Be=3,Ve=4,ze=5,He=6,We=7,Ge=8;function qe(e){return Le(e)?366:365}B("Y",0,0,function(){var e=this.year();return e<=9999?D(e,4):"+"+e}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),Te("Y",be),Te("YY",he,le),Te("YYYY",ge,de),Te("YYYYY",_e,ue),Te("YYYYYY",_e,ue),je(["YYYYY","YYYYYY"],Me),je("YYYY",function(e,t){t[Me]=2===e.length?i.parseTwoDigitYear(e):Ie(e)}),je("YY",function(e,t){t[Me]=i.parseTwoDigitYear(e)}),je("Y",function(e,t){t[Me]=parseInt(e,10)}),i.parseTwoDigitYear=function(e){return Ie(e)+(Ie(e)>68?1900:2e3)};var Ye,Xe=Je("FullYear",!0);function Ke(){return Le(this.year())}function Je(e,t){return function(n){return null!=n?(Qe(this,e,n),i.updateOffset(this,t),this):Ze(this,e)}}function Ze(e,t){if(!e.isValid())return NaN;var n=e._d,i=e._isUTC;switch(t){case"Milliseconds":return i?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return i?n.getUTCSeconds():n.getSeconds();case"Minutes":return i?n.getUTCMinutes():n.getMinutes();case"Hours":return i?n.getUTCHours():n.getHours();case"Date":return i?n.getUTCDate():n.getDate();case"Day":return i?n.getUTCDay():n.getDay();case"Month":return i?n.getUTCMonth():n.getMonth();case"FullYear":return i?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Qe(e,t,n){var i,r,a,s,o;if(e.isValid()&&!isNaN(n)){switch(i=e._d,r=e._isUTC,t){case"Milliseconds":return void(r?i.setUTCMilliseconds(n):i.setMilliseconds(n));case"Seconds":return void(r?i.setUTCSeconds(n):i.setSeconds(n));case"Minutes":return void(r?i.setUTCMinutes(n):i.setMinutes(n));case"Hours":return void(r?i.setUTCHours(n):i.setHours(n));case"Date":return void(r?i.setUTCDate(n):i.setDate(n));case"FullYear":break;default:return}a=n,s=e.month(),o=29!==(o=e.date())||1!==s||Le(a)?o:28,r?i.setUTCFullYear(a,s,o):i.setFullYear(a,s,o)}}function $e(e){return k(this[e=ne(e)])?this[e]():this}function et(e,t){if("object"===typeof e){var n,i=ae(e=ie(e)),r=i.length;for(n=0;n<r;n++)this[i[n].unit](e[i[n].unit])}else if(k(this[e=ne(e)]))return this[e](t);return this}function tt(e,t){return(e%t+t)%t}function nt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=tt(t,12);return e+=(t-n)/12,1===n?Le(e)?29:28:31-n%7%2}Ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),B("MMMM",0,0,function(e){return this.localeData().months(this,e)}),Te("M",he,Se),Te("MM",he,le),Te("MMM",function(e,t){return t.monthsShortRegex(e)}),Te("MMMM",function(e,t){return t.monthsRegex(e)}),je(["M","MM"],function(e,t){t[Ue]=Ie(e)-1}),je(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[Ue]=r:g(n).invalidMonth=e});var it="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),at=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,st=Ee,ot=Ee;function lt(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||at).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ct(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[at.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function dt(e,t,n){var i,r,a,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=m([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=Ye.call(this._shortMonthsParse,s))?r:null:-1!==(r=Ye.call(this._longMonthsParse,s))?r:null:"MMM"===t?-1!==(r=Ye.call(this._shortMonthsParse,s))||-1!==(r=Ye.call(this._longMonthsParse,s))?r:null:-1!==(r=Ye.call(this._longMonthsParse,s))||-1!==(r=Ye.call(this._shortMonthsParse,s))?r:null}function ut(e,t,n){var i,r,a;if(this._monthsParseExact)return dt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=m([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function ht(e,t){if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=Ie(t);else if(!d(t=e.localeData().monthsParse(t)))return e;var n=t,i=e.date();return i=i<29?i:Math.min(i,nt(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,i):e._d.setMonth(n,i),e}function pt(e){return null!=e?(ht(this,e),i.updateOffset(this,!0),this):Ze(this,"Month")}function mt(){return nt(this.year(),this.month())}function ft(e){return this._monthsParseExact?(o(this,"_monthsRegex")||_t.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=st),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function gt(e){return this._monthsParseExact?(o(this,"_monthsRegex")||_t.call(this),e?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=ot),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function _t(){function e(e,t){return t.length-e.length}var t,n,i,r,a=[],s=[],o=[];for(t=0;t<12;t++)n=m([2e3,t]),i=ke(this.monthsShort(n,"")),r=ke(this.months(n,"")),a.push(i),s.push(r),o.push(r),o.push(i);a.sort(e),s.sort(e),o.sort(e),this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function vt(e,t,n,i,r,a,s){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,i,r,a,s),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,i,r,a,s),o}function bt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function yt(e,t,n){var i=7+t-n;return-(7+bt(e,0,i).getUTCDay()-t)%7+i-1}function xt(e,t,n,i,r){var a,s,o=1+7*(t-1)+(7+n-i)%7+yt(e,i,r);return o<=0?s=qe(a=e-1)+o:o>qe(e)?(a=e+1,s=o-qe(e)):(a=e,s=o),{year:a,dayOfYear:s}}function wt(e,t,n){var i,r,a=yt(e.year(),t,n),s=Math.floor((e.dayOfYear()-a-1)/7)+1;return s<1?i=s+Et(r=e.year()-1,t,n):s>Et(e.year(),t,n)?(i=s-Et(e.year(),t,n),r=e.year()+1):(r=e.year(),i=s),{week:i,year:r}}function Et(e,t,n){var i=yt(e,t,n),r=yt(e+1,t,n);return(qe(e)-i+r)/7}function St(e){return wt(e,this._week.dow,this._week.doy).week}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),Te("w",he,Se),Te("ww",he,le),Te("W",he,Se),Te("WW",he,le),Pe(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=Ie(e)});var Ct={dow:0,doy:6};function Tt(){return this._week.dow}function Nt(){return this._week.doy}function At(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function kt(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Rt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function It(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ot(e,t){return e.slice(t,7).concat(e.slice(0,t))}B("d",0,"do","day"),B("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),B("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),B("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),Te("d",he),Te("e",he),Te("E",he),Te("dd",function(e,t){return t.weekdaysMinRegex(e)}),Te("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Te("dddd",function(e,t){return t.weekdaysRegex(e)}),Pe(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:g(n).invalidWeekday=e}),Pe(["d","e","E"],function(e,t,n,i){t[i]=Ie(e)});var jt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=Ee,Mt=Ee,Ut=Ee;function Ft(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ot(n,this._week.dow):e?n[e.day()]:n}function Bt(e){return!0===e?Ot(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Vt(e){return!0===e?Ot(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function zt(e,t,n){var i,r,a,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=m([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=Ye.call(this._weekdaysParse,s))?r:null:"ddd"===t?-1!==(r=Ye.call(this._shortWeekdaysParse,s))?r:null:-1!==(r=Ye.call(this._minWeekdaysParse,s))?r:null:"dddd"===t?-1!==(r=Ye.call(this._weekdaysParse,s))||-1!==(r=Ye.call(this._shortWeekdaysParse,s))||-1!==(r=Ye.call(this._minWeekdaysParse,s))?r:null:"ddd"===t?-1!==(r=Ye.call(this._shortWeekdaysParse,s))||-1!==(r=Ye.call(this._weekdaysParse,s))||-1!==(r=Ye.call(this._minWeekdaysParse,s))?r:null:-1!==(r=Ye.call(this._minWeekdaysParse,s))||-1!==(r=Ye.call(this._weekdaysParse,s))||-1!==(r=Ye.call(this._shortWeekdaysParse,s))?r:null}function Ht(e,t,n){var i,r,a;if(this._weekdaysParseExact)return zt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=m([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=Ze(this,"Day");return null!=e?(e=Rt(e,this.localeData()),this.add(e-t,"d")):t}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function qt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=It(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Xt(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Mt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Kt(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||Jt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ut),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Jt(){function e(e,t){return t.length-e.length}var t,n,i,r,a,s=[],o=[],l=[],c=[];for(t=0;t<7;t++)n=m([2e3,1]).day(t),i=ke(this.weekdaysMin(n,"")),r=ke(this.weekdaysShort(n,"")),a=ke(this.weekdays(n,"")),s.push(i),o.push(r),l.push(a),c.push(i),c.push(r),c.push(a);s.sort(e),o.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Zt(){return this.hours()%12||12}function Qt(){return this.hours()||24}function $t(e,t){B(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Zt),B("k",["kk",2],0,Qt),B("hmm",0,0,function(){return""+Zt.apply(this)+D(this.minutes(),2)}),B("hmmss",0,0,function(){return""+Zt.apply(this)+D(this.minutes(),2)+D(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+D(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+D(this.minutes(),2)+D(this.seconds(),2)}),$t("a",!0),$t("A",!1),Te("a",en),Te("A",en),Te("H",he,Ce),Te("h",he,Se),Te("k",he,Se),Te("HH",he,le),Te("hh",he,le),Te("kk",he,le),Te("hmm",pe),Te("hmmss",me),Te("Hmm",pe),Te("Hmmss",me),je(["H","HH"],Be),je(["k","kk"],function(e,t,n){var i=Ie(e);t[Be]=24===i?0:i}),je(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),je(["h","hh"],function(e,t,n){t[Be]=Ie(e),g(n).bigHour=!0}),je("hmm",function(e,t,n){var i=e.length-2;t[Be]=Ie(e.substr(0,i)),t[Ve]=Ie(e.substr(i)),g(n).bigHour=!0}),je("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Be]=Ie(e.substr(0,i)),t[Ve]=Ie(e.substr(i,2)),t[ze]=Ie(e.substr(r)),g(n).bigHour=!0}),je("Hmm",function(e,t,n){var i=e.length-2;t[Be]=Ie(e.substr(0,i)),t[Ve]=Ie(e.substr(i))}),je("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Be]=Ie(e.substr(0,i)),t[Ve]=Ie(e.substr(i,2)),t[ze]=Ie(e.substr(r))});var nn=/[ap]\.?m?\.?/i,rn=Je("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var sn,on={calendar:j,longDateFormat:G,invalidDate:Y,ordinal:K,dayOfMonthOrdinalParse:J,relativeTime:Q,months:it,monthsShort:rt,week:Ct,weekdays:jt,weekdaysMin:Dt,weekdaysShort:Pt,meridiemParse:nn},ln={},cn={};function dn(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}function un(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,i,r,a=0;a<e.length;){for(t=(r=un(e[a]).split("-")).length,n=(n=un(e[a+1]))?n.split("-"):null;t>0;){if(i=mn(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&dn(r,n)>=t-1)break;t--}a++}return sn}function pn(e){return!(!e||!e.match("^[^/\\\\]*$"))}function mn(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&pn(t))try{n=sn._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),fn(n)}catch(i){ln[t]=null}return ln[t]}function fn(e,t){var n;return e&&((n=c(t)?vn(e):gn(e,t))?sn=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),sn._abbr}function gn(e,t){if(null!==t){var n,i=on;if(t.abbr=e,null!=ln[e])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])i=ln[t.parentLocale]._config;else{if(null==(n=mn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;i=n._config}return ln[e]=new O(I(i,t)),cn[e]&&cn[e].forEach(function(e){gn(e.name,e.config)}),fn(e),ln[e]}return delete ln[e],null}function _n(e,t){if(null!=t){var n,i,r=on;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(I(ln[e]._config,t)):(null!=(i=mn(e))&&(r=i._config),t=I(r,t),null==i&&(t.abbr=e),(n=new O(t)).parentLocale=ln[e],ln[e]=n),fn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===fn()&&fn(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function vn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return sn;if(!a(e)){if(t=mn(e))return t;e=[e]}return hn(e)}function bn(){return T(ln)}function yn(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[Ue]<0||n[Ue]>11?Ue:n[Fe]<1||n[Fe]>nt(n[Me],n[Ue])?Fe:n[Be]<0||n[Be]>24||24===n[Be]&&(0!==n[Ve]||0!==n[ze]||0!==n[He])?Be:n[Ve]<0||n[Ve]>59?Ve:n[ze]<0||n[ze]>59?ze:n[He]<0||n[He]>999?He:-1,g(e)._overflowDayOfYear&&(t<Me||t>Fe)&&(t=Fe),g(e)._overflowWeeks&&-1===t&&(t=We),g(e)._overflowWeekday&&-1===t&&(t=Ge),g(e).overflow=t),e}var xn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Cn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Tn=/^\/?Date\((-?\d+)/i,Nn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,An={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function kn(e){var t,n,i,r,a,s,o=e._i,l=xn.exec(o)||wn.exec(o),c=Sn.length,d=Cn.length;if(l){for(g(e).iso=!0,t=0,n=c;t<n;t++)if(Sn[t][1].exec(l[1])){r=Sn[t][0],i=!1!==Sn[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=d;t<n;t++)if(Cn[t][1].exec(l[3])){a=(l[2]||" ")+Cn[t][0];break}if(null==a)return void(e._isValid=!1)}if(!i&&null!=a)return void(e._isValid=!1);if(l[4]){if(!En.exec(l[4]))return void(e._isValid=!1);s="Z"}e._f=r+(a||"")+(s||""),Vn(e)}else e._isValid=!1}function Rn(e,t,n,i,r,a){var s=[In(e),rt.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return a&&s.push(parseInt(a,10)),s}function In(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function On(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function jn(e,t,n){return!e||Pt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Pn(e,t,n){if(e)return An[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}function Dn(e){var t,n=Nn.exec(On(e._i));if(n){if(t=Rn(n[4],n[3],n[2],n[5],n[6],n[7]),!jn(n[1],t,e))return;e._a=t,e._tzm=Pn(n[8],n[9],n[10]),e._d=bt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=Tn.exec(e._i);null===t?(kn(e),!1===e._isValid&&(delete e._isValid,Dn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:i.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Mn(e,t,n){return null!=e?e:null!=t?t:n}function Un(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Fn(e){var t,n,i,r,a,s=[];if(!e._d){for(i=Un(e),e._w&&null==e._a[Fe]&&null==e._a[Ue]&&Bn(e),null!=e._dayOfYear&&(a=Mn(e._a[Me],i[Me]),(e._dayOfYear>qe(a)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=bt(a,0,e._dayOfYear),e._a[Ue]=n.getUTCMonth(),e._a[Fe]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Be]&&0===e._a[Ve]&&0===e._a[ze]&&0===e._a[He]&&(e._nextDay=!0,e._a[Be]=0),e._d=(e._useUTC?bt:vt).apply(null,s),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Be]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==r&&(g(e).weekdayMismatch=!0)}}function Bn(e){var t,n,i,r,a,s,o,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,s=4,n=Mn(t.GG,e._a[Me],wt(Kn(),1,4).year),i=Mn(t.W,1),((r=Mn(t.E,1))<1||r>7)&&(l=!0)):(a=e._locale._week.dow,s=e._locale._week.doy,c=wt(Kn(),a,s),n=Mn(t.gg,e._a[Me],c.year),i=Mn(t.w,c.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+a,(t.e<0||t.e>6)&&(l=!0)):r=a),i<1||i>Et(n,a,s)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(o=xt(n,i,r,a,s),e._a[Me]=o.year,e._dayOfYear=o.dayOfYear)}function Vn(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],g(e).empty=!0;var t,n,r,a,s,o,l,c=""+e._i,d=c.length,u=0;for(l=(r=W(e._f,e._locale).match(L)||[]).length,t=0;t<l;t++)a=r[t],(n=(c.match(Ne(a,e))||[])[0])&&((s=c.substr(0,c.indexOf(n))).length>0&&g(e).unusedInput.push(s),c=c.slice(c.indexOf(n)+n.length),u+=n.length),F[a]?(n?g(e).empty=!1:g(e).unusedTokens.push(a),De(a,n,e)):e._strict&&!n&&g(e).unusedTokens.push(a);g(e).charsLeftOver=d-u,c.length>0&&g(e).unusedInput.push(c),e._a[Be]<=12&&!0===g(e).bigHour&&e._a[Be]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[Be]=zn(e._locale,e._a[Be],e._meridiem),null!==(o=g(e).era)&&(e._a[Me]=e._locale.erasConvertYear(o,e._a[Me])),Fn(e),yn(e)}else Dn(e);else kn(e)}function zn(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function Hn(e){var t,n,i,r,a,s,o=!1,l=e._f.length;if(0===l)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<l;r++)a=0,s=!1,t=x({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Vn(t),_(t)&&(s=!0),a+=g(t).charsLeftOver,a+=10*g(t).unusedTokens.length,g(t).score=a,o?a<i&&(i=a,n=t):(null==i||a<i||s)&&(i=a,n=t,s&&(o=!0));p(e,n||t)}function Wn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Fn(e)}}function Gn(e){var t=new w(yn(qn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function qn(e){var t=e._i,n=e._f;return e._locale=e._locale||vn(e._l),null===t||void 0===n&&""===t?v({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),E(t)?new w(yn(t)):(u(t)?e._d=t:a(n)?Hn(e):n?Vn(e):Yn(e),_(e)||(e._d=null),e))}function Yn(e){var t=e._i;c(t)?e._d=new Date(i.now()):u(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ln(e):a(t)?(e._a=h(t.slice(0),function(e){return parseInt(e,10)}),Fn(e)):s(t)?Wn(e):d(t)?e._d=new Date(t):i.createFromInputFallback(e)}function Xn(e,t,n,i,r){var o={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(s(e)&&l(e)||a(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=e,o._f=t,o._strict=i,Gn(o)}function Kn(e,t,n,i){return Xn(e,t,n,i,!1)}i.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var Jn=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()}),Zn=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()});function Qn(e,t){var n,i;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Kn();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}function $n(){return Qn("isBefore",[].slice.call(arguments,0))}function ei(){return Qn("isAfter",[].slice.call(arguments,0))}var ti=function(){return Date.now?Date.now():+new Date},ni=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ii(e){var t,n,i=!1,r=ni.length;for(t in e)if(o(e,t)&&(-1===Ye.call(ni,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<r;++n)if(e[ni[n]]){if(i)return!1;parseFloat(e[ni[n]])!==Ie(e[ni[n]])&&(i=!0)}return!0}function ri(){return this._isValid}function ai(){return Ai(NaN)}function si(e){var t=ie(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||t.isoWeek||0,s=t.day||0,o=t.hour||0,l=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=ii(t),this._milliseconds=+d+1e3*c+6e4*l+1e3*o*60*60,this._days=+s+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=vn(),this._bubble()}function oi(e){return e instanceof si}function li(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ci(e,t,n){var i,r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),s=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&Ie(e[i])!==Ie(t[i]))&&s++;return s+a}function di(e,t){B(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+D(~~(e/60),2)+t+D(~~e%60,2)})}di("Z",":"),di("ZZ",""),Te("Z",xe),Te("ZZ",xe),je(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=hi(xe,e)});var ui=/([\+\-]|\d\d)/gi;function hi(e,t){var n,i,r=(t||"").match(e);return null===r?null:0===(i=60*(n=((r[r.length-1]||[])+"").match(ui)||["-",0,0])[1]+Ie(n[2]))?0:"+"===n[0]?i:-i}function pi(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(E(e)||u(e)?e.valueOf():Kn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Kn(e).local()}function mi(e){return-Math.round(e._d.getTimezoneOffset())}function fi(e,t,n){var r,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hi(xe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=mi(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?ji(this,Ai(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:mi(this)}function gi(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function _i(e){return this.utcOffset(0,e)}function vi(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(mi(this),"m")),this}function bi(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hi(ye,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function yi(e){return!!this.isValid()&&(e=e?Kn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function xi(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wi(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return x(t,this),(t=qn(t))._a?(e=t._isUTC?m(t._a):Kn(t._a),this._isDSTShifted=this.isValid()&&ci(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Ei(){return!!this.isValid()&&!this._isUTC}function Si(){return!!this.isValid()&&this._isUTC}function Ci(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Ti=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ni=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ai(e,t){var n,i,r,a=e,s=null;return oi(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:d(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(s=Ti.exec(e))?(n="-"===s[1]?-1:1,a={y:0,d:Ie(s[Fe])*n,h:Ie(s[Be])*n,m:Ie(s[Ve])*n,s:Ie(s[ze])*n,ms:Ie(li(1e3*s[He]))*n}):(s=Ni.exec(e))?(n="-"===s[1]?-1:1,a={y:ki(s[2],n),M:ki(s[3],n),w:ki(s[4],n),d:ki(s[5],n),h:ki(s[6],n),m:ki(s[7],n),s:ki(s[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(r=Ii(Kn(a.from),Kn(a.to)),(a={}).ms=r.milliseconds,a.M=r.months),i=new si(a),oi(e)&&o(e,"_locale")&&(i._locale=e._locale),oi(e)&&o(e,"_isValid")&&(i._isValid=e._isValid),i}function ki(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ri(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ii(e,t){var n;return e.isValid()&&t.isValid()?(t=pi(t,e),e.isBefore(t)?n=Ri(e,t):((n=Ri(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Oi(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(A(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),ji(this,Ai(n,i),e),this}}function ji(e,t,n,r){var a=t._milliseconds,s=li(t._days),o=li(t._months);e.isValid()&&(r=null==r||r,o&&ht(e,Ze(e,"Month")+o*n),s&&Qe(e,"Date",Ze(e,"Date")+s*n),a&&e._d.setTime(e._d.valueOf()+a*n),r&&i.updateOffset(e,s||o))}Ai.fn=si.prototype,Ai.invalid=ai;var Pi=Oi(1,"add"),Di=Oi(-1,"subtract");function Li(e){return"string"===typeof e||e instanceof String}function Mi(e){return E(e)||u(e)||Li(e)||d(e)||Fi(e)||Ui(e)||null===e||void 0===e}function Ui(e){var t,n,i=s(e)&&!l(e),r=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=a.length;for(t=0;t<c;t+=1)n=a[t],r=r||o(e,n);return i&&r}function Fi(e){var t=a(e),n=!1;return t&&(n=0===e.filter(function(t){return!d(t)&&Li(e)}).length),t&&n}function Bi(e){var t,n,i=s(e)&&!l(e),r=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],r=r||o(e,n);return i&&r}function Vi(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function zi(e,t){1===arguments.length&&(arguments[0]?Mi(arguments[0])?(e=arguments[0],t=void 0):Bi(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Kn(),r=pi(n,this).startOf("day"),a=i.calendarFormat(this,r)||"sameElse",s=t&&(k(t[a])?t[a].call(this,n):t[a]);return this.format(s||this.localeData().calendar(a,this,Kn(n)))}function Hi(){return new w(this)}function Wi(e,t){var n=E(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Gi(e,t){var n=E(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function qi(e,t,n,i){var r=E(e)?e:Kn(e),a=E(t)?t:Kn(t);return!!(this.isValid()&&r.isValid()&&a.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Yi(e,t){var n,i=E(e)?e:Kn(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Xi(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Ki(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Ji(e,t,n){var i,r,a;if(!this.isValid())return NaN;if(!(i=pi(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=ne(t)){case"year":a=Zi(this,i)/12;break;case"month":a=Zi(this,i);break;case"quarter":a=Zi(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-r)/864e5;break;case"week":a=(this-i-r)/6048e5;break;default:a=this-i}return n?a:Re(a)}function Zi(e,t){if(e.date()<t.date())return-Zi(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function Qi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function $i(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):k(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function er(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,i,r="moment",a="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",i=a+'[")]',this.format(e+t+n+i)}function tr(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=H(this,e);return this.localeData().postformat(t)}function nr(e,t){return this.isValid()&&(E(e)&&e.isValid()||Kn(e).isValid())?Ai({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ir(e){return this.from(Kn(),e)}function rr(e,t){return this.isValid()&&(E(e)&&e.isValid()||Kn(e).isValid())?Ai({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ar(e){return this.to(Kn(),e)}function sr(e){var t;return void 0===e?this._locale._abbr:(null!=(t=vn(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var or=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function lr(){return this._locale}var cr=1e3,dr=60*cr,ur=60*dr,hr=3506328*ur;function pr(e,t){return(e%t+t)%t}function mr(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hr:new Date(e,t,n).valueOf()}function fr(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hr:Date.UTC(e,t,n)}function gr(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?fr:mr,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pr(t+(this._isUTC?0:this.utcOffset()*dr),ur);break;case"minute":t=this._d.valueOf(),t-=pr(t,dr);break;case"second":t=this._d.valueOf(),t-=pr(t,cr)}return this._d.setTime(t),i.updateOffset(this,!0),this}function _r(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?fr:mr,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ur-pr(t+(this._isUTC?0:this.utcOffset()*dr),ur)-1;break;case"minute":t=this._d.valueOf(),t+=dr-pr(t,dr)-1;break;case"second":t=this._d.valueOf(),t+=cr-pr(t,cr)-1}return this._d.setTime(t),i.updateOffset(this,!0),this}function vr(){return this._d.valueOf()-6e4*(this._offset||0)}function br(){return Math.floor(this.valueOf()/1e3)}function yr(){return new Date(this.valueOf())}function xr(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wr(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Er(){return this.isValid()?this.toISOString():null}function Sr(){return _(this)}function Cr(){return p({},g(this))}function Tr(){return g(this).overflow}function Nr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ar(e,t){var n,r,a,s=this._eras||vn("en")._eras;for(n=0,r=s.length;n<r;++n)switch("string"===typeof s[n].since&&(a=i(s[n].since).startOf("day"),s[n].since=a.valueOf()),typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":a=i(s[n].until).startOf("day").valueOf(),s[n].until=a.valueOf()}return s}function kr(e,t,n){var i,r,a,s,o,l=this.eras();for(e=e.toUpperCase(),i=0,r=l.length;i<r;++i)if(a=l[i].name.toUpperCase(),s=l[i].abbr.toUpperCase(),o=l[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return l[i];break;case"NNNN":if(a===e)return l[i];break;case"NNNNN":if(o===e)return l[i]}else if([a,s,o].indexOf(e)>=0)return l[i]}function Rr(e,t){var n=e.since<=e.until?1:-1;return void 0===t?i(e.since).year():i(e.since).year()+(t-e.offset)*n}function Ir(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].name;if(i[e].until<=n&&n<=i[e].since)return i[e].name}return""}function Or(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].narrow;if(i[e].until<=n&&n<=i[e].since)return i[e].narrow}return""}function jr(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until)return i[e].abbr;if(i[e].until<=n&&n<=i[e].since)return i[e].abbr}return""}function Pr(){var e,t,n,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until||a[e].until<=r&&r<=a[e].since)return(this.year()-i(a[e].since).year())*n+a[e].offset;return this.year()}function Dr(e){return o(this,"_erasNameRegex")||zr.call(this),e?this._erasNameRegex:this._erasRegex}function Lr(e){return o(this,"_erasAbbrRegex")||zr.call(this),e?this._erasAbbrRegex:this._erasRegex}function Mr(e){return o(this,"_erasNarrowRegex")||zr.call(this),e?this._erasNarrowRegex:this._erasRegex}function Ur(e,t){return t.erasAbbrRegex(e)}function Fr(e,t){return t.erasNameRegex(e)}function Br(e,t){return t.erasNarrowRegex(e)}function Vr(e,t){return t._eraYearOrdinalRegex||ve}function zr(){var e,t,n,i,r,a=[],s=[],o=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)n=ke(c[e].name),i=ke(c[e].abbr),r=ke(c[e].narrow),s.push(n),a.push(i),o.push(r),l.push(n),l.push(i),l.push(r);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+s.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function Hr(e,t){B(0,[e,e.length],0,t)}function Wr(e){return Jr.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Gr(e){return Jr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function qr(){return Et(this.year(),1,4)}function Yr(){return Et(this.isoWeekYear(),1,4)}function Xr(){var e=this.localeData()._week;return Et(this.year(),e.dow,e.doy)}function Kr(){var e=this.localeData()._week;return Et(this.weekYear(),e.dow,e.doy)}function Jr(e,t,n,i,r){var a;return null==e?wt(this,i,r).year:(t>(a=Et(e,i,r))&&(t=a),Zr.call(this,e,t,n,i,r))}function Zr(e,t,n,i,r){var a=xt(e,t,n,i,r),s=bt(a.year,0,a.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Qr(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),Te("N",Ur),Te("NN",Ur),Te("NNN",Ur),Te("NNNN",Fr),Te("NNNNN",Br),je(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?g(n).era=r:g(n).invalidEra=e}),Te("y",ve),Te("yy",ve),Te("yyy",ve),Te("yyyy",ve),Te("yo",Vr),je(["y","yy","yyy","yyyy"],Me),je(["yo"],function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Me]=n._locale.eraYearOrdinalParse(e,r):t[Me]=parseInt(e,10)}),B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Hr("gggg","weekYear"),Hr("ggggg","weekYear"),Hr("GGGG","isoWeekYear"),Hr("GGGGG","isoWeekYear"),Te("G",be),Te("g",be),Te("GG",he,le),Te("gg",he,le),Te("GGGG",ge,de),Te("gggg",ge,de),Te("GGGGG",_e,ue),Te("ggggg",_e,ue),Pe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=Ie(e)}),Pe(["gg","GG"],function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)}),B("Q",0,"Qo","quarter"),Te("Q",oe),je("Q",function(e,t){t[Ue]=3*(Ie(e)-1)}),B("D",["DD",2],"Do","date"),Te("D",he,Se),Te("DD",he,le),Te("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),je(["D","DD"],Fe),je("Do",function(e,t){t[Fe]=Ie(e.match(he)[0])});var $r=Je("Date",!0);function ea(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}B("DDD",["DDDD",3],"DDDo","dayOfYear"),Te("DDD",fe),Te("DDDD",ce),je(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Ie(e)}),B("m",["mm",2],0,"minute"),Te("m",he,Ce),Te("mm",he,le),je(["m","mm"],Ve);var ta=Je("Minutes",!1);B("s",["ss",2],0,"second"),Te("s",he,Ce),Te("ss",he,le),je(["s","ss"],ze);var na,ia,ra=Je("Seconds",!1);for(B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Te("S",fe,oe),Te("SS",fe,le),Te("SSS",fe,ce),na="SSSS";na.length<=9;na+="S")Te(na,ve);function aa(e,t){t[He]=Ie(1e3*("0."+e))}for(na="S";na.length<=9;na+="S")je(na,aa);function sa(){return this._isUTC?"UTC":""}function oa(){return this._isUTC?"Coordinated Universal Time":""}ia=Je("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var la=w.prototype;function ca(e){return Kn(1e3*e)}function da(){return Kn.apply(null,arguments).parseZone()}function ua(e){return e}la.add=Pi,la.calendar=zi,la.clone=Hi,la.diff=Ji,la.endOf=_r,la.format=tr,la.from=nr,la.fromNow=ir,la.to=rr,la.toNow=ar,la.get=$e,la.invalidAt=Tr,la.isAfter=Wi,la.isBefore=Gi,la.isBetween=qi,la.isSame=Yi,la.isSameOrAfter=Xi,la.isSameOrBefore=Ki,la.isValid=Sr,la.lang=or,la.locale=sr,la.localeData=lr,la.max=Zn,la.min=Jn,la.parsingFlags=Cr,la.set=et,la.startOf=gr,la.subtract=Di,la.toArray=xr,la.toObject=wr,la.toDate=yr,la.toISOString=$i,la.inspect=er,"undefined"!==typeof Symbol&&null!=Symbol.for&&(la[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),la.toJSON=Er,la.toString=Qi,la.unix=br,la.valueOf=vr,la.creationData=Nr,la.eraName=Ir,la.eraNarrow=Or,la.eraAbbr=jr,la.eraYear=Pr,la.year=Xe,la.isLeapYear=Ke,la.weekYear=Wr,la.isoWeekYear=Gr,la.quarter=la.quarters=Qr,la.month=pt,la.daysInMonth=mt,la.week=la.weeks=At,la.isoWeek=la.isoWeeks=kt,la.weeksInYear=Xr,la.weeksInWeekYear=Kr,la.isoWeeksInYear=qr,la.isoWeeksInISOWeekYear=Yr,la.date=$r,la.day=la.days=Wt,la.weekday=Gt,la.isoWeekday=qt,la.dayOfYear=ea,la.hour=la.hours=rn,la.minute=la.minutes=ta,la.second=la.seconds=ra,la.millisecond=la.milliseconds=ia,la.utcOffset=fi,la.utc=_i,la.local=vi,la.parseZone=bi,la.hasAlignedHourOffset=yi,la.isDST=xi,la.isLocal=Ei,la.isUtcOffset=Si,la.isUtc=Ci,la.isUTC=Ci,la.zoneAbbr=sa,la.zoneName=oa,la.dates=C("dates accessor is deprecated. Use date instead.",$r),la.months=C("months accessor is deprecated. Use month instead",pt),la.years=C("years accessor is deprecated. Use year instead",Xe),la.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gi),la.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wi);var ha=O.prototype;function pa(e,t,n,i){var r=vn(),a=m().set(i,t);return r[n](a,e)}function ma(e,t,n){if(d(e)&&(t=e,e=void 0),e=e||"",null!=t)return pa(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=pa(e,i,n,"month");return r}function fa(e,t,n,i){"boolean"===typeof e?(d(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,d(t)&&(n=t,t=void 0),t=t||"");var r,a=vn(),s=e?a._week.dow:0,o=[];if(null!=n)return pa(t,(n+s)%7,i,"day");for(r=0;r<7;r++)o[r]=pa(t,(r+s)%7,i,"day");return o}function ga(e,t){return ma(e,t,"months")}function _a(e,t){return ma(e,t,"monthsShort")}function va(e,t,n){return fa(e,t,n,"weekdays")}function ba(e,t,n){return fa(e,t,n,"weekdaysShort")}function ya(e,t,n){return fa(e,t,n,"weekdaysMin")}ha.calendar=P,ha.longDateFormat=q,ha.invalidDate=X,ha.ordinal=Z,ha.preparse=ua,ha.postformat=ua,ha.relativeTime=$,ha.pastFuture=ee,ha.set=R,ha.eras=Ar,ha.erasParse=kr,ha.erasConvertYear=Rr,ha.erasAbbrRegex=Lr,ha.erasNameRegex=Dr,ha.erasNarrowRegex=Mr,ha.months=lt,ha.monthsShort=ct,ha.monthsParse=ut,ha.monthsRegex=gt,ha.monthsShortRegex=ft,ha.week=St,ha.firstDayOfYear=Nt,ha.firstDayOfWeek=Tt,ha.weekdays=Ft,ha.weekdaysMin=Vt,ha.weekdaysShort=Bt,ha.weekdaysParse=Ht,ha.weekdaysRegex=Yt,ha.weekdaysShortRegex=Xt,ha.weekdaysMinRegex=Kt,ha.isPM=tn,ha.meridiem=an,fn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Ie(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=C("moment.lang is deprecated. Use moment.locale instead.",fn),i.langData=C("moment.langData is deprecated. Use moment.localeData instead.",vn);var xa=Math.abs;function wa(){var e=this._data;return this._milliseconds=xa(this._milliseconds),this._days=xa(this._days),this._months=xa(this._months),e.milliseconds=xa(e.milliseconds),e.seconds=xa(e.seconds),e.minutes=xa(e.minutes),e.hours=xa(e.hours),e.months=xa(e.months),e.years=xa(e.years),this}function Ea(e,t,n,i){var r=Ai(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function Sa(e,t){return Ea(this,e,t,1)}function Ca(e,t){return Ea(this,e,t,-1)}function Ta(e){return e<0?Math.floor(e):Math.ceil(e)}function Na(){var e,t,n,i,r,a=this._milliseconds,s=this._days,o=this._months,l=this._data;return a>=0&&s>=0&&o>=0||a<=0&&s<=0&&o<=0||(a+=864e5*Ta(ka(o)+s),s=0,o=0),l.milliseconds=a%1e3,e=Re(a/1e3),l.seconds=e%60,t=Re(e/60),l.minutes=t%60,n=Re(t/60),l.hours=n%24,s+=Re(n/24),o+=r=Re(Aa(s)),s-=Ta(ka(r)),i=Re(o/12),o%=12,l.days=s,l.months=o,l.years=i,this}function Aa(e){return 4800*e/146097}function ka(e){return 146097*e/4800}function Ra(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=ne(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+Aa(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(ka(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function Ia(e){return function(){return this.as(e)}}var Oa=Ia("ms"),ja=Ia("s"),Pa=Ia("m"),Da=Ia("h"),La=Ia("d"),Ma=Ia("w"),Ua=Ia("M"),Fa=Ia("Q"),Ba=Ia("y"),Va=Oa;function za(){return Ai(this)}function Ha(e){return e=ne(e),this.isValid()?this[e+"s"]():NaN}function Wa(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ga=Wa("milliseconds"),qa=Wa("seconds"),Ya=Wa("minutes"),Xa=Wa("hours"),Ka=Wa("days"),Ja=Wa("months"),Za=Wa("years");function Qa(){return Re(this.days()/7)}var $a=Math.round,es={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ts(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function ns(e,t,n,i){var r=Ai(e).abs(),a=$a(r.as("s")),s=$a(r.as("m")),o=$a(r.as("h")),l=$a(r.as("d")),c=$a(r.as("M")),d=$a(r.as("w")),u=$a(r.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||s<=1&&["m"]||s<n.m&&["mm",s]||o<=1&&["h"]||o<n.h&&["hh",o]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(h=h||d<=1&&["w"]||d<n.w&&["ww",d]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=t,h[3]=+e>0,h[4]=i,ts.apply(null,h)}function is(e){return void 0===e?$a:"function"===typeof e&&($a=e,!0)}function rs(e,t){return void 0!==es[e]&&(void 0===t?es[e]:(es[e]=t,"s"===e&&(es.ss=t-1),!0))}function as(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,i,r=!1,a=es;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(r=e),"object"===typeof t&&(a=Object.assign({},es,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),i=ns(this,!r,a,n=this.localeData()),r&&(i=n.pastFuture(+this,i)),n.postformat(i)}var ss=Math.abs;function os(e){return(e>0)-(e<0)||+e}function ls(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,r,a,s,o,l=ss(this._milliseconds)/1e3,c=ss(this._days),d=ss(this._months),u=this.asSeconds();return u?(e=Re(l/60),t=Re(e/60),l%=60,e%=60,n=Re(d/12),d%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=u<0?"-":"",a=os(this._months)!==os(u)?"-":"",s=os(this._days)!==os(u)?"-":"",o=os(this._milliseconds)!==os(u)?"-":"",r+"P"+(n?a+n+"Y":"")+(d?a+d+"M":"")+(c?s+c+"D":"")+(t||e||l?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(l?o+i+"S":"")):"P0D"}var cs=si.prototype;return cs.isValid=ri,cs.abs=wa,cs.add=Sa,cs.subtract=Ca,cs.as=Ra,cs.asMilliseconds=Oa,cs.asSeconds=ja,cs.asMinutes=Pa,cs.asHours=Da,cs.asDays=La,cs.asWeeks=Ma,cs.asMonths=Ua,cs.asQuarters=Fa,cs.asYears=Ba,cs.valueOf=Va,cs._bubble=Na,cs.clone=za,cs.get=Ha,cs.milliseconds=Ga,cs.seconds=qa,cs.minutes=Ya,cs.hours=Xa,cs.days=Ka,cs.weeks=Qa,cs.months=Ja,cs.years=Za,cs.humanize=as,cs.toISOString=ls,cs.toString=ls,cs.toJSON=ls,cs.locale=sr,cs.localeData=lr,cs.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ls),cs.lang=or,B("X",0,0,"unix"),B("x",0,0,"valueOf"),Te("x",be),Te("X",we),je("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),je("x",function(e,t,n){n._d=new Date(Ie(e))}),i.version="2.30.1",r(Kn),i.fn=la,i.min=$n,i.max=ei,i.now=ti,i.utc=m,i.unix=ca,i.months=ga,i.isDate=u,i.locale=fn,i.invalid=v,i.duration=Ai,i.isMoment=E,i.weekdays=va,i.parseZone=da,i.localeData=vn,i.isDuration=oi,i.monthsShort=_a,i.weekdaysMin=ya,i.defineLocale=gn,i.updateLocale=_n,i.locales=bn,i.weekdaysShort=ba,i.normalizeUnits=ne,i.relativeTimeRounding=is,i.relativeTimeThreshold=rs,i.calendarFormat=Vi,i.prototype=la,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6196:(e,t,n)=>{var i=n(6365),r=n(4495),a=n(7425),s=n(7918),o=n(3851),l=n(8218),c=n(8406),d=n(4390),u=n(3846),h=n(9140),p=Math.max;e.exports=function(e,t,n,m,f,g,_,v){var b=2&t;if(!b&&"function"!=typeof e)throw new TypeError("Expected a function");var y=m?m.length:0;if(y||(t&=-97,m=f=void 0),_=void 0===_?_:p(h(_),0),v=void 0===v?v:h(v),y-=f?f.length:0,64&t){var x=m,w=f;m=f=void 0}var E=b?void 0:l(e),S=[e,t,n,m,f,x,w,g,_,v];if(E&&c(S,E),e=S[0],t=S[1],n=S[2],m=S[3],f=S[4],!(v=S[9]=void 0===S[9]?b?0:e.length:p(S[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)C=8==t||16==t?a(e,t,v):32!=t&&33!=t||f.length?s.apply(void 0,S):o(e,t,n,m);else var C=r(e,t,n);return u((E?i:d)(C,S),e,t)}},6219:(e,t,n)=>{var i=n(8468);e.exports=function(e,t){for(var n=-1,r=e.length;++n<r&&i(t,e[n],0)>-1;);return n}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6326:(e,t,n)=>{var i=n(8895),r=n(5990),a=n(9621),s=n(7828),o=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,a(e)),e=r(e);return t}:s;e.exports=o},6350:(e,t,n)=>{var i=n(8325),r=n(6578)(i);e.exports=r},6365:(e,t,n)=>{var i=n(3279),r=n(2867),a=r?function(e,t){return r.set(e,t),e}:i;e.exports=a},6366:e=>{"use strict";var t=Array.isArray,n=Object.keys,i=Object.prototype.hasOwnProperty,r="undefined"!==typeof Element;function a(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){var o,l,c,d=t(e),u=t(s);if(d&&u){if((l=e.length)!=s.length)return!1;for(o=l;0!==o--;)if(!a(e[o],s[o]))return!1;return!0}if(d!=u)return!1;var h=e instanceof Date,p=s instanceof Date;if(h!=p)return!1;if(h&&p)return e.getTime()==s.getTime();var m=e instanceof RegExp,f=s instanceof RegExp;if(m!=f)return!1;if(m&&f)return e.toString()==s.toString();var g=n(e);if((l=g.length)!==n(s).length)return!1;for(o=l;0!==o--;)if(!i.call(s,g[o]))return!1;if(r&&e instanceof Element&&s instanceof Element)return e===s;for(o=l;0!==o--;)if(("_owner"!==(c=g[o])||!e.$$typeof)&&!a(e[c],s[c]))return!1;return!0}return e!==e&&s!==s}e.exports=function(e,t){try{return a(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},6372:(e,t,n)=>{var i=n(8468);e.exports=function(e,t){for(var n=e.length;n--&&i(t,e[n],0)>-1;);return n}},6399:(e,t,n)=>{var i=n(5538),r=n(3668),a=n(9987),s=n(5752),o=n(6924),l=n(4052),c=n(4543),d=n(1268),u="[object Arguments]",h="[object Array]",p="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,f,g,_){var v=l(e),b=l(t),y=v?h:o(e),x=b?h:o(t),w=(y=y==u?p:y)==p,E=(x=x==u?p:x)==p,S=y==x;if(S&&c(e)){if(!c(t))return!1;v=!0,w=!1}if(S&&!w)return _||(_=new i),v||d(e)?r(e,t,n,f,g,_):a(e,t,y,n,f,g,_);if(!(1&n)){var C=w&&m.call(e,"__wrapped__"),T=E&&m.call(t,"__wrapped__");if(C||T){var N=C?e.value():e,A=T?t.value():t;return _||(_=new i),g(N,A,n,f,_)}}return!!S&&(_||(_=new i),s(e,t,n,f,g,_))}},6516:(e,t,n)=>{var i=n(6571);e.exports=function(e,t){return function(n,r){if(null==n)return n;if(!i(n))return e(n,r);for(var a=n.length,s=t?a:-1,o=Object(n);(t?s--:++s<a)&&!1!==r(o[s],s,o););return n}}},6532:(e,t,n)=>{var i=n(5538),r=n(6989);e.exports=function(e,t,n,a){var s=n.length,o=s,l=!a;if(null==e)return!o;for(e=Object(e);s--;){var c=n[s];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<o;){var d=(c=n[s])[0],u=e[d],h=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var p=new i;if(a)var m=a(u,h,d,e,t,p);if(!(void 0===m?r(h,u,3,a,p):m))return!1}}return!0}},6534:e=>{e.exports=function(e,t,n){if("function"!=typeof e)throw new TypeError("Expected a function");return setTimeout(function(){e.apply(void 0,n)},t)}},6552:(e,t,n)=>{var i=n(7105),r="object"==typeof self&&self&&self.Object===Object&&self,a=i||r||Function("return this")();e.exports=a},6571:(e,t,n)=>{var i=n(1629),r=n(6173);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var r=t(),a=16-(r-i);if(i=r,a>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6600:(e,t,n)=>{var i=n(7937)(n(6552),"WeakMap");e.exports=i},6614:(e,t,n)=>{var i=n(8420),r=n(1775);e.exports=function(e,t,n,a){var s=!n;n||(n={});for(var o=-1,l=t.length;++o<l;){var c=t[o],d=a?a(n[c],e[c],c,n,e):void 0;void 0===d&&(d=e[c]),s?r(n,c,d):i(n,c,d)}return n}},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6727:(e,t,n)=>{var i=n(6983),r=n(8673);e.exports=function(e){return null==e?[]:i(e,r(e))}},6761:(e,t,n)=>{var i=n(2322);e.exports=function(e){return i(e)?void 0:e}},6788:(e,t,n)=>{var i=n(7160),r=n(5204),a=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var s=n.__data__;if(!r||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(s)}return n.set(e,t),this.size=n.size,this}},6806:(e,t,n)=>{var i=n(1516);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},6832:(e,t,n)=>{e=n.nmd(e);var i=n(7105),r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,s=a&&a.exports===r&&i.process,o=function(){try{var e=a&&a.require&&a.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=o},6835:e=>{e.exports=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}},6874:(e,t,n)=>{var i=n(2622);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},6876:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){void 0===e&&(e={});var n={},c=Boolean(e.type&&o[e.type]);for(var d in e){var u=e[d];if((0,i.isCustomAttribute)(d))n[d]=u;else{var h=d.toLowerCase(),p=l(h);if(p){var m=(0,i.getPropertyInfo)(p);switch(a.includes(p)&&s.includes(t)&&!c&&(p=l("default"+h)),n[p]=u,m&&m.type){case i.BOOLEAN:n[p]=!0;break;case i.OVERLOADED_BOOLEAN:""===u&&(n[p]=!0)}}else r.PRESERVE_CUSTOM_ATTRIBUTES&&(n[d]=u)}}return(0,r.setStyleProp)(e.style,n),n};var i=n(8692),r=n(8625),a=["checked","value"],s=["input","select","textarea"],o={reset:!0,submit:!0};function l(e){return i.possibleStandardNames[e]}},6882:(e,t,n)=>{var i=n(9421),r=n(4971),a=n(7676),s=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return i(a(r(t).replace(s,"")),e,"")}}},6913:(e,t,n)=>{var i=n(9812),r=n(4552),a=n(6095),s=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?r(e):a(e)}},6924:(e,t,n)=>{var i=n(7685),r=n(5204),a=n(5387),s=n(2070),o=n(6600),l=n(6913),c=n(6996),d="[object Map]",u="[object Promise]",h="[object Set]",p="[object WeakMap]",m="[object DataView]",f=c(i),g=c(r),_=c(a),v=c(s),b=c(o),y=l;(i&&y(new i(new ArrayBuffer(1)))!=m||r&&y(new r)!=d||a&&y(a.resolve())!=u||s&&y(new s)!=h||o&&y(new o)!=p)&&(y=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,i=n?c(n):"";if(i)switch(i){case f:return m;case g:return d;case _:return u;case v:return h;case b:return p}return t}),e.exports=y},6954:(e,t,n)=>{var i=n(1629),r=n(7857),a=n(6686),s=n(6996),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,h=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||r(e))&&(i(e)?h:o).test(s(e))}},6983:(e,t,n)=>{var i=n(149);e.exports=function(e,t){return i(t,function(t){return e[t]})}},6989:(e,t,n)=>{var i=n(6399),r=n(2761);e.exports=function e(t,n,a,s,o){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!==t&&n!==n:i(t,n,a,s,e,o))}},6993:(e,t,n)=>{var i=n(5546);function r(){var t,n,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",o=a.toStringTag||"@@toStringTag";function l(e,r,a,s){var o=r&&r.prototype instanceof d?r:d,l=Object.create(o.prototype);return i(l,"_invoke",function(e,i,r){var a,s,o,l=0,d=r||[],u=!1,h={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return a=e,s=0,o=t,h.n=n,c}};function p(e,i){for(s=e,o=i,n=0;!u&&l&&!r&&n<d.length;n++){var r,a=d[n],p=h.p,m=a[2];e>3?(r=m===i)&&(o=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=t):a[0]<=p&&((r=e<2&&p<a[1])?(s=0,h.v=i,h.n=a[1]):p<m&&(r=e<3||a[0]>i||i>m)&&(a[4]=e,a[5]=i,h.n=m,s=0))}if(r||e>1)return c;throw u=!0,i}return function(r,d,m){if(l>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,m),s=d,o=m;(n=s<2?t:o)||!u;){a||(s?s<3?(s>1&&(h.n=-1),p(s,o)):h.n=o:h.v=o);try{if(l=2,a){if(s||(r="next"),n=a[r]){if(!(n=n.call(a,o)))throw TypeError("iterator result is not an object");if(!n.done)return n;o=n.value,s<2&&(s=0)}else 1===s&&(n=a.return)&&n.call(a),s<2&&(o=TypeError("The iterator does not provide a '"+r+"' method"),s=1);a=t}else if((n=(u=h.n<0)?o:e.call(i,h))!==c)break}catch(n){a=t,s=1,o=n}finally{l=1}}return{value:n,done:u}}}(e,a,s),!0),l}var c={};function d(){}function u(){}function h(){}n=Object.getPrototypeOf;var p=[][s]?n(n([][s]())):(i(n={},s,function(){return this}),n),m=h.prototype=d.prototype=Object.create(p);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,i(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e}return u.prototype=h,i(m,"constructor",h),i(h,"constructor",u),u.displayName="GeneratorFunction",i(h,o,"GeneratorFunction"),i(m),i(m,o,"Generator"),i(m,s,function(){return this}),i(m,"toString",function(){return"[object Generator]"}),(e.exports=r=function(){return{w:l,m:f}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7105:(e,t,n)=>{var i="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=i},7116:(e,t,n)=>{var i=n(9812),r=n(2777),a=n(4052),s=i?i.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||r(e)||!!(s&&e&&e[s])}},7132:(e,t,n)=>{var i=n(5538),r=n(726),a=n(8420),s=n(1104),o=n(5119),l=n(4353),c=n(1980),d=n(8124),u=n(9075),h=n(9395),p=n(8592),m=n(6924),f=n(8268),g=n(8630),_=n(310),v=n(4052),b=n(4543),y=n(7887),x=n(6686),w=n(5921),E=n(8673),S=n(474),C="[object Arguments]",T="[object Function]",N="[object Object]",A={};A[C]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[N]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[T]=A["[object WeakMap]"]=!1,e.exports=function e(t,n,k,R,I,O){var j,P=1&n,D=2&n,L=4&n;if(k&&(j=I?k(t,R,I,O):k(t)),void 0!==j)return j;if(!x(t))return t;var M=v(t);if(M){if(j=f(t),!P)return c(t,j)}else{var U=m(t),F=U==T||"[object GeneratorFunction]"==U;if(b(t))return l(t,P);if(U==N||U==C||F&&!I){if(j=D||F?{}:_(t),!P)return D?u(t,o(j,t)):d(t,s(j,t))}else{if(!A[U])return I?t:{};j=g(t,U,P)}}O||(O=new i);var B=O.get(t);if(B)return B;O.set(t,j),w(t)?t.forEach(function(i){j.add(e(i,n,k,i,t,O))}):y(t)&&t.forEach(function(i,r){j.set(r,e(i,n,k,r,t,O))});var V=M?void 0:(L?D?p:h:D?S:E)(t);return r(V||t,function(i,r){V&&(i=t[r=i]),a(j,r,e(i,n,k,r,t,O))}),j}},7159:(e,t,n)=>{var i=n(2622);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var i=n(7563),r=n(9935),a=n(4190),s=n(1946),o=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=s,l.prototype.set=o,e.exports=l},7193:(e,t,n)=>{var i=n(1980),r=n(9194),a=Math.min;e.exports=function(e,t){for(var n=e.length,s=a(t.length,n),o=i(e);s--;){var l=t[s];e[s]=r(l,n)?o[l]:void 0}return e}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<a(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,s=r>>>1;i<s;){var o=2*(i+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,n))c<r&&0>a(d,l)?(e[i]=d,e[c]=n,i=c):(e[i]=l,e[o]=n,i=o);else{if(!(c<r&&0>a(d,n)))break e;e[i]=d,e[c]=n,i=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,p=3,m=!1,f=!1,g=!1,_="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=i(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=i(d)}}function x(e){if(g=!1,y(e),!f)if(null!==i(c))f=!0,j(w);else{var t=i(d);null!==t&&P(x,t.startTime-e)}}function w(e,n){f=!1,g&&(g=!1,v(T),T=-1),m=!0;var a=p;try{for(y(n),h=i(c);null!==h&&(!(h.expirationTime>n)||e&&!k());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var o=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===i(c)&&r(c),y(n)}else r(c);h=i(c)}if(null!==h)var l=!0;else{var u=i(d);null!==u&&P(x,u.startTime-n),l=!1}return l}finally{h=null,p=a,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,C=null,T=-1,N=5,A=-1;function k(){return!(t.unstable_now()-A<N)}function R(){if(null!==C){var e=t.unstable_now();A=e;var n=!0;try{n=C(!0,e)}finally{n?E():(S=!1,C=null)}}else S=!1}if("function"===typeof b)E=function(){b(R)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,O=I.port2;I.port1.onmessage=R,E=function(){O.postMessage(null)}}else E=function(){_(R,0)};function j(e){C=e,S||(S=!0,E())}function P(e,n){T=_(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,j(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(d,e),null===i(c)&&e===i(d)&&(g?(v(T),T=-1):g=!0,P(x,a-s))):(e.sortIndex=o,n(c,e),f||m||(f=!0,j(w))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7237:(e,t,n)=>{"use strict";e.exports=n(8365)},7251:(e,t,n)=>{var i=n(8724),r=n(7160),a=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(a||r),string:new i}}},7273:(e,t,n)=>{var i=n(149),r=n(9096),a=n(7449),s=n(8592);e.exports=function(e,t){if(null==e)return{};var n=i(s(e),function(e){return[e]});return t=r(t),a(e,n,function(e,n){return t(e,n[0])})}},7294:function(e,t,n){"use strict";var i=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(4222)),r=n(8146);function a(e,t){var n={};return e&&"string"===typeof e?((0,i.default)(e,function(e,i){e&&i&&(n[(0,r.camelCase)(e,t)]=i)}),n):n}a.default=a,e.exports=a},7303:(e,t,n)=>{var i=n(801),r=1/0;e.exports=function(e){return e?(e=i(e))===r||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7425:(e,t,n)=>{var i=n(1170),r=n(966),a=n(7918),s=n(8762),o=n(4736),l=n(4159),c=n(6552);e.exports=function(e,t,n){var d=r(e);return function r(){for(var u=arguments.length,h=Array(u),p=u,m=o(r);p--;)h[p]=arguments[p];var f=u<3&&h[0]!==m&&h[u-1]!==m?[]:l(h,m);return(u-=f.length)<n?s(e,t,a,r.placeholder,void 0,h,f,void 0,void 0,n-u):i(this&&this!==c&&this instanceof r?d:e,this,h)}}},7449:(e,t,n)=>{var i=n(2969),r=n(9261),a=n(5324);e.exports=function(e,t,n){for(var s=-1,o=t.length,l={};++s<o;){var c=t[s],d=i(e,c);n(d,c)&&r(l,a(c,e),d)}return l}},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var s=e[n];t(s,n,e)&&(a[r++]=s)}return a}},7530:e=>{e.exports={}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var i=n(5575);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},7676:(e,t,n)=>{var i=n(9648),r=n(5967),a=n(1069),s=n(1540);e.exports=function(e,t,n){return e=a(e),void 0===(t=n?void 0:t)?r(e)?s(e):i(e):e.match(t)||[]}},7685:(e,t,n)=>{var i=n(7937)(n(6552),"DataView");e.exports=i},7736:(e,t,n)=>{var i=n(3738).default,r=n(9045);e.exports=function(e){var t=r(e,"string");return"symbol"==i(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7823:(e,t,n)=>{var i=n(726),r=n(5866),a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return i(a,function(n){var i="_."+n[0];t&n[1]&&!r(e,i)&&e.push(i)}),e.sort()}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var i=n(3440),r=function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!r&&r in e}},7887:(e,t,n)=>{var i=n(5791),r=n(7574),a=n(6832),s=a&&a.isMap,o=s?r(s):i;e.exports=o},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7918:(e,t,n)=>{var i=n(2823),r=n(1093),a=n(1830),s=n(966),o=n(8762),l=n(4736),c=n(7193),d=n(4159),u=n(6552);e.exports=function e(t,n,h,p,m,f,g,_,v,b){var y=128&n,x=1&n,w=2&n,E=24&n,S=512&n,C=w?void 0:s(t);return function T(){for(var N=arguments.length,A=Array(N),k=N;k--;)A[k]=arguments[k];if(E)var R=l(T),I=a(A,R);if(p&&(A=i(A,p,m,E)),f&&(A=r(A,f,g,E)),N-=I,E&&N<b){var O=d(A,R);return o(t,n,e,T.placeholder,h,A,O,_,v,b-N)}var j=x?h:this,P=w?j[t]:t;return N=A.length,_?A=c(A,_):S&&N>1&&A.reverse(),y&&v<N&&(A.length=v),this&&this!==u&&this instanceof T&&(P=C||s(P)),P.apply(j,A)}}},7937:(e,t,n)=>{var i=n(6954),r=n(4657);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8122:(e,t,n)=>{var i=n(6686),r=n(6140),a=n(3516),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return a(e);var t=r(e),n=[];for(var o in e)("constructor"!=o||!t&&s.call(e,o))&&n.push(o);return n}},8124:(e,t,n)=>{var i=n(6614),r=n(9621);e.exports=function(e,t){return i(e,r(e),t)}},8139:(e,t)=>{var n;!function(){"use strict";var i={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)i.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},8140:(e,t,n)=>{var i=n(5324),r=n(4065),a=n(1676),s=n(914);e.exports=function(e,t){return t=i(t,e),null==(e=a(e,t))||delete e[s(r(t))]}},8146:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,i=/-([a-z])/g,r=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,o=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||r.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(s,l):e.replace(a,l)).replace(i,o))}},8189:(e,t,n)=>{var i=n(3871);e.exports=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:i(e,t,n)}},8218:(e,t,n)=>{var i=n(2867),r=n(5713),a=i?function(e){return i.get(e)}:r;e.exports=a},8259:(e,t,n)=>{var i=n(5797);e.exports=function(e){var t=i(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},8268:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,i=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},8325:(e,t,n)=>{var i=n(2541),r=n(5654),a=n(3279),s=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:a;e.exports=s},8348:e=>{e.exports=function(e){return e.split("")}},8365:(e,t,n)=>{"use strict";var i=n(5043);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=i.useRef,o=i.useEffect,l=i.useMemo,c=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,d){var u=s(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=l(function(){function e(e){if(!o){if(o=!0,a=e,e=i(e),void 0!==d&&h.hasValue){var t=h.value;if(d(t,e))return s=t}return s=e}if(t=s,r(a,e))return t;var n=i(e);return void 0!==d&&d(t,n)?(a=e,t):(a=e,s=n)}var a,s,o=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,n,i,d]);var p=a(e,u[0],u[1]);return o(function(){h.hasValue=!0,h.value=p},[p]),c(p),p}},8400:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},8406:(e,t,n)=>{var i=n(2823),r=n(1093),a=n(4159),s="__lodash_placeholder__",o=128,l=Math.min;e.exports=function(e,t){var n=e[1],c=t[1],d=n|c,u=d<131,h=c==o&&8==n||c==o&&256==n&&e[7].length<=t[8]||384==c&&t[7].length<=t[8]&&8==n;if(!u&&!h)return e;1&c&&(e[2]=t[2],d|=1&n?0:4);var p=t[3];if(p){var m=e[3];e[3]=m?i(m,p,t[4]):p,e[4]=m?a(e[3],s):t[4]}return(p=t[5])&&(m=e[5],e[5]=m?r(m,p,t[6]):p,e[6]=m?a(e[5],s):t[6]),(p=t[7])&&(e[7]=p),c&o&&(e[8]=null==e[8]?t[8]:l(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=d,e}},8420:(e,t,n)=>{var i=n(1775),r=n(3211),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];a.call(e,t)&&r(s,n)&&(void 0!==n||t in e)||i(e,t,n)}},8421:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={}},8468:(e,t,n)=>{var i=n(5816),r=n(644),a=n(4020);e.exports=function(e,t,n){return t===t?a(e,t,n):i(e,r,n)}},8479:e=>{var t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,n){var i=n.length;if(!i)return e;var r=i-1;return n[r]=(i>1?"& ":"")+n[r],n=n.join(i>2?", ":" "),e.replace(t,"{\n/* [wrapped with "+n+"] */\n")}},8541:(e,t,n)=>{var i=n(9812),r=n(149),a=n(4052),s=n(9841),o=i?i.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return r(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8592:(e,t,n)=>{var i=n(4262),r=n(6326),a=n(474);e.exports=function(e){return i(e,a,r)}},8613:function(e,t){var n;!function(t,n){"use strict";"object"===typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!==typeof window?window:this,function(i,r){"use strict";var a=[],s=Object.getPrototypeOf,o=a.slice,l=a.flat?function(e){return a.flat.call(e)}:function(e){return a.concat.apply([],e)},c=a.push,d=a.indexOf,u={},h=u.toString,p=u.hasOwnProperty,m=p.toString,f=m.call(Object),g={},_=function(e){return"function"===typeof e&&"number"!==typeof e.nodeType&&"function"!==typeof e.item},v=function(e){return null!=e&&e===e.window},b=i.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function x(e,t,n){var i,r,a=(n=n||b).createElement("script");if(a.text=e,t)for(i in y)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&a.setAttribute(i,r);n.head.appendChild(a).parentNode.removeChild(a)}function w(e){return null==e?e+"":"object"===typeof e||"function"===typeof e?u[h.call(e)]||"object":typeof e}var E="3.7.1",S=/HTML$/i,C=function(e,t){return new C.fn.init(e,t)};function T(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!_(e)&&!v(e)&&("array"===n||0===t||"number"===typeof t&&t>0&&t-1 in e)}function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}C.fn=C.prototype={jquery:E,constructor:C,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return C.each(this,e)},map:function(e){return this.pushStack(C.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:a.sort,splice:a.splice},C.extend=C.fn.extend=function(){var e,t,n,i,r,a,s=arguments[0]||{},o=1,l=arguments.length,c=!1;for("boolean"===typeof s&&(c=s,s=arguments[o]||{},o++),"object"===typeof s||_(s)||(s={}),o===l&&(s=this,o--);o<l;o++)if(null!=(e=arguments[o]))for(t in e)i=e[t],"__proto__"!==t&&s!==i&&(c&&i&&(C.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[t],a=r&&!Array.isArray(n)?[]:r||C.isPlainObject(n)?n:{},r=!1,s[t]=C.extend(c,a,i)):void 0!==i&&(s[t]=i));return s},C.extend({expando:"jQuery"+(E+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==h.call(e))&&(!(t=s(e))||"function"===typeof(n=p.call(t,"constructor")&&t.constructor)&&m.call(n)===f)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){x(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(T(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},text:function(e){var t,n="",i=0,r=e.nodeType;if(!r)for(;t=e[i++];)n+=C.text(t);return 1===r||11===r?e.textContent:9===r?e.documentElement.textContent:3===r||4===r?e.nodeValue:n},makeArray:function(e,t){var n=t||[];return null!=e&&(T(Object(e))?C.merge(n,"string"===typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:d.call(t,e,n)},isXMLDoc:function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!S.test(t||n&&n.nodeName||"HTML")},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,a=e.length,s=!n;r<a;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,r,a=0,s=[];if(T(e))for(i=e.length;a<i;a++)null!=(r=t(e[a],a,n))&&s.push(r);else for(a in e)null!=(r=t(e[a],a,n))&&s.push(r);return l(s)},guid:1,support:g}),"function"===typeof Symbol&&(C.fn[Symbol.iterator]=a[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var A=a.pop,k=a.sort,R=a.splice,I="[\\x20\\t\\r\\n\\f]",O=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g");C.contains=function(e,t){var n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var j=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function P(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}C.escapeSelector=function(e){return(e+"").replace(j,P)};var D=b,L=c;!function(){var e,t,n,r,s,l,c,u,h,m,f=L,_=C.expando,v=0,b=0,y=ee(),x=ee(),w=ee(),E=ee(),S=function(e,t){return e===t&&(s=!0),0},T="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="(?:\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",P="\\["+I+"*("+j+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+I+"*\\]",M=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",U=new RegExp(I+"+","g"),F=new RegExp("^"+I+"*,"+I+"*"),B=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),V=new RegExp(I+"|>"),z=new RegExp(M),H=new RegExp("^"+j+"$"),W={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+M),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+T+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,K=new RegExp("\\\\[\\da-fA-F]{1,6}"+I+"?|\\\\([^\\r\\n\\f])","g"),J=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Z=function(){le()},Q=he(function(e){return!0===e.disabled&&N(e,"fieldset")},{dir:"parentNode",next:"legend"});try{f.apply(a=o.call(D.childNodes),D.childNodes),a[D.childNodes.length].nodeType}catch(be){f={apply:function(e,t){L.apply(e,o.call(t))},call:function(e){L.apply(e,o.call(arguments,1))}}}function $(e,t,n,i){var r,a,s,o,c,d,p,m=t&&t.ownerDocument,v=t?t.nodeType:9;if(n=n||[],"string"!==typeof e||!e||1!==v&&9!==v&&11!==v)return n;if(!i&&(le(t),t=t||l,u)){if(11!==v&&(c=Y.exec(e)))if(r=c[1]){if(9===v){if(!(s=t.getElementById(r)))return n;if(s.id===r)return f.call(n,s),n}else if(m&&(s=m.getElementById(r))&&$.contains(t,s)&&s.id===r)return f.call(n,s),n}else{if(c[2])return f.apply(n,t.getElementsByTagName(e)),n;if((r=c[3])&&t.getElementsByClassName)return f.apply(n,t.getElementsByClassName(r)),n}if(!E[e+" "]&&(!h||!h.test(e))){if(p=e,m=t,1===v&&(V.test(e)||B.test(e))){for((m=X.test(e)&&oe(t.parentNode)||t)==t&&g.scope||((o=t.getAttribute("id"))?o=C.escapeSelector(o):t.setAttribute("id",o=_)),a=(d=de(e)).length;a--;)d[a]=(o?"#"+o:":scope")+" "+ue(d[a]);p=d.join(",")}try{return f.apply(n,m.querySelectorAll(p)),n}catch(b){E(e,!0)}finally{o===_&&t.removeAttribute("id")}}}return ve(e.replace(O,"$1"),t,n,i)}function ee(){var e=[];return function n(i,r){return e.push(i+" ")>t.cacheLength&&delete n[e.shift()],n[i+" "]=r}}function te(e){return e[_]=!0,e}function ne(e){var t=l.createElement("fieldset");try{return!!e(t)}catch(be){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ie(e){return function(t){return N(t,"input")&&t.type===e}}function re(e){return function(t){return(N(t,"input")||N(t,"button"))&&t.type===e}}function ae(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Q(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function se(e){return te(function(t){return t=+t,te(function(n,i){for(var r,a=e([],n.length,t),s=a.length;s--;)n[r=a[s]]&&(n[r]=!(i[r]=n[r]))})})}function oe(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}function le(e){var n,i=e?e.ownerDocument||e:D;return i!=l&&9===i.nodeType&&i.documentElement?(c=(l=i).documentElement,u=!C.isXMLDoc(l),m=c.matches||c.webkitMatchesSelector||c.msMatchesSelector,c.msMatchesSelector&&D!=l&&(n=l.defaultView)&&n.top!==n&&n.addEventListener("unload",Z),g.getById=ne(function(e){return c.appendChild(e).id=C.expando,!l.getElementsByName||!l.getElementsByName(C.expando).length}),g.disconnectedMatch=ne(function(e){return m.call(e,"*")}),g.scope=ne(function(){return l.querySelectorAll(":scope")}),g.cssHas=ne(function(){try{return l.querySelector(":has(*,:jqfake)"),!1}catch(be){return!0}}),g.getById?(t.filter.ID=function(e){var t=e.replace(K,J);return function(e){return e.getAttribute("id")===t}},t.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&u){var n=t.getElementById(e);return n?[n]:[]}}):(t.filter.ID=function(e){var t=e.replace(K,J);return function(e){var n="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},t.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&u){var n,i,r,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(r=t.getElementsByName(e),i=0;a=r[i++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),t.find.TAG=function(e,t){return"undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e):t.querySelectorAll(e)},t.find.CLASS=function(e,t){if("undefined"!==typeof t.getElementsByClassName&&u)return t.getElementsByClassName(e)},h=[],ne(function(e){var t;c.appendChild(e).innerHTML="<a id='"+_+"' href='' disabled='disabled'></a><select id='"+_+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||h.push("\\["+I+"*(?:value|"+T+")"),e.querySelectorAll("[id~="+_+"-]").length||h.push("~="),e.querySelectorAll("a#"+_+"+*").length||h.push(".#.+[+~]"),e.querySelectorAll(":checked").length||h.push(":checked"),(t=l.createElement("input")).setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),c.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&h.push(":enabled",":disabled"),(t=l.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||h.push("\\["+I+"*name"+I+"*="+I+"*(?:''|\"\")")}),g.cssHas||h.push(":has"),h=h.length&&new RegExp(h.join("|")),S=function(e,t){if(e===t)return s=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument==D&&$.contains(D,e)?-1:t===l||t.ownerDocument==D&&$.contains(D,t)?1:r?d.call(r,e)-d.call(r,t):0:4&n?-1:1)},l):l}for(e in $.matches=function(e,t){return $(e,null,null,t)},$.matchesSelector=function(e,t){if(le(e),u&&!E[t+" "]&&(!h||!h.test(t)))try{var n=m.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(be){E(t,!0)}return $(t,l,null,[e]).length>0},$.contains=function(e,t){return(e.ownerDocument||e)!=l&&le(e),C.contains(e,t)},$.attr=function(e,n){(e.ownerDocument||e)!=l&&le(e);var i=t.attrHandle[n.toLowerCase()],r=i&&p.call(t.attrHandle,n.toLowerCase())?i(e,n,!u):void 0;return void 0!==r?r:e.getAttribute(n)},$.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},C.uniqueSort=function(e){var t,n=[],i=0,a=0;if(s=!g.sortStable,r=!g.sortStable&&o.call(e,0),k.call(e,S),s){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)R.call(e,n[i],1)}return r=null,e},C.fn.uniqueSort=function(){return this.pushStack(C.uniqueSort(o.apply(this)))},t=C.expr={cacheLength:50,createPseudo:te,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(K,J),e[3]=(e[3]||e[4]||e[5]||"").replace(K,J),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||$.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&$.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&z.test(n)&&(t=de(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(K,J).toLowerCase();return"*"===e?function(){return!0}:function(e){return N(e,t)}},CLASS:function(e){var t=y[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&y(e,function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=$.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(U," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var a="nth"!==e.slice(0,3),s="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,h,p,m=a!==s?"nextSibling":"previousSibling",f=t.parentNode,g=o&&t.nodeName.toLowerCase(),b=!l&&!o,y=!1;if(f){if(a){for(;m;){for(u=t;u=u[m];)if(o?N(u,g):1===u.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[s?f.firstChild:f.lastChild],s&&b){for(y=(h=(c=(d=f[_]||(f[_]={}))[e]||[])[0]===v&&c[1])&&c[2],u=h&&f.childNodes[h];u=++h&&u&&u[m]||(y=h=0)||p.pop();)if(1===u.nodeType&&++y&&u===t){d[e]=[v,h,y];break}}else if(b&&(y=h=(c=(d=t[_]||(t[_]={}))[e]||[])[0]===v&&c[1]),!1===y)for(;(u=++h&&u&&u[m]||(y=h=0)||p.pop())&&(!(o?N(u,g):1===u.nodeType)||!++y||(b&&((d=u[_]||(u[_]={}))[e]=[v,y]),u!==t)););return(y-=r)===i||y%i===0&&y/i>=0}}},PSEUDO:function(e,n){var i,r=t.pseudos[e]||t.setFilters[e.toLowerCase()]||$.error("unsupported pseudo: "+e);return r[_]?r(n):r.length>1?(i=[e,e,"",n],t.setFilters.hasOwnProperty(e.toLowerCase())?te(function(e,t){for(var i,a=r(e,n),s=a.length;s--;)e[i=d.call(e,a[s])]=!(t[i]=a[s])}):function(e){return r(e,0,i)}):r}},pseudos:{not:te(function(e){var t=[],n=[],i=_e(e.replace(O,"$1"));return i[_]?te(function(e,t,n,r){for(var a,s=i(e,null,r,[]),o=e.length;o--;)(a=s[o])&&(e[o]=!(t[o]=a))}):function(e,r,a){return t[0]=e,i(t,null,a,n),t[0]=null,!n.pop()}}),has:te(function(e){return function(t){return $(e,t).length>0}}),contains:te(function(e){return e=e.replace(K,J),function(t){return(t.textContent||C.text(t)).indexOf(e)>-1}}),lang:te(function(e){return H.test(e||"")||$.error("unsupported lang: "+e),e=e.replace(K,J).toLowerCase(),function(t){var n;do{if(n=u?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===c},focus:function(e){return e===function(){try{return l.activeElement}catch(e){}}()&&l.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:ae(!1),disabled:ae(!0),checked:function(e){return N(e,"input")&&!!e.checked||N(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!t.pseudos.empty(e)},header:function(e){return q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){return N(e,"input")&&"button"===e.type||N(e,"button")},text:function(e){var t;return N(e,"input")&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:se(function(){return[0]}),last:se(function(e,t){return[t-1]}),eq:se(function(e,t,n){return[n<0?n+t:n]}),even:se(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:se(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:se(function(e,t,n){var i;for(i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e}),gt:se(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},t.pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[e]=ie(e);for(e in{submit:!0,reset:!0})t.pseudos[e]=re(e);function ce(){}function de(e,n){var i,r,a,s,o,l,c,d=x[e+" "];if(d)return n?0:d.slice(0);for(o=e,l=[],c=t.preFilter;o;){for(s in i&&!(r=F.exec(o))||(r&&(o=o.slice(r[0].length)||o),l.push(a=[])),i=!1,(r=B.exec(o))&&(i=r.shift(),a.push({value:i,type:r[0].replace(O," ")}),o=o.slice(i.length)),t.filter)!(r=W[s].exec(o))||c[s]&&!(r=c[s](r))||(i=r.shift(),a.push({value:i,type:s,matches:r}),o=o.slice(i.length));if(!i)break}return n?o.length:o?$.error(e):x(e,l).slice(0)}function ue(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function he(e,t,n){var i=t.dir,r=t.next,a=r||i,s=n&&"parentNode"===a,o=b++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,l){var c,d,u=[v,o];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(d=t[_]||(t[_]={}),r&&N(t,r))t=t[i]||t;else{if((c=d[a])&&c[0]===v&&c[1]===o)return u[2]=c[2];if(d[a]=u,u[2]=e(t,n,l))return!0}return!1}}function pe(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function me(e,t,n,i,r){for(var a,s=[],o=0,l=e.length,c=null!=t;o<l;o++)(a=e[o])&&(n&&!n(a,i,r)||(s.push(a),c&&t.push(o)));return s}function fe(e,t,n,i,r,a){return i&&!i[_]&&(i=fe(i)),r&&!r[_]&&(r=fe(r,a)),te(function(a,s,o,l){var c,u,h,p,m=[],g=[],_=s.length,v=a||function(e,t,n){for(var i=0,r=t.length;i<r;i++)$(e,t[i],n);return n}(t||"*",o.nodeType?[o]:o,[]),b=!e||!a&&t?v:me(v,m,e,o,l);if(n?n(b,p=r||(a?e:_||i)?[]:s,o,l):p=b,i)for(c=me(p,g),i(c,[],o,l),u=c.length;u--;)(h=c[u])&&(p[g[u]]=!(b[g[u]]=h));if(a){if(r||e){if(r){for(c=[],u=p.length;u--;)(h=p[u])&&c.push(b[u]=h);r(null,p=[],c,l)}for(u=p.length;u--;)(h=p[u])&&(c=r?d.call(a,h):m[u])>-1&&(a[c]=!(s[c]=h))}}else p=me(p===s?p.splice(_,p.length):p),r?r(null,s,p,l):f.apply(s,p)})}function ge(e){for(var i,r,a,s=e.length,o=t.relative[e[0].type],l=o||t.relative[" "],c=o?1:0,u=he(function(e){return e===i},l,!0),h=he(function(e){return d.call(i,e)>-1},l,!0),p=[function(e,t,r){var a=!o&&(r||t!=n)||((i=t).nodeType?u(e,t,r):h(e,t,r));return i=null,a}];c<s;c++)if(r=t.relative[e[c].type])p=[he(pe(p),r)];else{if((r=t.filter[e[c].type].apply(null,e[c].matches))[_]){for(a=++c;a<s&&!t.relative[e[a].type];a++);return fe(c>1&&pe(p),c>1&&ue(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(O,"$1"),r,c<a&&ge(e.slice(c,a)),a<s&&ge(e=e.slice(a)),a<s&&ue(e))}p.push(r)}return pe(p)}function _e(e,i){var r,a=[],s=[],o=w[e+" "];if(!o){for(i||(i=de(e)),r=i.length;r--;)(o=ge(i[r]))[_]?a.push(o):s.push(o);o=w(e,function(e,i){var r=i.length>0,a=e.length>0,s=function(s,o,c,d,h){var p,m,g,_=0,b="0",y=s&&[],x=[],w=n,E=s||a&&t.find.TAG("*",h),S=v+=null==w?1:Math.random()||.1,T=E.length;for(h&&(n=o==l||o||h);b!==T&&null!=(p=E[b]);b++){if(a&&p){for(m=0,o||p.ownerDocument==l||(le(p),c=!u);g=e[m++];)if(g(p,o||l,c)){f.call(d,p);break}h&&(v=S)}r&&((p=!g&&p)&&_--,s&&y.push(p))}if(_+=b,r&&b!==_){for(m=0;g=i[m++];)g(y,x,o,c);if(s){if(_>0)for(;b--;)y[b]||x[b]||(x[b]=A.call(d));x=me(x)}f.apply(d,x),h&&!s&&x.length>0&&_+i.length>1&&C.uniqueSort(d)}return h&&(v=S,n=w),y};return r?te(s):s}(s,a)),o.selector=e}return o}function ve(e,n,i,r){var a,s,o,l,c,d="function"===typeof e&&e,h=!r&&de(e=d.selector||e);if(i=i||[],1===h.length){if((s=h[0]=h[0].slice(0)).length>2&&"ID"===(o=s[0]).type&&9===n.nodeType&&u&&t.relative[s[1].type]){if(!(n=(t.find.ID(o.matches[0].replace(K,J),n)||[])[0]))return i;d&&(n=n.parentNode),e=e.slice(s.shift().value.length)}for(a=W.needsContext.test(e)?0:s.length;a--&&(o=s[a],!t.relative[l=o.type]);)if((c=t.find[l])&&(r=c(o.matches[0].replace(K,J),X.test(s[0].type)&&oe(n.parentNode)||n))){if(s.splice(a,1),!(e=r.length&&ue(s)))return f.apply(i,r),i;break}}return(d||_e(e,h))(r,n,!u,i,!n||X.test(e)&&oe(n.parentNode)||n),i}ce.prototype=t.filters=t.pseudos,t.setFilters=new ce,g.sortStable=_.split("").sort(S).join("")===_,le(),g.sortDetached=ne(function(e){return 1&e.compareDocumentPosition(l.createElement("fieldset"))}),C.find=$,C.expr[":"]=C.expr.pseudos,C.unique=C.uniqueSort,$.compile=_e,$.select=ve,$.setDocument=le,$.tokenize=de,$.escape=C.escapeSelector,$.getText=C.text,$.isXML=C.isXMLDoc,$.selectors=C.expr,$.support=C.support,$.uniqueSort=C.uniqueSort}();var M=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&C(e).is(n))break;i.push(e)}return i},U=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},F=C.expr.match.needsContext,B=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function V(e,t,n){return _(t)?C.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?C.grep(e,function(e){return e===t!==n}):"string"!==typeof t?C.grep(e,function(e){return d.call(t,e)>-1!==n}):C.filter(t,e,n)}C.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?C.find.matchesSelector(i,e)?[i]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!==typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<i;t++)if(C.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)C.find(e,r[t],n);return i>1?C.uniqueSort(n):n},filter:function(e){return this.pushStack(V(this,e||[],!1))},not:function(e){return this.pushStack(V(this,e||[],!0))},is:function(e){return!!V(this,"string"===typeof e&&F.test(e)?C(e):e||[],!1).length}});var z,H=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||z,"string"===typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:H.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),B.test(i[1])&&C.isPlainObject(t))for(i in t)_(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=b.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):_(e)?void 0!==n.ready?n.ready(e):e(C):C.makeArray(e,this)}).prototype=C.fn,z=C(b);var W=/^(?:parents|prev(?:Until|All))/,G={children:!0,contents:!0,next:!0,prev:!0};function q(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,a=[],s="string"!==typeof e&&C(e);if(!F.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?C.uniqueSort(a):a)},index:function(e){return e?"string"===typeof e?d.call(C(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return M(e,"parentNode")},parentsUntil:function(e,t,n){return M(e,"parentNode",n)},next:function(e){return q(e,"nextSibling")},prev:function(e){return q(e,"previousSibling")},nextAll:function(e){return M(e,"nextSibling")},prevAll:function(e){return M(e,"previousSibling")},nextUntil:function(e,t,n){return M(e,"nextSibling",n)},prevUntil:function(e,t,n){return M(e,"previousSibling",n)},siblings:function(e){return U((e.parentNode||{}).firstChild,e)},children:function(e){return U(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(N(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},function(e,t){C.fn[e]=function(n,i){var r=C.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"===typeof i&&(r=C.filter(i,r)),this.length>1&&(G[e]||C.uniqueSort(r),W.test(e)&&r.reverse()),this.pushStack(r)}});var Y=/[^\x20\t\r\n\f]+/g;function X(e){return e}function K(e){throw e}function J(e,t,n,i){var r;try{e&&_(r=e.promise)?r.call(e).done(t).fail(n):e&&_(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}C.Callbacks=function(e){e="string"===typeof e?function(e){var t={};return C.each(e.match(Y)||[],function(e,n){t[n]=!0}),t}(e):C.extend({},e);var t,n,i,r,a=[],s=[],o=-1,l=function(){for(r=r||e.once,i=t=!0;s.length;o=-1)for(n=s.shift();++o<a.length;)!1===a[o].apply(n[0],n[1])&&e.stopOnFalse&&(o=a.length,n=!1);e.memory||(n=!1),t=!1,r&&(a=n?[]:"")},c={add:function(){return a&&(n&&!t&&(o=a.length-1,s.push(n)),function t(n){C.each(n,function(n,i){_(i)?e.unique&&c.has(i)||a.push(i):i&&i.length&&"string"!==w(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return C.each(arguments,function(e,t){for(var n;(n=C.inArray(t,a,n))>-1;)a.splice(n,1),n<=o&&o--}),this},has:function(e){return e?C.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=s=[],n||t||(a=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},C.extend({Deferred:function(e){var t=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return C.Deferred(function(n){C.each(t,function(t,i){var r=_(e[i[4]])&&e[i[4]];a[i[1]](function(){var e=r&&r.apply(this,arguments);e&&_(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,n,r){var a=0;function s(e,t,n,r){return function(){var o=this,l=arguments,c=function(){var i,c;if(!(e<a)){if((i=n.apply(o,l))===t.promise())throw new TypeError("Thenable self-resolution");c=i&&("object"===typeof i||"function"===typeof i)&&i.then,_(c)?r?c.call(i,s(a,t,X,r),s(a,t,K,r)):(a++,c.call(i,s(a,t,X,r),s(a,t,K,r),s(a,t,X,t.notifyWith))):(n!==X&&(o=void 0,l=[i]),(r||t.resolveWith)(o,l))}},d=r?c:function(){try{c()}catch(i){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(i,d.error),e+1>=a&&(n!==K&&(o=void 0,l=[i]),t.rejectWith(o,l))}};e?d():(C.Deferred.getErrorHook?d.error=C.Deferred.getErrorHook():C.Deferred.getStackHook&&(d.error=C.Deferred.getStackHook()),i.setTimeout(d))}}return C.Deferred(function(i){t[0][3].add(s(0,i,_(r)?r:X,i.notifyWith)),t[1][3].add(s(0,i,_(e)?e:X)),t[2][3].add(s(0,i,_(n)?n:K))}).promise()},promise:function(e){return null!=e?C.extend(e,r):r}},a={};return C.each(t,function(e,i){var s=i[2],o=i[5];r[i[1]]=s.add,o&&s.add(function(){n=o},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(i[3].fire),a[i[0]]=function(){return a[i[0]+"With"](this===a?void 0:this,arguments),this},a[i[0]+"With"]=s.fireWith}),r.promise(a),e&&e.call(a,a),a},when:function(e){var t=arguments.length,n=t,i=Array(n),r=o.call(arguments),a=C.Deferred(),s=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(i,r)}};if(t<=1&&(J(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||_(r[n]&&r[n].then)))return a.then();for(;n--;)J(r[n],s(n),a.reject);return a.promise()}});var Z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&Z.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){i.setTimeout(function(){throw e})};var Q=C.Deferred();function $(){b.removeEventListener("DOMContentLoaded",$),i.removeEventListener("load",$),C.ready()}C.fn.ready=function(e){return Q.then(e).catch(function(e){C.readyException(e)}),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==e&&--C.readyWait>0||Q.resolveWith(b,[C]))}}),C.ready.then=Q.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?i.setTimeout(C.ready):(b.addEventListener("DOMContentLoaded",$),i.addEventListener("load",$));var ee=function(e,t,n,i,r,a,s){var o=0,l=e.length,c=null==n;if("object"===w(n))for(o in r=!0,n)ee(e,t,o,n[o],!0,a,s);else if(void 0!==i&&(r=!0,_(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(C(e),n)})),t))for(;o<l;o++)t(e[o],n,s?i:i.call(e[o],o,t(e[o],n)));return r?e:c?t.call(e):l?t(e[0],n):a},te=/^-ms-/,ne=/-([a-z])/g;function ie(e,t){return t.toUpperCase()}function re(e){return e.replace(te,"ms-").replace(ne,ie)}var ae=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function se(){this.expando=C.expando+se.uid++}se.uid=1,se.prototype={cache:function(e){var t=e[this.expando];return t||(t={},ae(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"===typeof t)r[re(t)]=n;else for(i in t)r[re(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][re(t)]},access:function(e,t,n){return void 0===t||t&&"string"===typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(re):(t=re(t))in i?[t]:t.match(Y)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||C.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var oe=new se,le=new se,ce=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,de=/[A-Z]/g;function ue(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(de,"-$&").toLowerCase(),"string"===typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ce.test(e)?JSON.parse(e):e)}(n)}catch(r){}le.set(e,t,n)}else n=void 0;return n}C.extend({hasData:function(e){return le.hasData(e)||oe.hasData(e)},data:function(e,t,n){return le.access(e,t,n)},removeData:function(e,t){le.remove(e,t)},_data:function(e,t,n){return oe.access(e,t,n)},_removeData:function(e,t){oe.remove(e,t)}}),C.fn.extend({data:function(e,t){var n,i,r,a=this[0],s=a&&a.attributes;if(void 0===e){if(this.length&&(r=le.get(a),1===a.nodeType&&!oe.get(a,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=re(i.slice(5)),ue(a,i,r[i]));oe.set(a,"hasDataAttrs",!0)}return r}return"object"===typeof e?this.each(function(){le.set(this,e)}):ee(this,function(t){var n;if(a&&void 0===t)return void 0!==(n=le.get(a,e))||void 0!==(n=ue(a,e))?n:void 0;this.each(function(){le.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){le.remove(this,e)})}}),C.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=oe.get(e,t),n&&(!i||Array.isArray(n)?i=oe.access(e,t,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=C.queue(e,t),i=n.length,r=n.shift(),a=C._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,function(){C.dequeue(e,t)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return oe.get(e,n)||oe.access(e,n,{empty:C.Callbacks("once memory").add(function(){oe.remove(e,[t+"queue",n])})})}}),C.fn.extend({queue:function(e,t){var n=2;return"string"!==typeof e&&(t=e,e="fx",n--),arguments.length<n?C.queue(this[0],e):void 0===t?this:this.each(function(){var n=C.queue(this,e,t);C._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&C.dequeue(this,e)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=C.Deferred(),a=this,s=this.length,o=function(){--i||r.resolveWith(a,[a])};for("string"!==typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=oe.get(a[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(o));return o(),r.promise(t)}});var he=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,pe=new RegExp("^(?:([+-])=|)("+he+")([a-z%]*)$","i"),me=["Top","Right","Bottom","Left"],fe=b.documentElement,ge=function(e){return C.contains(e.ownerDocument,e)},_e={composed:!0};fe.getRootNode&&(ge=function(e){return C.contains(e.ownerDocument,e)||e.getRootNode(_e)===e.ownerDocument});var ve=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ge(e)&&"none"===C.css(e,"display")};function be(e,t,n,i){var r,a,s=20,o=i?function(){return i.cur()}:function(){return C.css(e,t,"")},l=o(),c=n&&n[3]||(C.cssNumber[t]?"":"px"),d=e.nodeType&&(C.cssNumber[t]||"px"!==c&&+l)&&pe.exec(C.css(e,t));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;s--;)C.style(e,t,d+c),(1-a)*(1-(a=o()/l||.5))<=0&&(s=0),d/=a;d*=2,C.style(e,t,d+c),n=n||[]}return n&&(d=+d||+l||0,r=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=d,i.end=r)),r}var ye={};function xe(e){var t,n=e.ownerDocument,i=e.nodeName,r=ye[i];return r||(t=n.body.appendChild(n.createElement(i)),r=C.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ye[i]=r,r)}function we(e,t){for(var n,i,r=[],a=0,s=e.length;a<s;a++)(i=e[a]).style&&(n=i.style.display,t?("none"===n&&(r[a]=oe.get(i,"display")||null,r[a]||(i.style.display="")),""===i.style.display&&ve(i)&&(r[a]=xe(i))):"none"!==n&&(r[a]="none",oe.set(i,"display",n)));for(a=0;a<s;a++)null!=r[a]&&(e[a].style.display=r[a]);return e}C.fn.extend({show:function(){return we(this,!0)},hide:function(){return we(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each(function(){ve(this)?C(this).show():C(this).hide()})}});var Ee=/^(?:checkbox|radio)$/i,Se=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Ce=/^$|^module$|\/(?:java|ecma)script/i;!function(){var e=b.createDocumentFragment().appendChild(b.createElement("div")),t=b.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),g.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,e.innerHTML="<option></option>",g.option=!!e.lastChild}();var Te={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ne(e,t){var n;return n="undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!==typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?C.merge([e],n):n}function Ae(e,t){for(var n=0,i=e.length;n<i;n++)oe.set(e[n],"globalEval",!t||oe.get(t[n],"globalEval"))}Te.tbody=Te.tfoot=Te.colgroup=Te.caption=Te.thead,Te.th=Te.td,g.option||(Te.optgroup=Te.option=[1,"<select multiple='multiple'>","</select>"]);var ke=/<|&#?\w+;/;function Re(e,t,n,i,r){for(var a,s,o,l,c,d,u=t.createDocumentFragment(),h=[],p=0,m=e.length;p<m;p++)if((a=e[p])||0===a)if("object"===w(a))C.merge(h,a.nodeType?[a]:a);else if(ke.test(a)){for(s=s||u.appendChild(t.createElement("div")),o=(Se.exec(a)||["",""])[1].toLowerCase(),l=Te[o]||Te._default,s.innerHTML=l[1]+C.htmlPrefilter(a)+l[2],d=l[0];d--;)s=s.lastChild;C.merge(h,s.childNodes),(s=u.firstChild).textContent=""}else h.push(t.createTextNode(a));for(u.textContent="",p=0;a=h[p++];)if(i&&C.inArray(a,i)>-1)r&&r.push(a);else if(c=ge(a),s=Ne(u.appendChild(a),"script"),c&&Ae(s),n)for(d=0;a=s[d++];)Ce.test(a.type||"")&&n.push(a);return u}var Ie=/^([^.]*)(?:\.(.+)|)/;function Oe(){return!0}function je(){return!1}function Pe(e,t,n,i,r,a){var s,o;if("object"===typeof t){for(o in"string"!==typeof n&&(i=i||n,n=void 0),t)Pe(e,o,n,i,t[o],a);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"===typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=je;else if(!r)return e;return 1===a&&(s=r,r=function(e){return C().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=C.guid++)),e.each(function(){C.event.add(this,t,r,i,n)})}function De(e,t,n){n?(oe.set(e,t,!1),C.event.add(e,t,{namespace:!1,handler:function(e){var n,i=oe.get(this,t);if(1&e.isTrigger&&this[t]){if(i)(C.event.special[t]||{}).delegateType&&e.stopPropagation();else if(i=o.call(arguments),oe.set(this,t,i),this[t](),n=oe.get(this,t),oe.set(this,t,!1),i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else i&&(oe.set(this,t,C.event.trigger(i[0],i.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=Oe)}})):void 0===oe.get(e,t)&&C.event.add(e,t,Oe)}C.event={global:{},add:function(e,t,n,i,r){var a,s,o,l,c,d,u,h,p,m,f,g=oe.get(e);if(ae(e))for(n.handler&&(n=(a=n).handler,r=a.selector),r&&C.find.matchesSelector(fe,r),n.guid||(n.guid=C.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return"undefined"!==typeof C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(Y)||[""]).length;c--;)p=f=(o=Ie.exec(t[c])||[])[1],m=(o[2]||"").split(".").sort(),p&&(u=C.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=C.event.special[p]||{},d=C.extend({type:p,origType:f,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&C.expr.match.needsContext.test(r),namespace:m.join(".")},a),(h=l[p])||((h=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,i,m,s)||e.addEventListener&&e.addEventListener(p,s)),u.add&&(u.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),C.event.global[p]=!0)},remove:function(e,t,n,i,r){var a,s,o,l,c,d,u,h,p,m,f,g=oe.hasData(e)&&oe.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(Y)||[""]).length;c--;)if(p=f=(o=Ie.exec(t[c])||[])[1],m=(o[2]||"").split(".").sort(),p){for(u=C.event.special[p]||{},h=l[p=(i?u.delegateType:u.bindType)||p]||[],o=o[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=a=h.length;a--;)d=h[a],!r&&f!==d.origType||n&&n.guid!==d.guid||o&&!o.test(d.namespace)||i&&i!==d.selector&&("**"!==i||!d.selector)||(h.splice(a,1),d.selector&&h.delegateCount--,u.remove&&u.remove.call(e,d));s&&!h.length&&(u.teardown&&!1!==u.teardown.call(e,m,g.handle)||C.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)C.event.remove(e,p+t[c],n,i,!0);C.isEmptyObject(l)&&oe.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,a,s,o=new Array(arguments.length),l=C.event.fix(e),c=(oe.get(this,"events")||Object.create(null))[l.type]||[],d=C.event.special[l.type]||{};for(o[0]=l,t=1;t<arguments.length;t++)o[t]=arguments[t];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(s=C.event.handlers.call(this,l,c),t=0;(r=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(i=((C.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,o))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,i,r,a,s,o=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(a=[],s={},n=0;n<l;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?C(r,this).index(c)>-1:C.find(r,this,null,[c]).length),s[r]&&a.push(i);a.length&&o.push({elem:c,handlers:a})}return c=this,l<t.length&&o.push({elem:c,handlers:t.slice(l)}),o},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:_(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Ee.test(t.type)&&t.click&&N(t,"input")&&De(t,"click",!0),!1},trigger:function(e){var t=this||e;return Ee.test(t.type)&&t.click&&N(t,"input")&&De(t,"click"),!0},_default:function(e){var t=e.target;return Ee.test(t.type)&&t.click&&N(t,"input")&&oe.get(t,"click")||N(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Oe:je,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:je,isPropagationStopped:je,isImmediatePropagationStopped:je,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Oe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Oe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Oe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(e,t){function n(e){if(b.documentMode){var n=oe.get(this,"handle"),i=C.event.fix(e);i.type="focusin"===e.type?"focus":"blur",i.isSimulated=!0,n(e),i.target===i.currentTarget&&n(i)}else C.event.simulate(t,e.target,C.event.fix(e))}C.event.special[e]={setup:function(){var i;if(De(this,e,!0),!b.documentMode)return!1;(i=oe.get(this,t))||this.addEventListener(t,n),oe.set(this,t,(i||0)+1)},trigger:function(){return De(this,e),!0},teardown:function(){var e;if(!b.documentMode)return!1;(e=oe.get(this,t)-1)?oe.set(this,t,e):(this.removeEventListener(t,n),oe.remove(this,t))},_default:function(t){return oe.get(t.target,e)},delegateType:t},C.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=b.documentMode?this:i,a=oe.get(r,t);a||(b.documentMode?this.addEventListener(t,n):i.addEventListener(e,n,!0)),oe.set(r,t,(a||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=b.documentMode?this:i,a=oe.get(r,t)-1;a?oe.set(r,t,a):(b.documentMode?this.removeEventListener(t,n):i.removeEventListener(e,n,!0),oe.remove(r,t))}}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){C.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||C.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),C.fn.extend({on:function(e,t,n,i){return Pe(this,e,t,n,i)},one:function(e,t,n,i){return Pe(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,C(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"===typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!==typeof t||(n=t,t=void 0),!1===n&&(n=je),this.each(function(){C.event.remove(this,e,n,t)})}});var Le=/<script|<style|<link/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,Ue=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Fe(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function Be(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ve(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ze(e,t){var n,i,r,a,s,o;if(1===t.nodeType){if(oe.hasData(e)&&(o=oe.get(e).events))for(r in oe.remove(t,"handle events"),o)for(n=0,i=o[r].length;n<i;n++)C.event.add(t,r,o[r][n]);le.hasData(e)&&(a=le.access(e),s=C.extend({},a),le.set(t,s))}}function He(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Ee.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function We(e,t,n,i){t=l(t);var r,a,s,o,c,d,u=0,h=e.length,p=h-1,m=t[0],f=_(m);if(f||h>1&&"string"===typeof m&&!g.checkClone&&Me.test(m))return e.each(function(r){var a=e.eq(r);f&&(t[0]=m.call(this,r,a.html())),We(a,t,n,i)});if(h&&(a=(r=Re(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=a),a||i)){for(o=(s=C.map(Ne(r,"script"),Be)).length;u<h;u++)c=r,u!==p&&(c=C.clone(c,!0,!0),o&&C.merge(s,Ne(c,"script"))),n.call(e[u],c,u);if(o)for(d=s[s.length-1].ownerDocument,C.map(s,Ve),u=0;u<o;u++)c=s[u],Ce.test(c.type||"")&&!oe.access(c,"globalEval")&&C.contains(d,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?C._evalUrl&&!c.noModule&&C._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},d):x(c.textContent.replace(Ue,""),c,d))}return e}function Ge(e,t,n){for(var i,r=t?C.filter(t,e):e,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||C.cleanData(Ne(i)),i.parentNode&&(n&&ge(i)&&Ae(Ne(i,"script")),i.parentNode.removeChild(i));return e}C.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,a,s,o=e.cloneNode(!0),l=ge(e);if(!g.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!C.isXMLDoc(e))for(s=Ne(o),i=0,r=(a=Ne(e)).length;i<r;i++)He(a[i],s[i]);if(t)if(n)for(a=a||Ne(e),s=s||Ne(o),i=0,r=a.length;i<r;i++)ze(a[i],s[i]);else ze(e,o);return(s=Ne(o,"script")).length>0&&Ae(s,!l&&Ne(e,"script")),o},cleanData:function(e){for(var t,n,i,r=C.event.special,a=0;void 0!==(n=e[a]);a++)if(ae(n)){if(t=n[oe.expando]){if(t.events)for(i in t.events)r[i]?C.event.remove(n,i):C.removeEvent(n,i,t.handle);n[oe.expando]=void 0}n[le.expando]&&(n[le.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Ge(this,e,!0)},remove:function(e){return Ge(this,e)},text:function(e){return ee(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return We(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Fe(this,e).appendChild(e)})},prepend:function(){return We(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Fe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return We(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return We(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(Ne(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return ee(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"===typeof e&&!Le.test(e)&&!Te[(Se.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(C.cleanData(Ne(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return We(this,arguments,function(t){var n=this.parentNode;C.inArray(this,e)<0&&(C.cleanData(Ne(this)),n&&n.replaceChild(t,this))},e)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){C.fn[e]=function(e){for(var n,i=[],r=C(e),a=r.length-1,s=0;s<=a;s++)n=s===a?this:this.clone(!0),C(r[s])[t](n),c.apply(i,n.get());return this.pushStack(i)}});var qe=new RegExp("^("+he+")(?!px)[a-z%]+$","i"),Ye=/^--/,Xe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},Ke=function(e,t,n){var i,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=a[r];return i},Je=new RegExp(me.join("|"),"i");function Ze(e,t,n){var i,r,a,s,o=Ye.test(t),l=e.style;return(n=n||Xe(e))&&(s=n.getPropertyValue(t)||n[t],o&&s&&(s=s.replace(O,"$1")||void 0),""!==s||ge(e)||(s=C.style(e,t)),!g.pixelBoxStyles()&&qe.test(s)&&Je.test(t)&&(i=l.width,r=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=n.width,l.width=i,l.minWidth=r,l.maxWidth=a)),void 0!==s?s+"":s}function Qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(d){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",d.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",fe.appendChild(c).appendChild(d);var e=i.getComputedStyle(d);n="1%"!==e.top,l=12===t(e.marginLeft),d.style.right="60%",s=36===t(e.right),r=36===t(e.width),d.style.position="absolute",a=12===t(d.offsetWidth/3),fe.removeChild(c),d=null}}function t(e){return Math.round(parseFloat(e))}var n,r,a,s,o,l,c=b.createElement("div"),d=b.createElement("div");d.style&&(d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===d.style.backgroundClip,C.extend(g,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),a},reliableTrDimensions:function(){var e,t,n,r;return null==o&&(e=b.createElement("table"),t=b.createElement("tr"),n=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",fe.appendChild(e).appendChild(t).appendChild(n),r=i.getComputedStyle(t),o=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,fe.removeChild(e)),o}}))}();var $e=["Webkit","Moz","ms"],et=b.createElement("div").style,tt={};function nt(e){var t=C.cssProps[e]||tt[e];return t||(e in et?e:tt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=$e.length;n--;)if((e=$e[n]+t)in et)return e}(e)||e)}var it=/^(none|table(?!-c[ea]).+)/,rt={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:"0",fontWeight:"400"};function st(e,t,n){var i=pe.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function ot(e,t,n,i,r,a){var s="width"===t?1:0,o=0,l=0,c=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(c+=C.css(e,n+me[s],!0,r)),i?("content"===n&&(l-=C.css(e,"padding"+me[s],!0,r)),"margin"!==n&&(l-=C.css(e,"border"+me[s]+"Width",!0,r))):(l+=C.css(e,"padding"+me[s],!0,r),"padding"!==n?l+=C.css(e,"border"+me[s]+"Width",!0,r):o+=C.css(e,"border"+me[s]+"Width",!0,r));return!i&&a>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-o-.5))||0),l+c}function lt(e,t,n){var i=Xe(e),r=(!g.boxSizingReliable()||n)&&"border-box"===C.css(e,"boxSizing",!1,i),a=r,s=Ze(e,t,i),o="offset"+t[0].toUpperCase()+t.slice(1);if(qe.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&r||!g.reliableTrDimensions()&&N(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===C.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===C.css(e,"boxSizing",!1,i),(a=o in e)&&(s=e[o])),(s=parseFloat(s)||0)+ot(e,t,n||(r?"border":"content"),a,i,s)+"px"}function ct(e,t,n,i,r){return new ct.prototype.init(e,t,n,i,r)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ze(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,s,o=re(t),l=Ye.test(t),c=e.style;if(l||(t=nt(o)),s=C.cssHooks[t]||C.cssHooks[o],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:c[t];"string"===(a=typeof n)&&(r=pe.exec(n))&&r[1]&&(n=be(e,t,r),a="number"),null!=n&&n===n&&("number"!==a||l||(n+=r&&r[3]||(C.cssNumber[o]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,a,s,o=re(t);return Ye.test(t)||(t=nt(o)),(s=C.cssHooks[t]||C.cssHooks[o])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=Ze(e,t,i)),"normal"===r&&t in at&&(r=at[t]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),C.each(["height","width"],function(e,t){C.cssHooks[t]={get:function(e,n,i){if(n)return!it.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?lt(e,t,i):Ke(e,rt,function(){return lt(e,t,i)})},set:function(e,n,i){var r,a=Xe(e),s=!g.scrollboxSize()&&"absolute"===a.position,o=(s||i)&&"border-box"===C.css(e,"boxSizing",!1,a),l=i?ot(e,t,i,o,a):0;return o&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-ot(e,t,"border",!1,a)-.5)),l&&(r=pe.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=C.css(e,t)),st(0,n,l)}}}),C.cssHooks.marginLeft=Qe(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ze(e,"marginLeft"))||e.getBoundingClientRect().left-Ke(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(e,t){C.cssHooks[e+t]={expand:function(n){for(var i=0,r={},a="string"===typeof n?n.split(" "):[n];i<4;i++)r[e+me[i]+t]=a[i]||a[i-2]||a[0];return r}},"margin"!==e&&(C.cssHooks[e+t].set=st)}),C.fn.extend({css:function(e,t){return ee(this,function(e,t,n){var i,r,a={},s=0;if(Array.isArray(t)){for(i=Xe(e),r=t.length;s<r;s++)a[t[s]]=C.css(e,t[s],!1,i);return a}return void 0!==n?C.style(e,t,n):C.css(e,t)},e,t,arguments.length>1)}}),C.Tween=ct,ct.prototype={constructor:ct,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(C.cssNumber[n]?"":"px")},cur:function(){var e=ct.propHooks[this.prop];return e&&e.get?e.get(this):ct.propHooks._default.get(this)},run:function(e){var t,n=ct.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ct.propHooks._default.set(this),this}},ct.prototype.init.prototype=ct.prototype,ct.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||!C.cssHooks[e.prop]&&null==e.elem.style[nt(e.prop)]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}},ct.propHooks.scrollTop=ct.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=ct.prototype.init,C.fx.step={};var dt,ut,ht=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function mt(){ut&&(!1===b.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(mt):i.setTimeout(mt,C.fx.interval),C.fx.tick())}function ft(){return i.setTimeout(function(){dt=void 0}),dt=Date.now()}function gt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=me[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function _t(e,t,n){for(var i,r=(vt.tweeners[t]||[]).concat(vt.tweeners["*"]),a=0,s=r.length;a<s;a++)if(i=r[a].call(n,t,e))return i}function vt(e,t,n){var i,r,a=0,s=vt.prefilters.length,o=C.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=dt||ft(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),a=0,s=c.tweens.length;a<s;a++)c.tweens[a].run(i);return o.notifyWith(e,[c,i,n]),i<1&&s?n:(s||o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||ft(),duration:n.duration,tweens:[],createTween:function(t,n){var i=C.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(o.notifyWith(e,[c,1,0]),o.resolveWith(e,[c,t])):o.rejectWith(e,[c,t]),this}}),d=c.props;for(!function(e,t){var n,i,r,a,s;for(n in e)if(r=t[i=re(n)],a=e[n],Array.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),(s=C.cssHooks[i])&&"expand"in s)for(n in a=s.expand(a),delete e[i],a)n in e||(e[n]=a[n],t[n]=r);else t[i]=r}(d,c.opts.specialEasing);a<s;a++)if(i=vt.prefilters[a].call(c,e,d,c.opts))return _(i.stop)&&(C._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return C.map(d,_t,c),_(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),C.fx.timer(C.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}C.Animation=C.extend(vt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return be(n.elem,e,pe.exec(t),n),n}]},tweener:function(e,t){_(e)?(t=e,e=["*"]):e=e.match(Y);for(var n,i=0,r=e.length;i<r;i++)n=e[i],vt.tweeners[n]=vt.tweeners[n]||[],vt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,a,s,o,l,c,d,u="width"in t||"height"in t,h=this,p={},m=e.style,f=e.nodeType&&ve(e),g=oe.get(e,"fxshow");for(i in n.queue||(null==(s=C._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,o=s.empty.fire,s.empty.fire=function(){s.unqueued||o()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,C.queue(e,"fx").length||s.empty.fire()})})),t)if(r=t[i],ht.test(r)){if(delete t[i],a=a||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;f=!0}p[i]=g&&g[i]||C.style(e,i)}if((l=!C.isEmptyObject(t))||!C.isEmptyObject(p))for(i in u&&1===e.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],null==(c=g&&g.display)&&(c=oe.get(e,"display")),"none"===(d=C.css(e,"display"))&&(c?d=c:(we([e],!0),c=e.style.display||c,d=C.css(e,"display"),we([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===C.css(e,"float")&&(l||(h.done(function(){m.display=c}),null==c&&(d=m.display,c="none"===d?"":d)),m.display="inline-block")),n.overflow&&(m.overflow="hidden",h.always(function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(f=g.hidden):g=oe.access(e,"fxshow",{display:c}),a&&(g.hidden=!f),f&&we([e],!0),h.done(function(){for(i in f||we([e]),oe.remove(e,"fxshow"),p)C.style(e,i,p[i])})),l=_t(f?g[i]:0,i,h),i in g||(g[i]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?vt.prefilters.unshift(e):vt.prefilters.push(e)}}),C.speed=function(e,t,n){var i=e&&"object"===typeof e?C.extend({},e):{complete:n||!n&&t||_(e)&&e,duration:e,easing:n&&t||t&&!_(t)&&t};return C.fx.off?i.duration=0:"number"!==typeof i.duration&&(i.duration in C.fx.speeds?i.duration=C.fx.speeds[i.duration]:i.duration=C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){_(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(e,t,n,i){return this.filter(ve).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=C.isEmptyObject(e),a=C.speed(t,n,i),s=function(){var t=vt(this,C.extend({},e),a);(r||oe.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===a.queue?this.each(s):this.queue(a.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!==typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",a=C.timers,s=oe.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&pt.test(r)&&i(s[r]);for(r=a.length;r--;)a[r].elem!==this||null!=e&&a[r].queue!==e||(a[r].anim.stop(n),t=!1,a.splice(r,1));!t&&n||C.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=oe.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],a=C.timers,s=i?i.length:0;for(n.finish=!0,C.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),C.each(["toggle","show","hide"],function(e,t){var n=C.fn[t];C.fn[t]=function(e,i,r){return null==e||"boolean"===typeof e?n.apply(this,arguments):this.animate(gt(t,!0),e,i,r)}}),C.each({slideDown:gt("show"),slideUp:gt("hide"),slideToggle:gt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){C.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),C.timers=[],C.fx.tick=function(){var e,t=0,n=C.timers;for(dt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||C.fx.stop(),dt=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){ut||(ut=!0,mt())},C.fx.stop=function(){ut=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(e,t){return e=C.fx&&C.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}})},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var bt,yt=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return ee(this,C.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"===typeof e.getAttribute?C.prop(e,t,n):(1===a&&C.isXMLDoc(e)||(r=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?bt:void 0)),void 0!==n?null===n?void C.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=C.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(Y);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),bt={set:function(e,t,n){return!1===t?C.removeAttr(e,n):e.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var n=yt[t]||C.find.attr;yt[t]=function(e,t,i){var r,a,s=t.toLowerCase();return i||(a=yt[s],yt[s]=r,r=null!=n(e,t,i)?s:null,yt[s]=a),r}});var xt=/^(?:input|select|textarea|button)$/i,wt=/^(?:a|area)$/i;function Et(e){return(e.match(Y)||[]).join(" ")}function St(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"===typeof e&&e.match(Y)||[]}C.fn.extend({prop:function(e,t){return ee(this,C.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({prop:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&C.isXMLDoc(e)||(t=C.propFix[t]||t,r=C.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):xt.test(e.nodeName)||wt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(e){var t,n,i,r,a,s;return _(e)?this.each(function(t){C(this).addClass(e.call(this,t,St(this)))}):(t=Ct(e)).length?this.each(function(){if(i=St(this),n=1===this.nodeType&&" "+Et(i)+" "){for(a=0;a<t.length;a++)r=t[a],n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=Et(n),i!==s&&this.setAttribute("class",s)}}):this},removeClass:function(e){var t,n,i,r,a,s;return _(e)?this.each(function(t){C(this).removeClass(e.call(this,t,St(this)))}):arguments.length?(t=Ct(e)).length?this.each(function(){if(i=St(this),n=1===this.nodeType&&" "+Et(i)+" "){for(a=0;a<t.length;a++)for(r=t[a];n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");s=Et(n),i!==s&&this.setAttribute("class",s)}}):this:this.attr("class","")},toggleClass:function(e,t){var n,i,r,a,s=typeof e,o="string"===s||Array.isArray(e);return _(e)?this.each(function(n){C(this).toggleClass(e.call(this,n,St(this),t),t)}):"boolean"===typeof t&&o?t?this.addClass(e):this.removeClass(e):(n=Ct(e),this.each(function(){if(o)for(a=C(this),r=0;r<n.length;r++)i=n[r],a.hasClass(i)?a.removeClass(i):a.addClass(i);else void 0!==e&&"boolean"!==s||((i=St(this))&&oe.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",i||!1===e?"":oe.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+Et(St(n))+" ").indexOf(t)>-1)return!0;return!1}});var Tt=/\r/g;C.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=_(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,C(this).val()):e)?r="":"number"===typeof r?r+="":Array.isArray(r)&&(r=C.map(r,function(e){return null==e?"":e+""})),(t=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=C.valHooks[r.type]||C.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"===typeof(n=r.value)?n.replace(Tt,""):null==n?"":n:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:Et(C.text(e))}},select:{get:function(e){var t,n,i,r=e.options,a=e.selectedIndex,s="select-one"===e.type,o=s?null:[],l=s?a+1:r.length;for(i=a<0?l:s?a:0;i<l;i++)if(((n=r[i]).selected||i===a)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=C(n).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,a=C.makeArray(t),s=r.length;s--;)((i=r[s]).selected=C.inArray(C.valHooks.option.get(i),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=C.inArray(C(e).val(),t)>-1}},g.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Nt=i.location,At={guid:Date.now()},kt=/\?/;C.parseXML=function(e){var t,n;if(!e||"string"!==typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(r){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||C.error("Invalid XML: "+(n?C.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Rt=/^(?:focusinfocus|focusoutblur)$/,It=function(e){e.stopPropagation()};C.extend(C.event,{trigger:function(e,t,n,r){var a,s,o,l,c,d,u,h,m=[n||b],f=p.call(e,"type")?e.type:e,g=p.call(e,"namespace")?e.namespace.split("."):[];if(s=h=o=n=n||b,3!==n.nodeType&&8!==n.nodeType&&!Rt.test(f+C.event.triggered)&&(f.indexOf(".")>-1&&(g=f.split("."),f=g.shift(),g.sort()),c=f.indexOf(":")<0&&"on"+f,(e=e[C.expando]?e:new C.Event(f,"object"===typeof e&&e)).isTrigger=r?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:C.makeArray(t,[e]),u=C.event.special[f]||{},r||!u.trigger||!1!==u.trigger.apply(n,t))){if(!r&&!u.noBubble&&!v(n)){for(l=u.delegateType||f,Rt.test(l+f)||(s=s.parentNode);s;s=s.parentNode)m.push(s),o=s;o===(n.ownerDocument||b)&&m.push(o.defaultView||o.parentWindow||i)}for(a=0;(s=m[a++])&&!e.isPropagationStopped();)h=s,e.type=a>1?l:u.bindType||f,(d=(oe.get(s,"events")||Object.create(null))[e.type]&&oe.get(s,"handle"))&&d.apply(s,t),(d=c&&s[c])&&d.apply&&ae(s)&&(e.result=d.apply(s,t),!1===e.result&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(m.pop(),t)||!ae(n)||c&&_(n[f])&&!v(n)&&((o=n[c])&&(n[c]=null),C.event.triggered=f,e.isPropagationStopped()&&h.addEventListener(f,It),n[f](),e.isPropagationStopped()&&h.removeEventListener(f,It),C.event.triggered=void 0,o&&(n[c]=o)),e.result}},simulate:function(e,t,n){var i=C.extend(new C.Event,n,{type:e,isSimulated:!0});C.event.trigger(i,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return C.event.trigger(e,t,n,!0)}});var Ot=/\[\]$/,jt=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;function Lt(e,t,n,i){var r;if(Array.isArray(t))C.each(t,function(t,r){n||Ot.test(e)?i(e,r):Lt(e+"["+("object"===typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==w(t))i(e,t);else for(r in t)Lt(e+"["+r+"]",t[r],n,i)}C.param=function(e,t){var n,i=[],r=function(e,t){var n=_(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){r(this.name,this.value)});else for(n in e)Lt(n,e[n],t,r);return i.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Dt.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!Ee.test(e))}).map(function(e,t){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,function(e){return{name:t.name,value:e.replace(jt,"\r\n")}}):{name:t.name,value:n.replace(jt,"\r\n")}}).get()}});var Mt=/%20/g,Ut=/#.*$/,Ft=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Vt=/^(?:GET|HEAD)$/,zt=/^\/\//,Ht={},Wt={},Gt="*/".concat("*"),qt=b.createElement("a");function Yt(e){return function(t,n){"string"!==typeof t&&(n=t,t="*");var i,r=0,a=t.toLowerCase().match(Y)||[];if(_(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Xt(e,t,n,i){var r={},a=e===Wt;function s(o){var l;return r[o]=!0,C.each(e[o]||[],function(e,o){var c=o(t,n,i);return"string"!==typeof c||a||r[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function Kt(e,t){var n,i,r=C.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&C.extend(!0,e,i),e}qt.href=Nt.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Nt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Kt(Kt(e,C.ajaxSettings),t):Kt(C.ajaxSettings,e)},ajaxPrefilter:Yt(Ht),ajaxTransport:Yt(Wt),ajax:function(e,t){"object"===typeof e&&(t=e,e=void 0),t=t||{};var n,r,a,s,o,l,c,d,u,h,p=C.ajaxSetup({},t),m=p.context||p,f=p.context&&(m.nodeType||m.jquery)?C(m):C.event,g=C.Deferred(),_=C.Callbacks("once memory"),v=p.statusCode||{},y={},x={},w="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Bt.exec(a);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)v[t]=[v[t],e[t]];return this},abort:function(e){var t=e||w;return n&&n.abort(t),S(0,t),this}};if(g.promise(E),p.url=((e||p.url||Nt.href)+"").replace(zt,Nt.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Y)||[""],null==p.crossDomain){l=b.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=qt.protocol+"//"+qt.host!==l.protocol+"//"+l.host}catch(T){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!==typeof p.data&&(p.data=C.param(p.data,p.traditional)),Xt(Ht,p,t,E),c)return E;for(u in(d=C.event&&p.global)&&0===C.active++&&C.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Vt.test(p.type),r=p.url.replace(Ut,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Mt,"+")):(h=p.url.slice(r.length),p.data&&(p.processData||"string"===typeof p.data)&&(r+=(kt.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Ft,"$1"),h=(kt.test(r)?"&":"?")+"_="+At.guid+++h),p.url=r+h),p.ifModified&&(C.lastModified[r]&&E.setRequestHeader("If-Modified-Since",C.lastModified[r]),C.etag[r]&&E.setRequestHeader("If-None-Match",C.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&E.setRequestHeader("Content-Type",p.contentType),E.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Gt+"; q=0.01":""):p.accepts["*"]),p.headers)E.setRequestHeader(u,p.headers[u]);if(p.beforeSend&&(!1===p.beforeSend.call(m,E,p)||c))return E.abort();if(w="abort",_.add(p.complete),E.done(p.success),E.fail(p.error),n=Xt(Wt,p,t,E)){if(E.readyState=1,d&&f.trigger("ajaxSend",[E,p]),c)return E;p.async&&p.timeout>0&&(o=i.setTimeout(function(){E.abort("timeout")},p.timeout));try{c=!1,n.send(y,S)}catch(T){if(c)throw T;S(-1,T)}}else S(-1,"No Transport");function S(e,t,s,l){var u,h,b,y,x,w=t;c||(c=!0,o&&i.clearTimeout(o),n=void 0,a=l||"",E.readyState=e>0?4:0,u=e>=200&&e<300||304===e,s&&(y=function(e,t,n){for(var i,r,a,s,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in o)if(o[r]&&o[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}s||(s=r)}a=a||s}if(a)return a!==l[0]&&l.unshift(a),n[a]}(p,E,s)),!u&&C.inArray("script",p.dataTypes)>-1&&C.inArray("json",p.dataTypes)<0&&(p.converters["text script"]=function(){}),y=function(e,t,n,i){var r,a,s,o,l,c={},d=e.dataTypes.slice();if(d[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(a=d.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=d.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(s=c[l+" "+a]||c["* "+a]))for(r in c)if((o=r.split(" "))[1]===a&&(s=c[l+" "+o[0]]||c["* "+o[0]])){!0===s?s=c[r]:!0!==c[r]&&(a=o[0],d.unshift(o[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(T){return{state:"parsererror",error:s?T:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(p,y,E,u),u?(p.ifModified&&((x=E.getResponseHeader("Last-Modified"))&&(C.lastModified[r]=x),(x=E.getResponseHeader("etag"))&&(C.etag[r]=x)),204===e||"HEAD"===p.type?w="nocontent":304===e?w="notmodified":(w=y.state,h=y.data,u=!(b=y.error))):(b=w,!e&&w||(w="error",e<0&&(e=0))),E.status=e,E.statusText=(t||w)+"",u?g.resolveWith(m,[h,w,E]):g.rejectWith(m,[E,w,b]),E.statusCode(v),v=void 0,d&&f.trigger(u?"ajaxSuccess":"ajaxError",[E,p,u?h:b]),_.fireWith(m,[E,w]),d&&(f.trigger("ajaxComplete",[E,p]),--C.active||C.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return C.get(e,t,n,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,t){C[t]=function(e,n,i,r){return _(n)&&(r=r||i,i=n,n=void 0),C.ajax(C.extend({url:e,type:t,dataType:r,data:n,success:i},C.isPlainObject(e)&&e))}}),C.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),C._evalUrl=function(e,t,n){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){C.globalEval(e,t,n)}})},C.fn.extend({wrapAll:function(e){var t;return this[0]&&(_(e)&&(e=e.call(this[0])),t=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return _(e)?this.each(function(t){C(this).wrapInner(e.call(this,t))}):this.each(function(){var t=C(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=_(e);return this.each(function(n){C(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Jt={0:200,1223:204},Zt=C.ajaxSettings.xhr();g.cors=!!Zt&&"withCredentials"in Zt,g.ajax=Zt=!!Zt,C.ajaxTransport(function(e){var t,n;if(g.cors||Zt&&!e.crossDomain)return{send:function(r,a){var s,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)o[s]=e.xhrFields[s];for(s in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)o.setRequestHeader(s,r[s]);t=function(e){return function(){t&&(t=n=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!==typeof o.status?a(0,"error"):a(o.status,o.statusText):a(Jt[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!==typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=t(),n=o.onerror=o.ontimeout=t("error"),void 0!==o.onabort?o.onabort=n:o.onreadystatechange=function(){4===o.readyState&&i.setTimeout(function(){t&&n()})},t=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}}),C.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=C("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}});var Qt=[],$t=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qt.pop()||C.expando+"_"+At.guid++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,n){var r,a,s,o=!1!==e.jsonp&&($t.test(e.url)?"url":"string"===typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$t.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=_(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace($t,"$1"+r):!1!==e.jsonp&&(e.url+=(kt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||C.error(r+" was not called"),s[0]},e.dataTypes[0]="json",a=i[r],i[r]=function(){s=arguments},n.always(function(){void 0===a?C(i).removeProp(r):i[r]=a,e[r]&&(e.jsonpCallback=t.jsonpCallback,Qt.push(r)),s&&_(a)&&a(s[0]),s=a=void 0}),"script"}),g.createHTMLDocument=function(){var e=b.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),C.parseHTML=function(e,t,n){return"string"!==typeof e?[]:("boolean"===typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((i=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(i)):t=b),a=!n&&[],(r=B.exec(e))?[t.createElement(r[1])]:(r=Re([e],t,a),a&&a.length&&C(a).remove(),C.merge([],r.childNodes)));var i,r,a},C.fn.load=function(e,t,n){var i,r,a,s=this,o=e.indexOf(" ");return o>-1&&(i=Et(e.slice(o)),e=e.slice(0,o)),_(t)?(n=t,t=void 0):t&&"object"===typeof t&&(r="POST"),s.length>0&&C.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){a=arguments,s.html(i?C("<div>").append(C.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},C.expr.pseudos.animated=function(e){return C.grep(C.timers,function(t){return e===t.elem}).length},C.offset={setOffset:function(e,t,n){var i,r,a,s,o,l,c=C.css(e,"position"),d=C(e),u={};"static"===c&&(e.style.position="relative"),o=d.offset(),a=C.css(e,"top"),l=C.css(e,"left"),("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1?(s=(i=d.position()).top,r=i.left):(s=parseFloat(a)||0,r=parseFloat(l)||0),_(t)&&(t=t.call(e,n,C.extend({},o))),null!=t.top&&(u.top=t.top-o.top+s),null!=t.left&&(u.left=t.left-o.left+r),"using"in t?t.using.call(e,u):d.css(u)}},C.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){C.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===C.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),r.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-C.css(i,"marginTop",!0),left:t.left-r.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||fe})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;C.fn[e]=function(i){return ee(this,function(e,i,r){var a;if(v(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===r)return a?a[t]:e[i];a?a.scrollTo(n?a.pageXOffset:r,n?r:a.pageYOffset):e[i]=r},e,i,arguments.length)}}),C.each(["top","left"],function(e,t){C.cssHooks[t]=Qe(g.pixelPosition,function(e,n){if(n)return n=Ze(e,t),qe.test(n)?C(e).position()[t]+"px":n})}),C.each({Height:"height",Width:"width"},function(e,t){C.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){C.fn[i]=function(r,a){var s=arguments.length&&(n||"boolean"!==typeof r),o=n||(!0===r||!0===a?"margin":"border");return ee(this,function(t,n,r){var a;return v(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===r?C.css(t,n,o):C.style(t,n,r,o)},t,s?r:void 0,s)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){C.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var en=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;C.proxy=function(e,t){var n,i,r;if("string"===typeof t&&(n=e[t],t=e,e=n),_(e))return i=o.call(arguments,2),r=function(){return e.apply(t||this,i.concat(o.call(arguments)))},r.guid=e.guid=e.guid||C.guid++,r},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=N,C.isFunction=_,C.isWindow=v,C.camelCase=re,C.type=w,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},C.trim=function(e){return null==e?"":(e+"").replace(en,"$1")},void 0===(n=function(){return C}.apply(t,[]))||(e.exports=n);var tn=i.jQuery,nn=i.$;return C.noConflict=function(e){return i.$===C&&(i.$=nn),e&&i.jQuery===C&&(i.jQuery=tn),C},"undefined"===typeof r&&(i.jQuery=i.$=C),C})},8625:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=void 0,t.isCustomComponent=function(e,t){if(!e.includes("-"))return Boolean(t&&"string"===typeof t.is);if(s.has(e))return!1;return!0},t.setStyleProp=function(e,t){if("string"!==typeof e)return;if(!e.trim())return void(t.style={});try{t.style=(0,a.default)(e,o)}catch(n){t.style={}}};var r=n(5043),a=i(n(7294)),s=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);var o={reactCompat:!0};t.PRESERVE_CUSTOM_ATTRIBUTES=Number(r.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);t.canTextBeChildOfNode=function(e){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(e.name)};t.returnFirstArg=function(e){return e}},8630:(e,t,n)=>{var i=n(1516),r=n(6806),a=n(8962),s=n(1295),o=n(8710);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return o(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return a(e);case"[object Symbol]":return s(e)}}},8673:(e,t,n)=>{var i=n(3204),r=n(3713),a=n(6571);e.exports=function(e){return a(e)?i(e):r(e)}},8692:(e,t,n)=>{"use strict";function i(e,t,n,i,r,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}const r={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(e=>{r[e]=new i(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(e=>{let[t,n]=e;r[t]=new i(t,1,!1,n,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(e=>{r[e]=new i(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{r[e]=new i(e,2,!1,e,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{r[e]=new i(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(e=>{r[e]=new i(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(e=>{r[e]=new i(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(e=>{r[e]=new i(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(e=>{r[e]=new i(e,5,!1,e.toLowerCase(),null,!1,!1)});const a=/[\-\:]([a-z])/g,s=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{const t=e.replace(a,s);r[t]=new i(t,1,!1,e,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{const t=e.replace(a,s);r[t]=new i(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(e=>{const t=e.replace(a,s);r[t]=new i(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(e=>{r[e]=new i(e,1,!1,e.toLowerCase(),null,!1,!1)});r.xlinkHref=new i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(e=>{r[e]=new i(e,1,!1,e.toLowerCase(),null,!0,!0)});const{CAMELCASE:o,SAME:l,possibleStandardNames:c}=n(8952),d=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),u=Object.keys(c).reduce((e,t)=>{const n=c[t];return n===l?e[t]=t:n===o?e[t.toLowerCase()]=t:e[t]=n,e},{});t.BOOLEAN=3,t.BOOLEANISH_STRING=2,t.NUMERIC=5,t.OVERLOADED_BOOLEAN=4,t.POSITIVE_NUMERIC=6,t.RESERVED=0,t.STRING=1,t.getPropertyInfo=function(e){return r.hasOwnProperty(e)?r[e]:null},t.isCustomAttribute=d,t.possibleStandardNames=u},8704:e=>{function t(e,t){var n=e.length,i=new Array(n),r={},a=n,s=function(e){for(var t=new Map,n=0,i=e.length;n<i;n++){var r=e[n];t.has(r[0])||t.set(r[0],new Set),t.has(r[1])||t.set(r[1],new Set),t.get(r[0]).add(r[1])}return t}(t),o=function(e){for(var t=new Map,n=0,i=e.length;n<i;n++)t.set(e[n],n);return t}(e);for(t.forEach(function(e){if(!o.has(e[0])||!o.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});a--;)r[a]||l(e[a],a,new Set);return i;function l(e,t,a){if(a.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(h){c=""}throw new Error("Cyclic dependency"+c)}if(!o.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!r[t]){r[t]=!0;var d=s.get(e)||new Set;if(t=(d=Array.from(d)).length){a.add(e);do{var u=d[--t];l(u,o.get(u),a)}while(t);a.delete(e)}i[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,i=e.length;n<i;n++){var r=e[n];t.add(r[0]),t.add(r[1])}return Array.from(t)}(e),e)},e.exports.array=t},8710:(e,t,n)=>{var i=n(1516);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},8724:(e,t,n)=>{var i=n(7615),r=n(5051),a=n(2154),s=n(8734),o=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=a,l.prototype.has=s,l.prototype.set=o,e.exports=l},8734:(e,t,n)=>{var i=n(5575),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},8762:(e,t,n)=>{var i=n(402),r=n(4390),a=n(3846);e.exports=function(e,t,n,s,o,l,c,d,u,h){var p=8&t;t|=p?32:64,4&(t&=~(p?64:32))||(t&=-4);var m=[e,t,o,p?l:void 0,p?c:void 0,p?void 0:l,p?void 0:c,d,u,h],f=n.apply(void 0,m);return i(e)&&r(f,m),f.placeholder=s,a(f,e,t)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8895:e=>{e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},8902:(e,t,n)=>{var i=n(4816),r=n(6179),a=n(6704);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=r,s.prototype.has=a,e.exports=s},8952:(e,t)=>{t.SAME=0;t.CAMELCASE=1,t.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},8962:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},8990:(e,t,n)=>{var i=n(9995)(n(2520));e.exports=i},8991:(e,t,n)=>{var i=n(523),r=n(2990),a=n(2112),s=n(4052),o=n(2761),l=n(9360),c=Object.prototype.hasOwnProperty;function d(e){if(o(e)&&!s(e)&&!(e instanceof i)){if(e instanceof r)return e;if(c.call(e,"__wrapped__"))return l(e)}return new r(e)}d.prototype=a.prototype,d.prototype.constructor=d,e.exports=d},9045:(e,t,n)=>{var i=n(3738).default;e.exports=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9057:(e,t,n)=>{var i=n(5324),r=n(2777),a=n(4052),s=n(9194),o=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,d=(t=i(t,e)).length,u=!1;++c<d;){var h=l(t[c]);if(!(u=null!=e&&n(e,h)))break;e=e[h]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&o(d)&&s(h,d)&&(a(e)||r(e))}},9075:(e,t,n)=>{var i=n(6614),r=n(6326);e.exports=function(e,t){return i(e,r(e),t)}},9096:(e,t,n)=>{var i=n(9256),r=n(5029),a=n(3279),s=n(4052),o=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?s(e)?r(e[0],e[1]):i(e):o(e)}},9115:(e,t,n)=>{var i=n(8348),r=n(6311),a=n(715);e.exports=function(e){return r(e)?a(e):i(e)}},9140:(e,t,n)=>{var i=n(7303);e.exports=function(e){var t=i(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var i=n(6913),r=n(2761);e.exports=function(e){return"number"==typeof e||r(e)&&"[object Number]"==i(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},9224:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaWlDQ1BEaXNwbGF5IFAzAAB4nHWQvUvDUBTFT6tS0DqIDh0cMolD1NIKdnFoKxRFMFQFq1OafgltfCQpUnETVyn4H1jBWXCwiFRwcXAQRAcR3Zw6KbhoeN6XVNoi3sfl/Ticc7lcwBtQGSv2AijplpFMxKS11Lrke4OHnlOqZrKooiwK/v276/PR9d5PiFlNu3YQ2U9cl84ul3aeAlN//V3Vn8maGv3f1EGNGRbgkYmVbYsJ3iUeMWgp4qrgvMvHgtMunzuelWSc+JZY0gpqhrhJLKc79HwHl4plrbWD2N6f1VeXxRzqUcxhEyYYilBRgQQF4X/8044/ji1yV2BQLo8CLMpESRETssTz0KFhEjJxCEHqkLhz634PrfvJbW3vFZhtcM4v2tpCAzidoZPV29p4BBgaAG7qTDVUR+qh9uZywPsJMJgChu8os2HmwiF3e38M6Hvh/GMM8B0CdpXzryPO7RqFn4Er/QcXKWq8MSlPPgAAAopJREFUeAGtVF1Ik1EYfs42ixD1sxYlCX1EP6Ski0gLpWZ/FCUskG68aNKPW5Td1EV0Y3URWOAsCzPh06Lr9QdhiT8XZVbi1NrEVvtAnSmSnxm03NbpnNGIb/W5CXvgnPO+57zPc97zS6ABSqnAGktPpmkna7ktEFBXwXS/i9ldhBAZCUG0ibo1p6SKcy2U47WQpyocVjamE20Sj42l69RidgubuY9zEAeUECuL7eCc/wrqRRsLgPPP8hKFGOGI9qMqQZaR6GyyS7nrsrBQmHKy8ayp0jFac8vEfQOv5sYmnKW788DLfWcPbkgdcYV2FKzFmbJCFPreY7LqvPBlLljLukvQLZjMvet30dFrjTQcCNAohn0Tmofi9fqp3yHRd2IxfbNqG5Uv1NCg8o0PmQmrJKZs1cqkJzNf5RdO98+TNxwG936riRj0SBSeQ8c0x379CFgIXwaSCB2SDB1LT0GSwLXIV+fzDr1RMGsFeUqPq/yNT5q0QkGATkOmZW8ns82hmVkorV2goTD06WlYerCERZB/SOnFW1U+531/O4Dg5BRSli97yPewzl9/T+nPPwDf2cv46RuBz5iFWqldM5OaxhfweMcjtiEjDambNkR4Q0dOPNKxB65M3XngWFlZjtm7N2F1h1BQXo9Bz5imoOfjOHL3XYHlZAP6PowgZYUR2RdPV29XhuTIKecNttbZPsO1p6oF7d3D/G0jETxuG8CW0qsoKrsus8Qu8b6IIM/yadvAYWbKWDjkV72fSqLO33soN8iULt7M/rlmJAgeyzmcG+0zqOdy8DtZQUV78+pso5XZ/POM/R+V1CWLXGxXquG73RU7CUEcvBRyTCnQZ3A7iPBMkeJ2zRf/G1yTHg1Sav57AAAAAElFTkSuQmCC"},9256:(e,t,n)=>{var i=n(6532),r=n(3781),a=n(1310);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},9261:(e,t,n)=>{var i=n(8420),r=n(5324),a=n(9194),s=n(6686),o=n(914);e.exports=function(e,t,n,l){if(!s(e))return e;for(var c=-1,d=(t=r(t,e)).length,u=d-1,h=e;null!=h&&++c<d;){var p=o(t[c]),m=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=u){var f=h[p];void 0===(m=l?l(f,p,h):void 0)&&(m=s(f)?f:a(t[c+1])?[]:{})}i(h,p,m),h=h[p]}return e}},9360:(e,t,n)=>{var i=n(523),r=n(2990),a=n(1980);e.exports=function(e){if(e instanceof i)return e.clone();var t=new r(e.__wrapped__,e.__chain__);return t.__actions__=a(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},9364:(e,t,n)=>{var i=n(9742),r=n(9096),a=n(61);e.exports=function(e,t){return e&&e.length?i(e,r(t,2),a):void 0}},9394:(e,t,n)=>{var i=n(2622);e.exports=function(e){return i(this,e).has(e)}},9395:(e,t,n)=>{var i=n(4262),r=n(9621),a=n(8673);e.exports=function(e){return i(e,a,r)}},9417:(e,t,n)=>{var i=n(6686);e.exports=function(e){return e===e&&!i(e)}},9421:e=>{e.exports=function(e,t,n,i){var r=-1,a=null==e?0:e.length;for(i&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}},9441:(e,t,n)=>{var i=n(9096),r=n(6835),a=n(7273);e.exports=function(e,t){return a(e,r(i(t)))}},9449:(e,t,n)=>{var i=n(4710),r=n(2952),a=n(9096),s=n(4052);e.exports=function(e,t){return function(n,o){var l=s(n)?i:r,c=t?t():{};return l(n,e,a(o,2),c)}}},9509:e=>{"use strict";e.exports=JSON.parse('[{"code":"AD","name":"Andorra"},{"code":"AE","name":"United Arab Emirates (the)"},{"code":"AF","name":"Afghanistan"},{"code":"AG","name":"Antigua and Barbuda"},{"code":"AI","name":"Anguilla"},{"code":"AL","name":"Albania"},{"code":"AM","name":"Armenia"},{"code":"AO","name":"Angola"},{"code":"AQ","name":"Antarctica"},{"code":"AR","name":"Argentina"},{"code":"AS","name":"American Samoa"},{"code":"AT","name":"Austria"},{"code":"AU","name":"Australia"},{"code":"AW","name":"Aruba"},{"code":"AX","name":"\xc5land Islands"},{"code":"AZ","name":"Azerbaijan"},{"code":"BA","name":"Bosnia and Herzegovina"},{"code":"BB","name":"Barbados"},{"code":"BD","name":"Bangladesh"},{"code":"BE","name":"Belgium"},{"code":"BF","name":"Burkina Faso"},{"code":"BG","name":"Bulgaria"},{"code":"BH","name":"Bahrain"},{"code":"BI","name":"Burundi"},{"code":"BJ","name":"Benin"},{"code":"BL","name":"Saint Barth\xe9lemy"},{"code":"BM","name":"Bermuda"},{"code":"BN","name":"Brunei Darussalam"},{"code":"BO","name":"Bolivia (Plurinational State of)"},{"code":"BQ","name":"Bonaire, Sint Eustatius and Saba"},{"code":"BR","name":"Brazil"},{"code":"BS","name":"Bahamas (The)"},{"code":"BT","name":"Bhutan"},{"code":"BV","name":"Bouvet Island"},{"code":"BW","name":"Botswana"},{"code":"BY","name":"Belarus"},{"code":"BZ","name":"Belize"},{"code":"CA","name":"Canada"},{"code":"CC","name":"Cocos (Keeling) Islands (the)"},{"code":"CD","name":"Congo (the Democratic Republic of the)"},{"code":"CF","name":"Central African Republic (the)"},{"code":"CG","name":"Congo (the)"},{"code":"CH","name":"Switzerland"},{"code":"CI","name":"C\xf4te d\'Ivoire"},{"code":"CK","name":"Cook Islands (the)"},{"code":"CL","name":"Chile"},{"code":"CM","name":"Cameroon"},{"code":"CN","name":"China"},{"code":"CO","name":"Colombia"},{"code":"CR","name":"Costa Rica"},{"code":"CU","name":"Cuba"},{"code":"CV","name":"Cabo Verde"},{"code":"CW","name":"Cura\xe7ao"},{"code":"CX","name":"Christmas Island"},{"code":"CY","name":"Cyprus"},{"code":"CZ","name":"Czechia"},{"code":"DE","name":"Germany"},{"code":"DJ","name":"Djibouti"},{"code":"DK","name":"Denmark"},{"code":"DM","name":"Dominica"},{"code":"DO","name":"Dominican Republic (the)"},{"code":"DZ","name":"Algeria"},{"code":"EC","name":"Ecuador"},{"code":"EE","name":"Estonia"},{"code":"EG","name":"Egypt"},{"code":"EH","name":"Western Sahara*"},{"code":"ER","name":"Eritrea"},{"code":"ES","name":"Spain"},{"code":"ET","name":"Ethiopia"},{"code":"FI","name":"Finland"},{"code":"FJ","name":"Fiji"},{"code":"FK","name":"Falkland Islands (the) [Malvinas]"},{"code":"FM","name":"Micronesia (Federated States of)"},{"code":"FO","name":"Faroe Islands (the)"},{"code":"FR","name":"France"},{"code":"GA","name":"Gabon"},{"code":"GB","name":"United Kingdom of Great Britain and Northern Ireland (the)"},{"code":"GD","name":"Grenada"},{"code":"GE","name":"Georgia"},{"code":"GF","name":"French Guiana"},{"code":"GG","name":"Guernsey"},{"code":"GH","name":"Ghana"},{"code":"GI","name":"Gibraltar"},{"code":"GL","name":"Greenland"},{"code":"GM","name":"Gambia (the)"},{"code":"GN","name":"Guinea"},{"code":"GP","name":"Guadeloupe"},{"code":"GQ","name":"Equatorial Guinea"},{"code":"GR","name":"Greece"},{"code":"GS","name":"South Georgia and the South Sandwich Islands"},{"code":"GT","name":"Guatemala"},{"code":"GU","name":"Guam"},{"code":"GW","name":"Guinea-Bissau"},{"code":"GY","name":"Guyana"},{"code":"HK","name":"Hong Kong"},{"code":"HM","name":"Heard Island and McDonald Islands"},{"code":"HN","name":"Honduras"},{"code":"HR","name":"Croatia"},{"code":"HT","name":"Haiti"},{"code":"HU","name":"Hungary"},{"code":"ID","name":"Indonesia"},{"code":"IE","name":"Ireland"},{"code":"IL","name":"Israel"},{"code":"IM","name":"Isle of Man"},{"code":"IN","name":"India"},{"code":"IO","name":"British Indian Ocean Territory (the)"},{"code":"IQ","name":"Iraq"},{"code":"IR","name":"Iran (Islamic Republic of)"},{"code":"IS","name":"Iceland"},{"code":"IT","name":"Italy"},{"code":"JE","name":"Jersey"},{"code":"JM","name":"Jamaica"},{"code":"JO","name":"Jordan"},{"code":"JP","name":"Japan"},{"code":"KE","name":"Kenya"},{"code":"KG","name":"Kyrgyzstan"},{"code":"KH","name":"Cambodia"},{"code":"KI","name":"Kiribati"},{"code":"KM","name":"Comoros (the)"},{"code":"KN","name":"Saint Kitts and Nevis"},{"code":"KP","name":"Korea (the Democratic People\'s Republic of)"},{"code":"KR","name":"Korea (the Republic of)"},{"code":"KW","name":"Kuwait"},{"code":"KY","name":"Cayman Islands (the)"},{"code":"KZ","name":"Kazakhstan"},{"code":"LA","name":"Lao People\'s Democratic Republic (the)"},{"code":"LB","name":"Lebanon"},{"code":"LC","name":"Saint Lucia"},{"code":"LI","name":"Liechtenstein"},{"code":"LK","name":"Sri Lanka"},{"code":"LR","name":"Liberia"},{"code":"LS","name":"Lesotho"},{"code":"LT","name":"Lithuania"},{"code":"LU","name":"Luxembourg"},{"code":"LV","name":"Latvia"},{"code":"LY","name":"Libya"},{"code":"MA","name":"Morocco"},{"code":"MC","name":"Monaco"},{"code":"MD","name":"Moldova (the Republic of)"},{"code":"ME","name":"Montenegro"},{"code":"MF","name":"Saint Martin (French part)"},{"code":"MG","name":"Madagascar"},{"code":"MH","name":"Marshall Islands (the)"},{"code":"MK","name":"North Macedonia"},{"code":"ML","name":"Mali"},{"code":"MM","name":"Myanmar"},{"code":"MN","name":"Mongolia"},{"code":"MO","name":"Macao"},{"code":"MP","name":"Northern Mariana Islands (the)"},{"code":"MQ","name":"Martinique"},{"code":"MR","name":"Mauritania"},{"code":"MS","name":"Montserrat"},{"code":"MT","name":"Malta"},{"code":"MU","name":"Mauritius"},{"code":"MV","name":"Maldives"},{"code":"MW","name":"Malawi"},{"code":"MX","name":"Mexico"},{"code":"MY","name":"Malaysia"},{"code":"MZ","name":"Mozambique"},{"code":"NA","name":"Namibia"},{"code":"NC","name":"New Caledonia"},{"code":"NE","name":"Niger (the)"},{"code":"NF","name":"Norfolk Island"},{"code":"NG","name":"Nigeria"},{"code":"NI","name":"Nicaragua"},{"code":"NL","name":"Netherlands (Kingdom of the)"},{"code":"NO","name":"Norway"},{"code":"NP","name":"Nepal"},{"code":"NR","name":"Nauru"},{"code":"NU","name":"Niue"},{"code":"NZ","name":"New Zealand"},{"code":"OM","name":"Oman"},{"code":"PA","name":"Panama"},{"code":"PE","name":"Peru"},{"code":"PF","name":"French Polynesia"},{"code":"PG","name":"Papua New Guinea"},{"code":"PH","name":"Philippines (the)"},{"code":"PK","name":"Pakistan"},{"code":"PL","name":"Poland"},{"code":"PM","name":"Saint Pierre and Miquelon"},{"code":"PN","name":"Pitcairn"},{"code":"PR","name":"Puerto Rico"},{"code":"PS","name":"Palestine, State of"},{"code":"PT","name":"Portugal"},{"code":"PW","name":"Palau"},{"code":"PY","name":"Paraguay"},{"code":"QA","name":"Qatar"},{"code":"RE","name":"R\xe9union"},{"code":"RO","name":"Romania"},{"code":"RS","name":"Serbia"},{"code":"RU","name":"Russian Federation (the)"},{"code":"RW","name":"Rwanda"},{"code":"SA","name":"Saudi Arabia"},{"code":"SB","name":"Solomon Islands"},{"code":"SC","name":"Seychelles"},{"code":"SD","name":"Sudan (the)"},{"code":"SE","name":"Sweden"},{"code":"SG","name":"Singapore"},{"code":"SH","name":"Saint Helena, Ascension and Tristan da Cunha"},{"code":"SI","name":"Slovenia"},{"code":"SJ","name":"Svalbard and Jan Mayen"},{"code":"SK","name":"Slovakia"},{"code":"SL","name":"Sierra Leone"},{"code":"SM","name":"San Marino"},{"code":"SN","name":"Senegal"},{"code":"SO","name":"Somalia"},{"code":"SR","name":"Suriname"},{"code":"SS","name":"South Sudan"},{"code":"ST","name":"Sao Tome and Principe"},{"code":"SV","name":"El Salvador"},{"code":"SX","name":"Sint Maarten (Dutch part)"},{"code":"SY","name":"Syrian Arab Republic (the)"},{"code":"SZ","name":"Eswatini"},{"code":"TC","name":"Turks and Caicos Islands (the)"},{"code":"TD","name":"Chad"},{"code":"TF","name":"French Southern Territories (the)"},{"code":"TG","name":"Togo"},{"code":"TH","name":"Thailand"},{"code":"TJ","name":"Tajikistan"},{"code":"TK","name":"Tokelau"},{"code":"TL","name":"Timor-Leste"},{"code":"TM","name":"Turkmenistan"},{"code":"TN","name":"Tunisia"},{"code":"TO","name":"Tonga"},{"code":"TR","name":"T\xfcrkiye"},{"code":"TT","name":"Trinidad and Tobago"},{"code":"TV","name":"Tuvalu"},{"code":"TW","name":"Taiwan (Province of China)"},{"code":"TZ","name":"Tanzania, the United Republic of"},{"code":"UA","name":"Ukraine"},{"code":"UG","name":"Uganda"},{"code":"UM","name":"United States Minor Outlying Islands (the)"},{"code":"US","name":"United States of America (the)"},{"code":"UY","name":"Uruguay"},{"code":"UZ","name":"Uzbekistan"},{"code":"VA","name":"Holy See (the)"},{"code":"VC","name":"Saint Vincent and the Grenadines"},{"code":"VE","name":"Venezuela (Bolivarian Republic of)"},{"code":"VG","name":"Virgin Islands (British)"},{"code":"VI","name":"Virgin Islands (U.S.)"},{"code":"VN","name":"Viet Nam"},{"code":"VU","name":"Vanuatu"},{"code":"WF","name":"Wallis and Futuna"},{"code":"WS","name":"Samoa"},{"code":"YE","name":"Yemen"},{"code":"YT","name":"Mayotte"},{"code":"ZA","name":"South Africa"},{"code":"ZM","name":"Zambia"},{"code":"ZW","name":"Zimbabwe"}]')},9621:(e,t,n)=>{var i=n(7529),r=n(7828),a=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,o=s?function(e){return null==e?[]:(e=Object(e),i(s(e),function(t){return a.call(e,t)}))}:r;e.exports=o},9648:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var i=n(9841);e.exports=function(e,t,n){for(var r=-1,a=e.length;++r<a;){var s=e[r],o=t(s);if(null!=o&&(void 0===l?o===o&&!i(o):n(o,l)))var l=o,c=s}return c}},9812:(e,t,n)=>{var i=n(6552).Symbol;e.exports=i},9829:(e,t,n)=>{var i=n(8541),r=n(1141),a=n(8189),s=n(6372),o=n(6219),l=n(9115),c=n(1069);e.exports=function(e,t,n){if((e=c(e))&&(n||void 0===t))return r(e);if(!e||!(t=i(t)))return e;var d=l(e),u=l(t),h=o(d,u),p=s(d,u)+1;return a(d,h,p).join("")}},9835:(e,t,n)=>{var i=n(1775),r=n(9449),a=Object.prototype.hasOwnProperty,s=r(function(e,t,n){a.call(e,n)?e[n].push(t):i(e,n,[t])});e.exports=s},9841:(e,t,n)=>{var i=n(6913),r=n(2761);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},9935:(e,t,n)=>{var i=n(1340),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():r.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var i=n(9812),r=n(2929),a=n(3211),s=n(3668),o=n(4160),l=n(2074),c=i?i.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,n,i,c,u,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new r(e),new r(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=o;case"[object Set]":var m=1&i;if(p||(p=l),e.size!=t.size&&!m)return!1;var f=h.get(e);if(f)return f==t;i|=2,h.set(e,t);var g=s(p(e),p(t),i,c,u,h);return h.delete(e),g;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},9995:(e,t,n)=>{var i=n(9096),r=n(6571),a=n(8673);e.exports=function(e){return function(t,n,s){var o=Object(t);if(!r(t)){var l=i(n,3);t=a(t),n=function(e){return l(o[e],e,o)}}var c=e(t,n,s);return c>-1?o[l?t[c]:c]:void 0}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&i;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>i[e]);return s.default=()=>i,n.d(a,s),a}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,i)=>(n.f[i](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{8:"4baba08f",70:"8fdb0f72",71:"d91a6763",195:"7d12e84b",293:"68d5f295",349:"073cf978",360:"12a5e1e9",401:"22a4839e",419:"36b2af41",606:"fe3244d4",621:"4b585715",635:"8ad59462",832:"4c9defa4",870:"4df1861b"}[e]+".chunk.js",n.miniCssF=e=>"static/css/"+e+"."+{8:"77edfc4a",70:"6cb0267e",71:"87959abf",195:"b8ef5f74",293:"72c0937e",349:"aad7b08a",360:"804374f8",401:"50b62ecb",419:"0b94cc9e",606:"20b5474f",621:"ee625e38",635:"0f0f9dfe",832:"22a70b04",870:"a3440ccd"}[e]+".chunk.css",n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="reloaded-astrology:";n.l=(i,r,a,s)=>{if(e[i])e[i].push(r);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+a){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=i),e[i]=[r];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var r=e[i];if(delete e[i],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{if("undefined"!==typeof document){var e=e=>new Promise((t,i)=>{var r=n.miniCssF(e),a=n.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var r=(s=n[i]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(r===e||r===t))return s}var a=document.getElementsByTagName("style");for(i=0;i<a.length;i++){var s;if((r=(s=a[i]).getAttribute("data-href"))===e||r===t)return s}})(r,a))return t();((e,t,i,r,a)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",n.nc&&(s.nonce=n.nc),s.onerror=s.onload=n=>{if(s.onerror=s.onload=null,"load"===n.type)r();else{var i=n&&n.type,o=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+i+": "+o+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=i,l.request=o,s.parentNode&&s.parentNode.removeChild(s),a(l)}},s.href=t,i?i.parentNode.insertBefore(s,i.nextSibling):document.head.appendChild(s)})(e,a,null,t,i)}),t={792:0};n.f.miniCss=(n,i)=>{t[n]?i.push(t[n]):0!==t[n]&&{8:1,70:1,71:1,195:1,293:1,349:1,360:1,401:1,419:1,606:1,621:1,635:1,832:1,870:1}[n]&&i.push(t[n]=e(n).then(()=>{t[n]=0},e=>{throw delete t[n],e}))}}})(),(()=>{var e={792:0};n.f.j=(t,i)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var a=new Promise((n,i)=>r=e[t]=[n,i]);i.push(r[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,i=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,r[1](o)}},"chunk-"+t,t)}};var t=(t,i)=>{var r,a,[s,o,l]=i,c=0;if(s.some(t=>0!==e[t])){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)l(n)}for(t&&t(i);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},i=self.webpackChunkreloaded_astrology=self.webpackChunkreloaded_astrology||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Ho,hasStandardBrowserEnv:()=>Go,hasStandardBrowserWebWorkerEnv:()=>qo,navigator:()=>Wo,origin:()=>Yo});var t={};n.r(t),n.d(t,{after:()=>MA,afterToday:()=>FA,allowedDays:()=>PA,allowedMaxDays:()=>jA,allowedRange:()=>DA,before:()=>LA,beforeToday:()=>UA,combine:()=>BA});var i={};n.r(i),n.d(i,{Decoder:()=>EO,Encoder:()=>xO,PacketType:()=>yO,protocol:()=>bO});var r,a=n(5043),s=n.t(a,2),o=n(4391),l=n(7950),c=n.t(l,2);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},d.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function h(e){return void 0===e&&(e={}),b(function(e,t){let{pathname:n,search:i,hash:r}=e.location;return g("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:_(t)},null,e)}function p(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function m(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function g(e,t,n,i){return void 0===n&&(n=null),d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?v(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function _(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function v(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function b(e,t,n,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:s=!1}=i,o=a.history,l=r.Pop,c=null,h=m();function m(){return(o.state||{idx:null}).idx}function v(){l=r.Pop;let e=m(),t=null==e?null:e-h;h=e,c&&c({action:l,location:y.location,delta:t})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:_(e);return n=n.replace(/ $/,"%20"),p(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,o.replaceState(d({},o.state,{idx:h}),""));let y={get action(){return l},get location(){return e(a,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(u,v),c=e,()=>{a.removeEventListener(u,v),c=null}},createHref:e=>t(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let i=g(y.location,e,t);n&&n(i,e),h=m()+1;let d=f(i,h),u=y.createHref(i);try{o.pushState(d,"",u)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;a.location.assign(u)}s&&c&&c({action:l,location:y.location,delta:1})},replace:function(e,t){l=r.Replace;let i=g(y.location,e,t);n&&n(i,e),h=m();let a=f(i,h),d=y.createHref(i);o.replaceState(a,"",d),s&&c&&c({action:l,location:y.location,delta:0})},go:e=>o.go(e)};return y}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));const x=new Set(["lazy","caseSensitive","path","id","index","children"]);function w(e,t,n,i){return void 0===n&&(n=[]),void 0===i&&(i={}),e.map((e,r)=>{let a=[...n,String(r)],s="string"===typeof e.id?e.id:a.join("-");if(p(!0!==e.index||!e.children,"Cannot specify children on an index route"),p(!i[s],'Found a route id collision on id "'+s+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){let n=d({},e,t(e),{id:s});return i[s]=n,n}{let n=d({},e,t(e),{id:s,children:void 0});return i[s]=n,e.children&&(n.children=w(e.children,t,a,i)),n}})}function E(e,t,n){return void 0===n&&(n="/"),S(e,t,n,!1)}function S(e,t,n,i){let r=U(("string"===typeof t?v(t):t).pathname||"/",n);if(null==r)return null;let a=C(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=M(r);s=D(a[o],e,i)}return s}function C(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};s.relativePath.startsWith("/")&&(p(s.relativePath.startsWith(i),'Absolute route path "'+s.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(i.length));let o=H([i,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),C(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:P(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of T(e.path))r(e,t,i);else r(e,t)}),t}function T(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===i.length)return r?[a,""]:[a];let s=T(i.join("/")),o=[];return o.push(...s.map(e=>""===e?a:[a,e].join("/"))),r&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,A=3,k=2,R=1,I=10,O=-2,j=e=>"*"===e;function P(e,t){let n=e.split("/"),i=n.length;return n.some(j)&&(i+=O),t&&(i+=k),n.filter(e=>!j(e)).reduce((e,t)=>e+(N.test(t)?A:""===t?R:I),i)}function D(e,t,n){void 0===n&&(n=!1);let{routesMeta:i}=e,r={},a="/",s=[];for(let o=0;o<i.length;++o){let e=i[o],l=o===i.length-1,c="/"===a?t:t.slice(a.length)||"/",d=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!i[i.length-1].route.index&&(d=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),s.push({params:r,pathname:H([a,d.pathname]),pathnameBase:W(H([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=H([a,d.pathnameBase]))}return s}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let a=new RegExp(r,t?void 0:"i");return[a,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),o=r.slice(1),l=i.reduce((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[i]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:s,pattern:e}}function M(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function F(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function B(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function V(e,t){let n=B(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function z(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=v(e):(r=d({},e),p(!r.pathname||!r.pathname.includes("?"),F("?","pathname","search",r)),p(!r.pathname||!r.pathname.includes("#"),F("#","pathname","hash",r)),p(!r.search||!r.search.includes("#"),F("#","search","hash",r)));let a,s=""===e||""===r.pathname,o=s?"/":r.pathname;if(null==o)a=n;else{let e=t.length-1;if(!i&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?v(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:G(i),hash:q(r)}}(r,a),c=o&&"/"!==o&&o.endsWith("/"),u=(s||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const H=e=>e.join("/").replace(/\/\/+/g,"/"),W=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),G=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;class Y{constructor(e,t,n,i){void 0===i&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function X(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const K=["post","put","patch","delete"],J=new Set(K),Z=["get",...K],Q=new Set(Z),$=new Set([301,302,303,307,308]),ee=new Set([307,308]),te={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ne={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ie={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},re=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ae=e=>({hasErrorBoundary:Boolean(e.hasErrorBoundary)}),se="remix-router-transitions";function oe(e){const t=e.window?e.window:"undefined"!==typeof window?window:void 0,n="undefined"!==typeof t&&"undefined"!==typeof t.document&&"undefined"!==typeof t.document.createElement,i=!n;let a;if(p(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)a=e.mapRouteProperties;else if(e.detectErrorBoundary){let t=e.detectErrorBoundary;a=e=>({hasErrorBoundary:t(e)})}else a=ae;let s,o,l,c={},u=w(e.routes,a,void 0,c),h=e.basename||"/",f=e.dataStrategy||_e,_=e.patchRoutesOnNavigation,v=d({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),b=null,x=new Set,C=null,T=null,N=null,A=null!=e.hydrationData,k=E(u,e.history.location,h),R=!1,I=null;if(null==k&&!_){let t=Ie(404,{pathname:e.history.location.pathname}),{matches:n,route:i}=Re(u);k=n,I={[i.id]:t}}if(k&&!e.hydrationData){ct(k,u,e.history.location.pathname).active&&(k=null)}if(k)if(k.some(e=>e.route.lazy))o=!1;else if(k.some(e=>e.route.loader))if(v.v7_partialHydration){let t=e.hydrationData?e.hydrationData.loaderData:null,n=e.hydrationData?e.hydrationData.errors:null;if(n){let e=k.findIndex(e=>void 0!==n[e.route.id]);o=k.slice(0,e+1).every(e=>!he(e.route,t,n))}else o=k.every(e=>!he(e.route,t,n))}else o=null!=e.hydrationData;else o=!0;else if(o=!1,k=[],v.v7_partialHydration){let t=ct(null,u,e.history.location.pathname);t.active&&t.matches&&(R=!0,k=t.matches)}let O,j,P={historyAction:e.history.action,location:e.history.location,matches:k,initialized:o,navigation:te,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||I,fetchers:new Map,blockers:new Map},D=r.Pop,L=!1,M=!1,F=new Map,B=null,V=!1,z=!1,H=[],W=new Set,G=new Map,q=0,Y=-1,K=new Map,J=new Set,Z=new Map,Q=new Map,$=new Set,oe=new Map,de=new Map;function pe(e,t){void 0===t&&(t={}),P=d({},P,e);let n=[],i=[];v.v7_fetcherPersist&&P.fetchers.forEach((e,t)=>{"idle"===e.state&&($.has(t)?i.push(t):n.push(t))}),$.forEach(e=>{P.fetchers.has(e)||G.has(e)||i.push(e)}),[...x].forEach(e=>e(P,{deletedFetchers:i,viewTransitionOpts:t.viewTransitionOpts,flushSync:!0===t.flushSync})),v.v7_fetcherPersist?(n.forEach(e=>P.fetchers.delete(e)),i.forEach(e=>Ze(e))):i.forEach(e=>$.delete(e))}function me(t,n,i){var a,o;let l,{flushSync:c}=void 0===i?{}:i,h=null!=P.actionData&&null!=P.navigation.formMethod&&Ve(P.navigation.formMethod)&&"loading"===P.navigation.state&&!0!==(null==(a=t.state)?void 0:a._isRedirect);l=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:h?P.actionData:null;let p=n.loaderData?Ne(P.loaderData,n.loaderData,n.matches||[],n.errors):P.loaderData,m=P.blockers;m.size>0&&(m=new Map(m),m.forEach((e,t)=>m.set(t,ie)));let f,g=!0===L||null!=P.navigation.formMethod&&Ve(P.navigation.formMethod)&&!0!==(null==(o=t.state)?void 0:o._isRedirect);if(s&&(u=s,s=void 0),V||D===r.Pop||(D===r.Push?e.history.push(t,t.state):D===r.Replace&&e.history.replace(t,t.state)),D===r.Pop){let e=F.get(P.location.pathname);e&&e.has(t.pathname)?f={currentLocation:P.location,nextLocation:t}:F.has(t.pathname)&&(f={currentLocation:t,nextLocation:P.location})}else if(M){let e=F.get(P.location.pathname);e?e.add(t.pathname):(e=new Set([t.pathname]),F.set(P.location.pathname,e)),f={currentLocation:P.location,nextLocation:t}}pe(d({},n,{actionData:l,loaderData:p,historyAction:D,location:t,initialized:!0,navigation:te,revalidation:"idle",restoreScrollPosition:lt(t,n.matches||P.matches),preventScrollReset:g,blockers:m}),{viewTransitionOpts:f,flushSync:!0===c}),D=r.Pop,L=!1,M=!1,V=!1,z=!1,H=[]}async function ge(t,n,i){O&&O.abort(),O=null,D=t,V=!0===(i&&i.startUninterruptedRevalidation),function(e,t){if(C&&N){let n=ot(e,t);C[n]=N()}}(P.location,P.matches),L=!0===(i&&i.preventScrollReset),M=!0===(i&&i.enableViewTransition);let a=s||u,o=i&&i.overrideNavigation,l=null!=i&&i.initialHydration&&P.matches&&P.matches.length>0&&!R?P.matches:E(a,n,h),c=!0===(i&&i.flushSync);if(l&&P.initialized&&!z&&function(e,t){if(e.pathname!==t.pathname||e.search!==t.search)return!1;if(""===e.hash)return""!==t.hash;if(e.hash===t.hash)return!0;if(""!==t.hash)return!0;return!1}(P.location,n)&&!(i&&i.submission&&Ve(i.submission.formMethod)))return void me(n,{matches:l},{flushSync:c});let p=ct(l,a,n.pathname);if(p.active&&p.matches&&(l=p.matches),!l){let{error:e,notFoundMatches:t,route:i}=at(n.pathname);return void me(n,{matches:t,loaderData:{},errors:{[i.id]:e}},{flushSync:c})}O=new AbortController;let m,f=we(e.history,n,O.signal,i&&i.submission);if(i&&i.pendingError)m=[ke(l).route.id,{type:y.error,error:i.pendingError}];else if(i&&i.submission&&Ve(i.submission.formMethod)){let t=await async function(e,t,n,i,a,s){void 0===s&&(s={});Ue();let o,l=function(e,t){let n={state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text};return n}(t,n);if(pe({navigation:l},{flushSync:!0===s.flushSync}),a){let n=await dt(i,t.pathname,e.signal);if("aborted"===n.type)return{shortCircuited:!0};if("error"===n.type){let e=ke(n.partialMatches).route.id;return{matches:n.partialMatches,pendingActionResult:[e,{type:y.error,error:n.error}]}}if(!n.matches){let{notFoundMatches:e,error:n,route:i}=at(t.pathname);return{matches:e,pendingActionResult:[i.id,{type:y.error,error:n}]}}i=n.matches}let c=qe(i,t);if(c.route.action||c.route.lazy){if(o=(await Ce("action",P,e,[c],i,null))[c.route.id],e.signal.aborted)return{shortCircuited:!0}}else o={type:y.error,error:Ie(405,{method:e.method,pathname:t.pathname,routeId:c.route.id})};if(Me(o)){let t;if(s&&null!=s.replace)t=s.replace;else{t=xe(o.response.headers.get("Location"),new URL(e.url),h)===P.location.pathname+P.location.search}return await Se(e,o,!0,{submission:n,replace:t}),{shortCircuited:!0}}if(De(o))throw Ie(400,{type:"defer-action"});if(Le(o)){let e=ke(i,c.route.id);return!0!==(s&&s.replace)&&(D=r.Push),{matches:i,pendingActionResult:[e.route.id,o]}}return{matches:i,pendingActionResult:[c.route.id,o]}}(f,n,i.submission,l,p.active,{replace:i.replace,flushSync:c});if(t.shortCircuited)return;if(t.pendingActionResult){let[e,i]=t.pendingActionResult;if(Le(i)&&X(i.error)&&404===i.error.status)return O=null,void me(n,{matches:t.matches,loaderData:{},errors:{[e]:i.error}})}l=t.matches||l,m=t.pendingActionResult,o=Xe(n,i.submission),c=!1,p.active=!1,f=we(e.history,f.url,f.signal)}let{shortCircuited:g,matches:_,loaderData:b,errors:x}=await async function(t,n,i,r,a,o,l,c,p,m,f){let g=a||Xe(n,o),_=o||l||Ye(g),b=!V&&(!v.v7_partialHydration||!p);if(r){if(b){let e=Ee(f);pe(d({navigation:g},void 0!==e?{actionData:e}:{}),{flushSync:m})}let e=await dt(i,n.pathname,t.signal);if("aborted"===e.type)return{shortCircuited:!0};if("error"===e.type){let t=ke(e.partialMatches).route.id;return{matches:e.partialMatches,loaderData:{},errors:{[t]:e.error}}}if(!e.matches){let{error:e,notFoundMatches:t,route:i}=at(n.pathname);return{matches:t,loaderData:{},errors:{[i.id]:e}}}i=e.matches}let y=s||u,[x,w]=ue(e.history,P,i,_,n,v.v7_partialHydration&&!0===p,v.v7_skipActionErrorRevalidation,z,H,W,$,Z,J,y,h,f);if(st(e=>!(i&&i.some(t=>t.route.id===e))||x&&x.some(t=>t.route.id===e)),Y=++q,0===x.length&&0===w.length){let e=et();return me(n,d({matches:i,loaderData:{},errors:f&&Le(f[1])?{[f[0]]:f[1].error}:null},Ae(f),e?{fetchers:new Map(P.fetchers)}:{}),{flushSync:m}),{shortCircuited:!0}}if(b){let e={};if(!r){e.navigation=g;let t=Ee(f);void 0!==t&&(e.actionData=t)}w.length>0&&(e.fetchers=function(e){return e.forEach(e=>{let t=P.fetchers.get(e.key),n=Ke(void 0,t?t.data:void 0);P.fetchers.set(e.key,n)}),new Map(P.fetchers)}(w)),pe(e,{flushSync:m})}w.forEach(e=>{Qe(e.key),e.controller&&G.set(e.key,e.controller)});let E=()=>w.forEach(e=>Qe(e.key));O&&O.signal.addEventListener("abort",E);let{loaderResults:S,fetcherResults:C}=await je(P,i,x,w,t);if(t.signal.aborted)return{shortCircuited:!0};O&&O.signal.removeEventListener("abort",E);w.forEach(e=>G.delete(e.key));let T=Oe(S);if(T)return await Se(t,T.result,!0,{replace:c}),{shortCircuited:!0};if(T=Oe(C),T)return J.add(T.key),await Se(t,T.result,!0,{replace:c}),{shortCircuited:!0};let{loaderData:N,errors:A}=Te(P,i,S,f,w,C,oe);oe.forEach((e,t)=>{e.subscribe(n=>{(n||e.done)&&oe.delete(t)})}),v.v7_partialHydration&&p&&P.errors&&(A=d({},P.errors,A));let k=et(),R=tt(Y),I=k||R||w.length>0;return d({matches:i,loaderData:N,errors:A},I?{fetchers:new Map(P.fetchers)}:{})}(f,n,l,p.active,o,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,i&&!0===i.initialHydration,c,m);g||(O=null,me(n,d({matches:_||l},Ae(m),{loaderData:b,errors:x})))}function Ee(e){return e&&!Le(e[1])?{[e[0]]:e[1].data}:P.actionData?0===Object.keys(P.actionData).length?null:P.actionData:void 0}async function Se(i,a,s,o){let{submission:l,fetcherSubmission:c,preventScrollReset:u,replace:m}=void 0===o?{}:o;a.response.headers.has("X-Remix-Revalidate")&&(z=!0);let f=a.response.headers.get("Location");p(f,"Expected a Location header on the redirect Response"),f=xe(f,new URL(i.url),h);let _=g(P.location,f,{_isRedirect:!0});if(n){let n=!1;if(a.response.headers.has("X-Remix-Reload-Document"))n=!0;else if(re.test(f)){const i=e.history.createURL(f);n=i.origin!==t.location.origin||null==U(i.pathname,h)}if(n)return void(m?t.location.replace(f):t.location.assign(f))}O=null;let v=!0===m||a.response.headers.has("X-Remix-Replace")?r.Replace:r.Push,{formMethod:b,formAction:y,formEncType:x}=P.navigation;!l&&!c&&b&&y&&x&&(l=Ye(P.navigation));let w=l||c;if(ee.has(a.response.status)&&w&&Ve(w.formMethod))await ge(v,_,{submission:d({},w,{formAction:f}),preventScrollReset:u||L,enableViewTransition:s?M:void 0});else{let e=Xe(_,l);await ge(v,_,{overrideNavigation:e,fetcherSubmission:c,preventScrollReset:u||L,enableViewTransition:s?M:void 0})}}async function Ce(e,t,n,i,r,s){let o,l={};try{o=await ve(f,e,t,n,i,r,s,c,a)}catch(d){return i.forEach(e=>{l[e.route.id]={type:y.error,error:d}}),l}for(let[a,c]of Object.entries(o))if(Pe(c)){let e=c.result;l[a]={type:y.redirect,response:ye(e,n,a,r,h,v.v7_relativeSplatPath)}}else l[a]=await be(c);return l}async function je(t,n,i,r,a){let s=t.matches,o=Ce("loader",t,a,i,n,null),l=Promise.all(r.map(async n=>{if(n.matches&&n.match&&n.controller){let i=(await Ce("loader",t,we(e.history,n.path,n.controller.signal),[n.match],n.matches,n.key))[n.match.route.id];return{[n.key]:i}}return Promise.resolve({[n.key]:{type:y.error,error:Ie(404,{pathname:n.path})}})})),c=await o,d=(await l).reduce((e,t)=>Object.assign(e,t),{});return await Promise.all([ze(n,c,a.signal,s,t.loaderData),He(n,d,r)]),{loaderResults:c,fetcherResults:d}}function Ue(){z=!0,H.push(...st()),Z.forEach((e,t)=>{G.has(t)&&W.add(t),Qe(t)})}function Fe(e,t,n){void 0===n&&(n={}),P.fetchers.set(e,t),pe({fetchers:new Map(P.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Be(e,t,n,i){void 0===i&&(i={});let r=ke(P.matches,t);Ze(e),pe({errors:{[r.route.id]:n},fetchers:new Map(P.fetchers)},{flushSync:!0===(i&&i.flushSync)})}function Ge(e){return Q.set(e,(Q.get(e)||0)+1),$.has(e)&&$.delete(e),P.fetchers.get(e)||ne}function Ze(e){let t=P.fetchers.get(e);!G.has(e)||t&&"loading"===t.state&&K.has(e)||Qe(e),Z.delete(e),K.delete(e),J.delete(e),v.v7_fetcherPersist&&$.delete(e),W.delete(e),P.fetchers.delete(e)}function Qe(e){let t=G.get(e);t&&(t.abort(),G.delete(e))}function $e(e){for(let t of e){let e=Je(Ge(t).data);P.fetchers.set(t,e)}}function et(){let e=[],t=!1;for(let n of J){let i=P.fetchers.get(n);p(i,"Expected fetcher: "+n),"loading"===i.state&&(J.delete(n),e.push(n),t=!0)}return $e(e),t}function tt(e){let t=[];for(let[n,i]of K)if(i<e){let e=P.fetchers.get(n);p(e,"Expected fetcher: "+n),"loading"===e.state&&(Qe(n),K.delete(n),t.push(n))}return $e(t),t.length>0}function nt(e){P.blockers.delete(e),de.delete(e)}function it(e,t){let n=P.blockers.get(e)||ie;p("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);let i=new Map(P.blockers);i.set(e,t),pe({blockers:i})}function rt(e){let{currentLocation:t,nextLocation:n,historyAction:i}=e;if(0===de.size)return;de.size>1&&m(!1,"A router only supports one blocker at a time");let r=Array.from(de.entries()),[a,s]=r[r.length-1],o=P.blockers.get(a);return o&&"proceeding"===o.state?void 0:s({currentLocation:t,nextLocation:n,historyAction:i})?a:void 0}function at(e){let t=Ie(404,{pathname:e}),n=s||u,{matches:i,route:r}=Re(n);return st(),{notFoundMatches:i,route:r,error:t}}function st(e){let t=[];return oe.forEach((n,i)=>{e&&!e(i)||(n.cancel(),t.push(i),oe.delete(i))}),t}function ot(e,t){if(T){let n=T(e,t.map(e=>function(e,t){let{route:n,pathname:i,params:r}=e;return{id:n.id,pathname:i,params:r,data:t[n.id],handle:n.handle}}(e,P.loaderData)));return n||e.key}return e.key}function lt(e,t){if(C){let n=ot(e,t),i=C[n];if("number"===typeof i)return i}return null}function ct(e,t,n){if(_){if(!e){return{active:!0,matches:S(t,n,h,!0)||[]}}if(Object.keys(e[0].params).length>0){return{active:!0,matches:S(t,n,h,!0)}}}return{active:!1,matches:null}}async function dt(e,t,n,i){if(!_)return{type:"success",matches:e};let r=e;for(;;){let e=null==s,l=s||u,d=c;try{await _({signal:n,path:t,matches:r,fetcherKey:i,patch:(e,t)=>{n.aborted||fe(e,t,l,d,a)}})}catch(o){return{type:"error",error:o,partialMatches:r}}finally{e&&!n.aborted&&(u=[...u])}if(n.aborted)return{type:"aborted"};let p=E(l,t,h);if(p)return{type:"success",matches:p};let m=S(l,t,h,!0);if(!m||r.length===m.length&&r.every((e,t)=>e.route.id===m[t].route.id))return{type:"success",matches:null};r=m}}return l={get basename(){return h},get future(){return v},get state(){return P},get routes(){return u},get window(){return t},initialize:function(){if(b=e.history.listen(t=>{let{action:n,location:i,delta:r}=t;if(j)return j(),void(j=void 0);m(0===de.size||null!=r,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let a=rt({currentLocation:P.location,nextLocation:i,historyAction:n});if(a&&null!=r){let t=new Promise(e=>{j=e});return e.history.go(-1*r),void it(a,{state:"blocked",location:i,proceed(){it(a,{state:"proceeding",proceed:void 0,reset:void 0,location:i}),t.then(()=>e.history.go(r))},reset(){let e=new Map(P.blockers);e.set(a,ie),pe({blockers:e})}})}return ge(n,i)}),n){!function(e,t){try{let n=e.sessionStorage.getItem(se);if(n){let e=JSON.parse(n);for(let[n,i]of Object.entries(e||{}))i&&Array.isArray(i)&&t.set(n,new Set(i||[]))}}catch(n){}}(t,F);let e=()=>function(e,t){if(t.size>0){let i={};for(let[e,n]of t)i[e]=[...n];try{e.sessionStorage.setItem(se,JSON.stringify(i))}catch(n){m(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}(t,F);t.addEventListener("pagehide",e),B=()=>t.removeEventListener("pagehide",e)}return P.initialized||ge(r.Pop,P.location,{initialHydration:!0}),l},subscribe:function(e){return x.add(e),()=>x.delete(e)},enableScrollRestoration:function(e,t,n){if(C=e,N=t,T=n||null,!A&&P.navigation===te){A=!0;let e=lt(P.location,P.matches);null!=e&&pe({restoreScrollPosition:e})}return()=>{C=null,N=null,T=null}},navigate:async function t(n,i){if("number"===typeof n)return void e.history.go(n);let a=le(P.location,P.matches,h,v.v7_prependBasename,n,v.v7_relativeSplatPath,null==i?void 0:i.fromRouteId,null==i?void 0:i.relative),{path:s,submission:o,error:l}=ce(v.v7_normalizeFormMethod,!1,a,i),c=P.location,u=g(P.location,s,i&&i.state);u=d({},u,e.history.encodeLocation(u));let p=i&&null!=i.replace?i.replace:void 0,m=r.Push;!0===p?m=r.Replace:!1===p||null!=o&&Ve(o.formMethod)&&o.formAction===P.location.pathname+P.location.search&&(m=r.Replace);let f=i&&"preventScrollReset"in i?!0===i.preventScrollReset:void 0,_=!0===(i&&i.flushSync),b=rt({currentLocation:c,nextLocation:u,historyAction:m});if(!b)return await ge(m,u,{submission:o,pendingError:l,preventScrollReset:f,replace:i&&i.replace,enableViewTransition:i&&i.viewTransition,flushSync:_});it(b,{state:"blocked",location:u,proceed(){it(b,{state:"proceeding",proceed:void 0,reset:void 0,location:u}),t(n,i)},reset(){let e=new Map(P.blockers);e.set(b,ie),pe({blockers:e})}})},fetch:function(t,n,r,a){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Qe(t);let o=!0===(a&&a.flushSync),l=s||u,c=le(P.location,P.matches,h,v.v7_prependBasename,r,v.v7_relativeSplatPath,n,null==a?void 0:a.relative),d=E(l,c,h),m=ct(d,l,c);if(m.active&&m.matches&&(d=m.matches),!d)return void Be(t,n,Ie(404,{pathname:c}),{flushSync:o});let{path:f,submission:g,error:_}=ce(v.v7_normalizeFormMethod,!0,c,a);if(_)return void Be(t,n,_,{flushSync:o});let b=qe(d,f),y=!0===(a&&a.preventScrollReset);g&&Ve(g.formMethod)?async function(t,n,i,r,a,o,l,c,d){function m(e){if(!e.route.action&&!e.route.lazy){let e=Ie(405,{method:d.formMethod,pathname:i,routeId:n});return Be(t,n,e,{flushSync:l}),!0}return!1}if(Ue(),Z.delete(t),!o&&m(r))return;let f=P.fetchers.get(t);Fe(t,function(e,t){let n={state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0};return n}(d,f),{flushSync:l});let g=new AbortController,_=we(e.history,i,g.signal,d);if(o){let e=await dt(a,new URL(_.url).pathname,_.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void Be(t,n,e.error,{flushSync:l});if(!e.matches)return void Be(t,n,Ie(404,{pathname:i}),{flushSync:l});if(m(r=qe(a=e.matches,i)))return}G.set(t,g);let b=q,y=await Ce("action",P,_,[r],a,t),x=y[r.route.id];if(_.signal.aborted)return void(G.get(t)===g&&G.delete(t));if(v.v7_fetcherPersist&&$.has(t)){if(Me(x)||Le(x))return void Fe(t,Je(void 0))}else{if(Me(x))return G.delete(t),Y>b?void Fe(t,Je(void 0)):(J.add(t),Fe(t,Ke(d)),Se(_,x,!1,{fetcherSubmission:d,preventScrollReset:c}));if(Le(x))return void Be(t,n,x.error)}if(De(x))throw Ie(400,{type:"defer-action"});let w=P.navigation.location||P.location,S=we(e.history,w,g.signal),C=s||u,T="idle"!==P.navigation.state?E(C,P.navigation.location,h):P.matches;p(T,"Didn't find any matches after fetcher action");let N=++q;K.set(t,N);let A=Ke(d,x.data);P.fetchers.set(t,A);let[k,R]=ue(e.history,P,T,d,w,!1,v.v7_skipActionErrorRevalidation,z,H,W,$,Z,J,C,h,[r.route.id,x]);R.filter(e=>e.key!==t).forEach(e=>{let t=e.key,n=P.fetchers.get(t),i=Ke(void 0,n?n.data:void 0);P.fetchers.set(t,i),Qe(t),e.controller&&G.set(t,e.controller)}),pe({fetchers:new Map(P.fetchers)});let I=()=>R.forEach(e=>Qe(e.key));g.signal.addEventListener("abort",I);let{loaderResults:j,fetcherResults:L}=await je(P,T,k,R,S);if(g.signal.aborted)return;g.signal.removeEventListener("abort",I),K.delete(t),G.delete(t),R.forEach(e=>G.delete(e.key));let M=Oe(j);if(M)return Se(S,M.result,!1,{preventScrollReset:c});if(M=Oe(L),M)return J.add(M.key),Se(S,M.result,!1,{preventScrollReset:c});let{loaderData:U,errors:F}=Te(P,T,j,void 0,R,L,oe);if(P.fetchers.has(t)){let e=Je(x.data);P.fetchers.set(t,e)}tt(N),"loading"===P.navigation.state&&N>Y?(p(D,"Expected pending action"),O&&O.abort(),me(P.navigation.location,{matches:T,loaderData:U,errors:F,fetchers:new Map(P.fetchers)})):(pe({errors:F,loaderData:Ne(P.loaderData,U,T,F),fetchers:new Map(P.fetchers)}),z=!1)}(t,n,f,b,d,m.active,o,y,g):(Z.set(t,{routeId:n,path:f}),async function(t,n,i,r,a,s,o,l,c){let d=P.fetchers.get(t);Fe(t,Ke(c,d?d.data:void 0),{flushSync:o});let u=new AbortController,h=we(e.history,i,u.signal);if(s){let e=await dt(a,new URL(h.url).pathname,h.signal,t);if("aborted"===e.type)return;if("error"===e.type)return void Be(t,n,e.error,{flushSync:o});if(!e.matches)return void Be(t,n,Ie(404,{pathname:i}),{flushSync:o});r=qe(a=e.matches,i)}G.set(t,u);let m=q,f=await Ce("loader",P,h,[r],a,t),g=f[r.route.id];De(g)&&(g=await We(g,h.signal,!0)||g);G.get(t)===u&&G.delete(t);if(h.signal.aborted)return;if($.has(t))return void Fe(t,Je(void 0));if(Me(g))return Y>m?void Fe(t,Je(void 0)):(J.add(t),void await Se(h,g,!1,{preventScrollReset:l}));if(Le(g))return void Be(t,n,g.error);p(!De(g),"Unhandled fetcher deferred data"),Fe(t,Je(g.data))}(t,n,f,b,d,m.active,o,y,g))},revalidate:function(){Ue(),pe({revalidation:"loading"}),"submitting"!==P.navigation.state&&("idle"!==P.navigation.state?ge(D||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:!0===M}):ge(P.historyAction,P.location,{startUninterruptedRevalidation:!0}))},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:Ge,deleteFetcher:function(e){let t=(Q.get(e)||0)-1;t<=0?(Q.delete(e),$.add(e),v.v7_fetcherPersist||Ze(e)):Q.set(e,t),pe({fetchers:new Map(P.fetchers)})},dispose:function(){b&&b(),B&&B(),x.clear(),O&&O.abort(),P.fetchers.forEach((e,t)=>Ze(t)),P.blockers.forEach((e,t)=>nt(t))},getBlocker:function(e,t){let n=P.blockers.get(e)||ie;return de.get(e)!==t&&de.set(e,t),n},deleteBlocker:nt,patchRoutes:function(e,t){let n=null==s;fe(e,t,s||u,c,a),n&&(u=[...u],pe({}))},_internalFetchControllers:G,_internalActiveDeferreds:oe,_internalSetRoutes:function(e){c={},s=w(e,a,void 0,c)}},l}Symbol("deferred");function le(e,t,n,i,r,a,s,o){let l,c;if(s){l=[];for(let e of t)if(l.push(e),e.route.id===s){c=e;break}}else l=t,c=t[t.length-1];let d=z(r||".",V(l,a),U(e.pathname,n)||e.pathname,"path"===o);if(null==r&&(d.search=e.search,d.hash=e.hash),(null==r||""===r||"."===r)&&c){let e=Ge(d.search);if(c.route.index&&!e)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&e){let e=new URLSearchParams(d.search),t=e.getAll("index");e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();d.search=n?"?"+n:""}}return i&&"/"!==n&&(d.pathname="/"===d.pathname?n:H([n,d.pathname])),_(d)}function ce(e,t,n,i){if(!i||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(i))return{path:n};if(i.formMethod&&!Be(i.formMethod))return{path:n,error:Ie(405,{method:i.formMethod})};let r,a,s=()=>({path:n,error:Ie(400,{type:"invalid-body"})}),o=i.formMethod||"get",l=e?o.toUpperCase():o.toLowerCase(),c=je(n);if(void 0!==i.body){if("text/plain"===i.formEncType){if(!Ve(l))return s();let e="string"===typeof i.body?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((e,t)=>{let[n,i]=t;return""+e+n+"="+i+"\n"},""):String(i.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:i.formEncType,formData:void 0,json:void 0,text:e}}}if("application/json"===i.formEncType){if(!Ve(l))return s();try{let e="string"===typeof i.body?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:i.formEncType,formData:void 0,json:e,text:void 0}}}catch(h){return s()}}}if(p("function"===typeof FormData,"FormData is not available in this environment"),i.formData)r=Ee(i.formData),a=i.formData;else if(i.body instanceof FormData)r=Ee(i.body),a=i.body;else if(i.body instanceof URLSearchParams)r=i.body,a=Se(r);else if(null==i.body)r=new URLSearchParams,a=new FormData;else try{r=new URLSearchParams(i.body),a=Se(r)}catch(h){return s()}let d={formMethod:l,formAction:c,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(Ve(d.formMethod))return{path:n,submission:d};let u=v(n);return t&&u.search&&Ge(u.search)&&r.append("index",""),u.search="?"+r,{path:_(u),submission:d}}function de(e,t,n){void 0===n&&(n=!1);let i=e.findIndex(e=>e.route.id===t);return i>=0?e.slice(0,n?i+1:i):e}function ue(e,t,n,i,r,a,s,o,l,c,u,h,p,m,f,g){let _=g?Le(g[1])?g[1].error:g[1].data:void 0,v=e.createURL(t.location),b=e.createURL(r),y=n;a&&t.errors?y=de(n,Object.keys(t.errors)[0],!0):g&&Le(g[1])&&(y=de(n,g[0]));let x=g?g[1].statusCode:void 0,w=s&&x&&x>=400,S=y.filter((e,n)=>{let{route:r}=e;if(r.lazy)return!0;if(null==r.loader)return!1;if(a)return he(r,t.loaderData,t.errors);if(function(e,t,n){let i=!t||n.route.id!==t.route.id,r=void 0===e[n.route.id];return i||r}(t.loaderData,t.matches[n],e)||l.some(t=>t===e.route.id))return!0;let s=t.matches[n],c=e;return me(e,d({currentUrl:v,currentParams:s.params,nextUrl:b,nextParams:c.params},i,{actionResult:_,actionStatus:x,defaultShouldRevalidate:!w&&(o||v.pathname+v.search===b.pathname+b.search||v.search!==b.search||pe(s,c))}))}),C=[];return h.forEach((e,r)=>{if(a||!n.some(t=>t.route.id===e.routeId)||u.has(r))return;let s=E(m,e.path,f);if(!s)return void C.push({key:r,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});let l=t.fetchers.get(r),h=qe(s,e.path),g=!1;p.has(r)?g=!1:c.has(r)?(c.delete(r),g=!0):g=l&&"idle"!==l.state&&void 0===l.data?o:me(h,d({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},i,{actionResult:_,actionStatus:x,defaultShouldRevalidate:!w&&o})),g&&C.push({key:r,routeId:e.routeId,path:e.path,matches:s,match:h,controller:new AbortController})}),[S,C]}function he(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let i=null!=t&&void 0!==t[e.id],r=null!=n&&void 0!==n[e.id];return!(!i&&r)&&("function"===typeof e.loader&&!0===e.loader.hydrate||!i&&!r)}function pe(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function me(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function fe(e,t,n,i,r){var a;let s;if(e){let t=i[e];p(t,"No route found to patch children into: routeId = "+e),t.children||(t.children=[]),s=t.children}else s=n;let o=w(t.filter(e=>!s.some(t=>ge(e,t))),r,[e||"_","patch",String((null==(a=s)?void 0:a.length)||"0")],i);s.push(...o)}function ge(e,t){return"id"in e&&"id"in t&&e.id===t.id||e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive&&(!(e.children&&0!==e.children.length||t.children&&0!==t.children.length)||e.children.every((e,n)=>{var i;return null==(i=t.children)?void 0:i.some(t=>ge(e,t))}))}async function _e(e){let{matches:t}=e,n=t.filter(e=>e.shouldLoad);return(await Promise.all(n.map(e=>e.resolve()))).reduce((e,t,i)=>Object.assign(e,{[n[i].route.id]:t}),{})}async function ve(e,t,n,i,r,a,s,o,l,c){let u=a.map(e=>e.route.lazy?async function(e,t,n){if(!e.lazy)return;let i=await e.lazy();if(!e.lazy)return;let r=n[e.id];p(r,"No route found in manifest");let a={};for(let s in i){let e=void 0!==r[s]&&"hasErrorBoundary"!==s;m(!e,'Route "'+r.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),e||x.has(s)||(a[s]=i[s])}Object.assign(r,a),Object.assign(r,d({},t(r),{lazy:void 0}))}(e.route,l,o):void 0),h=a.map((e,n)=>{let a=u[n],s=r.some(t=>t.route.id===e.route.id);return d({},e,{shouldLoad:s,resolve:async n=>(n&&"GET"===i.method&&(e.route.lazy||e.route.loader)&&(s=!0),s?async function(e,t,n,i,r,a){let s,o,l=i=>{let s,l=new Promise((e,t)=>s=t);o=()=>s(),t.signal.addEventListener("abort",o);let c=r=>"function"!==typeof i?Promise.reject(new Error('You cannot call the handler for a route which defines a boolean "'+e+'" [routeId: '+n.route.id+"]")):i({request:t,params:n.params,context:a},...void 0!==r?[r]:[]),d=(async()=>{try{return{type:"data",result:await(r?r(e=>c(e)):c())}}catch(e){return{type:"error",result:e}}})();return Promise.race([d,l])};try{let r=n.route[e];if(i)if(r){let e,[t]=await Promise.all([l(r).catch(t=>{e=t}),i]);if(void 0!==e)throw e;s=t}else{if(await i,r=n.route[e],!r){if("action"===e){let e=new URL(t.url),i=e.pathname+e.search;throw Ie(405,{method:t.method,pathname:i,routeId:n.route.id})}return{type:y.data,result:void 0}}s=await l(r)}else{if(!r){let e=new URL(t.url);throw Ie(404,{pathname:e.pathname+e.search})}s=await l(r)}p(void 0!==s.result,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(c){return{type:y.error,result:c}}finally{o&&t.signal.removeEventListener("abort",o)}return s}(t,i,e,a,n,c):Promise.resolve({type:y.data,result:void 0}))})}),f=await e({matches:h,request:i,params:a[0].params,fetcherKey:s,context:c});try{await Promise.all(u)}catch(g){}return f}async function be(e){let{result:t,type:n}=e;if(Fe(t)){let e;try{let n=t.headers.get("Content-Type");e=n&&/\bapplication\/json\b/.test(n)?null==t.body?null:await t.json():await t.text()}catch(u){return{type:y.error,error:u}}return n===y.error?{type:y.error,error:new Y(t.status,t.statusText,e),statusCode:t.status,headers:t.headers}:{type:y.data,data:e,statusCode:t.status,headers:t.headers}}var i,r,a,s,o,l,c,d;return n===y.error?Ue(t)?t.data instanceof Error?{type:y.error,error:t.data,statusCode:null==(a=t.init)?void 0:a.status,headers:null!=(s=t.init)&&s.headers?new Headers(t.init.headers):void 0}:{type:y.error,error:new Y((null==(i=t.init)?void 0:i.status)||500,void 0,t.data),statusCode:X(t)?t.status:void 0,headers:null!=(r=t.init)&&r.headers?new Headers(t.init.headers):void 0}:{type:y.error,error:t,statusCode:X(t)?t.status:void 0}:function(e){let t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}(t)?{type:y.deferred,deferredData:t,statusCode:null==(o=t.init)?void 0:o.status,headers:(null==(l=t.init)?void 0:l.headers)&&new Headers(t.init.headers)}:Ue(t)?{type:y.data,data:t.data,statusCode:null==(c=t.init)?void 0:c.status,headers:null!=(d=t.init)&&d.headers?new Headers(t.init.headers):void 0}:{type:y.data,data:t}}function ye(e,t,n,i,r,a){let s=e.headers.get("Location");if(p(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!re.test(s)){let o=i.slice(0,i.findIndex(e=>e.route.id===n)+1);s=le(new URL(t.url),o,r,!0,s,a),e.headers.set("Location",s)}return e}function xe(e,t,n){if(re.test(e)){let i=e,r=i.startsWith("//")?new URL(t.protocol+i):new URL(i),a=null!=U(r.pathname,n);if(r.origin===t.origin&&a)return r.pathname+r.search+r.hash}return e}function we(e,t,n,i){let r=e.createURL(je(t)).toString(),a={signal:n};if(i&&Ve(i.formMethod)){let{formMethod:e,formEncType:t}=i;a.method=e.toUpperCase(),"application/json"===t?(a.headers=new Headers({"Content-Type":t}),a.body=JSON.stringify(i.json)):"text/plain"===t?a.body=i.text:"application/x-www-form-urlencoded"===t&&i.formData?a.body=Ee(i.formData):a.body=i.formData}return new Request(r,a)}function Ee(e){let t=new URLSearchParams;for(let[n,i]of e.entries())t.append(n,"string"===typeof i?i:i.name);return t}function Se(e){let t=new FormData;for(let[n,i]of e.entries())t.append(n,i);return t}function Ce(e,t,n,i,r){let a,s={},o=null,l=!1,c={},d=n&&Le(n[1])?n[1].error:void 0;return e.forEach(n=>{if(!(n.route.id in t))return;let u=n.route.id,h=t[u];if(p(!Me(h),"Cannot handle redirect results in processLoaderData"),Le(h)){let t=h.error;if(void 0!==d&&(t=d,d=void 0),o=o||{},r)o[u]=t;else{let n=ke(e,u);null==o[n.route.id]&&(o[n.route.id]=t)}s[u]=void 0,l||(l=!0,a=X(h.error)?h.error.status:500),h.headers&&(c[u]=h.headers)}else De(h)?(i.set(u,h.deferredData),s[u]=h.deferredData.data,null==h.statusCode||200===h.statusCode||l||(a=h.statusCode),h.headers&&(c[u]=h.headers)):(s[u]=h.data,h.statusCode&&200!==h.statusCode&&!l&&(a=h.statusCode),h.headers&&(c[u]=h.headers))}),void 0!==d&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function Te(e,t,n,i,r,a,s){let{loaderData:o,errors:l}=Ce(t,n,i,s,!1);return r.forEach(t=>{let{key:n,match:i,controller:r}=t,s=a[n];if(p(s,"Did not find corresponding fetcher result"),!r||!r.signal.aborted)if(Le(s)){let t=ke(e.matches,null==i?void 0:i.route.id);l&&l[t.route.id]||(l=d({},l,{[t.route.id]:s.error})),e.fetchers.delete(n)}else if(Me(s))p(!1,"Unhandled fetcher revalidation redirect");else if(De(s))p(!1,"Unhandled fetcher deferred data");else{let t=Je(s.data);e.fetchers.set(n,t)}}),{loaderData:o,errors:l}}function Ne(e,t,n,i){let r=d({},t);for(let a of n){let n=a.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(r[n]=t[n]):void 0!==e[n]&&a.route.loader&&(r[n]=e[n]),i&&i.hasOwnProperty(n))break}return r}function Ae(e){return e?Le(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ke(e,t){return(t?e.slice(0,e.findIndex(e=>e.route.id===t)+1):[...e]).reverse().find(e=>!0===e.route.hasErrorBoundary)||e[0]}function Re(e){let t=1===e.length?e[0]:e.find(e=>e.index||!e.path||"/"===e.path)||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ie(e,t){let{pathname:n,routeId:i,method:r,type:a,message:s}=void 0===t?{}:t,o="Unknown Server Error",l="Unknown @remix-run/router error";return 400===e?(o="Bad Request",r&&n&&i?l="You made a "+r+' request to "'+n+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===a?l="defer() is not supported in actions":"invalid-body"===a&&(l="Unable to encode submission body")):403===e?(o="Forbidden",l='Route "'+i+'" does not match URL "'+n+'"'):404===e?(o="Not Found",l='No route matches URL "'+n+'"'):405===e&&(o="Method Not Allowed",r&&n&&i?l="You made a "+r.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':r&&(l='Invalid request method "'+r.toUpperCase()+'"')),new Y(e||500,o,new Error(l),!0)}function Oe(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[e,i]=t[n];if(Me(i))return{key:e,result:i}}}function je(e){return _(d({},"string"===typeof e?v(e):e,{hash:""}))}function Pe(e){return Fe(e.result)&&$.has(e.result.status)}function De(e){return e.type===y.deferred}function Le(e){return e.type===y.error}function Me(e){return(e&&e.type)===y.redirect}function Ue(e){return"object"===typeof e&&null!=e&&"type"in e&&"data"in e&&"init"in e&&"DataWithResponseInit"===e.type}function Fe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function Be(e){return Q.has(e.toLowerCase())}function Ve(e){return J.has(e.toLowerCase())}async function ze(e,t,n,i,r){let a=Object.entries(t);for(let s=0;s<a.length;s++){let[o,l]=a[s],c=e.find(e=>(null==e?void 0:e.route.id)===o);if(!c)continue;let d=i.find(e=>e.route.id===c.route.id),u=null!=d&&!pe(d,c)&&void 0!==(r&&r[c.route.id]);De(l)&&u&&await We(l,n,!1).then(e=>{e&&(t[o]=e)})}}async function He(e,t,n){for(let i=0;i<n.length;i++){let{key:r,routeId:a,controller:s}=n[i],o=t[r];e.find(e=>(null==e?void 0:e.route.id)===a)&&(De(o)&&(p(s,"Expected an AbortController for revalidating fetcher deferred result"),await We(o,s.signal,!0).then(e=>{e&&(t[r]=e)})))}}async function We(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:y.data,data:e.deferredData.unwrappedData}}catch(i){return{type:y.error,error:i}}return{type:y.data,data:e.deferredData.data}}}function Ge(e){return new URLSearchParams(e).getAll("index").some(e=>""===e)}function qe(e,t){let n="string"===typeof t?v(t).search:t.search;if(e[e.length-1].route.index&&Ge(n||""))return e[e.length-1];let i=B(e);return i[i.length-1]}function Ye(e){let{formMethod:t,formAction:n,formEncType:i,text:r,formData:a,json:s}=e;if(t&&n&&i)return null!=r?{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:void 0,text:r}:null!=a?{formMethod:t,formAction:n,formEncType:i,formData:a,json:void 0,text:void 0}:void 0!==s?{formMethod:t,formAction:n,formEncType:i,formData:void 0,json:s,text:void 0}:void 0}function Xe(e,t){if(t){return{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}return{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Ke(e,t){if(e){return{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}}return{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Je(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ze.apply(this,arguments)}const Qe=a.createContext(null);const $e=a.createContext(null);const et=a.createContext(null);const tt=a.createContext(null);const nt=a.createContext({outlet:null,matches:[],isDataRoute:!1});const it=a.createContext(null);function rt(){return null!=a.useContext(tt)}function at(){return rt()||p(!1),a.useContext(tt).location}function st(e){a.useContext(et).static||a.useLayoutEffect(e)}function ot(){let{isDataRoute:e}=a.useContext(nt);return e?function(){let{router:e}=bt(_t.UseNavigateStable),t=xt(vt.UseNavigateStable),n=a.useRef(!1);st(()=>{n.current=!0});let i=a.useCallback(function(i,r){void 0===r&&(r={}),n.current&&("number"===typeof i?e.navigate(i):e.navigate(i,Ze({fromRouteId:t},r)))},[e,t]);return i}():function(){rt()||p(!1);let e=a.useContext(Qe),{basename:t,future:n,navigator:i}=a.useContext(et),{matches:r}=a.useContext(nt),{pathname:s}=at(),o=JSON.stringify(V(r,n.v7_relativeSplatPath)),l=a.useRef(!1);st(()=>{l.current=!0});let c=a.useCallback(function(n,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof n)return void i.go(n);let a=z(n,JSON.parse(o),s,"path"===r.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:H([t,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)},[t,i,o,s,e]);return c}()}const lt=a.createContext(null);function ct(){let{matches:e}=a.useContext(nt),t=e[e.length-1];return t?t.params:{}}function dt(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=a.useContext(et),{matches:r}=a.useContext(nt),{pathname:s}=at(),o=JSON.stringify(V(r,i.v7_relativeSplatPath));return a.useMemo(()=>z(e,JSON.parse(o),s,"path"===n),[e,o,s,n])}function ut(e,t,n,i){rt()||p(!1);let{navigator:s}=a.useContext(et),{matches:o}=a.useContext(nt),l=o[o.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let u,h=at();if(t){var m;let e="string"===typeof t?v(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||p(!1),u=e}else u=h;let f=u.pathname||"/",g=f;if("/"!==d){let e=d.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=E(e,{pathname:g});let b=gt(_&&_.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:H([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:H([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,i);return t&&b?a.createElement(tt.Provider,{value:{location:Ze({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:r.Pop}},b):b}function ht(){let e=function(){var e;let t=a.useContext(it),n=yt(vt.UseRouteError),i=xt(vt.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=X(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:r},n):null,null)}const pt=a.createElement(ht,null);class mt extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(nt.Provider,{value:this.props.routeContext},a.createElement(it.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ft(e){let{routeContext:t,match:n,children:i}=e,r=a.useContext(Qe);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(nt.Provider,{value:t},i)}function gt(e,t,n,i){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=i)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(r=n)?void 0:r.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||p(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let a=0;a<o.length;a++){let e=o[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=a),e.route.id){let{loaderData:t,errors:i}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!i||void 0===i[e.route.id]);if(e.route.lazy||r){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,i,r)=>{let s,u=!1,h=null,p=null;var m;n&&(s=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||pt,c&&(d<0&&0===r?(m="route-fallback",!1||wt[m]||(wt[m]=!0),u=!0,p=null):d===r&&(u=!0,p=i.route.hydrateFallbackElement||null)));let f=t.concat(o.slice(0,r+1)),g=()=>{let t;return t=s?h:u?p:i.route.Component?a.createElement(i.route.Component,null):i.route.element?i.route.element:e,a.createElement(ft,{match:i,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===r)?a.createElement(mt,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var _t=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_t||{}),vt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vt||{});function bt(e){let t=a.useContext(Qe);return t||p(!1),t}function yt(e){let t=a.useContext($e);return t||p(!1),t}function xt(e){let t=function(){let e=a.useContext(nt);return e||p(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||p(!1),n.route.id}const wt={};function Et(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function St(e){let{to:t,replace:n,state:i,relative:r}=e;rt()||p(!1);let{future:s,static:o}=a.useContext(et),{matches:l}=a.useContext(nt),{pathname:c}=at(),d=ot(),u=z(t,V(l,s.v7_relativeSplatPath),c,"path"===r),h=JSON.stringify(u);return a.useEffect(()=>d(JSON.parse(h),{replace:n,state:i,relative:r}),[d,h,r,n,i]),null}function Ct(e){return function(e){let t=a.useContext(nt).outlet;return t?a.createElement(lt.Provider,{value:e},t):t}(e.context)}function Tt(e){let{basename:t="/",children:n=null,location:i,navigationType:s=r.Pop,navigator:o,static:l=!1,future:c}=e;rt()&&p(!1);let d=t.replace(/^\/*/,"/"),u=a.useMemo(()=>({basename:d,navigator:o,static:l,future:Ze({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);"string"===typeof i&&(i=v(i));let{pathname:h="/",search:m="",hash:f="",state:g=null,key:_="default"}=i,b=a.useMemo(()=>{let e=U(h,d);return null==e?null:{location:{pathname:e,search:m,hash:f,state:g,key:_},navigationType:s}},[d,h,m,f,g,_,s]);return null==b?null:a.createElement(et.Provider,{value:u},a.createElement(tt.Provider,{children:n,value:b}))}new Promise(()=>{});a.Component;function Nt(e){let t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:a.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:a.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:a.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function At(){return At=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},At.apply(this,arguments)}function kt(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function Rt(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(e=>[n,e]):[[n,i]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const It=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ot=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(ZV){}function jt(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=At({},t,{errors:Pt(t.errors)})),t}function Pt(e){if(!e)return null;let t=Object.entries(e),n={};for(let[i,r]of t)if(r&&"RouteErrorResponse"===r.__type)n[i]=new Y(r.status,r.statusText,r.data,!0===r.internal);else if(r&&"Error"===r.__type){if(r.__subType){let e=window[r.__subType];if("function"===typeof e)try{let t=new e(r.message);t.stack="",n[i]=t}catch(ZV){}}if(null==n[i]){let e=new Error(r.message);e.stack="",n[i]=e}}else n[i]=r;return n}const Dt=a.createContext({isTransitioning:!1});const Lt=a.createContext(new Map);const Mt=s.startTransition,Ut=c.flushSync;s.useId;function Ft(e){Ut?Ut(e):e()}class Bt{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=t=>{"pending"===this.status&&(this.status="resolved",e(t))},this.reject=e=>{"pending"===this.status&&(this.status="rejected",t(e))}})}}function Vt(e){let{fallbackElement:t,router:n,future:i}=e,[r,s]=a.useState(n.state),[o,l]=a.useState(),[c,d]=a.useState({isTransitioning:!1}),[u,h]=a.useState(),[p,m]=a.useState(),[f,g]=a.useState(),_=a.useRef(new Map),{v7_startTransition:v}=i||{},b=a.useCallback(e=>{v?function(e){Mt?Mt(e):e()}(e):e()},[v]),y=a.useCallback((e,t)=>{let{deletedFetchers:i,flushSync:r,viewTransitionOpts:a}=t;e.fetchers.forEach((e,t)=>{void 0!==e.data&&_.current.set(t,e.data)}),i.forEach(e=>_.current.delete(e));let o=null==n.window||null==n.window.document||"function"!==typeof n.window.document.startViewTransition;if(a&&!o){if(r){Ft(()=>{p&&(u&&u.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:a.currentLocation,nextLocation:a.nextLocation})});let t=n.window.document.startViewTransition(()=>{Ft(()=>s(e))});return t.finished.finally(()=>{Ft(()=>{h(void 0),m(void 0),l(void 0),d({isTransitioning:!1})})}),void Ft(()=>m(t))}p?(u&&u.resolve(),p.skipTransition(),g({state:e,currentLocation:a.currentLocation,nextLocation:a.nextLocation})):(l(e),d({isTransitioning:!0,flushSync:!1,currentLocation:a.currentLocation,nextLocation:a.nextLocation}))}else r?Ft(()=>s(e)):b(()=>s(e))},[n.window,p,u,_,b]);a.useLayoutEffect(()=>n.subscribe(y),[n,y]),a.useEffect(()=>{c.isTransitioning&&!c.flushSync&&h(new Bt)},[c]),a.useEffect(()=>{if(u&&o&&n.window){let e=o,t=u.promise,i=n.window.document.startViewTransition(async()=>{b(()=>s(e)),await t});i.finished.finally(()=>{h(void 0),m(void 0),l(void 0),d({isTransitioning:!1})}),m(i)}},[b,o,u,n.window]),a.useEffect(()=>{u&&o&&r.location.key===o.location.key&&u.resolve()},[u,p,r.location,o]),a.useEffect(()=>{!c.isTransitioning&&f&&(l(f.state),d({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),g(void 0))},[c.isTransitioning,f]),a.useEffect(()=>{},[]);let x=a.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,i)=>n.navigate(e,{state:t,preventScrollReset:null==i?void 0:i.preventScrollReset}),replace:(e,t,i)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==i?void 0:i.preventScrollReset})}),[n]),w=n.basename||"/",E=a.useMemo(()=>({router:n,navigator:x,static:!1,basename:w}),[n,x,w]),S=a.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return a.useEffect(()=>Et(i,n.future),[i,n.future]),a.createElement(a.Fragment,null,a.createElement(Qe.Provider,{value:E},a.createElement($e.Provider,{value:r},a.createElement(Lt.Provider,{value:_.current},a.createElement(Dt.Provider,{value:c},a.createElement(Tt,{basename:w,location:r.location,navigationType:r.historyAction,navigator:x,future:S},r.initialized||n.future.v7_partialHydration?a.createElement(zt,{routes:n.routes,future:n.future,state:r}):t))))),null)}const zt=a.memo(Ht);function Ht(e){let{routes:t,future:n,state:i}=e;return ut(t,void 0,i,n)}const Wt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Gt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qt=a.forwardRef(function(e,t){let n,{onClick:i,relative:r,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:h}=e,m=kt(e,It),{basename:f}=a.useContext(et),g=!1;if("string"===typeof d&&Gt.test(d)&&(n=d,Wt))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=U(t.pathname,f);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:g=!0}catch(ZV){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;rt()||p(!1);let{basename:i,navigator:r}=a.useContext(et),{hash:s,pathname:o,search:l}=dt(e,{relative:n}),c=o;return"/"!==i&&(c="/"===o?i:H([i,o])),r.createHref({pathname:c,search:l,hash:s})}(d,{relative:r}),b=function(e,t){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:l}=void 0===t?{}:t,c=ot(),d=at(),u=dt(e,{relative:o});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:_(d)===_(u);c(e,{replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[d,c,u,i,r,n,e,s,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:r,viewTransition:h});return a.createElement("a",At({},m,{href:n||v,onClick:g||s?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:c}))});const Yt=a.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:i=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:c,children:d}=e,u=kt(e,Ot),h=dt(l,{relative:u.relative}),m=at(),f=a.useContext($e),{navigator:g,basename:_}=a.useContext(et),v=null!=f&&function(e,t){void 0===t&&(t={});let n=a.useContext(Dt);null==n&&p(!1);let{basename:i}=Jt(Xt.useViewTransitionState),r=dt(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=U(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=U(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=L(r.pathname,o)||null!=L(r.pathname,s)}(h)&&!0===c,b=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,y=m.pathname,x=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;i||(y=y.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&_&&(x=U(x,_)||x);const w="/"!==b&&b.endsWith("/")?b.length-1:b.length;let E,S=y===b||!s&&y.startsWith(b)&&"/"===y.charAt(w),C=null!=x&&(x===b||!s&&x.startsWith(b)&&"/"===x.charAt(b.length)),T={isActive:S,isPending:C,isTransitioning:v},N=S?n:void 0;E="function"===typeof r?r(T):[r,S?"active":null,C?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof o?o(T):o;return a.createElement(qt,At({},u,{"aria-current":N,className:E,ref:t,style:A,to:l,viewTransition:c}),"function"===typeof d?d(T):d)});var Xt,Kt;function Jt(e){let t=a.useContext(Qe);return t||p(!1),t}function Zt(e){let t=a.useRef(Rt(e)),n=a.useRef(!1),i=at(),r=a.useMemo(()=>function(e,t){let n=Rt(e);return t&&t.forEach((e,i)=>{n.has(i)||t.getAll(i).forEach(e=>{n.append(i,e)})}),n}(i.search,n.current?null:t.current),[i.search]),s=ot(),o=a.useCallback((e,t)=>{const i=Rt("function"===typeof e?e(r):e);n.current=!0,s("?"+i,t)},[s,r]);return[r,o]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xt||(Xt={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Kt||(Kt={}));var Qt=n(7237);function $t(e){e()}var en={notify(){},get:()=>[]};function tn(e,t){let n,i=en,r=0,a=!1;function s(){c.onStateChange&&c.onStateChange()}function o(){r++,n||(n=t?t.addNestedSub(s):e.subscribe(s),i=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){$t(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let i=!0;const r=t={callback:n,next:null,prev:t};return r.prev?r.prev.next=r:e=r,function(){i&&null!==e&&(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}())}function l(){r--,n&&0===r&&(n(),n=void 0,i.clear(),i=en)}const c={addNestedSub:function(e){o();const t=i.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){i.notify()},handleChangeWrapper:s,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,o())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>i};return c}var nn=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),rn=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),an=(()=>nn||rn?a.useLayoutEffect:a.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var sn=Symbol.for("react-redux-context"),on="undefined"!==typeof globalThis?globalThis:{};function ln(){var e;if(!a.createContext)return{};const t=null!==(e=on[sn])&&void 0!==e?e:on[sn]=new Map;let n=t.get(a.createContext);return n||(n=a.createContext(null),t.set(a.createContext,n)),n}var cn=ln();var dn=function(e){const{children:t,context:n,serverState:i,store:r}=e,s=a.useMemo(()=>{const e=tn(r);return{store:r,subscription:e,getServerState:i?()=>i:void 0}},[r,i]),o=a.useMemo(()=>r.getState(),[r]);an(()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==r.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[s,o]);const l=n||cn;return a.createElement(l.Provider,{value:s},t)};function un(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;return function(){return a.useContext(e)}}var hn=un();function pn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;const t=e===cn?hn:un(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var mn=pn();function fn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;const t=e===cn?mn:pn(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var gn=fn(),_n=(e,t)=>e===t;function vn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn;const t=e===cn?hn:un(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:i=_n}="function"===typeof n?{equalityFn:n}:n;const r=t(),{store:s,subscription:o,getServerState:l}=r,c=(a.useRef(!0),a.useCallback({[e.name]:t=>e(t)}[e.name],[e])),d=(0,Qt.useSyncExternalStoreWithSelector)(o.addNestedSub,s.getState,l||s.getState,c,i);return a.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var bn=vn();function yn(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}function xn(e,t){if(null==e)return{};var n,i,r=yn(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wn(e){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wn(e)}function En(e){var t=function(e,t){if("object"!=wn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=wn(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wn(t)?t:t+""}function Sn(e,t,n){return(t=En(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach(function(t){Sn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Nn(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var An=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),kn=()=>Math.random().toString(36).substring(7).split("").join("."),Rn={INIT:"@@redux/INIT".concat(kn()),REPLACE:"@@redux/REPLACE".concat(kn()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(kn())};function In(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function On(e,t,n){if("function"!==typeof e)throw new Error(Nn(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Nn(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Nn(1));return n(On)(e,t)}let i=e,r=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((e,t)=>{s.set(t,e)}))}function d(){if(l)throw new Error(Nn(3));return r}function u(e){if("function"!==typeof e)throw new Error(Nn(4));if(l)throw new Error(Nn(5));let t=!0;c();const n=o++;return s.set(n,e),function(){if(t){if(l)throw new Error(Nn(6));t=!1,c(),s.delete(n),a=null}}}function h(e){if(!In(e))throw new Error(Nn(7));if("undefined"===typeof e.type)throw new Error(Nn(8));if("string"!==typeof e.type)throw new Error(Nn(17));if(l)throw new Error(Nn(9));try{l=!0,r=i(r,e)}finally{l=!1}return(a=s).forEach(e=>{e()}),e}h({type:Rn.INIT});return{dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Nn(10));i=e,h({type:Rn.REPLACE})},[An]:function(){const e=u;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Nn(11));function n(){const e=t;e.next&&e.next(d())}n();return{unsubscribe:e(n)}},[An](){return this}}}}}function jn(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const i=t[a];0,"function"===typeof e[i]&&(n[i]=e[i])}const i=Object.keys(n);let r;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:Rn.INIT}))throw new Error(Nn(12));if("undefined"===typeof n(void 0,{type:Rn.PROBE_UNKNOWN_ACTION()}))throw new Error(Nn(13))})}(n)}catch(ZV){r=ZV}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(r)throw r;let a=!1;const s={};for(let r=0;r<i.length;r++){const o=i[r],l=n[o],c=e[o],d=l(c,t);if("undefined"===typeof d){t&&t.type;throw new Error(Nn(14))}s[o]=d,a=a||d!==c}return a=a||i.length!==Object.keys(e).length,a?s:e}}function Pn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function Dn(e){return t=>{let{dispatch:n,getState:i}=t;return t=>r=>"function"===typeof r?r(n,i,e):t(r)}}var Ln=Dn(),Mn=Dn,Un=Symbol.for("immer-nothing"),Fn=Symbol.for("immer-draftable"),Bn=Symbol.for("immer-state");function Vn(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var zn=Object.getPrototypeOf;function Hn(e){return!!e&&!!e[Bn]}function Wn(e){var t;return!!e&&(qn(e)||Array.isArray(e)||!!e[Fn]||!(null===(t=e.constructor)||void 0===t||!t[Fn])||Zn(e)||Qn(e))}var Gn=Object.prototype.constructor.toString();function qn(e){if(!e||"object"!==typeof e)return!1;const t=zn(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Gn}function Yn(e,t){0===Xn(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,i)=>t(i,n,e))}function Xn(e){const t=e[Bn];return t?t.type_:Array.isArray(e)?1:Zn(e)?2:Qn(e)?3:0}function Kn(e,t){return 2===Xn(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Jn(e,t,n){const i=Xn(e);2===i?e.set(t,n):3===i?e.add(n):e[t]=n}function Zn(e){return e instanceof Map}function Qn(e){return e instanceof Set}function $n(e){return e.copy_||e.base_}function ei(e,t){if(Zn(e))return new Map(e);if(Qn(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=qn(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Bn];let n=Reflect.ownKeys(t);for(let i=0;i<n.length;i++){const r=n[i],a=t[r];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[r]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[r]})}return Object.create(zn(e),t)}{const t=zn(e);if(null!==t&&n)return Tn({},e);const i=Object.create(t);return Object.assign(i,e)}}function ti(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ii(e)||Hn(e)||!Wn(e)||(Xn(e)>1&&Object.defineProperties(e,{set:{value:ni},add:{value:ni},clear:{value:ni},delete:{value:ni}}),Object.freeze(e),t&&Object.values(e).forEach(e=>ti(e,!0))),e}function ni(){Vn(2)}function ii(e){return Object.isFrozen(e)}var ri,ai={};function si(e){const t=ai[e];return t||Vn(0),t}function oi(){return ri}function li(e,t){t&&(si("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ci(e){di(e),e.drafts_.forEach(hi),e.drafts_=null}function di(e){e===ri&&(ri=e.parent_)}function ui(e){return ri={drafts_:[],parent_:ri,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function hi(e){const t=e[Bn];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function pi(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Bn].modified_&&(ci(t),Vn(4)),Wn(e)&&(e=mi(t,e),t.parent_||gi(t,e)),t.patches_&&si("Patches").generateReplacementPatches_(n[Bn].base_,e,t.patches_,t.inversePatches_)):e=mi(t,n,[]),ci(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Un?e:void 0}function mi(e,t,n){if(ii(t))return t;const i=t[Bn];if(!i)return Yn(t,(r,a)=>fi(e,i,t,r,a,n)),t;if(i.scope_!==e)return t;if(!i.modified_)return gi(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const t=i.copy_;let r=t,a=!1;3===i.type_&&(r=new Set(t),t.clear(),a=!0),Yn(r,(r,s)=>fi(e,i,t,r,s,n,a)),gi(e,t,!1),n&&e.patches_&&si("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function fi(e,t,n,i,r,a,s){if(Hn(r)){const s=mi(e,r,a&&t&&3!==t.type_&&!Kn(t.assigned_,i)?a.concat(i):void 0);if(Jn(n,i,s),!Hn(s))return;e.canAutoFreeze_=!1}else s&&n.add(r);if(Wn(r)&&!ii(r)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;mi(e,r),t&&t.scope_.parent_||"symbol"===typeof i||!(Zn(n)?n.has(i):Object.prototype.propertyIsEnumerable.call(n,i))||gi(e,r)}}function gi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ti(t,n)}var _i={get(e,t){if(t===Bn)return e;const n=$n(e);if(!Kn(n,t))return function(e,t,n){var i;const r=yi(t,n);return r?"value"in r?r.value:null===(i=r.get)||void 0===i?void 0:i.call(e.draft_):void 0}(e,n,t);const i=n[t];return e.finalized_||!Wn(i)?i:i===bi(e.base_,t)?(wi(e),e.copy_[t]=Ei(i,e)):i},has:(e,t)=>t in $n(e),ownKeys:e=>Reflect.ownKeys($n(e)),set(e,t,n){const i=yi($n(e),t);if(null!==i&&void 0!==i&&i.set)return i.set.call(e.draft_,n),!0;if(!e.modified_){const i=bi($n(e),t),s=null===i||void 0===i?void 0:i[Bn];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((r=n)===(a=i)?0!==r||1/r===1/a:r!==r&&a!==a)&&(void 0!==n||Kn(e.base_,t)))return!0;wi(e),xi(e)}var r,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==bi(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,wi(e),xi(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=$n(e),i=Reflect.getOwnPropertyDescriptor(n,t);return i?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:i.enumerable,value:n[t]}:i},defineProperty(){Vn(11)},getPrototypeOf:e=>zn(e.base_),setPrototypeOf(){Vn(12)}},vi={};function bi(e,t){const n=e[Bn];return(n?$n(n):e)[t]}function yi(e,t){if(!(t in e))return;let n=zn(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=zn(n)}}function xi(e){e.modified_||(e.modified_=!0,e.parent_&&xi(e.parent_))}function wi(e){e.copy_||(e.copy_=ei(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Yn(_i,(e,t)=>{vi[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),vi.deleteProperty=function(e,t){return vi.set.call(this,e,t,void 0)},vi.set=function(e,t,n){return _i.set.call(this,e[0],t,n,e[0])};function Ei(e,t){const n=Zn(e)?si("MapSet").proxyMap_(e,t):Qn(e)?si("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),i={type_:n?1:0,scope_:t?t.scope_:oi(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,a=_i;n&&(r=[i],a=vi);const{revoke:s,proxy:o}=Proxy.revocable(r,a);return i.draft_=o,i.revoke_=s,o}(e,t);return(t?t.scope_:oi()).drafts_.push(n),n}function Si(e){if(!Wn(e)||ii(e))return e;const t=e[Bn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ei(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ei(e,!0);return Yn(n,(e,t)=>{Jn(n,e,Si(t))}),t&&(t.finalized_=!1),n}var Ci=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const i=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return i.produce(e,e=>t.call(this,e,...a))}}let i;if("function"!==typeof t&&Vn(6),void 0!==n&&"function"!==typeof n&&Vn(7),Wn(e)){const r=ui(this),a=Ei(e,void 0);let s=!0;try{i=t(a),s=!1}finally{s?ci(r):di(r)}return li(r,n),pi(i,r)}if(!e||"object"!==typeof e){if(i=t(e),void 0===i&&(i=e),i===Un&&(i=void 0),this.autoFreeze_&&ti(i,!0),n){const t=[],r=[];si("Patches").generateReplacementPatches_(e,i,t,r),n(t,r)}return i}Vn(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...r))};let i,r;return[this.produce(e,n,(e,t)=>{i=e,r=t}),i,r]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Wn(e)||Vn(8),Hn(e)&&(e=function(e){Hn(e)||Vn(10);return Si(e)}(e));const t=ui(this),n=Ei(e,void 0);return n[Bn].isManual_=!0,di(t),n}finishDraft(e,t){const n=e&&e[Bn];n&&n.isManual_||Vn(9);const{scope_:i}=n;return li(i,t),pi(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(0===i.path.length&&"replace"===i.op){e=i.value;break}}n>-1&&(t=t.slice(n+1));const i=si("Patches").applyPatches_;return Hn(e)?i(e,t):this.produce(e,e=>i(e,t))}},Ti=Ci.produce;const Ni=["reducerPath"];var Ai="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Pn:Pn.apply(null,arguments)},ki=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,e=>e&&"function"===typeof e.match);function Ri(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(or(0));return Tn(Tn({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>function(e){return In(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var Ii=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Oi(e){return Wn(e)?Ti(e,()=>{}):e}function ji(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var Pi="RTK_autoBatch",Di=e=>t=>{setTimeout(t,e)},Li=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let i=new Ii(e);return n&&i.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let i=!0,r=!1,a=!1;const s=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Di(10):"callback"===e.type?e.queueNotification:Di(e.timeout),l=()=>{a=!1,r&&(r=!1,s.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>i&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{var t;return i=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[Pi]),r=!i,r&&(a||(a=!0,o(l))),n.dispatch(e)}finally{i=!0}}})}}("object"===typeof n?n:void 0)),i};function Mi(e){const t={},n=[];let i;const r={addCase(e,n){const i="string"===typeof e?e:e.type;if(!i)throw new Error(or(28));if(i in t)throw new Error(or(29));return t[i]=n,r},addAsyncThunk:(e,i)=>(i.pending&&(t[e.pending.type]=i.pending),i.rejected&&(t[e.rejected.type]=i.rejected),i.fulfilled&&(t[e.fulfilled.type]=i.fulfilled),i.settled&&n.push({matcher:e.settled,reducer:i.settled}),r),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),r),addDefaultCase:e=>(i=e,r)};return e(r),[t,n,i]}var Ui=(e,t)=>ki(e)?e.match(t):e(t);function Fi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some(t=>Ui(t,e))}var Bi=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},Vi=["name","message","stack","code"],zi=class{constructor(e,t){Sn(this,"_type",void 0),this.payload=e,this.meta=t}},Hi=class{constructor(e,t){Sn(this,"_type",void 0),this.payload=e,this.meta=t}},Wi=e=>{if("object"===typeof e&&null!==e){const t={};for(const n of Vi)"string"===typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},Gi="External signal was aborted",qi=(()=>{function e(e,t,n){const i=Ri(e+"/fulfilled",(e,t,n,i)=>({payload:e,meta:Tn(Tn({},i||{}),{},{arg:n,requestId:t,requestStatus:"fulfilled"})})),r=Ri(e+"/pending",(e,t,n)=>({payload:void 0,meta:Tn(Tn({},n||{}),{},{arg:t,requestId:e,requestStatus:"pending"})})),a=Ri(e+"/rejected",(e,t,i,r,a)=>({payload:r,error:(n&&n.serializeError||Wi)(e||"Rejected"),meta:Tn(Tn({},a||{}),{},{arg:i,requestId:t,rejectedWithValue:!!r,requestStatus:"rejected",aborted:"AbortError"===(null===e||void 0===e?void 0:e.name),condition:"ConditionError"===(null===e||void 0===e?void 0:e.name)})}));return Object.assign(function(e){let{signal:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(o,l,c)=>{const d=null!==n&&void 0!==n&&n.idGenerator?n.idGenerator(e):Bi(),u=new AbortController;let h,p;function m(e){p=e,u.abort()}s&&(s.aborted?m(Gi):s.addEventListener("abort",()=>m(Gi),{once:!0}));const f=async function(){let s;try{var f,g;let a=null===n||void 0===n||null===(f=n.condition)||void 0===f?void 0:f.call(n,e,{getState:l,extra:c});if(function(e){return null!==e&&"object"===typeof e&&"function"===typeof e.then}(a)&&(a=await a),!1===a||u.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const _=new Promise((e,t)=>{h=()=>{t({name:"AbortError",message:p||"Aborted"})},u.signal.addEventListener("abort",h)});o(r(d,e,null===n||void 0===n||null===(g=n.getPendingMeta)||void 0===g?void 0:g.call(n,{requestId:d,arg:e},{getState:l,extra:c}))),s=await Promise.race([_,Promise.resolve(t(e,{dispatch:o,getState:l,extra:c,requestId:d,signal:u.signal,abort:m,rejectWithValue:(e,t)=>new zi(e,t),fulfillWithValue:(e,t)=>new Hi(e,t)})).then(t=>{if(t instanceof zi)throw t;return t instanceof Hi?i(t.payload,d,e,t.meta):i(t,d,e)})])}catch(_){s=_ instanceof zi?a(null,d,e,_.payload,_.meta):a(_,d,e)}finally{h&&u.signal.removeEventListener("abort",h)}return n&&!n.dispatchConditionRejection&&a.match(s)&&s.meta.condition||o(s),s}();return Object.assign(f,{abort:m,requestId:d,arg:e,unwrap:()=>f.then(Yi)})}},{pending:r,rejected:a,fulfilled:i,settled:Fi(a,i),typePrefix:e})}return e.withTypes=()=>e,e})();function Yi(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Xi=Symbol.for("rtk-slice-createasyncthunk");function Ki(e,t){return"".concat(e,"/").concat(t)}function Ji(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[Xi];return function(e){const{name:t,reducerPath:i=t}=e;if(!t)throw new Error(or(11));const r=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return Tn({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(r),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(or(12));if(n in s.sliceCaseReducersByType)throw new Error(or(13));return s.sliceCaseReducersByType[n]=t,o},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(s.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},n=[],i]="function"===typeof e.extraReducers?Mi(e.extraReducers):[e.extraReducers],r=Tn(Tn({},t),s.sliceCaseReducersByType);return function(e,t){let n,[i,r,a]=Mi(t);if("function"===typeof e)n=()=>Oi(e());else{const t=Oi(e);n=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,s=[i[t.type],...r.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===s.filter(e=>!!e).length&&(s=[a]),s.reduce((e,n)=>{if(n){if(Hn(e)){const i=n(e,t);return void 0===i?e:i}if(Wn(e))return Ti(e,e=>n(e,t));{const i=n(e,t);if(void 0===i){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return i}}return e},e)}return s.getInitialState=n,s}(e.initialState,e=>{for(let t in r)e.addCase(t,r[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);i&&e.addDefaultCase(i)})}a.forEach(i=>{const a=r[i],s={reducerName:i,type:Ki(t,i),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,n){let i,r,{type:a,reducerName:s,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(or(17));i=t.reducer,r=t.prepare}else i=t;n.addCase(a,i).exposeCaseReducer(s,i).exposeAction(s,r?Ri(a,r):Ri(a))}(s,a,o):function(e,t,n,i){let{type:r,reducerName:a}=e;if(!i)throw new Error(or(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=t,h=i(r,s,u);n.exposeAction(a,h),o&&n.addCase(h.fulfilled,o);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);d&&n.addMatcher(h.settled,d);n.exposeCaseReducer(a,{fulfilled:o||$i,pending:l||$i,rejected:c||$i,settled:d||$i})}(s,a,o,n)});const c=e=>e,d=new Map,u=new WeakMap;let h;function p(e,t){return h||(h=l()),h(e,t)}function m(){return h||(h=l()),h.getInitialState()}function f(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function i(e){let r=e[t];return"undefined"===typeof r&&n&&(r=ji(u,i,m)),r}function r(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const i=ji(d,n,()=>new WeakMap);return ji(i,t,()=>{const i={};for(const[a,s]of Object.entries(null!==(r=e.selectors)&&void 0!==r?r:{})){var r;i[a]=Zi(s,t,()=>ji(u,t,m),n)}return i})}return{reducerPath:t,getSelectors:r,get selectors(){return r(i)},selectSlice:i}}const g=Tn(Tn({name:t,reducer:p,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:m},f(i)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,r=xn(t,Ni);const a=null!==n&&void 0!==n?n:i;return e.inject({reducerPath:a,reducer:p},r),Tn(Tn({},g),f(a,!0))}});return g}}function Zi(e,t,n,i){function r(r){let a=t(r);"undefined"===typeof a&&i&&(a=n());for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return e(a,...o)}return r.unwrapped=e,r}var Qi=Ji();function $i(){}var er="listener",tr="completed",nr="cancelled";"task-".concat(nr),"task-".concat(tr),"".concat(er,"-").concat(nr),"".concat(er,"-").concat(tr);var{assign:ir}=Object,rr="listenerMiddleware",ar=ir(Ri("".concat(rr,"/add")),{withTypes:()=>ar}),sr=("".concat(rr,"/removeAll"),ir(Ri("".concat(rr,"/remove")),{withTypes:()=>sr}));Symbol.for("rtk-state-proxy-original");function or(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}const lr=Qi({name:"userProfile",initialState:{file:null},reducers:{addProfile:(e,t)=>{e.file=t.payload}}}),{addProfile:cr}=lr.actions,dr=lr.reducer,ur=Qi({name:"globalLoader",initialState:!0,reducers:{setGlobalLoader:(e,t)=>t.payload}}),{setGlobalLoader:hr}=ur.actions,pr=ur.reducer,mr=Qi({name:"userType",initialState:"",reducers:{setUserType:(e,t)=>t.payload}}),{setUserType:fr}=mr.actions,gr=mr.reducer;var _r=n(728);const vr=qi("data/fetchApiData",async()=>{let e=await(0,_r.portalDesign)();return null===e||void 0===e?void 0:e.data}),br=Qi({name:"designportal",initialState:{loading:!1,data:null,error:null},extraReducers:e=>{e.addCase(vr.pending,e=>{e.loading=!0,e.data=null,e.error=null}).addCase(vr.fulfilled,(e,t)=>{e.loading=!1,e.data=t.payload,e.error=null}).addCase(vr.rejected,(e,t)=>{e.loading=!1,e.data=null,e.error=t.error.message})}}).reducer,yr=Qi({name:"globalData",initialState:{data:null},reducers:{addData:(e,t)=>{e.data=t.payload}}}),{addData:xr}=yr.actions,wr=yr.reducer,Er=Qi({name:"psychicData",initialState:{data:null},reducers:{addPsychicData:(e,t)=>{e.data=t.payload}}}),{addPsychicData:Sr}=Er.actions,Cr=Er.reducer,Tr=Qi({name:"meetingDetailsSlice",initialState:{meetingDetails:null,incomingCallRequestDetails:null},reducers:{setMeetingDetails:(e,t)=>{e.meetingDetails=t.payload},setMessageId:(e,t)=>{e.meetingDetails.call_info.message_id=t.payload},markCallAsReceived:(e,t)=>{e.meetingDetails.call_info.call_status="received",e.meetingDetails.call_info.call_start_time=new Date},resetMeetingDetailsForOutgoingCall:(e,t)=>{var n,i,r,a;null===e||void 0===e||(null===(n=e.meetingDetails)||void 0===n||(null===(i=n.call_info)||void 0===i||delete i.call_status)),null===e||void 0===e||(null===(r=e.meetingDetails)||void 0===r||(null===(a=r.call_info)||void 0===a||delete a.call_start_time))},setIncomingCallRequestDetails:(e,t)=>{e.incomingCallRequestDetails=t.payload}}}),{setMeetingDetails:Nr,setMessageId:Ar,markCallAsReceived:kr,resetMeetingDetailsForOutgoingCall:Rr,setIncomingCallRequestDetails:Ir}=Tr.actions,Or=Tr.reducer,jr=Qi({name:"notificationCount",initialState:{total:0,unread:0},reducers:{setNotificationCounts:(e,t)=>{const{total:n,unread:i}=t.payload;void 0!==n&&null!==n&&(e.total=Number(n)),void 0!==i&&null!==i&&(e.unread=Number(i))},markAsRead:e=>{e.unread>0&&(e.unread-=1)},incrementUnread:e=>{e.unread+=1,e.total+=1}}}),{setNotificationCounts:Pr,markAsRead:Dr,incrementUnread:Lr}=jr.actions,Mr=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:r=!0}=null!==e&&void 0!==e?e:{};let a=new Ii;return t&&("boolean"===typeof t?a.push(Ln):a.push(Mn(t.extraArgument))),a},{reducer:n,middleware:i,devTools:r=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s,enhancers:o}=e||{};let l,c;if("function"===typeof n)l=n;else{if(!In(n))throw new Error(or(1));l=jn(n)}c="function"===typeof i?i(t):t();let d=Pn;r&&(d=Ai(Tn({trace:!1},"object"===typeof r&&r)));const u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,i)=>{const r=e(n,i);let a=()=>{throw new Error(Nn(15))};const s={getState:r.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return a(e,...n)}},o=t.map(e=>e(s));return a=Pn(...o)(r.dispatch),Tn(Tn({},r),{},{dispatch:a})}}(...c),h=Li(u);return On(l,s,d(..."function"===typeof o?o(h):h()))}({reducer:{profile:dr,user:gr,globalLoader:pr,designportal:br,globalData:wr,psychicData:Cr,meetingDetailsSlice:Or,notificationCount:jr.reducer},middleware:e=>e({serializableCheck:!1})}),Ur=Mr;var Fr=n(8613),Br=n.n(Fr),Vr=n(64),zr=n.n(Vr);const Hr=e=>"string"===typeof e,Wr=()=>{let e,t;const n=new Promise((n,i)=>{e=n,t=i});return n.resolve=e,n.reject=t,n},Gr=e=>null==e?"":""+e,qr=/###/g,Yr=e=>e&&e.indexOf("###")>-1?e.replace(qr,"."):e,Xr=e=>!e||Hr(e),Kr=(e,t,n)=>{const i=Hr(t)?t.split("."):t;let r=0;for(;r<i.length-1;){if(Xr(e))return{};const t=Yr(i[r]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++r}return Xr(e)?{}:{obj:e,k:Yr(i[r])}},Jr=(e,t,n)=>{const{obj:i,k:r}=Kr(e,t,Object);if(void 0!==i||1===t.length)return void(i[r]=n);let a=t[t.length-1],s=t.slice(0,t.length-1),o=Kr(e,s,Object);for(;void 0===o.obj&&s.length;)a="".concat(s[s.length-1],".").concat(a),s=s.slice(0,s.length-1),o=Kr(e,s,Object),o&&o.obj&&"undefined"!==typeof o.obj["".concat(o.k,".").concat(a)]&&(o.obj=void 0);o.obj["".concat(o.k,".").concat(a)]=n},Zr=(e,t)=>{const{obj:n,k:i}=Kr(e,t);if(n)return n[i]},Qr=(e,t,n)=>{for(const i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?Hr(e[i])||e[i]instanceof String||Hr(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):Qr(e[i],t[i],n):e[i]=t[i]);return e},$r=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ea={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ta=e=>Hr(e)?e.replace(/[&<>"'\/]/g,e=>ea[e]):e;const na=[" ",",","?","!",";"],ia=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),ra=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const i=t.split(n);let r=e;for(let a=0;a<i.length;){if(!r||"object"!==typeof r)return;let e,t="";for(let s=a;s<i.length;++s)if(s!==a&&(t+=n),t+=i[s],e=r[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&s<i.length-1)continue;a+=s-a+1;break}r=e}return r},aa=e=>e&&e.replace("_","-"),sa={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class oa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||sa,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:(Hr(e[0])&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}create(e){return new oa(this.logger,Tn(Tn({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new oa(this.logger,e)}}var la=new oa;class ca{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(e=>{let[t,i]=e;for(let r=0;r<i;r++)t(...n)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(t=>{let[i,r]=t;for(let a=0;a<r;a++)i.apply(i,[e,...n])})}}}class da extends ca{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,t],n&&(Array.isArray(n)?s.push(...n):Hr(n)&&r?s.push(...n.split(r)):s.push(n)));const o=Zr(this.data,s);return!o&&!t&&!n&&e.indexOf(".")>-1&&(e=s[0],t=s[1],n=s.slice(2).join(".")),!o&&a&&Hr(n)?ra(this.data&&this.data[e]&&this.data[e][t],n,r):o}addResource(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const a=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let s=[e,t];n&&(s=s.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(s=e.split("."),i=t,t=s[1]),this.addNamespaces(t),Jr(this.data,s,i),r.silent||this.emit("added",e,t,n,i)}addResources(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const r in n)(Hr(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),i=n,n=t,t=s[1]),this.addNamespaces(t);let o=Zr(this.data,s)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Qr(o,n,r):o=Tn(Tn({},o),n),Jr(this.data,s,o),a.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Tn(Tn({},{}),this.getResource(e,t)):this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var ua={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,r){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,n,i,r))}),t}};const ha={};class pa extends ca{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach(e=>{t[e]&&(n[e]=t[e])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=la.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!((e,t,n)=>{t=t||"",n=n||"";const i=na.filter(e=>t.indexOf(e)<0&&n.indexOf(e)<0);if(0===i.length)return!0;const r=ia.getRegExp("(".concat(i.map(e=>"?"===e?"\\?":e).join("|"),")"));let a=!r.test(e);if(!a){const t=e.indexOf(n);t>0&&!r.test(e.substring(0,t))&&(a=!0)}return a})(e,n,i);if(a&&!s){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:Hr(r)?[r]:r};const a=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(a[0])>-1)&&(r=a.shift()),e=a.join(i)}return{key:e,namespaces:Hr(r)?[r]:r}}translate(e,t,n){if("object"!==typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof t&&(t=Tn({},t)),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);const i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:a,namespaces:s}=this.extractFromKey(e[e.length-1],t),o=s[s.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return i?{res:"".concat(o).concat(e).concat(a),usedKey:a,exactUsedKey:a,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:"".concat(o).concat(e).concat(a)}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:l,usedNS:o,usedParams:this.getUsedParamsDetails(t)}:a}const d=this.resolve(e,t);let u=d&&d.res;const h=d&&d.usedKey||a,p=d&&d.exactUsedKey||a,m=Object.prototype.toString.apply(u),f=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,_=!Hr(u)&&"boolean"!==typeof u&&"number"!==typeof u;if(!(g&&u&&_&&["[object Number]","[object Function]","[object RegExp]"].indexOf(m)<0)||Hr(f)&&Array.isArray(u))if(g&&Hr(f)&&Array.isArray(u))u=u.join(f),u&&(u=this.extendTranslation(u,e,t,n));else{let i=!1,s=!1;const c=void 0!==t.count&&!Hr(t.count),h=pa.hasDefaultValue(t),p=c?this.pluralResolver.getSuffix(l,t.count,t):"",m=t.ordinal&&c?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",f=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),g=f&&t["defaultValue".concat(this.options.pluralSeparator,"zero")]||t["defaultValue".concat(p)]||t["defaultValue".concat(m)]||t.defaultValue;!this.isValidLookup(u)&&h&&(i=!0,u=g),this.isValidLookup(u)||(s=!0,u=a);const _=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&s?void 0:u,v=h&&g!==u&&this.options.updateMissing;if(s||i||v){if(this.logger.log(v?"updateKey":"missingKey",l,o,a,v?g:u),r){const e=this.resolve(a,Tn(Tn({},t),{},{keySeparator:!1}));e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const i=(e,n,i)=>{const r=h&&i!==u?i:_;this.options.missingKeyHandler?this.options.missingKeyHandler(e,o,n,r,v,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,o,n,r,v,t),this.emit("missingKey",e,o,n,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach(e=>{const n=this.pluralResolver.getSuffixes(e,t);f&&t["defaultValue".concat(this.options.pluralSeparator,"zero")]&&n.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&n.push("".concat(this.options.pluralSeparator,"zero")),n.forEach(n=>{i([e],a+n,t["defaultValue".concat(n)]||g)})}):i(e,a,g))}u=this.extendTranslation(u,e,t,d,n),s&&u===a&&this.options.appendNamespaceToMissingKey&&(u="".concat(o,":").concat(a)),(s||i)&&this.options.parseMissingKeyHandler&&(u="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(o,":").concat(a):a,i?u:void 0):this.options.parseMissingKeyHandler(u))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,u,Tn(Tn({},t),{},{ns:s})):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");return i?(d.res=e,d.usedParams=this.getUsedParamsDetails(t),d):e}if(r){const e=Array.isArray(u),n=e?[]:{},i=e?p:h;for(const a in u)if(Object.prototype.hasOwnProperty.call(u,a)){const e="".concat(i).concat(r).concat(a);n[a]=this.translate(e,Tn(Tn({},t),{joinArrays:!1,ns:s})),n[a]===e&&(n[a]=u[a])}u=n}}return i?(d.res=u,d.usedParams=this.getUsedParamsDetails(t),d):u}extendTranslation(e,t,n,i,r){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,Tn(Tn({},this.options.interpolation.defaultVariables),n),n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(Tn(Tn({},n),{interpolation:Tn(Tn({},this.options.interpolation),n.interpolation)}));const s=Hr(e)&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let o;if(s){const t=e.match(this.interpolator.nestingRegexp);o=t&&t.length}let l=n.replace&&!Hr(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(l=Tn(Tn({},this.options.interpolation.defaultVariables),l)),e=this.interpolator.interpolate(e,l,n.lng||this.language||i.usedLng,n),s){const t=e.match(this.interpolator.nestingRegexp);o<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&i&&i.res&&(n.lng=this.language||i.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return r&&r[0]===i[0]&&!n.context?(a.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(t[0])),null):a.translate(...i,t)},n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,o=Hr(s)?[s]:s;return void 0!==e&&null!==e&&o&&o.length&&!1!==n.applyPostProcessor&&(e=ua.handle(o,e,t,this.options&&this.options.postProcessPassResolved?Tn({i18nResolved:Tn(Tn({},i),{},{usedParams:this.getUsedParamsDetails(n)})},n):n,this)),e}resolve(e){let t,n,i,r,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Hr(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;const o=this.extractFromKey(e,s),l=o.key;n=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const d=void 0!==s.count&&!Hr(s.count),u=d&&!s.ordinal&&0===s.count&&this.pluralResolver.shouldUseIntlApi(),h=void 0!==s.context&&(Hr(s.context)||"number"===typeof s.context)&&""!==s.context,p=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach(e=>{this.isValidLookup(t)||(a=e,!ha["".concat(p[0],"-").concat(e)]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(ha["".concat(p[0],"-").concat(e)]=!0,this.logger.warn('key "'.concat(n,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(n=>{if(this.isValidLookup(t))return;r=n;const a=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(a,l,n,e,s);else{let e;d&&(e=this.pluralResolver.getSuffix(n,s.count,s));const t="".concat(this.options.pluralSeparator,"zero"),i="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(d&&(a.push(l+e),s.ordinal&&0===e.indexOf(i)&&a.push(l+e.replace(i,this.options.pluralSeparator)),u&&a.push(l+t)),h){const n="".concat(l).concat(this.options.contextSeparator).concat(s.context);a.push(n),d&&(a.push(n+e),s.ordinal&&0===e.indexOf(i)&&a.push(n+e.replace(i,this.options.pluralSeparator)),u&&a.push(n+t))}}let o;for(;o=a.pop();)this.isValidLookup(t)||(i=o,t=this.getResource(n,e,o,s))}))})}),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:a}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Hr(e.replace);let i=n?e.replace:e;if(n&&"undefined"!==typeof e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i=Tn(Tn({},this.options.interpolation.defaultVariables),i)),!n){i=Tn({},i);for(const e of t)delete i[e]}return i}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}const ma=e=>e.charAt(0).toUpperCase()+e.slice(1);class fa{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=la.create("languageUtils")}getScriptPartFromCode(e){if(!(e=aa(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=aa(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Hr(e)&&e.indexOf("-")>-1){if("undefined"!==typeof Intl&&"undefined"!==typeof Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(ZV){}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(e=>e.toLowerCase()):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=ma(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=ma(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=ma(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),Hr(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],r=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return Hr(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):Hr(e)&&r(this.formatLanguageCode(e)),n.forEach(e=>{i.indexOf(e)<0&&r(this.formatLanguageCode(e))}),i}}let ga=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_a={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const va=["v1","v2","v3"],ba=["v4"],ya={zero:0,one:1,two:2,few:3,many:4,other:5};class xa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=la.create("pluralResolver"),this.options.compatibilityJSON&&!ba.includes(this.options.compatibilityJSON)||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return ga.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:_a[t.fc]}})}),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi()){const i=aa("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:i,type:r});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let s;try{s=new Intl.PluralRules(i,{type:r})}catch(n){if(!e.match(/-|_/))return;const i=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(i,t)}return this.pluralRulesCache[a]=s,s}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map(e=>"".concat(t).concat(e))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((e,t)=>ya[e]-ya[t]).map(e=>"".concat(this.options.prepend).concat(t.ordinal?"ordinal".concat(this.options.prepend):"").concat(e)):n.numbers.map(n=>this.getSuffix(e,n,t)):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(i.select(t)):this.getSuffixRetroCompatible(i,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let i=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));const r=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return"v1"===this.options.compatibilityJSON?1===i?"":"number"===typeof i?"_plural_".concat(i.toString()):r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!va.includes(this.options.compatibilityJSON)}}const wa=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=((e,t,n)=>{const i=Zr(e,n);return void 0!==i?i:Zr(t,n)})(e,t,n);return!a&&r&&Hr(n)&&(a=ra(e,n,i),void 0===a&&(a=ra(t,n,i))),a},Ea=e=>e.replace(/\$/g,"$$$$");class Sa{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=la.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:r,prefixEscaped:a,suffix:s,suffixEscaped:o,formatSeparator:l,unescapeSuffix:c,unescapePrefix:d,nestingPrefix:u,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:m,nestingOptionsSeparator:f,maxReplaces:g,alwaysFormat:_}=e.interpolation;this.escape=void 0!==t?t:ta,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==i&&i,this.prefix=r?$r(r):a||"{{",this.suffix=s?$r(s):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=u?$r(u):h||$r("$t("),this.nestingSuffix=p?$r(p):m||$r(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==_&&_,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix))}interpolate(e,t,n,i){let r,a,s;const o=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const r=wa(t,o,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,n,Tn(Tn(Tn({},i),t),{},{interpolationkey:e})):r}const r=e.split(this.formatSeparator),a=r.shift().trim(),s=r.join(this.formatSeparator).trim();return this.format(wa(t,o,a,this.options.keySeparator,this.options.ignoreJSONStructure),s,n,Tn(Tn(Tn({},i),t),{},{interpolationkey:a}))};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>Ea(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?Ea(this.escape(e)):Ea(e)}].forEach(t=>{for(s=0;r=t.regex.exec(e);){const n=r[1].trim();if(a=l(n),void 0===a)if("function"===typeof c){const t=c(e,r,i);a=Hr(t)?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,n))a="";else{if(d){a=r[0];continue}this.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),a=""}else Hr(a)||this.useRawValueToEscape||(a=Gr(a));const o=t.safeValue(a);if(e=e.replace(r[0],o),d?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,t){let n,i,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const i=e.split(new RegExp("".concat(n,"[ ]*{")));let a="{".concat(i[1]);e=i[0],a=this.interpolate(a,r);const s=a.match(/'/g),o=a.match(/"/g);(s&&s.length%2===0&&!o||o.length%2!==0)&&(a=a.replace(/'/g,'"'));try{r=JSON.parse(a),t&&(r=Tn(Tn({},t),r))}catch(ZV){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),ZV),"".concat(e).concat(n).concat(a)}return r.defaultValue&&r.defaultValue.indexOf(this.prefix)>-1&&delete r.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let o=[];r=Tn({},a),r=r.replace&&!Hr(r.replace)?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;let l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map(e=>e.trim());n[1]=e.shift(),o=e,l=!0}if(i=t(s.call(this,n[1].trim(),r),r),i&&n[0]===e&&!Hr(i))return i;Hr(i)||(i=Gr(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),i=""),l&&(i=o.reduce((e,t)=>this.format(e,t,a.lng,Tn(Tn({},a),{},{interpolationkey:n[1].trim()})),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}const Ca=e=>{const t={};return(n,i,r)=>{let a=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(a=Tn(Tn({},a),{},{[r.interpolationkey]:void 0}));const s=i+JSON.stringify(a);let o=t[s];return o||(o=e(aa(i),r),t[s]=o),o(n)}};class Ta{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=la.create("formatter"),this.options=e,this.formats={number:Ca((e,t)=>{const n=new Intl.NumberFormat(e,Tn({},t));return e=>n.format(e)}),currency:Ca((e,t)=>{const n=new Intl.NumberFormat(e,Tn(Tn({},t),{},{style:"currency"}));return e=>n.format(e)}),datetime:Ca((e,t)=>{const n=new Intl.DateTimeFormat(e,Tn({},t));return e=>n.format(e)}),relativetime:Ca((e,t)=>{const n=new Intl.RelativeTimeFormat(e,Tn({},t));return e=>n.format(e,t.range||"day")}),list:Ca((e,t)=>{const n=new Intl.ListFormat(e,Tn({},t));return e=>n.format(e)})},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Ca(t)}format(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(e=>e.indexOf(")")>-1)){const e=r.findIndex(e=>e.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,e)].join(this.formatSeparator)}return r.reduce((e,t)=>{const{formatName:r,formatOptions:a}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(e=>{if(e){const[t,...i]=e.split(":"),r=i.join(":").trim().replace(/^'+|'+$/g,""),a=t.trim();n[a]||(n[a]=r),"false"===r&&(n[a]=!1),"true"===r&&(n[a]=!0),isNaN(r)||(n[a]=parseInt(r,10))}})}return{formatName:t,formatOptions:n}})(t);if(this.formats[r]){let t=e;try{const s=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},o=s.locale||s.lng||i.locale||i.lng||n;t=this.formats[r](e,o,Tn(Tn(Tn({},a),i),s))}catch(s){this.logger.warn(s)}return t}return this.logger.warn("there was no format function for ".concat(r)),e},e)}}class Na extends ca{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=la.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,t,n,i){const r={},a={},s={},o={};return e.forEach(e=>{let i=!0;t.forEach(t=>{const s="".concat(e,"|").concat(t);!n.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===a[s]&&(a[s]=!0):(this.state[s]=1,i=!1,void 0===a[s]&&(a[s]=!0),void 0===r[s]&&(r[s]=!0),void 0===o[t]&&(o[t]=!0)))}),i||(s[e]=!0)}),(Object.keys(r).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(o)}}loaded(e,t,n){const i=e.split("|"),r=i[0],a=i[1];t&&this.emit("failedLoading",r,a,t),!t&&n&&this.store.addResourceBundle(r,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const s={};this.queue.forEach(n=>{((e,t,n)=>{const{obj:i,k:r}=Kr(e,t,Object);i[r]=i[r]||[],i[r].push(n)})(n.loaded,[r],a),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{s[e]||(s[e]={});const t=n.loaded[e];t.length&&t.forEach(t=>{void 0===s[e][t]&&(s[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:r,callback:a});this.readingCalls++;const s=(s,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}s&&o&&i<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,n,i+1,2*r,a)},r):a(s,o)},o=this.backend[n].bind(this.backend);if(2!==o.length)return o(e,t,s);try{const n=o(e,t);n&&"function"===typeof n.then?n.then(e=>s(null,e)).catch(s):s(null,n)}catch(l){s(l)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Hr(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Hr(t)&&(t=[t]);const r=this.queueLoad(e,t,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,(n,a)=>{n&&this.logger.warn("".concat(t,"loading namespace ").concat(r," for language ").concat(i," failed"),n),!n&&a&&this.logger.log("".concat(t,"loaded namespace ").concat(r," for language ").concat(i),a),this.loaded(e,n,a)})}saveMissing(e,t,n,i,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(void 0!==n&&null!==n&&""!==n){if(this.backend&&this.backend.create){const l=Tn(Tn({},a),{},{isUpdate:r}),c=this.backend.create.bind(this.backend);if(c.length<6)try{let r;r=5===c.length?c(e,t,n,i,l):c(e,t,n,i),r&&"function"===typeof r.then?r.then(e=>s(null,e)).catch(s):s(null,r)}catch(o){s(o)}else c(e,t,n,i,s,l)}e&&e[0]&&this.store.addResource(e[0],t,n,i)}}}const Aa=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"===typeof e[1]&&(t=e[1]),Hr(e[1])&&(t.defaultValue=e[1]),Hr(e[2])&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),ka=e=>(Hr(e.ns)&&(e.ns=[e.ns]),Hr(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Hr(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),Ra=()=>{};class Ia extends ca{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=ka(e),this.services={},this.logger=la,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{"function"===typeof n[e]&&(n[e]=n[e].bind(n))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"===typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(Hr(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=Aa();this.options=Tn(Tn(Tn({},i),this.options),ka(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=Tn(Tn({},i.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const r=e=>e?"function"===typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?la.init(r(this.modules.logger),this.options):la.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!==typeof Intl&&(t=Ta);const n=new fa(this.options);this.store=new da(this.options.resources,this.options);const a=this.services;a.logger=la,a.resourceStore=this.store,a.languageUtils=n,a.pluralResolver=new xa(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(a.formatter=r(t),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new Sa(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new Na(r(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit(t,...i)}),this.modules.languageDetector&&(a.languageDetector=r(this.modules.languageDetector),a.languageDetector.init&&a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=r(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new pa(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit(t,...i)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ra),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});const a=Wr(),s=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),a}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ra;const n=Hr(e)?e:this.language;if("function"===typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],i=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(n)i(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>i(e))}this.options.preload&&this.options.preload.forEach(e=>i(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)})}else t(null)}reloadResources(e,t,n){const i=Wr();return"function"===typeof e&&(n=e,e=void 0),"function"===typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=Ra),this.services.backendConnector.reload(e,t,e=>{i.resolve(),n(e)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&ua.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const i=Wr();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},a=(e,a)=>{a?(r(a),this.translator.changeLanguage(a),this.isLanguageChangingTo=void 0,this.emit("languageChanged",a),this.logger.log("languageChanged",a)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),t&&t(e,function(){return n.t(...arguments)})},s=t=>{e||t||!this.services.languageDetector||(t=[]);const n=Hr(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||r(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,e=>{a(e,n)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),i}getFixedT(e,t,n){var i=this;const r=function(e,t){let a;if("object"!==typeof t){for(var s=arguments.length,o=new Array(s>2?s-2:0),l=2;l<s;l++)o[l-2]=arguments[l];a=i.options.overloadTranslationOptionHandler([e,t].concat(o))}else a=Tn({},t);a.lng=a.lng||r.lng,a.lngs=a.lngs||r.lngs,a.ns=a.ns||r.ns,""!==a.keyPrefix&&(a.keyPrefix=a.keyPrefix||n||r.keyPrefix);const c=i.options.keySeparator||".";let d;return d=a.keyPrefix&&Array.isArray(e)?e.map(e=>"".concat(a.keyPrefix).concat(c).concat(e)):a.keyPrefix?"".concat(a.keyPrefix).concat(c).concat(e):e,i.t(d,a)};return Hr(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const a=(e,t)=>{const n=this.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,a);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(n,e)||i&&!a(r,e)))}loadNamespaces(e,t){const n=Wr();return this.options.ns?(Hr(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=Wr();Hr(e)&&(e=[e]);const i=this.options.preload||[],r=e.filter(e=>i.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return r.length?(this.options.preload=i.concat(r),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new fa(Aa());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new Ia(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ra;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i=Tn(Tn(Tn({},this.options),e),{isClone:!0}),r=new Ia(i);void 0===e.debug&&void 0===e.prefix||(r.logger=r.logger.clone(e));return["store","services","language"].forEach(e=>{r[e]=this[e]}),r.services=Tn({},this.services),r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n&&(r.store=new da(this.store.data,i),r.services.resourceStore=r.store),r.translator=new pa(r.services,i),r.translator.on("*",function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.emit(e,...n)}),r.init(i,t),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Oa=Ia.createInstance();Oa.createInstance=Ia.createInstance;Oa.createInstance,Oa.dir,Oa.init,Oa.loadResources,Oa.reloadResources,Oa.use,Oa.changeLanguage,Oa.getFixedT;const ja=Oa.t;Oa.exists,Oa.setDefaultNamespace,Oa.hasLoadedNamespace,Oa.loadNamespaces,Oa.loadLanguages;var Pa=n(579);const{DYNAMIC_VARIABLES:Da,STAFF_ROLE:La,FILE_UPLOAD:Ma,ROLE:Ua,SWAL_SETTINGS:Fa}=n(1425),{getData:Ba}=n(4404),Va=e=>btoa(e),za=e=>atob(e),Ha=e=>{try{let t=new Date(e);const n=localStorage.getItem("i18nextLng")?localStorage.getItem("i18nextLng"):"en",i={month:"long",year:"numeric",day:"2-digit"};return t=("en"===n?new Intl.DateTimeFormat("en-US",i):new Intl.DateTimeFormat("ja-JP",i)).format(t),t}catch(t){return""}},Wa=function(e){let t="";const n=new Date(e);if(isNaN(n.getTime()))return"N/A";const i=window.location.pathname.includes("/admin"),r=localStorage.getItem("i18nextLng")?localStorage.getItem("i18nextLng"):"en",a={month:"long",year:"numeric",day:"2-digit"};return t=(i||"en"===r?new Intl.DateTimeFormat("en-US",a):new Intl.DateTimeFormat("de-DE",a)).format(n),t},Ga=e=>{let t=document.getElementById("dynamicTitle");t&&(t.innerText=e)};function qa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD-MM-YYYY",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=null,s="";if(a=isNaN(e)?e:Number(e),i&&!e&&(a=new Date),a){const e=new Date(a),i=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getFullYear());if(s=t.replace("DD",i),s=s.replace("MM",o),s=s.replace("YYYY",l),n){const t=String(0===e.getHours()?12:e.getHours()>12?e.getHours()-12:e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),i=e.getHours()<12?"AM":"PM";if(r){const r=String(e.getSeconds()).padStart(2,"0");s+=" ".concat(t,":").concat(n,":").concat(r," ").concat(i)}else s+=" ".concat(t,":").concat(n," ").concat(i)}}else s="N/A";return s}const Ya=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;return void 0!==e&&e.length>t?e.slice(0,t)+"...":e},Xa=function(e){const t=Qa(e);if(!t)return{};try{return JSON.parse(t)}catch(n){return console.log("Invalid user data",n),{}}},Ka=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;$a(e);let n="";e===Ua.PSYCHIC?n="/psychic/login":e===Ua.SUPER_ADMIN&&(n="/admin/login"),window.navigate_?window.navigate_(n):t?t(n):window.location.href=n},Ja=e=>{zr().fire({customClass:"swal-wide",title:ja("msg_are_you_sure"),text:ja("text_you_want_to_logout"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#5A045A",cancelButtonColor:"#fbae50",confirmButtonText:ja("btn_yes"),cancelButtonText:ja("btn_cancel")}).then(t=>{t.isConfirmed&&(Ka(e),zr().fire(Tn({icon:"success",text:ja("msg_logout_successfully")},Fa)))})},Za=(e,t)=>{localStorage.setItem(Va(e),Va(t))},Qa=e=>{if(localStorage.getItem(Va(e)))return za(localStorage.getItem(Va(e)))},$a=e=>{localStorage.removeItem(Va(e))},es=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e;return Array.isArray(t)?t.forEach(e=>{n=n.replace(/{{(.*?)}}/,e)}):"object"===typeof t&&Object.keys(t).forEach(e=>{let i=new RegExp("{{".concat(e,"}}"),"g");n=n.replace(i,t[e])}),n},ts=(e,t)=>{sessionStorage.setItem(Va(e),Va(t))},ns=e=>{if(sessionStorage.getItem(Va(e)))return za(sessionStorage.getItem(Va(e)))},is=e=>{sessionStorage.removeItem(Va(e))},rs=e=>"eE+-.,;:/|\\!@#$%^&*()_=~`abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ ".split("").includes(e.key)&&e.preventDefault(),as=e=>{let t=e.message;return Array.isArray(e.error)&&(e.error[0]&&e.error[0].msg?t=e.error[0].msg:e.error[0]&&e.error[0].message&&(t=e.error[0].message)),t},ss=e=>{switch(e){case 0:return'<span className="badge badge-secondary" href="#">Inactive</span>';case 1:return'<span className="badge badge-primary" href="#">Active</span>';default:return""}},os=e=>e&&e.length?e.charAt(0).toUpperCase()+e.slice(1):"",ls=e=>{const t=document.getElementById("main-loader");if(t){let n=e?"flex":"none";t.style.display=n}},cs=(e,t,n)=>{const i=e.includes("?")?"&":"?",r=new URLSearchParams(window.location.search);return r.set(t,n),console.log("".concat(e).concat(i).concat(r.toString())),"".concat(e).concat(i).concat(r.toString())},ds=e=>e.split(" ").map(e=>e.length>50?e.slice(0,50)+"....":e).join(" "),us=e=>{const t=window.location.href.replace(window.location.origin,"");return t&&(ts("return_url",t),ts("return_url_role",e)),!0},hs=e=>{let{successURL:t,role:n}=e;const i=ns("return_url"),r=ns("return_url_role");return is("return_url"),is("return_url_role"),window.location.pathname===i?window.navigate_?window.navigate_(t):null:i&&r&&r===n?window.navigate_?window.navigate_(i):null:window.navigate_?window.navigate_(t):null};const ps=e=>{try{const t=new Date,n=(new Intl.DateTimeFormat("en-US",{timeZone:e,hour12:!1,hour:"2-digit",minute:"2-digit"}).formatToParts(t),new Date(t.toLocaleString("en-US",{timeZone:"UTC"}))),i=(new Date(t.toLocaleString("en-US",{timeZone:e})).getTime()-n.getTime())/6e4,r=i>=0?"+":"-",a=Math.abs(i),s=Math.floor(a/60).toString().padStart(2,"0"),o=(a%60).toString().padStart(2,"0");return"".concat(r).concat(s,":").concat(o)}catch(t){return console.error("Error in converting timezone:",t),"UTC"}};n(1844);Object.create(null);const ms={},fs=(e,t,n,i)=>{bs(n)&&ms[n]||(bs(n)&&(ms[n]=new Date),((e,t,n,i)=>{var r,a,s;const o=[n,Tn({code:t},i||{})];if(null!==e&&void 0!==e&&null!==(r=e.services)&&void 0!==r&&null!==(r=r.logger)&&void 0!==r&&r.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);bs(o[0])&&(o[0]="react-i18next:: ".concat(o[0])),null!==e&&void 0!==e&&null!==(a=e.services)&&void 0!==a&&null!==(a=a.logger)&&void 0!==a&&a.warn?e.services.logger.warn(...o):null!==(s=console)&&void 0!==s&&s.warn&&console.warn(...o)})(e,t,n,i))},gs=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},_s=(e,t,n)=>{e.loadNamespaces(t,gs(e,n))},vs=(e,t,n,i)=>{if(bs(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return _s(e,n,i);n.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,gs(e,i))},bs=e=>"string"===typeof e,ys=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,xs={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},ws=e=>xs[e];let Es={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(ys,ws)};let Ss;const Cs=(0,a.createContext)();class Ts{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Ns=(e,t,n,i)=>e.getFixedT(t,n,i),As=function(e){var t,n,i,r;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:o}=s,{i18n:l,defaultNS:c}=(0,a.useContext)(Cs)||{},d=o||l||Ss;if(d&&!d.reportNamespaces&&(d.reportNamespaces=new Ts),!d){fs(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>{return bs(t)?t:"object"===typeof(n=t)&&null!==n&&bs(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var n},t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}null!==(t=d.options.react)&&void 0!==t&&t.wait&&fs(d,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u=Tn(Tn(Tn({},Es),d.options.react),s),{useSuspense:h,keyPrefix:p}=u;let m=e||c||(null===(n=d.options)||void 0===n?void 0:n.defaultNS);m=bs(m)?[m]:m||["translation"],null===(i=(r=d.reportNamespaces).addUsedNamespaces)||void 0===i||i.call(r,m);const f=(d.isInitialized||d.initializedStoreOnce)&&m.every(e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))return!1}}):(fs(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0)}(e,d,u)),g=((e,t,n,i)=>(0,a.useCallback)(Ns(e,t,n,i),[e,t,n,i]))(d,s.lng||null,"fallback"===u.nsMode?m:m[0],p),_=()=>g,v=()=>Ns(d,s.lng||null,"fallback"===u.nsMode?m:m[0],p),[b,y]=(0,a.useState)(_);let x=m.join();s.lng&&(x="".concat(s.lng).concat(x));const w=((e,t)=>{const n=(0,a.useRef)();return(0,a.useEffect)(()=>{n.current=t?n.current:e},[e,t]),n.current})(x),E=(0,a.useRef)(!0);(0,a.useEffect)(()=>{const{bindI18n:e,bindI18nStore:t}=u;E.current=!0,f||h||(s.lng?vs(d,s.lng,m,()=>{E.current&&y(v)}):_s(d,m,()=>{E.current&&y(v)})),f&&w&&w!==x&&E.current&&y(v);const n=()=>{E.current&&y(v)};return e&&(null===d||void 0===d||d.on(e,n)),t&&(null===d||void 0===d||d.store.on(t,n)),()=>{E.current=!1,d&&e&&(null===e||void 0===e||e.split(" ").forEach(e=>d.off(e,n))),t&&d&&t.split(" ").forEach(e=>d.store.off(e,n))}},[d,x]),(0,a.useEffect)(()=>{E.current&&f&&y(_)},[d,p,f]);const S=[b,d,f];if(S.t=b,S.i18n=d,S.ready=f,f)return S;if(!f&&!h)return S;throw new Promise(e=>{s.lng?vs(d,s.lng,m,()=>e()):_s(d,m,()=>e())})};function ks(e){let{i18n:t,defaultNS:n,children:i}=e;const r=(0,a.useMemo)(()=>({i18n:t,defaultNS:n}),[t,n]);return(0,a.createElement)(Cs.Provider,{value:r},i)}var Rs=n(1425);const Is=e=>{let{updateHeader:t}=e;const[n,i]=(0,a.useState)(""),r=bn(e=>e.profile),[s,o]=(0,a.useState)("");let{i18n:l,t:c}=As();localStorage.getItem("system_language")&&localStorage.getItem("system_language");let d={en:"EN",ja:"JA"};(0,a.useEffect)(()=>{var e;const t=Xa(Rs.ROLE.SUPER_ADMIN),n=null===t||void 0===t||null===(e=t.name)||void 0===e?void 0:e.slice(0,25);o(n),i(r&&r.file?URL.createObjectURL(r.file):t.profile_image)},[r]);(0,a.useEffect)(()=>{Br()(document).ready(function(){Br()(".showpop").click(function(){Br()(".main-profile-menu").addClass("show")}),Br()(".fixed_bg").click(function(){Br()(".main-profile-menu").removeClass("show")})})},[]);return(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsx)("div",{className:"main-header side-header",children:(0,Pa.jsxs)("div",{className:"container-fluid",children:[(0,Pa.jsx)("div",{className:"main-header-left",children:(0,Pa.jsx)("a",{className:"main-header-menu-icon e_none",href:"/",id:"mainSidebarToggle",onClick:e=>{e.preventDefault(),Br()("body").hasClass("main-sidebar-hide")?(Br()("body").removeClass("main-sidebar-hide"),console.log(d.seleccted_language)):Br()("body").addClass("main-sidebar-hide")},children:(0,Pa.jsx)("span",{})})}),(0,Pa.jsx)("div",{className:"main-header-center",children:(0,Pa.jsx)("div",{className:"responsive-logo"})}),(0,Pa.jsxs)("div",{className:"main-header-right",children:[(0,Pa.jsxs)("div",{className:"dropdown main-profile-menu d-flex align-items-center",children:[(0,Pa.jsx)("button",{className:"d-flex border-0 bg-white showpop",children:(0,Pa.jsx)("span",{className:"main-img-user",children:(0,Pa.jsx)("img",{alt:"avatar",src:n})})}),(0,Pa.jsxs)("div",{className:"dropdown-menu",children:[(0,Pa.jsx)("span",{className:"fixed_bg"}),(0,Pa.jsxs)("div",{className:"position-relative headerdropdown",style:{zIndex:"99999"},children:[(0,Pa.jsxs)("div",{className:"header-navheading",children:[(0,Pa.jsx)("h4",{className:"main-notification-title text-capitalize",children:s}),(0,Pa.jsx)("p",{className:"main-notification-text",children:function(){let e=null;switch((Qa(Rs.ROLE.SUPER_ADMIN)?JSON.parse(Qa(Rs.ROLE.SUPER_ADMIN)):{}).role){case Rs.ROLE.SUPER_ADMIN:e=c("role_super_admin");break;case Rs.ROLE.RESTAURANT:e=c("sidebar_link_restaurant");break;case Rs.ROLE.STAFF:e="role_staff";break;default:e="role_unknown"}return e}()})]}),(0,Pa.jsxs)(qt,{className:"dropdown-item fixed_bg",to:"/admin/profile/edit/".concat("1"),children:[(0,Pa.jsx)("i",{className:"fe fe-edit"})," ",c("btn_edit")," ",c("label_profile")]}),(0,Pa.jsxs)("button",{className:"dropdown-item fixed_bg",onClick:()=>{zr().fire({customClass:"swal-wide",title:c("msg_are_you_sure"),text:c("text_you_want_to_logout"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:c("btn_yes"),cancelButtonText:c("btn_cancel")}).then(e=>{e.isConfirmed&&Ka(Rs.ROLE.SUPER_ADMIN)})},children:[(0,Pa.jsx)("i",{className:"fe fe-power"})," ",c("label_logout")]})]})]})]}),(0,Pa.jsx)("button",{className:"navbar-toggler navresponsive-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent-4","aria-controls":"navbarSupportedContent-4","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,Pa.jsx)("i",{className:"fe fe-more-vertical header-icons navbar-toggler-icon"})})]})]})})})},Os=()=>{const e=bn(e=>{var t;return null===e||void 0===e||null===(t=e.globalData)||void 0===t?void 0:t.data});return(0,Pa.jsx)("div",{className:"main-footer text-center",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsx)("span",{children:null===e||void 0===e?void 0:e.copy_right_text})})})})})},js="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAnkAAACICAYAAACbWP00AAAACXBIWXMAAAsTAAALEwEAmpwYAAABaWlDQ1BEaXNwbGF5IFAzAAB4nHWQvUvDUBTFT6tS0DqIDh0cMolD1NIKdnFoKxRFMFQFq1OafgltfCQpUnETVyn4H1jBWXCwiFRwcXAQRAcR3Zw6KbhoeN6XVNoi3sfl/Ticc7lcwBtQGSv2AijplpFMxKS11Lrke4OHnlOqZrKooiwK/v276/PR9d5PiFlNu3YQ2U9cl84ul3aeAlN//V3Vn8maGv3f1EGNGRbgkYmVbYsJ3iUeMWgp4qrgvMvHgtMunzuelWSc+JZY0gpqhrhJLKc79HwHl4plrbWD2N6f1VeXxRzqUcxhEyYYilBRgQQF4X/8044/ji1yV2BQLo8CLMpESRETssTz0KFhEjJxCEHqkLhz634PrfvJbW3vFZhtcM4v2tpCAzidoZPV29p4BBgaAG7qTDVUR+qh9uZywPsJMJgChu8os2HmwiF3e38M6Hvh/GMM8B0CdpXzryPO7RqFn4Er/QcXKWq8MSlPPgAAI6BJREFUeAHtnf212zbSxsd73v/jrWCZCuKtYJkK4q0gSgW+qeDKFdipQNoK7FQgpQJ7K6BSgb0VPC/HACNeXZIYkCBISc/vHB7dK/EDxOdgZjAQIYQQQggh5JYB8FIIIYQQQm6AvwlpQyGPEEIIITcBhbynUMgjhBBCyE1AIe8phRBCCCGE3AAU8p5CTR4hhBBCbgIKeU/5lxBCCCGEkNsCQCWEEEIIITcANXmeWsArhOZaQgghhNwIFPLOFPXxkrHyCCGEEHILUMg7U1x8EkIIIYRcLRTyzry6+CSEEEIIuVoo5J35wX9SyCOEEEIIuRUAfIHjIIQQQggh5PrRlbU480UIIYQQQq4cmmsdbROtrrClyZYQQgghVw2FPMdPF/+XQgghhBByxVDIc1xq7n4SQgghhBByvVz4463OL8/vxEEIIYQQEgU1ed2mWfXLK2Ud0D+QEEIIIdFQyBP5uef717IOfhZCCCGEEGJH96lFP4ubbHWVr4/fx/10CSGEEBLFvWvyhrR1azDZqqn2pdBkSwghhBBiR3e3wDDvZUHq51c+HR+EEEIIIYSE6VlV+8xku5SpVLWIF2kphBBCCCGEDFMLTVvYWGQBRkuL17ATQgghhBAyTIcQ1cdBMlM/87EnLaUQQgghhJBuamFpgzhKyQTcito+KtBsu1pAbSshhBCyLPVg/AlxZBm84fwEq0Ba9HeGVFkZOE8cSiGEEEJIfvB8QYOVQmYEToNXGdNSgRq9VYHzSu3s5n1CCCGEiClsSh+zafPqe7+BW8kbQwVqjVYBnq/ULoQQQggh+cB4Ld4sg7dPzwHT2IFCxaL4MmizFUIIIYTkA3ZzaK9AJROB20othXD3LG2gZi876I63yK3oCCGEkFwgfkVtH6VE4gWB1/XxAfFm2Vi++Ofo8yhozEydxw895bAVQgghhMwPpmvxGiY51sMtsNgmTM9f6YITOAoh2Rgoxy9CCCGEkHlBf3DhsWwkAXDaxQrTOIBm2kVAWDtcCpkNOA05tdWEEHKvwLZHbSxJfa5g32Ltkgchi4GwXyXDqUwAzn+1cXVQLfUOzhWhmqstEkIIuSKQfoFDwztJCPp9u7qo6uOVkMWAfaV2KaQXOEFOXRhUK6qTnR1csPIKdv4hhBBC7gu4+HNzUkpCMLylWUMF+t0tDp6HTemD2rwekG4REoU8Qgi5JzDOTDsmIHFSUxHCfl6FkEUZUbdoThwAZ03eB4yDQh4hhNwTiF/QUMH5/sTyQRJT3/N9z7Pog7cC6nJ4hzi2QkzAmcErxEEhjxBC7oURg7Dy4K99H39pWuELzk+punjGJyGrwJdNFVFXuDggAtjcFtpQyCOEkHsA4/zwqtb1LzHOV6iUhOC52bYQsjitctGJhHXxhbIVYgZxK84p5BFCyK2DeA1Aw+biPjErXRsqpN/bthE26by/EnDWsBb+/wNsMDhyBIjze6SQRwght4wfFCrEs+u53wHxVJgnft5GyOLgrLnbdXxnoRRiBvb2TCGPEEJuFYwX8Cr0aN8wXiuYTOuGswBBf64VgHPYlPLi+0PuunEP1Pm1N+YrhTxCCLlF4HzoPmEcm8C9Y/yC2uwkEZhh9S6JB2fz4aeO3zYRdaMUYiKi/VHII4SQWwPTBDyTIDbh/kl2xABNtasAZy3epuO3mMU61OYZgd03lkIeIYTcEpgm4FUwLpKA0+CMjcz/KBMBV9WuAl9nqoHfY7S+NL8bgF1DSiGPEEJuBUwT8JQi8nkx5rhLku5xS/LTKv+HgXNitHlbIUFAIY8QQu4LOM3aFAFvVOBijAuS3LADtTdXCy7Cpgycx+DICQGFPEIImcT/yRXhB1n1aSpkHL+9ePHivYygvk79g36o/ywlnk196Grdf9f3OQm5GuAWShT1sTeU3b4+3kgYFfB0srGVK6ND0P1a58tXmQD6hefvxMb39T1eGM6bnNY2TbpTtuk58ndEGl7mfmYs15DGJfGTyG8TyRT1E/nchmar7xPfYVS6Ws/8ulR9tXSMq8APtrrSdKwG5Fhn8o8yAd9wdHVlIeM41cePFPSuB7jVza/r4591uX02nK+TkFLCnOr7fS8rxHdMZX3opEb/fiWu3Q21vZM/NI/+EPd+wfzyz4PkQQX1X6wntwZKff+iPv4h5/woWqdqmz5KBP7eWq+aiWMhtvzVgULz93PsMy+e/cofP8i5fIuO07+2nv1fcf3oUTLg01nI0/xvp/Ukrl1GDZ6+fjd539z7Mu/1np/lXJ+PaxQqO97FUo7R9QfnBWPNM1LTpE/z+VeZAd+XN3Xf+g5Nuv7TpyCK7C8nlcMYrkLIqzNRtSPvZTwnGdEZ9KSlkGnaRE3Dr3Va9kJWjS9rXWxhniD4yYh1Be2PuQbMED7dP4kbMIqOU06to6EtBL3sueYoroM8Sv+z+1a6F2ITmD+Ka1ch/rhsdxeChP7ddNTNYeEXS3v2z9qIy+fSf910+m2BuJ2mEEdx+buX4WeX9ce/xJXv5X270iDyNF8uzz/6536UCfg21s77tlBtGYhNbcjnvY4j7fdvhLiGQoYFgL0E6nIOAm31JM/bqZ7T5Gubphx/jxmPWkLNo4wfB9tp+K0+3ucUogPv0KSp03rTmiRZ+ku9V1OfusqgeZ62o8XrVnbgnNl3mEaF9NuNFRi/4rZh8spbMi8YCJsSuO5grAOLh1OB83vrSq9+t4ULyB0cbOHa6mu4AMZVx/0qn5+FGMHMPnkYt6tNFxsJ580jWtsUwoWHKQLXFegvn0sq9Pgbozsf1a/5W/lKOJ+G0lFhRJgnf6+pfShC6Ud33g/Waf/7fuCZFRaIeoDuMtD32sG1PUs71Xd7j+dttEJk+/T3e8C0cnwtC4LnY3mF/g0SNO/eoft99TpTf4lz/ap67rORe8BnRIVpVJipMcLtiDG1k6qwQGdBwuDc+KsR11qFE6WUBUB/+zqkSJPPg6rnnXeWeo9MCy/gBIHQwD7EZuDeb3DuJ3YYmbdw9TGUvr4tGtv5eMCE8kV/vdHvioj7FP7Q+z1gvMBdDjxDBZ+2cGfRjLavH6rDSpbICT3p0PdSocKi7Yy577f3QnxZVojnk6wAnOte1fXecHX00PMO+n0pIxkog8603AxwM6+pVHNnEtIIenr9g5BVgfPAuJFIEBdOJfuOJnCdeJZ6iOH4gY8Y1qhkEfIunqkDVuzq/U3HfbQOfPC/6/1KSQACwvPANVq+ybQm6C/X0RYKhIWqLsqO+2jeN3V80nsjLMDob4XMAPqFC9XEjRbuOp6z7XmvTcQ9xoyFyXaGmgLO5fv64vsC/cKdXlNKAtDf59yebABXqaeER2kXQCEZgKvcFaZzwC1L7lcGjGFTBq7fRpR9sg47kKaX6O60tDOJ0nJEPndooKzQbx7JLuT5575EXJveDLzve0kM+vOzT8jTfjV5HUN/yKDRGi7ECwvlxfXtAVM/C5kIwu45FZDcJahvIraRGUD/OLazvhvsO9T8dW9ZGDht77O04KkG/hKdvCVtTxiO/Xv9rl14OvOaSpKGHZn+serqLuirtzA4CxejOyGsMDgyzpqlS2afLWK4jWx6rllEyPPPLmFn0/OeW5kJdOdn9kET/ZqOKYLeFnbK1nXtPNFxIKW263UgHVWK56FfezTrRKz17Krn3UzPRpzZfXFzbSu9Rc/3l2xlJjA8mbhOuQDPnWKncsBCQWaRVtCrwD1rFwM9DX/EfVYTHBn9LhDZFn+gv41ses5fTMjzz7f2S5uO99vKzOB5fi4h5BUD+TJq8gA3LlgpW9dU/rukAl4rXYdAWia5XmB4DCklAxgWNH42Xm9l0aDwrbR+7Pjt0JHercwMhvu8RRepRINx/hdDJDeLjHinth9OCipQ2MsKzg1/svADZwKxspWZwHDHu5GMoHsQ2fScu7SQZxXSN/78D3OXZUcay1Y6FjF/YVj4GaV9gt1tp/Tn7/z/Feb1kQsxVrAdEvC2kpHAe1oEvT3slLIQONeZsuO3w0U6s/lOo1/IXv9OSXBCkNrtK6Rjdc6JiDM3WKhAYS8LGBk2ZeB+B2sZy0xgOAxRIZnBc9PXpue8pYU8q4+RpvON/zu7CQpnYXQpIW9IKBg1WYJdUNBnP7b+L2RGEG7P0QMxhgW8pcp0aILzc+DaGE1s9oVnPo3NxLfq+f3QSmOFjP0khuWHRfIrCNKbZduZP6ufwliQJgRM1/vqgFIISQ4CDX/kPS2z/4ZSZgAD9VAWAk870U3POUsLeSE/rIZHnPu2QjKDs//nUgJBaFDfSCSIE7AbtjIzsE3gtxH3GxLwlEIWAGGf4jJwvVVIX0Q7hUD0BBj6pxnTFhozSlkLGI4vM5Wky8jnALbYVmNoAmCWQpKBCWFTAvc9GMs1uX8cAiZjWQg8NSFves5ZWsizCuh/xcGThYATPpZ8fjWQP9H1OqLsG2bThF+ky1InvkTcb8gsvZUFwbBAW2FAAEXc5HYrmfHprwZ+P/i0ZQ9Yj/Ckadkg+hiOCp2CClcm3CC9ifoyPzS/V6nRvCYwMWzKwH1jBqxSEoKwNmoWAcmYtmYCtOn5fWkhr0AchSwIlnViD/kil5H3ixXyNpIJ2Ma20nCfx8A9ClkQhLV5h8D1B9jIqs2DIXpCK+2lLADC8kK+tu4rgmbaDvMJdg2r1971gfm0em0qRGxxQ84gQdiUgXvHhFNJ+nyEzUtbWQicZ/ubnt+vSchbRWDXpUC4b4taGIc4IS+LFq+VNsuikPeBe4Tq1loCBYf6j4eBa0vY2UgmYIie4M9ZLMQLwkLePOsQ4AYrNf+oZmqH+bRTlxxwI6ZJpF9VPIR2RqrlU6GPmr4BkChsysD9Q51lm7mj2bdZOozBAbch5JVyxyAs5JlNmP5+MULeVjIC22Q9pOWqAtevor9G2HQ42H9gZft44yx47gLnHbDgYkdDvsXnF857CRY+I7SRqTCnQoKq4ivkp8KNrirFvCbcIVTw0/J859OgAqCWtwrvWvZ3pwFEwrApA89YJDgybIPlYiu2huocrkjIkzsHtsHcXE6IE/IKyQhsE7YvMv7dsmomQyBctu8Gro3ZBaOUmcFA2JSL83Q8XHLyWwXyyjw5/1vzx4sXL071x9fWb83///P/fxWSBF8439VH7kr0tfX5v4v/vx11PbjHcn70n7/JTPh8/Y/x9DcJOxhLeb72nV/2Tk37nRuoc0chheGcHyU9n/3YlRNLfdVJXZ9Q+zh8qfwu6+KPwO8PA33HXuyyQyhfJgE3GdiIqzPHoXPr3z8v1S/5vCwCp1nOGZ0AlXB1UFD/uBT7zFqocG3RnnvweVdhflTSP8CVkz6zEPIMzBA2ZeBZMcGRk/hcIC5mVbWmeoLr0eRF+ZvdGrD7XpnzKaLss+d9RNpejby2lBUBW/luB663aD578yzhe+z8MzayYmCvXxvJAdwgokLEHvMLLztcqbCC/j0JU1LBCXXaKLnwwgDO5oSNZAALBEdGfL1TU34hC4PrEfLmcYK+EmCf7H+MuKe17LNP/iPSVnZcezBct7q+G2FXk17zIeJcVWYT2hEIm7IWYJejTHn1N5mIqjTr42N9bOrj+/qrf4oze50kPZv6OODK/PTq9L6pP3SlTinpOdbH2/r4XvO/Ph5UFX2nZtcxaNloXh0lD2+N533zjZU0WM3EDSq0aDt7BDXAFu62rcFtnG7VvswhjF9N3vu2VAZO+7zSvvtz4HcV8DrrQaSrys+YZ9/hjTjz5mwuOSnw7akwnv6dLA2cRmmPeditfQDCfNo7nRV909gJGQ1mDJsSeO7BWM7JFoJgmpZ9h2V2crgWTd5G7hCct3KzYtaiYIK2bG7Gps14nVnbmRPY9nEeijtnNekrW0kMZoqBmhKE4yZesmxQ5DZwneUG82zzVcgKgTNhp44beIAzL9IUmwCczUyFZAQLBEdGXCc7VP82kglQyFslcOa3dxd5YOnrYnaCuEUhLxQwWtnKCoFtleyXwD0OsBEVbseQ9qbvW2UsS3S3JwsmIe//JAN+9dNeD7gOMUYlOURRH1V9z239DKsZbHbgVK5bScexPt6GVgQRO3AdcGNeOGC9UTB+lgSmZK079TtqG5mygq3Uw9fvY338h3XyvvDtRgfLovX1W///z4HL731yWhrOOck6ORnO+baiuO4T/uz5XetJKbb7qPvXXtLwpvX8VdHRntS0ren8ScJ5VYiByT55sWjBed+9XyRdhd5iIFZPLrxErtL1VtJwrI8f6/z6kYNpcpoB6STLYPW7Ua1BksGxrkNbSdPRFXL2j9VJlqaxEHKzeG2I9m16FP7rozhf4K2QQXz7sLTjk6yTk/G83jA5fgwL+fY1hCYMJny+6+Kc4wKhdnrpaU97ce3ptlbrI60Z99NSgw2caadCGirQ3242kDFsykAaYkKbbCUhiAtpEMMOCestaK5dFJy3rDxcvO8Bz02Re0tGRTz7psy1sLtLzBZCZAqwt4Vt4D5ZgyNjRWFTcI5Ecmi94xd0+DzDZtpe/Urhv4CrQBbHTgsV8vtYpRLwtMC3QmYFK2n4sC9KSr71GNygU2EeKiTIW1DIWwS4uqE+Qm0/u299E3r6VlDIG0wbFq7LU4F9Uroz3Mfqqz5pYQFc+9VnLSoMYbg99YWdORjyx/Re2c21Xfio9xq2Qc24J5lGIc6MVEgG4GZen2S6j+GxPv5J00cWyvo4JfT5GMveeJ52BBtJiDedNOGOUlPUxw5O2HsD0JS7dvyA+OgHDh1ctT/Wenesj1/Fm2XXZPK6Mgq5YiLCuvzdcB9rn1NO7DtKcXU4uy+eF2YfcTbJttuTul/93ben+wy/hDTmpGruwQVuB4OpK2j1+rsOppoTLBQ2pQ8sEBy5Iw06wFu1imOoMELbBWryZgVuIFLz2aGjvHq1DD33oiZvIG0wjmmyYmAjqH1DpuDIcPVYn1NIBtDfng6IjIqBWzPXdoE0JtBqrgJGGgHvAGo5soKVxUtCXGiTUmYEeYQ9s88RKOTNArzT98U7TIq9CQp5g2kDhbzLe83qqoKMk3n0tyct81E+lrg1c20X3iww1ZxUyAymW38/rcxT/KTe+lWzJyFZgOt0i/rYryXfvdn0ZDx9SviTIN5tYiPObSLl6veGoj50cdSs70Geg7P5SGOQad9V+p+OcjYfPXAVP8nE3niejrFjLF3N6txZTLU97akxRbfNsdbVxPcN4lbkdEq8SOS4jukaRpXwSyHZwXnBRSkrAplXnEWmTWepc2j3givhQU3eZPw77PDc6rBDwskvqMkbTBvsLkirXHihGNNvXiyBmYIj49xuk+8e4u99uYhCiXJvMDznYMiX69bktfFxY1Srd5JxFOKk7UngrMErZBwncYsrjkKy4stuIy5e0lHWxV7scfOSxI+y4vdB3ohzqFbt3lHSoGaMA+iuMAtwmgY1VelAsJGz1eEkTtPwC60IWTnJfXCKONeqZfsWekTsNJaCZPHmvHDXtKdmEYWimrrv17yI4iqEPMWrPTXQ4knGoT50UwMmf5DxAt5RnIB3ErIETcO3bpSdjcgVZ6+B/NvaaRp9IHNtg405d6opohAn6GV/n1sGzhzeCHdtjsJJ5lJc9SrKiMnYn8bzYoMjv7Gc1JrMn1LVc9+ePsnz9vRb/YzVj+lXI+QpLT+9sYOLmsVGrWT1BT02UOV/vP/dfS6XXhgvRJSyjrApfVhnnWN9VJLhffdU4NO2qIcKzicZRyFu8kQm4rUNOhht5bm/8Ef2QYtiHbO+l3VSGM+LHZutk251GykN5yXzxYNbXKmTpa08b09vfdi31XNVQp7iOynVJoy1t79DpB9Hfb7OIrYyjrfe3EWWQ1X9haxw78IGX6+tdfrNWrRfqmHX+j1xq8ISDCM0iTr/dHBTAa9rInoSVzZkIbyCwiJgF3LdnCSOvdi1nJYFWxtJMJn3Y36fa9bHa4pne3VCnuJNR/+W8aa3nXWQ9OrfrYzj7TVVhhum6RyOsm6sJtvkwZFT0NqXeoxbxSPNtuPwVoa99K/2pwZvHVi0XIWsE4sV62vsatIRwZF7+wi4BVCFTOznfXtSy0rXs07igoNfDVcp5DV4DdkYQa+oD2v8nLGhUijgrQCsMGxKH96H5Gg8PesCjBj8Yo1Yzd4UwfXvcqf4AWk7cMrq6/0d8bvhnLWuri0M5/wh44hZIDGk8W8m86MtNob29Pba2lMWIc+v9FL79qZ1lIlW1mmhj/HRex0yEfkCLySe3yjgrYbGYXe1ptoLrOl8hZWH4vEmkxjXip8u/rdqn+5SA+hXHG4Dp11Lvb8HLO3AojFbgh8M54xyofLaPKuyptNVJcVk3uCWtWaf7vygtXcbArFeMDFmk39WhXh6tzyBPUbWJXQiXwmtMpwcPicnEXX5at4LbjcFCy9b17wyXlPKDGDFcfJgi9c51m95THr2MBBxv5uKk9e69mC4bnWTFth2dxqdbsTt/LPtuH7Xl+fG5xeGd7Ra/yaDNcfJgxfuxC3h38o5snofhTgzTYWRwl5rMcZJ4tBK2VdwYwbQk9DBeU2sNmxKgNQrzhbHr0Q7Gk5tazKoyetHtQ5F4JxsQh4xY2nbq9LmwW3NFWpj+yl+n5GuKk/CqeAcNuXzhLApOlaE3vHaxpFvJBXyfGb3LeG3sBG37VH0SjuvotXFGLEV7dlAiXFm2pPQwXk1+Lqo5qxrVLGrj0qS4MhwWofo9jQTlvZZNH9ErEi8KyEPTmPy2nDqGDeWsazVl2xtqOAdqtOlrIvScE4Kt4CY4Mhl6/9mMj9qC9SWkDjIi7zxJZMJ+smEPC/tq4BXyDS0A3uHEftb+pU9Y1a+7HzH2RT4mEHx33RwXhWluLp0dT5JiYMjF7KSRRqRvjcNJ8M5hdwXpRje+UXefTPX6ku2Koxt+1+yLn4K/J5kcc+YfbyRJgbqqiZMRs2pmSRCHs7bfaWcUW9HCnp7iZfoCzkLdha17SW/vuBGxGtDy/Ek6w+b0sd743mW4MhrWqQRa0K0rNi7Ny1SaTjnJJnwdeuutKlT8IvyTgOnlH6gXxw/tpeB01JOpGPCqZRyjoE6SovnCQmxSk4LXdKynyzkzSTgNWzHDE7e/ydW6HrjG9ZG4tj7vXXJSkArXtK1aldnCI4cPWGaiVPg98vO9Chh7k2LZFnpmJPVhvNZMSHfbYt2KQdl4PfUIUX2EhccuenXYiePbQrDOSfJR9L2lEKTNzbMiJUdxq3aifXP02fELrY4CUMUrJFkW9ssTMrgyDrzXXzgMAwIl78fJcKPj+SlZS4jEXjT5FD7XsuuNkOTw1PqUGGxwZElTQzU1WihjZrTKCYJeVaHxYkUMsJHzhd67CAfW9i/0A9vXbQaydUHgZ2y4qyH3dIDR2D1/OnS7cF3+iGt/MuZzFtF4vNukcZcZqIup9Sm9UKul630a4gsbhiz0rKIdNFEtJiDWMtYjsl8roDryS0uUzV5uUxAo2Y13ox6lHn4LfNqG2LjWsOm9GGJkq8UCMdrGwoZlIti4Ldjz/eWTnwOLaW1z8ktOP9pOGf2NHmBPXYMsA6WhfG8JSYtRYrzWqG/+jTVS2vzhsr27VyT6MgFWilcciwWv9n9fkcozQrLSaOFPF/5NpIHa8iALtT3IcZsa+Ek8bMNMjOtRnK6IQF8H3Huo2FQeD1mQVNCyoHfOoU5o0ZzjhWJVu1gIXkJaTaVlzNozS5px+qzpEmx5qnV77CQ/FjTFnxXL6D0CXrfIk3IAgTCiL3N4Ie+N56XYjJvWdxVyPy0J+AnywWztnH170FeRmsg6mu3SMtGyOqoy+XhFssHcbu5bC+u7av7iwh6A++yC1xniYhfSkJgizqvfJGMwL4TxxzazSYN7f5f65h1RxOTcFCf98l4vzFB6ycxR9rgdnfp23Eh68IWDO80s5VMwLBbliQA9h1MZhOo4HYHa9Bx7IMxTaXMBeyNOhWjCxTjtz3rgtuWrZBWGSdp+GsCxi2jPE+26sPwBCeroIf+zrSCYacbhPucZAM+4rc1LCUjsAmgs2hb8HRLtb3/zjpQBssI8XmfzaQZmbYvMWmDE66qnvvM4XPalYYC/WPlVjKC8MRuIwmAGzss27ZtZQYu3nPrv7PKV1uZC9hnucmQCSBub7whCiGrA+eZ0NI+Z8lBnJCnqKbhZev6IUEvizkI/YNH7/7RPfc5YJjJzuqw7Qt7SdZ6B1t/FiVkGJ/7TMDz31sHSqUMPGOHOLaSibnThv66p98VMiMYbqMbWQD0t8OofsPwnAeESa5AwFMN7r71vVVemU+pgQWEPExUlyZI880JELcAnpoXSrkxRtbb3cU9tAPvMzNVmHEAwfDgEaWhgBMmQqaM0YIeXOdaYRylZAQ2N5RkQvxF3uxHpkc5DDzjFeJJOuAPpC1WwzgqbXB1vEuTU2GmOob+NvoJCyo20F+nko/FsPWzyVY81/f6GWcB7/3I9CjzWGRwnULeVG1eIWRV4HnntJUbAuMGloZnHTScWa3qOX+HxHUc/UJTNeVZCAsUO8RpCDWdB0yjQuY+AjbBqpQJwAkdj637PQycV8HGY+AZsVRYZqJiYZSghP62mnRQr++nq3gvtbD6/1YWBv0a4kIS458V8recPKHwz3nXumdfe4qpczu4Pkyv0YmS+syqdrKUsWAZIW+y6WFCuqnFWxE4DwpdndNGbgAMa9+sVHCDRXFx71mFPZ/2Xce9vw0eSNOW9Rl7DKNav2+dHVznV/ij6QR3SOev27xf1vhmCAt6o9sEntYTrYtl4PyYgUnPO2B6HW/fbyMJgetnuoSgbGmDK98q1f1a9+2b2Oh3hawEPK/fH2Um0K9Fvcz7QiLB8zFL6/2rwDVjJxdNP1vIWBDvJzSVJCvYMF6bVwhZDLgGogOOVtwdwp1uBTfAb/2RxXF5KnDCh6b3gOkDyyUHuBmk3v/BP69Ev/lTz3+w5h1ch/SA7oFD30U7z0ISE3juUuj7/lX/ZGbg8iBkxt4hkP9w7UzrxDuc61+04IpuwSQXFc55Hy1ww9Wlrb9H6jZYtdK2iUhTU8erjvtpWZXG++hE5xHdbWUHrM/dBa5OtillZjA8CW7nVyHhtE9qTzhPZofq4hdfptvL/HkhI/GJzBnDR4MeJomwDecTUkZcorsnhPYaJDMCp/mZEhLiKvax9Q20kPn5WufHx9ZzC3Ft4if/ealp0zheGgvtJOdgvN/58/TaV9IdmPYoLqDz3gc5nRVfT5q0NJ/fdZyq73CSTNTvvpcMwAnk2jdrOfZpS5ty1ON/cg70qtcWreuOMrHsMtbnPp7UcwtwoWdyrNiNTpvi06fHZRk3bVQ/T/675vfLsm04Ssb2OZZ2meRqS/65G3HbZJYDpzXt6b/+f21PTf9TtM47Svr2dBIXF/bUd80UIa+oP3KGq/g1VQBGn1Ex4Ra+5/Zl5J7wbUQ7KQ0y3BaYhjiJ6/BUgDqKE6xXO3DcOr4M9dDgvYV0D/JtTuLKTQerVQ/6xNEq43Y77aMR/jT4r7bTjyxjG61JsB4qxMX0h5rfH5eSIUYLecoIjdgUkgpacOZfy2wtmQaRkGvGa8kazZ3y1R/CSdD10GViYvndDj0mxK8U6NLS0R82nORW8hv2AJhTmWO59Nb47I0QQgghhNwbSLcyaohCEoPnzpxd3NzuCYQQQgi5D/4m0/lV5uXtHKYEr0o9Bk4L/U4IIYQQcrvAtiXIGGbdfBphc3MphBBCCCH3DOw+blae7L85U5qH9lukqZYQQgghREko6H2YW8BrpfnQkwbucEEIIYQQ0oBpe/wtsSVQn6m5FEIIIYQQ8hQ4f7cDbCTbz3JEOrtW2SbZQo0QQgghZCkmBUO2gHOkaI0Q/YP/ugmiqpHVP7948eIoCwLnf1e0vvq9TtNrIYQQQggh1wvcxultspqMCSGEEEJSkyJO3i3w+eL/oxBCCCGEkOsGbrEI/fEIIYQQQm4NnOPlzRqAmRBCCCEkBzTXnjn6z/8KIYQQQsiVQyHvzJ/+8ySEEEIIIVcOhbwzny8+CSGEEELItQPglffJyx6QmRBCCCEkNdTknfkWoPnFixdfhRBCCCGE3A61Fu+TEEIIIYTcANTkPYX+eIQQQgi5CSjkPYXhUwghhBByE1DIe8pJCCGEEELIbaHbmwkhhBBCyA1ATR4hhBBCyA1CIe8pDJ9CCCGEEEIIIYQQQtbJ/wM4sMvJyk0bDgAAAABJRU5ErkJggg==",Ps=()=>{const e=at(),{t:t}=As(),n=e=>{e.preventDefault();const t=e.target.parentElement;t.classList.contains("show")?t.classList.remove("show"):t.classList.add("show")};return(0,Pa.jsxs)("div",{className:"main-sidebar main-sidebar-sticky side-menu ps ps--active-y",id:"app_sidebar",onMouseEnter:e=>{Br()("body").hasClass("main-sidebar-hide")?Br()("body").addClass("main-sidebar-open"):Br()("body").removeClass("main-sidebar-open")},onMouseLeave:e=>{Br()("body").removeClass("main-sidebar-open")},children:[(0,Pa.jsx)("div",{className:"sidemenu-logo",children:(0,Pa.jsxs)("a",{className:"main-logo",href:"/admin/dashboard",children:[(0,Pa.jsx)("img",{src:js,className:"header-brand-img icon-logo admin-logo",alt:"logo",style:{height:"1.6rem"},id:"logo_short"}),(0,Pa.jsx)("img",{src:js,className:"header-brand-img desktop-logo admin-logo rounded",style:{height:"2.3rem"},alt:"logo",id:"logo_full"})]})}),(0,Pa.jsx)("div",{className:"main-sidebar-body",children:(0,Pa.jsxs)("ul",{className:"nav",children:[(0,Pa.jsx)("li",{className:"nav-item"+("/admin/dashboard"===e.pathname?" active":""),children:(0,Pa.jsxs)(qt,{className:"nav-link",to:"/admin/dashboard",children:[(0,Pa.jsx)("span",{className:"shape1"}),(0,Pa.jsx)("span",{className:"shape2"}),(0,Pa.jsx)("i",{className:"fa fa-home sidemenu-icon"}),(0,Pa.jsx)("span",{className:"sidemenu-label",children:t("sidebar_link_dashboard")})]})}),(0,Pa.jsx)("li",{className:"nav-item "+(e.pathname.includes("/admin/user-management")?"show active":""),children:(0,Pa.jsxs)(qt,{className:"nav-link",to:"/admin/user-management/user/list/1",children:[(0,Pa.jsx)("span",{className:"shape1"}),(0,Pa.jsx)("span",{className:"shape2"}),(0,Pa.jsx)("i",{className:"fa fa-user-tie sidemenu-icon"}),(0,Pa.jsx)("span",{className:"sidemenu-label",children:t("Users")})]})}),(0,Pa.jsxs)("li",{className:"nav-item "+(e.pathname.includes("/cms")?"show active":""),children:[(0,Pa.jsxs)("a",{className:"nav-link with-sub submenu",onClick:n,href:"/",children:[(0,Pa.jsx)("span",{className:"shape1"}),(0,Pa.jsx)("span",{className:"shape2"}),(0,Pa.jsx)("i",{className:"fa fa-edit sidemenu-icon"}),(0,Pa.jsx)("span",{className:"sidemenu-label",children:t("sidebar_link_cms")}),(0,Pa.jsx)("i",{className:"angle fe fe-chevron-right"})]}),(0,Pa.jsxs)("ul",{className:"nav-sub",children:[(0,Pa.jsx)("li",{className:"nav-sub-item ".concat(e.pathname.includes("/cms/pages")?" active":""),children:(0,Pa.jsx)(qt,{className:"nav-sub-link",to:"/admin/cms/pages/list/".concat(1),children:t("sidebar_link_pages")})}),(0,Pa.jsx)("li",{className:"nav-sub-item ".concat(e.pathname.includes("/cms/faq")?" active":""),children:(0,Pa.jsx)(qt,{className:"nav-sub-link",to:"/admin/cms/faq/list/".concat(1),children:"FAQ"})}),(0,Pa.jsx)("li",{className:"nav-sub-item"+(e.pathname.includes("/cms/default-email-template")?" active":""),children:(0,Pa.jsx)(qt,{className:"nav-sub-link",to:"/admin/cms/default-email-template/list/".concat(1),children:t("sidebar_link_email_template")})}),(0,Pa.jsx)("li",{className:"nav-sub-item"+(e.pathname.includes("/cms/promotions")?" active":""),children:(0,Pa.jsx)(qt,{className:"nav-sub-link",to:"/admin/cms/promotions/list/".concat(1),children:"Promotions"})}),(0,Pa.jsx)("li",{className:"nav-sub-item"+(e.pathname.includes("/cms/blogs")?" active":""),children:(0,Pa.jsx)(qt,{className:"nav-sub-link",to:"/admin/cms/blogs/list/".concat(1),children:"Blogs"})}),(0,Pa.jsx)("li",{className:"nav-sub-item"+(e.pathname.includes("/cms/testimonials")?" active":""),children:(0,Pa.jsx)(qt,{className:"nav-sub-link",to:"/admin/cms/testimonials/list/".concat(1),children:"Testimonials"})})]})]}),(0,Pa.jsxs)("li",{className:"nav-item "+(e.pathname.includes("/admin/subscription")?"show active":""),children:[(0,Pa.jsxs)("a",{className:"nav-link with-sub submenu",onClick:n,href:"/",children:[(0,Pa.jsx)("span",{className:"shape1"}),(0,Pa.jsx)("span",{className:"shape2"}),(0,Pa.jsx)("i",{className:"fa fa-credit-card sidemenu-icon"}),(0,Pa.jsx)("span",{className:"sidemenu-label",children:t("sidebar_link_subscription")}),(0,Pa.jsx)("i",{className:"angle fe fe-chevron-right"})]}),(0,Pa.jsxs)("ul",{className:"nav-sub",children:[(0,Pa.jsx)("li",{className:"nav-sub-item ".concat(e.pathname.includes("/subscription/subscription-plan")?" active":""),children:(0,Pa.jsx)(qt,{className:"nav-sub-link",to:"subscription/subscription-plan/list/1",children:"Subscription Plan"})}),(0,Pa.jsx)("li",{className:"nav-sub-item ".concat(e.pathname.includes("/subscription/history")?" active":""),children:(0,Pa.jsx)(qt,{className:"nav-sub-link",to:"subscription/history/list/1",children:"Subscription History"})}),(0,Pa.jsx)("li",{className:"nav-sub-item ".concat(e.pathname.includes("/subscription/transaction")?" active":""),children:(0,Pa.jsx)(qt,{className:"nav-sub-link",to:"subscription/transaction/list/1",children:"Transaction"})})]})]}),(0,Pa.jsx)("li",{className:"nav-item "+(e.pathname.includes("/coupon")?"show active":""),children:(0,Pa.jsxs)(qt,{className:"nav-link",to:"/admin/coupon/list/".concat(1),children:[(0,Pa.jsx)("span",{className:"shape1"}),(0,Pa.jsx)("span",{className:"shape2"}),(0,Pa.jsx)("i",{className:"fas fa-address-card sidemenu-icon"}),(0,Pa.jsx)("span",{className:"sidemenu-label",children:"Coupons"})]})}),(0,Pa.jsxs)("li",{className:"nav-item "+(e.pathname.includes("/admin/referrals")?"show active":""),children:[(0,Pa.jsxs)("a",{className:"nav-link with-sub submenu",onClick:n,href:"/",children:[(0,Pa.jsx)("span",{className:"shape1"}),(0,Pa.jsx)("span",{className:"shape2"}),(0,Pa.jsx)("i",{className:"fa fa-credit-card sidemenu-icon"}),(0,Pa.jsx)("span",{className:"sidemenu-label",children:"Referrals"}),(0,Pa.jsx)("i",{className:"angle fe fe-chevron-right"})]}),(0,Pa.jsxs)("ul",{className:"nav-sub",children:[(0,Pa.jsx)("li",{className:"nav-sub-item ".concat(e.pathname.includes("/referrals/settings")?" active":""),children:(0,Pa.jsx)(qt,{className:"nav-sub-link",to:"referrals/settings",children:"Settings"})}),(0,Pa.jsx)("li",{className:"nav-sub-item ".concat(e.pathname.includes("/referrals/history")?" active":""),children:(0,Pa.jsx)(qt,{className:"nav-sub-link",to:"referrals/history/list/1",children:"History"})})]})]}),(0,Pa.jsx)("li",{className:"nav-item "+(e.pathname.includes("/admin/global-settings")?"show active":""),children:(0,Pa.jsxs)(qt,{className:"nav-link",to:"/admin/global-settings",children:[(0,Pa.jsx)("span",{className:"shape1"}),(0,Pa.jsx)("span",{className:"shape2"}),(0,Pa.jsx)("i",{className:"fa fa-user-tie sidemenu-icon"}),(0,Pa.jsx)("span",{className:"sidemenu-label",children:"Global Settings"})]})})]})})]})};function Ds(){return(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsx)("div",{id:"global-loader",children:(0,Pa.jsx)("div",{className:"text-center",children:(0,Pa.jsxs)("div",{className:"lds-ripple",children:[(0,Pa.jsx)("div",{}),(0,Pa.jsx)("div",{})]})})})})}function Ls(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ms}=Object.prototype,{getPrototypeOf:Us}=Object,{iterator:Fs,toStringTag:Bs}=Symbol,Vs=(e=>t=>{const n=Ms.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),zs=e=>(e=e.toLowerCase(),t=>Vs(t)===e),Hs=e=>t=>typeof t===e,{isArray:Ws}=Array,Gs=Hs("undefined");function qs(e){return null!==e&&!Gs(e)&&null!==e.constructor&&!Gs(e.constructor)&&Ks(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ys=zs("ArrayBuffer");const Xs=Hs("string"),Ks=Hs("function"),Js=Hs("number"),Zs=e=>null!==e&&"object"===typeof e,Qs=e=>{if("object"!==Vs(e))return!1;const t=Us(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Bs in e)&&!(Fs in e)},$s=zs("Date"),eo=zs("File"),to=zs("Blob"),no=zs("FileList"),io=zs("URLSearchParams"),[ro,ao,so,oo]=["ReadableStream","Request","Response","Headers"].map(zs);function lo(e,t){let n,i,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ws(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(qs(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),a=i.length;let s;for(n=0;n<a;n++)s=i[n],t.call(null,e[s],s,e)}}function co(e,t){if(qs(e))return null;t=t.toLowerCase();const n=Object.keys(e);let i,r=n.length;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const uo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ho=e=>!Gs(e)&&e!==uo;const po=(mo="undefined"!==typeof Uint8Array&&Us(Uint8Array),e=>mo&&e instanceof mo);var mo;const fo=zs("HTMLFormElement"),go=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),_o=zs("RegExp"),vo=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};lo(n,(n,r)=>{let a;!1!==(a=t(n,r,e))&&(i[r]=a||n)}),Object.defineProperties(e,i)};const bo=zs("AsyncFunction"),yo=(xo="function"===typeof setImmediate,wo=Ks(uo.postMessage),xo?setImmediate:wo?((e,t)=>(uo.addEventListener("message",n=>{let{source:i,data:r}=n;i===uo&&r===e&&t.length&&t.shift()()},!1),n=>{t.push(n),uo.postMessage(e,"*")}))("axios@".concat(Math.random()),[]):e=>setTimeout(e));var xo,wo;const Eo="undefined"!==typeof queueMicrotask?queueMicrotask.bind(uo):"undefined"!==typeof process&&process.nextTick||yo,So={isArray:Ws,isArrayBuffer:Ys,isBuffer:qs,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ks(e.append)&&("formdata"===(t=Vs(e))||"object"===t&&Ks(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ys(e.buffer),t},isString:Xs,isNumber:Js,isBoolean:e=>!0===e||!1===e,isObject:Zs,isPlainObject:Qs,isEmptyObject:e=>{if(!Zs(e)||qs(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(ZV){return!1}},isReadableStream:ro,isRequest:ao,isResponse:so,isHeaders:oo,isUndefined:Gs,isDate:$s,isFile:eo,isBlob:to,isRegExp:_o,isFunction:Ks,isStream:e=>Zs(e)&&Ks(e.pipe),isURLSearchParams:io,isTypedArray:po,isFileList:no,forEach:lo,merge:function e(){const{caseless:t,skipUndefined:n}=ho(this)&&this||{},i={},r=(r,a)=>{const s=t&&co(i,a)||a;Qs(i[s])&&Qs(r)?i[s]=e(i[s],r):Qs(r)?i[s]=e({},r):Ws(r)?i[s]=r.slice():n&&Gs(r)||(i[s]=r)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&lo(arguments[a],r);return i},extend:function(e,t,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return lo(t,(t,i)=>{n&&Ks(t)?e[i]=Ls(t,n):e[i]=t},{allOwnKeys:i}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let r,a,s;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)s=r[a],i&&!i(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&Us(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Vs,kindOfTest:zs,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(Ws(e))return e;let t=e.length;if(!Js(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Fs]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:fo,hasOwnProperty:go,hasOwnProp:go,reduceDescriptors:vo,freezeMethods:e=>{vo(e,(t,n)=>{if(Ks(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];Ks(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach(e=>{n[e]=!0})};return Ws(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:co,global:uo,isContextDefined:ho,isSpecCompliantForm:function(e){return!!(e&&Ks(e.append)&&"FormData"===e[Bs]&&e[Fs])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(Zs(e)){if(t.indexOf(e)>=0)return;if(qs(e))return e;if(!("toJSON"in e)){t[i]=e;const r=Ws(e)?[]:{};return lo(e,(e,t)=>{const a=n(e,i+1);!Gs(a)&&(r[t]=a)}),t[i]=void 0,r}}return e};return n(e,0)},isAsyncFn:bo,isThenable:e=>e&&(Zs(e)||Ks(e))&&Ks(e.then)&&Ks(e.catch),setImmediate:yo,asap:Eo,isIterable:e=>null!=e&&Ks(e[Fs])};function Co(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}So.inherits(Co,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:So.toJSONObject(this.config),code:this.code,status:this.status}}});const To=Co.prototype,No={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{No[e]={value:e}}),Object.defineProperties(Co,No),Object.defineProperty(To,"isAxiosError",{value:!0}),Co.from=(e,t,n,i,r,a)=>{const s=Object.create(To);So.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return Co.call(s,o,l,n,i,r),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",a&&Object.assign(s,a),s};const Ao=Co;function ko(e){return So.isPlainObject(e)||So.isArray(e)}function Ro(e){return So.endsWith(e,"[]")?e.slice(0,-2):e}function Io(e,t,n){return e?e.concat(t).map(function(e,t){return e=Ro(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Oo=So.toFlatObject(So,{},null,function(e){return/^is[A-Z]/.test(e)});const jo=function(e,t,n){if(!So.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=So.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!So.isUndefined(t[e])})).metaTokens,r=n.visitor||c,a=n.dots,s=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&So.isSpecCompliantForm(t);if(!So.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(So.isDate(e))return e.toISOString();if(So.isBoolean(e))return e.toString();if(!o&&So.isBlob(e))throw new Ao("Blob is not supported. Use a Buffer instead.");return So.isArrayBuffer(e)||So.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let o=e;if(e&&!r&&"object"===typeof e)if(So.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(So.isArray(e)&&function(e){return So.isArray(e)&&!e.some(ko)}(e)||(So.isFileList(e)||So.endsWith(n,"[]"))&&(o=So.toArray(e)))return n=Ro(n),o.forEach(function(e,i){!So.isUndefined(e)&&null!==e&&t.append(!0===s?Io([n],i,a):null===s?n:n+"[]",l(e))}),!1;return!!ko(e)||(t.append(Io(r,n,a),l(e)),!1)}const d=[],u=Object.assign(Oo,{defaultVisitor:c,convertValue:l,isVisitable:ko});if(!So.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!So.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+i.join("."));d.push(n),So.forEach(n,function(n,a){!0===(!(So.isUndefined(n)||null===n)&&r.call(t,n,So.isString(a)?a.trim():a,i,u))&&e(n,i?i.concat(a):[a])}),d.pop()}}(e),t};function Po(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Do(e,t){this._pairs=[],e&&jo(e,this,t)}const Lo=Do.prototype;Lo.append=function(e,t){this._pairs.push([e,t])},Lo.toString=function(e){const t=e?function(t){return e.call(this,t,Po)}:Po;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Mo=Do;function Uo(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Fo(e,t,n){if(!t)return e;const i=n&&n.encode||Uo;So.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(a=r?r(t,n):So.isURLSearchParams(t)?t.toString():new Mo(t,n).toString(i),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const Bo=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){So.forEach(this.handlers,function(t){null!==t&&e(t)})}},Vo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zo={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Mo,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ho="undefined"!==typeof window&&"undefined"!==typeof document,Wo="object"===typeof navigator&&navigator||void 0,Go=Ho&&(!Wo||["ReactNative","NativeScript","NS"].indexOf(Wo.product)<0),qo="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Yo=Ho&&window.location.href||"http://localhost",Xo=Tn(Tn({},e),zo);const Ko=function(e){function t(e,n,i,r){let a=e[r++];if("__proto__"===a)return!0;const s=Number.isFinite(+a),o=r>=e.length;if(a=!a&&So.isArray(i)?i.length:a,o)return So.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!s;i[a]&&So.isObject(i[a])||(i[a]=[]);return t(e,n,i[a],r)&&So.isArray(i[a])&&(i[a]=function(e){const t={},n=Object.keys(e);let i;const r=n.length;let a;for(i=0;i<r;i++)a=n[i],t[a]=e[a];return t}(i[a])),!s}if(So.isFormData(e)&&So.isFunction(e.entries)){const n={};return So.forEachEntry(e,(e,i)=>{t(function(e){return So.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),i,n,0)}),n}return null};const Jo={transitional:Vo,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=So.isObject(e);r&&So.isHTMLForm(e)&&(e=new FormData(e));if(So.isFormData(e))return i?JSON.stringify(Ko(e)):e;if(So.isArrayBuffer(e)||So.isBuffer(e)||So.isStream(e)||So.isFile(e)||So.isBlob(e)||So.isReadableStream(e))return e;if(So.isArrayBufferView(e))return e.buffer;if(So.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return jo(e,new Xo.classes.URLSearchParams,Tn({visitor:function(e,t,n,i){return Xo.isNode&&So.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=So.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return jo(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),function(e,t,n){if(So.isString(e))try{return(t||JSON.parse)(e),So.trim(e)}catch(ZV){if("SyntaxError"!==ZV.name)throw ZV}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Jo.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(So.isResponse(e)||So.isReadableStream(e))return e;if(e&&So.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(ZV){if(n){if("SyntaxError"===ZV.name)throw Ao.from(ZV,Ao.ERR_BAD_RESPONSE,this,null,this.response);throw ZV}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xo.classes.FormData,Blob:Xo.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};So.forEach(["delete","get","head","post","put","patch"],e=>{Jo.headers[e]={}});const Zo=Jo,Qo=So.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$o=Symbol("internals");function el(e){return e&&String(e).trim().toLowerCase()}function tl(e){return!1===e||null==e?e:So.isArray(e)?e.map(tl):String(e)}function nl(e,t,n,i,r){return So.isFunction(i)?i.call(this,t,n):(r&&(t=n),So.isString(t)?So.isString(i)?-1!==t.indexOf(i):So.isRegExp(i)?i.test(t):void 0:void 0)}class il{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function r(e,t,n){const r=el(t);if(!r)throw new Error("header name must be a non-empty string");const a=So.findKey(i,r);(!a||void 0===i[a]||!0===n||void 0===n&&!1!==i[a])&&(i[a||t]=tl(e))}const a=(e,t)=>So.forEach(e,(e,n)=>r(e,n,t));if(So.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(So.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,i,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!n||t[n]&&Qo[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t})(e),t);else if(So.isObject(e)&&So.isIterable(e)){let n,i,r={};for(const t of e){if(!So.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[i=t[0]]=(n=r[i])?So.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=el(e)){const n=So.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(So.isFunction(t))return t.call(this,e,n);if(So.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=el(e)){const n=So.findKey(this,e);return!(!n||void 0===this[n]||t&&!nl(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function r(e){if(e=el(e)){const r=So.findKey(n,e);!r||t&&!nl(0,n[r],r,t)||(delete n[r],i=!0)}}return So.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const r=t[n];e&&!nl(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return So.forEach(this,(i,r)=>{const a=So.findKey(n,r);if(a)return t[a]=tl(i),void delete t[r];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();s!==r&&delete t[r],t[s]=tl(i),n[s]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return So.forEach(this,(n,i)=>{null!=n&&!1!==n&&(t[i]=e&&So.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[$o]=this[$o]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=el(e);t[i]||(!function(e,t){const n=So.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[i]=!0)}return So.isArray(e)?e.forEach(i):i(e),this}}il.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),So.reduceDescriptors(il.prototype,(e,t)=>{let{value:n}=e,i=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[i]=e}}}),So.freezeMethods(il);const rl=il;function al(e,t){const n=this||Zo,i=t||n,r=rl.from(i.headers);let a=i.data;return So.forEach(e,function(e){a=e.call(n,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function sl(e){return!(!e||!e.__CANCEL__)}function ol(e,t,n){Ao.call(this,null==e?"canceled":e,Ao.ERR_CANCELED,t,n),this.name="CanceledError"}So.inherits(ol,Ao,{__CANCEL__:!0});const ll=ol;function cl(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new Ao("Request failed with status code "+n.status,[Ao.ERR_BAD_REQUEST,Ao.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const dl=function(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r,a=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=i[s];r||(r=l),n[a]=o,i[a]=l;let d=s,u=0;for(;d!==a;)u+=n[d++],d%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),l-r<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const ul=function(e,t){let n,i,r=0,a=1e3/t;const s=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=a,n=null,i&&(clearTimeout(i),i=null),e(...t)};return[function(){const e=Date.now(),t=e-r;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=a?s(l,e):(n=l,i||(i=setTimeout(()=>{i=null,s(n)},a-t)))},()=>n&&s(n)]},hl=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0;const r=dl(50,250);return ul(n=>{const a=n.loaded,s=n.lengthComputable?n.total:void 0,o=a-i,l=r(o);i=a;e({loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},pl=(e,t)=>{const n=null!=e;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},ml=e=>function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return So.asap(()=>e(...n))},fl=Xo.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Xo.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Xo.origin),Xo.navigator&&/(msie|trident)/i.test(Xo.navigator.userAgent)):()=>!0,gl=Xo.hasStandardBrowserEnv?{write(e,t,n,i,r,a){const s=[e+"="+encodeURIComponent(t)];So.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),So.isString(i)&&s.push("path="+i),So.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function _l(e,t,n){let i=!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t);return e&&(i||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const vl=e=>e instanceof rl?Tn({},e):e;function bl(e,t){t=t||{};const n={};function i(e,t,n,i){return So.isPlainObject(e)&&So.isPlainObject(t)?So.merge.call({caseless:i},e,t):So.isPlainObject(t)?So.merge({},t):So.isArray(t)?t.slice():t}function r(e,t,n,r){return So.isUndefined(t)?So.isUndefined(e)?void 0:i(void 0,e,0,r):i(e,t,0,r)}function a(e,t){if(!So.isUndefined(t))return i(void 0,t)}function s(e,t){return So.isUndefined(t)?So.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function o(n,r,a){return a in t?i(n,r):a in e?i(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,n)=>r(vl(e),vl(t),0,!0)};return So.forEach(Object.keys(Tn(Tn({},e),t)),function(i){const a=l[i]||r,s=a(e[i],t[i],i);So.isUndefined(s)&&a!==o||(n[i]=s)}),n}const yl=e=>{const t=bl({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:s,auth:o}=t;if(t.headers=s=rl.from(s),t.url=Fo(_l(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),So.isFormData(n))if(Xo.hasStandardBrowserEnv||Xo.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(So.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,i]=e;t.includes(n.toLowerCase())&&s.set(n,i)})}if(Xo.hasStandardBrowserEnv&&(i&&So.isFunction(i)&&(i=i(t)),i||!1!==i&&fl(t.url))){const e=r&&a&&gl.read(a);e&&s.set(r,e)}return t},xl="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const i=yl(e);let r=i.data;const a=rl.from(i.headers).normalize();let s,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:p}=i;function m(){c&&c(),d&&d(),i.cancelToken&&i.cancelToken.unsubscribe(s),i.signal&&i.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function g(){if(!f)return;const i=rl.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());cl(function(e){t(e),m()},function(e){n(e),m()},{data:u&&"text"!==u&&"json"!==u?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:i,config:e,request:f}),f=null}f.open(i.method.toUpperCase(),i.url,!0),f.timeout=i.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(n(new Ao("Request aborted",Ao.ECONNABORTED,e,f)),f=null)},f.onerror=function(t){const i=t&&t.message?t.message:"Network Error",r=new Ao(i,Ao.ERR_NETWORK,e,f);r.event=t||null,n(r),f=null},f.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const r=i.transitional||Vo;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),n(new Ao(t,r.clarifyTimeoutError?Ao.ETIMEDOUT:Ao.ECONNABORTED,e,f)),f=null},void 0===r&&a.setContentType(null),"setRequestHeader"in f&&So.forEach(a.toJSON(),function(e,t){f.setRequestHeader(t,e)}),So.isUndefined(i.withCredentials)||(f.withCredentials=!!i.withCredentials),u&&"json"!==u&&(f.responseType=i.responseType),p&&([l,d]=hl(p,!0),f.addEventListener("progress",l)),h&&f.upload&&([o,c]=hl(h),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(s=t=>{f&&(n(!t||t.type?new ll(null,e,f):t),f.abort(),f=null)},i.cancelToken&&i.cancelToken.subscribe(s),i.signal&&(i.signal.aborted?s():i.signal.addEventListener("abort",s)));const _=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(i.url);_&&-1===Xo.protocols.indexOf(_)?n(new Ao("Unsupported protocol "+_+":",Ao.ERR_BAD_REQUEST,e)):f.send(r||null)})},wl=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,i=new AbortController;const r=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;i.abort(t instanceof Ao?t:new ll(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,r(new Ao("timeout ".concat(t," of ms exceeded"),Ao.ETIMEDOUT))},t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:o}=i;return o.unsubscribe=()=>So.asap(s),o}};function El(e,t){this.v=e,this.k=t}function Sl(e){return function(){return new Cl(e.apply(this,arguments))}}function Cl(e){var t,n;function i(t,n){try{var a=e[t](n),s=a.value,o=s instanceof El;Promise.resolve(o?s.v:s).then(function(n){if(o){var l="return"===t?"return":"next";if(!s.k||n.done)return i(l,n);n=e[l](n).value}r(a.done?"return":"normal",n)},function(e){i("throw",e)})}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise(function(a,s){var o={key:e,arg:r,resolve:a,reject:s,next:null};n?n=n.next=o:(t=n=o,i(e,r))})},"function"!=typeof e.return&&(this.return=void 0)}function Tl(e){return new El(e,0)}function Nl(e){var t={},n=!1;function i(t,i){return n=!0,i=new Promise(function(n){n(e[t](i))}),{done:!1,value:new El(i,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):i("return",e)}),t}function Al(e){var t,n,i,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new kl(t.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function kl(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return kl=function(e){this.s=e,this.n=e.next},kl.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new kl(e)}Cl.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Cl.prototype.next=function(e){return this._invoke("next",e)},Cl.prototype.throw=function(e){return this._invoke("throw",e)},Cl.prototype.return=function(e){return this._invoke("return",e)};const Rl=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let i,r=0;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},Il=function(){var e=Sl(function*(e,t){var n,i=!1,r=!1;try{for(var a,s=Al(Ol(e));i=!(a=yield Tl(s.next())).done;i=!1){const e=a.value;yield*Nl(Al(Rl(e,t)))}}catch(o){r=!0,n=o}finally{try{i&&null!=s.return&&(yield Tl(s.return()))}finally{if(r)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Ol=function(){var e=Sl(function*(e){if(e[Symbol.asyncIterator])return void(yield*Nl(Al(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Tl(t.read());if(e)break;yield n}}finally{yield Tl(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),jl=(e,t,n,i)=>{const r=Il(e,t);let a,s=0,o=e=>{a||(a=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:t,value:i}=await r.next();if(t)return o(),void e.close();let a=i.byteLength;if(n){let e=s+=a;n(e)}e.enqueue(new Uint8Array(i))}catch(t){throw o(t),t}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},{isFunction:Pl}=So,Dl=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(So.global),{ReadableStream:Ll,TextEncoder:Ml}=So.global,Ul=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return!!e(...n)}catch(ZV){return!1}},Fl=e=>{e=So.merge.call({skipUndefined:!0},Dl,e);const{fetch:t,Request:n,Response:i}=e,r=t?Pl(t):"function"===typeof fetch,a=Pl(n),s=Pl(i);if(!r)return!1;const o=r&&Pl(Ll),l=r&&("function"===typeof Ml?(c=new Ml,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=a&&o&&Ul(()=>{let e=!1;const t=new n(Xo.origin,{body:new Ll,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=s&&o&&Ul(()=>So.isReadableStream(new i("").body)),h={stream:u&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,n)=>{let i=t&&t[e];if(i)return i.call(t);throw new Ao("Response type '".concat(e,"' is not supported"),Ao.ERR_NOT_SUPPORT,n)})});const p=async(e,t)=>{const i=So.toFiniteNumber(e.getContentLength());return null==i?(async e=>{if(null==e)return 0;if(So.isBlob(e))return e.size;if(So.isSpecCompliantForm(e)){const t=new n(Xo.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return So.isArrayBufferView(e)||So.isArrayBuffer(e)?e.byteLength:(So.isURLSearchParams(e)&&(e+=""),So.isString(e)?(await l(e)).byteLength:void 0)})(t):i};return async e=>{let{url:r,method:s,data:o,signal:l,cancelToken:c,timeout:m,onDownloadProgress:f,onUploadProgress:g,responseType:_,headers:v,withCredentials:b="same-origin",fetchOptions:y}=yl(e),x=t||fetch;_=_?(_+"").toLowerCase():"text";let w=wl([l,c&&c.toAbortSignal()],m),E=null;const S=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let C;try{if(g&&d&&"get"!==s&&"head"!==s&&0!==(C=await p(v,o))){let e,t=new n(r,{method:"POST",body:o,duplex:"half"});if(So.isFormData(o)&&(e=t.headers.get("content-type"))&&v.setContentType(e),t.body){const[e,n]=pl(C,hl(ml(g)));o=jl(t.body,65536,e,n)}}So.isString(b)||(b=b?"include":"omit");const t=a&&"credentials"in n.prototype,l=Tn(Tn({},y),{},{signal:w,method:s.toUpperCase(),headers:v.normalize().toJSON(),body:o,duplex:"half",credentials:t?b:void 0});E=a&&new n(r,l);let c=await(a?x(E,y):x(r,l));const m=u&&("stream"===_||"response"===_);if(u&&(f||m&&S)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=So.toFiniteNumber(c.headers.get("content-length")),[n,r]=f&&pl(t,hl(ml(f),!0))||[];c=new i(jl(c.body,65536,n,()=>{r&&r(),S&&S()}),e)}_=_||"text";let T=await h[So.findKey(h,_)||"text"](c,e);return!m&&S&&S(),await new Promise((t,n)=>{cl(t,n,{data:T,headers:rl.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:E})})}catch(T){if(S&&S(),T&&"TypeError"===T.name&&/Load failed|fetch/i.test(T.message))throw Object.assign(new Ao("Network Error",Ao.ERR_NETWORK,e,E),{cause:T.cause||T});throw Ao.from(T,T&&T.code,e,E)}}},Bl=new Map,Vl=e=>{let t=e?e.env:{};const{fetch:n,Request:i,Response:r}=t,a=[i,r,n];let s,o,l=a.length,c=Bl;for(;l--;)s=a[l],o=c.get(s),void 0===o&&c.set(s,o=l?new Map:Fl(t)),c=o;return o},zl=(Vl(),{http:null,xhr:xl,fetch:{get:Vl}});So.forEach(zl,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(ZV){}Object.defineProperty(e,"adapterName",{value:t})}});const Hl=e=>"- ".concat(e),Wl=e=>So.isFunction(e)||null===e||!1===e,Gl=(e,t)=>{e=So.isArray(e)?e:[e];const{length:n}=e;let i,r;const a={};for(let s=0;s<n;s++){let n;if(i=e[s],r=i,!Wl(i)&&(r=zl[(n=String(i)).toLowerCase()],void 0===r))throw new Ao("Unknown adapter '".concat(n,"'"));if(r&&(So.isFunction(r)||(r=r.get(t))))break;a[n||"#"+s]=r}if(!r){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Hl).join("\n"):" "+Hl(e[0]):"as no adapter specified";throw new Ao("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r};function ql(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ll(null,e)}function Yl(e){ql(e),e.headers=rl.from(e.headers),e.data=al.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Gl(e.adapter||Zo.adapter,e)(e).then(function(t){return ql(e),t.data=al.call(e,e.transformResponse,t),t.headers=rl.from(t.headers),t},function(t){return sl(t)||(ql(e),t&&t.response&&(t.response.data=al.call(e,e.transformResponse,t.response),t.response.headers=rl.from(t.response.headers))),Promise.reject(t)})}const Xl="1.12.2",Kl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Kl[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Jl={};Kl.transitional=function(e,t,n){function i(e,t){return"[Axios v"+Xl+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,a)=>{if(!1===e)throw new Ao(i(r," has been removed"+(t?" in "+t:"")),Ao.ERR_DEPRECATED);return t&&!Jl[r]&&(Jl[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},Kl.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Zl={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ao("options must be an object",Ao.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const a=i[r],s=t[a];if(s){const t=e[a],n=void 0===t||s(t,a,e);if(!0!==n)throw new Ao("option "+a+" must be "+n,Ao.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Ao("Unknown option "+a,Ao.ERR_BAD_OPTION)}},validators:Kl},Ql=Zl.validators;class $l{constructor(e){this.defaults=e||{},this.interceptors={request:new Bo,response:new Bo}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(ZV){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=bl(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;void 0!==n&&Zl.assertOptions(n,{silentJSONParsing:Ql.transitional(Ql.boolean),forcedJSONParsing:Ql.transitional(Ql.boolean),clarifyTimeoutError:Ql.transitional(Ql.boolean)},!1),null!=i&&(So.isFunction(i)?t.paramsSerializer={serialize:i}:Zl.assertOptions(i,{encode:Ql.function,serialize:Ql.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Zl.assertOptions(t,{baseUrl:Ql.spelling("baseURL"),withXsrfToken:Ql.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&So.merge(r.common,r[t.method]);r&&So.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=rl.concat(a,r);const s=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[Yl.bind(this),void 0];for(e.unshift(...s),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let h=t;for(;u<d;){const e=s[u++],t=s[u++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=Yl.call(this,h)}catch(p){return Promise.reject(p)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return Fo(_l((e=bl(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}So.forEach(["delete","get","head","options"],function(e){$l.prototype[e]=function(t,n){return this.request(bl(n||{},{method:e,url:t,data:(n||{}).data}))}}),So.forEach(["post","put","patch"],function(e){function t(t){return function(n,i,r){return this.request(bl(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}$l.prototype[e]=t(),$l.prototype[e+"Form"]=t(!0)});const ec=$l;class tc{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const i=new Promise(e=>{n.subscribe(e),t=e}).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e(function(e,i,r){n.reason||(n.reason=new ll(e,i,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new tc(function(t){e=t});return{token:t,cancel:e}}}const nc=tc;const ic={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ic).forEach(e=>{let[t,n]=e;ic[n]=t});const rc=ic;const ac=function e(t){const n=new ec(t),i=Ls(ec.prototype.request,n);return So.extend(i,ec.prototype,n,{allOwnKeys:!0}),So.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(bl(t,n))},i}(Zo);ac.Axios=ec,ac.CanceledError=ll,ac.CancelToken=nc,ac.isCancel=sl,ac.VERSION=Xl,ac.toFormData=jo,ac.AxiosError=Ao,ac.Cancel=ac.CanceledError,ac.all=function(e){return Promise.all(e)},ac.spread=function(e){return function(t){return e.apply(null,t)}},ac.isAxiosError=function(e){return So.isObject(e)&&!0===e.isAxiosError},ac.mergeConfig=bl,ac.AxiosHeaders=rl,ac.formToJSON=e=>Ko(So.isHTMLForm(e)?new FormData(e):e),ac.getAdapter=Gl,ac.HttpStatusCode=rc,ac.default=ac;const sc=ac,oc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};let t={language:Qa("system_language")?Qa("system_language"):"en"};try{const n=Xa(null===e||void 0===e?void 0:e.role);n&&n.token&&(t.Authorization="Bearer ".concat(n.token))}catch(i){console.log(i)}const n=sc.create({baseURL:"https://astranova-api.devtechnosys.tech/webservice/api/v1",headers:t});return n.interceptors.response.use(e=>new Promise((t,n)=>{t(e.data)}),t=>{var n,i;(console.error("error -----\x3e ",t),t&&t.response&&t.response.status&&401===t.response.status)&&(us(null===e||void 0===e?void 0:e.role),Ka(null===e||void 0===e?void 0:e.role),zr().fire(Tn({icon:"error",text:(null===t||void 0===t||null===(n=t.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Something went wrong, Please try again later."},Rs.SWAL_SETTINGS)))}),n},lc={role:Rs.ROLE.SUPER_ADMIN},cc="admin/global-settings",dc=async()=>await oc(lc).get("".concat(cc,"/details")),uc=()=>{const e=gn(),t=bn(e=>e.globalLoader),i=ot();return window.navigate_=i,(0,a.useMemo)(()=>{dc().then(t=>{var n;e(xr(t&&t.data?t.data:null)),Ga(null!==t&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.title?t.data.title:"Reloaded Astrology")}).catch(e=>{console.log("error---\x3e",e)})},[]),(0,a.useLayoutEffect)(()=>{e(fr("admin")),Promise.all([Promise.resolve().then(n.bind(n,4933)),Promise.resolve().then(n.bind(n,8421)),n.e(419).then(n.bind(n,2419)),n.e(621).then(n.bind(n,2621)),n.e(195).then(n.bind(n,6195)),n.e(870).then(n.bind(n,870)),n.e(293).then(n.bind(n,3293)),n.e(71).then(n.bind(n,4071)),n.e(70).then(n.bind(n,4070)),n.e(606).then(n.bind(n,1606)),n.e(349).then(n.bind(n,349)),n.e(8).then(n.bind(n,6008)),n.e(360).then(n.bind(n,2360))]).then(()=>{e(hr(!1))})},[]),(0,Pa.jsx)(Pa.Fragment,{children:t?(0,Pa.jsx)(Ds,{}):(0,Pa.jsxs)("div",{className:"page",children:[(0,Pa.jsx)(Ps,{}),(0,Pa.jsx)(Is,{}),(0,Pa.jsx)("div",{className:"main-content side-content",children:(0,Pa.jsx)("div",{className:"container-fluid",children:(0,Pa.jsx)("div",{className:"inner-body",children:(0,Pa.jsx)(Ct,{})})})}),(0,Pa.jsx)("a",{href:"#top",id:"back-to-top",children:(0,Pa.jsx)("i",{className:"fe fe-arrow-up"})}),(0,Pa.jsx)(Os,{})]})})};var hc=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===pc}(e)}(e)};var pc="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function mc(e,t){return!1!==t.clone&&t.isMergeableObject(e)?gc((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function fc(e,t,n){return e.concat(t).map(function(e){return mc(e,n)})}function gc(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||fc,n.isMergeableObject=n.isMergeableObject||hc;var i=Array.isArray(t);return i===Array.isArray(e)?i?n.arrayMerge(e,t,n):function(e,t,n){var i={};return n.isMergeableObject(e)&&Object.keys(e).forEach(function(t){i[t]=mc(e[t],n)}),Object.keys(t).forEach(function(r){n.isMergeableObject(t[r])&&e[r]?i[r]=gc(e[r],t[r],n):i[r]=mc(t[r],n)}),i}(e,t,n):mc(t,n)}gc.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,n){return gc(e,n,t)},{})};const _c=gc;const vc="object"==typeof global&&global&&global.Object===Object&&global;var bc="object"==typeof self&&self&&self.Object===Object&&self;const yc=vc||bc||Function("return this")();const xc=yc.Symbol;var wc=Object.prototype,Ec=wc.hasOwnProperty,Sc=wc.toString,Cc=xc?xc.toStringTag:void 0;const Tc=function(e){var t=Ec.call(e,Cc),n=e[Cc];try{e[Cc]=void 0;var i=!0}catch(ZV){}var r=Sc.call(e);return i&&(t?e[Cc]=n:delete e[Cc]),r};var Nc=Object.prototype.toString;const Ac=function(e){return Nc.call(e)};var kc=xc?xc.toStringTag:void 0;const Rc=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":kc&&kc in Object(e)?Tc(e):Ac(e)};const Ic=function(e,t){return function(n){return e(t(n))}};const Oc=Ic(Object.getPrototypeOf,Object);const jc=function(e){return null!=e&&"object"==typeof e};var Pc=Function.prototype,Dc=Object.prototype,Lc=Pc.toString,Mc=Dc.hasOwnProperty,Uc=Lc.call(Object);const Fc=function(e){if(!jc(e)||"[object Object]"!=Rc(e))return!1;var t=Oc(e);if(null===t)return!0;var n=Mc.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Lc.call(n)==Uc};const Bc=function(){this.__data__=[],this.size=0};const Vc=function(e,t){return e===t||e!==e&&t!==t};const zc=function(e,t){for(var n=e.length;n--;)if(Vc(e[n][0],t))return n;return-1};var Hc=Array.prototype.splice;const Wc=function(e){var t=this.__data__,n=zc(t,e);return!(n<0)&&(n==t.length-1?t.pop():Hc.call(t,n,1),--this.size,!0)};const Gc=function(e){var t=this.__data__,n=zc(t,e);return n<0?void 0:t[n][1]};const qc=function(e){return zc(this.__data__,e)>-1};const Yc=function(e,t){var n=this.__data__,i=zc(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};function Xc(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Xc.prototype.clear=Bc,Xc.prototype.delete=Wc,Xc.prototype.get=Gc,Xc.prototype.has=qc,Xc.prototype.set=Yc;const Kc=Xc;const Jc=function(){this.__data__=new Kc,this.size=0};const Zc=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const Qc=function(e){return this.__data__.get(e)};const $c=function(e){return this.__data__.has(e)};const ed=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const td=function(e){if(!ed(e))return!1;var t=Rc(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const nd=yc["__core-js_shared__"];var id=function(){var e=/[^.]+$/.exec(nd&&nd.keys&&nd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const rd=function(e){return!!id&&id in e};var ad=Function.prototype.toString;const sd=function(e){if(null!=e){try{return ad.call(e)}catch(ZV){}try{return e+""}catch(ZV){}}return""};var od=/^\[object .+?Constructor\]$/,ld=Function.prototype,cd=Object.prototype,dd=ld.toString,ud=cd.hasOwnProperty,hd=RegExp("^"+dd.call(ud).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const pd=function(e){return!(!ed(e)||rd(e))&&(td(e)?hd:od).test(sd(e))};const md=function(e,t){return null==e?void 0:e[t]};const fd=function(e,t){var n=md(e,t);return pd(n)?n:void 0};const gd=fd(yc,"Map");const _d=fd(Object,"create");const vd=function(){this.__data__=_d?_d(null):{},this.size=0};const bd=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var yd=Object.prototype.hasOwnProperty;const xd=function(e){var t=this.__data__;if(_d){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return yd.call(t,e)?t[e]:void 0};var wd=Object.prototype.hasOwnProperty;const Ed=function(e){var t=this.__data__;return _d?void 0!==t[e]:wd.call(t,e)};const Sd=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_d&&void 0===t?"__lodash_hash_undefined__":t,this};function Cd(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Cd.prototype.clear=vd,Cd.prototype.delete=bd,Cd.prototype.get=xd,Cd.prototype.has=Ed,Cd.prototype.set=Sd;const Td=Cd;const Nd=function(){this.size=0,this.__data__={hash:new Td,map:new(gd||Kc),string:new Td}};const Ad=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const kd=function(e,t){var n=e.__data__;return Ad(t)?n["string"==typeof t?"string":"hash"]:n.map};const Rd=function(e){var t=kd(this,e).delete(e);return this.size-=t?1:0,t};const Id=function(e){return kd(this,e).get(e)};const Od=function(e){return kd(this,e).has(e)};const jd=function(e,t){var n=kd(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};function Pd(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Pd.prototype.clear=Nd,Pd.prototype.delete=Rd,Pd.prototype.get=Id,Pd.prototype.has=Od,Pd.prototype.set=jd;const Dd=Pd;const Ld=function(e,t){var n=this.__data__;if(n instanceof Kc){var i=n.__data__;if(!gd||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dd(i)}return n.set(e,t),this.size=n.size,this};function Md(e){var t=this.__data__=new Kc(e);this.size=t.size}Md.prototype.clear=Jc,Md.prototype.delete=Zc,Md.prototype.get=Qc,Md.prototype.has=$c,Md.prototype.set=Ld;const Ud=Md;const Fd=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e};const Bd=function(){try{var e=fd(Object,"defineProperty");return e({},"",{}),e}catch(ZV){}}();const Vd=function(e,t,n){"__proto__"==t&&Bd?Bd(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var zd=Object.prototype.hasOwnProperty;const Hd=function(e,t,n){var i=e[t];zd.call(e,t)&&Vc(i,n)&&(void 0!==n||t in e)||Vd(e,t,n)};const Wd=function(e,t,n,i){var r=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var o=t[a],l=i?i(n[o],e[o],o,n,e):void 0;void 0===l&&(l=e[o]),r?Vd(n,o,l):Hd(n,o,l)}return n};const Gd=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i};const qd=function(e){return jc(e)&&"[object Arguments]"==Rc(e)};var Yd=Object.prototype,Xd=Yd.hasOwnProperty,Kd=Yd.propertyIsEnumerable,Jd=qd(function(){return arguments}())?qd:function(e){return jc(e)&&Xd.call(e,"callee")&&!Kd.call(e,"callee")};const Zd=Jd;const Qd=Array.isArray;const $d=function(){return!1};var eu="object"==typeof exports&&exports&&!exports.nodeType&&exports,tu=eu&&"object"==typeof module&&module&&!module.nodeType&&module,nu=tu&&tu.exports===eu?yc.Buffer:void 0;const iu=(nu?nu.isBuffer:void 0)||$d;var ru=/^(?:0|[1-9]\d*)$/;const au=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ru.test(e))&&e>-1&&e%1==0&&e<t};const su=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var ou={};ou["[object Float32Array]"]=ou["[object Float64Array]"]=ou["[object Int8Array]"]=ou["[object Int16Array]"]=ou["[object Int32Array]"]=ou["[object Uint8Array]"]=ou["[object Uint8ClampedArray]"]=ou["[object Uint16Array]"]=ou["[object Uint32Array]"]=!0,ou["[object Arguments]"]=ou["[object Array]"]=ou["[object ArrayBuffer]"]=ou["[object Boolean]"]=ou["[object DataView]"]=ou["[object Date]"]=ou["[object Error]"]=ou["[object Function]"]=ou["[object Map]"]=ou["[object Number]"]=ou["[object Object]"]=ou["[object RegExp]"]=ou["[object Set]"]=ou["[object String]"]=ou["[object WeakMap]"]=!1;const lu=function(e){return jc(e)&&su(e.length)&&!!ou[Rc(e)]};const cu=function(e){return function(t){return e(t)}};var du="object"==typeof exports&&exports&&!exports.nodeType&&exports,uu=du&&"object"==typeof module&&module&&!module.nodeType&&module,hu=uu&&uu.exports===du&&vc.process;const pu=function(){try{var e=uu&&uu.require&&uu.require("util").types;return e||hu&&hu.binding&&hu.binding("util")}catch(ZV){}}();var mu=pu&&pu.isTypedArray;const fu=mu?cu(mu):lu;var gu=Object.prototype.hasOwnProperty;const _u=function(e,t){var n=Qd(e),i=!n&&Zd(e),r=!n&&!i&&iu(e),a=!n&&!i&&!r&&fu(e),s=n||i||r||a,o=s?Gd(e.length,String):[],l=o.length;for(var c in e)!t&&!gu.call(e,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||au(c,l))||o.push(c);return o};var vu=Object.prototype;const bu=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||vu)};const yu=Ic(Object.keys,Object);var xu=Object.prototype.hasOwnProperty;const wu=function(e){if(!bu(e))return yu(e);var t=[];for(var n in Object(e))xu.call(e,n)&&"constructor"!=n&&t.push(n);return t};const Eu=function(e){return null!=e&&su(e.length)&&!td(e)};const Su=function(e){return Eu(e)?_u(e):wu(e)};const Cu=function(e,t){return e&&Wd(t,Su(t),e)};const Tu=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var Nu=Object.prototype.hasOwnProperty;const Au=function(e){if(!ed(e))return Tu(e);var t=bu(e),n=[];for(var i in e)("constructor"!=i||!t&&Nu.call(e,i))&&n.push(i);return n};const ku=function(e){return Eu(e)?_u(e,!0):Au(e)};const Ru=function(e,t){return e&&Wd(t,ku(t),e)};var Iu="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ou=Iu&&"object"==typeof module&&module&&!module.nodeType&&module,ju=Ou&&Ou.exports===Iu?yc.Buffer:void 0,Pu=ju?ju.allocUnsafe:void 0;const Du=function(e,t){if(t)return e.slice();var n=e.length,i=Pu?Pu(n):new e.constructor(n);return e.copy(i),i};const Lu=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t};const Mu=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var s=e[n];t(s,n,e)&&(a[r++]=s)}return a};const Uu=function(){return[]};var Fu=Object.prototype.propertyIsEnumerable,Bu=Object.getOwnPropertySymbols,Vu=Bu?function(e){return null==e?[]:(e=Object(e),Mu(Bu(e),function(t){return Fu.call(e,t)}))}:Uu;const zu=Vu;const Hu=function(e,t){return Wd(e,zu(e),t)};const Wu=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e};var Gu=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Wu(t,zu(e)),e=Oc(e);return t}:Uu;const qu=Gu;const Yu=function(e,t){return Wd(e,qu(e),t)};const Xu=function(e,t,n){var i=t(e);return Qd(e)?i:Wu(i,n(e))};const Ku=function(e){return Xu(e,Su,zu)};const Ju=function(e){return Xu(e,ku,qu)};const Zu=fd(yc,"DataView");const Qu=fd(yc,"Promise");const $u=fd(yc,"Set");const eh=fd(yc,"WeakMap");var th="[object Map]",nh="[object Promise]",ih="[object Set]",rh="[object WeakMap]",ah="[object DataView]",sh=sd(Zu),oh=sd(gd),lh=sd(Qu),ch=sd($u),dh=sd(eh),uh=Rc;(Zu&&uh(new Zu(new ArrayBuffer(1)))!=ah||gd&&uh(new gd)!=th||Qu&&uh(Qu.resolve())!=nh||$u&&uh(new $u)!=ih||eh&&uh(new eh)!=rh)&&(uh=function(e){var t=Rc(e),n="[object Object]"==t?e.constructor:void 0,i=n?sd(n):"";if(i)switch(i){case sh:return ah;case oh:return th;case lh:return nh;case ch:return ih;case dh:return rh}return t});const hh=uh;var ph=Object.prototype.hasOwnProperty;const mh=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ph.call(e,"index")&&(n.index=e.index,n.input=e.input),n};const fh=yc.Uint8Array;const gh=function(e){var t=new e.constructor(e.byteLength);return new fh(t).set(new fh(e)),t};const _h=function(e,t){var n=t?gh(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)};var vh=/\w*$/;const bh=function(e){var t=new e.constructor(e.source,vh.exec(e));return t.lastIndex=e.lastIndex,t};var yh=xc?xc.prototype:void 0,xh=yh?yh.valueOf:void 0;const wh=function(e){return xh?Object(xh.call(e)):{}};const Eh=function(e,t){var n=t?gh(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const Sh=function(e,t,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return gh(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return _h(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Eh(e,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return bh(e);case"[object Symbol]":return wh(e)}};var Ch=Object.create,Th=function(){function e(){}return function(t){if(!ed(t))return{};if(Ch)return Ch(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const Nh=Th;const Ah=function(e){return"function"!=typeof e.constructor||bu(e)?{}:Nh(Oc(e))};const kh=function(e){return jc(e)&&"[object Map]"==hh(e)};var Rh=pu&&pu.isMap;const Ih=Rh?cu(Rh):kh;const Oh=function(e){return jc(e)&&"[object Set]"==hh(e)};var jh=pu&&pu.isSet;const Ph=jh?cu(jh):Oh;var Dh="[object Arguments]",Lh="[object Function]",Mh="[object Object]",Uh={};Uh[Dh]=Uh["[object Array]"]=Uh["[object ArrayBuffer]"]=Uh["[object DataView]"]=Uh["[object Boolean]"]=Uh["[object Date]"]=Uh["[object Float32Array]"]=Uh["[object Float64Array]"]=Uh["[object Int8Array]"]=Uh["[object Int16Array]"]=Uh["[object Int32Array]"]=Uh["[object Map]"]=Uh["[object Number]"]=Uh[Mh]=Uh["[object RegExp]"]=Uh["[object Set]"]=Uh["[object String]"]=Uh["[object Symbol]"]=Uh["[object Uint8Array]"]=Uh["[object Uint8ClampedArray]"]=Uh["[object Uint16Array]"]=Uh["[object Uint32Array]"]=!0,Uh["[object Error]"]=Uh[Lh]=Uh["[object WeakMap]"]=!1;const Fh=function e(t,n,i,r,a,s){var o,l=1&n,c=2&n,d=4&n;if(i&&(o=a?i(t,r,a,s):i(t)),void 0!==o)return o;if(!ed(t))return t;var u=Qd(t);if(u){if(o=mh(t),!l)return Lu(t,o)}else{var h=hh(t),p=h==Lh||"[object GeneratorFunction]"==h;if(iu(t))return Du(t,l);if(h==Mh||h==Dh||p&&!a){if(o=c||p?{}:Ah(t),!l)return c?Yu(t,Ru(o,t)):Hu(t,Cu(o,t))}else{if(!Uh[h])return a?t:{};o=Sh(t,h,l)}}s||(s=new Ud);var m=s.get(t);if(m)return m;s.set(t,o),Ph(t)?t.forEach(function(r){o.add(e(r,n,i,r,t,s))}):Ih(t)&&t.forEach(function(r,a){o.set(a,e(r,n,i,a,t,s))});var f=u?void 0:(d?c?Ju:Ku:c?ku:Su)(t);return Fd(f||t,function(r,a){f&&(r=t[a=r]),Hd(o,a,e(r,n,i,a,t,s))}),o};const Bh=function(e){return Fh(e,5)};var Vh=n(6366),zh=n.n(Vh);const Hh=function(e,t){};const Wh=function(e){return Fh(e,4)};const Gh=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r};const qh=function(e){return"symbol"==typeof e||jc(e)&&"[object Symbol]"==Rc(e)};function Yh(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var s=e.apply(this,i);return n.cache=a.set(r,s)||a,s};return n.cache=new(Yh.Cache||Dd),n}Yh.Cache=Dd;const Xh=Yh;const Kh=function(e){var t=Xh(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t};var Jh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zh=/\\(\\)?/g,Qh=Kh(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Jh,function(e,n,i,r){t.push(i?r.replace(Zh,"$1"):n||e)}),t});const $h=Qh;const ep=function(e){if("string"==typeof e||qh(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var tp=xc?xc.prototype:void 0,np=tp?tp.toString:void 0;const ip=function e(t){if("string"==typeof t)return t;if(Qd(t))return Gh(t,e)+"";if(qh(t))return np?np.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};const rp=function(e){return null==e?"":ip(e)};const ap=function(e){return Qd(e)?Gh(e,ep):qh(e)?[e]:Lu($h(rp(e)))};var sp=n(219),op=n.n(sp);function lp(){return lp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},lp.apply(this,arguments)}function cp(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function dp(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function up(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var hp=(0,a.createContext)(void 0);hp.displayName="FormikContext";var pp=hp.Provider,mp=hp.Consumer;function fp(){var e=(0,a.useContext)(hp);return e||Hh(!1),e}var gp=function(e){return Array.isArray(e)&&0===e.length},_p=function(e){return"function"===typeof e},vp=function(e){return null!==e&&"object"===typeof e},bp=function(e){return String(Math.floor(Number(e)))===e},yp=function(e){return"[object String]"===Object.prototype.toString.call(e)},xp=function(e){return 0===a.Children.count(e)},wp=function(e){return vp(e)&&_p(e.then)};function Ep(e,t,n,i){void 0===i&&(i=0);for(var r=ap(t);e&&i<r.length;)e=e[r[i++]];return i===r.length||e?void 0===e?n:e:n}function Sp(e,t,n){for(var i=Wh(e),r=i,a=0,s=ap(t);a<s.length-1;a++){var o=s[a],l=Ep(e,s.slice(0,a+1));if(l&&(vp(l)||Array.isArray(l)))r=r[o]=Wh(l);else{var c=s[a+1];r=r[o]=bp(c)&&Number(c)>=0?[]:{}}}return(0===a?e:r)[s[a]]===n?e:(void 0===n?delete r[s[a]]:r[s[a]]=n,0===a&&void 0===n&&delete i[s[a]],i)}function Cp(e,t,n,i){void 0===n&&(n=new WeakMap),void 0===i&&(i={});for(var r=0,a=Object.keys(e);r<a.length;r++){var s=a[r],o=e[s];vp(o)?n.get(o)||(n.set(o,!0),i[s]=Array.isArray(o)?[]:{},Cp(o,t,n,i[s])):i[s]=t}return i}var Tp={},Np={};function Ap(e){var t=e.validateOnChange,n=void 0===t||t,i=e.validateOnBlur,r=void 0===i||i,s=e.validateOnMount,o=void 0!==s&&s,l=e.isInitialValid,c=e.enableReinitialize,d=void 0!==c&&c,u=e.onSubmit,h=dp(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),p=lp({validateOnChange:n,validateOnBlur:r,validateOnMount:o,onSubmit:u},h),m=(0,a.useRef)(p.initialValues),f=(0,a.useRef)(p.initialErrors||Tp),g=(0,a.useRef)(p.initialTouched||Np),_=(0,a.useRef)(p.initialStatus),v=(0,a.useRef)(!1),b=(0,a.useRef)({});(0,a.useEffect)(function(){return v.current=!0,function(){v.current=!1}},[]);var y=(0,a.useState)(0)[1],x=(0,a.useRef)({values:Bh(p.initialValues),errors:Bh(p.initialErrors)||Tp,touched:Bh(p.initialTouched)||Np,status:Bh(p.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),w=x.current,E=(0,a.useCallback)(function(e){var t=x.current;x.current=function(e,t){switch(t.type){case"SET_VALUES":return lp({},e,{values:t.payload});case"SET_TOUCHED":return lp({},e,{touched:t.payload});case"SET_ERRORS":return zh()(e.errors,t.payload)?e:lp({},e,{errors:t.payload});case"SET_STATUS":return lp({},e,{status:t.payload});case"SET_ISSUBMITTING":return lp({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return lp({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return lp({},e,{values:Sp(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return lp({},e,{touched:Sp(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return lp({},e,{errors:Sp(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return lp({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return lp({},e,{touched:Cp(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return lp({},e,{isSubmitting:!1});default:return e}}(t,e),t!==x.current&&y(function(e){return e+1})},[]),S=(0,a.useCallback)(function(e,t){return new Promise(function(n,i){var r=p.validate(e,t);null==r?n(Tp):wp(r)?r.then(function(e){n(e||Tp)},function(e){i(e)}):n(r)})},[p.validate]),C=(0,a.useCallback)(function(e,t){var n=p.validationSchema,i=_p(n)?n(t):n,r=t&&i.validateAt?i.validateAt(t,e):function(e,t,n,i){void 0===n&&(n=!1);var r=Rp(e);return t[n?"validateSync":"validate"](r,{abortEarly:!1,context:i||r})}(e,i);return new Promise(function(e,t){r.then(function(){e(Tp)},function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return Sp(t,e.path,e.message);var n=e.inner,i=Array.isArray(n),r=0;for(n=i?n:n[Symbol.iterator]();;){var a;if(i){if(r>=n.length)break;a=n[r++]}else{if((r=n.next()).done)break;a=r.value}var s=a;Ep(t,s.path)||(t=Sp(t,s.path,s.message))}}return t}(n)):t(n)})})},[p.validationSchema]),T=(0,a.useCallback)(function(e,t){return new Promise(function(n){return n(b.current[e].validate(t))})},[]),N=(0,a.useCallback)(function(e){var t=Object.keys(b.current).filter(function(e){return _p(b.current[e].validate)}),n=t.length>0?t.map(function(t){return T(t,Ep(e,t))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then(function(e){return e.reduce(function(e,n,i){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=Sp(e,t[i],n)),e},{})})},[T]),A=(0,a.useCallback)(function(e){return Promise.all([N(e),p.validationSchema?C(e):{},p.validate?S(e):{}]).then(function(e){var t=e[0],n=e[1],i=e[2];return _c.all([t,n,i],{arrayMerge:Ip})})},[p.validate,p.validationSchema,N,S,C]),k=jp(function(e){return void 0===e&&(e=w.values),E({type:"SET_ISVALIDATING",payload:!0}),A(e).then(function(e){return v.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:e})),e})});(0,a.useEffect)(function(){o&&!0===v.current&&zh()(m.current,p.initialValues)&&k(m.current)},[o,k]);var R=(0,a.useCallback)(function(e){var t=e&&e.values?e.values:m.current,n=e&&e.errors?e.errors:f.current?f.current:p.initialErrors||{},i=e&&e.touched?e.touched:g.current?g.current:p.initialTouched||{},r=e&&e.status?e.status:_.current?_.current:p.initialStatus;m.current=t,f.current=n,g.current=i,_.current=r;var a=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:i,status:r,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(p.onReset){var s=p.onReset(w.values,K);wp(s)?s.then(a):a()}else a()},[p.initialErrors,p.initialStatus,p.initialTouched,p.onReset]);(0,a.useEffect)(function(){!0!==v.current||zh()(m.current,p.initialValues)||d&&(m.current=p.initialValues,R(),o&&k(m.current))},[d,p.initialValues,R,o,k]),(0,a.useEffect)(function(){d&&!0===v.current&&!zh()(f.current,p.initialErrors)&&(f.current=p.initialErrors||Tp,E({type:"SET_ERRORS",payload:p.initialErrors||Tp}))},[d,p.initialErrors]),(0,a.useEffect)(function(){d&&!0===v.current&&!zh()(g.current,p.initialTouched)&&(g.current=p.initialTouched||Np,E({type:"SET_TOUCHED",payload:p.initialTouched||Np}))},[d,p.initialTouched]),(0,a.useEffect)(function(){d&&!0===v.current&&!zh()(_.current,p.initialStatus)&&(_.current=p.initialStatus,E({type:"SET_STATUS",payload:p.initialStatus}))},[d,p.initialStatus,p.initialTouched]);var I=jp(function(e){if(b.current[e]&&_p(b.current[e].validate)){var t=Ep(w.values,e),n=b.current[e].validate(t);return wp(n)?(E({type:"SET_ISVALIDATING",payload:!0}),n.then(function(e){return e}).then(function(t){E({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),E({type:"SET_ISVALIDATING",payload:!1})})):(E({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return p.validationSchema?(E({type:"SET_ISVALIDATING",payload:!0}),C(w.values,e).then(function(e){return e}).then(function(t){E({type:"SET_FIELD_ERROR",payload:{field:e,value:Ep(t,e)}}),E({type:"SET_ISVALIDATING",payload:!1})})):Promise.resolve()}),O=(0,a.useCallback)(function(e,t){var n=t.validate;b.current[e]={validate:n}},[]),j=(0,a.useCallback)(function(e){delete b.current[e]},[]),P=jp(function(e,t){return E({type:"SET_TOUCHED",payload:e}),(void 0===t?r:t)?k(w.values):Promise.resolve()}),D=(0,a.useCallback)(function(e){E({type:"SET_ERRORS",payload:e})},[]),L=jp(function(e,t){var i=_p(e)?e(w.values):e;return E({type:"SET_VALUES",payload:i}),(void 0===t?n:t)?k(i):Promise.resolve()}),M=(0,a.useCallback)(function(e,t){E({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})},[]),U=jp(function(e,t,i){return E({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===i?n:i)?k(Sp(w.values,e,t)):Promise.resolve()}),F=(0,a.useCallback)(function(e,t){var n,i=t,r=e;if(!yp(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,s=a.type,o=a.name,l=a.id,c=a.value,d=a.checked,u=(a.outerHTML,a.options),h=a.multiple;i=t||(o||l),r=/number|range/.test(s)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(s)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var i=[],r=!1,a=-1;if(Array.isArray(e))i=e,r=(a=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!r)return i.concat(n);if(!r)return i;return i.slice(0,a).concat(i.slice(a+1))}(Ep(w.values,i),d,c):u&&h?function(e){return Array.from(e).filter(function(e){return e.selected}).map(function(e){return e.value})}(u):c}i&&U(i,r)},[U,w.values]),B=jp(function(e){if(yp(e))return function(t){return F(t,e)};F(e)}),V=jp(function(e,t,n){return void 0===t&&(t=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?r:n)?k(w.values):Promise.resolve()}),z=(0,a.useCallback)(function(e,t){e.persist&&e.persist();var n=e.target,i=n.name,r=n.id,a=(n.outerHTML,t||(i||r));V(a,!0)},[V]),H=jp(function(e){if(yp(e))return function(t){return z(t,e)};z(e)}),W=(0,a.useCallback)(function(e){_p(e)?E({type:"SET_FORMIK_STATE",payload:e}):E({type:"SET_FORMIK_STATE",payload:function(){return e}})},[]),G=(0,a.useCallback)(function(e){E({type:"SET_STATUS",payload:e})},[]),q=(0,a.useCallback)(function(e){E({type:"SET_ISSUBMITTING",payload:e})},[]),Y=jp(function(){return E({type:"SUBMIT_ATTEMPT"}),k().then(function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=J()))return}catch(i){throw i}return Promise.resolve(n).then(function(e){return v.current&&E({type:"SUBMIT_SUCCESS"}),e}).catch(function(e){if(v.current)throw E({type:"SUBMIT_FAILURE"}),e})}if(v.current&&(E({type:"SUBMIT_FAILURE"}),t))throw e})}),X=jp(function(e){e&&e.preventDefault&&_p(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&_p(e.stopPropagation)&&e.stopPropagation(),Y().catch(function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)})}),K={resetForm:R,validateForm:k,validateField:I,setErrors:D,setFieldError:M,setFieldTouched:V,setFieldValue:U,setStatus:G,setSubmitting:q,setTouched:P,setValues:L,setFormikState:W,submitForm:Y},J=jp(function(){return u(w.values,K)}),Z=jp(function(e){e&&e.preventDefault&&_p(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&_p(e.stopPropagation)&&e.stopPropagation(),R()}),Q=(0,a.useCallback)(function(e){return{value:Ep(w.values,e),error:Ep(w.errors,e),touched:!!Ep(w.touched,e),initialValue:Ep(m.current,e),initialTouched:!!Ep(g.current,e),initialError:Ep(f.current,e)}},[w.errors,w.touched,w.values]),$=(0,a.useCallback)(function(e){return{setValue:function(t,n){return U(e,t,n)},setTouched:function(t,n){return V(e,t,n)},setError:function(t){return M(e,t)}}},[U,V,M]),ee=(0,a.useCallback)(function(e){var t=vp(e),n=t?e.name:e,i=Ep(w.values,n),r={name:n,value:i,onChange:B,onBlur:H};if(t){var a=e.type,s=e.value,o=e.as,l=e.multiple;"checkbox"===a?void 0===s?r.checked=!!i:(r.checked=!(!Array.isArray(i)||!~i.indexOf(s)),r.value=s):"radio"===a?(r.checked=i===s,r.value=s):"select"===o&&l&&(r.value=r.value||[],r.multiple=!0)}return r},[H,B,w.values]),te=(0,a.useMemo)(function(){return!zh()(m.current,w.values)},[m.current,w.values]),ne=(0,a.useMemo)(function(){return"undefined"!==typeof l?te?w.errors&&0===Object.keys(w.errors).length:!1!==l&&_p(l)?l(p):l:w.errors&&0===Object.keys(w.errors).length},[l,te,w.errors,p]);return lp({},w,{initialValues:m.current,initialErrors:f.current,initialTouched:g.current,initialStatus:_.current,handleBlur:H,handleChange:B,handleReset:Z,handleSubmit:X,resetForm:R,setErrors:D,setFormikState:W,setFieldTouched:V,setFieldValue:U,setFieldError:M,setStatus:G,setSubmitting:q,setTouched:P,setValues:L,submitForm:Y,validateForm:k,validateField:I,isValid:ne,dirty:te,unregisterField:j,registerField:O,getFieldProps:ee,getFieldMeta:Q,getFieldHelpers:$,validateOnBlur:r,validateOnChange:n,validateOnMount:o})}function kp(e){var t=Ap(e),n=e.component,i=e.children,r=e.render,s=e.innerRef;return(0,a.useImperativeHandle)(s,function(){return t}),(0,a.createElement)(pp,{value:t},n?(0,a.createElement)(n,t):r?r(t):i?_p(i)?i(t):xp(i)?null:a.Children.only(i):null)}function Rp(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=String(n);!0===Array.isArray(e[i])?t[i]=e[i].map(function(e){return!0===Array.isArray(e)||Fc(e)?Rp(e):""!==e?e:void 0}):Fc(e[i])?t[i]=Rp(e[i]):t[i]=""!==e[i]?e[i]:void 0}return t}function Ip(e,t,n){var i=e.slice();return t.forEach(function(t,r){if("undefined"===typeof i[r]){var a=!1!==n.clone&&n.isMergeableObject(t);i[r]=a?_c(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?i[r]=_c(e[r],t,n):-1===e.indexOf(t)&&i.push(t)}),i}var Op="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?a.useLayoutEffect:a.useEffect;function jp(e){var t=(0,a.useRef)(e);return Op(function(){t.current=e}),(0,a.useCallback)(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.current.apply(void 0,n)},[])}function Pp(e){var t=e.validate,n=e.name,i=e.render,r=e.children,s=e.as,o=e.component,l=e.className,c=dp(e,["validate","name","render","children","as","component","className"]),d=dp(fp(),["validate","validationSchema"]);var u=d.registerField,h=d.unregisterField;(0,a.useEffect)(function(){return u(n,{validate:t}),function(){h(n)}},[u,h,n,t]);var p=d.getFieldProps(lp({name:n},c)),m=d.getFieldMeta(n),f={field:p,form:d};if(i)return i(lp({},f,{meta:m}));if(_p(r))return r(lp({},f,{meta:m}));if(o){if("string"===typeof o){var g=c.innerRef,_=dp(c,["innerRef"]);return(0,a.createElement)(o,lp({ref:g},p,_,{className:l}),r)}return(0,a.createElement)(o,lp({field:p,form:d},c,{className:l}),r)}var v=s||"input";if("string"===typeof v){var b=c.innerRef,y=dp(c,["innerRef"]);return(0,a.createElement)(v,lp({ref:b},p,y,{className:l}),r)}return(0,a.createElement)(v,lp({},p,c,{className:l}),r)}var Dp=(0,a.forwardRef)(function(e,t){var n=e.action,i=dp(e,["action"]),r=null!=n?n:"#",s=fp(),o=s.handleReset,l=s.handleSubmit;return(0,a.createElement)("form",lp({onSubmit:l,ref:t,onReset:o,action:r},i))});function Lp(e){var t=function(t){return(0,a.createElement)(mp,null,function(n){return n||Hh(!1),(0,a.createElement)(e,lp({},t,{formik:n}))})},n=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+n+")",op()(t,e)}Dp.displayName="Form";var Mp=function(e,t,n){var i=Up(e);return i.splice(t,0,n),i},Up=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map(function(e){return parseInt(e)}).reduce(function(e,t){return t>e?t:e},0);return Array.from(lp({},e,{length:t+1}))}return[]},Fp=function(e,t){var n="function"===typeof e?e:t;return function(e){if(Array.isArray(e)||vp(e)){var t=Up(e);return n(t)}return e}},Bp=function(e){function t(t){var n;return(n=e.call(this,t)||this).updateArrayField=function(e,t,i){var r=n.props,a=r.name;(0,r.formik.setFormikState)(function(n){var r=Fp(i,e),s=Fp(t,e),o=Sp(n.values,a,e(Ep(n.values,a))),l=i?r(Ep(n.errors,a)):void 0,c=t?s(Ep(n.touched,a)):void 0;return gp(l)&&(l=void 0),gp(c)&&(c=void 0),lp({},n,{values:o,errors:i?Sp(n.errors,a,l):n.errors,touched:t?Sp(n.touched,a,c):n.touched})})},n.push=function(e){return n.updateArrayField(function(t){return[].concat(Up(t),[Bh(e)])},!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField(function(n){return function(e,t,n){var i=Up(e),r=i[t];return i[t]=i[n],i[n]=r,i}(n,e,t)},!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField(function(n){return function(e,t,n){var i=Up(e),r=i[t];return i.splice(t,1),i.splice(n,0,r),i}(n,e,t)},!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField(function(n){return Mp(n,e,t)},function(t){return Mp(t,e,null)},function(t){return Mp(t,e,null)})},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField(function(n){return function(e,t,n){var i=Up(e);return i[t]=n,i}(n,e,t)},!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField(function(n){var i=n?[e].concat(n):[e];return t=i.length,i},function(e){return e?[null].concat(e):[null]},function(e){return e?[null].concat(e):[null]}),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(up(n)),n.pop=n.pop.bind(up(n)),n}cp(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!zh()(Ep(e.formik.values,e.name),Ep(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(e){var t;return this.updateArrayField(function(n){var i=n?Up(n):[];return t||(t=i[e]),_p(i.splice)&&i.splice(e,1),_p(i.every)&&i.every(function(e){return void 0===e})?[]:i},!0,!0),t},n.pop=function(){var e;return this.updateArrayField(function(t){var n=t.slice();return e||(e=n&&n.pop&&n.pop()),n},!0,!0),e},n.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,n=t.component,i=t.render,r=t.children,s=t.name,o=lp({},e,{form:dp(t.formik,["validate","validationSchema"]),name:s});return n?(0,a.createElement)(n,o):i?i(o):r?"function"===typeof r?r(o):xp(r)?null:a.Children.only(r):null},t}(a.Component);Bp.defaultProps={validateOnChange:!0};var Vp=Lp(Bp),zp=function(e){function t(){return e.apply(this,arguments)||this}cp(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){return Ep(this.props.formik.errors,this.props.name)!==Ep(e.formik.errors,this.props.name)||Ep(this.props.formik.touched,this.props.name)!==Ep(e.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(e).length},n.render=function(){var e=this.props,t=e.component,n=e.formik,i=e.render,r=e.children,s=e.name,o=dp(e,["component","formik","render","children","name"]),l=Ep(n.touched,s),c=Ep(n.errors,s);return l&&c?i?_p(i)?i(c):null:r?_p(r)?r(c):null:t?(0,a.createElement)(t,o,c):c:null},t}(a.Component),Hp=Lp(zp);const Wp="admin/auth";function Gp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}var qp={read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};var Yp=function e(t,n){function i(e,i,r){if("undefined"!==typeof document){"number"===typeof(r=Gp({},n,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in r)r[s]&&(a+="; "+s,!0!==r[s]&&(a+="="+r[s].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+a}}return Object.create({set:i,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],i={},r=0;r<n.length;r++){var a=n[r].split("="),s=a.slice(1).join("=");try{var o=decodeURIComponent(a[0]);if(i[o]=t.read(s,o),e===o)break}catch(ZV){}}return e?i[e]:i}},remove:function(e,t){i(e,"",Gp({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,Gp({},this.attributes,t))},withConverter:function(t){return e(Gp({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}(qp,{path:"/"});const Xp=()=>{const[e,t]=(0,a.useState)(!0),[n,i]=(0,a.useState)(!1),r=(0,a.useRef)(null),{t:s}=As();(0,a.useEffect)(()=>{const e=Yp.get("email"),t=Yp.get("password");var n,i;e&&(null===r||void 0===r||null===(n=r.current)||void 0===n||n.setFieldValue("email",e));t&&(null===r||void 0===r||null===(i=r.current)||void 0===i||i.setFieldValue("password",t))},[]);const o=()=>{t(!e)};function l(e){console.log(e.target.checked),e.target.checked?ts("remember-me","true"):(is("remember-me"),Yp.remove("email"),Yp.remove("password"))}return(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsx)(kp,{initialValues:{email:"",password:""},innerRef:r,validate:e=>{const t={};if(e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email=s("validation_err_invalid_email")):t.email=s("label_email_error"),e.password){let n=e.password.trim();0===n.length?t.password=s("validation_password_required"):n.length<Rs.PASSWORD_MIN_LENGTH&&(t.password=s("msg_validation_password_length"))}else t.password=s("validation_password_required");return t},onSubmit:(e,t)=>{let{setSubmitting:n}=t;i(!0);let r=new FormData;r.append("email",e.email),r.append("password",e.password),(async e=>await oc().post("".concat(Wp,"/login"),e))(r).then(t=>{if(i(!1),t.success){var n;if("true"===ns("remember-me"))Yp.set("email",null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.email,{expires:Rs.COOKIES_EXPIRATION}),Yp.set("password",e.password,{expires:Rs.COOKIES_EXPIRATION});else Yp.remove("email"),Yp.remove("password");Za(Rs.ROLE.SUPER_ADMIN,JSON.stringify(t.data)),zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),hs({successURL:"/admin/dashboard",role:Rs.ROLE.SUPER_ADMIN})}else zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error: ",e)})},children:t=>{let{values:i,errors:r,touched:a,handleChange:c,handleBlur:d,handleSubmit:u,isSubmitting:h}=t;return(0,Pa.jsx)("div",{className:"page main-signin-wrapper",children:(0,Pa.jsx)("div",{className:"innerbody",children:(0,Pa.jsx)("div",{className:"row signpages text-center",children:(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsx)("div",{className:"card",children:(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsx)("div",{className:"col-lg-6 col-xl-5 d-none d-lg-block text-center bg-primary details",children:(0,Pa.jsxs)("div",{className:"m-5 p-5 pos-absolute",children:[(0,Pa.jsx)("img",{src:js,alt:"logo"}),(0,Pa.jsx)("div",{className:"clearfix"}),(0,Pa.jsx)("h5",{className:"mt-4 text-white",children:s("login_your_account")})]})}),(0,Pa.jsx)("div",{className:"col-lg-6 col-xl-7 col-xs-12 col-sm-12 login_form ",children:(0,Pa.jsx)("div",{className:"container-fluid",children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsxs)("div",{className:"card-body mt-2 mb-2",children:[(0,Pa.jsx)("div",{className:"clearfix"}),(0,Pa.jsxs)("form",{onSubmit:u,children:[(0,Pa.jsx)("h5",{className:"text-left mb-2",children:s("signin_our_account")}),(0,Pa.jsxs)("div",{className:"form-group text-left",children:[(0,Pa.jsx)("label",{children:s("label_email")}),(0,Pa.jsx)("input",{className:"form-control"+(r.email&&a.email?" is-invalid state-invalid":""),placeholder:s("placeholder_email"),type:"email",name:"email",onChange:c,onBlur:d,value:i.email,autoComplete:"off"}),(0,Pa.jsx)("span",{className:"text-danger text-left d-blockerr-spn",children:r.email&&a.email&&r.email})]}),(0,Pa.jsxs)("div",{className:"form-group text-left",children:[(0,Pa.jsx)("label",{children:s("label_password")}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{className:"form-control"+(r.password&&a.password?" is-invalid state-invalid":""),placeholder:s("placeholder_password"),type:!0===!e?"text":"password",name:"password",onChange:c,onBlur:d,value:i.password,autoComplete:"off"}),(0,Pa.jsx)("span",{className:"input-group-text cp",onClick:o,children:!0===!e?(0,Pa.jsx)("i",{className:"far fa-eye-slash"}):(0,Pa.jsx)("i",{className:"far fa-eye"})})]}),(0,Pa.jsx)("span",{className:"text-danger text-left d-block err-spn",children:r.password&&a.password&&r.password})]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-main-primary btn-block signbtn"+(!0===n?" disabled":""),type:"submit",children:[!0===n?(0,Pa.jsx)("div",{className:"spinner-border mt-2 text-white",role:"status",style:{height:"15px",width:"15px",marginRight:"15px"},children:(0,Pa.jsx)("span",{className:"sr-only ",children:s("loading")})}):"",s("sign_in")]})]}),(0,Pa.jsxs)("div",{className:"form-check mt-4 text-left ml-0",children:[(0,Pa.jsx)("input",{type:"checkbox",id:"remember-me",className:"form-check-input question-required cp",value:"true",defaultChecked:(Yp.get("username"),Yp.get("password")),onChange:l}),(0,Pa.jsx)("label",{className:"form-check-label cp",htmlFor:"remember-me",children:s("remember_me")})]}),(0,Pa.jsx)("div",{className:"text-left mt-4 ml-0",children:(0,Pa.jsx)("div",{className:"mb-1",children:(0,Pa.jsxs)(qt,{to:"/admin/forget-password",children:[s("forgot_password"),"?"]})})})]})})})})]})})})})})})}})})},Kp=e=>{let{component:t}=e;const n=Xa(Rs.ROLE.SUPER_ADMIN);return(0,Pa.jsx)(Pa.Fragment,{children:Object.keys(n).length&&n.token?(0,Pa.jsx)(t,{}):(us(Rs.ROLE.SUPER_ADMIN),(0,Pa.jsx)(St,{to:"/admin/login"}))})},Jp=e=>{let{component:t}=e;const n=bn(e=>e.globalLoader),i=Qa(Rs.ROLE.SUPER_ADMIN)?JSON.parse(Qa(Rs.ROLE.SUPER_ADMIN)):{};return(0,Pa.jsx)(Pa.Fragment,{children:null!==i&&void 0!==i&&i.token?(0,Pa.jsx)(St,{to:{pathname:"/admin/dashboard"}}):n?(0,Pa.jsx)(Ds,{}):(0,Pa.jsx)(t,{})})};const Zp=function(e){const t=e.data&&e.data.length>0?e.data:[];return(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsx)("nav",{className:"breadcrumb-5",children:(0,Pa.jsx)("div",{className:"breadcrumb flat ps-0 pt-0",children:t.map((e,t)=>(0,Pa.jsx)(qt,{to:e.url,className:""===e.url?"active disableclick":"",children:e.title},t))})})})},Qp=()=>{const{t:e}=As(),t=at(),n=(0,a.useRef)(null),i=gn(),[r,s]=(0,a.useState)(""),[o,l]=(0,a.useState)(""),c=[{title:e("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:e("sidebar_link_user_profile"),url:""}];(0,a.useEffect)(()=>{var e;const t=Xa(Rs.ROLE.SUPER_ADMIN),n=null===t||void 0===t||null===(e=t.name)||void 0===e?void 0:e.slice(0,50);s(n),l(null===t||void 0===t?void 0:t.profile_image)},[]);return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:c}),(0,Pa.jsx)("div",{className:"row square",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"panel profile-cover",children:[(0,Pa.jsxs)("div",{className:"profile-cover__img",onClick:()=>{n.current.click()},children:[(0,Pa.jsx)("input",{style:{display:"none"},ref:n,id:"profileimage",type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0],n=Xa();l(t?URL.createObjectURL(t):n.profile_image),i(cr(t))}}),(0,Pa.jsxs)("div",{className:"profileimgraper cp",style:{height:"120px",width:"120px"},children:[(0,Pa.jsx)("div",{className:"profileediticon",children:(0,Pa.jsx)("i",{className:"fa fa-pencil-square"})}),(0,Pa.jsx)("img",{src:o,alt:"img"})]}),(0,Pa.jsx)("h3",{className:"h3 text-capitalize",children:r})]}),(0,Pa.jsx)("div",{className:"profile-cover__action bg-img",style:{backgroundImage:"url(".concat(o,")"),backgroundRepeat:"cover"}})]}),(0,Pa.jsx)("div",{className:"pt-5"}),(0,Pa.jsx)("div",{className:"profile-tab tab-menu-heading mt-5",children:(0,Pa.jsxs)("nav",{className:"nav main-nav-line p-3 tabs-menu profile-nav-line bg-gray-100",children:[(0,Pa.jsx)(qt,{className:"nav-link linkactive"+(t.pathname.includes("edit")?" active":""),to:"edit/".concat("1"),children:e("general")}),(0,Pa.jsx)(qt,{className:"nav-link linkactive"+(t.pathname.includes("change-password")?" active":""),to:"change-password/".concat("1"),children:e("change_password")})]})}),(0,Pa.jsx)(Ct,{})]})})})})]})},$p={role:Rs.ROLE.SUPER_ADMIN},em="admin/user",tm=async e=>await oc($p).get("".concat(em,"/details?o_id=").concat(e));var nm=n(4575),im=n(1517),rm=n(8704),am=n.n(rm);const sm=Object.prototype.toString,om=Error.prototype.toString,lm=RegExp.prototype.toString,cm="undefined"!==typeof Symbol?Symbol.prototype.toString:()=>"",dm=/^Symbol\((.*)\)(.*)$/;function um(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;const n=typeof e;if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?'"'.concat(e,'"'):e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return cm.call(e).replace(dm,"Symbol($1)");const i=sm.call(e).slice(8,-1);return"Date"===i?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===i||e instanceof Error?"["+om.call(e)+"]":"RegExp"===i?lm.call(e):null}function hm(e,t){let n=um(e,t);return null!==n?n:JSON.stringify(e,function(e,n){let i=um(this[e],t);return null!==i?i:n},2)}function pm(e){return null==e?[]:[].concat(e)}let mm,fm,gm,_m=/\$\{\s*(\w+)\s*\}/g;mm=Symbol.toStringTag;class vm{constructor(e,t,n,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[mm]="Error",this.name="ValidationError",this.value=t,this.path=n,this.type=i,this.errors=[],this.inner=[],pm(e).forEach(e=>{if(bm.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)}),this.message=this.errors.length>1?"".concat(this.errors.length," errors occurred"):this.errors[0]}}fm=Symbol.hasInstance,gm=Symbol.toStringTag;class bm extends Error{static formatError(e,t){const n=t.label||t.path||"this";return t=Object.assign({},t,{path:n,originalPath:t.path}),"string"===typeof e?e.replace(_m,(e,n)=>hm(t[n])):"function"===typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,n,i,r){const a=new vm(e,t,n,i);if(r)return a;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[gm]="Error",this.name=a.name,this.message=a.message,this.type=a.type,this.value=a.value,this.path=a.path,this.errors=a.errors,this.inner=a.inner,Error.captureStackTrace&&Error.captureStackTrace(this,bm)}static[fm](e){return vm[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let ym={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:e=>{let{path:t,type:n,value:i,originalValue:r}=e;const a=null!=r&&r!==i?" (cast from the value `".concat(hm(r,!0),"`)."):".";return"mixed"!==n?"".concat(t," must be a `").concat(n,"` type, ")+"but the final value was: `".concat(hm(i,!0),"`")+a:"".concat(t," must match the configured type. ")+"The validated value was: `".concat(hm(i,!0),"`")+a}},xm={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},wm={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Em={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Sm={isValue:"${path} field must be ${value}"},Cm={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},Tm={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Nm={notType:e=>{const{path:t,value:n,spec:i}=e,r=i.types.length;if(Array.isArray(n)){if(n.length<r)return"".concat(t," tuple value has too few items, expected a length of ").concat(r," but got ").concat(n.length," for value: `").concat(hm(n,!0),"`");if(n.length>r)return"".concat(t," tuple value has too many items, expected a length of ").concat(r," but got ").concat(n.length," for value: `").concat(hm(n,!0),"`")}return bm.formatError(ym.notType,e)}};Object.assign(Object.create(null),{mixed:ym,string:xm,number:wm,date:Em,object:Cm,array:Tm,boolean:Sm,tuple:Nm});const Am=e=>e&&e.__isYupSchema__;class km{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:i,otherwise:r}=t,a="function"===typeof n?n:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.every(e=>e===n)};return new km(e,(e,t)=>{var n;let s=a(...e)?i:r;return null!=(n=null==s?void 0:s(t))?n:t})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let n=this.refs.map(e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)),i=this.fn(n,e,t);if(void 0===i||i===e)return e;if(!Am(i))throw new TypeError("conditions must return a schema object");return i.resolve(t)}}const Rm="$",Im=".";function Om(e,t){return new jm(e,t)}class jm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Rm,this.isValue=this.key[0]===Im,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?Rm:this.isValue?Im:"";this.path=this.key.slice(n.length),this.getter=this.path&&(0,nm.getter)(this.path,!0),this.map=t.map}getValue(e,t,n){let i=this.isContext?n:this.isValue?e:t;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return"Ref(".concat(this.key,")")}static isRef(e){return e&&e.__isYupRef}}jm.prototype.__isYupRef=!0;const Pm=e=>null==e;function Dm(e){function t(t,n,i){let{value:r,path:a="",options:s,originalValue:o,schema:l}=t;const{name:c,test:d,params:u,message:h,skipAbsent:p}=e;let{parent:m,context:f,abortEarly:g=l.spec.abortEarly,disableStackTrace:_=l.spec.disableStackTrace}=s;const v={value:r,parent:m,context:f};function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Lm(Object.assign({value:r,originalValue:o,label:l.spec.label,path:e.path||a,spec:l.spec,disableStackTrace:e.disableStackTrace||_},u,e.params),v),n=new bm(bm.formatError(e.message||h,t),r,t.path,e.type||c,t.disableStackTrace);return n.params=t,n}const y=g?n:i;let x={path:a,parent:m,type:c,from:s.from,createError:b,resolve:e=>Mm(e,v),options:s,originalValue:o,schema:l};const w=e=>{bm.isError(e)?y(e):e?i(null):y(b())},E=e=>{bm.isError(e)?y(e):n(e)};if(p&&Pm(r))return w(!0);let S;try{var C;if(S=d.call(x,r,x),"function"===typeof(null==(C=S)?void 0:C.then)){if(s.sync)throw new Error('Validation test of type: "'.concat(x.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned");return Promise.resolve(S).then(w,E)}}catch(T){return void E(T)}w(S)}return t.OPTIONS=e,t}function Lm(e,t){if(!e)return e;for(const n of Object.keys(e))e[n]=Mm(e[n],t);return e}function Mm(e,t){return jm.isRef(e)?e.getValue(t.value,t.parent,t.context):e}function Um(e,t,n){let i,r,a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return t?((0,nm.forEach)(t,(o,l,c)=>{let d=l?o.slice(1,o.length-1):o,u="tuple"===(e=e.resolve({context:s,parent:i,value:n})).type,h=c?parseInt(d,10):0;if(e.innerType||u){if(u&&!c)throw new Error('Yup.reach cannot implicitly index into a tuple type. the path part "'.concat(a,'" must contain an index to the tuple element, e.g. "').concat(a,'[0]"'));if(n&&h>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(o,", in the path: ").concat(t,". ")+"because there is no value at that index. ");i=n,n=n&&n[h],e=u?e.spec.types[h]:e.innerType}if(!c){if(!e.fields||!e.fields[d])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(a,' which is a type: "').concat(e.type,'")'));i=n,n=n&&n[d],e=e.fields[d]}r=d,a=l?"["+o+"]":"."+o}),{schema:e,parent:i,parentPath:r}):{parent:i,parentPath:t,schema:e}}class Fm extends Set{describe(){const e=[];for(const t of this.values())e.push(jm.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const n of this.values())t.push(e(n));return t}clone(){return new Fm(this.values())}merge(e,t){const n=this.clone();return e.forEach(e=>n.add(e)),t.forEach(e=>n.delete(e)),n}}function Bm(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;if(Am(e)||!e||"object"!==typeof e)return e;if(n.has(e))return n.get(e);if(e instanceof Date)t=new Date(e.getTime()),n.set(e,t);else if(e instanceof RegExp)t=new RegExp(e),n.set(e,t);else if(Array.isArray(e)){t=new Array(e.length),n.set(e,t);for(let i=0;i<e.length;i++)t[i]=Bm(e[i],n)}else if(e instanceof Map){t=new Map,n.set(e,t);for(const[i,r]of e.entries())t.set(i,Bm(r,n))}else if(e instanceof Set){t=new Set,n.set(e,t);for(const i of e)t.add(Bm(i,n))}else{if(!(e instanceof Object))throw Error("Unable to clone ".concat(e));t={},n.set(e,t);for(const[i,r]of Object.entries(e))t[i]=Bm(r,n)}return t}function Vm(e){if(null==e||!e.length)return;const t=[];let n="",i=!1,r=!1;for(let a=0;a<e.length;a++){const s=e[a];"["!==s||r?"]"!==s||r?'"'!==s?"."!==s||i||r?n+=s:n&&(t.push(n),n=""):r=!r:(n&&(/^\d+$/.test(n)?t.push(n):t.push(n.replace(/^"|"$/g,"")),n=""),i=!1):(n&&(t.push(...n.split(".").filter(Boolean)),n=""),i=!0)}return n&&t.push(...n.split(".").filter(Boolean)),t}function zm(e,t){var n;if((null==(n=e.inner)||!n.length)&&e.errors.length)return function(e,t){const n=t?"".concat(t,".").concat(e.path):e.path;return e.errors.map(e=>({message:e,path:Vm(n)}))}(e,t);const i=t?"".concat(t,".").concat(e.path):e.path;return e.inner.flatMap(e=>zm(e,i))}class Hm{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Fm,this._blacklist=new Fm,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ym.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation(e=>{e.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Bm(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(){if(0===arguments.length)return this.spec.meta;let e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));let t=this,n=e.clone();const i=Object.assign({},t.spec,n.spec);return n.spec=i,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation(t=>{e.tests.forEach(e=>{t.test(e.OPTIONS)})}),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce((t,n)=>n.resolve(t,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,n,i,r;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(n=e.abortEarly)?n:this.spec.abortEarly,recursive:null!=(i=e.recursive)?i:this.spec.recursive,disableStackTrace:null!=(r=e.disableStackTrace)?r:this.spec.disableStackTrace})}cast(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resolve(Object.assign({},t,{value:e})),i="ignore-optionality"===t.assert,r=n._cast(e,t);if(!1!==t.assert&&!n.isType(r)){if(i&&Pm(r))return r;let a=hm(e),s=hm(r);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(n.type,'". \n\n')+"attempted value: ".concat(a," \n")+(s!==a?"result of cast: ".concat(s):""))}return r}_cast(e,t){let n=void 0===e?e:this.transforms.reduce((n,i)=>i.call(this,n,e,this,t),e);return void 0===n&&(n=this.getDefault(t)),n}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,{path:r,originalValue:a=e,strict:s=this.spec.strict}=t,o=e;s||(o=this._cast(o,Object.assign({assert:!1},t)));let l=[];for(let c of Object.values(this.internalTests))c&&l.push(c);this.runTests({path:r,value:o,originalValue:a,options:t,tests:l},n,e=>{if(e.length)return i(e,o);this.runTests({path:r,value:o,originalValue:a,options:t,tests:this.tests},n,i)})}runTests(e,t,n){let i=!1,{tests:r,value:a,originalValue:s,path:o,options:l}=e,c=e=>{i||(i=!0,t(e,a))},d=e=>{i||(i=!0,n(e,a))},u=r.length,h=[];if(!u)return d([]);let p={value:a,originalValue:s,path:o,options:l,schema:this};for(let m=0;m<r.length;m++){(0,r[m])(p,c,function(e){e&&(Array.isArray(e)?h.push(...e):h.push(e)),--u<=0&&d(h)})}}asNestedTest(e){let{key:t,index:n,parent:i,parentPath:r,originalParent:a,options:s}=e;const o=null!=t?t:n;if(null==o)throw TypeError("Must include `key` or `index` for nested validations");const l="number"===typeof o;let c=i[o];const d=Object.assign({},s,{strict:!0,parent:i,value:c,originalValue:a[o],key:void 0,[l?"index":"key"]:o,path:l||o.includes(".")?"".concat(r||"","[").concat(l?o:'"'.concat(o,'"'),"]"):(r?"".concat(r,"."):"")+t});return(e,t,n)=>this.resolve(d)._validate(c,d,t,n)}validate(e,t){var n;let i=this.resolve(Object.assign({},t,{value:e})),r=null!=(n=null==t?void 0:t.disableStackTrace)?n:i.spec.disableStackTrace;return new Promise((n,a)=>i._validate(e,t,(e,t)=>{bm.isError(e)&&(e.value=t),a(e)},(e,t)=>{e.length?a(new bm(e,t,void 0,void 0,r)):n(t)}))}validateSync(e,t){var n;let i,r=this.resolve(Object.assign({},t,{value:e})),a=null!=(n=null==t?void 0:t.disableStackTrace)?n:r.spec.disableStackTrace;return r._validate(e,Object.assign({},t,{sync:!0}),(e,t)=>{throw bm.isError(e)&&(e.value=t),e},(t,n)=>{if(t.length)throw new bm(t,e,void 0,void 0,a);i=n}),i}isValid(e,t){return this.validate(e,t).then(()=>!0,e=>{if(bm.isError(e))return!1;throw e})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(n){if(bm.isError(n))return!1;throw n}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"===typeof t?t.call(this,e):Bm(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.clone({strict:e})}nullability(e,t){const n=this.clone({nullable:e});return n.internalTests.nullable=Dm({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),n}optionality(e,t){const n=this.clone({optional:e});return n.internalTests.optionality=Dm({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),n}optional(){return this.optionality(!0)}defined(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ym.defined;return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ym.notNull;return this.nullability(!1,e)}required(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ym.required;return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(){let e;if(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]},void 0===e.message&&(e.message=ym.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");let t=this.clone(),n=Dm(e),i=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter(t=>{if(t.OPTIONS.name===e.name){if(i)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0}),t.tests.push(n),t}when(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");let n=this.clone(),i=pm(e).map(e=>new jm(e));return i.forEach(e=>{e.isSibling&&n.deps.push(e.key)}),n.conditions.push("function"===typeof t?new km(i,t):km.fromOptions(i,t)),n}typeError(e){let t=this.clone();return t.internalTests.typeError=Dm({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ym.oneOf,n=this.clone();return e.forEach(e=>{n._whitelist.add(e),n._blacklist.delete(e)}),n.internalTests.whiteList=Dm({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}notOneOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ym.notOneOf,n=this.clone();return e.forEach(e=>{n._blacklist.add(e),n._whitelist.delete(e)}),n.internalTests.blacklist=Dm({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}strip(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:n,meta:i,optional:r,nullable:a}=t.spec,s={meta:i,label:n,optional:r,nullable:a,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.filter((e,t,n)=>n.findIndex(t=>t.OPTIONS.name===e.OPTIONS.name)===t).map(t=>{const n=t.OPTIONS.params&&e?Lm(Object.assign({},t.OPTIONS.params),e):t.OPTIONS.params;return{name:t.OPTIONS.name,params:n}})};return s}get"~standard"(){const e=this,t={version:1,vendor:"yup",async validate(t){try{return{value:await e.validate(t,{abortEarly:!1})}}catch(n){if(n instanceof bm)return{issues:zm(n)};throw n}}};return t}}Hm.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])Hm.prototype["".concat(n,"At")]=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{parent:r,parentPath:a,schema:s}=Um(this,e,t,i.context);return s[n](r&&r[a],Object.assign({},i,{parent:r,path:e}))};for(const n of["equals","is"])Hm.prototype[n]=Hm.prototype.oneOf;for(const n of["not","nope"])Hm.prototype[n]=Hm.prototype.notOneOf;const Wm=()=>!0;function Gm(e){return new qm(e)}class qm extends Hm{constructor(e){super("function"===typeof e?{type:"mixed",check:e}:Object.assign({type:"mixed",check:Wm},e))}}Gm.prototype=qm.prototype;class Ym extends Hm{constructor(){super({type:"boolean",check:e=>(e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e)}),this.withMutation(()=>{this.transform((e,t)=>{if(this.spec.coerce&&!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sm.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:e=>Pm(e)||!0===e})}isFalse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sm.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:e=>Pm(e)||!1===e})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Ym.prototype;const Xm=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Km(e){var t,n;const i=Xm.exec(e);return i?{year:Jm(i[1]),month:Jm(i[2],1)-1,day:Jm(i[3],1),hour:Jm(i[4]),minute:Jm(i[5]),second:Jm(i[6]),millisecond:i[7]?Jm(i[7].substring(0,3)):0,precision:null!=(t=null==(n=i[7])?void 0:n.length)?t:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:Jm(i[10]),minuteOffset:Jm(i[11])}:null}function Jm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Number(e)||t}let Zm=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Qm=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,$m=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ef=new RegExp("".concat("^\\d{4}-\\d{2}-\\d{2}","T").concat("\\d{2}:\\d{2}:\\d{2}","(\\.\\d+)?").concat("(([+-]\\d{2}(:?\\d{2})?)|Z)","$")),tf=e=>Pm(e)||e===e.trim(),nf={}.toString();function rf(){return new af}class af extends Hm{constructor(){super({type:"string",check:e=>(e instanceof String&&(e=e.valueOf()),"string"===typeof e)}),this.withMutation(()=>{this.transform((e,t)=>{if(!this.spec.coerce||this.isType(e))return e;if(Array.isArray(e))return e;const n=null!=e&&e.toString?e.toString():e;return n===nf?e:n})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||ym.required,name:"required",skipAbsent:!0,test:e=>!!e.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(e=>"required"!==e.OPTIONS.name),e))}length(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xm.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xm.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xm.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let n,i,r=!1;return t&&("object"===typeof t?({excludeEmptyString:r=!1,message:n,name:i}=t):n=t),this.test({name:i||"matches",message:n||xm.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&r||-1!==t.search(e)})}email(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xm.email;return this.matches(Zm,{name:"email",message:e,excludeEmptyString:!0})}url(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xm.url;return this.matches(Qm,{name:"url",message:e,excludeEmptyString:!0})}uuid(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xm.uuid;return this.matches($m,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,n,i="";return e&&("object"===typeof e?({message:i="",allowOffset:t=!1,precision:n}=e):i=e),this.matches(ef,{name:"datetime",message:i||xm.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:i||xm.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const n=Km(e);return!!n&&!!n.z}}).test({name:"datetime_precision",message:i||xm.datetime_precision,params:{precision:n},skipAbsent:!0,test:e=>{if(!e||void 0==n)return!0;const t=Km(e);return!!t&&t.precision===n}})}ensure(){return this.default("").transform(e=>null===e?"":e)}trim(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xm.trim;return this.transform(e=>null!=e?e.trim():e).test({message:e,name:"trim",test:tf})}lowercase(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xm.lowercase;return this.transform(e=>Pm(e)?e:e.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Pm(e)||e===e.toLowerCase()})}uppercase(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xm.uppercase;return this.transform(e=>Pm(e)?e:e.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Pm(e)||e===e.toUpperCase()})}}rf.prototype=af.prototype;function sf(){return new of}class of extends Hm{constructor(){super({type:"number",check:e=>(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!(e=>e!=+e)(e))}),this.withMutation(()=>{this.transform((e,t)=>{if(!this.spec.coerce)return e;let n=e;if("string"===typeof n){if(n=n.replace(/\s/g,""),""===n)return NaN;n=+n}return this.isType(n)||null===n?n:parseFloat(n)})})}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wm.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t>=this.resolve(e)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wm.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t<=this.resolve(e)}})}lessThan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wm.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(t){return t<this.resolve(e)}})}moreThan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wm.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(t){return t>this.resolve(e)}})}positive(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wm.positive;return this.moreThan(0,e)}negative(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wm.negative;return this.lessThan(0,e)}integer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wm.integer;return this.test({name:"integer",message:e,skipAbsent:!0,test:e=>Number.isInteger(e)})}truncate(){return this.transform(e=>Pm(e)?e:0|e)}round(e){var t;let n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(t=>Pm(t)?t:Math[e](t))}}sf.prototype=of.prototype;let lf=new Date("");function cf(){return new df}class df extends Hm{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation(()=>{this.transform((e,t)=>!this.spec.coerce||this.isType(e)||null===e?e:(e=function(e){const t=Km(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(n=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}(e),isNaN(e)?df.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let n;if(jm.isRef(e))n=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));n=i}return n}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em.min,n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(n)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Em.max,n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(n)}})}}function uf(e,t){let n=1/0;return e.some((e,i)=>{var r;if(null!=(r=t.path)&&r.includes(e))return n=i,!0}),n}function hf(e){return(t,n)=>uf(e,t)-uf(e,n)}df.INVALID_DATE=lf,cf.prototype=df.prototype,cf.INVALID_DATE=lf;const pf=(e,t,n)=>{if("string"!==typeof e)return e;let i=e;try{i=JSON.parse(e)}catch(r){}return n.isType(i)?i:e};function mf(e){if("fields"in e){const t={};for(const[n,i]of Object.entries(e.fields))t[n]=mf(i);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=mf(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(mf)}):"optional"in e?e.optional():e}let ff=e=>"[object Object]"===Object.prototype.toString.call(e);function gf(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(e=>-1===n.indexOf(e))}const _f=hf([]);function vf(e){return new bf(e)}class bf extends Hm{constructor(e){super({type:"object",check:e=>ff(e)||"function"===typeof e}),this.fields=Object.create(null),this._sortErrors=_f,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;let i=super._cast(e,t);if(void 0===i)return this.getDefault(t);if(!this._typeCheck(i))return i;let r=this.fields,a=null!=(n=t.stripUnknown)?n:this.spec.noUnknown,s=[].concat(this._nodes,Object.keys(i).filter(e=>!this._nodes.includes(e))),o={},l=Object.assign({},t,{parent:o,__validating:t.__validating||!1}),c=!1;for(const d of s){let e=r[d],n=d in i,s=i[d];if(e){let n;l.path=(t.path?"".concat(t.path,"."):"")+d,e=e.resolve({value:s,context:t.context,parent:o});let r=e instanceof Hm?e.spec:void 0,a=null==r?void 0:r.strict;if(null!=r&&r.strip){c=c||d in i;continue}n=t.__validating&&a?s:e.cast(s,l),void 0!==n&&(o[d]=n)}else n&&!a&&(o[d]=s);n===d in o&&o[d]===s||(c=!0)}return c?o:i}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,{from:r=[],originalValue:a=e,recursive:s=this.spec.recursive}=t;t.from=[{schema:this,value:a},...r],t.__validating=!0,t.originalValue=a,super._validate(e,t,n,(e,r)=>{if(!s||!ff(r))return void i(e,r);a=a||r;let o=[];for(let n of this._nodes){let e=this.fields[n];e&&!jm.isRef(e)&&o.push(e.asNestedTest({options:t,key:n,parent:r,parentPath:t.path,originalParent:a}))}this.runTests({tests:o,value:r,originalValue:a,options:t},n,t=>{i(t.sort(this._sortErrors).concat(e),r)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[i,r]of Object.entries(this.fields)){const e=n[i];n[i]=void 0===e?r:e}return t.withMutation(t=>t.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(n=>{var i;const r=this.fields[n];let a=e;null!=(i=a)&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[n]})),t[n]=r&&"getDefault"in r?r.getDefault(a):void 0}),t}setFields(e,t){let n=this.clone();return n.fields=e,n._nodes=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],i=new Set,r=new Set(t.map(e=>{let[t,n]=e;return"".concat(t,"-").concat(n)}));function a(e,t){let a=(0,nm.split)(e)[0];i.add(a),r.has("".concat(t,"-").concat(a))||n.push([t,a])}for(const s of Object.keys(e)){let t=e[s];i.add(s),jm.isRef(t)&&t.isSibling?a(t.path,s):Am(t)&&"deps"in t&&t.deps.forEach(e=>a(e,s))}return am().array(Array.from(i),n).reverse()}(e,t),n._sortErrors=hf(Object.keys(e)),t&&(n._excludedEdges=t),n}shape(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.clone().withMutation(n=>{let i=n._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),i=[...n._excludedEdges,...t]),n.setFields(Object.assign(n.fields,e),i)})}partial(){const e={};for(const[t,n]of Object.entries(this.fields))e[t]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return mf(this)}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.setFields(t,this._excludedEdges.filter(t=>{let[n,i]=t;return e.includes(n)&&e.includes(i)}))}omit(e){const t=[];for(const n of Object.keys(this.fields))e.includes(n)||t.push(n);return this.pick(t)}from(e,t,n){let i=(0,nm.getter)(e,!0);return this.transform(r=>{if(!r)return r;let a=r;return((e,t)=>{const n=[...(0,nm.normalizePath)(t)];if(1===n.length)return n[0]in e;let i=n.pop(),r=(0,nm.getter)((0,nm.join)(n),!0)(e);return!(!r||!(i in r))})(r,e)&&(a=Object.assign({},r),n||delete a[e],a[t]=i(r)),a})}json(){return this.transform(pf)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Cm.exact,test(e){if(null==e)return!0;const t=gf(this.schema,e);return 0===t.length||this.createError({params:{properties:t.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cm.noUnknown;"boolean"!==typeof e&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const n=gf(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cm.noUnknown;return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const n={};for(const i of Object.keys(t))n[e(i)]=t[i];return n})}camelCase(){return this.transformKeys(im.camelCase)}snakeCase(){return this.transformKeys(im.snakeCase)}constantCase(){return this.transformKeys(e=>(0,im.snakeCase)(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[r,a]of Object.entries(t.fields)){var i;let t=e;null!=(i=t)&&i.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[r]})),n.fields[r]=a.describe(t)}return n}}function yf(e){return new xf(e)}vf.prototype=bf.prototype;class xf extends Hm{constructor(e){super({type:"array",spec:{types:e},check:e=>Array.isArray(e)}),this.innerType=void 0,this.innerType=e}_cast(e,t){const n=super._cast(e,t);if(!this._typeCheck(n)||!this.innerType)return n;let i=!1;const r=n.map((e,r)=>{const a=this.innerType.cast(e,Object.assign({},t,{path:"".concat(t.path||"","[").concat(r,"]"),parent:n,originalValue:e,value:e,index:r}));return a!==e&&(i=!0),a});return i?r:n}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;var r;let a=this.innerType,s=null!=(r=t.recursive)?r:this.spec.recursive;null!=t.originalValue&&t.originalValue,super._validate(e,t,n,(r,o)=>{var l;if(!s||!a||!this._typeCheck(o))return void i(r,o);let c=new Array(o.length);for(let n=0;n<o.length;n++){var d;c[n]=a.asNestedTest({options:t,index:n,parent:o,parentPath:t.path,originalParent:null!=(d=t.originalValue)?d:e})}this.runTests({value:o,tests:c,originalValue:null!=(l=t.originalValue)?l:e,options:t},n,e=>i(e.concat(r),o))})}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(pf)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!Am(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+hm(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tm.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t){return t=t||Tm.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t){return t=t||Tm.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:null==t?[]:[].concat(t))}compact(e){let t=e?(t,n,i)=>!e(t,n,i):e=>!!e;return this.transform(e=>null!=e?e.filter(t):e)}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);if(t.innerType){var i;let r=e;null!=(i=r)&&i.value&&(r=Object.assign({},r,{parent:r.value,value:r.value[0]})),n.innerType=t.innerType.describe(r)}return n}}yf.prototype=xf.prototype;class wf extends Hm{constructor(e){super({type:"tuple",spec:{types:e},check(e){const t=this.spec.types;return Array.isArray(e)&&e.length===t.length}}),this.withMutation(()=>{this.typeError(Nm.notType)})}_cast(e,t){const{types:n}=this.spec,i=super._cast(e,t);if(!this._typeCheck(i))return i;let r=!1;const a=n.map((e,n)=>{const a=e.cast(i[n],Object.assign({},t,{path:"".concat(t.path||"","[").concat(n,"]"),parent:i,originalValue:i[n],value:i[n],index:n}));return a!==i[n]&&(r=!0),a});return r?a:i}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,r=this.spec.types;super._validate(e,t,n,(a,s)=>{var o;if(!this._typeCheck(s))return void i(a,s);let l=[];for(let[n,i]of r.entries()){var c;l[n]=i.asNestedTest({options:t,index:n,parent:s,parentPath:t.path,originalParent:null!=(c=t.originalValue)?c:e})}this.runTests({value:s,tests:l,originalValue:null!=(o=t.originalValue)?o:e,options:t},n,e=>i(e.concat(a),s))})}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);return n.innerType=t.spec.types.map((t,n)=>{var i;let r=e;return null!=(i=r)&&i.value&&(r=Object.assign({},r,{parent:r.value,value:r.value[n]})),t.describe(r)}),n}}wf.prototype;const Ef=()=>{const e=ot(),{t:t}=As(),n=bn(e=>e.profile),[i,r]=(0,a.useState)({}),[s,o]=(0,a.useState)("false"),[l,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=Xa(Rs.ROLE.SUPER_ADMIN);r(e)},[s]),console.log("showdefalut",i);const d=vf().shape({first_name:rf().trim().required(t("label_first_name_error")).max(Rs.INPUT_LENGTH_15,es(t("validation_max_input_characters"),[Rs.INPUT_LENGTH_15])).matches(/^[A-Za-z\s]+$/,t("label_first_name_format_error")),last_name:rf().trim().max(Rs.INPUT_LENGTH_15,es(t("validation_max_input_characters"),[Rs.INPUT_LENGTH_15])).required(t("label_last_name_error")),email:rf().trim().required(t("label_email_error")).matches(Rs.EMAIL_REGEX,t("label_email_validation_error")),files:Gm().required(t("label_image_error")).test("fileType",t("label_image_format_error"),e=>{if(e)return!0;return["image/jpeg","image/png","image/gif"].includes(e.type)}),phone_number:rf().trim().required(t("label_phone_error")).test("min-length",t("label_phone_number_minimum_length"),e=>{var t;return!((null===e||void 0===e||null===(t=e.trim())||void 0===t?void 0:t.length)<10)}).test("max-length",t("label_phone_number_maximum_length"),e=>{var t;return!((null===e||void 0===e||null===(t=e.trim())||void 0===t?void 0:t.length)>14)})}),u=Ap({enableReinitialize:!0,initialValues:{first_name:i&&i.first_name?i.first_name:"",middle_name:i&&i.middle_name?i.middle_name:"",last_name:i&&i.last_name?i.last_name:"",email:i&&i.email?i.email:"",files:i&&i.profile_image?i.profile_image:"",phone_number:i&&i.phone_number&&i.phone_number?i.phone_number:""},validationSchema:d,validateOnBlur:!1,onSubmit:(e,t)=>{let{setSubmitting:i,resetForm:r}=t;c(!0);let a=new FormData;a.append("first_name",e.first_name),a.append("middle_name",e.middle_name),a.append("last_name",e.last_name),a.append("email",e.email),a.append("phone_number",e.phone_number),n&&n.file&&a.append("image",n.file),(async e=>await oc($p).post("".concat(em,"/edit-profile"),e))(a).then(e=>{c(!1),e.success?(Za("super_admin",JSON.stringify(e.data)),zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),r({values:""}),o(!s)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{c(!1),console.log("error ====> ",e)})}});return(0,Pa.jsx)("form",{onSubmit:u.handleSubmit,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsx)("div",{className:"form-group ",children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsxs)("div",{className:"col-md-4",children:[(0,Pa.jsxs)("label",{className:"text-left d-flex",htmlFor:"Email",children:[t("label_first_name"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{type:"text",className:"form-control",id:"first_name",name:"first_name",onChange:u.handleChange,onBlur:u.handleBlur,value:u.values.first_name,placeholder:t("placeholder_first_name")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:u.errors.first_name&&u.touched.first_name&&u.errors.first_name})]})})}),(0,Pa.jsx)("div",{className:"form-group ",children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsxs)("div",{className:"col-md-4",children:[(0,Pa.jsxs)("label",{className:"text-left d-flex",htmlFor:"Email",children:[t("label_last_name"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{type:"text",className:"form-control",id:"last_name",name:"last_name",onChange:u.handleChange,onBlur:u.handleBlur,value:u.values.last_name,placeholder:t("placeholder_last_name")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:u.errors.last_name&&u.touched.last_name&&u.errors.last_name})]})})}),(0,Pa.jsx)("div",{className:"form-group ",children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsxs)("div",{className:"col-md-4",children:[(0,Pa.jsxs)("label",{className:"text-left d-flex",htmlFor:"email",children:[t("label_email"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{type:"email",id:"email",name:"email",className:"form-control",placeholder:t("placeholder_email"),value:u.values.email,onChange:u.handleChange,onBlur:u.handleBlur,autoComplete:"off"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:u.errors.email&&u.touched.email&&u.errors.email})]})})}),(0,Pa.jsx)("div",{className:"form-group ",children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsxs)("div",{className:"col-md-4",children:[(0,Pa.jsxs)("label",{className:"text-left d-flex",htmlFor:"phone_number",children:[t("label_phone_number"),":"]}),(0,Pa.jsx)("div",{className:"form-control d-flex",children:(0,Pa.jsx)("input",{className:"phoneInput",placeholder:t("placeholder_phone_number"),name:"phone_number",style:{border:0},onChange:e=>{u.setFieldValue("phone_number",e.nativeEvent.target.value)},value:"".concat(u.values.phone_number),onKeyDown:rs})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:u.errors.phone_number&&u.errors.phone_number})]})})}),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{className:"btn btn-info mr-2",type:"submit",disabled:!!l||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),t("btn_submit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",disabled:!!l||null,onClick:()=>{e(-1)},children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),t("btn_cancel")]})]})]})})})})})},Sf=()=>{const e=ot(),[t,n]=(0,a.useState)("false"),[i,r]=(0,a.useState)("false"),[s,o]=(0,a.useState)("false"),[l,c]=(0,a.useState)(!1),{t:d}=As(),u=e=>{"oldshw"===e&&n(!t),"newpwd"===e&&r(!i),"confirepwd"===e&&o(!s)},h=vf().shape({oldPassword:rf().required(d("label_current_password_error")),newPassword:rf().required(d("label_new_password_error")).matches(Rs.ATLEAST_ONE_SMALL_REGEX,d("password_validation_lowercase")).matches(Rs.ATLEAST_ONE_CAPITAL_REGEX,d("Password_Validation_uppercase")).matches(Rs.ATLEAST_ONE_NUMBER_REGEX,d("Password_Validation_number")).matches(Rs.ATLEAST_ONE_SPECIAL_CHARACTER_REGEX,d("Password_Validation_special_char")).min(Rs.PASSWORD_MIN_LENGTH,d("Password_Validation_minimum_length")).max(Rs.PASSWORD_MAX_LENGTH,d("Password_Validation_maximum_length")),confirmPassword:rf().required(d("label_confirm_password_error")).oneOf([Om("newPassword"),null],d("password_validation_does_not_match"))});return(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsx)(kp,{enableReinitialize:!0,initialValues:{oldPassword:"",newPassword:"",confirmPassword:""},validationSchema:h,onSubmit:(e,t)=>{let{setSubmitting:n,resetForm:i}=t;c(!0);let r=new FormData;r.append("current_password",e.oldPassword),r.append("new_password",e.newPassword),r.append("confirm_newpassword",e.confirmPassword),(async e=>await oc($p).post("".concat(em,"/change-password"),e))(r).then(e=>{n(!1),c(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),i({values:""})):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{c(!1),console.log("error ====> ",e)})},children:n=>{let{values:r,errors:a,touched:o,handleChange:c,handleBlur:h,handleSubmit:p,setFieldValue:m,isSubmitting:f}=n;return(0,Pa.jsx)("form",{onSubmit:p,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:" mt-5",children:[(0,Pa.jsx)("div",{className:"form-group ",children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsxs)("div",{className:"col-md-4",children:[(0,Pa.jsxs)("label",{className:"text-left d-flex",htmlFor:"newPassword",children:[d("label_current_password"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{type:!0===!t?"text":"password",className:"form-control",id:"oldPassword",name:"oldPassword",onChange:c,onBlur:h,value:r.oldPassword,placeholder:d("placeholder_current_password")}),(0,Pa.jsx)("span",{className:"input-group-text cp",onClick:()=>{u("oldshw")},children:!0===!t?(0,Pa.jsx)("i",{className:"far fa-eye-slash"}):(0,Pa.jsx)("i",{className:"far fa-eye"})})]}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.oldPassword&&o.oldPassword&&a.oldPassword})]})})}),(0,Pa.jsx)("div",{className:"form-group ",children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsxs)("div",{className:"col-md-4",children:[(0,Pa.jsxs)("label",{className:"text-left d-flex",htmlFor:"newPassword",children:[d("label_new_password"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{type:!0===!i?"text":"password",id:"newPassword",name:"newPassword",className:"form-control",placeholder:d("placeholder_new_password"),value:r.newPassword,onChange:c,onBlur:h}),(0,Pa.jsx)("span",{className:"input-group-text cp",onClick:()=>{u("newpwd")},children:!0===!i?(0,Pa.jsx)("i",{className:"far fa-eye-slash"}):(0,Pa.jsx)("i",{className:"far fa-eye"})})]}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.newPassword&&o.newPassword&&a.newPassword})]})})}),(0,Pa.jsx)("div",{className:"form-group ",children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsxs)("div",{className:"col-md-4",children:[(0,Pa.jsxs)("label",{className:"text-left d-flex",htmlFor:"newpassword",children:[d("label_confirm_password"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{type:!0===!s?"text":"password",id:"confirmPassword",name:"confirmPassword",className:"form-control",placeholder:d("placeholder_confirm_password"),value:r.confirmPassword,onChange:c,onBlur:h,autoComplete:"off"}),(0,Pa.jsx)("span",{className:"input-group-text cp",onClick:()=>{u("confirepwd")},children:!0===!s?(0,Pa.jsx)("i",{className:"far fa-eye-slash"}):(0,Pa.jsx)("i",{className:"far fa-eye"})})]}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.confirmPassword&&o.confirmPassword&&a.confirmPassword})]})})}),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{className:"btn btn-info mr-2",type:"submit",disabled:!!l||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),d("btn_submit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",disabled:!!l||null,onClick:()=>e(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),d("btn_cancel")]})]})]})})})})})}})})},Cf=()=>{const{t:e}=As(),t=ot(),n=at(),[i,r]=(0,a.useState)("false"),[s,o]=(0,a.useState)(""),[l]=Zt(),c=ct();let d=za(c.email);(0,a.useEffect)(()=>{o(l.get("type"))},[]);const u=()=>{r(!0);let e=new FormData;e.append("email",d),e.append("type",s),(async e=>await oc().post("".concat(Wp,"/resend-otp"),e))(e).then(e=>{e.success?(r(!1),zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS))):zr().fire(Tn({icon:"error",text:e.message},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error: ",e)})};return(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsx)(kp,{initialValues:{otp:""},validate:t=>{const n={};if(t.otp){let i=String(t.otp);""===i?n.otp=e("msg_validation_do_not_accept_space"):Rs.NUMBER_CHARACTER_ONLY.test(i)?i.length!==Rs.OTP_LENGTH&&(n.otp=es(e("msg_validation_otp_length"),[Rs.OTP_LENGTH])):n.otp=e("msg_validation_contain_numeric_character")}else n.otp=e("validation_OTP_is_required");return n},onSubmit:(e,i)=>{let{setSubmitting:a}=i;r(!0);let o=new FormData;o.append("email",d),o.append("otp",e.otp),o.append("type",s),(async e=>await oc().post("".concat(Wp,"/verify-otp"),e))(o).then(e=>{var i,a;(sessionStorage.setItem("validate_string",null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.validate_string),r(!1),e.success&&n.pathname.includes("otp-verification"))?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),t("/admin/reset-password",{state:null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.validate_string})):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error: ",e)})},children:t=>{let{values:n,errors:r,touched:a,handleChange:s,handleBlur:o,handleSubmit:l,isSubmitting:c}=t;return(0,Pa.jsx)("div",{className:"page main-signin-wrapper",children:(0,Pa.jsx)("div",{className:"innerbody",children:(0,Pa.jsx)("div",{className:"row signpages text-center",children:(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsx)("div",{className:"card",children:(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsx)("div",{className:"col-lg-6 col-xl-5 d-none d-lg-block text-center bg-primary details",children:(0,Pa.jsxs)("div",{className:"m-5 pt-5 ps-5 pos-absolute",children:[(0,Pa.jsx)("img",{src:js,alt:"logo"}),(0,Pa.jsx)("div",{className:"clearfix"}),(0,Pa.jsx)("h5",{className:"mt-4 text-white",children:e("heading_otp_verification")})]})}),(0,Pa.jsx)("div",{className:"col-lg-6 col-xl-7 col-xs-12 col-sm-12 login_form ",children:(0,Pa.jsx)("div",{className:"container-fluid",children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsxs)("div",{className:"card-body mt-4 mb-4",children:[(0,Pa.jsx)("img",{src:js,className:"text-left float-left mb-4 w-25",alt:"logo"}),(0,Pa.jsx)("div",{className:"clearfix"}),(0,Pa.jsx)("h5",{className:"text-left mb-2",children:e("heading_otp_verification")}),(0,Pa.jsxs)("p",{className:"mb-4 text-muted tx-13 ml-0 text-left",children:[e("msg_OTP_has_been_sent_to")," ",d]}),(0,Pa.jsxs)("form",{onSubmit:l,children:[(0,Pa.jsxs)("div",{className:"form-group text-left",children:[(0,Pa.jsx)("label",{children:"OTP"}),(0,Pa.jsx)("input",{className:"form-control no_spring_input"+(r.otp&&a.otp?" is-invalid state-invalid":""),placeholder:e("placeholder_enter_OTP"),type:"number",name:"otp",onChange:s,onBlur:o,value:n.otp,autoComplete:"off",autoFocus:!0}),(0,Pa.jsx)("span",{className:"text-danger text-left d-blockerr-spn",children:r.otp&&a.otp&&r.otp})]}),(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary btn-block signbtn"+(!0===i?" disabled":""),type:"submit",children:e("verify_otp")}),!0===i?(0,Pa.jsx)("div",{className:"spinner-border text-primary mt-2",role:"status",children:(0,Pa.jsx)("span",{className:"sr-only",children:e("loading")})}):""]}),(0,Pa.jsx)("div",{className:"text-left mt-3 ml-0",children:(0,Pa.jsx)("div",{className:"mb-1",children:(0,Pa.jsxs)("button",{className:"a",onClick:u,children:[e("link_resend_otp"),"?"]})})}),(0,Pa.jsx)("div",{className:"text-left mt-0 ml-0",children:(0,Pa.jsx)("div",{className:"mb-1",children:(0,Pa.jsx)(qt,{to:"/admin/login",children:e("link_back_to_login")})})})]})})})})]})})})})})})}})})},Tf=()=>{const{t:e}=As(),t=ot(),[n,i]=(0,a.useState)("false");return(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsx)(kp,{initialValues:{email:""},validate:t=>{const n={};return t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(t.email)||(n.email=e("validation_err_invalid_email")):n.email=e("label_email_error"),n},onSubmit:(e,n)=>{let{setSubmitting:r,resetForm:a}=n;i(!0);let s=new FormData;s.append("email",e.email),(async e=>await oc().post("".concat(Wp,"/forget-password"),e))(s).then(n=>{if(i(!1),n.success){zr().fire(Tn({icon:"success",text:n.message},Rs.SWAL_SETTINGS)),a();let i=Va(e.email);t("/admin/otp-verification/".concat(i,"?type=admin_password_reset"))}else zr().fire(Tn({icon:"error",text:as(n)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error: ",e)})},children:t=>{let{values:i,errors:r,touched:a,handleChange:s,handleBlur:o,handleSubmit:l,isSubmitting:c}=t;return(0,Pa.jsx)("div",{className:"page main-signin-wrapper",children:(0,Pa.jsx)("div",{className:"innerbody",children:(0,Pa.jsx)("div",{className:"row signpages text-center",children:(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsx)("div",{className:"card",children:(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsx)("div",{className:"col-lg-6 col-xl-5 d-none d-lg-block text-center bg-primary details",children:(0,Pa.jsxs)("div",{className:"m-5 p-5 pos-absolute",children:[(0,Pa.jsx)("img",{src:js,alt:"logo"}),(0,Pa.jsx)("div",{className:"clearfix"}),(0,Pa.jsx)("h5",{className:"mt-4 text-white",children:e("reset_your_password")})]})}),(0,Pa.jsx)("div",{className:"col-lg-6 col-xl-7 col-xs-12 col-sm-12 login_form ",children:(0,Pa.jsx)("div",{className:"container-fluid",children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsxs)("div",{className:"card-body mt-2 mb-2",children:[(0,Pa.jsx)("div",{className:"clearfix"}),(0,Pa.jsx)("h5",{className:"text-left mb-2",children:e("forgot_password")}),(0,Pa.jsx)("p",{className:"mb-4 text-muted tx-13 ml-0 text-left",children:e("OTP_will_be_sent_registered_email")}),(0,Pa.jsxs)("form",{onSubmit:l,children:[(0,Pa.jsxs)("div",{className:"form-group text-left",children:[(0,Pa.jsx)("label",{children:e("label_email")}),(0,Pa.jsx)("input",{className:"form-control"+(r.email&&a.email?" is-invalid state-invalid":""),placeholder:e("placeholder_email"),type:"email",name:"email",onChange:s,onBlur:o,value:i.email,autoComplete:"off"}),(0,Pa.jsx)("span",{className:"text-danger text-left d-blockerr-spn",children:r.email&&a.email&&r.email})]}),(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary btn-block signbtn"+(!0===n?" disabled":""),type:"submit",children:e("btn_submit")}),!0===n?(0,Pa.jsx)("div",{className:"spinner-border text-primary mt-2",role:"status",children:(0,Pa.jsx)("span",{className:"sr-only",children:e("loading")})}):""]}),(0,Pa.jsxs)("div",{className:"card-footer border-top-0 pl-0 mt-3 text-left ",children:[(0,Pa.jsxs)("p",{className:"mb-2",children:[e("did_you_remembered_your_password"),"?"]}),(0,Pa.jsx)("p",{className:"mb-0",children:(0,Pa.jsx)(qt,{to:"/admin/login",children:"Please Login"})})]})]})})})})]})})})})})})}})})},Nf=()=>{const{t:e}=As(),t=ot(),n=at(),[i,r]=(0,a.useState)("false"),[s,o]=(0,a.useState)("false"),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),h=vf().shape({newPassword:rf().required(e("label_new_password_error")).matches(Rs.ATLEAST_ONE_SMALL_REGEX,e("password_validation_lowercase")).matches(Rs.ATLEAST_ONE_CAPITAL_REGEX,e("Password_Validation_uppercase")).matches(Rs.ATLEAST_ONE_NUMBER_REGEX,e("Password_Validation_number")).matches(Rs.ATLEAST_ONE_SPECIAL_CHARACTER_REGEX,e("Password_Validation_special_char")).min(Rs.PASSWORD_MIN_LENGTH,e("Password_Validation_minimum_length")).max(Rs.PASSWORD_MAX_LENGTH,e("Password_Validation_maximum_length")),confirmPassword:rf().required(e("label_confirm_password_error")).oneOf([Om("newPassword"),null],e("password_validation_does_not_match"))}),p=e=>{"newpwd"===e&&r(!i),"confirepwd"===e&&o(!s)};return(0,a.useEffect)(()=>{sessionStorage.getItem("validate_string")?u(!0):t("/admin/login")},[]),(0,Pa.jsx)(Pa.Fragment,{children:d&&(0,Pa.jsx)(kp,{initialValues:{newPassword:"",confirmPassword:""},validationSchema:h,onSubmit:(e,i)=>{let{setSubmitting:r,resetForm:a}=i;c(!0);let s=new FormData;s.append("new_password",e.newPassword),s.append("c_password",e.confirmPassword),s.append("validate_string",n.state),(async e=>await oc().post("".concat(Wp,"/reset-password"),e))(s).then(e=>{c(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),a(),t("/admin/login")):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error: ",e)})},children:t=>{let{values:n,errors:r,touched:a,handleChange:o,handleBlur:c,handleSubmit:d,isSubmitting:u}=t;return(0,Pa.jsx)("div",{className:"page main-signin-wrapper",children:(0,Pa.jsx)("div",{className:"innerbody",children:(0,Pa.jsx)("div",{className:"row signpages text-center",children:(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsx)("div",{className:"card",children:(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsx)("div",{className:"col-lg-6 col-xl-5 d-none d-lg-block text-center bg-primary details",children:(0,Pa.jsxs)("div",{className:"m-5 p-5 pos-absolute",children:[(0,Pa.jsx)("img",{src:js,alt:"logo"}),(0,Pa.jsx)("div",{className:"clearfix"}),(0,Pa.jsx)("h5",{className:"mt-4 text-white",children:e("reset_your_password")})]})}),(0,Pa.jsx)("div",{className:"col-lg-6 col-xl-7 col-xs-12 col-sm-12 login_form ",children:(0,Pa.jsx)("div",{className:"container-fluid",children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsxs)("div",{className:"card-body mt-2 mb-2",children:[(0,Pa.jsx)("img",{src:"../assets/img/brand/logo.png",className:" d-lg-none header-brand-img text-left float-left mb-4",alt:"logo"}),(0,Pa.jsx)("div",{className:"clearfix"}),(0,Pa.jsx)("h5",{className:"text-left mb-2",children:e("reset_your_password")}),(0,Pa.jsxs)("form",{onSubmit:d,children:[(0,Pa.jsxs)("div",{className:"form-group text-left",children:[(0,Pa.jsx)("label",{children:e("label_new_password")}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{className:"form-control"+(r.newpassword&&a.newpassword?" is-invalid state-invalid":""),placeholder:e("placeholder_new_password"),type:!0===!i?"text":"password",name:"newPassword",onChange:o,onBlur:c,value:n.newPassword,autoComplete:"off"}),(0,Pa.jsx)("span",{className:"input-group-text",onClick:()=>{p("newpwd")},children:!0===!i?(0,Pa.jsx)("i",{className:"far fa-eye"}):(0,Pa.jsx)("i",{className:"far fa-eye-slash"})})]}),(0,Pa.jsx)("span",{className:"text-danger text-left d-blockerr-spn",children:r.newPassword&&a.newPassword&&r.newPassword})]}),(0,Pa.jsxs)("div",{className:"form-group text-left",children:[(0,Pa.jsx)("label",{children:e("label_confirm_password")}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{className:"form-control"+(r.confirmPassword&&a.confirmPassword?" is-invalid state-invalid":""),placeholder:e("placeholder_confirm_password"),type:!0===!s?"text":"password",name:"confirmPassword",onChange:o,onBlur:c,value:n.confirmPassword,autoComplete:"off"}),(0,Pa.jsx)("span",{className:"input-group-text",onClick:()=>{p("confirepwd")},children:!0===!s?(0,Pa.jsx)("i",{className:"far fa-eye"}):(0,Pa.jsx)("i",{className:"far fa-eye-slash"})})]}),(0,Pa.jsx)("span",{className:"text-danger text-left d-blockerr-spn",children:r.confirmPassword&&a.confirmPassword&&r.confirmPassword})]}),!0===l?(0,Pa.jsx)("div",{className:"spinner-border text-primary mt-2",role:"status",children:(0,Pa.jsx)("span",{className:"sr-only",children:e("loading")})}):"",(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary btn-block signbtn",type:"submit",children:e("btn_submit")})]}),(0,Pa.jsx)("div",{className:"text-left mt-4 ml-0",children:(0,Pa.jsx)("div",{className:"mb-1",children:(0,Pa.jsx)(qt,{to:"/admin/login",children:e("link_back_to_login")})})})]})})})})]})})})})})})}})})},Af=()=>{const e=gn(),t=bn(e=>e.globalLoader);return(0,a.useEffect)(()=>{Promise.all([Promise.resolve().then(n.bind(n,4933)),Promise.resolve().then(n.bind(n,8421)),n.e(419).then(n.bind(n,2419)),n.e(621).then(n.bind(n,2621)),n.e(195).then(n.bind(n,6195)),n.e(870).then(n.bind(n,870)),n.e(293).then(n.bind(n,3293)),n.e(71).then(n.bind(n,4071)),n.e(70).then(n.bind(n,4070)),n.e(606).then(n.bind(n,1606)),n.e(349).then(n.bind(n,349)),n.e(8).then(n.bind(n,6008)),n.e(360).then(n.bind(n,2360))]).then(()=>{e(hr(!1))})},[]),t?(0,Pa.jsx)(Ds,{}):(0,Pa.jsx)("div",{className:"page main-signin-wrapper bg-primary construction",children:(0,Pa.jsx)("div",{className:"container ",children:(0,Pa.jsx)("div",{className:"construction1 text-center details text-white",children:(0,Pa.jsxs)("div",{className:"row align-items-center",children:[(0,Pa.jsx)("div",{className:"col-lg-12",children:(0,Pa.jsx)("h1",{className:"tx-140 mb-0",children:"404"})}),(0,Pa.jsxs)("div",{className:"col-lg-12 ",children:[(0,Pa.jsx)("h1",{children:"Oops.The Page you are looking  for doesn't  exit.."}),(0,Pa.jsx)("h6",{className:"tx-15 mt-3 mb-4 text-white-50",children:"You may have mistyped the address or the page may have moved. Try searching below."}),(0,Pa.jsx)("a",{className:"btn ripple btn-success text-center",href:"/admin/dashboard",children:"Back to Home"})]})]})})})})},kf={role:Rs.ROLE.SUPER_ADMIN},Rf="admin/dashboard";var If=n(2019),Of=n(446),jf=n.n(Of);const Pf=()=>{var e,t,n,i,r,s;(0,a.useRef)(null);const{t:o}=As(),[l,c]=(0,a.useState)("lastMonth"),[d,u]=(0,a.useState)({}),[h,p]=(0,a.useState)([]),[m,f]=(0,a.useState)([]);(0,a.useEffect)(()=>{(async()=>await oc(kf).post("".concat(Rf,"/counts")))().then(e=>{u(e&&e.data?e.data:{})}).catch(e=>{console.log("error ====> ",e)})},[]),(0,a.useEffect)(()=>{(async()=>await oc(kf).get("".concat(Rf,"/date-wise-transaction")))().then(e=>{var t;const n=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list)||[],i=g(n,l),r=_(l)?v(i):i;p(r)}).catch(e=>{console.log("error ====> ",e)})},[l]),(0,a.useEffect)(()=>{(async()=>await oc(kf).get("".concat(Rf,"/date-wise-booking")))().then(e=>{var t;const n=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list)||[],i=g(n,l),r=_(l)?v(i):i;f(r)}).catch(e=>{console.log("error ====> ",e)})},[l]);const g=(e,t)=>{const n=jf()();let i;switch(t){case"lastWeek":i=n.subtract(7,"day");break;case"lastMonth":default:i=n.subtract(1,"month");break;case"last2Months":i=n.subtract(2,"month");break;case"last6Months":i=n.subtract(6,"month");break;case"lastYear":i=n.subtract(1,"year")}return e.filter(e=>jf()(e.date).isAfter(i))},_=e=>"last6Months"===e||"lastYear"===e,v=e=>{const t={};return e.forEach(e=>{const n=jf()(e.date).format("YYYY-MM");t[n]||(t[n]={date:n,totalAmount:0}),t[n].totalAmount+=e.totalAmount}),Object.values(t)};h.map(e=>_(l)?jf()(e.date).format("MMM YYYY"):jf()(e.date).format("YYYY-MM-DD")),h.map(e=>e.totalAmount),m.map(e=>e.count);return(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsx)("div",{className:"row row-sm animation_fade",children:(0,Pa.jsx)("div",{className:"col-sm-12 col-lg-12 col-xl-12",children:(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-6 col-xl-4",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsx)("div",{className:"card-body cp",children:(0,Pa.jsx)(qt,{to:"/admin/user-management/user/list/1",children:(0,Pa.jsxs)("div",{className:"card-item",children:[(0,Pa.jsx)("div",{className:"card-item-icon card-icon cp ",children:(0,Pa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",className:"bi bi-people-fill",viewBox:"0 0 16 16",children:(0,Pa.jsx)("path",{d:"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"})})}),(0,Pa.jsx)("div",{className:"card-item-title mb-2",children:(0,Pa.jsx)("label",{className:"main-content-label tx-13 font-weight-bold mb-1",children:o("sidebar_link_users")})}),(0,Pa.jsx)("div",{className:"card-item-body",children:(0,Pa.jsx)("div",{className:"card-item-stat",children:(0,Pa.jsx)("h4",{className:"font-weight-bold",children:d&&null!==d&&void 0!==d&&null!==(e=d.users)&&void 0!==e&&e.total_users?null===d||void 0===d||null===(t=d.users)||void 0===t?void 0:t.total_users:"0"})})}),(0,Pa.jsxs)("div",{className:"d-flex gap-3",children:[(0,Pa.jsx)("div",{className:"card-item-title mb-2",children:(0,Pa.jsxs)("label",{className:"main-content-label tx-13 font-weight-bold mb-1",children:["Active: ",(null===d||void 0===d||null===(n=d.users)||void 0===n?void 0:n.active_users)||0]})}),(0,Pa.jsx)("div",{className:"card-item-title mb-2",children:(0,Pa.jsxs)("label",{className:"main-content-label tx-13 font-weight-bold mb-1",children:["In-Active: ",(null===d||void 0===d||null===(i=d.users)||void 0===i?void 0:i.inactive_users)||0]})})]})]})})})})}),(0,Pa.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-6 col-xl-4",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsx)("div",{className:"card-body cp",children:(0,Pa.jsx)(qt,{to:"",children:(0,Pa.jsxs)("div",{className:"card-item",children:[(0,Pa.jsx)("div",{className:"card-item-icon card-icon cp",children:(0,Pa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"bi bi-bookmarks-fill",children:(0,Pa.jsx)("path",{d:"M2 4a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4ZM4 6v12h16V6H4Zm9 3h4v2h-4V9Zm0 4h4v2h-4v-2Z"})})}),(0,Pa.jsx)("div",{className:"card-item-title mb-2",children:(0,Pa.jsx)("label",{className:"main-content-label tx-13 font-weight-bold mb-1",children:"Active Subscriptions"})}),(0,Pa.jsx)("div",{className:"card-item-body",children:(0,Pa.jsx)("div",{className:"card-item-stat",children:(0,Pa.jsx)("h4",{className:"font-weight-bold",children:(null===d||void 0===d||null===(r=d.subscriptions)||void 0===r?void 0:r.active_subscriptions)||"0"})})})]})})})})}),(0,Pa.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-6 col-xl-4",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsx)("div",{className:"card-body cp",children:(0,Pa.jsx)(qt,{to:"",children:(0,Pa.jsxs)("div",{className:"card-item",children:[(0,Pa.jsx)("div",{className:"card-item-icon card-icon cp",children:(0,Pa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"bi bi-bookmarks-fill",children:(0,Pa.jsx)("path",{d:"M2 4a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4ZM4 6v12h16V6H4Zm9 3h4v2h-4V9Zm0 4h4v2h-4v-2Z"})})}),(0,Pa.jsx)("div",{className:"card-item-title mb-2",children:(0,Pa.jsx)("label",{className:"main-content-label tx-13 font-weight-bold mb-1",children:"Total Revenue"})}),(0,Pa.jsx)("div",{className:"card-item-body",children:(0,Pa.jsx)("div",{className:"card-item-stat",children:(0,Pa.jsx)("h4",{className:"font-weight-bold",children:(null===d||void 0===d||null===(s=d.transactions)||void 0===s?void 0:s.total_revenue)||"0"})})})]})})})})})]})})})})},Df={role:Rs.ROLE.SUPER_ADMIN},Lf="admin/email-templates",Mf=async e=>await oc(Df).get("".concat(Lf,"/details?o_id=").concat(e)),Uf=e=>{const t=ct(),[n]=Zt(),i=ot(),r=[];let s=0;s=e.query?e.custompath?Number(t[e.custompath]):Number(n.get(e.paramName||"page")):e.custompath?Number(t[e.custompath]):Number(t.pgno),e.modalPagination&&(s=e.currentPage);const o=Math.ceil(e.datalength/e.itemperpage);(0,a.useEffect)(()=>{e.currentPage>o&&(e.setPage(o),e.query?i(e&&e.pageRoute&&e.pageRoute[0].path?cs(e.pageRoute[0].path,e.paramName||"page",o):"#"):i(e&&e.pageRoute&&e.pageRoute[0].path?e.pageRoute[0].path+"/"+o:"/#"))},[o,i,e]);let l=e.currentPage||1;l<1||l<5?l=1:l-=3;let c=l+6;c=c<=o?c:o;for(let a=l;a<=c;a++)r.push(a);const d=t=>{e.modalPagination?t&&e.setPage(Number(t)):t&&(e.setPage(Number(t)),e.query?i(e&&e.pageRoute&&e.pageRoute[0].path?cs(e.pageRoute[0].path,e.paramName||"page",Number(t)):"#"):i(e&&e.pageRoute&&e.pageRoute[0].path?e.pageRoute[0].path+"/"+t:"/#"))};return(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsx)("div",{className:"text-right",children:(0,Pa.jsx)("nav",{children:(0,Pa.jsxs)("ul",{className:"pagination",children:[(0,Pa.jsx)("li",{className:"page-item "+(1===Number(s)||1===s?" disabled":" cp"),onClick:()=>{e.modalPagination?1!==Number(s)&&e.setPage(Number(s-1)):1!==Number(s)&&(e.setPage(Number(s-1)),e.query?i(e&&e.pageRoute&&e.pageRoute[0].path?cs(e.pageRoute[0].path,e.paramName||"page",Number(s-1)):"#"):i(e&&e.pageRoute&&e.pageRoute[0].path?e.pageRoute[0].path+"/"+Number(s-1):"/#"))},children:(0,Pa.jsx)("button",{type:"button",className:"page-link",children:"\u2039"})}),1!==l&&2!==l?(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)("li",{className:"page-item cp"+(1===Number(s)?" active disabled":" cp"),"aria-current":"page",onClick:()=>{d(1)},children:(0,Pa.jsx)("span",{className:"page-link",children:1})}),(0,Pa.jsx)("li",{className:"page-item disabled","aria-current":"page",children:(0,Pa.jsx)("span",{className:"page-link",children:"..."})})]}):"",r.length&&r.map((t,n)=>(0,Pa.jsx)("li",{className:"page-item"+(Number(s)!==t&&s!==t||Number(s)!==e.currentPage?" cp":" active disabled"),"aria-current":"page",onClick:()=>{d(t)},children:(0,Pa.jsx)("span",{className:"page-link",children:t})},n)),c!==o-1&&c!==o?(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)("li",{className:"page-item disabled","aria-current":"page",children:(0,Pa.jsx)("span",{className:"page-link",children:"..."})}),(0,Pa.jsx)("li",{className:"page-item "+(Number(s)===o?" active disabled":" cp"),"aria-current":"page",onClick:()=>{d(o)},children:(0,Pa.jsx)("span",{className:"page-link",children:o})})]}):"",(0,Pa.jsx)("li",{className:"page-item "+(Number(s)===o||s===o?" disabled":" cp"),onClick:()=>{if(e.modalPagination){if(s<e.datalength/e.itemperpage){let t=Number(++s);e.setPage(t)}}else if(s<e.datalength/e.itemperpage){let t=Number(++s);e.setPage(t),e.query?i(e&&e.pageRoute&&e.pageRoute[0].path?cs(e.pageRoute[0].path,e.paramName||"page",t):"/#"):i(e&&e.pageRoute&&e.pageRoute[0].path?e.pageRoute[0].path+"/"+t:"/#")}},children:(0,Pa.jsx)("button",{type:"button",className:"page-link",children:"\u203a"})})]})})})})};function Ff(e){let{sort:t,handleSort:n,column:i,defaultSorting:r}=e;return(0,Pa.jsx)("div",{onClick:e=>{n(e,i)},className:1===t.order?"e_none cp assc":-1===t.order?"e_none cp desc":"e_none cp",children:r?(0,Pa.jsx)("i",{className:" text-muted fas fa-sort-down"}):t.column===i?1===t.order?(0,Pa.jsx)("i",{className:" text-muted fas fa-sort-up"}):(0,Pa.jsx)("i",{className:" text-muted fas fa-sort-down"}):(0,Pa.jsx)("i",{className:" text-muted fas fa-sort"})})}const Bf=()=>(0,Pa.jsx)("div",{className:"text-center",children:(0,Pa.jsx)("div",{className:"card custom-card mb-0",id:"loaders5",children:(0,Pa.jsx)("div",{className:"card-body p-0 mt-2",children:(0,Pa.jsx)("div",{className:"text-center",children:(0,Pa.jsxs)("div",{className:"lds-spinner",children:[(0,Pa.jsx)("div",{}),(0,Pa.jsx)("div",{}),(0,Pa.jsx)("div",{}),(0,Pa.jsx)("div",{}),(0,Pa.jsx)("div",{}),(0,Pa.jsx)("div",{}),(0,Pa.jsx)("div",{}),(0,Pa.jsx)("div",{}),(0,Pa.jsx)("div",{}),(0,Pa.jsx)("div",{}),(0,Pa.jsx)("div",{}),(0,Pa.jsx)("div",{})]})})})})});function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Vf.apply(null,arguments)}var zf=(0,a.createContext)({});const Hf=zf.Provider;const Wf=!("undefined"===typeof window||!window.document||!window.document.createElement);var Gf=a.memo(function(e){var t=e.children,n=e.container,i=(0,a.useState)(!1),r=i[0],s=i[1];return(0,a.useEffect)(function(){return s(!0)},[]),n&&r?(0,l.createPortal)(t,n):null});function qf(e){void 0===e&&(e={});var t=e,n=t.container,i=t.waitMount,r=void 0!==i&&i,s="function"===typeof n?n():n,o=(0,a.useMemo)(function(){return Wf?s||document.body:null},[s]),c=(0,a.useCallback)(function(e){var t=e.children;return null!=o?(0,l.createPortal)(t,o):null},[o]),d=(0,a.useCallback)(function(e){return a.createElement(Gf,Vf({container:o},e))},[o]);return{target:o,Portal:r?d:c}}var Yf="undefined"!==typeof document?a.useLayoutEffect:a.useEffect;const Xf=Yf;var Kf=n(8139),Jf=n.n(Kf),Zf=n(4430);function Qf(e,t){return e&&t?Array.isArray(t)?Jf()(t.filter(function(e){return!!e}).map(function(t){return e+"-"+t})):"-"===e[e.length-1]?""+e+t:e+"-"+t:""}n.n(Zf)()(Qf);function $f(e){return function(){return e}}function eg(){}eg.thatReturns=$f,eg.thatReturnsFalse=$f(!1),eg.thatReturnsTrue=$f(!0),eg.thatReturnsNull=$f(null),eg.thatReturnsThis=function(){},eg.thatReturnsArgument=function(e){return e};var tg,ng,ig,rg,ag,sg,og,lg,cg,dg,ug,hg,pg,mg,fg,gg=!1;function _g(){if(!gg){gg=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(hg=/\b(iPhone|iP[ao]d)/.exec(e),pg=/\b(iP[ao]d)/.exec(e),dg=/Android/i.exec(e),mg=/FBAN\/\w+;/i.exec(e),fg=/Mobile/i.exec(e),ug=!!/Win64/.exec(e),t){(tg=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&document&&document.documentMode&&(tg=document.documentMode);var i=/(?:Trident\/(\d+.\d+))/.exec(e);sg=i?parseFloat(i[1])+4:tg,ng=t[2]?parseFloat(t[2]):NaN,ig=t[3]?parseFloat(t[3]):NaN,(rg=t[4]?parseFloat(t[4]):NaN)?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),ag=t&&t[1]?parseFloat(t[1]):NaN):ag=NaN}else tg=NaN,ng=NaN,ig=NaN,ag=NaN,rg=NaN;if(n){if(n[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);og=!r||parseFloat(r[1].replace("_","."))}else og=!1;lg=!!n[2],cg=!!n[3]}else og=!1,lg=!1,cg=!1}}var vg={ie:function(){return _g()||tg},ieCompatibilityMode:function(){return _g()||sg>tg},ie64:function(){return vg.ie()&&ug},firefox:function(){return _g()||ng},opera:function(){return _g()||ig},webkit:function(){return _g()||rg},safari:function(){return vg.webkit()},chrome:function(){return _g()||ag},windows:function(){return _g()||lg},osx:function(){return _g()||og},linux:function(){return _g()||cg},iphone:function(){return _g()||hg},mobile:function(){return _g()||hg||pg||dg||fg},nativeApp:function(){return _g()||mg},android:function(){return _g()||dg},ipad:function(){return _g()||pg}};const bg=vg;var yg;Wf&&(yg=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));const xg=function(e,t){if(!Wf||t&&!("addEventListener"in document))return!1;var n="on"+e,i=n in document;if(!i){var r=document.createElement("div");r.setAttribute(n,"return;"),i="function"===typeof r[n]}return!i&&yg&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i};function wg(e){var t=0,n=0,i=0,r=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),i=10*t,r=10*n,"deltaY"in e&&(r=e.deltaY),"deltaX"in e&&(i=e.deltaX),(i||r)&&e.deltaMode&&(1===e.deltaMode?(i*=40,r*=40):(i*=800,r*=800)),i&&!t&&(t=i<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:t,spinY:n,pixelX:i,pixelY:r}}wg.getEventType=function(){return bg.firefox()?"DOMMouseScroll":xg("wheel")?"wheel":"mousewheel"};const Eg=function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;throw new Error("unable to locate global object")};var Sg=Eg(),Cg=0;Sg.requestAnimationFrame;var Tg=Eg();Tg.cancelAnimationFrame||Tg.clearTimeout;function Ng(e,t){return t&&(e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")}(e,t)||(e.className=e.className+" "+t)),e}function Ag(e,t){return t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")),e}var kg={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};const Rg=function(){if(Wf){var e,t=document.createElement("div").style;for(e in kg)if(void 0!==t[e])return kg[e]}};var Ig=function(e,t){if(!t)return!1;do{if(t===e)return!0}while(t.parentNode&&(t=t.parentNode));return!1};const Og=Wf?function(e,t){return!!t&&(e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):Ig(e,t))}:Ig;function jg(e){return e&&e.ownerDocument||document}function Pg(e){return e===(null===e||void 0===e?void 0:e.window)?e:9===(null===e||void 0===e?void 0:e.nodeType)?(null===e||void 0===e?void 0:e.defaultView)||(null===e||void 0===e?void 0:e.parentWindow):null}function Dg(e){var t=jg(e),n=Pg(t),i=t&&t.documentElement,r={top:0,left:0,height:0,width:0};return t?Og(i,e)?(void 0!==(null===e||void 0===e?void 0:e.getBoundingClientRect)&&(r=e.getBoundingClientRect()),(r.width||r.height)&&i&&n&&(r={top:r.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:r.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0),width:(null===r.width?e.offsetWidth:r.width)||0,height:(null===r.height?e.offsetHeight:r.height)||0}),r):r:null}function Lg(e){var t;return(null===e||void 0===e?void 0:e.nodeName)&&(null===e||void 0===e||null===(t=e.nodeName)||void 0===t?void 0:t.toLowerCase())}function Mg(e){return e.replace(/\-(\w)/g,function(e){return e.slice(1).toUpperCase()})}var Ug=/^-ms-/;const Fg=function(e){if(!e)throw new TypeError("No Element passed to `getComputedStyle()`");var t=e.ownerDocument;return"defaultView"in t?t.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null):null};var Bg=/^ms-/;const Vg=function(e){return function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}(e).replace(Bg,"-ms-")};function zg(e,t){if(t){var n=e.style[(r=t,Mg(r.replace(Ug,"ms-")))];if(n)return n;var i=Fg(e);if(i)return i.getPropertyValue(Vg(t))}var r;return e.style||Fg(e)}const Hg=function(e,t){var n=Pg(e),i=e.scrollTop,r=0;return n&&(i=n.pageYOffset,r=n.pageXOffset),void 0!==t&&(n?n.scrollTo(r,t):e.scrollTop=t),i};const Wg=function(e,t){var n=Pg(e),i=e.scrollLeft,r=0;return n&&(i=n.pageXOffset,r=n.pageYOffset),void 0!==t&&(n?n.scrollTo(t,r):e.scrollLeft=t),i};function Gg(e,t,n){void 0===n&&(n=!0);var i={top:0,left:0},r=null;if("fixed"===zg(e,"position"))r=e.getBoundingClientRect();else{if(t=t||function(e){for(var t=jg(e),n=null===e||void 0===e?void 0:e.offsetParent;n&&"html"!==Lg(e)&&"static"===zg(n,"position");)n=n.offsetParent;return n||t.documentElement}(e),r=Dg(e),"html"!==Lg(t)){var a=Dg(t);a&&(i.top=a.top,i.left=a.left)}i.top+=parseInt(zg(t,"borderTopWidth"),10)-Hg(t)||0,i.left+=parseInt(zg(t,"borderLeftWidth"),10)-Wg(t)||0}if(r){var s=n&&parseInt(zg(e,"marginTop"),10)||0,o=n&&parseInt(zg(e,"marginLeft"),10)||0;return Vf({},r,{top:r.top-i.top-s,left:r.left-i.left-o})}return null}var qg;function Yg(e,t){var n=Pg(e);return n?n.innerHeight:t?e.clientHeight:Dg(e).height}var Xg={},Kg=["Webkit","ms","Moz","O"],Jg=new RegExp("^("+Kg.join("|")+")"),Zg=Wf?document.createElement("div").style:{};const Qg=function(e){var t=Mg(e);if(void 0===Xg[t]){var n=t.charAt(0).toUpperCase()+t.slice(1);if(Jg.test(n))throw new Error("getVendorPrefixedName must only be called with unprefixed\n          CSS property names. It was called with "+e);Xg[t]=t in Zg?t:function(e){for(var t=0;t<Kg.length;t+=1){var n=Kg[t]+e;if(n in Zg)return n}return null}(n)}return Xg[t]||t},$g=function(){return!!Qg("transform")},e_=function(){return!!Qg("perspective")};var t_=Eg(),n_=Qg("transform"),i_=Qg("backfaceVisibility"),r_=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),e.left=t+"px",e.top=n+"px",e},a_=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),e[n_]="translate("+t+"px,"+n+"px)",e},s_=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),e[n_]="translate3d("+t+"px,"+n+"px,0)",e[i_]="hidden",e};!function(e){var t=e||{},n=t.enableTransform,i=void 0===n||n,r=t.enable3DTransform,a=void 0===r||r;if(t.forceUseTransform)return e.enable3DTransform?s_:a_;if($g()&&i){var s=t_.window?t_.window.navigator.userAgent:"UNKNOWN";return!(/Safari\//.test(s)&&!/Chrome\//.test(s))&&e_()&&a?s_:a_}}();var o_=a.createContext({});function l_(e,t,n,i,r,a,s){try{var o=e[a](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(i,r)}var c_=n(4756),d_=n.n(c_),u_=n(5173),h_=n.n(u_),p_=n(940),m_=n.n(p_);function f_(e,t){return f_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f_(e,t)}function g_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,f_(e,t)}const __=function(){if(!Wf)return{};for(var e,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),i=document.createElement("div").style,r="",a=0;a<n.length;a+=1){var s=n[a];if(s+"TransitionProperty"in i){r="-"+s.toLowerCase(),e=t[s]("TransitionEnd");break}}!e&&"transitionProperty"in i&&(e="transitionend"),i=null;var o=function(e){return r+"-"+e};return{end:e,backfaceVisibility:o("backface-visibility"),transform:o("transform"),property:o("transition-property"),timing:o("transition-timing-function"),delay:o("transition-delay"),duration:o("transition-duration")}};function v_(e,t,n,i){return void 0===i&&(i=!1),e.addEventListener(t,n,i),{off:function(){e.removeEventListener(t,n,i)}}}var b_=n(1629),y_=n.n(b_),x_=n(1488),w_=n.n(x_);function E_(e){var t,n=(null===e||void 0===e?void 0:e.root)||(null===e||void 0===e?void 0:e.child)||(t=e)&&("current"in t?t.current:t);return null!==n&&void 0!==n&&n.nodeType&&"string"===typeof(null===n||void 0===n?void 0:n.nodeName)?n:function(e){var t;return e&&"setState"in e?null===(t=l.findDOMNode)||void 0===t?void 0:t.call(l,e):null!==e&&void 0!==e?e:null}(n)}const S_=E_;var C_={onEnter:h_().func,onEntering:h_().func,onEntered:h_().func,onExit:h_().func,onExiting:h_().func,onExited:h_().func},T_=["children","className","exitedClassName","enteringClassName","enteredClassName","exitingClassName"],N_=function(e){return e[e.UNMOUNTED=0]="UNMOUNTED",e[e.EXITED=1]="EXITED",e[e.ENTERING=2]="ENTERING",e[e.ENTERED=3]="ENTERED",e[e.EXITING=4]="EXITING",e}({}),A_=Vf({},C_,{animation:h_().bool,children:h_().oneOfType([h_().node,h_().func]),className:h_().string,in:h_().bool,unmountOnExit:h_().bool,transitionAppear:h_().bool,timeout:h_().number,exitedClassName:h_().string,exitingClassName:h_().string,enteredClassName:h_().string,enteringClassName:h_().string}),k_=function(e){function t(t){var n,i;return(n=e.call(this,t)||this).animationEventListener=null,n.instanceElement=null,n.nextCallback=null,n.needsUpdate=null,n.childRef=void 0,i=t.in?t.transitionAppear?N_.EXITED:N_.ENTERED:t.unmountOnExit?N_.UNMOUNTED:N_.EXITED,n.state={status:i},n.nextCallback=null,n.childRef=a.createRef(),n}g_(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&e.unmountOnExit&&t.status===N_.UNMOUNTED?{status:N_.EXITED}:null};var n=t.prototype;return n.getSnapshotBeforeUpdate=function(){return this.props.in&&this.props.unmountOnExit||(this.needsUpdate=!0),null},n.componentDidMount=function(){this.props.transitionAppear&&this.props.in&&this.performEnter(this.props)},n.componentDidUpdate=function(){var e=this.state.status;this.props.unmountOnExit&&e===N_.EXITED?this.props.in?this.performEnter(this.props):this.instanceElement&&this.setState({status:N_.UNMOUNTED}):this.needsUpdate&&(this.needsUpdate=!1,this.props.in?e!==N_.EXITING&&e!==N_.EXITED||this.performEnter(this.props):e!==N_.ENTERING&&e!==N_.ENTERED||this.performExit(this.props))},n.componentWillUnmount=function(){this.cancelNextCallback(),this.instanceElement=null},n.onTransitionEnd=function(e,t){var n;if(this.setNextCallback(t),null===(n=this.animationEventListener)||void 0===n||n.off(),this.nextCallback)if(e){var i=this.props,r=i.timeout,a=i.animation;this.animationEventListener=v_(e,a?"webkitAnimation"in document.createElement("div").style?"webkitAnimationEnd":"animationend":__().end,this.nextCallback),null!==r&&setTimeout(this.nextCallback,r)}else setTimeout(this.nextCallback,0)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(i?t.instanceElement===i.target&&(e(i),n=!1,t.nextCallback=null):(e(i),n=!1,t.nextCallback=null))},this.nextCallback&&(this.nextCallback.cancel=function(){n=!1}),this.nextCallback},n.getChildElement=function(){return this.childRef.current?E_(this.childRef.current):E_(this)},n.performEnter=function(e){var t=this,n=e||this.props,i=n.onEnter,r=n.onEntering,a=n.onEntered;this.cancelNextCallback();var s=this.getChildElement();this.instanceElement=s,null===i||void 0===i||i(s),this.safeSetState({status:N_.ENTERING},function(){null===r||void 0===r||r(s),t.onTransitionEnd(s,function(){t.safeSetState({status:N_.ENTERED},function(){null===a||void 0===a||a(s)})})})},n.performExit=function(e){var t=this,n=e||this.props,i=n.onExit,r=n.onExiting,a=n.onExited;this.cancelNextCallback();var s=this.getChildElement();this.instanceElement=s,null===i||void 0===i||i(s),this.safeSetState({status:N_.EXITING},function(){null===r||void 0===r||r(s),t.onTransitionEnd(s,function(){t.safeSetState({status:N_.EXITED},function(){null===a||void 0===a||a(s)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){if(this.instanceElement){var n=this.setNextCallback(t);this.setState(e,function(){return null===n||void 0===n?void 0:n()})}},n.render=function(){var e,t=this.state.status;if(t===N_.UNMOUNTED)return null;var n,i=this.props,r=i.children,s=i.className,o=i.exitedClassName,l=i.enteringClassName,c=i.enteredClassName,d=i.exitingClassName,u=yn(i,T_),h=w_()(u,Object.keys(A_));if(t===N_.EXITED?n=o:t===N_.ENTERING?n=l:t===N_.ENTERED?n=c:t===N_.EXITING&&(n=d),y_()(r))return h.className=Jf()(s,n),r(h,this.childRef);var p=a.Children.only(r);return a.cloneElement(p,Vf({},h,{ref:this.childRef,className:Jf()(s,null===(e=p.props)||void 0===e?void 0:e.className,n)}))},t}(a.Component);k_.propTypes=A_,k_.displayName="Transition",k_.defaultProps={timeout:1e3};const R_=k_;var I_=a.createContext({usedToaster:!1});I_.displayName="ToastContext";const O_=I_;function j_(e){var t=((0,a.useContext)(o_)||{}).classPrefix,n=void 0===t?"rs":t,i=Qf(n,e),r=(0,a.useCallback)(function(){return(arguments.length?Jf().apply(void 0,arguments).split(" ").map(function(e){return Qf(i,e)}):[]).filter(function(e){return e}).join(" ")},[i]),s=(0,a.useCallback)(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=r(t);return a?i+" "+a:i},[i,r]);return{withClassPrefix:s,merge:Jf(),prefix:r,rootPrefix:function(){return(arguments.length?Jf().apply(void 0,arguments).split(" ").map(function(e){return Qf(n,e)}):[]).filter(function(e){return e}).join(" ")}}}function P_(){return"_"+Math.random().toString(36).substring(2,12)}function D_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return null!==e&&"undefined"!==typeof e}).reduce(function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return void 0===e?t:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i),t.apply(this,i)}},void 0)}var L_=parseInt(a.version),M_=c,U_="toasterId";function F_(e,t){var n=document.createElement("div");n.className="rs-toaster-mount-element";var i=t;i.appendChild(n);var r=P_();(i[U_]||(i[U_]=r),L_>=18)?(l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.usingClientEntryPoint=!0,(0,M_.createRoot)(n,{identifierPrefix:"rs-root-"}).render(e)):M_.render(e,n);return i[U_]}var B_=["as","className","classPrefix","placement"],V_=["className"],z_=["container"],H_=function(){return Wf?document.body:null},W_=["topCenter","bottomCenter","topStart","topEnd","bottomStart","bottomEnd"],G_=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.className,s=e.classPrefix,o=void 0===s?"toast-container":s,l=e.placement,c=void 0===l?"topCenter":l,d=yn(e,B_),u=j_(o),h=u.withClassPrefix,p=u.merge,m=u.rootPrefix,f=p(r,h(m_()(c))),g=function(){var e=(0,a.useState)([]),t=e[0],n=e[1],i=(0,a.useCallback)(function(e){return"undefined"===typeof e&&t.length?t[t.length-1].key:e},[t]),r=(0,a.useCallback)(function(e,t){var i=t||{},r=i.duration,a=i.mouseReset,s=void 0===a||a,o=i.container,l=P_();return n(function(t){return[].concat(t,[{key:l,visible:!0,node:e,duration:r,mouseReset:s,container:o}])}),l},[]),s=(0,a.useCallback)(function(){n(t.map(function(e){return Vf({},e,{visible:!1})})),setTimeout(function(){n(function(){return[]})},400)},[t]),o=(0,a.useCallback)(function(e){n(t.map(function(t){return t.key===i(e)&&(t.visible=!1),t})),setTimeout(function(){n(function(e){return e.filter(function(e){return e.visible})})},400)},[t,i]);return{messages:t,push:r,clear:s,remove:o}}(),_=g.push,v=g.clear,b=g.remove,y=g.messages;(0,a.useImperativeHandle)(t,function(){return{push:_,clear:v,remove:b}});var x=y.map(function(e){var t=e.mouseReset,n=e.duration,i=e.node;return a.createElement(O_.Provider,{value:{usedToaster:!0,mouseReset:t,duration:n},key:e.key},a.createElement(R_,{in:e.visible,exitedClassName:m("toast-fade-exited"),exitingClassName:m("toast-fade-exiting"),enteringClassName:m("toast-fade-entering"),enteredClassName:m("toast-fade-entered"),timeout:300},function(t,r){var s,o,l=t.className,c=yn(t,V_);return a.cloneElement(i,Vf({},c,{ref:r,duration:n,onClose:D_(null===(s=i.props)||void 0===s?void 0:s.onClose,function(){return b(e.key)}),className:p(m("toast"),null===(o=i.props)||void 0===o?void 0:o.className,l)}))}))});return a.createElement(i,Vf({},d,{className:f}),x)});G_.getInstance=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function s(e){l_(a,i,r,s,o,"next",e)}function o(e){l_(a,i,r,s,o,"throw",e)}s(void 0)})}}(d_().mark(function e(t){var n,i,r,s,o,l;return d_().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.container,i=yn(t,z_),r=null,s=new Promise(function(e){r=e}),o=a.createRef(),l=F_(a.createElement(G_,Vf({},i,{ref:function(e){o.current=e,r&&r()}})),n),e.next=7,s;case 7:return e.abrupt("return",[o,l]);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),G_.displayName="ToastContainer",G_.propTypes={className:h_().string,classPrefix:h_().string,placement:h_().elementType,container:h_().oneOfType([h_().node,h_().func]),callback:h_().func};const q_=G_;var Y_=["children","classPrefix","components","iconClassPrefix","theme","toastContainer","disableRipple","csp","disableInlineStyles"],X_=["light","dark","high-contrast"];const K_=function(e){var t=e.children,n=e.classPrefix,i=void 0===n?"rs-":n,r=e.components,s=e.iconClassPrefix,o=void 0===s?i:s,l=e.theme,c=e.toastContainer,d=void 0===c?H_:c,u=e.disableRipple,h=e.csp,p=e.disableInlineStyles,m=yn(e,Y_),f=(0,a.useRef)(new Map),g=qf({container:d,waitMount:!0}).Portal,_=(0,a.useMemo)(function(){return Vf({classPrefix:i,theme:l,toasters:f,disableRipple:u,components:r,toastContainer:d},m)},[i,l,u,r,d,m]),v=(0,a.useMemo)(function(){return{classPrefix:o,csp:h,disableInlineStyles:p}},[o,h,p]);return Yf(function(){Wf&&l&&(Ng(document.body,Qf(i,"theme-"+l)),X_.forEach(function(e){e!==l&&Ag(document.body,Qf(i,"theme-"+e))}))},[i,l]),a.createElement(o_.Provider,{value:_},a.createElement(Hf,{value:v},t,a.createElement(g,null,a.createElement("div",{className:i+"toast-provider"},W_.map(function(e){return a.createElement(q_,{key:e,placement:e,ref:function(t){f.current.set(e,t)}})})))))};function J_(e,t){return t||(t=e.slice(0)),e.raw=t,e}var Z_=n(9686),Q_=n.n(Z_),$_=n(2616),ev=n.n($_);function tv(){var e=(0,a.useContext)(zf)||{},t=e.classPrefix,n=void 0===t?"rs-":t,i=e.csp,r=e.disableInlineStyles;return{classPrefix:n,csp:i,disableInlineStyles:void 0!==r&&r}}var nv=[],iv=[];function rv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!0===t.prepend?"prepend":"append",i=t.container||document.querySelector("head");if(!i)throw new Error("No container found to insert CSS.");var r,a=nv.indexOf(i);return-1===a&&(a=nv.push(i)-1,iv[a]={}),iv[a][n]?r=iv[a][n]:(r=function(e){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.setAttribute("data-insert-css","rsuite-icons"),e&&t.setAttribute("nonce",e),t}(t.nonce),iv[a][n]=r,"prepend"===n?i.insertBefore(r,i.firstChild):i.appendChild(r)),65279===e.charCodeAt(0)&&(e=e.slice(1)),r.styleSheet?r.styleSheet.cssText+=e:r.textContent+=e,r}var av=!1;const sv=function(){var e=tv(),t=e.csp,n=e.classPrefix,i=e.disableInlineStyles;(0,a.useEffect)(function(){av||i||(rv(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rs-";return".".concat(e,"icon {\n  display: -webkit-inline-box;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  vertical-align: middle;\n}\n.").concat(e,"icon[tabindex] {\n  cursor: pointer;\n}\n.").concat(e,"icon-spin {\n  -webkit-animation: icon-spin 2s infinite linear;\n          animation: icon-spin 2s infinite linear;\n}\n.").concat(e,"icon-pulse {\n  -webkit-animation: icon-spin 1s infinite steps(8);\n          animation: icon-spin 1s infinite steps(8);\n}\n.").concat(e,"icon-flip-horizontal {\n  -webkit-transform: scaleX(-1);\n      -ms-transform: scaleX(-1);\n          transform: scaleX(-1);\n}\n.").concat(e,"icon-flip-vertical {\n  -webkit-transform: scaleY(-1);\n      -ms-transform: scaleY(-1);\n          transform: scaleY(-1);\n}\n@-webkit-keyframes icon-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n            transform: rotate(359deg);\n  }\n}\n@keyframes icon-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n            transform: rotate(359deg);\n  }\n}")}(n),{prepend:!0,nonce:null===t||void 0===t?void 0:t.nonce}),av=!0)},[])};function ov(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function lv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){lv(e,t,n[t])})}return e}function dv(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);s=!0);}catch(l){o=!0,r=l}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ov(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ov(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hv=a.forwardRef(function(e,t){var n,i=e.as,r=void 0===i?"svg":i,s=e.spin,o=e.pulse,l=e.flip,c=e.fill,d=void 0===c?"currentColor":c,u=e.className,h=e.rotate,p=e.children,m=e.viewBox,f=e.width,g=void 0===f?"1em":f,_=e.height,v=void 0===_?"1em":_,b=e.style,y=dv(e,["as","spin","pulse","flip","fill","className","rotate","children","viewBox","width","height","style"]),x=uv(function(){var e,t=tv().classPrefix,n="".concat(t,"icon");return[n,(e=n,function(t){return e&&t?Array.isArray(t)?Jf()(t.filter(function(e){return!!e}).map(function(t){return"".concat(e,"-").concat(t)})):"".concat(e,"-").concat(t):""})]}(),2),w=x[0],E=x[1],S=Jf()(u,w,(lv(n={},E("spin"),s),lv(n,E("pulse"),o),lv(n,E("flip-".concat(l)),!!l),n)),C={msTransform:"rotate(".concat(h,"deg)"),transform:"rotate(".concat(h,"deg)")};sv();var T=function(e){var t={};return Object.entries(e).forEach(function(e){var n=uv(e,2),i=n[0],r=n[1];"undefined"!==typeof r&&(t[i]=r)}),t}({width:g,height:v,fill:d,viewBox:m,className:S,style:h?cv({},C,b):b});return a.createElement(r,cv({"aria-hidden":!0,focusable:!1,ref:t},T,y),p)});hv.displayName="Icon";const pv=hv;function mv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fv=function(e){var t=e.as,n=e.ariaLabel,i=e.displayName,r=e.category,s=a.forwardRef(function(e,i){return a.createElement(pv,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){mv(e,t,n[t])})}return e}({"aria-label":n,"data-category":r,ref:i,as:t},e))});return s.displayName=i,s};function gv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _v=function(e,t){return a.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){gv(e,t,n[t])})}return e}({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:t},e),a.createElement("path",{d:"M4.5 7a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-1 0v-5a.5.5 0 0 1 .5-.5M7.5 7a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-1 0v-5a.5.5 0 0 1 .5-.5M10.5 7a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1a.5.5 0 0 1 .5-.5"}),a.createElement("path",{d:"M1 8h10.5a.5.5 0 0 1 0 1H1zm0 3h7.5a.5.5 0 0 1 0 1H1zM1 5h14v1H1z"}),a.createElement("path",{d:"M4.5 1a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5M11.5 1a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5M14.5 11a.5.5 0 0 1 .492.41l.008.09v1a2.5 2.5 0 0 1-2.336 2.495L12.5 15h-3a.5.5 0 0 1-.09-.992L9.5 14h3a1.5 1.5 0 0 0 1.493-1.356L14 12.5v-1a.5.5 0 0 1 .5-.5"}),a.createElement("path",{d:"M13 3a2 2 0 0 1 2 2v3c0 2-2 3-4 3q1 2-1 4H3a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm.117 1.007L13 4H3a1 1 0 0 0-.993.883L2 5v8a1 1 0 0 0 .883.993L3 14h6.566l.031-.033c.738-.856.9-1.608.575-2.375l-.067-.144a1 1 0 0 1 .894-1.447c1.692 0 2.9-.76 2.994-1.861l.006-.139v-3a1 1 0 0 0-.883-.993z"}))};const vv=fv({as:(0,a.forwardRef)(_v),ariaLabel:"calendar",category:"time",displayName:"Calendar"});function bv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yv=function(e,t){return a.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){bv(e,t,n[t])})}return e}({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:t},e),a.createElement("path",{d:"M10.575.423a.5.5 0 0 1-.321.947 7 7 0 1 0 3.988 3.457.5.5 0 0 1 .891-.454 8 8 0 1 1-4.557-3.95z"}),a.createElement("path",{d:"M7.5 9a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 1 0V8h3.5a.5.5 0 0 1 0 1z"}))};const xv=fv({as:(0,a.forwardRef)(yv),ariaLabel:"time",category:"time",displayName:"Time"});var wv=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};function Ev(e,t){var n=wv(e),i=wv(t);return function(e){"function"===typeof n&&n(e),"function"===typeof i&&i(e)}}var Sv=n(3728),Cv=n.n(Sv),Tv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const Nv=function(e,t,n){var i,r=Tv[e];return i="string"===typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i};var Av={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const kv=function(e,t,n,i){return Av[e]};function Rv(e){return function(t,n){var i;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var r=e.defaultFormattingWidth||e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):r;i=e.formattingValues[a]||e.formattingValues[r]}else{var s=e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;i=e.values[o]||e.values[s]}return i[e.argumentCallback?e.argumentCallback(t):t]}}var Iv={ordinalNumber:function(e,t){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Rv({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Rv({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Rv({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Rv({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Rv({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};const Ov=Iv;function jv(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.width,r=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],a=t.match(r);if(!a)return null;var s,o=a[0],l=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,function(e){return e.test(o)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,function(e){return e.test(o)});return s=e.valueCallback?e.valueCallback(c):c,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(o.length)}}}var Pv,Dv={ordinalNumber:(Pv={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(Pv.matchPattern);if(!n)return null;var i=n[0],r=e.match(Pv.parsePattern);if(!r)return null;var a=Pv.valueCallback?Pv.valueCallback(r[0]):r[0];return{value:a=t.valueCallback?t.valueCallback(a):a,rest:e.slice(i.length)}}),era:jv({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:jv({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:jv({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:jv({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:jv({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const Lv=Dv;function Mv(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var Uv={sunday:"Su",monday:"Mo",tuesday:"Tu",wednesday:"We",thursday:"Th",friday:"Fr",saturday:"Sa",ok:"OK",today:"Today",yesterday:"Yesterday",now:"Now",hours:"Hours",minutes:"Minutes",seconds:"Seconds",formattedMonthPattern:"MMM yyyy",formattedDayPattern:"dd MMM yyyy",shortDateFormat:"dd/MM/yyyy",shortTimeFormat:"HH:mm",dateLocale:{code:"en-GB",formatDistance:Nv,formatLong:{date:Mv({formats:{full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:Mv({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:Mv({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},formatRelative:kv,localize:Ov,match:Lv,options:{weekStartsOn:1,firstWeekContainsDate:4}}},Fv={noResultsText:"No results found",placeholder:"Select",searchPlaceholder:"Search",checkAll:"All"},Bv=Vf({},Fv,{newItem:"New item",createOption:'Create option "{0}"'});const Vv={code:"en-GB",common:{loading:"Loading...",emptyMessage:"No data found",remove:"Remove",clear:"Clear"},Plaintext:{unfilled:"Unfilled",notSelected:"Not selected",notUploaded:"Not uploaded"},Pagination:{more:"More",prev:"Previous",next:"Next",first:"First",last:"Last",limit:"{0} / page",total:"Total Rows: {0}",skip:"Go to{0}"},DateTimeFormats:Uv,Calendar:Uv,DatePicker:Uv,DateRangePicker:Vf({},Uv,{last7Days:"Last 7 Days"}),Combobox:Fv,InputPicker:Bv,TagPicker:Bv,Uploader:{inited:"Initial",progress:"Uploading",error:"Error",complete:"Finished",emptyFile:"Empty",upload:"Upload",removeFile:"Remove file"},CloseButton:{closeLabel:"Close"},Breadcrumb:{expandText:"Show path"},Toggle:{on:"Open",off:"Close"}};function zv(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Hv(e){zv(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===wn(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Wv(e){if(zv(1,arguments),!function(e){return zv(1,arguments),e instanceof Date||"object"===wn(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=Hv(e);return!isNaN(Number(t))}function Gv(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function qv(e,t){zv(2,arguments);var n=Hv(e).getTime(),i=Gv(t);return new Date(n+i)}function Yv(e,t){return zv(2,arguments),qv(e,-Gv(t))}function Xv(e){zv(1,arguments);var t=Hv(e),n=t.getUTCDay(),i=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-i),t.setUTCHours(0,0,0,0),t}function Kv(e){zv(1,arguments);var t=Hv(e),n=t.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(n+1,0,4),i.setUTCHours(0,0,0,0);var r=Xv(i),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var s=Xv(a);return t.getTime()>=r.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Jv(e){zv(1,arguments);var t=Hv(e),n=Xv(t).getTime()-function(e){zv(1,arguments);var t=Kv(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),Xv(n)}(t).getTime();return Math.round(n/6048e5)+1}var Zv={};function Qv(){return Zv}function $v(e,t){var n,i,r,a,s,o,l,c;zv(1,arguments);var d=Qv(),u=Gv(null!==(n=null!==(i=null!==(r=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==r?r:d.weekStartsOn)&&void 0!==i?i:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Hv(e),p=h.getUTCDay(),m=(p<u?7:0)+p-u;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function eb(e,t){var n,i,r,a,s,o,l,c;zv(1,arguments);var d=Hv(e),u=d.getUTCFullYear(),h=Qv(),p=Gv(null!==(n=null!==(i=null!==(r=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==r?r:h.firstWeekContainsDate)&&void 0!==i?i:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(u+1,0,p),m.setUTCHours(0,0,0,0);var f=$v(m,t),g=new Date(0);g.setUTCFullYear(u,0,p),g.setUTCHours(0,0,0,0);var _=$v(g,t);return d.getTime()>=f.getTime()?u+1:d.getTime()>=_.getTime()?u:u-1}function tb(e,t){zv(1,arguments);var n=Hv(e),i=$v(n,t).getTime()-function(e,t){var n,i,r,a,s,o,l,c;zv(1,arguments);var d=Qv(),u=Gv(null!==(n=null!==(i=null!==(r=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==r?r:d.firstWeekContainsDate)&&void 0!==i?i:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),h=eb(e,t),p=new Date(0);return p.setUTCFullYear(h,0,u),p.setUTCHours(0,0,0,0),$v(p,t)}(n,t).getTime();return Math.round(i/6048e5)+1}function nb(e,t){for(var n=e<0?"-":"",i=Math.abs(e).toString();i.length<t;)i="0"+i;return n+i}var ib={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return nb("yy"===t?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):nb(n+1,2)},d:function(e,t){return nb(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return nb(e.getUTCHours()%12||12,t.length)},H:function(e,t){return nb(e.getUTCHours(),t.length)},m:function(e,t){return nb(e.getUTCMinutes(),t.length)},s:function(e,t){return nb(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,i=e.getUTCMilliseconds();return nb(Math.floor(i*Math.pow(10,n-3)),t.length)}};const rb=ib;var ab="midnight",sb="noon",ob="morning",lb="afternoon",cb="evening",db="night",ub={G:function(e,t,n){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var i=e.getUTCFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return rb.y(e,t)},Y:function(e,t,n,i){var r=eb(e,i),a=r>0?r:1-r;return"YY"===t?nb(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):nb(a,t.length)},R:function(e,t){return nb(Kv(e),t.length)},u:function(e,t){return nb(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return nb(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return nb(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){var i=e.getUTCMonth();switch(t){case"M":case"MM":return rb.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return nb(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){var r=tb(e,i);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):nb(r,t.length)},I:function(e,t,n){var i=Jv(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):nb(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):rb.d(e,t)},D:function(e,t,n){var i=function(e){zv(1,arguments);var t=Hv(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var i=n-t.getTime();return Math.floor(i/864e5)+1}(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):nb(i,t.length)},E:function(e,t,n){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){var r=e.getUTCDay(),a=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return nb(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){var r=e.getUTCDay(),a=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return nb(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){var i=e.getUTCDay(),r=0===i?7:i;switch(t){case"i":return String(r);case"ii":return nb(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var i,r=e.getUTCHours();switch(i=12===r?sb:0===r?ab:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var i,r=e.getUTCHours();switch(i=r>=17?cb:r>=12?lb:r>=4?ob:db,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var i=e.getUTCHours()%12;return 0===i&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return rb.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):rb.H(e,t)},K:function(e,t,n){var i=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):nb(i,t.length)},k:function(e,t,n){var i=e.getUTCHours();return 0===i&&(i=24),"ko"===t?n.ordinalNumber(i,{unit:"hour"}):nb(i,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):rb.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):rb.s(e,t)},S:function(e,t){return rb.S(e,t)},X:function(e,t,n,i){var r=(i._originalDate||e).getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return pb(r);case"XXXX":case"XX":return mb(r);default:return mb(r,":")}},x:function(e,t,n,i){var r=(i._originalDate||e).getTimezoneOffset();switch(t){case"x":return pb(r);case"xxxx":case"xx":return mb(r);default:return mb(r,":")}},O:function(e,t,n,i){var r=(i._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+hb(r,":");default:return"GMT"+mb(r,":")}},z:function(e,t,n,i){var r=(i._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+hb(r,":");default:return"GMT"+mb(r,":")}},t:function(e,t,n,i){var r=i._originalDate||e;return nb(Math.floor(r.getTime()/1e3),t.length)},T:function(e,t,n,i){return nb((i._originalDate||e).getTime(),t.length)}};function hb(e,t){var n=e>0?"-":"+",i=Math.abs(e),r=Math.floor(i/60),a=i%60;if(0===a)return n+String(r);var s=t||"";return n+String(r)+s+nb(a,2)}function pb(e,t){return e%60===0?(e>0?"-":"+")+nb(Math.abs(e)/60,2):mb(e,t)}function mb(e,t){var n=t||"",i=e>0?"-":"+",r=Math.abs(e);return i+nb(Math.floor(r/60),2)+n+nb(r%60,2)}const fb=ub;var gb=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},_b=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},vb={p:_b,P:function(e,t){var n,i=e.match(/(P+)(p+)?/)||[],r=i[1],a=i[2];if(!a)return gb(e,t);switch(r){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",gb(r,t)).replace("{{time}}",_b(a,t))}};const bb=vb;function yb(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var xb=["D","DD"],wb=["YY","YYYY"];function Eb(e){return-1!==xb.indexOf(e)}function Sb(e){return-1!==wb.indexOf(e)}function Cb(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}const Tb={code:"en-US",formatDistance:Nv,formatLong:{date:Mv({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:Mv({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:Mv({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},formatRelative:kv,localize:Ov,match:Lv,options:{weekStartsOn:0,firstWeekContainsDate:1}},Nb=Tb;var Ab=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kb=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rb=/^'([^]*?)'?$/,Ib=/''/g,Ob=/[a-zA-Z]/;function jb(e,t,n){var i,r,a,s,o,l,c,d,u,h,p,m,f,g,_,v,b,y;zv(2,arguments);var x=String(t),w=Qv(),E=null!==(i=null!==(r=null===n||void 0===n?void 0:n.locale)&&void 0!==r?r:w.locale)&&void 0!==i?i:Nb,S=Gv(null!==(a=null!==(s=null!==(o=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==o?o:w.firstWeekContainsDate)&&void 0!==s?s:null===(u=w.locale)||void 0===u||null===(h=u.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==a?a:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=Gv(null!==(p=null!==(m=null!==(f=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(_=n.locale)||void 0===_||null===(v=_.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==f?f:w.weekStartsOn)&&void 0!==m?m:null===(b=w.locale)||void 0===b||null===(y=b.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==p?p:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var T=Hv(e);if(!Wv(T))throw new RangeError("Invalid time value");var N=Yv(T,yb(T)),A={firstWeekContainsDate:S,weekStartsOn:C,locale:E,_originalDate:T};return x.match(kb).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,bb[t])(e,E.formatLong):e}).join("").match(Ab).map(function(i){if("''"===i)return"'";var r=i[0];if("'"===r)return function(e){var t=e.match(Rb);if(!t)return e;return t[1].replace(Ib,"'")}(i);var a=fb[r];if(a)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!Sb(i)||Cb(i,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!Eb(i)||Cb(i,t,String(e)),a(N,i,E.localize,A);if(r.match(Ob))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return i}).join("")}function Pb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Db(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Pb(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pb(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw a}}}}function Lb(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Mb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ub(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f_(e,t)}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fb(e)}function Bb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Bb=function(){return!!e})()}function Vb(e){var t=Bb();return function(){var n,i=Fb(e);if(t){var r=Fb(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"==wn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Mb(e)}(this,n)}}function zb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hb(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,En(i.key),i)}}function Wb(e,t,n){return t&&Hb(e.prototype,t),n&&Hb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Gb=function(){function e(){zb(this,e),Sn(this,"priority",void 0),Sn(this,"subPriority",0)}return Wb(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),qb=function(e){Ub(n,e);var t=Vb(n);function n(e,i,r,a,s){var o;return zb(this,n),(o=t.call(this)).value=e,o.validateValue=i,o.setValue=r,o.priority=a,s&&(o.subPriority=s),o}return Wb(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(Gb),Yb=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",10),Sn(Mb(e),"subPriority",-1),e}return Wb(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(Gb),Xb=function(){function e(){zb(this,e),Sn(this,"incompatibleTokens",void 0),Sn(this,"priority",void 0),Sn(this,"subPriority",void 0)}return Wb(e,[{key:"run",value:function(e,t,n,i){var r=this.parse(e,t,n,i);return r?{setter:new qb(r.value,this.validate,this.set,this.priority,this.subPriority),rest:r.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),Kb=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",140),Sn(Mb(e),"incompatibleTokens",["R","u","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(Xb),Jb=(Math.pow(10,8),/^(1[0-2]|0?\d)/),Zb=/^(3[0-1]|[0-2]?\d)/,Qb=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,$b=/^(5[0-3]|[0-4]?\d)/,ey=/^(2[0-3]|[0-1]?\d)/,ty=/^(2[0-4]|[0-1]?\d)/,ny=/^(1[0-1]|0?\d)/,iy=/^(1[0-2]|0?\d)/,ry=/^[0-5]?\d/,ay=/^[0-5]?\d/,sy=/^\d/,oy=/^\d{1,2}/,ly=/^\d{1,3}/,cy=/^\d{1,4}/,dy=/^-?\d+/,uy=/^-?\d/,hy=/^-?\d{1,2}/,py=/^-?\d{1,3}/,my=/^-?\d{1,4}/,fy=/^([+-])(\d{2})(\d{2})?|Z/,gy=/^([+-])(\d{2})(\d{2})|Z/,_y=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,vy=/^([+-])(\d{2}):(\d{2})|Z/,by=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function yy(e,t){return e?{value:t(e.value),rest:e.rest}:e}function xy(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function wy(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function Ey(e){return xy(dy,e)}function Sy(e,t){switch(e){case 1:return xy(sy,t);case 2:return xy(oy,t);case 3:return xy(ly,t);case 4:return xy(cy,t);default:return xy(new RegExp("^\\d{1,"+e+"}"),t)}}function Cy(e,t){switch(e){case 1:return xy(uy,t);case 2:return xy(hy,t);case 3:return xy(py,t);case 4:return xy(my,t);default:return xy(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Ty(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Ny(e,t){var n,i=t>0,r=i?t:1-t;if(r<=50)n=e||100;else{var a=r+50;n=e+100*Math.floor(a/100)-(e>=a%100?100:0)}return i?n:1-n}function Ay(e){return e%400===0||e%4===0&&e%100!==0}var ky=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",130),Sn(Mb(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){var i=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return yy(Sy(4,e),i);case"yo":return yy(n.ordinalNumber(e,{unit:"year"}),i);default:return yy(Sy(t.length,e),i)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var i=e.getUTCFullYear();if(n.isTwoDigitYear){var r=Ny(n.year,i);return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e}var a="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(Xb),Ry=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",130),Sn(Mb(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){var i=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return yy(Sy(4,e),i);case"Yo":return yy(n.ordinalNumber(e,{unit:"year"}),i);default:return yy(Sy(t.length,e),i)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,i){var r=eb(e,i);if(n.isTwoDigitYear){var a=Ny(n.year,r);return e.setUTCFullYear(a,0,i.firstWeekContainsDate),e.setUTCHours(0,0,0,0),$v(e,i)}var s="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(s,0,i.firstWeekContainsDate),e.setUTCHours(0,0,0,0),$v(e,i)}}]),n}(Xb),Iy=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",130),Sn(Mb(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t){return Cy("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var i=new Date(0);return i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0),Xv(i)}}]),n}(Xb),Oy=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",130),Sn(Mb(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t){return Cy("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(Xb),jy=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",120),Sn(Mb(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return Sy(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(Xb),Py=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",120),Sn(Mb(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return Sy(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(Xb),Dy=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Sn(Mb(e),"priority",110),e}return Wb(n,[{key:"parse",value:function(e,t,n){var i=function(e){return e-1};switch(t){case"M":return yy(xy(Jb,e),i);case"MM":return yy(Sy(2,e),i);case"Mo":return yy(n.ordinalNumber(e,{unit:"month"}),i);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(Xb),Ly=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",110),Sn(Mb(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){var i=function(e){return e-1};switch(t){case"L":return yy(xy(Jb,e),i);case"LL":return yy(Sy(2,e),i);case"Lo":return yy(n.ordinalNumber(e,{unit:"month"}),i);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(Xb);var My=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",100),Sn(Mb(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return xy($b,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return Sy(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,i){return $v(function(e,t,n){zv(2,arguments);var i=Hv(e),r=Gv(t),a=tb(i,n)-r;return i.setUTCDate(i.getUTCDate()-7*a),i}(e,n,i),i)}}]),n}(Xb);var Uy=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",100),Sn(Mb(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return xy($b,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return Sy(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return Xv(function(e,t){zv(2,arguments);var n=Hv(e),i=Gv(t),r=Jv(n)-i;return n.setUTCDate(n.getUTCDate()-7*r),n}(e,n))}}]),n}(Xb),Fy=[31,28,31,30,31,30,31,31,30,31,30,31],By=[31,29,31,30,31,30,31,31,30,31,30,31],Vy=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",90),Sn(Mb(e),"subPriority",1),Sn(Mb(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return xy(Zb,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return Sy(t.length,e)}}},{key:"validate",value:function(e,t){var n=Ay(e.getUTCFullYear()),i=e.getUTCMonth();return n?t>=1&&t<=By[i]:t>=1&&t<=Fy[i]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(Xb),zy=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",90),Sn(Mb(e),"subpriority",1),Sn(Mb(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return xy(Qb,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return Sy(t.length,e)}}},{key:"validate",value:function(e,t){return Ay(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(Xb);function Hy(e,t,n){var i,r,a,s,o,l,c,d;zv(2,arguments);var u=Qv(),h=Gv(null!==(i=null!==(r=null!==(a=null!==(s=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==s?s:null===n||void 0===n||null===(o=n.locale)||void 0===o||null===(l=o.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==a?a:u.weekStartsOn)&&void 0!==r?r:null===(c=u.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==i?i:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Hv(e),m=Gv(t),f=((m%7+7)%7<h?7:0)+m-p.getUTCDay();return p.setUTCDate(p.getUTCDate()+f),p}var Wy=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",90),Sn(Mb(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,i){return(e=Hy(e,n,i)).setUTCHours(0,0,0,0),e}}]),n}(Xb),Gy=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",90),Sn(Mb(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n,i){var r=function(e){var t=7*Math.floor((e-1)/7);return(e+i.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return yy(Sy(t.length,e),r);case"eo":return yy(n.ordinalNumber(e,{unit:"day"}),r);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,i){return(e=Hy(e,n,i)).setUTCHours(0,0,0,0),e}}]),n}(Xb),qy=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",90),Sn(Mb(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n,i){var r=function(e){var t=7*Math.floor((e-1)/7);return(e+i.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return yy(Sy(t.length,e),r);case"co":return yy(n.ordinalNumber(e,{unit:"day"}),r);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,i){return(e=Hy(e,n,i)).setUTCHours(0,0,0,0),e}}]),n}(Xb);var Yy=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",90),Sn(Mb(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){var i=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return Sy(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return yy(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return yy(n.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return yy(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i);default:return yy(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),i)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return e=function(e,t){zv(2,arguments);var n=Gv(t);n%7===0&&(n-=7);var i=Hv(e),r=((n%7+7)%7<1?7:0)+n-i.getUTCDay();return i.setUTCDate(i.getUTCDate()+r),i}(e,n),e.setUTCHours(0,0,0,0),e}}]),n}(Xb),Xy=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",80),Sn(Mb(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(Ty(n),0,0,0),e}}]),n}(Xb),Ky=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",80),Sn(Mb(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(Ty(n),0,0,0),e}}]),n}(Xb),Jy=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",80),Sn(Mb(e),"incompatibleTokens",["a","b","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(Ty(n),0,0,0),e}}]),n}(Xb),Zy=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",70),Sn(Mb(e),"incompatibleTokens",["H","K","k","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return xy(iy,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return Sy(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var i=e.getUTCHours()>=12;return i&&n<12?e.setUTCHours(n+12,0,0,0):i||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(Xb),Qy=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",70),Sn(Mb(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return xy(ey,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return Sy(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(Xb),$y=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",70),Sn(Mb(e),"incompatibleTokens",["h","H","k","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return xy(ny,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return Sy(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(Xb),ex=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",70),Sn(Mb(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return xy(ty,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return Sy(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var i=n<=24?n%24:n;return e.setUTCHours(i,0,0,0),e}}]),n}(Xb),tx=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",60),Sn(Mb(e),"incompatibleTokens",["t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return xy(ry,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return Sy(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(Xb),nx=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",50),Sn(Mb(e),"incompatibleTokens",["t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return xy(ay,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return Sy(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(Xb),ix=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",30),Sn(Mb(e),"incompatibleTokens",["t","T"]),e}return Wb(n,[{key:"parse",value:function(e,t){return yy(Sy(t.length,e),function(e){return Math.floor(e*Math.pow(10,3-t.length))})}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(Xb),rx=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",10),Sn(Mb(e),"incompatibleTokens",["t","T","x"]),e}return Wb(n,[{key:"parse",value:function(e,t){switch(t){case"X":return wy(fy,e);case"XX":return wy(gy,e);case"XXXX":return wy(_y,e);case"XXXXX":return wy(by,e);default:return wy(vy,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(Xb),ax=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",10),Sn(Mb(e),"incompatibleTokens",["t","T","X"]),e}return Wb(n,[{key:"parse",value:function(e,t){switch(t){case"x":return wy(fy,e);case"xx":return wy(gy,e);case"xxxx":return wy(_y,e);case"xxxxx":return wy(by,e);default:return wy(vy,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(Xb),sx=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",40),Sn(Mb(e),"incompatibleTokens","*"),e}return Wb(n,[{key:"parse",value:function(e){return Ey(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(Xb),ox=function(e){Ub(n,e);var t=Vb(n);function n(){var e;zb(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return Sn(Mb(e=t.call.apply(t,[this].concat(r))),"priority",20),Sn(Mb(e),"incompatibleTokens","*"),e}return Wb(n,[{key:"parse",value:function(e){return Ey(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(Xb),lx={G:new Kb,y:new ky,Y:new Ry,R:new Iy,u:new Oy,Q:new jy,q:new Py,M:new Dy,L:new Ly,w:new My,I:new Uy,d:new Vy,D:new zy,E:new Wy,e:new Gy,c:new qy,i:new Yy,a:new Xy,b:new Ky,B:new Jy,h:new Zy,H:new Qy,K:new $y,k:new ex,m:new tx,s:new nx,S:new ix,X:new rx,x:new ax,t:new sx,T:new ox},cx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ux=/^'([^]*?)'?$/,hx=/''/g,px=/\S/,mx=/[a-zA-Z]/;function fx(e,t,n,i){var r,a,s,o,l,c,d,u,h,p,m,f,g,_,v,b,y,x;zv(3,arguments);var w=String(e),E=String(t),S=Qv(),C=null!==(r=null!==(a=null===i||void 0===i?void 0:i.locale)&&void 0!==a?a:S.locale)&&void 0!==r?r:Nb;if(!C.match)throw new RangeError("locale must contain match property");var T=Gv(null!==(s=null!==(o=null!==(l=null!==(c=null===i||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==c?c:null===i||void 0===i||null===(d=i.locale)||void 0===d||null===(u=d.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==l?l:S.firstWeekContainsDate)&&void 0!==o?o:null===(h=S.locale)||void 0===h||null===(p=h.options)||void 0===p?void 0:p.firstWeekContainsDate)&&void 0!==s?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=Gv(null!==(m=null!==(f=null!==(g=null!==(_=null===i||void 0===i?void 0:i.weekStartsOn)&&void 0!==_?_:null===i||void 0===i||null===(v=i.locale)||void 0===v||null===(b=v.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==g?g:S.weekStartsOn)&&void 0!==f?f:null===(y=S.locale)||void 0===y||null===(x=y.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==m?m:0);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===E)return""===w?Hv(n):new Date(NaN);var A,k={firstWeekContainsDate:T,weekStartsOn:N,locale:C},R=[new Yb],I=E.match(dx).map(function(e){var t=e[0];return t in bb?(0,bb[t])(e,C.formatLong):e}).join("").match(cx),O=[],j=Db(I);try{var P=function(){var t=A.value;null!==i&&void 0!==i&&i.useAdditionalWeekYearTokens||!Sb(t)||Cb(t,E,e),null!==i&&void 0!==i&&i.useAdditionalDayOfYearTokens||!Eb(t)||Cb(t,E,e);var n=t[0],r=lx[n];if(r){var a=r.incompatibleTokens;if(Array.isArray(a)){var s=O.find(function(e){return a.includes(e.token)||e.token===n});if(s)throw new RangeError("The format string mustn't contain `".concat(s.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===r.incompatibleTokens&&O.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));O.push({token:n,fullToken:t});var o=r.run(w,t,C.match,k);if(!o)return{v:new Date(NaN)};R.push(o.setter),w=o.rest}else{if(n.match(mx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=t.match(ux)[1].replace(hx,"'")),0!==w.indexOf(t))return{v:new Date(NaN)};w=w.slice(t.length)}};for(j.s();!(A=j.n()).done;){var D=P();if("object"===wn(D))return D.v}}catch(W){j.e(W)}finally{j.f()}if(w.length>0&&px.test(w))return new Date(NaN);var L=R.map(function(e){return e.priority}).sort(function(e,t){return t-e}).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(e){return R.filter(function(t){return t.priority===e}).sort(function(e,t){return t.subPriority-e.subPriority})}).map(function(e){return e[0]}),M=Hv(n);if(isNaN(M.getTime()))return new Date(NaN);var U,F=Yv(M,yb(M)),B={},V=Db(L);try{for(V.s();!(U=V.n()).done;){var z=U.value;if(!z.validate(F,k))return new Date(NaN);var H=z.set(F,B,k);Array.isArray(H)?(F=H[0],Lb(B,H[1])):F=H}}catch(W){V.e(W)}finally{V.f()}return F}var gx=["locale"];function _x(e,t){var n,i=(0,a.useContext)(o_),r=i.components,s=void 0===r?{}:r,o=i.locale,l=void 0===o?Vv:o,c=i.rtl,d=void 0===c?"undefined"!==typeof document&&"rtl"===(document.body.getAttribute("dir")||document.dir):c,u=i.formatDate,h=i.parseDate,p=i.classPrefix,m=i.toasters,f=i.disableRipple,g=t||{},_=g.locale,v=yn(g,gx),b=null===l||void 0===l||null===(n=l.DateTimeFormats)||void 0===n?void 0:n.dateLocale,y=null===l||void 0===l?void 0:l.code,x=(0,a.useCallback)(function(e,t){var n=(null===l||void 0===l?void 0:l.common)||{},i="string"===typeof e?null===l||void 0===l?void 0:l[e]:Array.isArray(e)?Cv().apply(void 0,[{}].concat(e.map(function(e){return null===l||void 0===l?void 0:l[e]}))):{};return Cv()({},n,i,_,t)},[l,_]),w=(0,a.useMemo)(function(){var t;if(e){var n=(null===(t=s[e])||void 0===t?void 0:t.defaultProps)||{},i=Cv()({},n,v),r=function(e){return{Cascader:"Combobox",CheckTreePicker:"Combobox",MultiCascader:"Combobox",SelectPicker:"Combobox",TreePicker:"Combobox",CheckPicker:"Combobox",TimePicker:"DatePicker",TimeRangePicker:"DateRangePicker"}[e]||e}(e);return Object.keys(Vv).includes(r)?Vf({},i,{locale:x(r)}):i}},[e,s,x,v]),E=(0,a.useCallback)(function(e,t,n){try{return u?u(e,t,n):jb(Wv(e)?e:new Date,t,Vf({locale:b},n))}catch(i){return"Error: Invalid date format"}},[b,u]),S=(0,a.useCallback)(function(e,t,n,i){return h?h(e,t,n,i):fx(e,t,n||new Date,Vf({locale:b},i))},[h,b]);return{code:y,rtl:d,toasters:m,disableRipple:f,classPrefix:p,propsWithDefaults:w,getLocale:x,formatDate:E,parseDate:S}}var vx=["as","className","classPrefix","onMouseDown"],bx=["className"],yx=a.forwardRef(function(e,t){var n=_x().disableRipple,i=e.as,r=void 0===i?"span":i,s=e.className,o=e.classPrefix,l=void 0===o?"ripple":o,c=e.onMouseDown,d=yn(e,vx),u=j_(l),h=u.merge,p=u.prefix,m=u.withClassPrefix,f=h(s,p("pond")),g=(0,a.useRef)(null),_=(0,a.useState)(!1),v=_[0],b=_[1],y=(0,a.useState)(),x=y[0],w=y[1],E=(0,a.useCallback)(function(e){if(g.current){var t=function(e,t){var n=Dg(e),i=(t.pageX||0)-n.left,r=(t.pageY||0)-n.top,a=Math.max(n.width-i,i),s=Math.max(n.height-r,r),o=Math.sqrt(Math.pow(a,2)+Math.pow(s,2));return{width:2*o,height:2*o,left:i-o,top:r-o}}(g.current,e);b(!0),w(t),null===c||void 0===c||c(t,e)}},[c]);return(0,a.useEffect)(function(){var e,t=null===(e=g.current)||void 0===e?void 0:e.parentNode;if(t){var n=v_(t,"mousedown",E);return function(){null===n||void 0===n||n.off()}}},[E]),n?null:a.createElement(r,Vf({},d,{className:f,ref:Ev(g,t)}),a.createElement(R_,{in:v,enteringClassName:p("rippling"),onEntered:function(){b(!1)}},function(e,t){var n=e.className,i=yn(e,bx);return a.createElement("span",Vf({},i,{ref:t,className:h(m(),n),style:x}))}))});yx.displayName="Ripple",yx.propTypes={classPrefix:h_().string,className:h_().string,onMouseDown:h_().func};const xx=yx;var wx=["as","href","disabled","onClick"];function Ex(e){return!e||"#"===e.trim()}var Sx=a.forwardRef(function(e,t){var n=_x("SafeAnchor",e).propsWithDefaults,i=n.as,r=void 0===i?"a":i,s=n.href,o=n.disabled,l=n.onClick,c=yn(n,wx),d=(0,a.useCallback)(function(e){(o||Ex(s))&&e.preventDefault(),o?e.stopPropagation():null===l||void 0===l||l(e)},[o,s,l]),u=Ex(s)?{role:"button",href:"#"}:null;return o&&(c.tabIndex=-1,c["aria-disabled"]=!0),a.createElement(r,Vf({ref:t,href:s},u,c,{onClick:d}))});Sx.displayName="SafeAnchor",Sx.propTypes={href:h_().string,disabled:h_().bool,as:h_().elementType};const Cx=Sx;const Tx=function(e){var t=h_().oneOf(e);return t._argType_={type:"oneOf",value:e},t};const Nx=a.createContext(null);function Ax(e,t){return Array.isArray(t)?t.indexOf(e)>=0:e===t}var kx,Rx,Ix,Ox=["as","active","appearance","block","className","children","classPrefix","color","disabled","loading","ripple","size","startIcon","endIcon","type"],jx=a.forwardRef(function(e,t){var n=_x("Button",e).propsWithDefaults,i=n.as,r=n.active,s=n.appearance,o=void 0===s?"default":s,l=n.block,c=n.className,d=n.children,u=n.classPrefix,h=void 0===u?"btn":u,p=n.color,m=n.disabled,f=n.loading,g=n.ripple,_=void 0===g||g,v=n.size,b=n.startIcon,y=n.endIcon,x=n.type,w=yn(n,Ox),E=(0,a.useContext)(Nx),S=null!==v&&void 0!==v?v:null===E||void 0===E?void 0:E.size,C=j_(h),T=C.withClassPrefix,N=C.prefix,A=(0,C.merge)(c,T(o,p,S,{active:r,disabled:m,loading:f,block:l})),k=(0,a.useMemo)(function(){var e=a.createElement("span",{className:N(kx||(kx=J_(["spin"])))}),t=_&&!Ax(o,["link","ghost"])?a.createElement(xx,null):null;return a.createElement(a.Fragment,null,f&&e,b?a.createElement("span",{className:N(Rx||(Rx=J_(["start-icon"])))},b):null,d,y?a.createElement("span",{className:N(Ix||(Ix=J_(["end-icon"])))},y):null,t)},[o,d,y,f,N,_,b]);if(w.href)return a.createElement(Cx,Vf({},w,{as:i,ref:t,"aria-disabled":m,disabled:m,className:A}),k);var R=i||"button",I=x||("button"===R?"button":void 0),O=w.role||("button"!==R?"button":void 0);return a.createElement(R,Vf({},w,{role:O,type:I,ref:t,disabled:m,"aria-disabled":m,className:A}),k)});jx.displayName="Button",jx.propTypes={as:h_().elementType,active:h_().bool,appearance:Tx(["default","primary","link","subtle","ghost"]),block:h_().bool,children:h_().node,color:Tx(["red","orange","yellow","green","cyan","blue","violet"]),disabled:h_().bool,href:h_().string,loading:h_().bool,ripple:h_().bool,size:Tx(["lg","md","sm","xs"]),type:Tx(["button","reset","submit"])};const Px=jx;var Dx=["as","style","className","alignSelf","flex","grow","shrink","order","basis"];function Lx(e){var t=e.as,n=void 0===t?"div":t,i=e.style,r=e.className,s=e.alignSelf,o=e.flex,l=e.grow,c=e.shrink,d=e.order,u=e.basis,h=yn(e,Dx);return a.createElement(n,Vf({className:r,style:Vf({alignSelf:s,order:d},o?{flex:o}:{flexGrow:l,flexShrink:c,flexBasis:u},i)},h))}Lx.displayName="StackItem",Lx.propTypes={className:h_().string,children:h_().node,alignSelf:Tx(["flex-start","flex-end","center","baseline","stretch"]),flex:h_().oneOfType([h_().string,h_().number]),grow:h_().number,shrink:h_().number,order:h_().number,basis:h_().string};var Mx=function(){return Wf&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent)},Ux=function(){if("undefined"!==typeof CSS&&"undefined"!==typeof CSS.supports)return CSS.supports("(gap: 1px)");if(Mx())return!1;var e=function(){if(Wf){var e=window.navigator.userAgent.match(/Chrom(e|ium)\/([\d\.]+)\./);return!!e&&parseFloat(e[2])}return!1}(),t=function(){if(Wf){var e=window.navigator.userAgent.match(/Version\/([\d\.]+).*Safari/);return!!e&&parseFloat(e[1])}return!1}();return e?e>=84:!t||t>=14.1};function Fx(e){return 1===a.Children.count(e)&&function(e){if("object"===typeof e&&null!==e)return e.type||e.$$typeof}(e)===Symbol.for("react.fragment")}function Bx(e){return a.Children.toArray(a.Children.map(e,function(e){var t;return Fx(e)?a.Children.toArray((null===(t=e.props)||void 0===t?void 0:t.children)||[]):e}))}function Vx(e,t,n){var i=0;return a.Children.map(Bx(e),function(e){if(!a.isValidElement(e))return e;var r=t.call(n,e,i);return i+=1,r})}var zx={mapCloneElement:function(e,t,n){return Vx(e,function(e,n){return a.cloneElement(e,Vf({key:n},t(e,n)))},n)},count:function(e){return a.Children.count(Bx(e))},some:function(e,t,n){var i=0,r=!1;return a.Children.forEach(Bx(e),function(e){r||a.isValidElement(e)&&t.call(n,e,i+=1)&&(r=!0)}),r},map:Vx,forEach:function(e,t,n){var i=0;a.Children.forEach(Bx(e),function(e){a.isValidElement(e)&&(t.call(n,e,i),i+=1)})},find:function(e,t,n){var i,r=0;return a.Children.forEach(Bx(e),function(e){i||(r+=1,t.call(n,e,r)&&(i=e))}),i}};var Hx=["as","alignItems","classPrefix","childrenRenderMode","className","children","direction","justifyContent","spacing","divider","style","wrap"];var Wx=a.forwardRef(function(e,t){var n,i=_x("Stack",e),r=i.propsWithDefaults,s=i.rtl,o=r.as,l=void 0===o?"div":o,c=r.alignItems,d=void 0===c?"center":c,u=r.classPrefix,h=void 0===u?"stack":u,p=r.childrenRenderMode,m=void 0===p?"wrap":p,f=r.className,g=r.children,_=r.direction,v=r.justifyContent,b=r.spacing,y=r.divider,x=r.style,w=r.wrap,E=yn(r,Hx),S=j_(h),C=S.withClassPrefix,T=S.merge,N=S.prefix,A=T(f,C()),k=Ux(),R=Array.isArray(b)?b:[b,b],I=((n={})[s?"marginLeft":"marginRight"]=R[0],n.marginBottom=R[1],n),O=Vf({alignItems:d,justifyContent:v,flexDirection:_,flexWrap:w?"wrap":void 0,gap:k?b:void 0},x),j=a.Children.toArray(g),P=zx.count(j);return a.createElement(l,Vf({},E,{ref:t,className:A,style:O}),zx.map(j,function(e,t){return["wrap"!==m||function(e){var t;return e.type===Lx||"StackItem"===(null===(t=e.type)||void 0===t?void 0:t.displayName)}(e)?a.cloneElement(e,{className:T(N("item"),e.props.className),style:k?e.props.style:Vf({},I,e.props.style)}):a.createElement(Lx,{key:t,className:N("item"),style:k?void 0:I},e),t<P-1?y:null]}))});Wx.Item=Lx,Wx.displayName="Stack",Wx.propTypes={className:h_().string,children:h_().node,classPrefix:h_().string,direction:Tx(["row","row-reverse","column","column-reverse"]),alignItems:Tx(["flex-start","center","flex-end","stretch","baseline"]),justifyContent:Tx(["flex-start","center","flex-end","space-between","space-around"]),spacing:h_().oneOfType([h_().number,h_().string,h_().array]),divider:h_().node,wrap:h_().bool};const Gx=Wx;var qx=function(e,t){var n=(0,a.useRef)(!0);(0,a.useEffect)(function(){n.current?n.current=!1:e()},t)};var Yx={};function Xx(e){Yx[e]||(console.warn(e),Yx[e]=!0)}Xx._resetWarned=function(){for(var e in Yx)delete Yx[e]};function Kx(e,t){return function(n,i,r){null!=n[i]&&Xx('[rsuite] "'+i+'" property of '+r+" component has been deprecated.\n"+t);for(var a=arguments.length,s=new Array(a>3?a-3:0),o=3;o<a;o++)s[o-3]=arguments[o];return e.apply(void 0,[n,i,r].concat(s))}}var Jx=n(3097),Zx=n.n(Jx),Qx=n(141),$x=n.n(Qx),ew=a.createContext({});ew.displayName="OverlayContext";const tw=ew;function nw(e,t){var n,i;null===(n=e.style)||void 0===n||null===(i=n.removeProperty)||void 0===i||i.call(n,t)}function iw(e,t){"string"===typeof t?nw(e,t):Array.isArray(t)&&t.forEach(function(t){return nw(e,t)})}const rw=function(e,t,n){var i="",r=t;if("string"===typeof t){if(void 0===n)throw new Error("value is undefined");(r={})[t]=n}if("object"===typeof r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(r[a]||0===r[a]?i+=Vg(a)+":"+r[a]+";":iw(e,Vg(a)));e.style.cssText+=";"+i};var aw,sw=[],ow=function(){return sw.some(function(e){return e.activeTargets.length>0})},lw="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(aw||(aw={}));var cw,dw=function(e){return Object.freeze(e)},uw=function(e,t){this.inlineSize=e,this.blockSize=t,dw(this)},hw=function(){function e(e,t,n,i){return this.x=e,this.y=t,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,dw(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),pw=function(e){return e instanceof SVGElement&&"getBBox"in e},mw=function(e){if(pw(e)){var t=e.getBBox(),n=t.width,i=t.height;return!n&&!i}var r=e,a=r.offsetWidth,s=r.offsetHeight;return!(a||s||e.getClientRects().length)},fw=function(e){var t;if(e instanceof Element)return!0;var n=null===(t=null===e||void 0===e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},gw="undefined"!==typeof window?window:{},_w=new WeakMap,vw=/auto|scroll/,bw=/^tb|vertical/,yw=/msie|trident/i.test(gw.navigator&&gw.navigator.userAgent),xw=function(e){return parseFloat(e||"0")},ww=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new uw((n?t:e)||0,(n?e:t)||0)},Ew=dw({devicePixelContentBoxSize:ww(),borderBoxSize:ww(),contentBoxSize:ww(),contentRect:new hw(0,0,0,0)}),Sw=function(e,t){if(void 0===t&&(t=!1),_w.has(e)&&!t)return _w.get(e);if(mw(e))return _w.set(e,Ew),Ew;var n=getComputedStyle(e),i=pw(e)&&e.ownerSVGElement&&e.getBBox(),r=!yw&&"border-box"===n.boxSizing,a=bw.test(n.writingMode||""),s=!i&&vw.test(n.overflowY||""),o=!i&&vw.test(n.overflowX||""),l=i?0:xw(n.paddingTop),c=i?0:xw(n.paddingRight),d=i?0:xw(n.paddingBottom),u=i?0:xw(n.paddingLeft),h=i?0:xw(n.borderTopWidth),p=i?0:xw(n.borderRightWidth),m=i?0:xw(n.borderBottomWidth),f=u+c,g=l+d,_=(i?0:xw(n.borderLeftWidth))+p,v=h+m,b=o?e.offsetHeight-v-e.clientHeight:0,y=s?e.offsetWidth-_-e.clientWidth:0,x=r?f+_:0,w=r?g+v:0,E=i?i.width:xw(n.width)-x-y,S=i?i.height:xw(n.height)-w-b,C=E+f+y+_,T=S+g+b+v,N=dw({devicePixelContentBoxSize:ww(Math.round(E*devicePixelRatio),Math.round(S*devicePixelRatio),a),borderBoxSize:ww(C,T,a),contentBoxSize:ww(E,S,a),contentRect:new hw(u,l,E,S)});return _w.set(e,N),N},Cw=function(e,t,n){var i=Sw(e,n),r=i.borderBoxSize,a=i.contentBoxSize,s=i.devicePixelContentBoxSize;switch(t){case aw.DEVICE_PIXEL_CONTENT_BOX:return s;case aw.BORDER_BOX:return r;default:return a}},Tw=function(e){var t=Sw(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=dw([t.borderBoxSize]),this.contentBoxSize=dw([t.contentBoxSize]),this.devicePixelContentBoxSize=dw([t.devicePixelContentBoxSize])},Nw=function(e){if(mw(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},Aw=function(){var e=1/0,t=[];sw.forEach(function(n){if(0!==n.activeTargets.length){var i=[];n.activeTargets.forEach(function(t){var n=new Tw(t.target),r=Nw(t.target);i.push(n),t.lastReportedSize=Cw(t.target,t.observedBox),r<e&&(e=r)}),t.push(function(){n.callback.call(n.observer,i,n.observer)}),n.activeTargets.splice(0,n.activeTargets.length)}});for(var n=0,i=t;n<i.length;n++){(0,i[n])()}return e},kw=function(e){sw.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(n){n.isActive()&&(Nw(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))})})},Rw=function(){var e=0;for(kw(e);ow();)e=Aw(),kw(e);return sw.some(function(e){return e.skippedTargets.length>0})&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:lw}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=lw),window.dispatchEvent(e)}(),e>0},Iw=[],Ow=function(e){if(!cw){var t=0,n=document.createTextNode("");new MutationObserver(function(){return Iw.splice(0).forEach(function(e){return e()})}).observe(n,{characterData:!0}),cw=function(){n.textContent="".concat(t?t--:t++)}}Iw.push(e),cw()},jw=0,Pw={attributes:!0,characterData:!0,childList:!0,subtree:!0},Dw=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Lw=function(e){return void 0===e&&(e=0),Date.now()+e},Mw=!1,Uw=function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!Mw){Mw=!0;var n,i=Lw(e);n=function(){var n=!1;try{n=Rw()}finally{if(Mw=!1,e=i-Lw(),!jw)return;n?t.run(1e3):e>0?t.run(e):t.start()}},Ow(function(){requestAnimationFrame(n)})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Pw)};document.body?t():gw.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Dw.forEach(function(t){return gw.addEventListener(t,e.listener,!0)}))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Dw.forEach(function(t){return gw.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},e}(),Fw=new Uw,Bw=function(e){!jw&&e>0&&Fw.start(),!(jw+=e)&&Fw.stop()},Vw=function(){function e(e,t){this.target=e,this.observedBox=t||aw.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=Cw(this.target,this.observedBox,!0);return e=this.target,pw(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),zw=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},Hw=new WeakMap,Ww=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Gw=function(){function e(){}return e.connect=function(e,t){var n=new zw(e,t);Hw.set(e,n)},e.observe=function(e,t,n){var i=Hw.get(e),r=0===i.observationTargets.length;Ww(i.observationTargets,t)<0&&(r&&sw.push(i),i.observationTargets.push(new Vw(t,n&&n.box)),Bw(1),Fw.schedule())},e.unobserve=function(e,t){var n=Hw.get(e),i=Ww(n.observationTargets,t),r=1===n.observationTargets.length;i>=0&&(r&&sw.splice(sw.indexOf(n),1),n.observationTargets.splice(i,1),Bw(-1))},e.disconnect=function(e){var t=this,n=Hw.get(e);n.observationTargets.slice().forEach(function(n){return t.unobserve(e,n.target)}),n.activeTargets.splice(0,n.activeTargets.length)},e}(),qw=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Gw.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!fw(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Gw.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!fw(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Gw.unobserve(this,e)},e.prototype.disconnect=function(){Gw.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const Yw=function(e){return 1===(null===e||void 0===e?void 0:e.nodeType)&&"string"===typeof(null===e||void 0===e?void 0:e.nodeName)};var Xw=n(2794),Kw=n.n(Xw),Jw=n(9364),Zw=n.n(Jw),Qw={left:"Start",right:"End",top:"Start",bottom:"End"};function $w(e){var t,n,i,r;if("BODY"===e.tagName)t=window.innerWidth,n=window.innerHeight,r=Hg(jg(e).documentElement)||Hg(e),i=Wg(jg(e).documentElement)||Wg(e);else{var a=Dg(e);t=a.width,n=a.height,r=Hg(e),i=Wg(e)}return{width:t,height:n,scrollX:i,scrollY:r}}var eE=function(e,t){var n=e.placement,i=void 0===n?"right":n,r=e.preventOverflow,s=void 0!==r&&r,o=e.containerPadding,l=void 0===o?0:o,c=e.container,d=e.triggerTarget,u=e.followCursor,h=e.cursorPosition,p=(0,a.useRef)(null),m=(0,a.useRef)(null),f=(0,a.useRef)(),g={positionLeft:0,positionTop:0,arrowOffsetLeft:void 0,arrowOffsetTop:void 0},_=(0,a.useState)(g),v=_[0],b=_[1],y=(0,a.useMemo)(function(){return function(e){var t=e.placement,n=e.preventOverflow,i=e.padding;function r(e,t,r){if(!n)return 0;var a=$w(r),s=a.height,o=a.scrollY,l=e-i-o,c=e+i+t-o;return l<0?-l:c>s?s-c:0}function a(e,t,r){if(!n)return 0;var a=$w(r),s=a.scrollX,o=a.width,l=e-i-s,c=e+i+t-s;return l<0?-l:c>o?o-c:0}function s(e,t,i){if(!n)return i;var r=$w(e),a=r.scrollY,s=r.height;return t+i>s+a?s-t+a:Math.max(a,i)}function o(e,t,i){if(!n)return i;var r=$w(e),a=r.scrollX,s=r.width;return t+i>s+a?s-t+a:Math.max(a,i)}return{getPosition:function(e,t){return"BODY"===t.tagName?Dg(e):Gg(e,t,!1)},getCursorOffsetPosition:function(e,t,n){var i=n.left,r=n.top,a=n.clientLeft,s=n.clientTop,o={left:i,top:r,width:10,height:10};if("fixed"===zg(e,"position"))return o.left=a,o.top=s,o;if("BODY"===t.tagName)return o;var l={top:0,left:0};if("html"!==Lg(t)){var c=Dg(t);c&&(l.top=c.top,l.left=c.left)}return l.top+=parseInt(zg(t,"borderTopWidth"),10)-Hg(t)||0,l.left+=parseInt(zg(t,"borderLeftWidth"),10)-Wg(t)||0,o.left=i-l.left,o.top=r-l.top,o},calcAutoPlacement:function(e,n,i){var r,a,s=$w(n),o=s.width,l=s.height,c=s.scrollX,d=s.scrollY,u=e.left-c-i.width,h=e.top-d-i.height,p=[{key:"left",value:u},{key:"right",value:o-e.left-e.width+c-i.width}],m=[{key:"top",value:h},{key:"bottom",value:l-e.top-e.height+d-i.height}],f="autoVertical",g="autoHorizontal";return-1!==t.indexOf(f)?(r=Kw()(m,function(e){return e.value}),t===f?r.key:""+r.key+t.replace(f,"")):-1!==t.indexOf(g)?(r=Kw()(p,function(e){return e.value}),t===g?r.key:""+r.key+t.replace(g,"")):(a="left"===(r=Kw()([].concat(m,p),function(e){return e.value})).key||"right"===r.key?Zw()(m,function(e){return e.value}):Zw()(p,function(e){return e.value}),""+r.key+Qw[a.key])},calcOverlayPosition:function(e,n,i,l){var c,d,u,h,p=l?this.getCursorOffsetPosition(n,i,l):this.getPosition(n,i),m=Dg(e),f=m.height,g=m.width,_=p.top,v=p.left,b=t;if(t&&t.indexOf("auto")>=0&&(b=this.calcAutoPlacement(p,i,{height:f,width:g})),"left"===b||"right"===b){var y=r(d=p.top+(p.height-f)/2,f,i);d+=y,h=50*(1-2*y/f)+"%",u=void 0}else if("top"===b||"bottom"===b){var x=a(c=v+(p.width-g)/2,g,i);c+=x,u=50*(1-2*x/g)+"%",h=void 0}if("top"!==b&&"topStart"!==b&&"topEnd"!==b||(d=s(i,f,p.top-f)),"bottom"!==b&&"bottomStart"!==b&&"bottomEnd"!==b||(d=s(i,f,p.top+p.height)),"left"!==b&&"leftStart"!==b&&"leftEnd"!==b||(c=o(i,g,p.left-g)),"right"!==b&&"rightStart"!==b&&"rightEnd"!==b||(c=o(i,g,p.left+p.width)),"rtl"===document.dir&&("left"===b||"leftStart"===b||"leftEnd"===b||"right"===b||"rightStart"===b||"rightEnd"===b)){var w=$w(i).width;i.scrollWidth>w&&(c=w+c-i.scrollWidth)}if("topStart"===b||"bottomStart"===b)if("rtl"===document.dir){var E=v+(p.width-g);c=E+a(E,g,i)}else c=v+a(v,g,i);if("topEnd"===b||"bottomEnd"===b)if("rtl"===document.dir)c=v+a(v,g,i);else{var S=v+(p.width-g);c=S+a(S,g,i)}if("leftStart"!==b&&"rightStart"!==b||(d=_+r(_,f,i)),"leftEnd"===b||"rightEnd"===b){var C=_+(p.height-f);d=C+r(C,f,i)}return{positionLeft:c,positionTop:d,arrowOffsetLeft:u,arrowOffsetTop:h,positionClassName:"placement-"+m_()(b)}}}}({placement:i,preventOverflow:s,padding:l})},[i,s,l]),x=(0,a.useCallback)(function(e,n){if(void 0===e&&(e=!0),null!==d&&void 0!==d&&d.current){var i=E_(d);if(!Yw(i))throw new Error("`target` should return an HTMLElement");if(i!==m.current||e){var r,a=E_(t.current),s=function(e,t){return(e="function"===typeof e?e():e)||t}("function"===typeof c?c():null!==c&&void 0!==c?c:null,jg(t.current).body),o=y.calcOverlayPosition(a,i,s,u?h:void 0);if(n&&a)Ag(a,null===a||void 0===a||null===(r=a.className)||void 0===r||null===(r=r.match(/(placement-\S+)/))||void 0===r?void 0:r[0]),o.positionClassName&&Ng(a,o.positionClassName),rw(a,{left:o.positionLeft+"px",top:o.positionTop+"px"});else b(o);p.current=s,m.current=i}}},[c,t,d,y,u,h]);return(0,a.useEffect)(function(){x(!1);var e,n,i=E_(t.current);p.current&&s&&(e=v_("BODY"===(null===(n=p.current)||void 0===n?void 0:n.tagName)?window:p.current,"scroll",function(){return x(!0,!0)}));var r=v_(window,"resize",function(){return x(!0,!0)});return i&&(f.current=new qw(function(){return x(!0,!0)}),f.current.observe(i)),function(){var t,n;m.current=null,null===(t=e)||void 0===t||t.off(),null===r||void 0===r||r.off(),null===(n=f.current)||void 0===n||n.disconnect()}},[s,t,x]),qx(function(){return x()},[x,i]),[v,x]},tE=a.forwardRef(function(e,t){var n=e.children,i=e.className,r=e.followCursor,s=e.cursorPosition,o=a.useRef(null),l=eE(e,o),c=l[0],d=l[1],u=c.positionClassName,h=c.arrowOffsetLeft,p=c.arrowOffsetTop,m=c.positionLeft,f=c.positionTop;return(0,a.useImperativeHandle)(t,function(){return{get child(){return o.current},updatePosition:d}}),(0,a.useEffect)(function(){r&&s&&d()},[r,s,d]),"function"===typeof n?n({className:Jf()(i,u),arrowOffsetLeft:h,arrowOffsetTop:p,left:m,top:f},o):n});tE.displayName="Position",tE.propTypes={className:h_().string,children:h_().func.isRequired,container:h_().oneOfType([h_().func,h_().any]),containerPadding:h_().number,placement:h_().any,preventOverflow:h_().bool,triggerTarget:h_().any};const nE=tE;var iE=[].concat(["top","bottom","right","left"],["bottomStart","bottomEnd","topStart","topEnd","leftStart","rightStart","leftEnd","rightEnd"],["auto","autoVertical","autoVerticalStart","autoVerticalEnd","autoHorizontal","autoHorizontalStart","autoHorizontalEnd"]),rE="ArrowLeft",aE="ArrowUp",sE="ArrowRight",oE="ArrowDown",lE="Enter",cE="Tab",dE="Backspace",uE="Escape",hE=function(e){return e.CALENDAR="CALENDAR",e.TOOLBAR_BUTTON_OK="TOOLBAR_BUTTON_OK",e.TOOLBAR_SHORTCUT="TOOLBAR_SHORTCUT",e.INPUT="INPUT",e}({});function pE(e,t){var n=t.disabled,i=t.triggerTarget,r=t.overlayTarget,s=t.listenEscape,o=void 0===s||s,l=(0,a.useCallback)(function(t){o&&t.key===uE&&(null===e||void 0===e||e(t))},[o,e]),c=(0,a.useCallback)(function(t){var n=S_(i),a=S_(r);n&&Og(n,t.target)||a&&Og(a,t.target)||!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||null!==e&&void 0!==e&&e.shiftKey)}(t)&&function(e){return 0===(null===e||void 0===e?void 0:e.button)}(t)&&(null===e||void 0===e||e(t))},[e,i,r]);(0,a.useEffect)(function(){var e=S_(i);if(!n&&e){var t=jg(e),r=v_(t,"mousedown",c,!0),a=v_(t,"keyup",l);return function(){null===r||void 0===r||r.off(),null===a||void 0===a||a.off()}}},[i,n,e,c,l])}var mE=["timeout","className"],fE=a.forwardRef(function(e,t){var n=e.timeout,i=void 0===n?300:n,r=e.className,s=yn(e,mE),o=j_("anim"),l=o.prefix,c=o.merge,d=_x("Fade",s).propsWithDefaults;return a.createElement(R_,Vf({},d,{ref:t,timeout:i,className:c(r,l("fade")),enteredClassName:l("in"),enteringClassName:l("in")}))});fE.displayName="Fade";const gE=fE;var _E={container:h_().any,children:h_().any,childrenProps:h_().object,className:h_().string,containerPadding:h_().number,placement:h_().any,preventOverflow:h_().bool,open:h_().bool,rootClose:h_().bool,transition:h_().any,triggerTarget:h_().any,onClose:h_().func,onEnter:h_().func,onEntering:h_().func,onEntered:h_().func,onExit:h_().func,onExiting:h_().func,onExited:h_().func},vE=a.forwardRef(function(e,t){var n=(0,a.useContext)(tw).overlayContainer,i=e.container,r=void 0===i?n:i,s=e.containerPadding,o=e.placement,l=e.rootClose,c=e.children,d=e.childrenProps,u=e.transition,h=void 0===u?gE:u,p=e.open,m=e.preventOverflow,f=e.triggerTarget,g=e.onClose,_=e.onExited,v=e.onExit,b=e.onExiting,y=e.onEnter,x=e.onEntering,w=e.onEntered,E=e.followCursor,S=e.cursorPosition,C=(0,a.useState)(!p),T=C[0],N=C[1],A=(0,a.useRef)(null);p?T&&N(!1):h||T||N(!0);var k=p||h&&!T,R=(0,a.useCallback)(function(e){N(!0),null===_||void 0===_||_(e)},[_]);if(pE(g,{triggerTarget:f,overlayTarget:A,disabled:!l||!k}),!k)return null;var I={container:r,containerPadding:s,triggerTarget:f,placement:o,preventOverflow:m,followCursor:E,cursorPosition:S},O=function(e,n){return a.createElement(nE,Vf({},I,e,{ref:Ev(t,n)}),function(e,t){if("function"===typeof c)return c(Object.assign(e,d),Ev(t,A));var n=e.left,i=e.top,r=e.className;return a.cloneElement(c,Vf({},d,c.props,{className:Jf()(r,c.props.className),style:Vf({left:n,top:i},c.props.style),ref:Ev(t,A)}))})};return h?a.createElement(h,{in:p,transitionAppear:!0,onExit:v,onExiting:b,onExited:R,onEnter:y,onEntering:x,onEntered:w},O):O()});vE.displayName="Overlay",vE.propTypes=_E;const bE=vE;function yE(e,t){var n=(0,a.useRef)(!1);n.current=void 0!==e;var i=(0,a.useState)(t),r=i[0],s=i[1];return[n.current?e:r,(0,a.useCallback)(function(e){n.current||s(e)},[n]),n.current]}var xE=["children","container","controlId","defaultOpen","trigger","disabled","followCursor","readOnly","plaintext","open","delay","delayOpen","delayClose","enterable","placement","speaker","rootClose","onClick","onMouseOver","onMouseMove","onMouseOut","onContextMenu","onFocus","onBlur","onOpen","onClose","onExited"];var wE=function(e){return e[e.ClickOutside=0]="ClickOutside",e[e.ImperativeHandle=1]="ImperativeHandle",e}({});function EE(e,t,n){var i=t.currentTarget,r=t.relatedTarget||Zx()(t,["nativeEvent","toElement"]);r&&r===i||Og(i,r)||e(t,n)}var SE=["hover","focus"],CE=a.forwardRef(function(e,t){var n=(0,a.useContext)(tw).overlayContainer,i=e.children,r=e.container,s=void 0===r?n:r,o=e.controlId,l=e.defaultOpen,c=e.trigger,d=void 0===c?SE:c,u=e.disabled,h=e.followCursor,p=e.readOnly,m=e.plaintext,f=e.open,g=e.delay,_=e.delayOpen,v=e.delayClose,b=e.enterable,y=e.placement,x=void 0===y?"bottomStart":y,w=e.speaker,E=e.rootClose,S=void 0===E||E,C=e.onClick,T=e.onMouseOver,N=e.onMouseMove,A=e.onMouseOut,k=e.onContextMenu,R=e.onFocus,I=e.onBlur,O=e.onOpen,j=e.onClose,P=e.onExited,D=yn(e,xE),L=qf({container:s}),M=L.Portal,U=L.target,F=(0,a.useRef)(null),B=(0,a.useRef)(),V=yE(f,l),z=V[0],H=V[1],W=(0,a.useState)(null),G=W[0],q=W[1],Y=(0,a.useRef)(null),X=(0,a.useRef)(null),K=Q_()(_)?g:_,J=Q_()(v)?g:v,Z=(0,a.useRef)(!1),Q=(0,a.useRef)(!1);(0,a.useEffect)(function(){return function(){Q_()(Y.current)||clearTimeout(Y.current),Q_()(X.current)||clearTimeout(X.current)}},[]);var $=(0,a.useRef)(!1),ee=(0,a.useCallback)(function(e,t){e!==z&&(e?null===O||void 0===O||O():null===j||void 0===j||j(t),H(e))},[z,O,j,H]),te=(0,a.useCallback)(function(e){var t=$x()(e)?K:e;if(t&&"number"===typeof t)return Y.current=setTimeout(function(){Y.current=null,$.current&&ee(!0)},t);ee(!0)},[K,ee]),ne=(0,a.useCallback)(function(e,t){var n=$x()(e)?J:e;if(n&&"number"===typeof n)return X.current=setTimeout(function(){X.current=null,ee(!1,t)},n);ee(!1,t)},[J,ee]),ie=(0,a.useCallback)(function(){q(null)},[]);(0,a.useImperativeHandle)(t,function(){return{get root(){return F.current},get overlay(){var e;return null===(e=B.current)||void 0===e?void 0:e.child},getState:function(){return{open:z}},open:te,close:function(e){return ne(e,wE.ImperativeHandle)},updatePosition:function(){var e,t;null===(e=B.current)||void 0===e||null===(t=e.updatePosition)||void 0===t||t.call(e)}}});var re=(0,a.useCallback)(function(){Z.current||Q.current||ne(void 0,wE.ClickOutside)},[ne]),ae=(0,a.useCallback)(function(){return $.current=!0,b?(Q.current=!0,Q_()(X.current)?void(z||te()):(clearTimeout(X.current),X.current=null,te())):te()},[b,z,te]),se=(0,a.useCallback)(function(){z?re():ae()},[z,re,ae]),oe=(0,a.useCallback)(function(){return $.current=!1,b?(Q.current=!1,Q_()(Y.current)?void(z&&Q_()(X.current)&&(X.current=setTimeout(function(){Q_()(X.current)||(clearTimeout(X.current),X.current=null),re()},200))):(clearTimeout(Y.current),void(Y.current=null))):ne()},[b,z,ne,re]),le=(0,a.useCallback)(function(){Z.current=!0},[]),ce=(0,a.useCallback)(function(){Z.current=!1,Ax("click",d)||Ax("contextMenu",d)||Ax("active",d)||re()},[re,d]),de=(0,a.useCallback)(function(e){q(function(){return{top:e.pageY,left:e.pageX,clientTop:e.clientX,clientLeft:e.clientY}})},[]),ue=(0,a.useCallback)(function(e){e.preventDefault()},[]),he=(0,a.useMemo)(function(){var e={onClick:C,onContextMenu:k,onMouseOver:T,onMouseOut:A,onFocus:R,onBlur:I,onMouseMove:N};if(u||p||m||"none"===d)return e;if(h&&(e.onMouseMove=D_(de,N)),Ax("click",d))return e.onClick=D_(se,e.onClick),e;if(Ax("active",d))return e.onClick=D_(ae,e.onClick),e;if(Ax("hover",d)){e.onMouseOver=D_(function(e){return EE(ae,e)},e.onMouseOver),e.onMouseOut=D_(function(e){return EE(oe,e)},e.onMouseOut)}return Ax("focus",d)&&(e.onFocus=D_(ae,e.onFocus),e.onBlur=D_(oe,e.onBlur)),Ax("contextMenu",d)&&(e.onContextMenu=D_(ue,se,e.onContextMenu)),e},[u,h,oe,ae,se,de,I,C,k,R,N,A,T,m,ue,p,d]),pe=(0,a.useMemo)(function(){return"function"===typeof i?i(he,F):Fx(i)||!(0,a.isValidElement)(i)?a.createElement("span",Vf({ref:F,"aria-describedby":o},he),i):(0,a.cloneElement)(i,Vf({ref:F,"aria-describedby":o},function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n={};return Object.keys(e).forEach(function(i){var r;e[i]&&(n[i]=D_(e[i],null===(r=t)||void 0===r?void 0:r[i]))}),n}(he,i.props)))},[i,o,he]);return a.createElement(a.Fragment,null,pe,a.createElement(M,null,function(){var e=Vf({},D,{rootClose:S,triggerTarget:F,onClose:"none"!==d?function(){return ne(void 0,wE.ClickOutside)}:void 0,onExited:D_(h?ie:void 0,P),placement:x,container:U,open:z}),t={id:o};return"none"!==d&&b&&(t.onMouseEnter=le,t.onMouseLeave=ce),a.createElement(bE,Vf({},e,{ref:B,childrenProps:t,followCursor:h,cursorPosition:G}),"function"===typeof w?function(e,t){return w(Vf({},e,{onClose:ne}),t)}:w)}()))});CE.displayName="OverlayTrigger";const TE=CE;var NE=n(111),AE=n.n(NE),kE=s["useId".toString()];function RE(e,t){var n=a.useRef();return void 0!==kE?null!==t&&void 0!==t?t:""+e+kE():(n.current||(n.current=AE()(e)),null!==t&&void 0!==t?t:n.current)}function IE(e,t){return void 0===t&&(t=!1),"string"===typeof e?(t&&(e=e.replace(/left|right/,function(e){return"left"===e?"right":"left"})),e.replace(/Left|Top/,"Start").replace(/Right|Bottom/,"End")):e}var OE=["pickerProps","speaker","placement","trigger","id","multiple","popupType"],jE=["onEntered","onExited","onEnter","onEntering","onExit","onExiting","open","onOpen","defaultOpen","onClose","container","containerPadding","preventOverflow"],PE=[].concat(jE,["disabled","plaintext","readOnly","loading","label"]),DE=a.createContext({popupType:"listbox"}),LE=a.forwardRef(function(e,t){var n=e.pickerProps,i=e.speaker,r=e.placement,s=e.trigger,o=void 0===s?"click":s,l=e.id,c=e.multiple,d=e.popupType,u=void 0===d?"listbox":d,h=yn(e,OE),p=ev()(n,PE),m=RE("rs-",l),f=_x().rtl;return a.createElement(DE.Provider,{value:{id:m,hasLabel:"undefined"!==typeof p.label,multiple:c,popupType:u}},a.createElement(TE,Vf({},p,h,{disabled:p.disabled||p.loading,ref:t,trigger:o,placement:IE(r,f),speaker:i})))});LE.displayName="PickerToggleTrigger";const ME=LE;function UE(e){zv(1,arguments);var t=Hv(e);return t.setHours(0,0,0,0),t}function FE(){return UE(Date.now())}function BE(e){zv(1,arguments);var t=Hv(e);return t.setHours(23,59,59,999),t}function VE(e,t){zv(2,arguments);var n=Hv(e),i=Gv(t);return isNaN(i)?new Date(NaN):i?(n.setDate(n.getDate()+i),n):n}function zE(e,t){return zv(2,arguments),VE(e,-Gv(t))}var HE=function(e){return e.DisabledHours="disabledHours",e.DisabledMinutes="disabledMinutes",e.DisabledSeconds="disabledSeconds",e.ShouldDisableHour="shouldDisableHour",e.ShouldDisableMinute="shouldDisableMinute",e.ShouldDisableSecond="shouldDisableSecond",e.HideHours="hideHours",e.HideMinutes="hideMinutes",e.HideSeconds="hideSeconds",e}({}),WE=[HE.DisabledHours,HE.DisabledMinutes,HE.DisabledSeconds,HE.HideHours,HE.HideMinutes,HE.HideSeconds],GE=["value"];function qE(e){var t=FE();return e instanceof Array?[{label:"today",value:[UE(t),BE(t)]},{label:"yesterday",value:[UE(zE(t,1)),BE(zE(t,1))]},{label:"last7Days",value:[UE(zE(t,6)),BE(t)]}]:[{label:"today",value:t},{label:"yesterday",value:zE(t,1)}]}var YE=function(e){var t=e.ranges,n=e.calendarDate;return"undefined"===typeof t?qE(n):t.map(function(e){var t=e.calendarDate;return function(e){var n=e.value,i=yn(e,GE);return Vf({value:"function"===typeof n?n(t):n},i)}}({calendarDate:n}))};var XE={disabledDate:Kx(h_().func,'Use "shouldDisableDate" property instead.'),disabledHours:Kx(h_().func,'Use "shouldDisableHour" property instead.'),disabledMinutes:Kx(h_().func,'Use "shouldDisableMinute" property instead.'),disabledSeconds:Kx(h_().func,'Use "shouldDisableSecond" property instead.')},KE=["className","disableShortcut","onShortcutClick","calendarDate","ranges","locale"],JE=["value","closeOverlay","label"],ZE=a.forwardRef(function(e,t){var n=e.className,i=e.disableShortcut,r=e.onShortcutClick,s=e.calendarDate,o=e.ranges,l=e.locale,c=yn(e,KE),d=(0,a.useState)(YE(e)),u=d[0],h=d[1];qx(function(){h(YE({ranges:o,calendarDate:s}))},[s,o]);var p=(0,a.useCallback)(function(e){return qE(s).some(function(t){return t.label===e})},[s]);return 0===u.length?null:a.createElement(Gx,Vf({className:n,ref:t,alignItems:"flex-start",spacing:4},c),u.map(function(e,t){var n=e.value,s=e.closeOverlay,o=e.label,c=yn(e,JE),d=null===i||void 0===i?void 0:i(n);return a.createElement(Px,Vf({appearance:"link",size:"sm",key:t,disabled:d,onClick:function(t){d||null===r||void 0===r||r(e,!1!==s,t)}},c),p(o)&&"string"===typeof o?null===l||void 0===l?void 0:l[o]:o)}))});const QE=ZE;var $E=["className","classPrefix","calendarDate","ranges","locale","hideOkBtn","disableOkBtn","disableShortcut","onOk","onShortcutClick"],eS=function(e){var t=e.disableOkBtn,n=e.calendarDate,i=e.onOk,r=e.children,s=null===t||void 0===t?void 0:t(n);return a.createElement(Px,{appearance:"primary",size:"sm",disabled:s,onClick:s?void 0:i},r)},tS=a.forwardRef(function(e,t){var n=e.className,i=e.classPrefix,r=void 0===i?"picker-toolbar":i,s=e.calendarDate,o=e.ranges,l=e.locale,c=e.hideOkBtn,d=e.disableOkBtn,u=e.disableShortcut,h=e.onOk,p=e.onShortcutClick,m=yn(e,$E),f=j_(r),g=f.merge,_=f.prefix,v=f.withClassPrefix;if(c&&0===(null===o||void 0===o?void 0:o.length))return null;var b=g(n,v());return a.createElement(Gx,Vf({ref:t,className:b,justifyContent:"space-between",alignItems:"flex-start"},m),a.createElement(QE,{wrap:!0,className:_("ranges"),ranges:o,calendarDate:s,locale:l,disableShortcut:u,onShortcutClick:p,"data-testid":"daterange-predefined-bottom"}),a.createElement("div",{className:_("right")},!c&&a.createElement(eS,{disableOkBtn:d,calendarDate:s,onOk:h},null===l||void 0===l?void 0:l.ok)))});tS.displayName="Toolbar";const nS=tS;var iS=a.createContext({}),rS=iS.Provider,aS=["as","classPrefix","controlId","className"],sS=a.createContext({}),oS=a.forwardRef(function(e,t){var n=_x("FormGroup",e).propsWithDefaults,i=n.as,r=void 0===i?"div":i,s=n.classPrefix,o=void 0===s?"form-group":s,l=n.controlId,c=n.className,d=yn(n,aS),u=j_(o),h=u.withClassPrefix,p=(0,u.merge)(c,h()),m=RE("rs-",l),f=(0,a.useMemo)(function(){return{controlId:m}},[m]);return a.createElement(sS.Provider,{value:f},a.createElement(r,Vf({},d,{ref:t,className:p,role:"group"})))});oS.displayName="FormGroup",oS.propTypes={controlId:h_().string,className:h_().string,classPrefix:h_().string};var lS=["as","classPrefix","className","disabled"],cS=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"span":n,r=e.classPrefix,s=void 0===r?"input-group-addon":r,o=e.className,l=e.disabled,c=yn(e,lS),d=j_(s),u=d.withClassPrefix,h=(0,d.merge)(o,u({disabled:l}));return a.createElement(i,Vf({},c,{ref:t,className:h}))});cS.displayName="InputGroupAddon",cS.propTypes={className:h_().string,classPrefix:h_().string,disabled:h_().bool};const dS=cS;var uS=["classPrefix","className"],hS=a.forwardRef(function(e,t){var n=e.classPrefix,i=void 0===n?"input-group-btn":n,r=e.className,s=yn(e,uS),o=j_(i),l=o.withClassPrefix,c=(0,o.merge)((0,j_("input-group-addon").withClassPrefix)(),r,l());return a.createElement(Px,Vf({},s,{ref:t,className:c}))});hS.displayName="InputGroupButton";const pS=hS;var mS=["as","classPrefix","className","disabled","inside","size","children"],fS=a.createContext(null),gS=a.forwardRef(function(e,t){var n=_x("InputGroup",e).propsWithDefaults,i=n.as,r=void 0===i?"div":i,s=n.classPrefix,o=void 0===s?"input-group":s,l=n.className,c=n.disabled,d=n.inside,u=n.size,h=n.children,p=yn(n,mS),m=(0,a.useState)(!1),f=m[0],g=m[1],_=(0,a.useCallback)(function(){g(!0)},[]),v=(0,a.useCallback)(function(){g(!1)},[]),b=j_(o),y=b.withClassPrefix,x=(0,b.merge)(l,y(u,{inside:d,focus:f,disabled:c})),w=(0,a.useCallback)(function(){return a.Children.map(h,function(e){return a.isValidElement(e)&&a.isValidElement(e)&&c?a.cloneElement(e,{disabled:c}):e})},[h,c]),E=(0,a.useMemo)(function(){return{onFocus:_,onBlur:v}},[_,v]);return a.createElement(fS.Provider,{value:E},a.createElement(r,Vf({},p,{ref:t,className:x}),w()))});gS.displayName="InputGroup",gS.propTypes={className:h_().string,classPrefix:h_().string,children:h_().node,disabled:h_().bool,inside:h_().bool,size:Tx(["lg","md","sm","xs"])},gS.Addon=dS,gS.Button=pS;const _S=gS;var vS=["as","classPrefix","className","children","localeKey","placeholder"],bS=a.forwardRef(function(e,t){var n=_x().getLocale,i=e.as,r=void 0===i?"div":i,s=e.classPrefix,o=void 0===s?"plaintext":s,l=e.className,c=e.children,d=e.localeKey,u=void 0===d?"":d,h=e.placeholder,p=void 0===h?n("Plaintext")[u]||"":h,m=yn(e,vS),f=j_(o),g=f.withClassPrefix,_=(0,f.merge)(l,g({empty:!c}));return a.createElement(r,Vf({role:"text"},m,{ref:t,className:_}),c||p)});bS.displayName="Plaintext";const yS=bS;var xS=h_().oneOfType([h_().func,h_().any]),wS=["className","classPrefix","as","type","disabled","value","defaultValue","inputRef","id","size","htmlSize","plaintext","placeholder","readOnly","onPressEnter","onFocus","onBlur","onKeyDown","onChange"],ES=a.forwardRef(function(e,t){var n=_x("Input",e).propsWithDefaults,i=n.className,r=n.classPrefix,s=void 0===r?"input":r,o=n.as,l=void 0===o?"input":o,c=n.type,d=void 0===c?"text":c,u=n.disabled,h=n.value,p=n.defaultValue,m=n.inputRef,f=n.id,g=n.size,_=n.htmlSize,v=n.plaintext,b=n.placeholder,y=n.readOnly,x=n.onPressEnter,w=n.onFocus,E=n.onBlur,S=n.onKeyDown,C=n.onChange,T=yn(n,wS),N=j_(s),A=N.withClassPrefix,k=(0,N.merge)(i,A(g,{plaintext:v})),R=(0,a.useContext)(fS),I=function(e){var t=a.useContext(sS),n=RE("rs-"),i=e||t.controlId||n;return{controlId:i,helpTextId:i+"-help-text",labelId:i+"-label",errorMessageId:i+"-error-message"}}(),O=I.controlId;if(v)return a.createElement(yS,{ref:t,localeKey:"unfilled",placeholder:b},"undefined"===typeof h?p:h);var j={};return!u&&!y&&(j.onChange=function(e){var t;null===C||void 0===C||C(null===(t=e.target)||void 0===t?void 0:t.value,e)},j.onKeyDown=function(e){e.key===lE&&(null===x||void 0===x||x(e)),null===S||void 0===S||S(e)},j.onFocus=D_(w,null===R||void 0===R?void 0:R.onFocus),j.onBlur=D_(E,null===R||void 0===R?void 0:R.onBlur)),a.createElement(l,Vf({},T,j,{ref:Ev(t,m),className:k,type:d,id:f||O,value:h,defaultValue:p,disabled:u,readOnly:y,size:_,placeholder:b}))});ES.displayName="Input",ES.propTypes={type:h_().string,as:h_().elementType,id:h_().string,classPrefix:h_().string,className:h_().string,disabled:h_().bool,value:h_().oneOfType([h_().string,h_().number]),defaultValue:h_().oneOfType([h_().string,h_().number]),size:Tx(["lg","md","sm","xs"]),inputRef:xS,onChange:h_().func,onFocus:h_().func,onBlur:h_().func,onKeyDown:h_().func,onPressEnter:h_().func};const SS=ES;function CS(e){var t=(0,a.useRef)(e);return Xf(function(){t.current=e}),(0,a.useCallback)(function(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(i))},[])}var TS={selectedPattern:"y",selectionStart:0,selectionEnd:0};function NS(){var e=(0,a.useState)(TS);return{selectedState:e[0],setSelectedState:e[1]}}const AS=NS;var kS=n(3345),RS=n.n(kS);function IS(e,t){zv(2,arguments);var n=Hv(e),i=Gv(t);if(isNaN(i))return new Date(NaN);if(!i)return n;var r=n.getDate(),a=new Date(n.getTime());return a.setMonth(n.getMonth()+i+1,0),r>=a.getDate()?a:(n.setFullYear(a.getFullYear(),a.getMonth(),r),n)}function OS(e){zv(1,arguments);var t=Hv(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function jS(e){zv(1,arguments);var t=Hv(e);return BE(t).getTime()===OS(t).getTime()}function PS(e){zv(1,arguments);var t=Hv(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function DS(e){var t="function"==typeof Map?new Map:void 0;return DS=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(Bb())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var r=new(e.bind.apply(e,i));return n&&f_(r,n.prototype),r}(e,arguments,Fb(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),f_(n,e)},DS(e)}function LS(e,t){zv(2,arguments);var n=Hv(e),i=Gv(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(i),n)}function MS(e){zv(1,arguments);var t=Hv(e),n=t.getFullYear(),i=t.getMonth(),r=new Date(0);return r.setFullYear(n,i+1,0),r.setHours(0,0,0,0),r.getDate()}function US(e,t){zv(2,arguments);var n=Hv(e),i=Gv(t),r=n.getFullYear(),a=n.getDate(),s=new Date(0);s.setFullYear(r,i,15),s.setHours(0,0,0,0);var o=MS(s);return n.setMonth(i,Math.min(a,o)),n}function FS(e,t){zv(2,arguments);var n=Hv(e),i=Gv(t);return n.setDate(i),n}function BS(e,t){zv(2,arguments);var n=Hv(e),i=Gv(t);return n.setHours(i),n}function VS(e,t){zv(2,arguments);var n=Hv(e),i=Gv(t);return n.setMinutes(i),n}function zS(e,t){zv(2,arguments);var n=Hv(e),i=Gv(t);return n.setSeconds(i),n}var HS="none";function WS(e,t,n){document.activeElement===e&&(Wf&&/Android/i.test(navigator.userAgent)?requestAnimationFrame(function(){return e.setSelectionRange(t,n,HS)}):e.setSelectionRange(t,n,HS))}function GS(e){var t=e.pattern,n=e.formatStr,i=e.valueOffset,r=e.selectedMonth,a=e.localize,s=0,o=n.includes("MMM"),l=n.includes("MMMM");if(o||l){var c="M"===t;if(c&&null===i)return 0;if(null===r&&0===i)return 0;var d=r?r+(c&&i||0):1;d>12?d=1:0===d&&(d=12),s=(null===a||void 0===a?void 0:a.month(d-1,{width:l?"wide":"abbreviated"})).length-(l?4:3)}return s}function qS(e){var t=e.selectionIndex,n=e.positionOffset,i=void 0===n?-1:n,r=e.formatStr,a=e.dateString,s=e.valueOffset,o=e.selectedMonth,l=e.localize,c=r.charAt(t||0);if(t<0||t>a.length-1)return c=r.trim().charAt(0);var d=0;(YS(t,r)&&(d=GS({pattern:c,formatStr:r,valueOffset:s,selectedMonth:o,localize:l})),(c=r.charAt(t-d)).match(/[y|d|M|H|h|m|s|a]/))||(c=qS(Vf({},e,{selectionIndex:t+i})));return c}function YS(e,t){return e>t.indexOf("M")}function XS(e){var t=e.input,n=e.direction,i=e.formatStr,r=e.localize,a=e.selectedMonth,s=e.dateString,o=e.valueOffset,l=void 0===o?0:o;if("number"===typeof t.selectionEnd&&"number"===typeof t.selectionStart){var c=t.selectionStart,d=-1;"left"===n?c=t.selectionStart-1:"right"===n&&(c=t.selectionEnd+1,d=1);var u=qS({selectionIndex:c,positionOffset:d,formatStr:i,dateString:s,valueOffset:l,selectedMonth:a,localize:r});return Vf({selectedPattern:u},function(e){var t=i.indexOf(e),n=i.lastIndexOf(e)+1,s=GS({pattern:e,formatStr:i,valueOffset:l,selectedMonth:a,localize:r}),o="M"===e;return null!==a||o&&0!==l?o?{selectionStart:t,selectionEnd:n+s}:YS(t,i)?{selectionStart:t+s,selectionEnd:n+s}:{selectionStart:t,selectionEnd:n}:{selectionStart:t,selectionEnd:n}}(u))}return{selectedPattern:"y",selectionStart:0,selectionEnd:0}}function KS(e,t){switch(e){case"year":if(t<1||t>9999)return!1;break;case"month":if(t<1||t>12)return!1;break;case"day":if(t<1||t>31)return!1;break;case"hour":if(t<0||t>23)return!1;break;case"minute":case"second":if(t<0||t>59)return!1;break;default:return!1}return!0}function JS(e){return function(t,n){"true"===e.current.dataset.test?WS(e.current,t,n):requestAnimationFrame(function(){WS(e.current,t,n)})}}var ZS={y:"year",M:"month",d:"day",H:"hour",h:"hour",m:"minute",s:"second",a:"meridiem"},QS=function(e){function t(t,n){var i;(i=e.call(this)||this).format=void 0,i.patternArray=[],i.year=null,i.month=null,i.day=null,i.hour=null,i.minute=null,i.second=null,i.format=t;var r=t.match(new RegExp("([y|d|M|H|h|m|s|a])+","ig"))||[];return i.patternArray=r.map(function(e){return{pattern:e,key:ZS[e[0]]}}),n&&Wv(n)&&(i.year=n.getFullYear(),i.month=n.getMonth()+1,i.day=n.getDate(),i.hour=n.getHours(),i.minute=n.getMinutes(),i.second=n.getSeconds()),i}return g_(t,e),t}(DS(Object));var $S=function(e,t,n){var i=(0,a.useReducer)(function(t,n){switch(n.type){case"setYear":return Vf({},t,{year:n.value});case"setMonth":return Vf({},t,{month:n.value});case"setDay":return Vf({},t,{day:n.value});case"setHour":return Vf({},t,{hour:n.value});case"setMinute":return Vf({},t,{minute:n.value});case"setSecond":return Vf({},t,{second:n.value});case"setNewDate":return new QS(e,n.value);default:return t}},new QS(e,n)),r=i[0],s=i[1],o=function(t,n){var i,a=null===(i=e.match(new RegExp("([y|d|M|H|h|m|s])+","ig")))||void 0===i?void 0:i.map(function(e){var i=ZS[e[0]];return null!==(t===i?n:r[i])});return null===a||void 0===a?void 0:a.every(function(e){return!1===e})};return{dateField:r,dispatch:s,toDate:function(t,n){var i=r.year,a=r.month,s=r.day,l=r.hour,c=r.minute,d=r.second,u=new Date(i||0,"number"===typeof a?Math.max(a-1,0):0,s||1,l||0,c||0,d||0);if("undefined"===typeof t||"undefined"===typeof n)return u;if(null===n||!function(t,n){var i,a=!0;return null===(i=e.match(new RegExp("([y|d|M|H|h|m|s])+","ig")))||void 0===i||i.forEach(function(e){var i=ZS[e[0]];null!==(t===i?n:r[i])||(a=!1)}),a}(t,n))return o(t,n)?null:new Date("");if(("day"===t||"month"===t)&&0===n)return new Date("");"meridiem"===t&&"number"===typeof l&&(t="hour",n=l>12?l-12:l+12);return function(e,t,n){switch(t){case"year":return LS(e,n);case"month":return US(e,n-1);case"day":return FS(e,n);case"hour":return BS(e,n);case"minute":return VS(e,n);case"second":return zS(e,n)}return e}(u,t,n)},toDateString:function(){var n=e;return r.patternArray.forEach(function(e){var i=e.key,a=e.pattern,s=r.hour,o=r[i];null!==o&&("MMM"===a&&"number"===typeof o?o=null===t||void 0===t?void 0:t.month(o-1,{width:"abbreviated"}):"MMMM"===a&&"number"===typeof o?o=null===t||void 0===t?void 0:t.month(o-1,{width:"wide"}):"aa"===a?o="number"===typeof s?s>12?"PM":"AM":"aa":"hh"===a&&"number"===typeof o&&(o=0===o?12:o>12?o-12:o),"number"===typeof o&&(o=function(e,t){var n=String(e);if(n.length>=t)return n;for(var i=t-n.length,r=0;r<i;r++)n="0"+n;return n}(o,a.length)),"undefined"!==typeof o&&(n=n.replace(a,o)))}),n},isEmptyValue:o}};function eC(e){var t=e.formatStr,n=e.locale,i=e.date,r=e.isControlledDate,s=_x().formatDate,o=$S(t,n.localize,i),l=o.dateField,c=o.dispatch,d=o.toDateString,u=o.toDate,h=o.isEmptyValue,p=(0,a.useCallback)(function(e){c({type:"setNewDate",value:e})},[c]);return(0,a.useEffect)(function(){r&&(i&&Wv(i)?p(i):null===i&&p(null))},[i,c,r,p]),{dateField:l,setDateOffset:function(e,t,n){var i,r,a=new Date,s=l.year||a.getFullYear(),o=l.month?l.month-1:a.getMonth(),d=l.day||0,h=l.hour||0,p=l.minute||0,m=l.second||0;switch(e){case"y":i="setYear",r=function(e,t){return zv(2,arguments),IS(e,12*Gv(t))}(new Date(s,0),t).getFullYear();break;case"M":i="setMonth",r=IS(new Date(s,o),t).getMonth()+1;break;case"d":i="setDay";var f=new Date(s,o,d);r=VE(f,t).getDate(),r=t>0?jS(f)?1:r:1===f.getDate()?PS(f).getDate():r;break;case"H":case"h":i="setHour",r=function(e,t){return zv(2,arguments),qv(e,36e5*Gv(t))}(new Date(s,o,d,h),t).getHours();break;case"m":i="setMinute",r=function(e,t){return zv(2,arguments),qv(e,6e4*Gv(t))}(new Date(s,o,d,h,p),t).getMinutes();break;case"s":i="setSecond",r=function(e,t){return zv(2,arguments),qv(e,1e3*Gv(t))}(new Date(s,o,d,h,p,m),t).getSeconds();break;case"a":i="setHour",r=h>=12?h-12:h+12}i&&"number"===typeof r&&(c({type:i,value:r}),null===n||void 0===n||n(u(ZS[e],r)))},setDateField:function(e,t,n){var i=ZS[e],r="set"+RS()(i);c({type:r,value:t}),null===n||void 0===n||n(u(i,t))},setNewDate:p,getDateField:function(e){var t=ZS[e];return{name:t,value:l[t]}},toDateString:r?function(){return i&&Wv(i)?s(i,t,{locale:n}):d()}:d,isEmptyValue:h}}const tC=eC;function nC(e,t){var n=(0,a.useRef)(0),i=(0,a.useCallback)(function(){n.current+=1},[]),r=(0,a.useCallback)(function(){n.current=0},[]),s=(0,a.useCallback)(function(){return 0===n.current},[]),o=(0,a.useCallback)(function(t,i){var r=function(e,t){var n;return(null===(n=e.match(new RegExp("("+t+")+")))||void 0===n?void 0:n[0])||""}(e,i);if(t.toString().length===r.length)return!0;if("y"===i&&4===n.current)return!0;if("y"!==i&&2===n.current)return!0;switch(i){case"M":case"h":return parseInt(t+"0")>12;case"d":return parseInt(t+"0")>31;case"H":return parseInt(t+"0")>23;case"m":case"s":return parseInt(t+"0")>59;default:return!1}},[e]);return qx(function(){t||r()},[t]),{increment:i,reset:r,isMoveCursor:o,isResetValue:s}}const iC=nC;function rC(e){var t=e.onFocus,n=e.onBlur,i=(0,a.useState)(!1),r=i[0],s=i[1];return[r,{onFocus:(0,a.useCallback)(function(e){s(!0),null===t||void 0===t||t(e)},[t]),onBlur:(0,a.useCallback)(function(e){s(!1),null===n||void 0===n||n(e)},[n])}]}const aC=rC;function sC(e){var t=e.onSegmentChange,n=e.onSegmentValueChange,i=e.onSegmentValueChangeWithNumericKeys,r=e.onSegmentValueRemove,a=e.onKeyDown;return function(e){var s,o,l=e.key;switch(l){case"ArrowRight":case"ArrowLeft":null===t||void 0===t||t(e),e.preventDefault();break;case"ArrowUp":case"ArrowDown":null===n||void 0===n||n(e),e.preventDefault();break;case"Backspace":null===r||void 0===r||r(e),e.preventDefault();break;case null===(s=l.match(/\d/))||void 0===s?void 0:s.input:null===i||void 0===i||i(e),e.preventDefault();case null===(o=l.match(/[a-z]/))||void 0===o?void 0:o[0]:if(e.ctrlKey||e.metaKey)break;e.preventDefault()}null===a||void 0===a||a(e)}}const oC=sC;var lC=function(e){return e.Start="Start",e.End="End",e}({});function cC(e){var t=e.input,n=e.direction,i=e.formatStr,r=e.rangeFormatStr,a=e.localize,s=e.selectedMonth,o=e.valueOffset,l=void 0===o?0:o,c=e.character,d=e.dateType,u=e.dateString;if("number"===typeof t.selectionEnd&&"number"===typeof t.selectionStart){var h=t.selectionStart,p=-1;"left"===n?h=t.selectionStart-1:"right"===n&&(h=t.selectionEnd+1,p=1);var m=u.indexOf(c)+c.length,f=qS({selectionIndex:d===lC.End?h-m:h,positionOffset:p,formatStr:i,dateString:u,valueOffset:l,selectedMonth:s,localize:a});return Vf({selectedPattern:f},function(e){var t=0,n=0;if(d===lC.Start)t=r.indexOf(e),n=r.split(c)[0].lastIndexOf(e)+1;else if(d===lC.End){var o=r.indexOf(c)+c.length;t=r.indexOf(e,o),n=r.lastIndexOf(e)+1}var h=u.indexOf(c)-r.indexOf(c);d===lC.End&&h>0&&(t+=h,n+=h);var p=GS({pattern:e,formatStr:i,valueOffset:l,selectedMonth:s,localize:a}),m="M"===e;return null!==s||m&&0!==l?m?{selectionStart:t,selectionEnd:n+p}:YS(t,i)?{selectionStart:t+p,selectionEnd:n+p}:{selectionStart:t,selectionEnd:n}:{selectionStart:t,selectionEnd:n}}(f))}return{selectedPattern:"y",selectionStart:0,selectionEnd:0}}var dC=["className","classPrefix","character","format","value","defaultValue","placeholder","onChange","onKeyDown","onBlur","onFocus","onPaste"],uC=a.forwardRef(function(e,t){var n=_x("Calendar",e),i=n.propsWithDefaults,r=n.parseDate,s=(0,n.getLocale)("DateTimeFormats"),o=s.shortDateFormat,l=s.dateLocale,c=i.className,d=i.classPrefix,u=void 0===d?"date-range-input":d,h=i.character,p=void 0===h?" ~ ":h,m=i.format,f=void 0===m?o:m,g=i.value,_=i.defaultValue,v=void 0===_?[]:_,b=i.placeholder,y=i.onChange,x=i.onKeyDown,w=i.onBlur,E=i.onFocus,S=i.onPaste,C=yn(i,dC),T=j_(u),N=T.withClassPrefix,A=(0,T.merge)(c,N()),k=(0,a.useRef)(),R=NS(),I=R.selectedState,O=R.setSelectedState,j=""+f+p+f,P=yE(g,v),D=P[0],L=P[1],M=P[2],U=(0,a.useState)(lC.Start),F=U[0],B=U[1],V={formatStr:f,locale:l,isControlledDate:M},z=eC(Vf({},V,{date:(null===D||void 0===D?void 0:D[0])||null})),H=eC(Vf({},V,{date:(null===D||void 0===D?void 0:D[1])||null})),W=nC(f,g),G=W.isMoveCursor,q=W.isResetValue,Y=W.increment,X=W.reset,K=function(e){return void 0===e&&(e=F),e===lC.Start?z:H},J=rC({onBlur:w,onFocus:E}),Z=J[0],Q=J[1],$=(0,a.useMemo)(function(){var e=z.toDateString()+p+H.toDateString();return z.isEmptyValue()&&H.isEmptyValue()?Z?e:"":e},[p,H,Z,z]),ee={formatStr:f,rangeFormatStr:j,localize:l.localize,selectedMonth:K().dateField.month,dateString:$,dateType:F,character:p},te=JS(k),ne=CS(function(e,t){var n=F===lC.Start?[e,null===D||void 0===D?void 0:D[1]]:[null===D||void 0===D?void 0:D[0],e];null===y||void 0===y||y(n,t),L(n)}),ie=CS(function(e){z.setNewDate(null),H.setNewDate(null),te(0,0),X(),L(null),null===y||void 0===y||y(null,e)}),re=CS(function(e,t){var n=e.target,i=e.key,r=t||("ArrowRight"===i?"right":"left");if(null!==n.selectionEnd&&null!==n.selectionStart){var a="right"===r?n.selectionEnd:n.selectionStart,s=F;(function(e,t,n,i){var r=e.indexOf(t),a=n,s=a+t.length;return"left"===i&&(a=(s=n)-t.length),e.substring(a,s)===t||"right"===i&&!e.substring(n,r).match(/[0-9a-zA-Z]/)||!e.substring(r,n).match(/[0-9a-zA-Z]/)})($,p,a,r)&&(s=F===lC.Start?lC.End:lC.Start,B(s));var o=cC(Vf({},ee,{dateType:s,selectedMonth:K(s).dateField.month,input:n,direction:r}));O(o),te(o.selectionStart,o.selectionEnd),I.selectedPattern!==o.selectedPattern&&X()}}),ae=CS(function(e){var t=e.target,n="ArrowUp"===e.key?1:-1,i=cC(Vf({},ee,{input:t,valueOffset:n}));O(i),K().setDateOffset(i.selectedPattern,n,function(t){return ne(t,e)}),te(i.selectionStart,i.selectionEnd)}),se=CS(function(e){var t=e.target,n=e.key,i=I.selectedPattern;if(!(n.startsWith("F")&&!isNaN(Number(n.slice(1))))&&i){var r=K().getDateField(i),a=parseInt(n,10),s=parseInt(""+(r.value||"")+n,10),o=a;KS(r.name,s)&&!q()&&(o=s),K().setDateField(i,o,function(t){return ne(t,e)});var l="M"===i?o:K().dateField.month,c=cC(Vf({},ee,{input:t,selectedMonth:l}));O(c),te(c.selectionStart,c.selectionEnd),Y(),G(o,i)&&t.selectionEnd!==t.value.length&&re(e,"right")}}),oe=CS(function(e){var t=e.target,n=t.value;if(0===t.selectionStart&&n&&t.selectionEnd===n.length)ie(e);else if(I.selectedPattern){var i=cC(Vf({},ee,{input:t,valueOffset:null}));O(i),te(i.selectionStart,i.selectionEnd),K().setDateField(I.selectedPattern,null,function(t){return ne(t,e)}),X()}}),le=CS(function(e){var t=e.target;if(null!==t.selectionStart){var n=t.selectionStart===$.length?0:t.selectionStart,i=function(e,t,n){return n>e.indexOf(t)?lC.End:lC.Start}($||j,p,n),r=cC(Vf({},ee,{dateType:i,selectedMonth:K(i).dateField.month,input:t}));B(i),O(r),te(r.selectionStart,r.selectionEnd),I.selectedPattern!==r.selectedPattern&&X()}}),ce=CS(function(e){var t;e.preventDefault();var n=(null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text")).split(p).map(function(e){return r(e,f)}),i=n[0],a=n[1];if(Wv(i)&&Wv(a)){var s=[i,a];null===y||void 0===y||y(s,e),L(s),z.setNewDate(i),H.setNewDate(a)}null===S||void 0===S||S(e)}),de=sC({onSegmentChange:re,onSegmentValueChange:ae,onSegmentValueChangeWithNumericKeys:se,onSegmentValueRemove:oe,onKeyDown:x});return a.createElement(SS,Vf({inputMode:Z?"numeric":"text",autoComplete:"off",autoCorrect:"off",spellCheck:!1,className:A,ref:Ev(k,t),onKeyDown:de,onClick:le,onPaste:ce,value:$,placeholder:b||j},Q,C))});uC.displayName="DateRangeInput",uC.propTypes={character:h_().string,className:h_().string,classPrefix:h_().string,format:h_().string,placeholder:h_().string,onChange:h_().func,onKeyDown:h_().func,onFocus:h_().func,onBlur:h_().func};const hC=uC,pC=_S;function mC(e,t){zv(2,arguments);var n=Hv(e),i=Hv(t),r=n.getTime()-i.getTime();return r<0?-1:r>0?1:r}function fC(e){var t=e.date,n=e.formatStr,i=_x("Calendar").formatDate;return a.createElement(a.Fragment,null,i(t,n))}const gC=function(e){var t,n=j_("picker").prefix,i=e.formatStr,r=e.character,s=e.value,o=e.activeKey,l=void 0===o?"start":o,c=e.clickable,d=e.onSelect,u=null!==s&&void 0!==s?s:[null,null],h=u[0],p=u[1],m=h&&p?[h,p].sort(mC):[h,p],f=m[0]?a.createElement(fC,{date:m[0],formatStr:i}):i,g=m[1]?a.createElement(fC,{date:m[1],formatStr:i}):i;return a.createElement("div",{className:n("daterange-header",(t={},t["tab-active-"+l]=c,t)),"data-testid":"daterange-header"},c?a.createElement(a.Fragment,null,a.createElement(Px,{size:"xs",appearance:"subtle",className:n("header-date"),onClick:function(){return null===d||void 0===d?void 0:d("start")},"aria-label":"Select start date"},f),a.createElement("span",{className:n("header-character")},r),a.createElement(Px,{size:"xs",appearance:"subtle",className:n("header-date"),onClick:function(){return null===d||void 0===d?void 0:d("end")},"aria-label":"Select end date"},g)):a.createElement(a.Fragment,null,a.createElement("span",{className:n("header-date")},f),a.createElement("span",{className:n("header-character")},r),a.createElement("span",{className:n("header-date")},g)))};const _C=function(e){var t=e.shouldDisableDate,n=e.DEPRECATED_disabledDate,i=(0,a.useCallback)(function(e,i){var r=i.selectDate,a=i.selectedDone,s=i.target;return"function"===typeof t?t(e,r,a,s):"function"===typeof n&&n(e,r,a,s)},[t,n]);if(t||n)return i};var vC=["format","value","defaultValue","placeholder","onChange","onKeyDown","onBlur","onFocus","onPaste"],bC=a.forwardRef(function(e,t){var n=_x("DateInput",e),i=n.propsWithDefaults,r=n.parseDate,s=(0,n.getLocale)("DateTimeFormats"),o=s.dateLocale,l=s.shortDateFormat,c=i.format,d=void 0===c?l:c,u=i.value,h=i.defaultValue,p=i.placeholder,m=i.onChange,f=i.onKeyDown,g=i.onBlur,_=i.onFocus,v=i.onPaste,b=yn(i,vC),y=(0,a.useRef)(),x=AS(),w=x.selectedState,E=x.setSelectedState,S=yE(u,h),C=S[0],T=S[1],N=S[2],A=tC({formatStr:d,locale:o,date:C,isControlledDate:N}),k=A.dateField,R=A.setDateOffset,I=A.setDateField,O=A.setNewDate,j=A.getDateField,P=A.toDateString,D=A.isEmptyValue,L=iC(d,u),M=L.isMoveCursor,U=L.isResetValue,F=L.increment,B=L.reset,V=P(),z=(0,a.useMemo)(function(){return{formatStr:d,localize:o.localize,selectedMonth:k.month,dateString:V}},[k,V,d,o]),H=JS(y),W=CS(function(e,t){null===m||void 0===m||m(e,t),T(e)}),G=CS(function(e){W(null,e),O(null),H(0,0),B()}),q=CS(function(e,t){var n=e.target,i=e.key,r=XS(Vf({},z,{input:n,direction:t||("ArrowRight"===i?"right":"left")}));E(r),H(r.selectionStart,r.selectionEnd),w.selectedPattern!==r.selectedPattern&&B()}),Y=CS(function(e){var t=e.target,n="ArrowUp"===e.key?1:-1,i=XS(Vf({},z,{input:t,valueOffset:n}));E(i),R(i.selectedPattern,n,function(t){return W(t,e)}),H(i.selectionStart,i.selectionEnd)}),X=CS(function(e){var t=e.target,n=e.key;if(!(n.startsWith("F")&&!isNaN(Number(n.slice(1))))){var i=w.selectedPattern;if(i){var r=j(i),a=parseInt(n,10),s=parseInt(""+(r.value||"")+n,10),o=a;KS(r.name,s)&&!U()&&(o=s),I(i,o,function(t){return W(t,e)});var l="M"===i?o:k.month,c=XS(Vf({},z,{input:t,selectedMonth:l}));E(c),H(c.selectionStart,c.selectionEnd),F(),M(o,i)&&t.selectionEnd!==t.value.length&&q(e,"right")}}}),K=CS(function(e){var t=e.target,n=t.value;if(0===t.selectionStart&&n&&t.selectionEnd===n.length)G(e);else if(w.selectedPattern){var i=XS(Vf({},z,{input:t,valueOffset:null}));E(i),H(i.selectionStart,i.selectionEnd),I(w.selectedPattern,null,function(t){return W(t,e)}),B()}}),J=CS(function(e){var t=e.target,n=XS(Vf({},z,{input:t}));E(n),H(n.selectionStart,n.selectionEnd),w.selectedPattern!==n.selectedPattern&&B()}),Z=CS(function(e){var t;e.preventDefault();var n=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text"),i=r(n,d);Wv(i)&&(W(i,e),O(i)),null===v||void 0===v||v(e)}),Q=oC({onSegmentChange:q,onSegmentValueChange:Y,onSegmentValueChangeWithNumericKeys:X,onSegmentValueRemove:K,onKeyDown:f}),$=aC({onBlur:g,onFocus:_}),ee=$[0],te=$[1],ne=(0,a.useMemo)(function(){return D()?ee?V:"":V},[V,ee,D]);return a.createElement(SS,Vf({inputMode:ee?"numeric":"text",autoComplete:"off",autoCorrect:"off",spellCheck:!1,ref:Ev(y,t),onKeyDown:Q,onClick:J,onPaste:Z,value:ne,placeholder:p||d},te,b))});bC.displayName="DateInput",bC.propTypes={defaultValue:h_().instanceOf(Date),format:h_().string,value:h_().instanceOf(Date),placeholder:h_().string,onChange:h_().func,onKeyDown:h_().func,onBlur:h_().func,onFocus:h_().func};const yC=bC;const xC=function(e){var t=e.value,n=e.formatStr,i=e.readOnly,r=e.editable,s=e.loading,o=e.mode,l=void 0===o?"date":o,c=e.renderValue,d=(0,a.useState)(!1),u=d[0],h=d[1],p=(0,a.useCallback)(function(){return h(!0)},[]),m=(0,a.useCallback)(function(){return h(!1)},[]),f=null,g=i||!r||s||!1;return"function"===typeof c&&t&&(!u||!r)&&(Array.isArray(t)?t.every(Wv):Wv(t))&&(f=c(t,n),g=!0),{customValue:f,Input:f?SS:"dateRange"===l?hC:yC,inputReadOnly:g,events:{onActive:p,onInactive:m}}};function wC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}}var EC=a.createContext({}),SC=EC.Provider,CC=["locale","showWeekNumbers","isoWeek","weekStart"],TC=function(){var e,t=(0,a.useContext)(EC),n=t.locale,i=t.showWeekNumbers,r=t.isoWeek,s=t.weekStart,o=yn(t,CC),l=(0,a.useMemo)(function(){var e;return"undefined"!==typeof s?s:r?1:void 0!==(null===n||void 0===n||null===(e=n.dateLocale)||void 0===e||null===(e=e.options)||void 0===e?void 0:e.weekStartsOn)?n.dateLocale.options.weekStartsOn:0},[s,r,null===n||void 0===n||null===(e=n.dateLocale)||void 0===e||null===(e=e.options)||void 0===e?void 0:e.weekStartsOn]);return Vf({locale:n,showWeekNumbers:i,isoWeek:r,weekStart:l},o)};function NC(e,t,n){return n?n(e,t):jb(e,t)}var AC=["as","className","classPrefix","active","disabled","month","year"],kC=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.className,s=e.classPrefix,o=void 0===s?"calendar-month-dropdown-cell":s,l=e.active,c=e.disabled,d=e.month,u=void 0===d?0:d,h=e.year,p=yn(e,AC),m=TC(),f=m.date,g=m.onChangeMonth,_=m.locale,v=_x("Calendar"),b=v.getLocale,y=v.formatDate,x=b("Calendar",_).formattedMonthPattern,w=(0,a.useMemo)(function(){return h&&u?wC(function(e){return LS(e,h)},function(e){return US(e,u-1)})(f):f},[f,u,h]),E=CS(function(e){c||null===g||void 0===g||g(w,e)}),S=j_(o),C=S.prefix,T=(0,S.merge)(r,(0,S.withClassPrefix)({active:l}),{disabled:c}),N=w?NC(w,x,y):"";return a.createElement(i,Vf({key:u,role:"gridcell","aria-selected":l,"aria-disabled":c,"aria-label":N,tabIndex:l?0:-1,ref:t,className:T,onClick:E},p),a.createElement("span",{className:C("content")},y(w,"MMM")))});kC.displayName="MonthDropdownItem";const RC=kC;function IC(e){return zv(1,arguments),Hv(e).getFullYear()}var OC=function(e){var t=(0,a.useRef)(e);t.current=e,(0,a.useEffect)(function(){var e;null===(e=t.current)||void 0===e||e.call(t)},[])};function jC(e,t){var n=(0,a.useRef)();(0,a.useEffect)(function(){if(!n.current){var i="function"===typeof e?e():e;i&&(n.current=new qw(t),n.current.observe(i))}return function(){var e;null===(e=n.current)||void 0===e||e.disconnect()}},[e,t])}var PC=["children","className","disableHeight","disableWidth","defaultHeight","defaultWidth","style","onResize"],DC=a.forwardRef(function(e,t){var n=e.children,i=e.className,r=e.disableHeight,s=e.disableWidth,o=e.defaultHeight,l=e.defaultWidth,c=e.style,d=e.onResize,u=yn(e,PC),h=(0,a.useState)(o||0),p=h[0],m=h[1],f=(0,a.useState)(l||0),g=f[0],_=f[1],v=(0,a.useRef)(null),b=(0,a.useCallback)(function(){var e;return null!==(e=v.current)&&void 0!==e&&e.parentNode&&v.current.parentNode.ownerDocument&&v.current.parentNode.ownerDocument.defaultView&&v.current.parentNode instanceof v.current.parentNode.ownerDocument.defaultView.HTMLElement?v.current.parentNode:null},[]),y=(0,a.useCallback)(function(){var e=b();if(e){var t=e.offsetHeight||0,n=e.offsetWidth||0,i=zg(e),a=parseInt(i.paddingLeft,10)||0,o=parseInt(i.paddingRight,10)||0,l=parseInt(i.paddingTop,10)||0,c=parseInt(i.paddingBottom,10)||0;(!r&&p!==t-l-c||!s&&g!==n-a-o)&&(m(t-l-c),_(n-a-o),null===d||void 0===d||d({height:t,width:n}))}},[r,s,b,p,d,g]);OC(y),jC(b(),y);var x={overflow:"visible"},w={width:0,height:0};return r||(x.height=0,w.height=p),s||(x.width=0,w.width=g),a.createElement("div",Vf({className:i,ref:Ev(v,t),style:Vf({},x,c)},u),n(w))});const LC=DC;var MC=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function UC(e,t){return e===t||!(!MC(e)||!MC(t))}function FC(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!UC(e[n],t[n]))return!1;return!0}const BC=function(e,t){var n;void 0===t&&(t=FC);var i,r=[],a=!1;return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return a&&n===this&&t(s,r)||(i=e.apply(this,s),a=!0,n=this,r=s),i}};var VC="object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function zC(e){cancelAnimationFrame(e.id)}function HC(e,t){var n=VC();var i={id:requestAnimationFrame(function r(){VC()-n>=t?e.call(null):i.id=requestAnimationFrame(r)})};return i}var WC=-1;function GC(e){if(void 0===e&&(e=!1),-1===WC||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),WC=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return WC}var qC=null;function YC(e){if(void 0===e&&(e=!1),null===qC||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var i=document.createElement("div"),r=i.style;return r.width="100px",r.height="100px",t.appendChild(i),document.body.appendChild(t),t.scrollLeft>0?qC="positive-descending":(t.scrollLeft=1,qC=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),qC}return qC}var XC=function(e,t){return e};function KC(e){var t,n=e.getItemOffset,i=e.getEstimatedTotalSize,r=e.getItemSize,s=e.getOffsetForIndexAndAlignment,o=e.getStartIndexForOffset,l=e.getStopIndexForStartIndex,c=e.initInstanceProps,d=e.shouldResetStyleCacheOnItemSizeChange,u=e.validateProps;return t=function(e){function t(t){var i;return(i=e.call(this,t)||this)._instanceProps=c(i.props,Mb(i)),i._outerRef=void 0,i._resetIsScrollingTimeoutId=null,i.state={instance:Mb(i),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof i.props.initialScrollOffset?i.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},i._callOnItemsRendered=void 0,i._callOnItemsRendered=BC(function(e,t,n,r){return i.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:r})}),i._callOnScroll=void 0,i._callOnScroll=BC(function(e,t,n){return i.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})}),i._getItemStyle=void 0,i._getItemStyle=function(e){var t,a=i.props,s=a.direction,o=a.itemSize,l=a.layout,c=i._getItemStyleCache(d&&o,d&&l,d&&s);if(c.hasOwnProperty(e))t=c[e];else{var u=n(i.props,e,i._instanceProps),h=r(i.props,e,i._instanceProps),p="horizontal"===s||"horizontal"===l,m="rtl"===s,f=p?u:0;c[e]=t={position:"absolute",left:m?void 0:f,right:m?f:void 0,top:p?0:u,height:p?"100%":h,width:p?h:"100%"}}return t},i._getItemStyleCache=void 0,i._getItemStyleCache=BC(function(e,t,n){return{}}),i._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,r=t.scrollLeft,a=t.scrollWidth;i.setState(function(e){if(e.scrollOffset===r)return null;var t=i.props.direction,s=r;if("rtl"===t)switch(YC()){case"negative":s=-r;break;case"positive-descending":s=a-n-r}return s=Math.max(0,Math.min(s,a-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<s?"forward":"backward",scrollOffset:s,scrollUpdateWasRequested:!1}},i._resetIsScrollingDebounced)},i._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,r=t.scrollHeight,a=t.scrollTop;i.setState(function(e){if(e.scrollOffset===a)return null;var t=Math.max(0,Math.min(a,r-n));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}},i._resetIsScrollingDebounced)},i._outerRefSetter=function(e){var t=i.props.outerRef;i._outerRef=e,"function"===typeof t?t(e):null!=t&&"object"===typeof t&&t.hasOwnProperty("current")&&(t.current=e)},i._resetIsScrollingDebounced=function(){null!==i._resetIsScrollingTimeoutId&&zC(i._resetIsScrollingTimeoutId),i._resetIsScrollingTimeoutId=HC(i._resetIsScrolling,150)},i._resetIsScrolling=function(){i._resetIsScrollingTimeoutId=null,i.setState({isScrolling:!1},function(){i._getItemStyleCache(-1,null)})},i}g_(t,e),t.getDerivedStateFromProps=function(e,t){return JC(e,t),u(e),null};var h=t.prototype;return h.scrollTo=function(e){e=Math.max(0,e),this.setState(function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},h.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props,i=n.itemCount,r=n.layout,a=this.state.scrollOffset;e=Math.max(0,Math.min(e,i-1));var o=0;if(this._outerRef){var l=this._outerRef;o="vertical"===r?l.scrollWidth>l.clientWidth?GC():0:l.scrollHeight>l.clientHeight?GC():0}this.scrollTo(s(this.props,e,t,a,this._instanceProps,o))},h.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,i=e.layout;if("number"===typeof n&&null!=this._outerRef){var r=this._outerRef;"horizontal"===t||"horizontal"===i?r.scrollLeft=n:r.scrollTop=n}this._callPropsCallbacks()},h.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,i=this.state,r=i.scrollOffset;if(i.scrollUpdateWasRequested&&null!=this._outerRef){var a=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(YC()){case"negative":a.scrollLeft=-r;break;case"positive-ascending":a.scrollLeft=r;break;default:var s=a.clientWidth,o=a.scrollWidth;a.scrollLeft=o-s-r}else a.scrollLeft=r;else a.scrollTop=r}this._callPropsCallbacks()},h.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&zC(this._resetIsScrollingTimeoutId)},h.render=function(){var e=this.props,t=e.children,n=e.className,r=e.direction,s=e.height,o=e.innerRef,l=e.innerElementType,c=e.innerTagName,d=e.itemCount,u=e.itemData,h=e.itemKey,p=void 0===h?XC:h,m=e.layout,f=e.outerElementType,g=e.outerTagName,_=e.style,v=e.useIsScrolling,b=e.width,y=this.state.isScrolling,x="horizontal"===r||"horizontal"===m,w=x?this._onScrollHorizontal:this._onScrollVertical,E=this._getRangeToRender(),S=E[0],C=E[1],T=[];if(d>0)for(var N=S;N<=C;N++)T.push((0,a.createElement)(t,{data:u,key:p(N,u),index:N,isScrolling:v?y:void 0,style:this._getItemStyle(N)}));var A=i(this.props,this._instanceProps);return(0,a.createElement)(f||g||"div",{className:n,onScroll:w,ref:this._outerRefSetter,style:Vf({position:"relative",height:s,width:b,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:r},_)},(0,a.createElement)(l||c||"div",{children:T,ref:o,style:{height:x?"100%":A,pointerEvents:y?"none":void 0,width:x?A:"100%"}}))},h._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],i=e[2],r=e[3];this._callOnItemsRendered(t,n,i,r)}if("function"===typeof this.props.onScroll){var a=this.state,s=a.scrollDirection,o=a.scrollOffset,l=a.scrollUpdateWasRequested;this._callOnScroll(s,o,l)}},h._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,i=this.state,r=i.isScrolling,a=i.scrollDirection,s=i.scrollOffset;if(0===t)return[0,0,0,0];var c=o(this.props,s,this._instanceProps),d=l(this.props,c,s,this._instanceProps),u=r&&"backward"!==a?1:Math.max(1,n),h=r&&"forward"!==a?1:Math.max(1,n);return[Math.max(0,c-u),Math.max(0,Math.min(t-1,d+h)),c,d]},t}(a.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var JC=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},ZC=function(e,t,n){var i=e.itemSize,r=n.itemMetadataMap,a=n.lastMeasuredIndex;if(t>a){var s=0;if(a>=0){var o=r[a];s=o.offset+o.size}for(var l=a+1;l<=t;l++){var c=i(l);r[l]={offset:s,size:c},s+=c}n.lastMeasuredIndex=t}return r[t]},QC=function(e,t,n,i,r){for(;i<=n;){var a=i+Math.floor((n-i)/2),s=ZC(e,a,t).offset;if(s===r)return a;s<r?i=a+1:s>r&&(n=a-1)}return i>0?i-1:0},$C=function(e,t,n,i){for(var r=e.itemCount,a=1;n<r&&ZC(e,n,t).offset<i;)n+=a,a*=2;return QC(e,t,Math.min(n,r-1),Math.floor(n/2),i)},eT=function(e,t){var n=e.itemCount,i=t.itemMetadataMap,r=t.estimatedItemSize,a=t.lastMeasuredIndex,s=0;if(a>=n&&(a=n-1),a>=0){var o=i[a];s=o.offset+o.size}return s+(n-a-1)*r},tT=KC({getItemOffset:function(e,t,n){return ZC(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:eT,getOffsetForIndexAndAlignment:function(e,t,n,i,r,a){var s=e.direction,o=e.height,l=e.layout,c=e.width,d="horizontal"===s||"horizontal"===l?c:o,u=ZC(e,t,r),h=eT(e,r),p=Math.max(0,Math.min(h-d,u.offset)),m=Math.max(0,u.offset-d+u.size+a);switch("smart"===n&&(n=i>=m-d&&i<=p+d?"auto":"center"),n){case"start":return p;case"end":return m;case"center":return Math.round(m+(p-m)/2);default:return i>=m&&i<=p?i:i<m?m:p}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var i=t.itemMetadataMap,r=t.lastMeasuredIndex;return(r>0?i[r].offset:0)>=n?QC(e,t,r,0,n):$C(e,t,Math.max(0,r),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,i){for(var r=e.direction,a=e.height,s=e.itemCount,o=e.layout,l=e.width,c="horizontal"===r||"horizontal"===o?l:a,d=ZC(e,t,i),u=n+c,h=d.offset+d.size,p=t;p<s-1&&h<u;)p++,h+=ZC(e,p,i).size;return p},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,i){void 0===i&&(i=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),i&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),nT=KC({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,n,i,r,a){var s=e.direction,o=e.height,l=e.itemCount,c=e.itemSize,d=e.layout,u=e.width,h="horizontal"===s||"horizontal"===d?u:o,p=Math.max(0,l*c-h),m=Math.min(p,t*c),f=Math.max(0,t*c-h+c+a);switch("smart"===n&&(n=i>=f-h&&i<=m+h?"auto":"center"),n){case"start":return m;case"end":return f;case"center":var g=Math.round(f+(m-f)/2);return g<Math.ceil(h/2)?0:g>p+Math.floor(h/2)?p:g;default:return i>=f&&i<=m?i:i<f?f:m}},getStartIndexForOffset:function(e,t){var n=e.itemCount,i=e.itemSize;return Math.max(0,Math.min(n-1,Math.floor(t/i)))},getStopIndexForStartIndex:function(e,t,n){var i=e.direction,r=e.height,a=e.itemCount,s=e.itemSize,o=e.layout,l=e.width,c=t*s,d="horizontal"===i||"horizontal"===o?l:r,u=Math.ceil((d+n-c)/s);return Math.max(0,Math.min(a-1,t+u-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});function iT(e,t,n){for(var i=MS(new Date(e,t)),r=1;r<=i;r++)if(!n(new Date(e,t,r)))return!1;return!0}var rT=["as","className","classPrefix","limitStartYear","limitEndYear","show","height","width","disabledMonth"],aT=["className","itemClassName","as","itemAs"],sT=[0,1,2,3,4,5,6,7,8,9,10,11],oT=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.className,s=e.classPrefix,o=void 0===s?"calendar-month-dropdown":s,l=e.limitStartYear,c=e.limitEndYear,d=void 0===c?5:c,u=e.show,h=e.height,p=void 0===h?221:h,m=e.width,f=void 0===m?256:m,g=e.disabledMonth,_=yn(e,rT),v=TC(),b=v.date,y=void 0===b?new Date:b,x=v.targetId,w=v.monthDropdownProps,E=j_(o),S=E.prefix,C=E.merge,T=E.withClassPrefix,N=IC(new Date),A=l?N-l+1:1900,k=(0,a.useMemo)(function(){return N+d-A},[d,A,N]),R=(0,a.useCallback)(function(e,t){return!!g&&iT(e,t,g)},[g]),I=w||{},O=I.className,j=I.itemClassName,P=I.as,D=I.itemAs,L=void 0===D?"div":D,M=yn(I,aT),U=(0,a.useCallback)(function(e){var t=e.index,n=e.style,i=function(e){return zv(1,arguments),Hv(e).getMonth()}(y),r=IC(y),s=A+t,o=s===r,l=S("year",{"year-active":o});return a.createElement(L,{role:"row","aria-label":""+s,className:C(j,S("row"),{"first-row":0===t,"last-row":t===k-1}),style:n},a.createElement("div",{className:l,role:"rowheader"},s),a.createElement("div",{className:S("list")},sT.map(function(e,t){return a.createElement(RC,{disabled:R(s,t),active:o&&t===i,key:t+"_"+e,month:t+1,year:s})})))},[L,y,R,C,S,j,k,A]),F=C(r,T(),{show:u}),B=108*(IC(y)-A);return u?a.createElement(i,Vf({ref:t,role:"grid",tabIndex:-1,className:F,"aria-labelledby":x?x+"-grid-label":void 0,id:x?x+"-calendar-month-dropdown":void 0,"data-testid":"calendar-month-dropdown"},_),a.createElement("div",{className:S("scroll")},a.createElement(LC,{defaultHeight:p,defaultWidth:f},function(e){var t=e.height,n=e.width;return a.createElement(nT,Vf({className:C(S("row-wrapper"),O),width:n||f,height:t||p,itemSize:108,itemCount:k,initialScrollOffset:B,innerElementType:P},M),U)}))):null});oT.displayName="MonthDropdown";const lT=oT;var cT=n(3888),dT=n.n(cT),uT=n(1979),hT=n.n(uT),pT=n(9160),mT=n.n(pT);function fT(e){return zv(1,arguments),Hv(e).getHours()}var gT=n(9441),_T=n.n(gT),vT=function(e){return _T()(e,function(e,t){return t.startsWith("disabled")||t.startsWith("hide")||t.startsWith("shouldDisable")})};function bT(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return n<=i?null:0===t?"top":t+i===n?"bottom":"middle"}var yT=["as","classPrefix","className","children","scrollShadow","customScrollbar","height","width","style","onScroll","data-testid"],xT=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.classPrefix,s=void 0===r?"scroll-view":r,o=e.className,l=e.children,c=e.scrollShadow,d=e.customScrollbar,u=e.height,h=e.width,p=e.style,m=e.onScroll,f=e["data-testid"],g=yn(e,yT),_=j_(s),v=_.merge,b=_.withClassPrefix,y=function(e){var t=(0,a.useRef)(null),n=(0,a.useState)(null),i=n[0],r=n[1];OC(function(){var n;if(t.current&&e){var i=t.current;r(bT(i));var a=i.scrollHeight;(n=new MutationObserver(function(){var e=null===i||void 0===i?void 0:i.scrollHeight;e&&e!==a&&(r(bT(i)),a=e)})).observe(i,{attributes:!0,childList:!0,subtree:!0})}return function(){var e;null===(e=n)||void 0===e||e.disconnect()}});var s=CS(function(e){var t=e.currentTarget;r(bT(t))});return{scrollState:i,handleScroll:e?s:void 0,bodyRef:t}}(c),x=y.scrollState,w=y.handleScroll,E=y.bodyRef,S=Vf({height:u,width:h},p),C=v(o,b({shadow:c,"thumb-top":"top"===x,"thumb-middle":"middle"===x,"thumb-bottom":"bottom"===x,"custom-scrollbar":d}));return a.createElement(i,Vf({},g,{ref:Ev(t,E),className:C,style:S,onScroll:D_(w,m),"data-testid":f||"scroll-view"}),l)});xT.displayName="ScrollView";const wT=xT;var ET=["prefix","title","children"];const ST=function(e){var t=e.prefix,n=e.title,i=e.children,r=yn(e,ET);return a.createElement("div",{className:t("column")},a.createElement("div",{className:t("column-title")},n),a.createElement(wT,Vf({customScrollbar:!0,as:"ul",role:"listbox"},r),i))};function CT(e){return zv(1,arguments),Hv(e).getMinutes()}function TT(e){return zv(1,arguments),Hv(e).getSeconds()}function NT(e){var t=e.format,n=e.date,i=e.showMeridiem,r={hours:null,minutes:null,seconds:null,meridiem:null};if(!t)return r;if(/(H|h)/.test(t)&&n){var a=fT(n);r.hours=i?function(e){return e>=12?e-12:e}(a):a,r.meridiem=a>=12?"PM":"AM"}return/m/.test(t)&&n&&(r.minutes=CT(n)),/s/.test(t)&&n&&(r.seconds=TT(n)),r}function AT(e,t){if(t){Object.entries(e).forEach(function(e){var n=e[0],i=e[1],r=t.querySelector('[data-type="'+n+'"]');r&&function(e,t,n){var i=e.querySelector('[data-key="'+n+"-"+t+'"]');if(i){var r=Gg(i,e);r&&Hg(e,r.top)}}(r,i,n)})}}var kT=function(e){return String(e).padStart(2,"0")},RT=["as","className","classPrefix","show","showMeridiem"],IT=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.className,s=e.classPrefix,o=void 0===s?"calendar-time-dropdown":s,l=e.show,c=e.showMeridiem,d=void 0!==c&&c,u=yn(e,RT),h=TC(),p=h.locale,m=h.format,f=h.date,g=h.onChangeTime,_=h.targetId,v=(0,a.useRef)(null);(0,a.useEffect)(function(){var e=NT({format:m,date:f,showMeridiem:d});l&&v.current&&AT(e,v.current)},[f,m,l,d]);var b=CS(function(e,t,n){var i=f||FE();switch(e){case"hours":i=BS(i,d&&fT(i)>=12?t+12:t);break;case"minutes":i=VS(i,t);break;case"seconds":i=zS(i,t)}null===g||void 0===g||g(i,n)}),y=CS(function(e,t){var n=f||FE(),i=fT(n),r=i<12,a=function(e,t){return"AM"===e?r?t:t-12:r?t+12:t}(e,i),s=BS(n,a);null===g||void 0===g||g(s,t)}),x=j_(o),w=x.prefix,E=x.rootPrefix,S=x.merge,C=function(t,n){if(!mT()(n))return null;for(var i=function(e){var t={start:0,end:59};return{hours:e?{start:0,end:11}:{start:0,end:23},minutes:t,seconds:t}}(d)[t],r=i.start,s=i.end,o=[],l=e[hT()("hide_"+t)],c=e[hT()("disabled_"+t)],u=r;u<=s;u+=1)if(null===l||void 0===l||!l(u,f)){var h=null===c||void 0===c?void 0:c(u,f),m=w("cell",{"cell-active":n===u,"cell-disabled":h});o.push(a.createElement("li",{key:u,role:"option",tabIndex:-1,"aria-label":u+" "+t,"aria-selected":n===u,"aria-disabled":h,"data-key":t+"-"+u,onClick:h?void 0:dT()(b,t,u)},a.createElement("span",{className:m},d&&"hours"===t&&0===u?12:kT(u))))}return a.createElement(ST,{prefix:w,title:null===p||void 0===p?void 0:p[t],"data-type":t,"aria-label":"Select "+t},o)},T=NT({format:m,date:f,showMeridiem:d}),N=S(r,E(o),{show:l});return a.createElement(i,Vf({role:"group",tabIndex:-1,id:_?_+"-"+o:void 0},vT(u),{ref:t,className:N}),a.createElement("div",{className:w("content")},a.createElement("div",{className:w("row"),ref:v},C("hours",T.hours),C("minutes",T.minutes),C("seconds",T.seconds),d&&a.createElement(ST,{prefix:w,title:"AM/PM","data-type":"meridiem","aria-label":"Select meridiem"},["AM","PM"].map(function(e,t){var n=f&&(fT(f)>=12?"PM":"AM"),i=w("cell",{"cell-active":n===e});return a.createElement("li",{key:t,role:"option",tabIndex:-1,"aria-label":e,"aria-selected":n===e,"data-key":"meridiem-"+e,onClick:dT()(y,e)},a.createElement("span",{className:i},e))})))))});IT.displayName="TimeDropdown";const OT=IT;function jT(e,t){zv(2,arguments);var n=UE(e),i=UE(t);return n.getTime()===i.getTime()}function PT(e,t){zv(2,arguments);var n=Hv(e),i=Hv(t);return n.getTime()<i.getTime()}function DT(e,t){zv(2,arguments);var n=Hv(e),i=Hv(t);return n.getTime()>i.getTime()}var LT=["as","classPrefix","disabled","selected","date","onSelect","unSameMonth","rangeStart","rangeEnd","inRange"],MT=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.classPrefix,s=void 0===r?"calendar-table":r,o=e.disabled,l=e.selected,c=e.date,d=e.onSelect,u=e.unSameMonth,h=e.rangeStart,p=e.rangeEnd,m=e.inRange,f=yn(e,LT),g=TC(),_=g.onMouseMove,v=g.cellClassName,b=g.renderCell,y=g.renderCellOnPicker,x=g.locale,w=j_(s),E=w.prefix,S=w.merge,C=_x(),T=C.getLocale,N=C.formatDate,A=T("Calendar",x),k=A.formattedDayPattern,R=A.today,I=NC(c,k,N),O=jT(c,new Date),j=S(E("cell",{"cell-un-same-month":u,"cell-is-today":O,"cell-selected":l,"cell-selected-start":h,"cell-selected-end":p,"cell-in-range":!u&&m,"cell-disabled":o}),null===v||void 0===v?void 0:v(c));return a.createElement(i,Vf({ref:t,role:"gridcell","aria-label":I,"aria-selected":l||void 0,"aria-disabled":o||void 0,tabIndex:l?0:-1,title:O?I+" ("+R+")":I,className:j,onMouseEnter:!o&&_?_.bind(null,c):void 0,onClick:d?dT()(d,c,o):void 0},f),a.createElement("div",{className:E("cell-content")},y?y(c):a.createElement("span",{className:E("cell-day")},function(e){return zv(1,arguments),Hv(e).getDate()}(c)),null===b||void 0===b?void 0:b(c)))});MT.displayName="CalendarGridCell";const UT=MT;var FT=["as","className","classPrefix","weekendDate","rowIndex"],BT=a.forwardRef(function(e,t){var n,i,r=e.as,s=void 0===r?"div":r,o=e.className,l=e.classPrefix,c=void 0===l?"calendar-table":l,d=e.weekendDate,u=void 0===d?new Date:d,h=e.rowIndex,p=yn(e,FT),m=TC(),f=m.date,g=void 0===f?new Date:f,_=m.dateRange,v=m.hoverRangeValue,b=m.isoWeek,y=m.weekStart,x=m.showWeekNumbers,w=m.locale,E=m.inSameMonth,S=m.disabledDate,C=m.onSelect,T=j_(c),N=T.prefix,A=T.merge,k=(0,a.useCallback)(function(e,t,n){t||null===C||void 0===C||C(e,n)},[C]),R=A(o,N("row")),I=(null!==(n=null===w||void 0===w||null===(i=w.dateLocale)||void 0===i?void 0:i.options)&&void 0!==n?n:{}).firstWeekContainsDate,O=jb(b?VE(u,1):u,b?"I":"w",{locale:null===w||void 0===w?void 0:w.dateLocale,firstWeekContainsDate:I,weekStartsOn:y});return a.createElement(s,Vf({},p,{ref:t,role:"row","aria-rowindex":h,className:R}),x&&a.createElement("div",{role:"rowheader","aria-label":"Week "+O,className:N("cell-week-number")},O),function(){for(var e=[],t=_||[],n=t[0],i=t[1],r=null!==v&&void 0!==v?v:[],s=r[0],o=r[1],l="undefined"!==typeof _,c=0;c<7;c+=1){var d=VE(u,c),h=null===S||void 0===S?void 0:S(d,_,hE.CALENDAR),p=!(null!==E&&void 0!==E&&E(d)),m=!p&&n&&jT(d,n),f=!p&&i&&jT(d,i),b=l?m||f:jT(d,g),y=!1;n&&i&&(PT(d,i)&&DT(d,n)&&(y=!0),PT(d,n)&&DT(d,i)&&(y=!0)),!b&&s&&o&&(DT(d,o)||PT(d,s)||(y=!0),DT(d,s)||PT(d,o)||(y=!0)),e.push(a.createElement(UT,{key:jb(d,"yyyy-MM-dd"),date:d,disabled:h,selected:b,onSelect:k,unSameMonth:p,rangeStart:m,rangeEnd:f,inRange:y}))}return e}())});BT.displayName="CalendarGridRow";const VT=BT;var zT=n(643),HT=n.n(zT);function WT(e){var t=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];return"undefined"===typeof e?t:t.slice(e).concat(t.slice(0,e))}var GT=["as","className","classPrefix"],qT=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.className,s=e.classPrefix,o=void 0===s?"calendar-table":s,l=yn(e,GT),c=TC(),d=c.locale,u=c.showWeekNumbers,h=c.weekStart,p=j_(o),m=p.merge,f=p.prefix,g=m(r,f("row","header-row")),_=WT(h);return a.createElement(i,Vf({role:"row"},l,{ref:t,className:g}),u&&a.createElement("div",{className:f("header-cell"),role:"columnheader"}),_.map(function(e){return a.createElement("div",{key:e,className:f("header-cell"),role:"columnheader","aria-label":HT()(e)},a.createElement("span",{className:f("header-cell-content")},null===d||void 0===d?void 0:d[e]))}))});qT.displayName="CalendarGridHeaderRow";const YT=qT;var XT=["as","className","classPrefix","rows"],KT=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.className,s=e.classPrefix,o=void 0===s?"calendar-table":s,l=e.rows,c=void 0===l?[]:l,d=yn(e,XT),u=j_(o),h=(0,u.merge)(r,(0,u.withClassPrefix)()),p=TC().targetId;return a.createElement(i,Vf({role:"grid",tabIndex:-1,id:p?p+"-"+o:void 0},d,{ref:t,className:h}),a.createElement(YT,null),c.map(function(e,t){return a.createElement(VT,{key:t,weekendDate:e,rowIndex:t+1})}))});KT.displayName="CalendarGrid";const JT=KT;function ZT(e,t){var n,i,r,a,s,o,l,c;zv(1,arguments);var d=Qv(),u=Gv(null!==(n=null!==(i=null!==(r=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==r?r:d.weekStartsOn)&&void 0!==i?i:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Hv(e),p=h.getDay(),m=(p<u?7:0)+p-u;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function QT(e,t){for(var n=ZT(e,{weekStartsOn:t.weekStart,locale:t.locale}),i=[n],r=1;r<6;r++)i.push(VE(n,7*r));return i}var $T=["as","className","classPrefix"],eN=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.className,s=e.classPrefix,o=void 0===s?"calendar-body":s,l=yn(e,$T),c=TC(),d=c.date,u=void 0===d?new Date:d,h=c.locale,p=c.weekStart,m=_x(),f=m.getLocale,g=m.formatDate,_=f("Calendar",h),v=FS(u,1),b=j_(o),y=(0,b.merge)(r,(0,b.withClassPrefix)());return a.createElement(i,Vf({},l,{ref:t,className:y}),a.createElement(JT,{rows:QT(v,{weekStart:p,locale:null===_||void 0===_?void 0:_.dateLocale}),"aria-label":g(v,_.formattedMonthPattern)}))});eN.displayName="CalendarBody";const tN=eN;function nN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var iN=function(e,t){return a.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){nN(e,t,n[t])})}return e}({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:t},e),a.createElement("path",{d:"M10.872 3.166a.5.5 0 0 0-.634-.091l-.072.054-5 4.5a.5.5 0 0 0-.065.672l.065.071 5 4.5a.5.5 0 0 0 .73-.677l-.061-.066L6.249 8l4.586-4.127a.5.5 0 0 0 .091-.634z"}))};const rN=fv({as:(0,a.forwardRef)(iN),ariaLabel:"page previous",category:"direction",displayName:"PagePrevious"});function aN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sN=function(e,t){return a.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){aN(e,t,n[t])})}return e}({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:t},e),a.createElement("path",{d:"M5.128 3.166a.5.5 0 0 1 .634-.091l.072.054 5 4.5a.5.5 0 0 1 .065.672l-.065.071-5 4.5a.5.5 0 0 1-.73-.677l.061-.066L9.751 8 5.165 3.873a.5.5 0 0 1-.091-.634z"}))};const oN=fv({as:(0,a.forwardRef)(sN),ariaLabel:"page next",category:"direction",displayName:"PageNext"});var lN=["icon","placement","children","circle","classPrefix","className"],cN=a.forwardRef(function(e,t){var n=_x("IconButton",e).propsWithDefaults,i=n.icon,r=n.placement,s=void 0===r?"left":r,o=n.children,l=n.circle,c=n.classPrefix,d=void 0===c?"btn-icon":c,u=n.className,h=yn(n,lN),p=j_(d),m=(0,p.merge)(u,(0,p.withClassPrefix)("placement-"+s,{circle:l,"with-text":"undefined"!==typeof o}));return a.createElement(Px,Vf({},h,{ref:t,className:m}),i,o)});cN.displayName="IconButton",cN.propTypes={className:h_().string,icon:h_().any,classPrefix:h_().string,circle:h_().bool,children:h_().node,placement:Tx(["left","right"])};const dN=cN;var uN=["as","className","classPrefix","disabledBackward","disabledForward","showDate","showMonth","showTime","disabledTime","onMoveBackward","onMoveForward","onToggleMonthDropdown","onToggleTimeDropdown","renderTitle","renderToolbar"],hN=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.className,s=e.classPrefix,o=void 0===s?"calendar-header":s,l=e.disabledBackward,c=e.disabledForward,d=e.showDate,u=e.showMonth,h=e.showTime,p=e.disabledTime,m=e.onMoveBackward,f=e.onMoveForward,g=e.onToggleMonthDropdown,_=e.onToggleTimeDropdown,v=e.renderTitle,b=e.renderToolbar,y=yn(e,uN),x=TC(),w=x.locale,E=x.date,S=void 0===E?new Date:E,C=x.format,T=x.inline,N=x.disabledDate,A=x.targetId,k=((0,a.useContext)(iS)||{}).isSelectedIdle,R=j_(o),I=R.prefix,O=R.withClassPrefix,j=R.merge,P={appearance:"subtle",size:T?"sm":"xs"},D=(0,a.useMemo)(function(){var e=(null===w||void 0===w?void 0:w.shortTimeFormat)||"HH:mm";return C&&function(e){var t=e.match(/([hH]{1,2}[:.]mm(?:[:.]ss)?(?: ?aa)?|(?:aa )?[hH]{1,2}[:.]mm(?:[:.]ss)?)/);return t?t[0]:null}(C)||e},[C,w]),L=(0,a.useMemo)(function(){return u?(null===w||void 0===w?void 0:w.formattedMonthPattern)||"yyyy-MM":"yyyy"},[w,u]),M=I("title","title-date",{error:null===N||void 0===N?void 0:N(S)}),U=I("title","title-time",{error:null===p||void 0===p?void 0:p(S)}),F=I("backward",{"btn-disabled":l}),B=I("forward",{"btn-disabled":c}),V=a.createElement("div",{className:I("month-toolbar")},a.createElement(dN,Vf({},P,{"aria-label":"Previous month",className:F,onClick:l?void 0:m,icon:a.createElement(rN,null)})),a.createElement(Px,Vf({},P,{"aria-label":"Select month",id:A?A+"-grid-label":void 0,className:M,onClick:g}),function(){var e;return null!==(e=null===v||void 0===v?void 0:v(S))&&void 0!==e?e:S&&a.createElement(fC,{date:S,formatStr:L})}()),a.createElement(dN,Vf({},P,{"aria-label":"Next month",className:B,onClick:c?void 0:f,icon:a.createElement(oN,null)}))),z=d||u,H=j(r,O({"has-month":z,"has-time":h})),W="undefined"!==typeof k&&!k;return a.createElement(i,Vf({},y,{ref:t,className:H}),z&&V,h&&a.createElement("div",{className:I("time-toolbar")},a.createElement(Px,Vf({},P,{"aria-label":"Select time",className:U,onClick:_,disabled:W}),S&&a.createElement(fC,{date:S,formatStr:D}))),null===b||void 0===b?void 0:b(S))});hN.displayName="CalendarHeader";const pN=hN;var mN=/(Hours?)/,fN=/(Minutes?)/,gN=/(Seconds?)/;function _N(e,t){if(!t)return!1;var n=[HE.DisabledHours,HE.DisabledMinutes,HE.DisabledSeconds,HE.ShouldDisableHour,HE.ShouldDisableMinute,HE.ShouldDisableSecond],i=ev()(e,n),r=new Map(Object.entries(i));return Array.from(r.keys()).some(function(e){var n,i,a;return mN.test(e)?null===(n=r.get(e))||void 0===n?void 0:n(fT(t),t):fN.test(e)?null===(i=r.get(e))||void 0===i?void 0:i(CT(t),t):!!gN.test(e)&&(null===(a=r.get(e))||void 0===a?void 0:a(TT(t),t))})}var vN=function(e){return/([Hhms])/.test(e)},bN=function(e){return/[Yy]/.test(e)&&/[ML]/.test(e)&&/[Dd]/.test(e)},yN=function(e){return e.Date="date",e.Month="month",e.Time="time",e.DateTime="datetime",e}({}),xN=function(e){return{mode:(0,a.useMemo)(function(){return bN(e)&&vN(e)?yN.DateTime:function(e){return function(e){return/[Yy]/.test(e)&&/[ML]/.test(e)}(e)&&!bN(e)}(e)?yN.Month:function(e){return/([Hhms])/.test(e)&&!/([YyMDd])/.test(e)}(e)?yN.Time:(bN(e),yN.Date)},[e]),has:(0,a.useCallback)(function(t){switch(t){case"year":return/[Yy]/.test(e);case"month":return/[ML]/.test(e);case"day":return/[Dd]/.test(e);case"time":return/([Hhms])/.test(e);default:return!1}},[e])}};function wN(e,t){zv(2,arguments);var n=Hv(e),i=Hv(t);return n.getFullYear()===i.getFullYear()&&n.getMonth()===i.getMonth()}var EN=function(e){return e.TIME="TIME",e.MONTH="MONTH",e}({});function SN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CN=function(e,t){return a.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){SN(e,t,n[t])})}return e}({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:t},e),a.createElement("path",{d:"M12 10 8 6l-4 4z"}))};const TN=fv({as:(0,a.forwardRef)(CN),ariaLabel:"arrow up",category:"direction",displayName:"ArrowUp"});var NN=["as","className","classPrefix","calendarDate","dateRange","disabledBackward","defaultState","disabledForward","format","hoverRangeValue","inline","isoWeek","weekStart","targetId","limitEndYear","limitStartYear","locale","monthDropdownProps","showMeridiem","showWeekNumbers","cellClassName","disabledDate","onChangeMonth","onChangeTime","onMouseMove","onMoveBackward","onMoveForward","onSelect","onToggleMonthDropdown","onToggleTimeDropdown","renderCell","renderCellOnPicker","renderTitle","renderToolbar"],AN=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.className,s=e.classPrefix,o=void 0===s?"calendar":s,l=e.calendarDate,c=e.dateRange,d=e.disabledBackward,u=e.defaultState,h=e.disabledForward,p=e.format,m=e.hoverRangeValue,f=e.inline,g=e.isoWeek,_=void 0!==g&&g,v=e.weekStart,b=e.targetId,y=e.limitEndYear,x=e.limitStartYear,w=e.locale,E=e.monthDropdownProps,S=e.showMeridiem,C=e.showWeekNumbers,T=e.cellClassName,N=e.disabledDate,A=e.onChangeMonth,k=e.onChangeTime,R=e.onMouseMove,I=e.onMoveBackward,O=e.onMoveForward,j=e.onSelect,P=e.onToggleMonthDropdown,D=e.onToggleTimeDropdown,L=e.renderCell,M=e.renderCellOnPicker,U=e.renderTitle,F=e.renderToolbar,B=yn(e,NN),V=j_(o),z=V.withClassPrefix,H=V.merge,W=V.prefix,G=(0,a.useMemo)(function(){return Wv(l)?l:FE()},[l]),q=function(e){var t=(0,a.useState)(e.defaultState),n=t[0],i=t[1],r=CS(function(){var t;if(i(void 0),n===EN.TIME)null===(t=e.onToggleTimeDropdown)||void 0===t||t.call(e,!1);else if(n===EN.MONTH){var r;null===(r=e.onToggleMonthDropdown)||void 0===r||r.call(e,!1)}}),s=CS(function(){var t;null===(t=e.onMoveForward)||void 0===t||t.call(e,IS(e.calendarDate,1))}),o=CS(function(){var t;null===(t=e.onMoveBackward)||void 0===t||t.call(e,IS(e.calendarDate,-1))}),l=CS(function(){var t;n===EN.TIME?i(void 0):i(EN.TIME),null===(t=e.onToggleTimeDropdown)||void 0===t||t.call(e,n!==EN.TIME)}),c=CS(function(){var t;n===EN.MONTH?i(void 0):i(EN.MONTH),null===(t=e.onToggleMonthDropdown)||void 0===t||t.call(e,n!==EN.MONTH)}),d=(0,a.useMemo)(function(){return{onMoveForward:s,onMoveBackward:o,onToggleTimeDropdown:l,onToggleMonthDropdown:c}},[o,s,c,l]);return{calendarState:n,handlers:d,reset:r}}({defaultState:u,calendarDate:G,onMoveForward:O,onMoveBackward:I,onToggleTimeDropdown:D,onToggleMonthDropdown:P}),Y=q.calendarState,X=q.reset,K=q.handlers,J=function(e){var t;return null!==(t=null===N||void 0===N?void 0:N(e))&&void 0!==t&&t},Z=CS(function(){return X()}),Q=xN(p),$=Q.mode,ee=Q.has,te=Y===EN.TIME||$===yN.Time,ne=Y===EN.MONTH||$===yN.Month,ie=H(r,z({"time-view":te,"month-view":ne,"only-time":$===yN.Time,"show-week-numbers":C})),re=ev()(B,WE),ae=CS(function(e,t){X(),null===A||void 0===A||A(e,t)}),se={date:G,dateRange:c,format:p,hoverRangeValue:m,inline:f,isoWeek:_,weekStart:v,targetId:b,locale:w,showWeekNumbers:C,monthDropdownProps:E,cellClassName:T,disabledDate:J,inSameMonth:function(e){return wN(G,e)},onChangeMonth:ae,onChangeTime:k,onMouseMove:R,onSelect:j,renderCell:L,renderCellOnPicker:M};return a.createElement(SC,{value:se},a.createElement(i,Vf({"data-testid":"calendar"},vT(B),{className:ie,ref:t}),$!==yN.Time&&a.createElement(pN,Vf({},K,{showMonth:ee("month"),showDate:ee("day"),showTime:ee("time"),disabledTime:function(t){return _N(e,t)},renderTitle:U,renderToolbar:F,disabledBackward:d,disabledForward:h})),ee("day")&&a.createElement(tN,null),ee("month")&&a.createElement(lT,{show:ne,limitEndYear:y,limitStartYear:x,disabledMonth:J}),ee("time")&&a.createElement(OT,Vf({},re,{show:te,showMeridiem:S})),(ne||te)&&ee("day")&&a.createElement("button",{className:W("btn-close"),onClick:Z,"aria-label":"Collapse "+(ne?"month":"time")+" view"},a.createElement(TN,null))))});AN.displayName="CalendarContainer";const kN=AN;function RN(e){var t=e.index,n=e.calendarDateRange,i=e.onChangeCalendarMonth,r=e.onChangeCalendarTime,s=e.onSelect,o=(0,a.useMemo)(function(){return n[t]},[n,t]),l=CS(function(e,n){null===s||void 0===s||s(t,e,n)}),c=CS(function(e){null===i||void 0===i||i(t,e)}),d=CS(function(e){null===r||void 0===r||r(t,e)}),u=CS(function(){null===i||void 0===i||i(t,IS(o,1))}),h=CS(function(){null===i||void 0===i||i(t,IS(o,-1))});return{calendarDate:o,onSelect:l,onChangeMonth:c,onChangeTime:d,onMoveForward:u,onMoveBackward:h}}var IN=["as","calendarDateRange","format","disabledDate","index","limitEndYear","limitStartYear","onChangeCalendarMonth","onChangeCalendarTime","onSelect","renderTitle","value"],ON=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?kN:n,r=e.calendarDateRange,s=void 0===r?[FE(),IS(FE(),1)]:r,o=e.format,l=void 0===o?"yyyy-MM-dd":o,c=e.disabledDate,d=e.index,u=void 0===d?0:d,h=e.limitEndYear,p=e.limitStartYear,m=e.onChangeCalendarMonth,f=e.onChangeCalendarTime,g=e.onSelect,_=e.renderTitle,v=e.value,b=void 0===v?[]:v,y=yn(e,IN),x=0===u?"start":"end",w=RN({index:u,calendarDateRange:s,onChangeCalendarMonth:m,onChangeCalendarTime:f,onSelect:g}),E=(0,a.useCallback)(function(e){return null===c||void 0===c?void 0:c(e,b,hE.CALENDAR)},[c,b]),S=(0,a.useCallback)(function(e){return null===_||void 0===_?void 0:_(e,x)},[_,x]);return a.createElement(i,Vf({"data-testid":"calendar-"+x},y,w,{index:u,format:l,dateRange:b,disabledDate:E,limitEndYear:h,limitStartYear:p,ref:t,renderTitle:S}))});ON.displayName="DateRangePicker.Calendar";const jN=ON;function PN(e){var t=e.from,n=e.to;return Wv(t)&&Wv(n)?function(e,t){if(zv(2,arguments),"object"!==wn(t)||null===t)throw new RangeError("values parameter must be an object");var n=Hv(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=US(n,t.month)),null!=t.date&&n.setDate(Gv(t.date)),null!=t.hours&&n.setHours(Gv(t.hours)),null!=t.minutes&&n.setMinutes(Gv(t.minutes)),null!=t.seconds&&n.setSeconds(Gv(t.seconds)),null!=t.milliseconds&&n.setMilliseconds(Gv(t.milliseconds)),n)}(n,{hours:fT(t),minutes:CT(t),seconds:TT(t)}):n}function DN(e){zv(1,arguments);var t=Hv(e);return t.setMilliseconds(0),t}function LN(e,t){zv(2,arguments);var n=DN(e),i=DN(t);return n.getTime()===i.getTime()}function MN(e){zv(1,arguments);var t=Hv(e);return t.setDate(1),t.setHours(0,0,0,0),t}function UN(e){return zv(1,arguments),ZT(e,{weekStartsOn:1})}function FN(e,t){var n,i,r,a,s,o,l,c;zv(1,arguments);var d=Qv(),u=Gv(null!==(n=null!==(i=null!==(r=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(o=s.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==r?r:d.weekStartsOn)&&void 0!==i?i:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Hv(e),p=h.getDay(),m=6+(p<u?-7:0)-(p-u);return h.setDate(h.getDate()+m),h.setHours(23,59,59,999),h}function BN(e){return zv(1,arguments),FN(e,{weekStartsOn:1})}function VN(e){var t,n=e.value,i=e.calendarKey,r=void 0===i?"start":i,a=e.allowSameMonth?0:1;if((n=null!==(t=n)&&void 0!==t?t:[])[0]&&n[1]){var s=function(e,t){zv(2,arguments);var n=Hv(e),i=Hv(t);return 12*(n.getFullYear()-i.getFullYear())+(n.getMonth()-i.getMonth())}(n[1],n[0]);if("start"===r)return[n[0],s<=0?PN({from:n[1],to:IS(n[0],a)}):n[1]];if("end"===r)return[s<=0?PN({from:n[0],to:IS(n[1],-a)}):n[0],n[1]]}else if(n[0])return[n[0],IS(n[0],a)];var o=FE();return[o,IS(o,a)]}var zN=function(e){return[MN(e),OS(e)]},HN=Symbol.for("rsuite.picker"),WN=Symbol.for("rsuite.picker_group_key");const GN=function(e){var t=(0,a.useRef)(null),n=(0,a.useRef)(null),i=(0,a.useRef)(null),r=(0,a.useRef)(null),s=(0,a.useRef)(null),o=(0,a.useRef)(null),l=(0,a.useRef)(null),c=CS(function(){var e;null===t||void 0===t||null===(e=t.current)||void 0===e||e.open()}),d=CS(function(){var e;null===t||void 0===t||null===(e=t.current)||void 0===e||e.close()}),u=CS(function(){var e;null===t||void 0===t||null===(e=t.current)||void 0===e||e.updatePosition()});return(0,a.useImperativeHandle)(e,function(){return{get root(){var e,i;return null!==(e=(null===n||void 0===n?void 0:n.current)||(null===t||void 0===t||null===(i=t.current)||void 0===i?void 0:i.root))&&void 0!==e?e:null},get overlay(){var e;if(null===r||void 0===r||!r.current)throw new Error("The overlay is not found. Please confirm whether the picker is open.");return null!==(e=null===r||void 0===r?void 0:r.current)&&void 0!==e?e:null},get target(){var e;return null!==(e=null===i||void 0===i?void 0:i.current)&&void 0!==e?e:null},get list(){if(null===s||void 0===s||!s.current)throw new Error("\n            The list is not found.\n            1.Please set virtualized for the component.\n            2.Please confirm whether the picker is open.\n          ");return null===s||void 0===s?void 0:s.current},type:HN,updatePosition:u,open:c,close:d}}),{trigger:t,root:n,overlay:r,target:i,list:s,searchInput:o,treeView:l}};var qN=n(9829),YN=n.n(qN);function XN(e){var t=[],n=function(e){a.Children.forEach(e.props.children,function(e){a.isValidElement(e)?n(e):"string"===typeof e&&t.push(e)})};return n(e),t}function KN(e){return"string"===typeof e?e:a.isValidElement(e)?XN(e).join(""):""}function JN(e,t){var n=t.down,i=t.up,r=t.enter,a=t.del,s=t.esc,o=t.right,l=t.left;switch(e.key){case oE:null===n||void 0===n||n(e),e.preventDefault();break;case aE:null===i||void 0===i||i(e),e.preventDefault();break;case lE:null===r||void 0===r||r(e),e.preventDefault();break;case dE:null===a||void 0===a||a(e);break;case uE:case cE:null===s||void 0===s||s(e);break;case rE:null===l||void 0===l||l(e);break;case sE:null===o||void 0===o||o(e)}}var ZN=["as","classPrefix","autoWidth","className","placement","target"],QN=["placement","arrowOffsetLeft","arrowOffsetTop","positionLeft","positionTop","getPositionInstance","getToggleInstance","autoWidth"],$N=["topStart","topEnd","leftEnd","rightEnd","auto","autoVerticalStart","autoVerticalEnd","autoHorizontalEnd"],eA=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.classPrefix,s=void 0===r?"picker-popup":r,o=e.autoWidth,l=e.className,c=e.placement,d=void 0===c?"bottomStart":c,u=e.target,h=yn(e,ZN),p=(0,a.useRef)(null),m=CS(function(){var e=null===u||void 0===u?void 0:u.current;e&&$N.includes(d)&&e.updatePosition()});jC((0,a.useCallback)(function(){return p.current},[]),m),(0,a.useEffect)(function(){var e=null===u||void 0===u?void 0:u.current;if(o&&null!==e&&void 0!==e&&e.root){var t=function(e,t){var n=Pg(e);if(n)return n.innerWidth;if(t)return e.clientWidth;var i=Dg(e);return i?i.width:0}(E_(e.root));p.current&&rw(p.current,"min-width",t+"px")}},[o,u,p]);var f=j_(s),g=f.withClassPrefix,_=(0,f.merge)(l,g());return a.createElement(i,Vf({"data-testid":"picker-popup"},w_()(h,QN),{ref:Ev(p,t),className:_}))});eA.displayName="PickerPopup";const tA=eA;var nA=["name","classPrefix","className","placement","appearance","cleanable","block","disabled","countable","readOnly","plaintext","hasValue"];const iA=function(e){var t,n=e.name,i=e.classPrefix,r=e.className,a=e.placement,s=e.appearance,o=e.cleanable,l=e.block,c=e.disabled,d=e.countable,u=e.readOnly,h=e.plaintext,p=e.hasValue,m=yn(e,nA),f=j_(i),g=f.withClassPrefix;return[(0,f.merge)(r,g(n,s,"toggle-wrapper",((t={})["placement-"+m_()(IE(a))]=a,t["read-only"]=u,t["has-value"]=p,t.cleanable=o,t.block=l,t.disabled=c,t.countable=d,t.plaintext=h,t))),Object.keys(w_()(e,[].concat(Object.keys(m||{}),["disabled","readOnly","plaintext","name"])))]};var rA=["children","className","as"];const aA=function(e){var t=e.children,n=e.className,i=e.as,r=void 0===i?pC.Addon:i,s=yn(e,rA);return t?a.createElement(r,Vf({"data-testid":"picker-label",className:n},s),t):null};function sA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oA=function(e,t){return a.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){sA(e,t,n[t])})}return e}({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:t},e),a.createElement("path",{d:"m2.784 2.089.069.058 5.146 5.147 5.146-5.147a.5.5 0 0 1 .765.638l-.058.069L8.705 8l5.147 5.146a.5.5 0 0 1-.638.765l-.069-.058-5.146-5.147-5.146 5.147a.5.5 0 0 1-.765-.638l.058-.069L7.293 8 2.146 2.854a.5.5 0 0 1 .638-.765"}))};const lA=fv({as:(0,a.forwardRef)(oA),ariaLabel:"close",category:"application",displayName:"Close"});var cA=["as","classPrefix","className","locale"],dA=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"button":n,r=e.classPrefix,s=void 0===r?"btn-close":r,o=e.className,l=e.locale,c=yn(e,cA),d=_x().getLocale,u=j_(s),h=u.withClassPrefix,p=u.merge,m=d("CloseButton",l).closeLabel,f=p(o,h());return a.createElement(i,Vf({type:"button",ref:t,className:f,"aria-label":m},c),a.createElement(lA,null))});dA.displayName="CloseButton";const uA=dA;var hA=["as","classPrefix","className","inverse","backdrop","speed","center","vertical","content","size"],pA=a.forwardRef(function(e,t){var n=_x("Loader",e).propsWithDefaults,i=n.as,r=void 0===i?"div":i,s=n.classPrefix,o=void 0===s?"loader":s,l=n.className,c=n.inverse,d=n.backdrop,u=n.speed,h=void 0===u?"normal":u,p=n.center,m=n.vertical,f=n.content,g=n.size,_=yn(n,hA),v=j_(o),b=v.merge,y=v.withClassPrefix,x=v.prefix,w=RE("loader-label-"),E=b(l,x("wrapper","speed-"+h,g,{"backdrop-wrapper":d,vertical:m,inverse:c,center:p}));return a.createElement(r,Vf({role:"status","aria-labelledby":f?w:void 0},_,{ref:t,className:E}),d&&a.createElement("div",{className:x("backdrop")}),a.createElement("div",{className:y()},a.createElement("span",{className:x("spin")}),f&&a.createElement("span",{id:w,className:x("content")},f)))});pA.displayName="Loader",pA.propTypes={as:h_().elementType,className:h_().string,classPrefix:h_().string,center:h_().bool,backdrop:h_().bool,inverse:h_().bool,vertical:h_().bool,content:h_().node,size:Tx(["lg","md","sm","xs"]),speed:Tx(["normal","fast","slow","paused"])};const mA=pA;const fA=function(e){var t=e.loading,n=e.caretAs,i=e.onClose,r=e.showCleanButton,s=e.as,o=void 0===s?pC.Addon:s,l=e.disabled,c=(0,_x().getLocale)("common").clear,d=j_("picker").prefix,u=o===pC.Addon?{disabled:l}:void 0;return a.createElement(o,u,t?a.createElement(mA,{className:d("loader"),"data-testid":"spinner"}):r&&!l?a.createElement(uA,{className:d("clean"),tabIndex:-1,locale:{closeLabel:c},onClick:i}):n&&a.createElement(pv,{as:n,className:d("caret-icon"),"data-testid":"caret"}))};var gA=Vf({},C_,{classPrefix:h_().string,className:h_().string,style:h_().object,locale:h_().any,appearance:Tx(["default","subtle"]),block:h_().bool,containerPadding:h_().number,container:h_().oneOfType([h_().any,h_().func]),disabled:h_().bool,menuClassName:h_().string,menuStyle:h_().object,placeholder:h_().node,placement:Tx(iE),preventOverflow:h_().bool,open:h_().bool,defaultOpen:h_().bool,cleanable:h_().bool,renderExtraFooter:h_().func,renderValue:h_().func,onOpen:h_().func,onClose:h_().func,onClean:h_().func,listProps:h_().any}),_A=Vf({},gA,{data:h_().array.isRequired,valueKey:h_().string,labelKey:h_().string,childrenKey:h_().string,disabledItemValues:h_().array,value:h_().any,defaultValue:h_().any,onChange:h_().func});function vA(e){var t=0;return Array.from(e).forEach(function(e){e.charCodeAt(0)>255?t+=2:t++}),t}var bA=n(5491),yA=n.n(bA),xA=n(4048),wA=n.n(xA),EA=[].concat(["selected","defaultValue","defaultChecked","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","form","id","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","type","value"],["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),SA=function(e,t){void 0===t&&(t={});var n=t,i=n.htmlProps,r=void 0===i?EA:i,a=n.includeAria,s=void 0===a||a,o={},l={};return yA()(e,function(e,t){var n=s&&(/^aria-.*$/.test(t)||"role"===t);(wA()(r,t)||n?o:l)[t]=e}),[o,l]};function CA(e){var t=e[0],n=e[1];return t&&n?[PN({from:t,to:n}),PN({from:n,to:t})]:e}var TA,NA,AA=["as","classPrefix","className","appearance","editable","cleanable","character","calendarSnapping","defaultCalendarValue","defaultValue","plaintext","disabled","disabledDate","shouldDisableDate","shouldDisableHour","shouldDisableMinute","shouldDisableSecond","format","hoverRange","id","isoWeek","weekStart","limitEndYear","limitStartYear","locale","loading","label","menuClassName","menuStyle","oneTap","placeholder","placement","ranges","readOnly","showOneCalendar","showWeekNumbers","showMeridian","showMeridiem","showHeader","style","size","caretAs","value","monthDropdownProps","hideHours","hideMinutes","hideSeconds","onChange","onClean","onEnter","onExit","onOk","onSelect","onShortcutClick","renderTitle","renderValue","renderCell"],kA=a.forwardRef(function(e,t){var n,i,r,s=_x("DateRangePicker",e),o=s.formatDate,l=s.propsWithDefaults,c=l.as,d=void 0===c?"div":c,u=l.classPrefix,h=void 0===u?"picker":u,p=l.className,m=l.appearance,f=void 0===m?"default":m,g=l.editable,_=void 0===g||g,v=l.cleanable,b=void 0===v||v,y=l.character,x=void 0===y?" ~ ":y,w=l.calendarSnapping,E=l.defaultCalendarValue,S=l.defaultValue,C=l.plaintext,T=l.disabled,N=l.disabledDate,A=l.shouldDisableDate,k=l.shouldDisableHour,R=l.shouldDisableMinute,I=l.shouldDisableSecond,O=l.format,j=l.hoverRange,P=l.id,D=l.isoWeek,L=void 0!==D&&D,M=l.weekStart,U=l.limitEndYear,F=void 0===U?1e3:U,B=l.limitStartYear,V=l.locale,z=l.loading,H=l.label,W=l.menuClassName,G=l.menuStyle,q=l.oneTap,Y=l.placeholder,X=void 0===Y?"":Y,K=l.placement,J=void 0===K?"bottomStart":K,Z=l.ranges,Q=l.readOnly,$=l.showOneCalendar,ee=void 0!==$&&$,te=l.showWeekNumbers,ne=l.showMeridian,ie=l.showMeridiem,re=void 0===ie?ne:ie,ae=l.showHeader,se=void 0===ae||ae,oe=l.style,le=l.size,ce=l.caretAs,de=l.value,ue=l.monthDropdownProps,he=l.hideHours,pe=l.hideMinutes,me=l.hideSeconds,fe=l.onChange,ge=l.onClean,_e=l.onEnter,ve=l.onExit,be=l.onOk,ye=l.onSelect,xe=l.onShortcutClick,we=l.renderTitle,Ee=l.renderValue,Se=l.renderCell,Ce=yn(l,AA),Te=RE("rs-",P),Ne=GN(t),Ae=Ne.trigger,ke=Ne.root,Re=Ne.target,Ie=Ne.overlay,Oe=j_(h),je=Oe.merge,Pe=Oe.prefix,De=O||(null===V||void 0===V?void 0:V.shortDateFormat)||"yyyy-MM-dd",Le=""+De+x+De,Me=yE(de,null!==S&&void 0!==S?S:null),Ue=Me[0],Fe=Me[1],Be=xN(De),Ve=Be.mode,ze=Be.has,He=Ve===yN.Month,We=Ve===yN.Time,Ge=He||ee||We,qe=Ge?0:1,Ye=(0,a.useState)(!0),Xe=Ye[0],Ke=Ye[1],Je=(0,a.useState)(null!==(n=null!==de&&void 0!==de?de:S)&&void 0!==n?n:[]),Ze=Je[0],Qe=Je[1],$e=(0,a.useState)(Ue),et=$e[0],tt=$e[1],nt=(0,a.useState)(VN({value:null!==(i=null!==Ue&&void 0!==Ue?Ue:E)&&void 0!==i?i:null,allowSameMonth:Ge})),it=nt[0],rt=nt[1],at=(0,a.useRef)(null),st=(0,a.useState)(),ot=st[0],lt=st[1],ct=function(e){var t="start"===e?0:1;return(null===it||void 0===it?void 0:it[t])||(null===E||void 0===E?void 0:E[t])},dt=function(e){var t=e.dateRange,n=e.calendarKey,i=e.eventName,r=t;if(ze("time")&&null!==t&&void 0!==t&&t.length&&("changeDate"===i||"changeMonth"===i)){var a=PN({from:ct("start"),to:t[0]});r=[a,PN({from:ct("end"),to:1===t.length?IS(a,qe):t[1]})]}else null===t&&"undefined"!==typeof E&&(r=E);var s=VN({value:r,calendarKey:n,allowSameMonth:Ge});rt(s),He&&"changeMonth"===i&&Qe(s)};(0,a.useEffect)(function(){Qe(null!==de&&void 0!==de?de:[]),tt(null!==de&&void 0!==de?de:null)},[de]);var ut=function(e){var t="week"===j?function(e){return function(e,t){var n=t.isoWeek,i=t.weekStart,r=void 0===i?0:i,a=t.locale;return n?[UN(e),BN(e)]:[ZT(e,{weekStartsOn:r,locale:a}),FN(e,{weekStartsOn:r,locale:a})]}(e,{isoWeek:L,weekStart:M,locale:null===V||void 0===V?void 0:V.dateLocale})}:"month"===j?zN:j;if(Q_()(t))return null;var n=t(e);return n instanceof Array&&2===n.length?(DT(n[0],n[1])&&(n=CA(n)),n):null},ht=function(e,t,n){void 0===n&&(n=!0),Qe(null!==t&&void 0!==t?t:[]),Fe(t),function(e,t,n){if(null===e&&null===t)return!0;if(null===e||null===t)return!1;var i=jT(e[0],t[0])&&jT(e[1],t[1]);return vN(n)&&i&&(i=LN(e[0],t[0])&&LN(e[1],t[1])),i}(t,Ue,De)||null===fe||void 0===fe||fe(t,e),!1!==n&&At()},pt=CS(function(e){var t=ut(e);if(Xe)Q_()(t)||tt(t);else if(Q_()(t)||Q_()(at.current))tt(function(t){return Q_()(t)?null:[t[0],e]});else{var n=[at.current[0],t[1]];PT(t[0],at.current[0])&&(n=[t[0],at.current[1]]),Qe(n)}}),mt=CS(function(e,t,n){var i=0===e?"start":"end",r=null!==et&&void 0!==et?et:[],a=ut(t),s=Q_()(a);if(q)return ht(n,s?[UE(t),BE(t)]:a),void(null===ye||void 0===ye||ye(t,n));s?Xe?r=[t]:r[1]=t:Xe?(r=a,at.current=a):(r=Ze,at.current=null),2===r.length?(DT(r[0],r[1])&&(r=CA(r)),ze("time")&&(r=[PN({from:ct("start"),to:r[0]}),PN({from:ct("end"),to:r[1]})]),tt(r)):tt([r[0],r[0]]),lt(Xe?"end":"start"),Qe(r),wN(it[e],t)&&!w||dt({dateRange:r,calendarKey:i,eventName:"changeDate"}),null===ye||void 0===ye||ye(t,n),Ke(!Xe)});(0,a.useEffect)(function(){var e=Ze.length;(0===e||2===e)&&tt(null)},[Ze]);var ft=CS(function(e,t){var n=0===e?"start":"end",i=Array.from(it);i[e]=t,dt({dateRange:i,calendarKey:n,eventName:"changeMonth"})}),gt=CS(function(e,t){var n=0===e?"start":"end",i=Array.from(it);i[e]=t,dt({dateRange:i,calendarKey:n,eventName:"changeTime"}),Qe(function(n){var i=[].concat(n);return i[e]=i[e]?PN({from:t,to:i[e]}):new Date(t.valueOf()),i})}),_t=CS(function(){var e;if(Ue&&Ue.length){var t=Ue[0],n=Ue[1];e=[t,wN(t,n)?IS(n,qe):n]}else e=VN({value:null!==E&&void 0!==E?E:null,allowSameMonth:Ge});Qe(null!==Ue&&void 0!==Ue?Ue:[]),dt({dateRange:e})}),vt=CS(function(){Ke(!0)}),bt=CS(function(e,t,n){void 0===t&&(t=!1);var i=e.value;dt({dateRange:i,eventName:"shortcutSelection"}),t?ht(n,i,t):Qe(null!==i&&void 0!==i?i:[]),null===xe||void 0===xe||xe(e,n),Ke(!0)}),yt=function(){var e=Ze[0],t=void 0===e?it[0]:e,n=Ze[1],i=void 0===n?it[1]:n;return We?[t,i]:Ze},xt=CS(function(e){var t=yt();ht(e,t),null===be||void 0===be||be(t,e)}),wt=CS(function(e){dt({dateRange:null}),ht(e,null),null===ge||void 0===ge||ge(e),e.stopPropagation()}),Et=CS(function(e,t){if(e){var n=[e[0],e[1]];tt(n),Qe(n),dt({dateRange:n}),ht(t,n,!1)}}),St=_C({shouldDisableDate:A,DEPRECATED_disabledDate:N}),Ct=function(e,t,n){if(St)for(;PT(e,t)||jT(e,t);){if(St(e,{selectDate:Ze,selectedDone:Xe,target:n}))return!0;e=VE(e,1)}return!1},Tt=function(){var e=yt(),t=e[0],n=e[1];return!t||!n||(!We&&!Xe||!!Lt([t,n]))},Nt=function(e){if(void 0===e&&(e=[]),null===e)return!1;var t=e,n=t[0],i=t[1];return!n||!i||Ct(n,i,hE.TOOLBAR_SHORTCUT)},At=CS(function(){var e,t;null===(e=Ae.current)||void 0===e||null===(t=e.close)||void 0===t||t.call(e)}),kt=CS(function(e){JN(e,{esc:At,enter:function(){var e,t;((null===(e=Ae.current)||void 0===e?void 0:e.getState())||{}).open||(null===(t=Ae.current)||void 0===t||t.open())}})}),Rt=St?function(e,t,n){return St(e,{selectDate:t,selectedDone:Xe,target:n})}:void 0,It=!Q_()(Ue)&&Ue.length>1,Ot=iA(Vf({},e,{classPrefix:h,className:p,name:"daterange",appearance:f,hasValue:It,cleanable:b})),jt=Ot[0],Pt=Ot[1],Dt=(0,a.useMemo)(function(){return null===ce?null:ce||(We?xv:vv)},[ce,We]),Lt=function(e){if(!e)return!1;if(Array.isArray(e)&&0===e.length)return!1;var t=e[0],n=e[1];if(!Wv(t)||!Wv(n))return!0;if(PT(n,t))return!0;var i={selectDate:e,selectedDone:Xe,target:hE.INPUT};return!!(null!==St&&void 0!==St&&St(t,i)||null!==St&&void 0!==St&&St(n,i))},Mt=SA(Ce,{htmlProps:[],includeAria:!0}),Ut=Mt[0],Ft=Mt[1],Bt=b&&It&&!Q,Vt=Ue&&Lt(Ue),zt=xC({mode:"dateRange",value:Ue,formatStr:De,renderValue:Ee,readOnly:Q,editable:_,loading:z}),Ht=zt.customValue,Wt=zt.inputReadOnly,Gt=zt.Input,qt=zt.events;return a.createElement(ME,{trigger:"active",ref:Ae,pickerProps:ev()(e,PE),placement:J,onEnter:D_(qt.onActive,_t,_e),onExit:D_(qt.onInactive,vt,ve),speaker:function(e,t){var n=e.left,i=e.top,r=e.className,s=je(r,W,Pe("popup-daterange")),o=Pe("daterange-panel",{"daterange-panel-show-one-calendar":ee,"daterange-panel-only-time":We}),l={minWidth:ee||We?"auto":528},c=Vf({},G,{left:n,top:i}),d={locale:V,isoWeek:L,weekStart:M,limitEndYear:F,showMeridiem:re,calendarDateRange:it,limitStartYear:B,showWeekNumbers:te,format:De,value:Ze,monthDropdownProps:ue,hoverRangeValue:null!==et&&void 0!==et?et:void 0,hideHours:he,hideMinutes:pe,hideSeconds:me,disabledHours:k,disabledMinutes:R,disabledSeconds:I,disabledDate:Rt,onSelect:mt,onChangeCalendarMonth:ft,onChangeCalendarTime:gt,onMouseMove:pt,renderTitle:we,renderCellOnPicker:Se},u=(null===Z||void 0===Z?void 0:Z.filter(function(e){return"left"===(null===e||void 0===e?void 0:e.placement)}))||[],h=null===Z||void 0===Z?void 0:Z.filter(function(e){return"bottom"===(null===e||void 0===e?void 0:e.placement)||void 0===(null===e||void 0===e?void 0:e.placement)});return a.createElement(tA,{role:"dialog","aria-labelledby":H?Te+"-label":void 0,tabIndex:-1,className:s,ref:Ev(Ie,t),target:Ae,style:c},a.createElement("div",{className:o,style:l},a.createElement(Gx,{alignItems:"flex-start"},u.length>0&&a.createElement(QE,{direction:"column",spacing:0,className:Pe("daterange-predefined"),ranges:u,calendarDate:it,locale:V,disableShortcut:Nt,onShortcutClick:bt,"data-testid":"daterange-predefined-side"}),a.createElement(Gx.Item,null,a.createElement("div",{className:Pe("daterange-content")},se&&a.createElement(gC,{value:Xe?Ze:et,formatStr:De,character:x,clickable:ee,activeKey:ot,onSelect:lt}),a.createElement("div",{className:Pe("daterange-calendar-"+(ee?"single":"group"))},a.createElement(rS,{value:{isSelectedIdle:Xe}},ee?a.createElement(jN,Vf({index:"end"===ot?1:0},d)):a.createElement(a.Fragment,null,a.createElement(jN,Vf({index:0},d)),a.createElement(jN,Vf({index:1},d)))))),a.createElement(nS,{locale:V,calendarDate:Ze,disableOkBtn:Tt,disableShortcut:Nt,hideOkBtn:q,onOk:xt,onShortcutClick:bt,ranges:h})))))}},a.createElement(d,{ref:ke,className:je(jt,(r={},r[Pe("error")]=Vt,r)),style:oe},C?a.createElement(hC,{value:Ue,format:De,plaintext:C}):a.createElement(pC,Vf({},w_()(Ft,[].concat(jE,Pt,WE)),{inside:!0,className:Pe(TA||(TA=J_(["input-group"]))),disabled:T,size:le}),a.createElement(aA,{className:Pe(NA||(NA=J_(["label"]))),id:Te+"-label"},H),a.createElement(Gt,Vf({"aria-haspopup":"dialog","aria-invalid":Vt,"aria-labelledby":H?Te+"-label":void 0},Ut,{ref:Re,id:Te,value:Ht||Ue,character:x,format:De,placeholder:X||Le,disabled:T,readOnly:Wt,htmlSize:function(){var e=Le;if(Ue){var t=Ue[0],n=Ue[1];e=""+o(t,De)+x+o(n,De)}return vA(e)+4}(),onChange:Et,onKeyDown:kt})),a.createElement(fA,{loading:z,caretAs:Dt,onClose:wt,showCleanButton:Bt}))))});kA.displayName="DateRangePicker",kA.propTypes=Vf({},gA,{ranges:h_().array,value:h_().arrayOf(h_().instanceOf(Date)),defaultValue:h_().arrayOf(h_().instanceOf(Date)),defaultCalendarValue:h_().arrayOf(h_().instanceOf(Date)),hoverRange:h_().oneOfType([Tx(["week","month"]),h_().func]),format:h_().string,hideHours:h_().func,hideMinutes:h_().func,hideSeconds:h_().func,isoWeek:h_().bool,weekStart:h_().oneOf([0,1,2,3,4,5,6]),oneTap:h_().bool,limitEndYear:h_().number,limitStartYear:h_().number,onChange:h_().func,onOk:h_().func,disabledDate:Kx(h_().func,'Use "shouldDisableDate" property instead.'),shouldDisableDate:h_().func,onSelect:h_().func,showWeekNumbers:h_().bool,showMeridiem:h_().bool,showOneCalendar:h_().bool});const RA=kA;function IA(e,t){return DT(new Date(e.getFullYear(),e.getMonth(),e.getDate()),new Date(t.getFullYear(),t.getMonth(),t.getDate()))}function OA(e,t){return PT(new Date(e.getFullYear(),e.getMonth(),e.getDate()),new Date(t.getFullYear(),t.getMonth(),t.getDate()))}function jA(e){return function(t,n,i,r){var a=!1,s=!1;if(null!==n&&void 0!==n&&n[0]){var o=n[0];a=wC(function(t){return VE(t,1-e)},function(e){return IA(e,t)})(o),s=wC(function(t){return VE(t,e-1)},function(e){return OA(e,t)})(o)}return!("CALENDAR"!==r||i||!a&&!s)}}function PA(e){return function(t,n,i,r){var a=!1,s=!1;if(null!==n&&void 0!==n&&n[0]){var o=n[0];a=wC(function(t){return VE(t,1-e)},function(e){return!jT(e,t)})(o),s=wC(function(t){return VE(t,e-1)},function(e){return!jT(e,t)})(o)}return!("CALENDAR"!==r||i||!a||!s)}}function DA(e,t){return function(n){return!(!OA(n,new Date(e))&&!IA(n,new Date(t)))}}function LA(e){return void 0===e&&(e=new Date),function(t){return!!OA(t,new Date(e))}}function MA(e){return void 0===e&&(e=new Date),function(t){return!!IA(t,new Date(e))}}function UA(){return LA()}function FA(){return MA()}function BA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.reduce(function(e,t){return e.apply(void 0,n)||t.apply(void 0,n)})}}Object.keys(t).forEach(function(e){RA[e]=t[e]});const VA=RA;var zA={sunday:"Su",monday:"Mo",tuesday:"Tu",wednesday:"We",thursday:"Th",friday:"Fr",saturday:"Sa",ok:"OK",today:"Today",yesterday:"Yesterday",now:"Now",hours:"Hours",minutes:"Minutes",seconds:"Seconds",formattedMonthPattern:"MMM, yyyy",formattedDayPattern:"MMM dd, yyyy",shortDateFormat:"MM/dd/yyyy",shortTimeFormat:"hh:mm aa",dateLocale:Tb},HA={noResultsText:"No results found",placeholder:"Select",searchPlaceholder:"Search",checkAll:"All"},WA=Vf({},HA,{newItem:"New item",createOption:'Create option "{0}"'});const GA={code:"en-US",common:{loading:"Loading...",emptyMessage:"No data found",remove:"Remove",clear:"Clear"},Plaintext:{unfilled:"Unfilled",notSelected:"Not selected",notUploaded:"Not uploaded"},Pagination:{more:"More",prev:"Previous",next:"Next",first:"First",last:"Last",limit:"{0} / page",total:"Total Rows: {0}",skip:"Go to{0}"},DateTimeFormats:zA,Calendar:zA,DatePicker:zA,DateRangePicker:Vf({},zA,{last7Days:"Last 7 Days"}),Combobox:HA,InputPicker:WA,TagPicker:WA,Uploader:{inited:"Initial",progress:"Uploading",error:"Error",complete:"Finished",emptyFile:"Empty",upload:"Upload",removeFile:"Remove file"},CloseButton:{closeLabel:"Close"},Breadcrumb:{expandText:"Show path"},Toggle:{on:"Open",off:"Close"}},qA=e=>{const[t,n]=(0,a.useState)([]),{t:i}=As();localStorage.getItem("system_language");return(0,a.useEffect)(()=>{n([])},[e.resetdate]),(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-calendar glyphicon glyphicon-calendar calender_icon"}),(0,Pa.jsx)(K_,{locale:GA,children:(0,Pa.jsx)(VA,{value:t,placeholder:i("input_placeholder_date"),placement:"bottomEnd",cleanable:!1,onChange:function(t){t&&2===t.length?(e.GetDateRange({start:t[0],end:t[1]}),n(t)):(e.GetDateRange({}),n([]))}})})]})})},YA=()=>{const{t:e}=As(),t=ct(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)(""),[u]=(0,a.useState)(10),[h,p]=(0,a.useState)({}),[m,f]=(0,a.useState)(!0),[g,_]=(0,a.useState)(1),[v,b]=(0,a.useState)(!0),[y,x]=(0,a.useState)({}),[w,E]=(0,a.useState)(""),S=[{title:e("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:e("sidebar_link_email_template"),url:""}],[C,T]=(0,a.useState)(!1),N="true"===new URLSearchParams(n.search).get("dev"),[A,k]=(0,a.useState)(N);(0,a.useEffect)(()=>{k(N)},[N]),(0,a.useEffect)(()=>{if(y){b(!0);const e=new FormData;e.append("page",t.pgno),e.append("per_page",u),e.append("sort",JSON.stringify(h)),e.append("search",JSON.stringify(y)),e.append("global_search",w),e.append("type",Rs.EMAIL_TEMPLATE_TYPES.DEFAULT),(async e=>await oc(Df).post("".concat(Lf,"/list"),e))(e).then(e=>{d(e.data.total_records),s(e&&e.data&&e.data.list?e.data.list:[]),_(e&&e.data&&e.data.page?e.data.page:1),b(!1)}).catch(e=>{console.log("error ====> ",e)})}},[n,o,h,y,w]);function R(t){zr().fire({customClass:"swal-wide",title:e("msg_are_you_sure"),text:e("you_not_be_able_to_revert_this"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:e("btn_yes_delete"),cancelButtonText:e("btn_cancel")}).then(e=>{if(e.isConfirmed){let e=Array.isArray(t)?t:[t];const n=new FormData;n.append("o_id",JSON.stringify(e)),(async e=>await oc(Df).post("".concat(Lf,"/delete"),e))(n).then(e=>{l(!o),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError",e)})}})}const I=(e,t)=>{f(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,p(n)},O=(e,t)=>{let n=Tn({},y);String(t).length>0?n[e]=t:delete n[e],x(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:S}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:e("sidebar_link_email_template")}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:w,placeholder:"Search",onChange:e=>{E(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{O("createdAt",e)},resetdate:C})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),E(""),O(),x({}),T(!C)},className:"btn btn-warning float-right mr-2",children:e("btn_reset_filter")}),(0,Pa.jsx)(Pa.Fragment,{children:A&&(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>i("/admin/cms/default-email-template/add?dev=true"),children:"Add New"})})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"sr_head",children:e("list_heading_sno")}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("title")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:I,column:"title"})]})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{className:"sorting_column",children:(0,Pa.jsx)("span",{children:e("label_slug")})})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{className:"sorting_column",children:(0,Pa.jsx)("span",{children:e("list_heading_subject")})})}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("list_heading_created_date")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:I,defaultSorting:m,column:"createdAt"})]})}),(0,Pa.jsx)("th",{className:"action_head",children:e("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:v?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:10,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((n,r)=>(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:n?(g-1)*u+r+1:null}),(0,Pa.jsx)("td",{children:n.title?Ya(n.title,20):"N/A"}),(0,Pa.jsx)("td",{children:n.slug?n.slug:"N/A"}),(0,Pa.jsx)("td",{title:n.subject,children:n.subject?n.subject:"N/A"}),(0,Pa.jsx)("td",{children:n.createdAt?Ha(n.createdAt):"N/A"}),(0,Pa.jsx)("td",{children:(0,Pa.jsxs)("div",{className:"d-flex",children:[(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{(e=>{i("/admin/cms/default-email-template/view/".concat(e._id))})(n)},children:e("btn_view")}),(0,Pa.jsx)("button",{className:"btn ripple btn-success mlAction",onClick:()=>{(e=>{i("/admin/cms/default-email-template/".concat(t.pgno,"/edit/").concat(e._id))})(n)},children:e("btn_edit")}),(0,Pa.jsx)(Pa.Fragment,{children:A&&(0,Pa.jsx)("button",{className:"btn ripple btn-secondary mlAction",onClick:()=>{R(null===n||void 0===n?void 0:n._id)},children:e("btn_delete")})})]})})]},r)):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:10,className:"text-center",children:e("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[e("msg_total_records")," : ",c||"0"]})}),c&&c>0?(0,Pa.jsx)(Uf,{datalength:c,itemperpage:u,currentPage:g,setPage:_,pageRoute:[{name:"email-templates",path:"/admin/cms/default-email-template/list"}]}):""]})})})]})};const XA=function(e){var t=(0,a.useRef)(e);return t.current=e,t};function KA(e){var t=XA(e);(0,a.useEffect)(function(){return function(){return t.current()}},[])}function JA(e){var t=Pg(e),n=e&&"body"===e.tagName.toLowerCase();return t||n?function(e){var t=jg(e),n=Pg(t).innerWidth;return!!t.body&&t.body.clientWidth<n}(e):e.scrollHeight>e.clientHeight}var ZA=function(){function e(){this.modals=[],this.containers=[],this.data=[]}var t=e.prototype;return t.add=function(e,t,n){var i=this.modals.indexOf(e),r=this.containers.indexOf(t);if(-1!==i)return i;if(i=this.modals.length,this.modals.push(e),-1!==r)return this.data[r].modals.push(e),i;var a={modals:[e],classes:n?n.split(/\s+/):[],style:{overflow:t.style.overflow,paddingRight:t.style.paddingRight},overflowing:JA(t)};if(a.overflowing){var s=parseInt(zg(t,"paddingRight")||0,10),o=function(e){if((void 0===qg||e)&&Wf){var t=document.createElement("div"),n=document.body;t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",n.appendChild(t),qg=t.offsetWidth-t.clientWidth,n.removeChild(t)}return qg}();rw(t,{paddingRight:(o?s+o:s)+"px"})}return a.classes.forEach(Ng.bind(null,t)),this.containers.push(t),this.data.push(a),i},t.remove=function(e){var t=this.modals.indexOf(e);if(-1!==t){var n=function(e,t){return function(e,t){var n=-1;return e.some(function(e,i){return!!t(e,i)&&(n=i,!0)}),n}(e,function(e){return-1!==e.modals.indexOf(t)})}(this.data,e),i=this.data[n],r=this.containers[n];i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(t,1),0===i.modals.length&&(Object.keys(i.style).forEach(function(e){return r.style[e]=i.style[e]}),i.classes.forEach(Ag.bind(null,r)),this.containers.splice(n,1),this.data.splice(n,1))}},t.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}();const QA=ZA;var $A,ek=["as","children","transition","dialogTransitionTimeout","style","className","container","animationProps","containerClassName","keyboard","enforceFocus","backdrop","backdropTransitionTimeout","backdropStyle","backdropClassName","open","autoFocus","onEsc","onExit","onExiting","onExited","onEnter","onEntering","onEntered","onClose","onOpen"],tk=["className"];var nk=function(){var e=($A||($A=new QA),$A),t=(0,a.useRef)({dialog:null,backdrop:null});return{get dialog(){var e;return null===(e=t.current)||void 0===e?void 0:e.dialog},add:function(n,i){return e.add(t.current,n,i)},remove:function(){return e.remove(t.current)},isTopModal:function(){return e.isTopModal(t.current)},setDialogRef:(0,a.useCallback)(function(e){t.current.dialog=e},[]),setBackdropRef:(0,a.useCallback)(function(e){t.current.backdrop=e},[])}},ik=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.children,s=e.transition,o=e.dialogTransitionTimeout,l=e.style,c=e.className,d=e.container,u=e.animationProps,h=e.containerClassName,p=e.keyboard,m=void 0===p||p,f=e.enforceFocus,g=void 0===f||f,_=e.backdrop,v=void 0===_||_,b=e.backdropTransitionTimeout,y=e.backdropStyle,x=e.backdropClassName,w=e.open,E=e.autoFocus,S=void 0===E||E,C=e.onEsc,T=e.onExit,N=e.onExiting,A=e.onExited,k=e.onEnter,R=e.onEntering,I=e.onEntered,O=e.onClose,j=e.onOpen,P=yn(e,ek),D=(0,a.useState)(!w),L=D[0],M=D[1],U=qf({container:d}),F=U.Portal,B=U.target,V=nk();w?L&&M(!1):s||L||M(!0);var z=w||s&&!L,H=(0,a.useRef)(null),W=CS(function(e){m&&e.key===uE&&V.isTopModal()&&(null===C||void 0===C||C(e),null===O||void 0===O||O(e))}),G=(0,a.useCallback)(function(){var e,t;H.current&&(null===(e=(t=H.current).focus)||void 0===e||e.call(t),H.current=null)},[]),q=CS(function(e){var t=document.activeElement,n=V.dialog;n&&t&&!Og(n,t)&&(null===e||void 0===e||e(),n.focus())}),Y=CS(function(){g&&V.isTopModal()&&q()}),X=(0,a.useRef)(),K=(0,a.useRef)(),J=CS(function(){B&&V.add(B,h),X.current||(X.current=v_(document,"keydown",W)),K.current||(K.current=v_(document,"focus",Y,!0)),S&&q(function(){H.current=document.activeElement}),null===j||void 0===j||j()}),Z=CS(function(){var e,t;V.remove(),null===(e=X.current)||void 0===e||e.off(),X.current=null,null===(t=K.current)||void 0===t||t.off(),K.current=null,G()});(0,a.useEffect)(function(){w&&J()},[w,J]),(0,a.useEffect)(function(){L&&Z()},[L,Z]),KA(function(){Z()});var Q=(0,a.useCallback)(function(){M(!0)},[]),$=(0,a.useMemo)(function(){return{overlayContainer:function(){return V.dialog}}},[V.dialog]);if(!z)return null;var ee=s?a.createElement(s,Vf({},u,{transitionAppear:!0,unmountOnExit:!0,in:w,timeout:o,onExit:T,onExiting:N,onExited:D_(Q,A),onEnter:k,onEntering:R,onEntered:I}),r):r;return a.createElement(tw.Provider,{value:$},a.createElement(F,null,v&&(s?a.createElement(gE,{transitionAppear:!0,in:w,timeout:b},function(e,t){var n=e.className,i=yn(e,tk);return a.createElement("div",Vf({"aria-hidden":!0,"data-testid":"backdrop"},i,{style:y,ref:Ev(V.setBackdropRef,t),className:Jf()(x,n)}))}):a.createElement("div",{"aria-hidden":!0,style:y,className:x})),a.createElement(i,Vf({},P,{ref:Ev(V.setDialogRef,t),style:l,className:c,tabIndex:-1}),ee)))}),rk={as:h_().elementType,className:h_().string,backdropClassName:h_().string,style:h_().object,backdropStyle:h_().object,open:h_().bool,backdrop:h_().oneOfType([h_().bool,h_().string]),keyboard:h_().bool,autoFocus:h_().bool,enforceFocus:h_().bool,animationProps:h_().object,onOpen:h_().func,onClose:h_().func};ik.displayName="OverlayModal",ik.propTypes=Vf({},C_,rk,{children:h_().func,container:h_().any,containerClassName:h_().string,dialogTransitionTimeout:h_().number,backdropTransitionTimeout:h_().number,transition:h_().any,onEsc:h_().func});const ak=ik;var sk=["timeout"],ok=a.forwardRef(function(e,t){var n=e.timeout,i=void 0===n?300:n,r=yn(e,sk),s=j_("anim").prefix,o=_x("Bounce",r).propsWithDefaults;return a.createElement(R_,Vf({},o,{ref:t,animation:!0,timeout:i,enteringClassName:s("bounce-in"),enteredClassName:s("bounce-in"),exitingClassName:s("bounce-out"),exitedClassName:s("bounce-out")}))});ok.displayName="Bounce";const lk=ok;var ck,dk=["as","style","children","dialogClassName","dialogStyle","classPrefix","className","size"],uk={size:Tx(["lg","md","sm","xs"]),className:h_().string,classPrefix:h_().string,dialogClassName:h_().string,style:h_().object,dialogStyle:h_().object,children:h_().node},hk=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.style,s=e.children,o=e.dialogClassName,l=e.dialogStyle,c=e.classPrefix,d=void 0===c?"modal":c,u=e.className,h=e.size,p=yn(e,dk),m=Vf({display:"block"},r),f=j_(d),g=f.merge,_=f.withClassPrefix,v=f.prefix,b=g(u,_(h)),y=g(o,v("dialog"));return a.createElement(i,Vf({role:"dialog","aria-modal":!0},p,{ref:t,className:b,style:m}),a.createElement("div",{role:"document",className:y,style:l},a.createElement("div",{className:v(ck||(ck=J_(["content"])))},s)))});hk.displayName="ModalDialog",hk.propTypes=uk;const pk=hk;var mk=a.createContext(null),fk=["as","classPrefix","className","style","children"],gk=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.classPrefix,s=void 0===r?"modal-body":r,o=e.className,l=e.style,c=e.children,d=yn(e,fk),u=j_(s),h=u.withClassPrefix,p=u.merge,m=u.prefix,f=p(o,h()),g=(0,a.useContext)(mk)||{},_=g.getBodyStyles,v=g.closeButton,b=g.onModalClose,y=null===_||void 0===_?void 0:_(),x=null;return v&&(x="boolean"===typeof v?a.createElement(dN,{icon:a.createElement(lA,null),appearance:"subtle",size:"sm",className:m("close"),onClick:b}):v),a.createElement(i,Vf({},d,{ref:t,style:Vf({},y,l),className:f}),x,c)});gk.displayName="ModalBody",gk.propTypes={as:h_().elementType,classPrefix:h_().string,className:h_().string};const _k=gk;var vk=["as","classPrefix","className","closeButton","children","onClose"],bk=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.classPrefix,s=void 0===r?"modal-header":r,o=e.className,l=e.closeButton,c=void 0===l||l,d=e.children,u=e.onClose,h=yn(e,vk),p=j_(s),m=p.merge,f=p.withClassPrefix,g=p.prefix,_=m(o,f()),v=(0,a.useContext)(mk)||{},b=v.isDrawer,y=v.onModalClose,x=b?a.createElement(dN,{icon:a.createElement(lA,null),appearance:"subtle",size:"sm",className:g("close"),onClick:D_(u,y)}):a.createElement(uA,{className:g("close"),onClick:D_(u,y)});return a.createElement(i,Vf({},h,{ref:t,className:_}),c&&x,d)});bk.displayName="ModalHeader",bk.propTypes={as:h_().elementType,classPrefix:h_().string,className:h_().string,closeButton:h_().bool,children:h_().node};const yk=bk;var xk=["as","classPrefix","className","role"],wk=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"h4":n,r=e.classPrefix,s=void 0===r?"modal-title":r,o=e.className,l=e.role,c=yn(e,xk),d=j_(s),u=d.withClassPrefix,h=(0,d.merge)(o,u()),p=(0,a.useContext)(mk);return a.createElement(i,Vf({id:p?p.dialogId+"-title":void 0},c,{role:l,ref:t,className:h}))});wk.displayName="Modal.Title",wk.propTypes={as:h_().elementType,className:h_().string,classPrefix:h_().string,children:h_().node};const Ek=wk;var Sk=["name","componentAs","componentClassPrefix"],Ck=["as","classPrefix","className","role"];function Tk(e){var t=e.name,n=e.componentAs,i=e.componentClassPrefix,r=yn(e,Sk),s=a.forwardRef(function(e,s){var o=_x(t,e).propsWithDefaults,l=o.as,c=void 0===l?n||"div":l,d=o.classPrefix,u=void 0===d?i||m_()(t):d,h=o.className,p=o.role,m=yn(o,Ck),f=j_(u),g=f.withClassPrefix,_=(0,f.merge)(h,g());return a.createElement(c,Vf({},r,m,{role:p,ref:s,className:_}))});return s.displayName=t,s.propTypes={as:h_().elementType,className:h_().string,classPrefix:h_().string,children:h_().node},s}const Nk=Tk({name:"ModalFooter"});var Ak,kk,Rk,Ik,Ok,jk=["animation","animationProps","animationTimeout","aria-labelledby","aria-describedby","backdropClassName","backdrop","className","children","classPrefix","dialogClassName","dialogStyle","dialogAs","enforceFocus","full","overflow","open","onClose","onEntered","onEntering","onExited","role","size","id","isDrawer","closeButton"],Pk=["className"],Dk=["xs","sm","md","lg","full"],Lk=a.forwardRef(function(e,t){var n,i,r=_x("Modal",e).propsWithDefaults,s=r.animation,o=void 0===s?lk:s,l=r.animationProps,c=r.animationTimeout,d=void 0===c?300:c,u=r["aria-labelledby"],h=r["aria-describedby"],p=r.backdropClassName,m=r.backdrop,f=void 0===m||m,g=r.className,_=r.children,v=r.classPrefix,b=void 0===v?"modal":v,y=r.dialogClassName,x=r.dialogStyle,w=r.dialogAs,E=void 0===w?pk:w,S=r.enforceFocus,C=r.full,T=r.overflow,N=void 0===T||T,A=r.open,k=r.onClose,R=r.onEntered,I=r.onEntering,O=r.onExited,j=r.role,P=void 0===j?"dialog":j,D=r.size,L=void 0===D?"sm":D,M=r.id,U=r.isDrawer,F=void 0!==U&&U,B=r.closeButton,V=yn(r,jk),z={in:A&&!o},H=j_(b),W=H.merge,G=H.prefix,q=(0,a.useState)(!1),Y=q[0],X=q[1],K=W(g,G(((n={full:C})[L]=Dk.includes(L),n))),J=(0,a.useRef)(null),Z=(0,a.useRef)(),Q=function(e,t){var n=(0,a.useState)({}),i=n[0],r=n[1],s=t.overflow,o=t.prefix,l=t.size,c=(0,a.useRef)(),d=(0,a.useRef)(null),u=(0,a.useRef)(),h=(0,a.useCallback)(function(t,n){var i=e.current,a=i?i.scrollHeight:0,s={overflow:"auto"};if(i){var l=46,c=46,d=i.querySelector("."+o("header")),u=i.querySelector("."+o("footer")),h=(l=d?Yg(d)+l:l)+(c=u?Yg(u)+c:c)+(n?70:60),p=Yg(window)-h,m=a>=p?p:a;s.maxHeight=m}r(s)},[o,e]),p=(0,a.useCallback)(function(){var e,t,n;null===(e=c.current)||void 0===e||null===(t=e.off)||void 0===t||t.call(e),null===(n=u.current)||void 0===n||n.disconnect(),c.current=null,u.current=null},[]),m=(0,a.useCallback)(function(t){s&&"full"!==l?e.current&&(h(void 0,t),d.current=e.current.querySelector("."+o("content")),c.current||(c.current=v_(window,"resize",h)),d.current&&!u.current&&(u.current=new qw(function(){return h()}),u.current.observe(d.current))):r(null)},[s,o,e,l,h]);return(0,a.useEffect)(function(){return p},[]),[s?i:null,m,p]}(J,{overflow:N,prefix:G,size:L}),$=Q[0],ee=Q[1],te=Q[2],ne=RE("dialog-",M),ie=(0,a.useMemo)(function(){return{dialogId:ne,onModalClose:k,getBodyStyles:function(){return $},closeButton:B,isDrawer:F}},[ne,k,B,F,$]),re=(0,a.useCallback)(function(e){var t;null===O||void 0===O||O(e),te(),null===(t=Z.current)||void 0===t||t.off(),Z.current=null},[te,O]),ae=(0,a.useCallback)(function(e){null===R||void 0===R||R(e),ee()},[ee,R]),se=(0,a.useCallback)(function(e){null===I||void 0===I||I(e),ee(!0)},[ee,I]),oe=a.useRef(),le=(0,a.useCallback)(function(e){oe.current=e.target===e.currentTarget},[]),ce=(0,a.useCallback)(function(e){if(oe.current&&e.target!==J.current&&e.target===e.currentTarget)return"static"===f?(X(!0),void(!Z.current&&J.current&&(Z.current=v_(J.current,Rg(),function(){X(!1)})))):void(null===k||void 0===k||k(e))},[f,k]);KA(function(){var e;null===(e=Z.current)||void 0===e||e.off()});var de="width";if(F){var ue=(l||{}).placement;de="top"===ue||"bottom"===ue?"height":"width"}var he=(0,a.useMemo)(function(){return"boolean"===typeof S?S:(!F||!1!==f)&&void 0},[f,S,F]),pe=W(G(Ak||(Ak=J_(["wrapper"]))),((i={})[G(kk||(kk=J_(["no-backdrop"])))]=!1===f,i));return a.createElement(mk.Provider,{value:ie},a.createElement(ak,Vf({"data-testid":F?"drawer-wrapper":"modal-wrapper"},V,{ref:t,backdrop:f,enforceFocus:he,open:A,onClose:k,className:pe,onEntered:ae,onEntering:se,onExited:re,backdropClassName:W(G(Rk||(Rk=J_(["backdrop"]))),p,z),containerClassName:G({open:A,"has-backdrop":f}),transition:o||void 0,animationProps:l,dialogTransitionTimeout:d,backdropTransitionTimeout:150,onClick:f?ce:void 0,onMouseDown:le}),function(e,t){var n,i=e.className,r=yn(e,Pk);return a.createElement(E,Vf({role:P,id:ne,"aria-labelledby":null!==u&&void 0!==u?u:ne+"-title","aria-describedby":h,style:(n={},n[de]=Dk.includes(L)?void 0:L,n)},r,ev()(V,Object.keys(uk)),{ref:Ev(J,t),classPrefix:b,className:W(K,i,G({shake:Y})),dialogClassName:y,dialogStyle:x}),_)}))});Lk.Body=_k,Lk.Header=yk,Lk.Title=Ek,Lk.Footer=Nk,Lk.Dialog=pk,Lk.displayName="Modal",Lk.propTypes=Vf({},rk,{animation:h_().any,animationTimeout:h_().number,classPrefix:h_().string,dialogClassName:h_().string,size:h_().oneOfType([Tx(Dk),h_().number,h_().string]),dialogStyle:h_().object,dialogAs:h_().elementType,full:(Ik=h_().bool,Ok='Use size="full" instead.',function(e,t,n){null!=e[t]&&Xx('"'+t+'" property of "'+n+'" has been deprecated.\n'+Ok);for(var i=arguments.length,r=new Array(i>3?i-3:0),a=3;a<i;a++)r[a-3]=arguments[a];return Ik.apply(void 0,[e,t,n].concat(r))}),overflow:h_().bool});const Mk=Lk,Uk={role:Rs.ROLE.SUPER_ADMIN},Fk="admin/gallery",Bk=e=>{let{item:t,index:n}=e;const i=t.filePath,r=i.split("."),a=r[r.length-1];return["jpg","jpeg","png","gif","bmp","webp"].indexOf(a.toLowerCase())>=0?(0,Pa.jsx)("div",{className:"imageloadercontainer "+(t.loaded?"imageloaded":""),children:(0,Pa.jsx)("img",{className:"",height:"100",width:"100",src:i,alt:"Thumb-1"})}):"pdf"===a?(0,Pa.jsx)("i",{className:"fa fa-file-pdf-o","aria-hidden":"true"}):"zip"===a||"tar"===a||"rar"===a?(0,Pa.jsx)("i",{className:"fa fa-file-archive-o","aria-hidden":"true"}):"docx"===a?(0,Pa.jsx)("i",{className:"fa fa-file-word-o","aria-hidden":"true"}):"xls"===a||"xlsx"===a||"csv"===a?(0,Pa.jsx)("i",{className:"fa fa-file-excel-o","aria-hidden":"true"}):"mp3"===a||"wav"===a?(0,Pa.jsx)("a",{href:t.filePath,rel:"noopener noreferrer",children:(0,Pa.jsxs)("audio",{controls:!0,className:"",style:{width:"175px"},children:[(0,Pa.jsx)("source",{src:t.filePath}),"Your browser does not support the audio element."]})}):"mp4"===a||"mov"===a||"avi"===a?(0,Pa.jsxs)("video",{href:t.filePath,controls:!0,width:"250",children:[(0,Pa.jsx)("source",{src:t.filePath,type:"video/".concat(a)}),"Your browser does not support the video tag."]}):(0,Pa.jsx)("i",{className:"fa fa-file","aria-hidden":"true"})},Vk=e=>{let{setOpen:t,chooseMedia:n,onClick:i,successButtonText:r="Send",assignedMedia:s=[],deletedMediaProps:o}=e;const[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)([]),[h,p]=(0,a.useState)(100),[m,f]=(0,a.useState)([]),[g,_]=(0,a.useState)([]);(0,a.useEffect)(()=>{n(m)},[m]),(0,a.useEffect)(()=>{f(s)},[]),(0,a.useEffect)(()=>(window.addEventListener("scroll",v),()=>{window.removeEventListener("scroll",v)}),[h]);const v=e=>{if(e.target.scrollTop+e.target.clientHeight===e.target.scrollHeight){const e=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement&&document.documentElement.scrollHeight||document.body.scrollHeight,n=document.documentElement.clientHeight||window.innerHeight;Math.ceil(e+n)>=t&&!l&&b()}},b=async()=>{try{c(!0),(async e=>await oc(Uk).post("".concat(Fk,"/list"),e))({limit:h}).then(e=>{const t=e&&e.data&&e.data.list?e.data.list:[];u(t),p(e=>e+10),c(!1)})}catch(e){console.error("Error fetching data:",e)}};(0,a.useEffect)(()=>{b()},[]),(0,a.useEffect)(()=>{o&&o(g)},[g]);const y=e=>m.filter(t=>(null===e||void 0===e?void 0:e.filePath)===t).length>0;return(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsxs)(Mk,{size:"full",open:!0,onClose:()=>{t(!1)},children:[(0,Pa.jsx)(Mk.Header,{children:(0,Pa.jsx)(Mk.Title,{children:"Media"})}),(0,Pa.jsx)(Mk.Body,{onScroll:v,children:(0,Pa.jsxs)("div",{className:"",children:[(0,Pa.jsx)("div",{className:"d-flex flex-wrap",children:d&&d.length>0&&d.map((e,t)=>(0,Pa.jsxs)("div",{className:"check_container",children:[(0,Pa.jsx)(Bk,{item:e,index:t}),(0,Pa.jsx)("input",{type:"checkbox",id:"input1"+t,checked:y(e),onChange:t=>((e,t)=>{e?(f(e=>[...e,null===t||void 0===t?void 0:t.filePath]),-1!==g.indexOf(t.filePath)&&_(g.filter(e=>e!==t.filePath))):(f(e=>e.filter(e=>e!==(null===t||void 0===t?void 0:t.filePath))),-1!==s.indexOf(t.filePath)&&_(e=>[...e,t.filePath]))})(t.target.checked,e)}),(0,Pa.jsx)("label",{htmlFor:"input1"+t,children:(0,Pa.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor",className:"bi bi-check-circle-fill",viewBox:"0 0 16 16",children:(0,Pa.jsx)("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"})})})]},t))}),l?(0,Pa.jsx)(Bf,{}):""]})}),(0,Pa.jsx)(Mk.Footer,{className:"mt-2",children:(0,Pa.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,Pa.jsx)("div",{className:"d-flex align-items-center",children:m.length?(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)("i",{className:"fa fa-check-circle","aria-hidden":"true",style:{fontSize:"23px",color:"#35b159"}}),(0,Pa.jsxs)("h6",{className:"ms-2 mt-1 mb-0",children:["Selected ",m.length," ",m.length>1?"records":"record"]})]}):(0,Pa.jsx)(Pa.Fragment,{})}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)(Px,{onClick:()=>{f([]),i(!0)},appearance:"subtle",children:"Cancel"}),(0,Pa.jsx)(Px,{onClick:()=>{i(!1)},appearance:"primary",children:r})]})]})})]})})};function zk(e){const{onChange:t=()=>{},setFieldValue:n=()=>{},config:i={},fieldname:r}=e,s=e.id||r,o=Tn({},Rs.CKEDITOR_CONFIG),l={extraPlugins:"MediaButton"};const[c,d]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{const e=window.CKEDITOR.replace(s,Tn(Tn(Tn({},o),i),l));return function(e){window.CKEDITOR.plugins.get("MediaButton")||window.CKEDITOR.plugins.add("MediaButton",{icons:"mediaButton"}),e.addCommand("insertMedia",{exec:function(){d(!0)}}),e.ui.addButton("MediaButton",{label:"Select Media",command:"insertMedia",toolbar:"insert",icon:"/assets/ckeditor/images/media-icon.png"})}(e),e.on("change",function(i){t(i,e),n(s,e.getData())}),()=>{!function(e){e.destroy()}(e)}},[]),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("textarea",{id:s,defaultValue:null!==e&&void 0!==e&&e.data?null===e||void 0===e?void 0:e.data:null===e||void 0===e?void 0:e.value}),c?(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsx)(Vk,{setOpen:d,onSubmit:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=window.CKEDITOR.instances[s];let n=t.getData()||"";e.forEach(e=>{const t=e.split(".").pop().toLowerCase();if(["jpg","jpeg","png","gif"].includes(t))n+='<p><img src="'.concat(e,'" alt="Selected Image"></p>');else{const t=e.split("/").pop();n+='<p><a href="'.concat(e,'" target="_blank">').concat(t,"</a></p>")}}),t.setData(n)},successButtonText:"Insert"})}):null]})}const Hk=()=>{const e=ot(),t=at(),[n,i]=(0,a.useState)(!1),r=new URLSearchParams(t.search).get("dev"),s="true"===r;(0,a.useEffect)(()=>{"true"===r||!0===r||e("/admin/cms/default-email-template/list/1")},[s,r]);const o=vf().shape({title:rf().required("Title is required").test("no-spaces","Title is required",e=>e.trim()),slug:rf().required("Slug is required").test("no-spaces","Slug is required",e=>e.trim()),subject:rf().required("Subject is required").test("no-spaces","Subject is required",e=>e.trim()),richtext:rf().required("Description is required").test("no-spaces","Description is required",e=>e.trim())});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:[{title:"Dashboard",url:"/dashboard"},{title:"Automatic Email ",url:"/admin/cms/default-email-template/list/1"},{title:"Add",url:""}]}),(0,Pa.jsx)(kp,{enableReinitialize:!0,initialValues:{title:"",title_de:"",slug:"",subject:"",richtext:""},validateOnBlur:!1,validationSchema:o,onSubmit:(t,n)=>{let{setSubmitting:r,resetForm:a}=n;ls(!0),i(!0);let s=new FormData;s.append("title",t.title),s.append("title_de",t.title_de),s.append("type",Rs.EMAIL_TEMPLATE_TYPES.DEFAULT),s.append("subject",t.subject),s.append("description",t.richtext),s.append("slug",t.slug),(async e=>await oc(Df).post("".concat(Lf,"/add"),e))(s).then(t=>{r(!1),t.success?(zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),ls(!1),setTimeout(()=>{a({values:""}),e("/admin/cms/default-email-template/list/1")},2e3)):(zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS)),ls(!1),i(!1))}).catch(e=>{console.log("error ====> ",e)})},children:t=>{let{values:i,errors:r,touched:a,handleChange:s,handleBlur:o,handleSubmit:l,setFieldValue:c,setFieldTouched:d,isSubmitting:u}=t;return(0,Pa.jsx)("form",{onSubmit:l,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:"Add Automatic Email "})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title",className:"text-left d-flex",children:["Title:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"title",id:"title",type:"text",onChange:s,onBlur:o,value:i.title,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"title"})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"slug",className:"text-left d-flex",children:["Slug:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"slug",type:"text",id:"slug",onChange:s,onBlur:o,value:i.slug,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"slug"})})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"subject",className:"text-left d-flex",children:["Subject:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{name:"subject",type:"text",id:"subject",onChange:s,onBlur:o,value:i.subject,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"subject"})})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"subject",className:"text-left d-flex",children:["Description:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"richtext",setFieldValue:c,value:i.richtext,setFieldTouched:d}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:r.richtext&&a.richtext&&r.richtext})]}),(0,Pa.jsxs)("div",{className:"",children:[(0,Pa.jsxs)("button",{className:"btn btn-main-primary signbtn mr-2",type:"submit",disabled:!!n||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),"Submit"]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",disabled:!!n||null,onClick:()=>e(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),"Cancel"]})]})]})]})})})})})}})]})};var Wk=["onOpen","onClose","onEntered","onExited","placement","preventOverflow"],Gk=a.forwardRef(function(e,t){var n=_x("Whisper",e),i=n.propsWithDefaults,r=n.rtl,s=i.onOpen,o=i.onClose,l=i.onEntered,c=i.onExited,d=i.placement,u=void 0===d?"right":d,h=i.preventOverflow,p=yn(i,Wk);return a.createElement(TE,Vf({},p,{ref:t,preventOverflow:h,placement:IE(u,r),onEntered:D_(s,l),onExited:D_(o,c)}))});Gk.displayName="Whisper",Gk.propTypes={onOpen:h_().func,onClose:h_().func,onEntered:h_().func,onExited:h_().func,placement:Tx(iE),preventOverflow:h_().bool,followCursor:h_().bool};const qk=Gk;var Yk=["as","className","classPrefix","children","style","visible","arrow"],Xk=a.forwardRef(function(e,t){var n=_x("Tooltip",e).propsWithDefaults,i=n.as,r=void 0===i?"div":i,s=n.className,o=n.classPrefix,l=void 0===o?"tooltip":o,c=n.children,d=n.style,u=n.visible,h=n.arrow,p=void 0===h||h,m=yn(n,Yk),f=j_(l),g=(0,f.merge)(s,(0,f.withClassPrefix)({arrow:p})),_=Vf({opacity:u?1:void 0},d);return a.createElement(r,Vf({role:"tooltip"},m,{ref:t,className:g,style:_}),c)});Xk.displayName="Tooltip",Xk.propTypes={visible:h_().bool,classPrefix:h_().string,className:h_().string,style:h_().object,children:h_().node,arrow:h_().bool};const Kk=Xk,Jk=e=>{const t=ot(),n=ct(),[i,r]=(0,a.useState)({}),[s,o]=(0,a.useState)([]),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(""),{t:h}=As(),p=[{title:h("sidebar_link_dashboard"),url:"/dashboard"},{title:h("automatic_emails"),url:"/admin/cms/default-email-template/list/1"},{title:h("btn_edit"),url:""}];(0,a.useEffect)(()=>{Mf(n.id).then(e=>{r(e&&e.data?e.data:[]),o(e&&e.data.options&&e.data.options.length?e.data.options:[]),setTimeout(()=>{c(!0)},100)}).catch(e=>{console.log("error=====>",e)})},[]);const m=vf().shape({title:rf().required(h("label_title_error")).max(50,h("max_length_label_50")).test("no-spaces",h("label_title_error"),e=>e.trim()),slug:rf().required(h("label_slug_error")).test("no-spaces",h("label_slug_error"),e=>e.trim()),subject:rf().required(h("label_subject_error")).max(50,h("max_length_label_50")).test("no-spaces",h("label_subject_error"),e=>e.trim()),richtext:rf().required(h("label_richtext_error")).test("no-spaces",h("label_richtext_error"),e=>e.trim())}),f=e=>{!async function(e){try{await navigator.clipboard.writeText(e)}catch(t){console.log("error",t)}}(e),zr().fire(Tn({icon:"success",text:"Copied"},Rs.SWAL_SETTINGS))};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:p}),(0,Pa.jsx)(kp,{enableReinitialize:!0,initialValues:{title:i&&i.title?i.title:"",title_de:i&&i.title_de?i.title_de:"",subject:i&&i.subject?i.subject:"",richtext:i&&i.description?i.description:"",slug:i&&i.slug?i.slug:""},validationSchema:m,onSubmit:(e,i)=>{let{setSubmitting:r,resetForm:a}=i;ls(!0);let s=new FormData;s.append("o_id",n.id),s.append("title",e.title),s.append("title_de",e.title_de),s.append("subject",e.subject),s.append("description",e.richtext),s.append("slug",e.slug),(async e=>await oc(Df).post("".concat(Lf,"/edit"),e))(s).then(e=>{r(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),"Save"!==d&&setTimeout(()=>{t("/admin/cms/default-email-template/list/".concat(n.pgno))},1e3),ls(!1)):(zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),ls(!1))}).catch(e=>{console.log("error ====> ",e)})},children:e=>{let{values:n,errors:i,touched:r,handleChange:a,handleBlur:o,handleSubmit:c,setFieldValue:d,setFieldTouched:p,isSubmitting:m}=e;return(0,Pa.jsx)("form",{onSubmit:c,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:h("edit_automatic_email")})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title",className:"text-left d-flex",children:[h("title"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"title",id:"title",type:"text",onChange:a,onBlur:o,value:n.title,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"title"})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"slug",className:"text-left d-flex",children:[h("label_slug"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{disabled:!0,name:"slug",type:"text",id:"slug",onChange:a,onBlur:o,value:n.slug,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"slug"})})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"subject",className:"text-left d-flex",children:[h("list_heading_subject"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"subject",type:"text",id:"subject",onChange:a,onBlur:o,value:n.subject,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"subject"})})]}),s&&s.length?(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)("div",{className:"col-12",children:(0,Pa.jsxs)("label",{htmlFor:"option"+(s.length-1),className:"text-left d-flex",children:[h("label_dynamic_options"),(0,Pa.jsxs)("span",{className:"text-warning ms-2",children:["(",h("click_to_copy"),")"]}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:h("short_code")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]})}),(0,Pa.jsx)("div",{className:"col-lg-12 mb-2",children:s&&s.map((e,t)=>(0,Pa.jsx)("span",{onClick:()=>f("{"+e.toUpperCase()+"}"),className:"badge badge-dark my-2 me-2 cp",children:"{"+e.toUpperCase()+"}"},t))})]}):null,(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"subject",className:"text-left d-flex",children:[h("label_description"),(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),l?(0,Pa.jsx)(zk,{fieldname:"richtext",setFieldValue:d,value:n.richtext,setFieldTouched:p}):"",(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:i.richtext&&r.richtext&&i.richtext})]}),(0,Pa.jsxs)("div",{className:"",children:[(0,Pa.jsxs)("button",{onClick:()=>{u("Save")},className:"btn btn-info mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),h("btn_save")]}),(0,Pa.jsxs)("button",{onClick:()=>{u("")},className:"btn btn-success mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),h("btn_save_exit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",onClick:()=>t(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),h("btn_cancel")]})]})]})]})})})})})}})]})};var Zk=n(1001);const Qk=Zk.default||Zk,$k=e=>{const t=ot(),n=ct(),[i,r]=(0,a.useState)({}),{t:s}=As(),o=[{title:s("sidebar_link_dashboard"),url:"/dashboard"},{title:s("automatic_emails"),url:"/admin/cms/default-email-template/list/1"},{title:s("btn_view"),url:""}];return(0,a.useEffect)(()=>{Mf(n.id).then(e=>{r(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:o}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:s("view_automatic_email")})}),i&&Object.keys(i).length>0?(0,Pa.jsx)("div",{className:"row",children:(0,Pa.jsxs)("div",{className:"col-lg-12 form-group",children:[(0,Pa.jsx)("table",{id:"simple-table",className:"table  table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:s("title")}),(0,Pa.jsx)("td",{children:i&&i.title?i.title:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:s("label_slug")}),(0,Pa.jsx)("td",{children:i&&i.slug?i.slug:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:s("list_heading_subject")}),(0,Pa.jsx)("td",{children:(0,Pa.jsx)("div",{className:"editorcontant",children:i&&i.subject?i.subject:"N/A"})})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:s("label_dynamic_options")}),(0,Pa.jsx)("td",{children:i&&i.options&&i.options.length>0?i.options.map((e,t)=>(0,Pa.jsx)("span",{className:0===t?"badge badge-pill badge-primary-light text-capitalize":"badge badge-pill badge-primary-light text-capitalize ms-2",children:"{"+e.toUpperCase()+"}"},t)):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:s("list_heading_created_date")}),(0,Pa.jsx)("td",{children:i&&i.createdAt?Wa(i.createdAt):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:s("list_heading_status")}),(0,Pa.jsx)("td",{children:(i&&i.status,Qk(ss(i.status)))})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:s("label_modified_date")}),(0,Pa.jsx)("td",{children:i&&i.updatedAt?Wa(i.updatedAt):"N/A"})]}),(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:2,children:(0,Pa.jsx)("div",{dangerouslySetInnerHTML:{__html:i&&i.description?i.description:"N/A"}})})})]})}),(0,Pa.jsx)("div",{className:"mt-5",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>t(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),s("btn_back")]})})]})}):(0,Pa.jsx)(Bf,{})]})})})})]})};const eR=function(e){const{t:t}=As(),n=e.data&&e.data.length>0?e.data:[];return(0,Pa.jsxs)("div",{className:"form-group mb-0 filter_icon_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-filter mr-2 filter_icon"}),(0,Pa.jsx)("div",{className:"select-down-arrow",children:(0,Pa.jsx)("select",{className:"form-control cp",onChange:t=>{t.target.value?e.prepareSearch("status",Number(t.target.value)):e.prepareSearch("status","")},id:"defaultstatus",children:n&&n.length>0&&n.map((e,n)=>(0,Pa.jsx)("option",{value:e.status__id,children:t(e.name)},n))})})]})},tR={role:Rs.ROLE.SUPER_ADMIN},nR="admin/cms",iR=async e=>await oc(tR).get("".concat(nR,"/details?o_id=").concat(e)),rR=()=>{const e=ct(),{t:t}=As(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)(),[u]=(0,a.useState)(10),[h,p]=(0,a.useState)({}),[m,f]=(0,a.useState)(!0),[g,_]=(0,a.useState)(1),[v,b]=(0,a.useState)(!0),[y,x]=(0,a.useState)({}),[w,E]=(0,a.useState)(""),S=[{title:t("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:t("sidebar_link_pages"),url:""}],[C,T]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const t=setTimeout(()=>{if(y){b(!0);const t=new FormData;t.append("page",e.pgno),t.append("per_page",u),t.append("sort",JSON.stringify(h)),t.append("search",JSON.stringify(y)),t.append("global_search",w),(async e=>await oc(tR).post("".concat(nR,"/list"),e))(t).then(e=>{d(e.data.total_records),s(e&&e.data&&e.data.list?e.data.list:[]),b(!1)}).catch(e=>{console.log("error ====> ",e)})}},300);return()=>clearTimeout(t)},[n,o,h,y,w]);const N=(e,n)=>{const i=new FormData;let r=Array.isArray(e)?e:[e];i.append("o_id",JSON.stringify(r)),i.append("status",n),zr().fire({customClass:"swal-wide",title:t("Are you sure you want to ".concat(0===n?"deactivate":"activate"," this Page ?")),icon:"warning",showCancelButton:!0,confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:t("btn_yes"),cancelButtonText:t("btn_cancel")}).then(e=>{e.isConfirmed&&(async e=>await oc(tR).post("".concat(nR,"/change-status"),e))(i).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),l(!o)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error===>")})})};function A(e){zr().fire({customClass:"swal-wide",title:t("msg_are_you_sure"),text:t("you_not_be_able_to_revert_this"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:t("btn_yes_delete"),cancelButtonText:t("btn_cancel")}).then(t=>{if(t.isConfirmed){const t=new FormData;let n=Array.isArray(e)?e:[e];t.append("o_id",JSON.stringify(n)),(async e=>await oc(tR).post("".concat(nR,"/delete"),e))(t).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),l(!o)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})}})}const k=(e,t)=>{f(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,p(n)},R=(e,t)=>{let n=Tn({},y);String(t).length>0?n[e]=t:delete n[e],x(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:S}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsxs)("div",{className:"card custom-card overflow-hidden",children:[(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsxs)("h6",{className:"main-content-label",children:[t("sidebar_link_cms")," ",t("sidebar_link_pages")]}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:w,placeholder:t("input_placeholder_search"),onChange:e=>{E(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{R("createdAt",e)},resetdate:C})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(eR,{data:Rs.showFilterlist,prepareSearch:R})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),E(""),R(),x({}),T(!C),Br()("#defaultstatus")[0].selectedIndex=0},className:"btn btn-warning float-right mr-2",children:t("btn_reset_filter")}),(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>i("/admin/cms/pages/add"),children:t("btn_add_new")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{id:"example-input",className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"sr_head",children:t("list_heading_sno")}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:t("label_page_title")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,column:"title"})]})}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:t("label_slug")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,column:"slug"})]})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{className:"sorting_column",children:(0,Pa.jsx)("span",{children:"Menu Location"})})}),(0,Pa.jsx)("th",{className:"created_head",children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:t("list_heading_created_date")}),(0,Pa.jsx)(Ff,{sort:h,defaultSorting:m,handleSort:k,column:"createdAt"})]})}),(0,Pa.jsx)("th",{className:"status_head",children:t("list_heading_status")}),(0,Pa.jsx)("th",{className:"action_head",children:t("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:v?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:13,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((n,r)=>(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:n?(g-1)*u+r+1:null}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.title_en?Ya(n.title_en,20):"N/A"}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.slug?Ya(n.slug,20):"N/A"}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.menu_location?(0,Pa.jsxs)("span",{className:"badge badge-success text-capitalize",children:[n.menu_location,"footer"===n.menu_location&&" / ".concat(n.footer_location)]}):"N/A"}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.createdAt?Ha(n.createdAt):"N/A"}),(0,Pa.jsx)("td",{children:1===n.status?(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{N(null===n||void 0===n?void 0:n._id,0)},children:t("btn_active")}):(0,Pa.jsx)("button",{className:"btn ripple btn-secondary",onClick:()=>{N(null===n||void 0===n?void 0:n._id,1)},children:t("btn_inactive")})}),(0,Pa.jsx)("td",{children:(0,Pa.jsxs)("div",{className:"d-flex",children:[(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn ",onClick:()=>{(e=>{i("/admin/cms/pages/view/".concat(e._id))})(n)},children:t("btn_view")}),(0,Pa.jsx)("button",{className:"btn ripple btn-success mlAction",onClick:()=>{(t=>{i("/admin/cms/pages/".concat(e.pgno,"/edit/").concat(t._id))})(n)},children:t("btn_edit")}),(0,Pa.jsx)("button",{type:"button",className:"btn ripple btn-secondary mlAction",onClick:()=>{A(null===n||void 0===n?void 0:n._id)},children:t("btn_delete")})]})})]},r)):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:13,className:"text-center",children:t("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[t("msg_total_records")," : ",c||"0"]})}),c&&c>0?(0,Pa.jsx)(Uf,{datalength:c,itemperpage:u,setPage:_,currentPage:g,pageRoute:[{name:"PageTable",path:"/admin/cms/pages/list"}]}):""]}),(0,Pa.jsx)("div",{})]})})]})},aR=rf().test("phone_required","label_phone_number_required_error",e=>{const t=e&&e.length?e.split(" ")[1]:"";return t&&t.length}).test("phone_digit_error","label_phone_number_digits_error",e=>{const t=e&&e.length?e.split(" ")[1]:"";return t&&/^\d+$/.test(t)}).test("phone_min_length","label_phone_number_min_length_error",e=>{const t=e&&e.length?e.split(" ")[1]:"";return t&&t.length>=Rs.PHONE_NO_LENGTH.min}).test("phone_max_length","label_phone_number_max_length_error",e=>{const t=e&&e.length?e.split(" ")[1]:"";return t&&t.length<=Rs.PHONE_NO_LENGTH.max}),sR=rf().trim().matches(/^[A-Za-z\xc0-\xff0-9\s\.,'"-]*$/,"valid_format_error").test("not-only-numbers","valid_format_error",e=>/[A-Za-z]/.test(e)),oR=rf().trim().test("no-html-tags","error_html_tag",e=>!/<[^>]*>/g.test(e)),lR=rf().trim().required("label_email_error").test("custom-email","label_email_invalid_format_error",e=>{if(!e)return!1;if(!/^[a-zA-Z0-9]+([._%+-]?[a-zA-Z0-9]+)*@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z]{2,}$/.test(e))return!1;const[t,n]=e.split("@");return!(!t||!n)&&(!t.includes("..")&&(!t.startsWith(".")&&!t.endsWith(".")&&(!n.includes("..")&&(!n.startsWith("-")&&!n.endsWith("-")))))}),cR=()=>{const e=ot(),{state:t}=at(),{t:n}=As(),[i,r]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)({title_en:"",title_de:"",title_es:"",title_hu:"",name:"",slug:"",short_description_en:"",short_description_de:"",short_description_es:"",short_description_hu:"",meta_tags:"",meta_keyword:"",menu_location:"",footer_location:"",description_en:"",description_de:"",description_es:"",description_hu:""}),d=[{title:n("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:n("sidebar_link_pages"),url:"/admin/cms/pages/list/1"},{title:n("link_add"),url:""}];(0,a.useEffect)(()=>{c({title_en:t&&null!==t&&void 0!==t&&t.title_en?null===t||void 0===t?void 0:t.title_en:"",title_de:t&&null!==t&&void 0!==t&&t.title_de?null===t||void 0===t?void 0:t.title_de:"",title_es:t&&null!==t&&void 0!==t&&t.title_es?null===t||void 0===t?void 0:t.title_es:"",title_hu:t&&null!==t&&void 0!==t&&t.title_hu?null===t||void 0===t?void 0:t.title_hu:"",slug:t&&null!==t&&void 0!==t&&t.slug?null===t||void 0===t?void 0:t.slug:"",status:t&&null!==t&&void 0!==t&&t.status?t.status:"",menu_location:t&&null!==t&&void 0!==t&&t.menu_location?t.menu_location:"",footer_location:t&&null!==t&&void 0!==t&&t.footer_location?t.footer_location:"",short_description_en:t&&null!==t&&void 0!==t&&t.short_description_en?null===t||void 0===t?void 0:t.short_description_en:"",short_description_de:t&&null!==t&&void 0!==t&&t.short_description_de?null===t||void 0===t?void 0:t.short_description_de:"",short_description_es:t&&null!==t&&void 0!==t&&t.short_description_es?null===t||void 0===t?void 0:t.short_description_es:"",short_description_hu:t&&null!==t&&void 0!==t&&t.short_description_hu?null===t||void 0===t?void 0:t.short_description_hu:"",description_en:t&&null!==t&&void 0!==t&&t.description_en?null===t||void 0===t?void 0:t.description_en:"",description_de:t&&null!==t&&void 0!==t&&t.description_de?null===t||void 0===t?void 0:t.description_en:"",description_es:t&&null!==t&&void 0!==t&&t.description_es?null===t||void 0===t?void 0:t.description_en:"",description_hu:t&&null!==t&&void 0!==t&&t.description_hu?null===t||void 0===t?void 0:t.description_en:""}),o(!0)},[]);const u=vf().shape({title:rf().trim().concat(sR)});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:d}),s?(0,Pa.jsx)(kp,{initialValues:l,validateOnBlur:!1,validationSchema:u,validate:e=>{const t={};e.title_en&&e.title_en.trim()||(t.title_en=n("label_title_error")),e.title_en.length>Rs.INPUT_LENGTH_50&&(t.title_en=es(n("validation_err_reached_maximum_length"),[Rs.INPUT_LENGTH_50])),e.title_de&&e.title_de.trim()||(t.title_de=n("label_title_error")),e.title_de.length>Rs.INPUT_LENGTH_50&&(t.title_de=es(n("validation_err_reached_maximum_length"),[Rs.INPUT_LENGTH_50])),e.title_es&&e.title_es.trim()||(t.title_es=n("label_title_error")),e.title_es.length>Rs.INPUT_LENGTH_50&&(t.title_es=es(n("validation_err_reached_maximum_length"),[Rs.INPUT_LENGTH_50])),e.title_hu&&e.title_hu.trim()||(t.title_hu=n("label_title_error")),e.title_hu.length>Rs.INPUT_LENGTH_50&&(t.title_hu=es(n("validation_err_reached_maximum_length"),[Rs.INPUT_LENGTH_50])),e.slug&&e.slug.trim()||(t.slug=n("label_slug_error")),e.slug.length>Rs.INPUT_LENGTH_50&&(t.slug=es(n("validation_err_reached_maximum_length"),[Rs.INPUT_LENGTH_50]));return e.slug&&!/^[a-zA-Z0-9-_]+$/.test(e.slug)&&(t.slug=n("validation_err_invalid_slug")),e.status||(t.status=n("validation_err_status_required")),e.menu_location||(t.menu_location=n("validation_err_menu_location")),"footer"!==e.menu_location||e.footer_location||(t.footer_location="validation_err_footer_location"),e.short_description_en&&e.short_description_en.trim()||(t.short_description_en=n("label_short_description_error")),e.short_description_de&&e.short_description_de.trim()||(t.short_description_de=n("label_short_description_error")),e.short_description_es&&e.short_description_es.trim()||(t.short_description_es=n("label_short_description_error")),e.short_description_hu&&e.short_description_hu.trim()||(t.short_description_hu=n("label_short_description_error")),e.description_en&&e.description_en.trim()||(t.description_en=n("label_long_description_error")),e.description_de&&e.description_de.trim()||(t.description_de=n("label_long_description_error")),e.description_es&&e.description_es.trim()||(t.description_es=n("label_long_description_error")),e.description_hu&&e.description_hu.trim()||(t.description_hu=n("label_long_description_error")),t},onSubmit:(t,n)=>{let{setSubmitting:i,resetForm:a}=n;r(!0),ls(!0),console.log(t);let s=new FormData;s.append("title_en",t.title_en),s.append("title_de",t.title_de),s.append("title_es",t.title_es),s.append("title_hu",t.title_hu),s.append("slug",t.slug),s.append("status",Number(t.status)),s.append("menu_location",t.menu_location),s.append("footer_location",t.footer_location),s.append("short_description_en",t.short_description_en),s.append("short_description_de",t.short_description_de),s.append("short_description_es",t.short_description_es),s.append("short_description_hu",t.short_description_hu),s.append("description_en",t.description_en),s.append("description_de",t.description_de),s.append("description_es",t.description_es),s.append("description_hu",t.description_hu),(async e=>await oc(tR).post("".concat(nR,"/add"),e))(s).then(t=>{i(!1),t.success?(zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),setTimeout(()=>{a({values:""}),ls(!1),e("/admin/cms/pages/list/1")},1e3)):(zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS)),r(!1),ls(!1))}).catch(e=>{console.log("error ====> ",e)})},children:t=>{let{values:r,errors:a,touched:s,handleChange:o,handleBlur:l,handleSubmit:c,setFieldValue:d,setFieldTouched:u,isSubmitting:h}=t;return(0,Pa.jsx)("form",{onSubmit:c,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:n("add_cms")})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_en",className:"text-left d-flex",children:[n("label_page_title_en"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:n("tooltip_page_title")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{name:"title_en",id:"title_en",type:"text",onChange:o,onBlur:l,value:r.title_en,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title_en&&s.title_en&&n(a.title_en)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_de",className:"text-left d-flex",children:[n("label_page_title_de"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:n("tooltip_page_title")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{name:"title_de",id:"title_de",type:"text",onChange:o,onBlur:l,value:r.title_de,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title_de&&s.title_de&&n(a.title_de)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_es",className:"text-left d-flex",children:[n("label_page_title_es"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:n("tooltip_page_title")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{name:"title_es",id:"title_es",type:"text",onChange:o,onBlur:l,value:r.title_es,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title_es&&s.title_es&&n(a.title_es)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_hu",className:"text-left d-flex",children:[n("label_page_title_hu"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:n("tooltip_page_title")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{name:"title_hu",id:"title_hu",type:"text",onChange:o,onBlur:l,value:r.title_hu,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title_hu&&s.title_hu&&n(a.title_hu)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"slug",className:"text-left d-flex",children:[n("label_slug_of_page"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{name:"slug",id:"slug",type:"text",onChange:o,onBlur:l,value:r.slug,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.slug&&s.slug&&a.slug})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"status",className:"text-left d-flex",children:[n("list_heading_status"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:" select-down-arrow",children:(0,Pa.jsx)("select",{name:"status",id:"status",onChange:o,onBlur:l,value:r.status,className:"form-control",children:Rs.showFilterlist.map((e,t)=>(0,Pa.jsx)("option",{value:e.status__id,children:n("".concat(e.name))},t))})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.status&&s.status&&a.status})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"menu_location",className:"text-left d-flex",children:[n("label_menu_of_the_page"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:" select-down-arrow",children:(0,Pa.jsxs)("select",{name:"menu_location",id:"menu_location",onChange:o,onBlur:l,value:r.menu_location,className:"form-control",children:[(0,Pa.jsx)("option",{value:"",children:n("input_select_text")}),Object.keys(Rs.MENU_LOCATION).map((e,t)=>(0,Pa.jsx)("option",{value:Rs.MENU_LOCATION[e],children:n("".concat(e))},t))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.menu_location&&s.menu_location&&a.menu_location})]}),"footer"===r.menu_location&&(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"footer_location",className:"text-left d-flex",children:[n("label_location_of_the_footer"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:" select-down-arrow",children:(0,Pa.jsxs)("select",{name:"footer_location",id:"footer_location",onChange:o,onBlur:l,value:r.footer_location,className:"form-control cp",children:[(0,Pa.jsx)("option",{value:"",children:n("input_select_text")}),Object.keys(Rs.FOOTER_LOCATION).map((e,t)=>(0,Pa.jsx)("option",{value:Rs.FOOTER_LOCATION[e],children:n("".concat(e))},t))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.footer_location&&s.footer_location&&n(a.footer_location)})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group required",children:[(0,Pa.jsxs)("label",{htmlFor:"short_description_en",className:"text-left d-flex",children:[n("label_short_description_en"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"short_description_en",id:"short_description_en",rows:"2",type:"text",onChange:o,onBlur:l,value:r.short_description_en,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.short_description_en&&s.short_description_en&&a.short_description_en})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group required",children:[(0,Pa.jsxs)("label",{htmlFor:"short_description_de",className:"text-left d-flex",children:[n("label_short_description_de"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"short_description_de",id:"short_description_de",rows:"2",type:"text",onChange:o,onBlur:l,value:r.short_description_de,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.short_description_de&&s.short_description_de&&a.short_description_de})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group required",children:[(0,Pa.jsxs)("label",{htmlFor:"short_description_es",className:"text-left d-flex",children:[n("label_short_description_es"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"short_description_es",id:"short_description_es",rows:"2",type:"text",onChange:o,onBlur:l,value:r.short_description_es,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.short_description_es&&s.short_description_es&&a.short_description_es})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group required",children:[(0,Pa.jsxs)("label",{htmlFor:"short_description_hu",className:"text-left d-flex",children:[n("label_short_description_hu"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"short_description_hu",id:"short_description_hu",rows:"2",type:"text",onChange:o,onBlur:l,value:r.short_description_hu,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.short_description_hu&&s.short_description_hu&&a.short_description_hu})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_en",className:"text-left d-flex",children:[n("label_long_description_en"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"description_en",setFieldValue:d,value:r.description_en,setFieldTouched:u}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.description_en&&s.description_en&&a.description_en})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_de",className:"text-left d-flex",children:[n("label_long_description_de"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"description_de",setFieldValue:d,value:r.description_de,setFieldTouched:u}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.description_de&&s.description_de&&a.description_de})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_es",className:"text-left d-flex",children:[n("label_long_description_es"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"description_es",setFieldValue:d,value:r.description_es,setFieldTouched:u}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.description_es&&s.description_es&&a.description_es})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_hu",className:"text-left d-flex",children:[n("label_long_description_hu"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"description_hu",setFieldValue:d,value:r.description_hu,setFieldTouched:u}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.description_hu&&s.description_hu&&a.description_hu})]}),(0,Pa.jsxs)("div",{className:"",children:[(0,Pa.jsxs)("button",{className:"btn btn-main-primary signbtn mr-2",type:"submit",disabled:!!i||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),n("btn_submit")]}),(0,Pa.jsxs)("butthu",{className:"btn ripplehutn-secondary",type:"button",disabled:!!i||null,onClick:()=>e(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),n("btn_cancel")]})]})]})]})})})})})}}):(0,Pa.jsx)(Pa.Fragment,{})]})},dR=()=>{const e=ot(),t=ct(),[n,i]=(0,a.useState)({}),[r,s]=(0,a.useState)(!1),[o,l]=(0,a.useState)(""),{t:c}=As(),d=[{title:c("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:c("sidebar_link_pages"),url:"/admin/cms/pages/list/1"},{title:c("btn_edit"),url:""}];(0,a.useEffect)(()=>{iR(t.id).then(e=>{i(e&&null!==e&&void 0!==e&&e.data?e.data:[]),setTimeout(()=>{s(!0)},100)}).catch(e=>{console.log("error=====>",e)})},[]);vf().shape({title:rf().trim().concat(sR)});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:d}),r?(0,Pa.jsx)(kp,{enableReinitialize:!0,initialValues:{title_en:n&&n.title_en?n.title_en:"",title_de:n&&n.title_de?n.title_de:"",title_es:n&&n.title_es?n.title_es:"",title_hu:n&&n.title_hu?n.title_hu:"",slug:n&&n.slug?n.slug:"",status:n&&String(n.status)?n.status:"",menu_location:n&&n.menu_location?n.menu_location:"",footer_location:n&&n.footer_location?n.footer_location:"",short_description_en:n&&n.short_description_en?n.short_description_en:"",short_description_de:n&&n.short_description_de?n.short_description_de:"",short_description_es:n&&n.short_description_es?n.short_description_es:"",short_description_hu:n&&n.short_description_hu?n.short_description_hu:"",description_en:n&&n.description_en?n.description_en:"",description_de:n&&n.description_de?n.description_de:"",description_es:n&&n.description_es?n.description_es:"",description_hu:n&&n.description_hu?n.description_hu:""},validate:e=>{const t={};e.title_en&&e.title_en.trim()||(t.title_en=c("label_title_error")),e.title_en.length>Rs.INPUT_LENGTH_50&&(t.title_en=es(c("validation_err_reached_maximum_length"),[Rs.INPUT_LENGTH_50])),e.title_de&&e.title_de.trim()||(t.title_de=c("label_title_error")),e.title_de.length>Rs.INPUT_LENGTH_50&&(t.title_de=es(c("validation_err_reached_maximum_length"),[Rs.INPUT_LENGTH_50])),e.title_es&&e.title_es.trim()||(t.title_es=c("label_title_error")),e.title_es.length>Rs.INPUT_LENGTH_50&&(t.title_es=es(c("validation_err_reached_maximum_length"),[Rs.INPUT_LENGTH_50])),e.title_hu&&e.title_hu.trim()||(t.title_hu=c("label_title_error")),e.title_hu.length>Rs.INPUT_LENGTH_50&&(t.title_hu=es(c("validation_err_reached_maximum_length"),[Rs.INPUT_LENGTH_50])),e.slug&&e.slug.trim()||(t.slug=c("label_slug_error")),e.slug.length>Rs.INPUT_LENGTH_50&&(t.slug=es(c("validation_err_reached_maximum_length"),[Rs.INPUT_LENGTH_50]));return e.slug&&!/^[a-zA-Z0-9-_]+$/.test(e.slug)&&(t.slug=c("validation_err_invalid_slug")),String(e.status)||(t.status=c("validation_err_status_required")),e.menu_location||(t.menu_location=c("validation_err_menu_location")),"footer"!==e.menu_location||e.footer_location||(t.footer_location="validation_err_footer_location"),e.short_description_en&&e.short_description_en.trim()||(t.short_description_en=c("label_short_description_error")),e.short_description_de&&e.short_description_de.trim()||(t.short_description_de=c("label_short_description_error")),e.short_description_es&&e.short_description_es.trim()||(t.short_description_es=c("label_short_description_error")),e.short_description_hu&&e.short_description_hu.trim()||(t.short_description_hu=c("label_short_description_error")),e.description_en&&e.description_en.trim()||(t.description_en=c("label_long_description_error")),e.description_de&&e.description_de.trim()||(t.description_de=c("label_long_description_error")),e.description_es&&e.description_es.trim()||(t.description_es=c("label_long_description_error")),e.description_hu&&e.description_hu.trim()||(t.description_hu=c("label_long_description_error")),t},onSubmit:(n,i)=>{let{setSubmitting:r,resetForm:a}=i;ls(!0);let s=new FormData;s.append("o_id",t.id),s.append("title_en",n.title_en),s.append("title_de",n.title_de),s.append("title_es",n.title_es),s.append("title_hu",n.title_hu),s.append("slug",n.slug),s.append("status",Number(n.status)),s.append("menu_location",n.menu_location),s.append("footer_location",n.footer_location),s.append("short_description_en",n.short_description_en),s.append("short_description_de",n.short_description_de),s.append("short_description_es",n.short_description_es),s.append("short_description_hu",n.short_description_hu),s.append("description_en",n.description_en),s.append("description_de",n.description_de),s.append("description_es",n.description_es),s.append("description_hu",n.description_hu),(async e=>await oc(tR).post("".concat(nR,"/edit"),e))(s).then(t=>{r(!1),t.success?(zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),"Save"!==o&&setTimeout(()=>{a({values:""}),ls(!1),e("/admin/cms/pages/list/1")},1e3),"Save"===o&&setTimeout(()=>{ls(!1)},1e3)):(zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS)),ls(!1))}).catch(e=>{console.log("error ====> ",e)})},children:t=>{let{values:i,errors:a,touched:s,handleChange:o,handleBlur:d,handleSubmit:u,setFieldValue:h,setFieldTouched:p,isSubmitting:m}=t;return(0,Pa.jsx)("form",{onSubmit:u,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:c("edit_cms")})}),n&&Object.keys(n).length>0?(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_en",className:"text-left d-flex",children:[c("label_page_title_en"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:c("tooltip_page_title")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{name:"title_en",id:"title_en",type:"text",onChange:o,onBlur:d,value:i.title_en,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title_en&&s.title_en&&c(a.title_en)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_de",className:"text-left d-flex",children:[c("label_page_title_de"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:c("tooltip_page_title")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{name:"title_de",id:"title_de",type:"text",onChange:o,onBlur:d,value:i.title_de,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title_de&&s.title_de&&c(a.title_de)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_es",className:"text-left d-flex",children:[c("label_page_title_es"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:c("tooltip_page_title")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{name:"title_es",id:"title_es",type:"text",onChange:o,onBlur:d,value:i.title_es,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title_es&&s.title_es&&c(a.title_es)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_hu",className:"text-left d-flex",children:[c("label_page_title_hu"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:c("tooltip_page_title")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{name:"title_hu",id:"title_hu",type:"text",onChange:o,onBlur:d,value:i.title_hu,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title_hu&&s.title_hu&&c(a.title_hu)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"slug",className:"text-left d-flex",children:[c("label_slug_of_page"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{name:"slug",id:"slug",type:"text",onChange:o,onBlur:d,value:i.slug,disabled:"disabled",className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.slug&&s.slug&&a.slug})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"status",className:"text-left d-flex",children:[c("list_heading_status"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:" select-down-arrow",children:(0,Pa.jsx)("select",{name:"status",id:"status",onChange:o,onBlur:d,value:i.status,className:"form-control",children:Rs.showFilterlist.map((e,t)=>(0,Pa.jsx)("option",{value:e.status__id,children:c("".concat(e.name))},t))})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.status&&s.status&&a.status})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"menu_location",className:"text-left d-flex",children:[c("label_menu_of_the_page"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:" select-down-arrow",children:(0,Pa.jsxs)("select",{name:"menu_location",id:"menu_location",onChange:o,onBlur:d,value:i.menu_location,className:"form-control",children:[(0,Pa.jsx)("option",{value:"",children:c("input_select_text")}),Object.keys(Rs.MENU_LOCATION).map((e,t)=>(0,Pa.jsx)("option",{value:Rs.MENU_LOCATION[e],children:c("".concat(e))},t))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.menu_location&&s.menu_location&&a.menu_location})]}),"footer"===i.menu_location&&(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"footer_location",className:"text-left d-flex",children:[c("label_location_of_the_footer"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:" select-down-arrow",children:(0,Pa.jsxs)("select",{name:"footer_location",id:"footer_location",onChange:o,onBlur:d,value:i.footer_location,className:"form-control cp",children:[(0,Pa.jsx)("option",{value:"",children:c("input_select_text")}),Object.keys(Rs.FOOTER_LOCATION).map((e,t)=>(0,Pa.jsx)("option",{value:Rs.FOOTER_LOCATION[e],children:c("".concat(e))},t))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.footer_location&&s.footer_location&&c(a.footer_location)})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group required",children:[(0,Pa.jsxs)("label",{htmlFor:"short_description_en",className:"text-left d-flex",children:[c("label_short_description_en"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"short_description_en",id:"short_description_en",rows:"2",type:"text",onChange:o,onBlur:d,value:i.short_description_en,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.short_description_en&&s.short_description_en&&a.short_description_en})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group required",children:[(0,Pa.jsxs)("label",{htmlFor:"short_description_de",className:"text-left d-flex",children:[c("label_short_description_de"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"short_description_de",id:"short_description_de",rows:"2",type:"text",onChange:o,onBlur:d,value:i.short_description_de,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.short_description_de&&s.short_description_de&&a.short_description_de})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group required",children:[(0,Pa.jsxs)("label",{htmlFor:"short_description_es",className:"text-left d-flex",children:[c("label_short_description_es"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"short_description_es",id:"short_description_es",rows:"2",type:"text",onChange:o,onBlur:d,value:i.short_description_es,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.short_description_es&&s.short_description_es&&a.short_description_es})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group required",children:[(0,Pa.jsxs)("label",{htmlFor:"short_description_hu",className:"text-left d-flex",children:[c("label_short_description_hu"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"short_description_hu",id:"short_description_hu",rows:"2",type:"text",onChange:o,onBlur:d,value:i.short_description_hu,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.short_description_hu&&s.short_description_hu&&a.short_description_hu})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_en",className:"text-left d-flex",children:[c("label_long_description_en"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),r?(0,Pa.jsx)(zk,{fieldname:"description_en",setFieldValue:h,value:i.description_en,setFieldTouched:p}):"",(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.description_en&&s.description_en&&a.description_en})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_de",className:"text-left d-flex",children:[c("label_long_description_de"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),r?(0,Pa.jsx)(zk,{fieldname:"description_de",setFieldValue:h,value:i.description_de,setFieldTouched:p}):"",(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.description_de&&s.description_de&&a.description_de})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_es",className:"text-left d-flex",children:[c("label_long_description_es"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),r?(0,Pa.jsx)(zk,{fieldname:"description_es",setFieldValue:h,value:i.description_es,setFieldTouched:p}):"",(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.description_es&&s.description_es&&a.description_es})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_hu",className:"text-left d-flex",children:[c("label_long_description_hu"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),r?(0,Pa.jsx)(zk,{fieldname:"description_hu",setFieldValue:h,value:i.description_hu,setFieldTouched:p}):"",(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.description_hu&&s.description_hu&&a.description_hu})]}),(0,Pa.jsxs)("div",{className:"",children:[(0,Pa.jsxs)("button",{onClick:()=>{l("Save")},className:"btn btn-info mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),c("btn_save")]}),(0,Pa.jsxs)("button",{onClick:()=>{l("")},className:"btn btn-success mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),c("btn_save_exit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",onClick:()=>e(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),c("btn_cancel")]})]})]}):(0,Pa.jsx)(mA,{})]})})})})})}}):(0,Pa.jsx)(mA,{})]})},uR=()=>{var e;const{t:t}=As(),n=ot(),i=ct(),[r,s]=(0,a.useState)({}),o=[{title:t("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:t("sidebar_link_pages"),url:"/admin/cms/pages/list/1"},{title:t("btn_view"),url:""}];return(0,a.useEffect)(()=>{iR(i.id).then(e=>{s(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:o}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:t("view_cms")})}),r&&(null===(e=Object.keys(r))||void 0===e?void 0:e.length)>0?(0,Pa.jsx)("div",{className:"row",children:(0,Pa.jsxs)("div",{className:"col-lg-12 form-group",children:[(0,Pa.jsx)("table",{id:"simple-table",className:"table  table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsxs)("th",{children:[t("label_page_title_en")," "]}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&null!==r&&void 0!==r&&r.title_en?r.title_en:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsxs)("th",{children:[t("label_page_title_de")," "]}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&null!==r&&void 0!==r&&r.title_de?r.title_de:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsxs)("th",{children:[t("label_page_title_es")," "]}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&null!==r&&void 0!==r&&r.title_es?r.title_es:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsxs)("th",{children:[t("label_page_title_hu")," "]}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&null!==r&&void 0!==r&&r.title_hu?r.title_hu:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_slug_of_page")}),(0,Pa.jsx)("td",{children:r&&r.slug?r.slug:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("menu_location")}),(0,Pa.jsx)("td",{children:r&&r.menu_location?r.menu_location:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("footer_location")}),(0,Pa.jsx)("td",{children:r&&r.footer_location?r.footer_location:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_short_description_en")}),(0,Pa.jsx)("td",{children:r&&null!==r&&void 0!==r&&r.short_description_en?ds(r.short_description_en):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_short_description_de")}),(0,Pa.jsx)("td",{children:r&&null!==r&&void 0!==r&&r.short_description_de?ds(r.short_description_de):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_short_description_es")}),(0,Pa.jsx)("td",{children:r&&null!==r&&void 0!==r&&r.short_description_es?ds(r.short_description_es):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_short_description_hu")}),(0,Pa.jsx)("td",{children:r&&null!==r&&void 0!==r&&r.short_description_hu?ds(r.short_description_hu):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("list_heading_status")}),(0,Pa.jsx)("td",{children:(r&&(null===r||void 0===r||r.status),Qk(ss(r.status)))})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("list_heading_created_date")}),(0,Pa.jsx)("td",{children:r&&r.createdAt?Wa(r.createdAt):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_modified_date")}),(0,Pa.jsx)("td",{children:r&&null!==r&&void 0!==r&&r.updatedAt?Wa(r.updatedAt):"N/A"})]})]})}),(0,Pa.jsxs)("h1",{className:"main-content-label mb-3 mt-3 fa-2x font-weight-bolder",children:[t("label_long_description_en"),":"]}),(0,Pa.jsx)("div",{dangerouslySetInnerHTML:{__html:r&&null!==r&&void 0!==r&&r.description_en?r.description_en:"N/A"}}),(0,Pa.jsxs)("h1",{className:"main-content-label mb-3 mt-3 fa-2x font-weight-bolder",children:[t("label_long_description_de"),":"]}),(0,Pa.jsx)("div",{dangerouslySetInnerHTML:{__html:r&&null!==r&&void 0!==r&&r.description_de?r.description_de:"N/A"}}),(0,Pa.jsxs)("h1",{className:"main-content-label mb-3 mt-3 fa-2x font-weight-bolder",children:[t("label_long_description_es"),":"]}),(0,Pa.jsx)("div",{dangerouslySetInnerHTML:{__html:r&&null!==r&&void 0!==r&&r.description_es?r.description_es:"N/A"}}),(0,Pa.jsxs)("h1",{className:"main-content-label mb-3 mt-3 fa-2x font-weight-bolder",children:[t("label_long_description_hu"),":"]}),(0,Pa.jsx)("div",{dangerouslySetInnerHTML:{__html:r&&null!==r&&void 0!==r&&r.description_hu?r.description_hu:"N/A"}}),(0,Pa.jsx)("div",{className:"mt-5",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>n(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),t("btn_back")]})})]})}):(0,Pa.jsx)(Bf,{})]})})})})]})},hR=e=>{var t;const{t:n}=As(),[i,r]=(0,a.useState)({}),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)(""),m=[{title:n("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:n("sidebar_link_global_settings"),url:""}];return(0,a.useEffect)(()=>{dc().then(e=>{var t;r(e&&e.data?null===e||void 0===e?void 0:e.data:[]),p(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.website_logo),setTimeout(()=>{c(!0)},100)}).catch(e=>{console.log("error=====>",e),c(!0)})},[]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:m}),l?(0,Pa.jsx)(kp,{validateOnChange:!0,enableReinitialize:!0,initialValues:{Address:i&&i.address?i.address:"",AdminEmail:i&&i.admin_email?i.admin_email:"",contactEmail:i&&i.contact_email?i.contact_email:"",financeEmail:i&&i.finance_email?i.finance_email:"",Contact:i&&i.phone_number?i.phone_number:"",CopyRighttxt:i&&i.copy_right_text?i.copy_right_text:"",web:i&&i.website?i.website:"",title:i&&i.title?i.title:"",website_info:i&&i.website_info?i.website_info:"",website_logo:i&&i.website_logo?i.website_logo:"",socialMedia:i&&i.social_media_details&&null!==i&&void 0!==i&&null!==(t=i.social_media_details)&&void 0!==t&&t.length?i.social_media_details:[{title:"",link:"",icon:""}]},validate:e=>{var t;let i={socialMedia:[]};if((null===e||void 0===e||null===(t=e.socialMedia)||void 0===t?void 0:t.length)>0&&(null===e||void 0===e||e.socialMedia.forEach((e,t)=>{i.socialMedia[t]={},e.title||(i.socialMedia[t].title=n("validation_err_title_required")),e.title.length>20&&(i.socialMedia[t].title=n("validation_err_reached_maximum_length")),e.icon||(i.socialMedia[t].icon=n("validation_err_icon_required")),e.icon.length>50&&(i.socialMedia[t].icon=n("validation_err_reached_maximum_length")),e.link||(i.socialMedia[t].link=n("validation_err_link_required")),e.link.length>50?i.socialMedia[t].link=n("validation_err_reached_maximum_length"):Rs.URL_REGEX.test(e.link)||(i.socialMedia[t].link=n("invalid_web_url"))})),i.socialMedia.length){let e=0;i.socialMedia.forEach((t,n)=>{Object.keys(t).length&&e++}),e||delete i.socialMedia}else delete i.socialMedia;if(e.AdminEmail.trim()?/^[A-Z0-9._%+'-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.AdminEmail)||(i.AdminEmail=n("invalid_email")):i.AdminEmail=n("label_email_error"),e.contactEmail.trim()?/^[A-Z0-9._%+'-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.contactEmail)||(i.contactEmail=n("invalid_email")):i.contactEmail=n("label_email_error"),e.financeEmail.trim()?/^[A-Z0-9._%+'-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.financeEmail)||(i.financeEmail=n("invalid_email")):i.financeEmail=n("label_email_error"),String(e.Contact).trim()?Rs.MOBILE_NUMBER_REGEX.test(e.Contact)||(i.Contact=n("label_contact_invalid_error")):i.Contact=n("label_phone_number_required_error"),e.CopyRighttxt&&e.CopyRighttxt.trim()||(i.CopyRighttxt=n("copyright_error")),e.Address&&e.Address.trim()||(i.Address=n("label_location_error")),e.Address.length>100&&(i.Address=n("validation_err_reached_maximum_length")),e.web.trim()?Rs.URL_REGEX.test(e.web)||(i.web=n("invalid_web_url")):i.web=n("website_error"),e.title.trim()?e.title.trim().length>50&&(i.title=n("label_title_length_error_50")):i.title=n("label_title_error"),e.website_info.trim()?e.website_info.trim().length>150&&(i.website_info=n("Exceed maximum length of 150")):i.website_info=n("Website information is required"),e.website_logo){const t=e.website_logo;if("string"===typeof t){/^(http|https):\/\/[^\s$.?#].[^\s]*$/gm.test(t)||(i.website_logo=n("invalid_image_url"))}else{["image/jpg","image/jpeg","image/png","image/webp","image/gif"].includes(t.type)||(i.website_logo=n("supported_file_error")),t.size>1572864&&(i.website_logo=n("image_max_size_error"))}}else i.website_logo=n("image_required_error");return i},onSubmit:(e,t)=>{let{setSubmitting:n,resetForm:i}=t;o(!0);let r=new FormData;r.append("address",e.Address),r.append("website",e.web),r.append("admin_email",e.AdminEmail),r.append("contact_email",e.contactEmail),r.append("finance_email",e.financeEmail),r.append("social_media_details",JSON.stringify(e.socialMedia)),r.append("phone_number",e.Contact),r.append("copy_right_text",e.CopyRighttxt),r.append("title",e.title),r.append("website_info",e.website_info),r.append("website_logo",e.website_logo),(async e=>await oc(lc).post("".concat(cc,"/add"),e))(r).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),setTimeout(()=>{o(!1)},2e3)):(zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),o(!1))}).catch(e=>{console.log("error ====> ",e)})},children:e=>{let{values:t,errors:i,touched:r,handleChange:a,handleBlur:o,handleSubmit:l,setFieldValue:c,isSubmitting:m,setFieldTouched:f}=e;return(0,Pa.jsxs)("form",{onSubmit:l,children:[console.log("values",t),console.log("error",i),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:n("sidebar_link_global_settings")})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"AdminEmail",className:"text-left d-flex",children:[n("role_super_admin")," ",n("label_email"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{name:"AdminEmail",type:"text",id:"AdminEmail",onChange:a,onBlur:o,value:t.AdminEmail,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:i.AdminEmail&&r.AdminEmail&&i.AdminEmail})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"contactEmail",className:"text-left d-flex",children:[n("Contact Email"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{name:"contactEmail",type:"text",id:"contactEmail",onChange:a,onBlur:o,value:t.contactEmail,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:i.contactEmail&&r.contactEmail&&i.contactEmail})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"financeEmail",className:"text-left d-flex",children:[n("Finance Email"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{name:"financeEmail",type:"text",id:"financeEmail",onChange:a,onBlur:o,value:t.financeEmail,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:i.financeEmail&&r.financeEmail&&i.financeEmail})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"Contact",className:"text-left d-flex",children:[n("label_contact_no"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{name:"Contact",type:"text",id:"Contact",onChange:a,onBlur:o,value:t.Contact,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:i.Contact&&r.Contact&&i.Contact})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"Address",className:"text-left d-flex",children:[n("list_heading_address"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"Address",id:"Address",type:"text",style:{minHeight:"100px"},onChange:a,onBlur:o,value:t.Address,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:i.Address&&r.Address&&i.Address})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"web",className:"text-left d-flex",children:[n("label_website"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"web",id:"web",type:"text",onChange:a,onBlur:o,value:t.web,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:i.web&&r.web&&i.web})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"CopyRighttxt",className:"text-left d-flex",children:[n("label_copy_right_text"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"CopyRighttxt",type:"text",id:"CopyRighttxt",onChange:a,onBlur:o,value:t.CopyRighttxt,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:i.CopyRighttxt&&r.CopyRighttxt&&i.CopyRighttxt})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title",className:"text-left d-flex",children:[n("Website title"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"title",type:"text",id:"title",onChange:a,onBlur:o,value:t.title,className:"form-control",placeholder:"Website title"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:i.title&&r.title&&i.title})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"website_info",className:"text-left d-flex",children:[n("Website Info"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"website_info",type:"text",id:"website_info",onChange:a,onBlur:o,value:t.website_info,className:"form-control",placeholder:"Website info"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:i.website_info&&r.website_info&&i.website_info})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"website_logo",className:"text-left d-flex",children:[n("Website Logo"),":"," ",(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:n("image_support_tooltip")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{className:"form-control imgInput",id:"website_logo",name:"website_logo",accept:"image/*",type:"file",onChange:e=>{c("website_logo",e.target.files[0]||""),1===e.target.files.length?p(URL.createObjectURL(e.target.files[0])):p("")}}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:i.website_logo&&r.website_logo&&i.website_logo}),h?(0,Pa.jsx)("ul",{className:"question-image-preview questions-ul",children:(0,Pa.jsx)("li",{className:"pr_img_box",children:(0,Pa.jsx)("img",{src:h,style:{height:"100px"},alt:"profileImg"})})}):""]}),(0,Pa.jsxs)("label",{className:"text-left d-flex",children:[n("label_social_media"),":"]}),(0,Pa.jsx)(Vp,{name:"socialMedia",render:e=>{var s;return(0,Pa.jsx)("div",{className:"col-12 mb-4",children:(0,Pa.jsx)("div",{className:"row",children:null!==t&&void 0!==t&&t.socialMedia&&(null===t||void 0===t||null===(s=t.socialMedia)||void 0===s?void 0:s.length)>=0?null===t||void 0===t?void 0:t.socialMedia.map((s,l)=>{var c,u;return(0,Pa.jsx)("div",{className:"col-12 ",children:(0,Pa.jsx)("div",{className:"w-100 p-2 bg-group",children:(0,Pa.jsxs)("div",{className:"row",children:[(0,Pa.jsxs)("div",{className:"col-md-3 text-center form-group mb-0",children:[(0,Pa.jsx)(Pp,{className:"form-control",id:"title",name:"socialMedia[".concat(l,"].title"),onChange:a,onBlur:o,value:s.title,placeholder:n("input_placeholder_title")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:((null===r||void 0===r?void 0:r.socialMedia)&&(null===r||void 0===r?void 0:r.socialMedia[l])&&(null===r||void 0===r?void 0:r.socialMedia[l].title)||d)&&i.socialMedia&&i.socialMedia[l]&&i.socialMedia[l].title})]}),(0,Pa.jsxs)("div",{className:"col-md-4 text-center form-group mb-0",children:[(0,Pa.jsx)(Pp,{className:"form-control",id:"link",name:"socialMedia[".concat(l,"].link"),onChange:a,onBlur:o,value:s.link,placeholder:n("input_placeholder_link")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(r.socialMedia&&r.socialMedia[l]&&r.socialMedia[l].link||d)&&i.socialMedia&&i.socialMedia[l]&&i.socialMedia[l].link})]}),(0,Pa.jsxs)("div",{className:"col-md-3 text-center form-group mb-0",children:[(0,Pa.jsx)(Pp,{className:"form-control",id:"icon",name:"socialMedia[".concat(l,"].icon"),onChange:a,onBlur:o,value:s.icon,placeholder:n("input_placeholder_icon")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(r.socialMedia&&r.socialMedia[l]&&r.socialMedia[l].icon||d)&&i.socialMedia&&i.socialMedia[l]&&i.socialMedia[l].icon})]}),(0,Pa.jsx)("div",{className:"col-md-2",children:(0,Pa.jsxs)("div",{className:"social-media-action",children:[(0,Pa.jsx)("button",{className:"btn btn-danger ",type:"button",disabled:1===(null===t||void 0===t||null===(c=t.socialMedia)||void 0===c?void 0:c.length),onClick:()=>e.remove(l),children:n("link_remove")}),l===(null===t||void 0===t||null===(u=t.socialMedia)||void 0===u?void 0:u.length)-1&&(0,Pa.jsx)("button",{className:"btn btn-main-primary signbtn ms-2 ",type:"button",onClick:()=>{var n;return e.insert(null===t||void 0===t||null===(n=t.socialMedia)||void 0===n?void 0:n.length,{title:"",link:"",icon:""})},children:n("link_add")})]})})]})})},l)}):(0,Pa.jsx)("button",{className:"btn btn-main-primary signbtn mr-2 ms-2 mb-3",type:"button",onClick:()=>e.push({}),children:"Add a social media"})})})}}),(0,Pa.jsx)("div",{className:"",children:(0,Pa.jsxs)("button",{className:"btn btn-main-primary signbtn mr-2",type:"submit",disabled:!!s||null,onClick:()=>{u(!0)},children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),n("btn_submit")]})})]})]})})})})]})}}):(0,Pa.jsx)(Bf,{})]})},pR=()=>{const e=ot(),t=ct(),[n,i]=(0,a.useState)(!0),[r,s]=(0,a.useState)(!0),[o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!0),[d,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)([]),m=e=>{"newpwd"===e&&i(!n),"confirmpwd"===e&&s(!r)};(0,a.useEffect)(()=>{(async e=>await oc().post("".concat(Wp,"/invitation-info"),e))({validate_string:t.validate_string}).then(e=>{!1===(null===e||void 0===e?void 0:e.success)?c(!1):null!==e&&void 0!==e&&e.success&&(p(null===e||void 0===e?void 0:e.data),u(!0)),u(!0)}).catch(e=>{console.log("error=====>",e)})},[]);const f=vf().shape({password:rf().required("New password is required").matches(Rs.ATLEAST_ONE_SMALL_REGEX,"Password should have at least 1 lowercase letter").matches(Rs.ATLEAST_ONE_CAPITAL_REGEX,"Password should have at least 1 capital letter").matches(Rs.ATLEAST_ONE_NUMBER_REGEX,"Password should have at least 1 number").matches(Rs.ATLEAST_ONE_SPECIAL_CHARACTER_REGEX,"Password should have at least 1 special character").min(Rs.PASSWORD_MIN_LENGTH,"Password should be at least 8 characters long").max(Rs.PASSWORD_MAX_LENGTH,"Password cannot be more than 20 characters long"),confirm_password:rf().required("Confirm password is required").oneOf([Om("password"),null],"Passwords don't match")});return(0,Pa.jsx)(Pa.Fragment,{children:d?(0,Pa.jsx)(kp,{initialValues:{email:h&&null!==h&&void 0!==h&&h.email?h.email:"",password:"",confirm_password:""},validationSchema:f,onSubmit:(n,i)=>{let{setSubmitting:r}=i;(async e=>await oc().post("".concat(Wp,"/complete-invitation"),e))({validate_string:t.validate_string,password:n.password,c_password:n.confirm_password}).then(t=>{t.success?(zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),e("/admin/login")):zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error",e)})},children:e=>{let{values:t,errors:i,touched:a,handleChange:s,handleBlur:c,handleSubmit:d,isSubmitting:u}=e;return(0,Pa.jsx)("div",{className:"page main-signin-wrapper",children:(0,Pa.jsx)("div",{className:"innerbody",children:(0,Pa.jsx)("div",{className:"row signpages text-center",children:(0,Pa.jsx)("div",{className:"d-flex justify-content-center",children:l?(0,Pa.jsx)("div",{className:"col-lg-6 col-xl-7 col-xs-12 col-sm-12 login_form ",children:(0,Pa.jsx)("div",{className:"container-fluid",children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsxs)("div",{className:"card-body mt-2 mb-2",children:[(0,Pa.jsx)("div",{className:"clearfix"}),(0,Pa.jsxs)("form",{onSubmit:d,children:[(0,Pa.jsx)("h5",{className:"text-left mb-4",children:"Activate Your Account"}),(0,Pa.jsxs)("div",{className:"form-group text-left",children:[(0,Pa.jsx)("label",{children:"Email"}),(0,Pa.jsx)("input",{className:"form-control"+(i.email&&a.email?" is-invalid state-invalid":""),placeholder:"Enter your email",disabled:!0,type:"email",name:"email",onChange:s,onBlur:c,value:t.email,autoComplete:"off"}),(0,Pa.jsx)("span",{className:"text-danger text-left d-blockerr-spn",children:i.email&&a.email&&i.email})]}),(0,Pa.jsxs)("div",{className:"form-group text-left",children:[(0,Pa.jsx)("label",{children:"Password"}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{className:"form-control"+(i.password&&a.password?" is-invalid state-invalid":""),placeholder:"Enter your password",type:!0===!n?"text":"password",name:"password",onChange:s,onBlur:c,value:t.password,autoComplete:"off"}),(0,Pa.jsx)("span",{className:"input-group-text cp",onClick:()=>m("newpwd"),children:!0===!n?(0,Pa.jsx)("i",{className:"far fa-eye-slash"}):(0,Pa.jsx)("i",{className:"far fa-eye"})})]}),(0,Pa.jsx)("span",{className:"text-danger text-left d-block err-spn",children:i.password&&a.password&&i.password})]}),(0,Pa.jsxs)("div",{className:"form-group text-left",children:[(0,Pa.jsx)("label",{children:"Confirm Password"}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{className:"form-control"+(i.confirm_password&&a.confirm_password?" is-invalid state-invalid":""),placeholder:"Enter your confirm password",type:!0===!r?"text":"password",name:"confirm_password",onChange:s,onBlur:c,value:t.confirm_password,autoComplete:"off"}),(0,Pa.jsx)("span",{className:"input-group-text cp",onClick:()=>m("confirmpwd"),children:!0===!r?(0,Pa.jsx)("i",{className:"far fa-eye-slash"}):(0,Pa.jsx)("i",{className:"far fa-eye"})})]}),(0,Pa.jsx)("span",{className:"text-danger text-left d-block err-spn",children:i.confirm_password&&a.confirm_password&&i.confirm_password})]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-main-primary btn-block signbtn"+(!0===o?" disabled":""),type:"submit",children:[!0===o?(0,Pa.jsx)("div",{className:"spinner-border mt-2 text-white",role:"status",style:{height:"15px",width:"15px",marginRight:"15px"},children:(0,Pa.jsx)("span",{className:"sr-only ",children:"Loading..."})}):"","Submit"]})]})]})})})}):(0,Pa.jsx)("h1",{children:"This link is expired .."})})})})})}}):(0,Pa.jsx)(Pa.Fragment,{})})};const mR=function(){return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:[{title:"Dashboard",url:"/admin/dashboard"},{title:"Invoice",url:""}]}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:(0,Pa.jsx)("h6",{className:"main-content-label",children:"Invoice"})}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{width:"100%",children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{style:{width:"80%"},children:(0,Pa.jsxs)("table",{width:"100%",children:[(0,Pa.jsxs)("tr",{children:[" ",(0,Pa.jsx)("td",{children:(0,Pa.jsx)("img",{src:"https://evntmngapi.devtechnosys.tech/uploads/portal-design/default_logo_transparent.png",alt:"Invoice"})})]}),(0,Pa.jsx)("tr",{children:(0,Pa.jsxs)("td",{children:[(0,Pa.jsx)("br",{}),(0,Pa.jsx)("br",{}),(0,Pa.jsx)("br",{})]})}),(0,Pa.jsx)("tr",{children:(0,Pa.jsxs)("td",{children:[(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000"},children:"Company Name"}),(0,Pa.jsx)("p",{style:{margin:"0px",color:"#BBB6B3"},children:"(for Fabian Geiselhart)"}),(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000"},children:"Example Street 1"}),(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000"},children:"12345 City"}),(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000"},children:"Country"})]})})]})}),(0,Pa.jsx)("td",{valign:"top",children:(0,Pa.jsxs)("table",{width:"100%",children:[(0,Pa.jsx)("tr",{children:(0,Pa.jsxs)("td",{colSpan:4,children:[(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000"},children:"GALL GmbH"}),(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000"},children:"Tuebinger Str. 81"}),(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000"},children:"71032 Boeblingen"}),(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000"},children:"Germany"})]})}),(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:2,children:(0,Pa.jsx)("br",{})})}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{width:"120px",style:{margin:"0px",color:"#BBB6B3",fontSize:"18px",fontWeight:400},children:"Tel:"}),(0,Pa.jsxs)("td",{style:{margin:"0px",color:"#BBB6B3",fontSize:"18px",fontWeight:400},children:[" ","+49 7031 4610-0"]})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{width:"120px",style:{margin:"0px",color:"#BBB6B3",fontSize:"18px",fontWeight:400},children:"Email:"}),(0,Pa.jsxs)("td",{style:{margin:"0px",color:"#BBB6B3",fontSize:"18px",fontWeight:400},children:[" ","info@gall-group.com"]})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{width:"120px",style:{margin:"0px",color:"#BBB6B3",fontSize:"18px",fontWeight:400},children:"Web:"}),(0,Pa.jsxs)("td",{style:{margin:"0px",color:"#BBB6B3",fontSize:"18px",fontWeight:400},children:[" ","www.gall-group.com"]})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{width:"120px",style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:400},children:"Date:"}),(0,Pa.jsxs)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:400},children:[" ","25. October 2023"]})]}),(0,Pa.jsx)("tr",{children:(0,Pa.jsxs)("td",{colSpan:2,children:[(0,Pa.jsx)("br",{}),(0,Pa.jsx)("br",{})]})}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{width:"120px",style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:400},children:"Invoice Nr:"}),(0,Pa.jsxs)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:400},children:[" ","20012"]})]})]})})]}),(0,Pa.jsx)("tr",{children:(0,Pa.jsxs)("td",{colSpan:2,children:[(0,Pa.jsx)("br",{}),(0,Pa.jsx)("br",{}),(0,Pa.jsx)("br",{})]})}),(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:2,children:(0,Pa.jsxs)("table",{width:"100%",children:[(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:2,children:(0,Pa.jsx)("h3",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"600",paddingBottom:"10px"},children:"INVOICE"})})}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{width:"200px",style:{margin:"0px",color:"#000",fontSize:"20px",fontWeight:"400"},children:"Date of Service:"}),(0,Pa.jsxs)("td",{style:{margin:"0px",color:"#000",fontSize:"20px",fontWeight:"400"},children:[" ","DD.MM.YYYY \u2013 DD.MM.YYYY"]})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{width:"200px",style:{margin:"0px",color:"#000",fontSize:"20px",fontWeight:"400"},children:"Event:"}),(0,Pa.jsxs)("td",{style:{margin:"0px",color:"#000",fontSize:"20px",fontWeight:"400"},children:[" ","Event Name"]})]})]})})}),(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:2,children:(0,Pa.jsx)("br",{})})}),(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:6,children:(0,Pa.jsxs)("table",{width:"100%",children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{style:{margin:"0px",color:"#000",fontSize:"20px",fontWeight:"700",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000",borderTop:"1px solid #000"},children:"Qty"}),(0,Pa.jsx)("th",{style:{margin:"0px",color:"#000",fontSize:"20px",fontWeight:"700",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderTop:"1px solid #000"},children:"Description"}),(0,Pa.jsx)("th",{style:{margin:"0px",color:"#000",fontSize:"20px",fontWeight:"700",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderTop:"1px solid #000"},children:"Net price"}),(0,Pa.jsx)("th",{style:{margin:"0px",color:"#000",fontSize:"20px",fontWeight:"700",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderTop:"1px solid #000"},children:"Tax %"}),(0,Pa.jsx)("th",{style:{margin:"0px",color:"#000",fontSize:"20px",fontWeight:"700",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderTop:"1px solid #000"},children:"Tax amount"}),(0,Pa.jsx)("th",{style:{margin:"0px",color:"#000",fontSize:"20px",fontWeight:"700",padding:"5px 15px",borderBottom:"1px solid #000",borderTop:"1px solid #000",borderRight:"1px solid #000"},children:"Gross price"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"1"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000"},children:"Event fee guest"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"100.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19 %"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"119.00 \u20ac"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"3"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000"},children:"Hotel Sleep \u2013 Double room"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"150.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"7 %"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"10.50 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"481.50 \u20ac"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"1"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000"},children:"Breakfast"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"10.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19 %"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"1.90 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"71.40 \u20ac"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"1"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000"},children:"Event fee"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"100.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19 %"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"119.00 \u20ac"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"1"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000"},children:"Event fee"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"100.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19 %"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"119.00 \u20ac"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"1"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000"},children:"Event fee"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"100.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19 %"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"119.00 \u20ac"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"1"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000"},children:"Event fee"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"100.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19 %"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"119.00 \u20ac"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"1"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000"},children:"Event fee"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"100.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19 %"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"119.00 \u20ac"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"1"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000"},children:"Event fee"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"100.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19 %"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"119.00 \u20ac"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"1"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000"},children:"Event fee"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"100.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19 %"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"119.00 \u20ac"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"1"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000"},children:"Event fee"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"100.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19 %"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"119.00 \u20ac"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"1"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000"},children:"Event fee"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"100.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19 %"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"119.00 \u20ac"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"1"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000"},children:"Event fee"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"100.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19 %"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"19.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"119.00 \u20ac"})]}),(0,Pa.jsx)("tr",{children:(0,Pa.jsxs)("td",{colSpan:2,children:[(0,Pa.jsx)("br",{}),(0,Pa.jsx)("br",{})]})}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{colSpan:2,style:{margin:"0px",color:"#000",fontSize:"20px",fontWeight:"700",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000",borderTop:"1px solid #000"},children:"Total gross price"}),(0,Pa.jsx)("th",{colSpan:4,style:{margin:"0px",color:"#000",fontSize:"20px",fontWeight:"700",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right",borderTop:"1px solid #000"},children:"1,279.52 \u20ac"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{colSpan:2,style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"19 % Tax"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"658.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"="}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"125.02 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"783.02 \u20ac"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{colSpan:2,style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"19 % Tax"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"658.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"="}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"125.02 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"783.02 \u20ac"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{colSpan:2,style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"19 % Tax"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"658.00 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"="}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"125.02 \u20ac"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"783.02 \u20ac"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{colSpan:2,style:{margin:"0px",color:"#000",fontSize:"20px",fontWeight:"700",textAlign:"left",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",borderLeft:"1px solid #000"},children:"Total net price"}),(0,Pa.jsx)("td",{style:{margin:"0px",color:"#000",fontSize:"20px",fontWeight:"700",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000",textAlign:"right"},children:"1,123.00 \u20ac"}),(0,Pa.jsx)("td",{colSpan:3,style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",padding:"5px 15px",borderBottom:"1px solid #000",borderRight:"1px solid #000"}})]})]})})}),(0,Pa.jsx)("tr",{children:(0,Pa.jsxs)("td",{colSpan:2,children:[(0,Pa.jsx)("br",{}),(0,Pa.jsx)("br",{}),(0,Pa.jsx)("br",{}),(0,Pa.jsx)("br",{}),(0,Pa.jsx)("br",{}),(0,Pa.jsx)("br",{}),(0,Pa.jsx)("br",{}),(0,Pa.jsx)("br",{})]})}),(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:3,children:(0,Pa.jsx)("table",{width:"100%",children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsxs)("td",{children:[(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center"},children:"Sparkasse Pforzheim Calw"}),(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center"},children:"IBAN DE76 6665 0085 0004 6501 74"}),(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center"},children:"BIC PZHSDE66XXX"})]}),(0,Pa.jsxs)("td",{children:[(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center"},children:"District Court Stuttgart HRB 242974"}),(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center"},children:"VAT ID: DE145164742"}),(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center"},children:"Tax Nr: 56456/00710"})]}),(0,Pa.jsxs)("td",{children:[(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center"},children:"Commerzbank Boeblingen"}),(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center"},children:"IBAN DE92 6004 0071 0625 7315 00"}),(0,Pa.jsx)("p",{style:{margin:"0px",color:"#000",fontSize:"18px",fontWeight:"400",textAlign:"center"},children:"BIC COBADEFFXXX"})]})]})})})})]})})]})})})]})},fR=()=>{const e=gn(),t=bn(e=>e.globalLoader),i=ot();return window.navigate_=i,(0,a.useLayoutEffect)(()=>{Promise.all([Promise.resolve().then(n.bind(n,4933)),Promise.resolve().then(n.bind(n,8421)),n.e(419).then(n.bind(n,2419)),n.e(621).then(n.bind(n,2621)),n.e(195).then(n.bind(n,6195)),n.e(870).then(n.bind(n,870)),n.e(293).then(n.bind(n,3293)),n.e(71).then(n.bind(n,4071)),n.e(70).then(n.bind(n,4070)),n.e(606).then(n.bind(n,1606)),n.e(349).then(n.bind(n,349)),n.e(8).then(n.bind(n,6008)),n.e(360).then(n.bind(n,2360))]).then(()=>{e(hr(!1)),Ga("Reloaded Astrology")})},[]),(0,Pa.jsx)(Pa.Fragment,{children:t?(0,Pa.jsx)(Ds,{}):(0,Pa.jsx)("div",{className:"page",children:(0,Pa.jsx)(Ct,{})})})};const gR=n.p+"static/media/logo.a7d7b4af28afa7db3da2978fcdf49f83.svg";var _R=n(9224);const vR="/website";const bR=n.p+"static/media/footer-logo.3e493e1bf3d2e5e89f2eb18eadb0a542.svg",yR=()=>{var e,t,n;const{t:i}=As(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)({}),c=bn(e=>{var t;return null===e||void 0===e||null===(t=e.globalData)||void 0===t?void 0:t.data}),d=()=>{document.querySelector("html, body").scrollTop=0};return(0,a.useEffect)(()=>{if(c){const e=JSON.parse(c);l(e)}},[c]),(0,a.useEffect)(()=>{(async e=>await oc().get("".concat(vR,"/cms-options?menu_location=").concat(e)))(Rs.MENU_LOCATION.menu_of_page_footer).then(e=>{s(null===e||void 0===e?void 0:e.data)}).catch(e=>{console.log("error --\x3e",e)})},[Qa("system_language")]),(0,Pa.jsxs)("footer",{children:[(0,Pa.jsx)("div",{className:"footer-main",children:(0,Pa.jsxs)("div",{className:"container d-flex flex-column row-gap-4 justify-content-center align-items-center",children:[(0,Pa.jsx)("div",{className:"footer-logo",children:(0,Pa.jsx)(qt,{"aria-label":"Go to homepage",to:"/",children:(0,Pa.jsx)("img",{alt:"Reloaded logo",src:bR})})}),(0,Pa.jsxs)("div",{className:"footer-menu",children:[(0,Pa.jsx)(qt,{to:"/about-us",children:i("header_about_us")}),(0,Pa.jsx)(qt,{to:"/services",children:i("header_services")}),(0,Pa.jsx)(qt,{to:"/faq",children:i("footer_faq")}),(0,Pa.jsx)(qt,{to:"/contact-us",children:i("contact_us")}),null===r||void 0===r||null===(e=r.filter(e=>"main"===(null===e||void 0===e?void 0:e.footer_location)))||void 0===e?void 0:e.map((e,t)=>(0,Pa.jsx)(qt,{onClick:d,to:"/org-info/".concat(null===e||void 0===e?void 0:e.slug),children:null===e||void 0===e?void 0:e.title},t))]}),(0,Pa.jsx)("div",{className:"footer-social-links",children:null===o||void 0===o||null===(t=o.social_media_details)||void 0===t?void 0:t.map((e,t)=>(0,Pa.jsx)("a",{href:null===e||void 0===e?void 0:e.link,title:null===e||void 0===e?void 0:e.title,target:"_blank",rel:"noreferrer",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.icon}},t))})]})}),(0,Pa.jsx)("div",{className:"footer-bottom",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,Pa.jsx)("p",{className:"m-0",children:null===o||void 0===o?void 0:o.copy_right_text}),(0,Pa.jsx)("div",{className:"footer-bottom-menu",children:null===r||void 0===r||null===(n=r.filter(e=>"base"===(null===e||void 0===e?void 0:e.footer_location)))||void 0===n?void 0:n.map((e,t)=>(0,Pa.jsx)(qt,{onClick:d,to:"/org-info/".concat(null===e||void 0===e?void 0:e.slug),children:null===e||void 0===e?void 0:e.title},t))})]})})})]})};const xR=function(){const{t:e}=As(),t=gn(),i=ot();window.navigate_=i;const r=ct(),s=at();return(0,a.useLayoutEffect)(()=>{Promise.all([n.e(832).then(n.bind(n,7832)),n.e(635).then(n.bind(n,635)),n.e(401).then(n.bind(n,8401))]).then(()=>{t(hr(!1))})},[]),(0,a.useMemo)(()=>{(async()=>await oc().get("".concat("common","/global-settings")))().then(async e=>{t(xr(JSON.stringify(null===e||void 0===e?void 0:e.data))),Ga(null!==e&&void 0!==e&&e.title?null===e||void 0===e?void 0:e.title:"Reloaded Astrology"),setTimeout(()=>{t(hr(!1))},100)})},[]),(0,a.useEffect)(()=>{const e=window.location.hash;setTimeout(()=>{if(e){const t=document.querySelector(e);if(t){const e=t.offsetTop;e&&(document.querySelector("html, body").scrollTop=e)}}else document.querySelector("html, body").scrollTop=0},50)},[s,null===r||void 0===r?void 0:r.slug]),(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("a",{href:"#website-main-section",className:"skip-link",children:e("skip_to_main_content")}),(0,Pa.jsx)("div",{className:"inner-wraper",children:(0,Pa.jsx)(Ct,{})})]})},wR=(n.p,n.p,n.p,n.p,n.p+"static/media/about2.761f5b167f4544954d68.png");n.p,n.p,n.p,n.p,n.p,n.p;n.p;n.p;n.p,n.p;const ER=function(){const e=(0,a.useRef)(),{t:t}=As(),[n,i]=(0,a.useState)([]),[r,s]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(e.current){function t(e,t){const n=document.querySelector(e),i=n.innerHTML,r=n.children[0];let a=0;console.log(r),n.insertAdjacentHTML("beforeend",i),n.insertAdjacentHTML("beforeend",i),setInterval(function(){r.style.marginLeft="-".concat(a,"px"),a>r.clientWidth&&(a=0),a+=t},0)}t(".marquee",1)}},[]),(0,a.useEffect)(()=>{(async()=>await oc().get("".concat(vR,"/home-page-data")))().then(e=>{i(null===e||void 0===e?void 0:e.data),setTimeout(()=>{s(!0)},300)}).catch(e=>{console.log("Error===>",e),setTimeout(()=>{s(!0)},300)})},[Qa("system_language")]),(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h2",{children:"Work is in Progress"})})},SR=n.p+"static/media/banner-about.739e0dfa17d6c53aa8ea.jpg",CR=n.p+"static/media/whyChooseUs.183268e47450079c784f.jpg";const TR=n.p+"static/media/logoCircle.9a1e8aaa1beb830b1b61ad304eb0d770.svg";const NR=n.p+"static/media/not-found.7d4b812b1e0794037d2650243022eea0.svg";function AR(e){let{heading:t="no_record_found_text",text:n=null}=e;const{t:i}=As();return(0,Pa.jsxs)("div",{className:"page-not-found-ui",children:[(0,Pa.jsx)("img",{src:NR,alt:i(t)}),(0,Pa.jsx)("h4",{children:i(t)}),n?(0,Pa.jsx)("p",{children:i(n)}):null]})}const kR=["count","wrapper","className","containerClassName","containerTestId","circle","style"],RR=a.createContext({}),IR=!0;function OR(e){let{count:t=1,wrapper:n,className:i,containerClassName:r,containerTestId:s,circle:o=!1,style:l}=e,c=xn(e,kR);var d,u,h;const p=a.useContext(RR),m=Tn({},c);for(const[a,x]of Object.entries(c))"undefined"===typeof x&&delete m[a];const f=Tn(Tn(Tn({},p),m),{},{circle:o}),g=Tn(Tn({},l),function(e){let{baseColor:t,highlightColor:n,width:i,height:r,borderRadius:a,circle:s,direction:o,duration:l,enableAnimation:c=IR,customHighlightBackground:d}=e;const u={};return"rtl"===o&&(u["--animation-direction"]="reverse"),"number"===typeof l&&(u["--animation-duration"]="".concat(l,"s")),c||(u["--pseudo-element-display"]="none"),"string"!==typeof i&&"number"!==typeof i||(u.width=i),"string"!==typeof r&&"number"!==typeof r||(u.height=r),"string"!==typeof a&&"number"!==typeof a||(u.borderRadius=a),s&&(u.borderRadius="50%"),"undefined"!==typeof t&&(u["--base-color"]=t),"undefined"!==typeof n&&(u["--highlight-color"]=n),"string"===typeof d&&(u["--custom-highlight-background"]=d),u}(f));let _="react-loading-skeleton";i&&(_+=" ".concat(i));const v=null!==(d=f.inline)&&void 0!==d&&d,b=[],y=Math.ceil(t);for(let x=0;x<y;x++){let e=g;if(y>t&&x===y-1){const n=null!==(u=e.width)&&void 0!==u?u:"100%",i=t%1,r="number"===typeof n?n*i:"calc(".concat(n," * ").concat(i,")");e=Tn(Tn({},e),{},{width:r})}const n=a.createElement("span",{className:_,style:e,key:x},"\u200c");v?b.push(n):b.push(a.createElement(a.Fragment,{key:x},n,a.createElement("br",null)))}return a.createElement("span",{className:r,"data-testid":s,"aria-live":"polite","aria-busy":null!==(h=f.enableAnimation)&&void 0!==h?h:IR},n?b.map((e,t)=>a.createElement(n,{key:t},e)):b)}const jR=function(){var e;const{t:t}=As(),[n,i]=(0,a.useState)({}),[r,s]=(0,a.useState)(!1),o=(0,a.useRef)(),[l,c]=(0,a.useState)(Qa("system_language"));return(0,a.useEffect)(()=>{const e=()=>{const e=Qa("system_language");c(e)};return document.addEventListener("language_change",e),()=>{document.removeEventListener("language_change",e)}},[]),(0,a.useEffect)(()=>{if(o.current){function e(e,t){const n=document.querySelector(e),i=n.innerHTML,r=n.children[0];let a=0;console.log(r),n.insertAdjacentHTML("beforeend",i),n.insertAdjacentHTML("beforeend",i),setInterval(function(){r.style.marginLeft="-".concat(a,"px"),a>r.clientWidth&&(a=0),a+=t},0)}e(".marquee",1)}},[r]),(0,a.useEffect)(()=>{(async e=>await oc().get("".concat(vR,"/about-us-details"),e))().then(e=>{s(!0),i(null===e||void 0===e?void 0:e.data)}).catch(e=>{console.log("Error===>",e)})},[l]),(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsxs)("div",{className:"inner-wraper",children:[(0,Pa.jsx)("div",{className:"banner-inner-head",children:(0,Pa.jsx)("div",{className:"container-fluid",children:(0,Pa.jsxs)("div",{className:"banner-inner-wrap d-flex align-items-center justify-content-center",children:[(0,Pa.jsx)("img",{alt:"about-us-banner",className:"banner-bg",src:SR}),(0,Pa.jsx)("div",{className:"banner-content d-flex flex-column gap-4",children:(0,Pa.jsx)("h1",{children:t("about_us")})})]})})}),(0,Pa.jsx)("div",{className:"breadcrumb-container container-fluid",children:(0,Pa.jsx)("nav",{"aria-label":"breadcrumb",className:"mt-4",children:(0,Pa.jsxs)("ol",{className:"breadcrumb gap-2 justify-content-start align-items-center",children:[(0,Pa.jsx)("li",{className:"breadcrumb-item",children:(0,Pa.jsx)(qt,{to:"/",children:t("header_home")})}),(0,Pa.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:t("about_us")})]})})}),r?0!==Object.keys(n).length?(0,Pa.jsxs)("div",{className:"inner-content",children:[(0,Pa.jsx)("div",{className:"about-section py-12",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsxs)("div",{className:"row align-items-center justify-content-between",children:[(0,Pa.jsx)("div",{className:"col-md-4",children:(0,Pa.jsxs)("div",{className:"about-img-box",children:[(0,Pa.jsx)("img",{src:null===n||void 0===n?void 0:n.image1,className:"about-main-img",alt:"about-img",width:"100%"}),(0,Pa.jsx)("img",{src:wR,className:"about-shape",alt:"","aria-hidden":"true",width:"100%"})]})}),(0,Pa.jsx)("div",{className:"col-md-7",children:(0,Pa.jsxs)("div",{className:"about-content",children:[(0,Pa.jsx)("h2",{className:"h2-heading mb-4",children:null===n||void 0===n?void 0:n.heading1}),(0,Pa.jsx)("p",{className:"paragraph-16",children:(0,Pa.jsx)("div",{dangerouslySetInnerHTML:{__html:null===n||void 0===n?void 0:n.content1}})}),(0,Pa.jsxs)("div",{className:"row about-stats",children:[(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"about-stats",children:[(0,Pa.jsx)("hr",{}),(0,Pa.jsx)("h2",{className:"h2-heading fw-semibold",children:"300+"}),(0,Pa.jsx)("p",{className:"paragraph-16 m-0",children:t("tarot_readings")})]})}),(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"about-stats",children:[(0,Pa.jsx)("hr",{}),(0,Pa.jsx)("h2",{className:"h2-heading fw-semibold",children:"90+"}),(0,Pa.jsx)("p",{className:"paragraph-16 m-0",children:t("reading_the_future")})]})})]})]})})]})})}),(0,Pa.jsx)("section",{className:"marquee-section",ref:o,children:(0,Pa.jsx)("div",{className:"marquee",children:(0,Pa.jsxs)("div",{className:"marquee-content-items",children:[(0,Pa.jsx)("h4",{children:t("marquee_horoscope")}),(0,Pa.jsx)("h4",{children:t("marquee_zodiac_sign")}),(0,Pa.jsx)("h4",{children:t("marquee_birth_chart")}),(0,Pa.jsx)("h4",{children:t("marquee_tarot_card")}),(0,Pa.jsx)("h4",{children:t("marquee_consultations")}),(0,Pa.jsx)("h4",{children:t("marquee_spiritual_advisor")})]})})}),(0,Pa.jsx)("section",{className:"why-choose-us-section",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsxs)("div",{className:"row align-items-center justify-content-between why-choose-container",children:[(0,Pa.jsx)("div",{className:"col-md-5",children:(0,Pa.jsxs)("div",{className:"why-choose-us-content py-14",children:[(0,Pa.jsx)("div",{className:"logo-circle",children:(0,Pa.jsx)("img",{src:TR,alt:"Reloaded logo",width:"100%"})}),(0,Pa.jsx)("h2",{className:"h2-heading mb-2",children:null===n||void 0===n?void 0:n.heading2}),(0,Pa.jsx)("p",{className:"paragraph-16",children:(0,Pa.jsx)("div",{dangerouslySetInnerHTML:{__html:null===n||void 0===n?void 0:n.content2}})})]})}),(0,Pa.jsx)("figure",{children:(0,Pa.jsx)("img",{src:CR,alt:"why-choose-us",width:"100%"})})]})})}),(0,Pa.jsx)("section",{className:"team-sec py-12",children:(0,Pa.jsxs)("div",{className:"container",children:[(0,Pa.jsxs)("div",{className:"heading-box text-center w-75 mx-auto mb-8",children:[(0,Pa.jsx)("h2",{className:"h2-heading mb-2",children:t("our_team")}),(0,Pa.jsx)("p",{className:"paragraph-16",children:t("our_team_content")})]}),(0,Pa.jsx)("div",{className:"row justify-content-center",children:null===n||void 0===n||null===(e=n.option)||void 0===e?void 0:e.map((e,t)=>(0,Pa.jsx)("div",{className:"col-md-4",children:(0,Pa.jsxs)("figure",{className:"team-img-box",children:[(0,Pa.jsx)("img",{src:e.option_image,alt:"team-img",width:"100%"}),(0,Pa.jsx)("figcaption",{children:(0,Pa.jsxs)("div",{className:"team-info-details",children:[(0,Pa.jsx)("h4",{children:e.option_name}),(0,Pa.jsx)("span",{children:e.option_designation})]})})]})},t))})]})})]}):(0,Pa.jsx)(AR,{heading:"Record not found"}):(0,Pa.jsx)("section",{className:"section-padding",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsx)("div",{className:"row justify-content-center",children:(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsx)("div",{className:"card m-5",children:(0,Pa.jsx)("div",{className:"card-body",children:(0,Pa.jsx)(OR,{className:"rounded-1",height:50,count:3})})})})})})})]})})},PR=n.p+"static/media/banner-contact.ab166be1d6b6fad5d493.jpg";function DR(e){let{name:t,form:n,className:i,translatedErrors:r=!0,shortCodes:a=[]}=e;const{t:s}=As();function o(e,t,n){const i=t.split(".");let r=e;for(const a of i)if(r=r[a],void 0===r)return n;return r}return-1===t.indexOf(".")?n&&n.errors&&n.touched[t]&&n.errors[t]?(0,Pa.jsx)("div",{className:"validation-error "+(i||""),children:r?es(s(n.errors[t]),a):n.errors[t]}):null:n&&n.errors&&o(n.touched,t,null)&&o(n.errors,t,null)?(0,Pa.jsx)("div",{className:"validation-error "+(i||""),children:o(n.errors,t,null)}):null}const LR=e=>{let{id:t}=e;const n=ot(),{t:i}=As(),[r,s]=(0,a.useState)({}),o=bn(e=>{var t;return null===(t=e.globalData)||void 0===t?void 0:t.data});(0,a.useEffect)(()=>{if(o){const e=JSON.parse(o);s(e)}},[o]);const l=vf().shape({name:rf().trim().max(Rs.INPUT_LENGTH_30,es(i("err_exceed_max_length"),[Rs.INPUT_LENGTH_30])).matches(/^[A-Za-z0-9\s\.,'";:?!-^]*$/,i("valid_format_error")).test("not-only-numbers",i("valid_format_error"),e=>/[A-Za-z]/.test(e)).required("label_name_error"),subject:rf().trim().max(Rs.INPUT_LENGTH_100,es(i("err_exceed_max_length"),[Rs.INPUT_LENGTH_100])).required("label_subject_error"),message:rf().trim().max(Rs.INPUT_LENGTH_500,es(i("err_exceed_max_length"),[Rs.INPUT_LENGTH_500])).required("err_message_is_required"),email:rf().trim().email("label_email_invalid_format_error").test("custom-email","label_email_invalid_format_error",e=>{const t=new RegExp("^[a-zA-Z][a-zA-Z0-9._%+-]*@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$");return e&&t.test(e)}).required("err_email_is_required")}),c=Ap({enableReinitialize:!0,initialValues:{name:"",email:"",subject:"",message:""},validateOnBlur:!1,validationSchema:l,onSubmit:(e,t)=>{let{setSubmitting:i,resetForm:r}=t;ls(!0);let a=new FormData;a.append("name",e.name),a.append("email",e.email),a.append("subject",e.subject),a.append("message",e.message),(async e=>await oc().post("".concat(vR,"/contact-us-form"),e))(a).then(e=>{ls(!1),i(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),r({values:""}),n("/")):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{ls(!1),console.log("error ====> ",e)})}});return(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsxs)("section",{id:t,className:"contact-sec ",children:[(0,Pa.jsx)("div",{className:"banner-inner-head",children:(0,Pa.jsx)("div",{className:"container-fluid",children:(0,Pa.jsxs)("div",{className:"banner-inner-wrap d-flex align-items-center justify-content-center",children:[(0,Pa.jsx)("img",{alt:"contact-us-banner",className:"banner-bg",src:PR}),(0,Pa.jsx)("div",{className:"banner-content d-flex flex-column gap-4",children:(0,Pa.jsx)("h1",{children:i("contact_us")})})]})})}),(0,Pa.jsx)("div",{className:"breadcrumb-container container-fluid",children:(0,Pa.jsx)("nav",{"aria-label":"breadcrumb",className:"mt-4",children:(0,Pa.jsxs)("ol",{className:"breadcrumb gap-2 justify-content-start align-items-center",children:[(0,Pa.jsx)("li",{className:"breadcrumb-item",children:(0,Pa.jsx)(qt,{to:"/",children:i("header_home")})}),(0,Pa.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:i("contact_us")})]})})}),(0,Pa.jsx)("div",{className:"container w-75 py-12",children:(0,Pa.jsx)("div",{className:"contect d-flex align-items-center justify-content-center",children:(0,Pa.jsxs)("div",{className:"row justify-content-between",children:[(0,Pa.jsx)("div",{className:"col-md-6 px-3",children:(0,Pa.jsx)("div",{className:"contact-us-text",children:(0,Pa.jsxs)("div",{className:"heading-section d-flex flex-column gap-3 mb-5",children:[(0,Pa.jsx)("h4",{className:"h2-heading",children:i("contact_us_heading")}),(0,Pa.jsxs)("p",{className:"paragraph-16",children:[i("contact_us_content")," "]}),(0,Pa.jsxs)("div",{className:"contact-info-box d-flex flex-column gap-3",children:[(0,Pa.jsx)("div",{className:"contact-info-box-item",children:(0,Pa.jsxs)("a",{className:"d-flex align-items-center gap-1",href:"mailto:".concat(null===r||void 0===r?void 0:r.contact_email),children:[(0,Pa.jsx)("i",{className:"ti ti-mail me-2"}),(0,Pa.jsx)("span",{children:null===r||void 0===r?void 0:r.contact_email})]})}),(0,Pa.jsx)("div",{className:"contact-info-box-item",children:(0,Pa.jsxs)("a",{className:"d-flex align-items-center gap-1",href:"tel:".concat(null===r||void 0===r?void 0:r.phone_number),children:[(0,Pa.jsx)("i",{className:"ti ti-phone me-2"}),(0,Pa.jsx)("span",{children:null===r||void 0===r?void 0:r.phone_number})]})})]})]})})}),(0,Pa.jsx)("div",{className:"col-md-5",children:(0,Pa.jsx)("div",{className:"contact-form-card",children:(0,Pa.jsx)("div",{className:"contact-form-card-body",children:(0,Pa.jsx)("form",{onSubmit:c.handleSubmit,children:(0,Pa.jsx)("div",{className:"contact-form",children:(0,Pa.jsx)("div",{className:"contact-form-box",children:(0,Pa.jsxs)("div",{className:"row",children:[(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"mb-3",children:[(0,Pa.jsxs)("label",{htmlFor:"name",className:"form-label ",children:[i("label_name"),(0,Pa.jsx)("span",{children:"*"})]}),(0,Pa.jsx)("input",{type:"text",className:"form-control",placeholder:i("placeholder_name"),name:"name",id:"name",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.name}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"name",form:c})})]})}),(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"mb-3",children:[(0,Pa.jsxs)("label",{htmlFor:"email",className:"form-label",children:[i("label_email")," ",(0,Pa.jsx)("span",{children:"*"})]}),(0,Pa.jsx)("input",{type:"email",className:"form-control",placeholder:i("placeholder_email_address"),name:"email",id:"email",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.email}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"email",form:c})})]})}),(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsxs)("div",{className:"mb-3",children:[(0,Pa.jsxs)("label",{htmlFor:"subject",className:"form-label ",children:[i("label_subject"),(0,Pa.jsx)("span",{children:"*"})]}),(0,Pa.jsx)("input",{type:"text",className:"form-control",placeholder:i("placeholder_subject"),name:"subject",id:"subject",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.subject}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"subject",form:c})})]})}),(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsxs)("div",{className:"mb-3",children:[(0,Pa.jsxs)("label",{htmlFor:"message",className:"form-label ",children:[i("label_message"),(0,Pa.jsx)("span",{children:"*"})]}),(0,Pa.jsx)("textarea",{className:"form-control",placeholder:i("placeholder_message"),style:{height:"120px"},name:"message",id:"message",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.message}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"message",form:c})})]})}),(0,Pa.jsx)("div",{className:"col-md-7",children:(0,Pa.jsx)("button",{className:"btn btn-primary w-50",children:i("btn_submit")})})]})})})})})})})]})})})]})})},MR=n.p+"static/media/service-banner.6fa1c784bdd327c08ba4.jpg",UR=(n.p,n.p,()=>{const{t:e}=As(),[t,n]=(0,a.useState)([]),[i,r]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{(async()=>await oc().get("".concat(vR,"/services-list")))().then(e=>{var t;n(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list),setTimeout(()=>{r(!0)},300)}).catch(e=>{console.log("Error===>",e),setTimeout(()=>{r(!0)},300)})},[Qa("system_language")]),(0,Pa.jsxs)("div",{className:"inner-wraper",children:[(0,Pa.jsx)("div",{className:"banner-inner-head",children:(0,Pa.jsx)("div",{className:"container-fluid",children:(0,Pa.jsxs)("div",{className:"banner-inner-wrap d-flex align-items-center justify-content-center",children:[(0,Pa.jsx)("img",{alt:"service-banner",className:"banner-bg",src:MR}),(0,Pa.jsx)("div",{className:"banner-content d-flex flex-column gap-4",children:(0,Pa.jsx)("h1",{children:e("services")})})]})})}),(0,Pa.jsx)("div",{className:"breadcrumb-container container-fluid",children:(0,Pa.jsx)("nav",{"aria-label":"breadcrumb",className:"mt-4",children:(0,Pa.jsxs)("ol",{className:"breadcrumb gap-2 justify-content-start align-items-center",children:[(0,Pa.jsx)("li",{className:"breadcrumb-item",children:(0,Pa.jsx)(qt,{to:"/",children:e("header_home")})}),(0,Pa.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:e("services")})]})})}),(0,Pa.jsx)("div",{className:"inner-content",children:(0,Pa.jsx)("div",{className:"service-section-inner py-12",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsx)("div",{className:"row row-gap-5",children:i?null!==t&&void 0!==t&&t.length?null===t||void 0===t?void 0:t.map((e,t)=>(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"service-box-card",children:[(0,Pa.jsx)("figure",{className:"object-fit",children:(0,Pa.jsx)("img",{src:null===e||void 0===e?void 0:e.image,alt:null===e||void 0===e?void 0:e.title,width:"100%"})}),(0,Pa.jsxs)("figcaption",{children:[(0,Pa.jsx)("h3",{children:null===e||void 0===e?void 0:e.title}),(0,Pa.jsx)("p",{children:null===e||void 0===e?void 0:e.description})]})]})})):(0,Pa.jsx)("div",{className:"d-flex justify-content-center align-content-center",children:(0,Pa.jsx)(AR,{heading:e("no_record_found_text")})}):Array.from({length:4}).map((e,t)=>(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"service-box-card",children:[(0,Pa.jsx)("figure",{className:"object-fit",children:(0,Pa.jsx)(OR,{height:200,width:"100%"})}),(0,Pa.jsxs)("figcaption",{style:{paddingTop:"1rem"},children:[(0,Pa.jsx)("h3",{children:(0,Pa.jsx)(OR,{width:"60%",height:24})}),(0,Pa.jsx)("p",{children:(0,Pa.jsx)(OR,{count:3})})]})]})},t))})})})})]})}),FR=n.p+"static/media/banner-privacy.89387f90cb2d2e632129.jpg",BR=()=>(0,Pa.jsxs)("div",{className:"inner-wraper",children:[(0,Pa.jsx)("div",{className:"banner-inner-head",children:(0,Pa.jsx)("div",{className:"container-fluid",children:(0,Pa.jsxs)("div",{className:"banner-inner-wrap d-flex align-items-center justify-content-center",children:[(0,Pa.jsx)("img",{className:"banner-bg",src:FR}),(0,Pa.jsxs)("div",{className:"banner-content d-flex flex-column gap-4",children:[(0,Pa.jsx)("h1",{children:"Privacy Policy"}),(0,Pa.jsx)("nav",{"aria-label":"breadcrumb",children:(0,Pa.jsxs)("ol",{className:"breadcrumb gap-2 justify-content-center",children:[(0,Pa.jsx)("li",{className:"breadcrumb-item",children:(0,Pa.jsx)(qt,{to:"/",children:"Home"})}),(0,Pa.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Privacy Policy"})]})})]})]})})}),(0,Pa.jsx)("div",{className:"inner-content",children:(0,Pa.jsx)("div",{className:"cms-content py-12",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsxs)("div",{className:"cms-content-wraper row row-gap-4",children:[(0,Pa.jsxs)("div",{className:"col-md-12",children:[(0,Pa.jsx)("h4",{children:"Information We Collect"}),(0,Pa.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),(0,Pa.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]}),(0,Pa.jsxs)("div",{className:"col-md-12",children:[(0,Pa.jsx)("h4",{children:"How We Use Your Information"}),(0,Pa.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]}),(0,Pa.jsxs)("div",{className:"col-md-12",children:[(0,Pa.jsx)("h4",{children:"Information Sharing"}),(0,Pa.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]}),(0,Pa.jsxs)("div",{className:"col-md-12",children:[(0,Pa.jsx)("h4",{children:"Data Security"}),(0,Pa.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),(0,Pa.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]})]})})})})]}),VR=n.p+"static/media/banner-terms.f5f4fb30fabf8dc99f7b.jpg",zR=()=>(0,Pa.jsxs)("div",{className:"inner-wraper",children:[(0,Pa.jsx)("div",{className:"banner-inner-head",children:(0,Pa.jsx)("div",{className:"container-fluid",children:(0,Pa.jsxs)("div",{className:"banner-inner-wrap d-flex align-items-center justify-content-center",children:[(0,Pa.jsx)("img",{className:"banner-bg",src:VR}),(0,Pa.jsxs)("div",{className:"banner-content d-flex flex-column gap-4",children:[(0,Pa.jsx)("h1",{children:"Terms & Conditions"}),(0,Pa.jsx)("nav",{"aria-label":"breadcrumb",children:(0,Pa.jsxs)("ol",{className:"breadcrumb gap-2 justify-content-center",children:[(0,Pa.jsx)("li",{className:"breadcrumb-item",children:(0,Pa.jsx)(qt,{to:"/",children:"Home"})}),(0,Pa.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:"Terms & Conditions"})]})})]})]})})}),(0,Pa.jsx)("div",{className:"inner-content",children:(0,Pa.jsx)("div",{className:"cms-content py-12",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsxs)("div",{className:"cms-content-wraper row row-gap-4",children:[(0,Pa.jsxs)("div",{className:"col-md-12",children:[(0,Pa.jsx)("h4",{children:"Acceptance of Terms"}),(0,Pa.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),(0,Pa.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]}),(0,Pa.jsxs)("div",{className:"col-md-12",children:[(0,Pa.jsx)("h4",{children:"Eligibility"}),(0,Pa.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]}),(0,Pa.jsxs)("div",{className:"col-md-12",children:[(0,Pa.jsx)("h4",{children:"Use of the App"}),(0,Pa.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]}),(0,Pa.jsxs)("div",{className:"col-md-12",children:[(0,Pa.jsx)("h4",{children:"Data Security"}),(0,Pa.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),(0,Pa.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]})]})})})})]}),HR=n.p+"static/media/banner-faq.787b0238ebb253032633.jpg";const WR=function(){const[e,t]=(0,a.useState)([]),[n,i]=(0,a.useState)(!1),{t:r}=As();return(0,a.useEffect)(()=>{(async e=>await oc().get("".concat(vR,"/faq"),e))().then(e=>{var n;i(!0),t(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.list)}).catch(e=>{console.log("Error===>",e)})},[Qa("system_language")]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)("div",{className:"banner-inner-head",children:(0,Pa.jsx)("div",{className:"container-fluid",children:(0,Pa.jsxs)("div",{className:"banner-inner-wrap d-flex align-items-center justify-content-center",children:[(0,Pa.jsx)("img",{alt:"faq-banner",className:"banner-bg",src:HR}),(0,Pa.jsx)("div",{className:"banner-content d-flex flex-column gap-4",children:(0,Pa.jsx)("h1",{children:r("frequently_asked_questions")})})]})})}),(0,Pa.jsx)("div",{className:"breadcrumb-container container-fluid",children:(0,Pa.jsx)("nav",{"aria-label":"breadcrumb",className:"mt-4",children:(0,Pa.jsxs)("ol",{className:"breadcrumb gap-2 justify-content-start align-items-center",children:[(0,Pa.jsx)("li",{className:"breadcrumb-item",children:(0,Pa.jsx)(qt,{to:"/",children:r("nav_link_home")})}),(0,Pa.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:r("frequently_asked_questions")})]})})}),n?null!==e&&void 0!==e&&e.length?(0,Pa.jsx)("div",{className:"faq-pages py-12",children:(0,Pa.jsx)("div",{className:"innerpage-padding",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsx)("div",{className:"row justify-content-center",children:(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsx)("div",{className:"faq-content",children:(0,Pa.jsx)("div",{className:"faq-body",children:(0,Pa.jsx)("div",{className:"accordion accordion-flush",id:"accordionFlushExample",children:null===e||void 0===e?void 0:e.map((e,t)=>(0,Pa.jsxs)("div",{className:"accordion-item",children:[(0,Pa.jsx)("h2",{className:"accordion-header",children:(0,Pa.jsx)("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapse".concat(t),"aria-expanded":"false","aria-controls":"flush-collapse".concat(t),children:null===e||void 0===e?void 0:e.title})}),(0,Pa.jsx)("div",{id:"flush-collapse".concat(t),className:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample",children:(0,Pa.jsx)("div",{className:"accordion-body",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.description}})})]},t))})})})})})})})}):(0,Pa.jsx)(AR,{heading:"Record not found"}):(0,Pa.jsx)("section",{className:"section-padding",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsx)("div",{className:"row justify-content-center",children:(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsx)("div",{className:"card m-5",children:(0,Pa.jsx)("div",{className:"card-body",children:(0,Pa.jsx)(OR,{className:"rounded-1",height:50,count:3})})})})})})})]})};const GR=n.p+"static/media/img404.6d5599d34ae395dca499478f5dad3348.svg";const qR=function(e){let{homePath:t="/"}=e;const{t:n}=As();return(0,Pa.jsx)("div",{className:"page-404 py-5",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsx)("div",{className:"page-404-wrap",children:(0,Pa.jsxs)("article",{children:[(0,Pa.jsx)("figure",{children:(0,Pa.jsx)("img",{src:GR,alt:"404"})}),(0,Pa.jsxs)("figcaption",{children:[(0,Pa.jsx)("h1",{children:n("page_not_exist_text")}),(0,Pa.jsx)("p",{children:n("mistyped_address_text")}),(0,Pa.jsx)(qt,{className:"btn btn-primary",to:t,children:n("btn_back_to_home")})]})]})})})})},YR={role:Rs.ROLE.SUPER_ADMIN},XR="admin/faq",KR=async e=>await oc(YR).get("".concat(XR,"/details?o_id=").concat(e)),JR=()=>{const e=ot(),{state:t}=at(),{t:n}=As(),[i,r]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)({title_en:"",description_en:"",title_de:"",description_de:"",title_es:"",description_es:"",title_hu:"",description_hu:""}),d=[{title:n("faq.link_dashboard"),url:"/admin/dashboard"},{title:n("faq.link_faq"),url:"/admin/cms/faq/list/1"},{title:n("faq.link_add"),url:""}];(0,a.useEffect)(()=>{c({title:t&&null!==t&&void 0!==t&&t.title?null===t||void 0===t?void 0:t.title:"",description:t&&null!==t&&void 0!==t&&t.description?null===t||void 0===t?void 0:t.description:""}),o(!0)},[]);const u=vf().shape({title_en:rf().trim().required("faq.label_title_error").max(Rs.INPUT_LENGTH_500,"faq.validation_err_reached_maximum_length"),title_de:rf().trim().required("faq.label_title_error").max(Rs.INPUT_LENGTH_500,"faq.validation_err_reached_maximum_length"),title_es:rf().trim().required("faq.label_title_error").max(Rs.INPUT_LENGTH_500,"faq.validation_err_reached_maximum_length"),title_hu:rf().trim().required("faq.label_title_error").max(Rs.INPUT_LENGTH_500,"faq.validation_err_reached_maximum_length"),description_en:rf().trim().required("faq.label_description_error"),description_de:rf().trim().required("faq.label_description_error"),description_es:rf().trim().required("faq.label_description_error"),description_hu:rf().trim().required("faq.label_description_error")});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:d}),s?(0,Pa.jsx)(kp,{initialValues:{title_en:"",description_en:"",title_de:"",description_de:"",title_es:"",description_es:"",title_hu:"",description_hu:""},validateOnBlur:!1,validationSchema:u,onSubmit:(t,n)=>{let{setSubmitting:i,resetForm:a}=n;r(!0),ls(!0),console.log(t);let s=new FormData;s.append("title_en",t.title_en),s.append("description_en",t.description_en),s.append("title_de",t.title_de),s.append("description_de",t.description_de),s.append("title_es",t.title_es),s.append("description_es",t.description_es),s.append("title_hu",t.title_hu),s.append("description_hu",t.description_hu),(async e=>await oc(YR).post("".concat(XR,"/add"),e))(s).then(t=>{i(!1),t.success?(zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),setTimeout(()=>{a({values:""}),ls(!1),e("/admin/cms/faq/list/1")},1e3)):(zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS)),r(!1),ls(!1))}).catch(e=>{console.log("error ====> ",e)})},children:t=>{let{values:r,errors:a,touched:s,handleChange:o,handleBlur:l,handleSubmit:c,setFieldValue:d,setFieldTouched:u,isSubmitting:h}=t;return(0,Pa.jsx)("form",{onSubmit:c,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:n("faq.add_faq")})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_en",className:"text-left d-flex cp",children:[n("faq.list_heading_title_en")," :",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{name:"title_en",id:"title_en",type:"text",onChange:o,onBlur:l,value:r.title_en,className:"form-control",placeholder:n("faq.faq_title_placeholder")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title_en&&s.title_en&&n(a.title_en)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_de",className:"text-left d-flex cp",children:[n("faq.list_heading_title_de")," :",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{name:"title_de",id:"title_de",type:"text",onChange:o,onBlur:l,value:r.title_de,className:"form-control",placeholder:n("faq.faq_title_placeholder")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title_de&&s.title_de&&n(a.title_de)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_es",className:"text-left d-flex cp",children:[n("faq.list_heading_title_es")," :",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{name:"title_es",id:"title_es",type:"text",onChange:o,onBlur:l,value:r.title_es,className:"form-control",placeholder:n("faq.faq_title_placeholder")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title_es&&s.title_es&&n(a.title_es)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_hu",className:"text-left d-flex cp",children:[n("faq.list_heading_title_hu")," :",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{name:"title_hu",id:"title_hu",type:"text",onChange:o,onBlur:l,value:r.title_hu,className:"form-control",placeholder:n("faq.faq_title_placeholder")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title_hu&&s.title_hu&&n(a.title_hu)})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_en",className:"text-left d-flex cp",children:[n("faq.label_description_en")," :",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"description_en",setFieldValue:d,value:r.description_en,setFieldTouched:u}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.description_en&&s.description_en&&n(a.description_en)})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_de",className:"text-left d-flex cp",children:[n("faq.label_description_de")," :",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"description_de",setFieldValue:d,value:r.description_de,setFieldTouched:u}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.description_de&&s.description_de&&n(a.description_de)})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_es",className:"text-left d-flex cp",children:[n("faq.label_description_es")," :",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"description_es",setFieldValue:d,value:r.description_es,setFieldTouched:u}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.description_es&&s.description_es&&n(a.description_es)})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_hu",className:"text-left d-flex cp",children:[n("faq.label_description_hu")," :",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"description_hu",setFieldValue:d,value:r.description_hu,setFieldTouched:u}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.description_hu&&s.description_hu&&n(a.description_hu)})]}),(0,Pa.jsxs)("div",{className:"",children:[(0,Pa.jsxs)("button",{className:"btn btn-main-primary signbtn mr-2",type:"submit",disabled:!!i||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),n("btn_submit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",disabled:!!i||null,onClick:()=>e(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),n("btn_cancel")]})]})]})]})})})})})}}):(0,Pa.jsx)(Pa.Fragment,{})]})},ZR=()=>{const e=ot(),t=ct(),[n,i]=(0,a.useState)({}),[r,s]=(0,a.useState)(!1),[o,l]=(0,a.useState)(""),{t:c}=As(),d=[{title:c("faq.link_dashboard"),url:"/admin/dashboard"},{title:c("faq.link_faq"),url:"/admin/cms/faq/list/1"},{title:c("faq.link_edit"),url:""}];(0,a.useEffect)(()=>{KR(t.id).then(e=>{i(e&&null!==e&&void 0!==e&&e.data?e.data:[]),setTimeout(()=>{s(!0)},100)}).catch(e=>{console.log("error=====>",e)})},[]);const u=vf().shape({title_en:rf().trim().required("faq.label_title_error").max(Rs.INPUT_LENGTH_500,"faq.validation_err_reached_maximum_length"),title_de:rf().trim().required("faq.label_title_error").max(Rs.INPUT_LENGTH_500,"faq.validation_err_reached_maximum_length"),title_es:rf().trim().required("faq.label_title_error").max(Rs.INPUT_LENGTH_500,"faq.validation_err_reached_maximum_length"),title_hu:rf().trim().required("faq.label_title_error").max(Rs.INPUT_LENGTH_500,"faq.validation_err_reached_maximum_length"),description_en:rf().trim().required("faq.label_description_error"),description_de:rf().trim().required("faq.label_description_error"),description_es:rf().trim().required("faq.label_description_error"),description_hu:rf().trim().required("faq.label_description_error")});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:d}),r?(0,Pa.jsx)(kp,{enableReinitialize:!0,initialValues:{title_en:n&&n.title_en?n.title_en:"",description_en:n&&n.description_en?n.description_en:"",title_de:n&&n.title_de?n.title_de:"",description_de:n&&n.description_de?n.description_de:"",title_es:n&&n.title_es?n.title_es:"",description_es:n&&n.description_es?n.description_es:"",title_hu:n&&n.title_hu?n.title_hu:"",description_hu:n&&n.description_hu?n.description_hu:""},validationSchema:u,onSubmit:(n,i)=>{let{setSubmitting:r,resetForm:a}=i;ls(!0);let s=new FormData;s.append("o_id",t.id),s.append("title_en",n.title_en),s.append("description_en",n.description_en),s.append("title_de",n.title_de),s.append("description_de",n.description_de),s.append("title_es",n.title_es),s.append("description_es",n.description_es),s.append("title_hu",n.title_hu),s.append("description_hu",n.description_hu),(async e=>await oc(YR).put("".concat(XR,"/edit"),e))(s).then(t=>{r(!1),t.success?(zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),"Save"!==o&&setTimeout(()=>{a({values:""}),ls(!1),e("/admin/cms/faq/list/1")},1e3),"Save"===o&&setTimeout(()=>{ls(!1)},1e3)):(zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS)),ls(!1))}).catch(e=>{console.log("error ====> ",e)})},children:t=>{let{values:i,errors:r,touched:a,handleChange:s,handleBlur:o,handleSubmit:d,setFieldValue:u,setFieldTouched:h,isSubmitting:p}=t;return(0,Pa.jsx)("form",{onSubmit:d,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:c("faq.edit_faq")})}),n&&Object.keys(n).length>0?(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_en",className:"text-left d-flex cp",children:[c("faq.list_heading_title")," (English):",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{name:"title_en",id:"title_en",type:"text",onChange:s,onBlur:o,value:i.title_en,className:"form-control",placeholder:c("faq.faq_title_placeholder")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:r.title_en&&a.title_en&&c(r.title_en)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_de",className:"text-left d-flex cp",children:[c("faq.list_heading_title")," (German):",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{name:"title_de",id:"title_de",type:"text",onChange:s,onBlur:o,value:i.title_de,className:"form-control",placeholder:c("faq.faq_title_placeholder")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:r.title_de&&a.title_de&&c(r.title_de)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_es",className:"text-left d-flex cp",children:[c("faq.list_heading_title")," (Spanish):",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{name:"title_es",id:"title_es",type:"text",onChange:s,onBlur:o,value:i.title_es,className:"form-control",placeholder:c("faq.faq_title_placeholder")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:r.title_es&&a.title_es&&c(r.title_es)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_hu",className:"text-left d-flex cp",children:[c("faq.list_heading_title")," (Hungarian):",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{name:"title_hu",id:"title_hu",type:"text",onChange:s,onBlur:o,value:i.title_hu,className:"form-control",placeholder:c("faq.faq_title_placeholder")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:r.title_hu&&a.title_hu&&c(r.title_hu)})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_en",className:"text-left d-flex cp",children:[c("faq.label_description_en")," :",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"description_en",setFieldValue:u,value:i.description_en,setFieldTouched:h}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:r.description_en&&a.description_en&&c(r.description_en)})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_de",className:"text-left d-flex cp",children:[c("faq.label_description_de")," :",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"description_de",setFieldValue:u,value:i.description_de,setFieldTouched:h}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:r.description_de&&a.description_de&&c(r.description_de)})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_es",className:"text-left d-flex cp",children:[c("faq.label_description_es")," :",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"description_es",setFieldValue:u,value:i.description_es,setFieldTouched:h}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:r.description_es&&a.description_es&&c(r.description_es)})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_hu",className:"text-left d-flex cp",children:[c("faq.label_description_hu")," :",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"description_hu",setFieldValue:u,value:i.description_hu,setFieldTouched:h}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:r.description_hu&&a.description_hu&&c(r.description_hu)})]}),(0,Pa.jsxs)("div",{className:"",children:[(0,Pa.jsxs)("button",{onClick:()=>{l("Save")},className:"btn btn-info mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),c("btn_save")]}),(0,Pa.jsxs)("button",{onClick:()=>{l("")},className:"btn btn-success mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),c("btn_save_exit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",onClick:()=>e(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),c("btn_cancel")]})]})]}):(0,Pa.jsx)(mA,{})]})})})})})}}):(0,Pa.jsx)(mA,{})]})},QR=()=>{const e=ct(),{t:t}=As(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)(),[u]=(0,a.useState)(10),[h,p]=(0,a.useState)({}),[m,f]=(0,a.useState)(!0),[g,_]=(0,a.useState)(1),[v,b]=(0,a.useState)(!0),[y,x]=(0,a.useState)({}),[w,E]=(0,a.useState)(""),S=[{title:t("faq.link_dashboard"),url:"/admin/dashboard"},{title:t("faq.link_faq"),url:""}],[C,T]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const t=setTimeout(()=>{if(y){b(!0);const t=new FormData;t.append("page",e.pgno),t.append("per_page",u),t.append("sort",JSON.stringify(h)),t.append("search",JSON.stringify(y)),t.append("global_search",w),(async e=>await oc(YR).post("".concat(XR,"/list"),e))(t).then(e=>{d(e.data.total_records),s(e&&e.data&&e.data.list?e.data.list:[]),b(!1)}).catch(e=>{setTimeout(()=>{b(!1)},500),console.log("error ====> ",e)})}},300);return()=>clearTimeout(t)},[n,o,h,y,w]);const N=(e,n)=>{const i=new FormData;let r=Array.isArray(e)?e:[e];i.append("o_id",JSON.stringify(r)),i.append("status",n),zr().fire({customClass:"swal-wide",title:t("Are you sure you want to ".concat(0===n?"deactivate":"activate"," this FAQ ?")),icon:"warning",showCancelButton:!0,confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:t("btn_yes"),cancelButtonText:t("btn_cancel")}).then(e=>{e.isConfirmed&&(async e=>await oc(YR).patch("".concat(XR,"/change-status"),e))(i).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),l(!o)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error===>")})})};function A(e){zr().fire({customClass:"swal-wide",title:t("msg_are_you_sure"),text:t("you_not_be_able_to_revert_this"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:t("btn_yes_delete"),cancelButtonText:t("btn_cancel")}).then(t=>{if(t.isConfirmed){(async e=>await oc(YR).delete("".concat(XR,"/delete?o_id=").concat(e[0])))(Array.isArray(e)?e:[e]).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),l(!o)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})}})}const k=(e,t)=>{f(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,p(n)},R=(e,t)=>{let n=Tn({},y);String(t).length>0?n[e]=t:delete n[e],x(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:S}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsxs)("div",{className:"card custom-card overflow-hidden",children:[(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:t("faq.heading_cms_faq")}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:w,placeholder:t("input_placeholder_search"),onChange:e=>{E(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{R("createdAt",e)},resetdate:C})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(eR,{className:"cp",data:Rs.showFilterlist,prepareSearch:R})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),E(""),R(),x({}),T(!C),Br()("#defaultstatus")[0].selectedIndex=0},className:"btn btn-warning float-right mr-2",children:t("btn_reset_filter")}),(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>i("/admin/cms/faq/add"),children:t("btn_add_new")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{id:"example-input",className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"sr_head",children:t("faq.list_heading_sno")}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsxs)("span",{children:[t("faq.list_heading_title")," (English)"]}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,column:"title"})]})}),(0,Pa.jsx)("th",{className:"created_head",children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:t("list_heading_created_date")}),(0,Pa.jsx)(Ff,{sort:h,defaultSorting:m,handleSort:k,column:"createdAt"})]})}),(0,Pa.jsx)("th",{className:"status_head",children:t("list_heading_status")}),(0,Pa.jsx)("th",{className:"action_head",children:t("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:v?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:13,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((n,r)=>(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:n?(g-1)*u+r+1:null}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.title_en?Ya(n.title_en,40):"N/A"}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.createdAt?Ha(n.createdAt):"N/A"}),(0,Pa.jsx)("td",{children:1===n.status?(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{N(null===n||void 0===n?void 0:n._id,0)},children:t("btn_active")}):(0,Pa.jsx)("button",{className:"btn ripple btn-secondary",onClick:()=>{N(null===n||void 0===n?void 0:n._id,1)},children:t("btn_inactive")})}),(0,Pa.jsx)("td",{children:(0,Pa.jsxs)("div",{className:"d-flex",children:[(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn ",onClick:()=>{(e=>{i("/admin/cms/faq/view/".concat(e._id))})(n)},children:t("btn_view")}),(0,Pa.jsx)("button",{className:"btn ripple btn-success mlAction",onClick:()=>{(t=>{i("/admin/cms/faq/".concat(e.pgno,"/edit/").concat(t._id))})(n)},children:t("btn_edit")}),(0,Pa.jsx)("button",{type:"button",className:"btn ripple btn-secondary mlAction",onClick:()=>{A(null===n||void 0===n?void 0:n._id)},children:t("btn_delete")})]})})]},r)):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:13,className:"text-center",children:t("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[t("msg_total_records")," : ",c||"0"]})}),c&&c>0?(0,Pa.jsx)(Uf,{datalength:c,itemperpage:u,setPage:_,currentPage:g,pageRoute:[{name:"PageTable",path:"/admin/cms/faq/list"}]}):""]}),(0,Pa.jsx)("div",{})]})})]})},$R=()=>{var e;const{t:t}=As(),n=ot(),i=ct(),[r,s]=(0,a.useState)({}),o=[{title:t("faq.link_dashboard"),url:"/admin/dashboard"},{title:t("faq.link_faq"),url:"/admin/cms/faq/list/1"},{title:t("faq.link_view"),url:""}];return(0,a.useEffect)(()=>{KR(i.id).then(e=>{s(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:o}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:t("faq.heading_view")})}),r&&(null===(e=Object.keys(r))||void 0===e?void 0:e.length)>0?(0,Pa.jsx)("div",{className:"row",children:(0,Pa.jsxs)("div",{className:"col-lg-12 form-group",children:[(0,Pa.jsx)("table",{id:"simple-table",className:"table  table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsxs)("th",{children:[t("faq.list_heading_title_en")," "]}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&null!==r&&void 0!==r&&r.title_en?r.title_en:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsxs)("th",{children:[t("faq.list_heading_title_de")," "]}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&null!==r&&void 0!==r&&r.title_de?r.title_de:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsxs)("th",{children:[t("faq.list_heading_title_es")," "]}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&null!==r&&void 0!==r&&r.title_es?r.title_es:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsxs)("th",{children:[t("faq.list_heading_title_hu")," "]}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&null!==r&&void 0!==r&&r.title_hu?r.title_hu:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("faq.label_status")}),(0,Pa.jsx)("td",{children:(r&&(null===r||void 0===r||r.status),Qk(ss(r.status)))})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("list_heading_created_date")}),(0,Pa.jsx)("td",{children:r&&r.createdAt?Wa(r.createdAt):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("list_heading_modified_date")}),(0,Pa.jsx)("td",{children:r&&null!==r&&void 0!==r&&r.updatedAt?Wa(r.updatedAt):"N/A"})]})]})}),(0,Pa.jsxs)("h6",{className:"main-content-label mb-3",children:[t("faq.label_description_en"),":"]}),(0,Pa.jsx)("div",{className:"text-capitalize",dangerouslySetInnerHTML:{__html:r&&null!==r&&void 0!==r&&r.description_en?r.description_en:"N/A"}}),(0,Pa.jsxs)("h6",{className:"main-content-label mb-3",children:[t("faq.label_description_de"),":"]}),(0,Pa.jsx)("div",{className:"text-capitalize",dangerouslySetInnerHTML:{__html:r&&null!==r&&void 0!==r&&r.description_de?r.description_de:"N/A"}}),(0,Pa.jsxs)("h6",{className:"main-content-label mb-3",children:[t("faq.label_description_es"),":"]}),(0,Pa.jsx)("div",{className:"text-capitalize",dangerouslySetInnerHTML:{__html:r&&null!==r&&void 0!==r&&r.description_es?r.description_es:"N/A"}}),(0,Pa.jsxs)("h6",{className:"main-content-label mb-3",children:[t("faq.label_description_hu"),":"]}),(0,Pa.jsx)("div",{className:"text-capitalize",dangerouslySetInnerHTML:{__html:r&&null!==r&&void 0!==r&&r.description_hu?r.description_hu:"N/A"}}),(0,Pa.jsx)("div",{className:"mt-5",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>n(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),t("btn_back")]})})]})}):(0,Pa.jsx)(Bf,{})]})})})})]})},eI={role:Rs.ROLE.SUPER_ADMIN},tI="admin/contact-us",nI=()=>{const{t:e}=As(),t=ct(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)(""),[u]=(0,a.useState)(10),[h,p]=(0,a.useState)({}),[m,f]=(0,a.useState)(!0),[g,_]=(0,a.useState)(1),[v,b]=(0,a.useState)(!0),[y,x]=(0,a.useState)(!1),[w,E]=(0,a.useState)(""),[S,C]=(0,a.useState)({}),T=[{title:e("contact-us.link_dashboard"),url:"/admin/dashboard"},{title:e("contact-us.link_contact_us"),url:""}];(0,a.useEffect)(()=>{const e=setTimeout(()=>{if(S){b(!0);const e=new FormData;e.append("page",t.pgno),e.append("per_page",u),e.append("sort",JSON.stringify(h)),e.append("search",JSON.stringify(S)),e.append("global_search",w),(async e=>await oc(eI).post("".concat(tI,"/list"),e))(e).then(e=>{var t;d(e.data.total_records),s(e&&e.data&&e.data.list?null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list:[]),_(e&&e.data&&e.data.page?e.data.page:1),b(!1)}).catch(e=>{setTimeout(()=>{b(!1)},500),console.log("error ====> ",e)})}},300);return()=>clearTimeout(e)},[n,o,h,S,w,u,t.pgno]);function N(t){zr().fire({customClass:"swal-wide",title:e("msg_are_you_sure"),text:e("you_not_be_able_to_revert_this"),icon:"warning",showCancelButton:!0,cancelButtonText:e("btn_cancel"),confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:e("btn_yes_delete")}).then(e=>{if(e.isConfirmed){(new FormData).append("_id",t),(async e=>await oc(eI).delete("".concat(tI,"/delete?o_id=").concat(e)))(t).then(e=>{l(!o),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})}})}const A=(e,t)=>{f(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,p(n)},k=(e,t)=>{let n=Tn({},S);String(t).length>0?n[e]=t:delete n[e],C(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:T}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:e("contact-us.link_contact_us")}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:w,placeholder:e("input_placeholder_search"),onChange:e=>{E(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{k("createdAt",e)},resetdate:y})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),E(""),k(),C({}),x(!y)},className:"btn btn-warning float-right mr-2",children:e("btn_reset_filter")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("contact-us.list_heading_sno")})}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("contact-us.list_heading_name")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:A,column:"name"})]})}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("label_email")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:A,column:"email"})]})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{className:"rating_head",children:(0,Pa.jsx)("span",{children:"Subject"})})}),(0,Pa.jsx)("th",{className:"created_head",children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("contact-us.label_contact_us_date")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:A,defaultSorting:m,column:"createdAt"})]})}),(0,Pa.jsx)("th",{className:"action_head",children:e("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:v?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:10,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((t,n)=>(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:t?(g-1)*u+n+1:null}),(0,Pa.jsx)("td",{children:null!==t&&void 0!==t&&t.name?(0,Pa.jsx)("div",{className:"d-flex",children:null!==t&&void 0!==t&&t.name?t.name:"N/A"}):(0,Pa.jsx)("div",{className:"d-flex",children:'"N/A"'})}),(0,Pa.jsx)("td",{children:null!==t&&void 0!==t&&t.email?(0,Pa.jsx)("div",{className:"d-flex",children:t.email}):(0,Pa.jsx)("div",{className:"d-flex",children:"N/A"})}),(0,Pa.jsx)("td",{children:null!==t&&void 0!==t&&t.subject?(0,Pa.jsx)("div",{className:"d-flex",children:t.subject}):(0,Pa.jsx)("div",{className:"d-flex",children:"N/A"})}),(0,Pa.jsx)("td",{children:t.createdAt?Ha(t.createdAt):"N/A"}),(0,Pa.jsx)("td",{children:(0,Pa.jsxs)("div",{className:"d-flex",children:[(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{(e=>{i("/admin/contact-us/view/".concat(e._id,"?page=1"))})(t)},children:e("btn_view")}),(0,Pa.jsx)("button",{className:"btn ripple btn-secondary mlAction",onClick:()=>{N(null===t||void 0===t?void 0:t._id)},children:e("btn_delete")})]})})]},n)):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:10,className:"text-center",children:e("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[e("msg_total_records")," : ",c||"0"]})}),c&&c>0?(0,Pa.jsx)(Uf,{datalength:c,itemperpage:u,currentPage:g,setPage:_,pageRoute:[{name:"Reataurant",path:"/admin/contact-us/list"}]}):""]})})})]})},iI=e=>{const{t:t}=As(),n=ot(),i=ct(),[r,s]=(0,a.useState)({}),o=[{title:t("contact-us.link_dashboard"),url:"/admin/dashboard"},{title:t("contact-us.link_contact_us"),url:"/admin/contact-us/list/1"},{title:t("btn_view"),url:""}];return(0,a.useEffect)(()=>{(async e=>await oc(eI).post("".concat(tI,"/view"),e))({_id:i.id}).then(e=>{console.log("View response-",e),s(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[i.id]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:o}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsxs)("div",{className:"card custom-card",children:[(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:t("contact-us.view_contact_us")})}),r&&Object.keys(r).length>0?(0,Pa.jsx)("div",{className:"row",children:(0,Pa.jsx)("div",{className:"col-lg-12 form-group",children:(0,Pa.jsx)("table",{id:"simple-table",className:"table  table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("contact-us.label_name")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&r.name?r.name:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_email")}),(0,Pa.jsx)("td",{children:r&&r.email?r.email:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:"Subject"}),(0,Pa.jsx)("td",{children:r&&r.subject?r.subject:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("contact-us.label_contact_us_date")}),(0,Pa.jsx)("td",{children:r&&r.createdAt?Ha(r.createdAt):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:"Message"}),(0,Pa.jsx)("td",{style:{wordBreak:"break-word"},children:r&&r.message?os(r.message):"N/A"})]})]})})})}):(0,Pa.jsx)(Bf,{})]}),(0,Pa.jsx)("div",{className:"mt-2 back-button",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>n("/admin/contact-us/list/1"),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),t("btn_back")]})})]})})})]})};function rI(){const[e,t]=(0,a.useState)(Qa("system_language_flag")||_R),[n,i]=(0,a.useState)(null),{t:r}=As(),s=bn(e=>{var t;return null===e||void 0===e||null===(t=e.psychicData)||void 0===t?void 0:t.data}),o=bn(e=>{var t;return null===e||void 0===e||null===(t=e.notificationCount)||void 0===t?void 0:t.unread});(0,a.useEffect)(()=>{const e=localStorage.getItem("system_language")||localStorage.getItem("i18nextLng");if(e){const t=Rs.languageSpoken.find(t=>t.code===e);t&&i(t)}else i(Rs.languageSpoken[0])},[]);const l=()=>{const e=document.getElementById("navbarSupportedContent"),t=document.querySelector(".navbar-toggler");null!==e&&void 0!==e&&e.classList.contains("show")?(e.classList.remove("show"),null===t||void 0===t||t.classList.add("collapsed"),null===t||void 0===t||t.setAttribute("aria-expanded","false")):(null===e||void 0===e||e.classList.add("show"),null===t||void 0===t||t.classList.remove("collapsed"),null===t||void 0===t||t.setAttribute("aria-expanded","true"))};(0,a.useEffect)(()=>{const e=document.querySelector(".navbar-toggler");e&&(null===e||void 0===e||e.classList.add("collapsed"))},[]);return(0,Pa.jsx)("header",{className:"header-inner",children:(0,Pa.jsx)("nav",{className:"navbar navbar-expand-lg",children:(0,Pa.jsxs)("div",{className:"container",children:[(0,Pa.jsx)(qt,{to:"/",role:"link","aria-label":"Reloaded Home",className:"navbar-brand",children:(0,Pa.jsx)("img",{alt:"Reloaded logo",src:gR})}),(0,Pa.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,Pa.jsx)("span",{className:"navbar-toggler-icon"})}),(0,Pa.jsxs)("div",{className:"collapse gap-2 navbar-collapse",id:"navbarSupportedContent",children:[(0,Pa.jsxs)("ul",{className:"navbar-nav ms-auto mb-lg-0 gap-3",children:[(0,Pa.jsx)("li",{className:"nav-item",children:(0,Pa.jsx)(qt,{to:"/psychic",onClick:l,className:"nav-link","aria-label":r("link_dashboard"),children:r("link_dashboard")})}),(0,Pa.jsx)("li",{className:"nav-item",children:(0,Pa.jsxs)(qt,{className:"bell-icon",onClick:l,to:"/psychic/notification","aria-label":r("label_notifications"),children:[(0,Pa.jsx)("i",{className:"ti ti-bell","aria-hidden":"true"}),console.log("notification data --\x3e",o),(0,Pa.jsx)("span",{className:"bell-count","aria-live":"polite","aria-atomic":"true",children:o})]})}),(0,Pa.jsxs)("li",{className:"dropdown",children:[(0,Pa.jsxs)("button",{className:"dropdown-toggle btn btn-secondary nav-link language-btn d-flex align-items-center gap-2","data-bs-toggle":"dropdown","aria-expanded":"false","aria-haspopup":"listbox","aria-label":r("label_select_language"),onKeyDown:e=>{"Space"===e.code&&(e.preventDefault(),e.target.click())},children:[(0,Pa.jsx)("img",{src:null===n||void 0===n?void 0:n.flag,alt:"".concat(null===n||void 0===n?void 0:n.name," flag")}),(0,Pa.jsx)("span",{children:null===n||void 0===n?void 0:n.name})]}),(0,Pa.jsx)("ul",{className:"dropdown-menu",role:"listbox",children:Rs.languageSpoken.map(e=>(0,Pa.jsx)("li",{children:(0,Pa.jsxs)("button",{className:"dropdown-item",role:"option","aria-selected":(null===n||void 0===n?void 0:n.code)===e.code,onClick:n=>{n.preventDefault(),(e=>{i(e),Oa.changeLanguage(null===e||void 0===e?void 0:e.code),Za("system_language",null===e||void 0===e?void 0:e.code),Za("system_language_flag",null===e||void 0===e?void 0:e.flag),t(null===e||void 0===e?void 0:e.flag);const n=new CustomEvent("language_change");document.dispatchEvent(n)})(e),l()},children:[(0,Pa.jsx)("img",{className:"me-3",src:e.flag,alt:"".concat(e.name," flag")}),e.name]})},e.code))})]})]}),(0,Pa.jsxs)("div",{className:"dropdown",children:[(0,Pa.jsx)("button",{className:"dropdown-toggle btn btn-primary nav-link d-flex align-items-center gap-2","data-bs-toggle":"dropdown","aria-expanded":"false",type:"button","aria-haspopup":"menu","aria-label":r("label_my_profile"),onKeyDown:e=>{"Space"===e.code&&(e.preventDefault(),e.target.click())},children:(0,Pa.jsx)("span",{children:null===s||void 0===s?void 0:s.name})}),(0,Pa.jsxs)("ul",{className:"dropdown-menu",role:"menu",children:[(0,Pa.jsx)("li",{role:"none",children:(0,Pa.jsx)(qt,{role:"menuitem",onClick:l,className:"dropdown-item",to:"/psychic/profile",children:r("list_heading_my_profile")})}),(0,Pa.jsx)("li",{role:"none",children:(0,Pa.jsx)(qt,{role:"menuitem",onClick:l,className:"dropdown-item",to:"/psychic/change-password",children:r("change_password")})}),(0,Pa.jsx)("li",{role:"none",children:(0,Pa.jsx)("button",{role:"menuitem",className:"dropdown-item",type:"button",onClick:()=>Ja(Rs.ROLE.PSYCHIC),children:r("label_logout")})})]})]})]})]})})})}const aI="psychic/user-profile",sI={role:Rs.ROLE.PSYCHIC},oI=async e=>await oc(sI).get("".concat(aI,"/details"),e),lI=()=>(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsx)("div",{id:"global-loader",children:(0,Pa.jsx)("div",{className:"text-center",children:(0,Pa.jsx)("div",{className:"spinner-grow",role:"status",children:(0,Pa.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})})}),cI=Object.create(null);cI.open="0",cI.close="1",cI.ping="2",cI.pong="3",cI.message="4",cI.upgrade="5",cI.noop="6";const dI=Object.create(null);Object.keys(cI).forEach(e=>{dI[cI[e]]=e});const uI={type:"error",data:"parser error"},hI="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),pI="function"===typeof ArrayBuffer,mI=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,fI=(e,t,n)=>{let{type:i,data:r}=e;return hI&&r instanceof Blob?t?n(r):gI(r,n):pI&&(r instanceof ArrayBuffer||mI(r))?t?n(r):gI(new Blob([r]),n):n(cI[i]+(r||""))},gI=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function _I(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let vI;const bI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yI="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)yI[bI.charCodeAt(n)]=n;const xI="function"===typeof ArrayBuffer,wI=(e,t)=>{if("string"!==typeof e)return{type:"message",data:SI(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:EI(e.substring(1),t)};return dI[n]?e.length>1?{type:dI[n],data:e.substring(1)}:{type:dI[n]}:uI},EI=(e,t)=>{if(xI){const n=(e=>{let t,n,i,r,a,s=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const c=new ArrayBuffer(s),d=new Uint8Array(c);for(t=0;t<o;t+=4)n=yI[e.charCodeAt(t)],i=yI[e.charCodeAt(t+1)],r=yI[e.charCodeAt(t+2)],a=yI[e.charCodeAt(t+3)],d[l++]=n<<2|i>>4,d[l++]=(15&i)<<4|r>>2,d[l++]=(3&r)<<6|63&a;return c})(e);return SI(n,t)}return{base64:!0,data:e}},SI=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,CI=String.fromCharCode(30);function TI(){return new TransformStream({transform(e,t){!function(e,t){hI&&e.data instanceof Blob?e.data.arrayBuffer().then(_I).then(t):pI&&(e.data instanceof ArrayBuffer||mI(e.data))?t(_I(e.data)):fI(e,!1,e=>{vI||(vI=new TextEncoder),t(vI.encode(e))})}(e,n=>{const i=n.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const e=new DataView(r.buffer);e.setUint8(0,126),e.setUint16(1,i)}else{r=new Uint8Array(9);const e=new DataView(r.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(i))}e.data&&"string"!==typeof e.data&&(r[0]|=128),t.enqueue(r),t.enqueue(n)})}})}let NI;function AI(e){return e.reduce((e,t)=>e+t.length,0)}function kI(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let i=0;for(let r=0;r<t;r++)n[r]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),n}function RI(e){if(e)return function(e){for(var t in RI.prototype)e[t]=RI.prototype[t];return e}(e)}RI.prototype.on=RI.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},RI.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},RI.prototype.off=RI.prototype.removeListener=RI.prototype.removeAllListeners=RI.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},RI.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},RI.prototype.emitReserved=RI.prototype.emit,RI.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},RI.prototype.hasListeners=function(e){return!!this.listeners(e).length};const II="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),OI="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function jI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const PI=OI.setTimeout,DI=OI.clearTimeout;function LI(e,t){t.useNativeTimers?(e.setTimeoutFn=PI.bind(OI),e.clearTimeoutFn=DI.bind(OI)):(e.setTimeoutFn=OI.setTimeout.bind(OI),e.clearTimeoutFn=OI.clearTimeout.bind(OI))}function MI(e){return"string"===typeof e?function(e){let t=0,n=0;for(let i=0,r=e.length;i<r;i++)t=e.charCodeAt(i),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))}function UI(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class FI extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class BI extends RI{constructor(e){super(),this.writable=!1,LI(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new FI(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=wI(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class VI extends BI{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(CI),i=[];for(let r=0;r<n.length;r++){const e=wI(n[r],t);if(i.push(e),"error"===e.type)break}return i})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,i=new Array(n);let r=0;e.forEach((e,a)=>{fI(e,!1,e=>{i[a]=e,++r===n&&t(i.join(CI))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=UI()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let zI=!1;try{zI="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(QV){}const HI=zI;function WI(){}class GI extends VI{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class qI extends RI{constructor(e,t,n){super(),this.createRequest=e,LI(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=jI(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(ZV){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(ZV){}try{n.setRequestHeader("Accept","*/*")}catch(ZV){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"===typeof n.status?n.status:0)},0))},n.send(this._data)}catch(ZV){return void this.setTimeoutFn(()=>{this._onError(ZV)},0)}"undefined"!==typeof document&&(this._index=qI.requestsCount++,qI.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=WI,e)try{this._xhr.abort()}catch(ZV){}"undefined"!==typeof document&&delete qI.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(qI.requestsCount=0,qI.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",YI);else if("function"===typeof addEventListener){addEventListener("onpagehide"in OI?"pagehide":"unload",YI,!1)}function YI(){for(let e in qI.requests)qI.requests.hasOwnProperty(e)&&qI.requests[e].abort()}const XI=function(){const e=KI({xdomain:!1});return e&&null!==e.responseType}();function KI(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||HI))return new XMLHttpRequest}catch(ZV){}if(!t)try{return new(OI[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(ZV){}}const JI="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class ZI extends BI{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=JI?{}:jI(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(QV){return this.emitReserved("error",QV)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;fI(n,this.supportsBinary,e=>{try{this.doWrite(n,e)}catch(ZV){}i&&II(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=UI()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const QI=OI.WebSocket||OI.MozWebSocket;const $I={websocket:class extends ZI{createSocket(e,t,n){return JI?new QI(e,t,n):t?new QI(e,t):new QI(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends BI{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(QV){return this.emitReserved("error",QV)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){NI||(NI=new TextDecoder);const n=[];let i=0,r=-1,a=!1;return new TransformStream({transform(s,o){for(n.push(s);;){if(0===i){if(AI(n)<1)break;const e=kI(n,1);a=128===(128&e[0]),r=127&e[0],i=r<126?3:126===r?1:2}else if(1===i){if(AI(n)<2)break;const e=kI(n,2);r=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),i=3}else if(2===i){if(AI(n)<8)break;const e=kI(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>Math.pow(2,21)-1){o.enqueue(uI);break}r=a*Math.pow(2,32)+t.getUint32(4),i=3}else{if(AI(n)<r)break;const e=kI(n,r);o.enqueue(wI(a?e:NI.decode(e),t)),i=0}if(0===r||r>e){o.enqueue(uI);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),i=TI();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const r=()=>{n.read().then(e=>{let{done:t,value:n}=e;t||(this.onPacket(n),r())}).catch(e=>{})};r();const a={type:"open"};this.query.sid&&(a.data='{"sid":"'.concat(this.query.sid,'"}')),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t===e.length-1;this._writer.write(n).then(()=>{i&&II(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends GI{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=XI&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new qI(KI,this.uri(),e)}}},eO=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,tO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function nO(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),i=e.indexOf("]");-1!=n&&-1!=i&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));let r=eO.exec(e||""),a={},s=14;for(;s--;)a[tO[s]]=r[s]||"";return-1!=n&&-1!=i&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const n=/\/{2,9}/g,i=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||i.splice(0,1);"/"==t.slice(-1)&&i.splice(i.length-1,1);return i}(0,a.path),a.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,i){t&&(n[t]=i)}),n}(0,a.query),a}const iO="function"===typeof addEventListener&&"function"===typeof removeEventListener,rO=[];iO&&addEventListener("offline",()=>{rO.forEach(e=>e())},!1);class aO extends RI{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=nO(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=nO(t.host).host);LI(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let i=0,r=n.length;i<r;i++){let e=n[i].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),iO&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},rO.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&aO.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",aO.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const n=this.writeBuffer[t].data;if(n&&(e+=MI(n)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,II(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,i){if("function"===typeof t&&(i=t,t=void 0),"function"===typeof n&&(i=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const r={type:e,data:t,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(aO.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),iO&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=rO.indexOf(this._offlineEventListener);-1!==e&&rO.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}aO.protocol=4;class sO extends aO{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;aO.priorWebsocketSuccess=!1;const i=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;aO.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function r(){n||(n=!0,c(),t.close(),t=null)}const a=e=>{const n=new Error("probe error: "+e);n.transport=t.name,r(),this.emitReserved("upgradeError",n)};function s(){a("transport closed")}function o(){a("socket closed")}function l(e){t&&e.name!==t.name&&r()}const c=()=>{t.removeListener("open",i),t.removeListener("error",a),t.removeListener("close",s),this.off("close",o),this.off("upgrading",l)};t.once("open",i),t.once("error",a),t.once("close",s),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class oO extends sO{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map(e=>$I[e]).filter(e=>!!e)),super(e,t)}}const lO="function"===typeof ArrayBuffer,cO=Object.prototype.toString,dO="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===cO.call(Blob),uO="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===cO.call(File);function hO(e){return lO&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||dO&&e instanceof Blob||uO&&e instanceof File}function pO(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(pO(e[t]))return!0;return!1}if(hO(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return pO(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&pO(e[n]))return!0;return!1}function mO(e){const t=[],n=e.data,i=e;return i.data=fO(n,t),i.attachments=t.length,{packet:i,buffers:t}}function fO(e,t){if(!e)return e;if(hO(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=fO(e[i],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=fO(e[i],t));return n}return e}function gO(e,t){return e.data=_O(e.data,t),delete e.attachments,e}function _O(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=_O(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=_O(e[n],t));return e}const vO=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],bO=5;var yO;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(yO||(yO={}));class xO{constructor(e){this.replacer=e}encode(e){return e.type!==yO.EVENT&&e.type!==yO.ACK||!pO(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===yO.EVENT?yO.BINARY_EVENT:yO.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==yO.BINARY_EVENT&&e.type!==yO.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=mO(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}}function wO(e){return"[object Object]"===Object.prototype.toString.call(e)}class EO extends RI{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===yO.BINARY_EVENT;n||t.type===yO.BINARY_ACK?(t.type=n?yO.EVENT:yO.ACK,this.reconstructor=new SO(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!hO(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===yO[n.type])throw new Error("unknown packet type "+n.type);if(n.type===yO.BINARY_EVENT||n.type===yO.BINARY_ACK){const i=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const r=e.substring(i,t);if(r!=Number(r)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===e.charAt(t+1)){const i=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(i,t)}else n.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const i=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=this.tryParse(e.substr(t));if(!EO.isPayloadValid(n.type,i))throw new Error("invalid payload");n.data=i}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(ZV){return!1}}static isPayloadValid(e,t){switch(e){case yO.CONNECT:return wO(t);case yO.DISCONNECT:return void 0===t;case yO.CONNECT_ERROR:return"string"===typeof t||wO(t);case yO.EVENT:case yO.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===vO.indexOf(t[0]));case yO.ACK:case yO.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class SO{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=gO(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function CO(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const TO=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class NO extends RI{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[CO(e,"open",this.onopen.bind(this)),CO(e,"packet",this.onpacket.bind(this)),CO(e,"error",this.onerror.bind(this)),CO(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,i;if(TO.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];if(a.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const o={type:yO.EVENT,data:a,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"===typeof a[a.length-1]){const e=this.ids++,t=a.pop();this._registerAckCallback(e,t),o.id=e}const l=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,c=this.connected&&!(null===(i=this.io.engine)||void 0===i?void 0:i._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,t){var n,i=this;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},r),s=function(){i.io.clearTimeoutFn(a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(i,n)};s.withError=!0,this.acks[e]=s}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new Promise((t,i)=>{const r=(e,n)=>e?i(e):t(n);r.withError=!0,n.push(r),this.emit(e,...n)})}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(function(e){if(i!==t._queue[0])return;if(null!==e)i.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];n(null,...a)}return i.pending=!1,t._drainQueue()}),this._queue.push(i),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:yO.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case yO.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case yO.EVENT:case yO.BINARY_EVENT:this.onevent(e);break;case yO.ACK:case yO.BINARY_ACK:this.onack(e);break;case yO.DISCONNECT:this.ondisconnect();break;case yO.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];t.packet({type:yO.ACK,id:e,data:r})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:yO.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function AO(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}AO.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},AO.prototype.reset=function(){this.attempts=0},AO.prototype.setMin=function(e){this.ms=e},AO.prototype.setMax=function(e){this.max=e},AO.prototype.setJitter=function(e){this.jitter=e};class kO extends RI{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"===typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,LI(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new AO({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||i;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new oO(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=CO(t,"open",function(){n.onopen(),e&&e()}),r=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},a=CO(t,"error",r);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn(()=>{i(),r(new Error("timeout")),t.close()},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}return this.subs.push(i),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(CO(e,"ping",this.onping.bind(this)),CO(e,"data",this.ondata.bind(this)),CO(e,"error",this.onerror.bind(this)),CO(e,"close",this.onclose.bind(this)),CO(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(ZV){this.onclose("parse error",ZV)}}ondecoded(e){II(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new NO(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const RO={};function IO(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),i=nO(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const r=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+t,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}(e,(t=t||{}).path||"/socket.io"),i=n.source,r=n.id,a=n.path,s=RO[r]&&a in RO[r].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?o=new kO(i,t):(RO[r]||(RO[r]=new kO(i,t)),o=RO[r]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(IO,{Manager:kO,Socket:NO,io:IO,connect:IO});const OO=IO.connect("http://localhost:17019",{"force new connection":!0,reconnectionAttempts:"Infinity",timeout:1e4,transports:["websocket"]}),jO={role:Rs.ROLE.PSYCHIC},PO="/psychic/notification";const DO=function(){const e=gn(),{t:t}=As(),i=bn(e=>e.globalLoader),r=ot();window.navigate_=r,(0,a.useLayoutEffect)(()=>{Promise.all([n.e(832).then(n.bind(n,7832)),n.e(635).then(n.bind(n,635)),n.e(401).then(n.bind(n,8401))]).then(()=>{e(hr(!1))})},[]),(0,a.useEffect)(()=>{(async()=>{try{const t=await oI();e(Sr(t.data)),Ga(null!==t&&void 0!==t&&t.title?null===t||void 0===t?void 0:t.title:"Reloaded Astrology"),setTimeout(()=>{e(hr(!1))},100)}catch(t){console.error("Error fetching psychic details:",t),e(hr(!1))}})()},[e]),(0,a.useEffect)(()=>{(async e=>await oc(jO).get("".concat(PO,"/count"),e))().then(t=>{const{total_records:n,unread_notification:i}=t.data;console.log("Notification count ===> ",null===t||void 0===t?void 0:t.data,i),e(Pr({total:n,unread:i}))}).catch(e=>{console.log("Error ===> ",e)})}),(0,a.useMemo)(()=>{const e=Xa(Rs.ROLE.PSYCHIC);if(e){let t={roomID:e._id};OO.on("connect",()=>{OO.emit("JOIN-USER",t,e=>{e&&console.log("*****Socket connection error on JOIN-USER",e),console.log("*****Socket connection on JOIN-USER",t)})})}},[]);const s=(0,a.useCallback)(e=>{if("Notification"in window)if("granted"===Notification.permission){var t;const n="string"===typeof(null===e||void 0===e?void 0:e.title)&&(null===e||void 0===e||null===(t=e.title)||void 0===t?void 0:t.length)>0?null===e||void 0===e?void 0:e.title:"New Notification";new Notification(n,{body:e.message||"New notification"}).onclick=function(){r("/psychic/notification")}}else"denied"!==Notification.permission&&Notification.requestPermission().then(t=>{if("granted"===t){new Notification("New notification",{body:e.message||"New notification"}).onclick=function(){r("/psychic/notification")}}});else alert("This browser does not support desktop notifications")},[r]);return(0,a.useEffect)(()=>{OO.on("GET-DATA",t=>(console.log("response socket--\x3e",t),t.event!==Rs.SOCKET_EVENTS.NEW_BOOKING&&t.event!==Rs.SOCKET_EVENTS.CANCEL_BOOKING&&t.event!==Rs.SOCKET_EVENTS.SESSION_REMINDER||(s(t),e(Lr())),()=>{OO.off("GET-DATA")}))},[s]),(0,Pa.jsx)(Pa.Fragment,{children:i?(0,Pa.jsx)(lI,{}):(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("a",{href:"#dashboard-right-container",className:"skip-link",children:t("skip_to_main_content")}),(0,Pa.jsx)(rI,{}),(0,Pa.jsx)("div",{className:"inner-wraper",children:(0,Pa.jsx)(Ct,{})}),(0,Pa.jsx)(yR,{})]})})},LO=n.p+"static/media/login-img.7b8ca2edbaceec0aa88e.png",MO=n.p+"static/media/stone-img.aaf01ae49c4ca8730bc1.png",UO="/psychic/auth";n.p;function FO(){const{t:e}=As(),t=bn(e=>{var t;return null===e||void 0===e||null===(t=e.psychicData)||void 0===t?void 0:t.data});return(0,Pa.jsxs)("div",{className:"sidebar",children:[(0,Pa.jsx)("div",{className:"sidebar-header",children:(0,Pa.jsx)("div",{className:"card",children:(0,Pa.jsxs)("div",{className:"card-body d-flex gap-3",children:[(0,Pa.jsx)("div",{className:"avatar avatar-sm",children:(0,Pa.jsx)("img",{alt:"avatar",src:null===t||void 0===t?void 0:t.profile_image})}),(0,Pa.jsxs)("div",{className:"profile-info",children:[(0,Pa.jsx)("h4",{className:"heading-16-bold",children:null===t||void 0===t?void 0:t.name}),(0,Pa.jsxs)("p",{className:"d-flex align-items-center gap-1",children:[(0,Pa.jsx)("span",{className:"online-indicator active"}),"Available"]}),(0,Pa.jsx)(qt,{to:"/psychic/profile",className:"btn-text",children:e("edit_profile")})]})]})})}),(0,Pa.jsx)("div",{className:"sidebar-body",children:(0,Pa.jsx)("div",{className:"slider-menu mt-2",children:(0,Pa.jsxs)("ul",{children:[(0,Pa.jsx)("li",{children:(0,Pa.jsxs)(Yt,{to:"/psychic",end:!0,children:[(0,Pa.jsx)("i",{className:"ti ti-table","aria-hidden":"true"}),(0,Pa.jsx)("span",{children:e("sidebar_dashboard")})]})}),(0,Pa.jsx)("li",{children:(0,Pa.jsxs)(Yt,{to:"/psychic/my-calendar",children:[(0,Pa.jsx)("i",{className:"ti ti-calendar-week","aria-hidden":"true"}),(0,Pa.jsx)("span",{children:e("sidebar_my_calender")})]})}),(0,Pa.jsx)("li",{children:(0,Pa.jsxs)(Yt,{to:"/psychic/my-earnings",children:[(0,Pa.jsx)("i",{className:"ti ti-star","aria-hidden":"true"}),(0,Pa.jsx)("span",{children:e("sidebar_my_earnings")})]})}),(0,Pa.jsx)("li",{children:(0,Pa.jsxs)(Yt,{to:"/psychic/my-bookings",children:[(0,Pa.jsx)("i",{className:"ti ti-calendar-check","aria-hidden":"true"}),(0,Pa.jsx)("span",{children:e("sidebar_my_bookings")})]})})]})})})]})}function BO(){return(0,Pa.jsx)("div",{className:"dashboard-wrapper py-5",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsxs)("div",{className:"dashboard-container d-flex",children:[(0,Pa.jsx)(FO,{}),(0,Pa.jsx)(Ct,{})]})})})}const VO={role:Rs.ROLE.PSYCHIC},zO="/psychic/dashboard",HO=async e=>await oc(VO).post("".concat(zO,"/feedback-list"),e),WO=async e=>await oc(VO).get("".concat(zO,"/overall-rating"),e),GO={role:Rs.ROLE.PSYCHIC},qO="/psychic/booking",YO=async e=>await oc(GO).post("".concat(qO,"/list"),e),XO=async e=>await oc(GO).post("".concat(qO,"/add-availability"),e),KO=async e=>await oc(GO).put("".concat(qO,"/cancel-booking"),e),JO=async e=>await oc(GO).put("".concat(qO,"/mark-completed?o_id=").concat(e));var ZO=n(6178),QO=n.n(ZO);const $O=n.p+"static/media/cal1.46cc98e75fee262e6078a7d85c8f4ad1.svg";const ej=n.p+"static/media/cal2.59467045263214e47ec72505f94d63d5.svg";const tj=n.p+"static/media/icon-for-cancel.0e12c4a95ca6cfb6addbe9f347d3153c.svg";var nj=n(1733),ij=n.n(nj);function rj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var aj=function(e,t){return a.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){rj(e,t,n[t])})}return e}({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:t},e),a.createElement("path",{d:"M4.5 0a.5.5 0 0 1 .5.5V2h6V.5a.5.5 0 0 1 1 0V2h1.5A1.5 1.5 0 0 1 15 3.5V6H2v7.5a.5.5 0 0 0 .5.5h11a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 1 0v3a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 13.5v-10A1.5 1.5 0 0 1 2.5 2H4V.5a.5.5 0 0 1 .5-.5M14 5V3.5a.5.5 0 0 0-.5-.5H12v2zm-3 0V3H5v2zM4 5V3H2.5a.5.5 0 0 0-.5.5V5z"}),a.createElement("path",{d:"M5 8v1H4V8zM8 8H7v1h1zM10 8h1v1h-1zM5 12v-1H4v1zM7 11h1v1H7zM11 11h-1v1h1z"}))};const sj=fv({as:(0,a.forwardRef)(aj),ariaLabel:"calender simple",category:"time",displayName:"CalenderSimple"});const oj=function(e){var t=e.onToggleMonthDropdown,n=(0,a.useState)(!1),i=n[0],r=n[1],s=CS(function(e){null===t||void 0===t||t(e),r(e)});return{monthView:i,setMonthView:r,toggleMonthView:s}};var lj=n(486),cj=n.n(lj);const dj=function(e){var t=e.target,n=e.showMonth,i=e.id,r=e.locale,a=_x(),s=a.getLocale,o=a.formatDate,l=s("DateTimeFormats",r),c=l.formattedMonthPattern,d=l.formattedDayPattern,u=function(){return n?document.getElementById(i+"-calendar-month-dropdown"):document.getElementById(i+"-calendar-table")},h=function(){cj()(function(){var e=u(),t=null===e||void 0===e?void 0:e.querySelector('[aria-selected="true"]');null===t||void 0===t||t.focus()},1)},p=CS(function(){cj()(function(){var e;return null===(e=t.current)||void 0===e?void 0:e.focus()},1)}),m=CS(function(e,t){var i=t.date,r=t.callback,a=0,s=n?6:7,l=n?IS:VE;JN(e,{down:function(){a=s},up:function(){a=-s},right:function(){a=1},left:function(){a=-1}});var p=l(i,a);(function(e){var t=NC(e,n?c:d,o),i=u(),r=null===i||void 0===i?void 0:i.querySelector('[aria-label="'+t+'"]');return"true"!==(null===r||void 0===r?void 0:r.getAttribute("aria-disabled"))})(p)&&(r(p),h())});return{focusInput:p,focusSelectedDate:h,onKeyFocusEvent:m}};var uj,hj,pj=["as","className","classPrefix","calendarDefaultDate","cleanable","caretAs","editable","defaultValue","disabled","readOnly","plaintext","format","id","isoWeek","weekStart","limitEndYear","limitStartYear","locale","loading","label","menuClassName","menuStyle","appearance","placement","oneTap","placeholder","ranges","value","showMeridian","showMeridiem","showWeekNumbers","style","size","monthDropdownProps","shouldDisableDate","shouldDisableHour","shouldDisableMinute","shouldDisableSecond","onChange","onChangeCalendarDate","onClean","onEnter","onExit","onNextMonth","onOk","onPrevMonth","onSelect","onToggleMonthDropdown","onToggleTimeDropdown","onShortcutClick","renderCell","renderValue","disabledDate","disabledHours","disabledMinutes","disabledSeconds"],mj=a.forwardRef(function(e,t){var n,i=_x("DatePicker",e).propsWithDefaults,r=i.as,s=void 0===r?"div":r,o=i.className,l=i.classPrefix,c=void 0===l?"picker":l,d=i.calendarDefaultDate,u=i.cleanable,h=void 0===u||u,p=i.caretAs,m=i.editable,f=void 0===m||m,g=i.defaultValue,_=i.disabled,v=i.readOnly,b=i.plaintext,y=i.format,x=i.id,w=i.isoWeek,E=i.weekStart,S=i.limitEndYear,C=void 0===S?1e3:S,T=i.limitStartYear,N=i.locale,A=i.loading,k=i.label,R=i.menuClassName,I=i.menuStyle,O=i.appearance,j=void 0===O?"default":O,P=i.placement,D=void 0===P?"bottomStart":P,L=i.oneTap,M=i.placeholder,U=void 0===M?"":M,F=i.ranges,B=i.value,V=i.showMeridian,z=i.showMeridiem,H=void 0===z?V:z,W=i.showWeekNumbers,G=i.style,q=i.size,Y=i.monthDropdownProps,X=i.shouldDisableDate,K=i.shouldDisableHour,J=i.shouldDisableMinute,Z=i.shouldDisableSecond,Q=i.onChange,$=i.onChangeCalendarDate,ee=i.onClean,te=i.onEnter,ne=i.onExit,ie=i.onNextMonth,re=i.onOk,ae=i.onPrevMonth,se=i.onSelect,oe=i.onToggleMonthDropdown,le=i.onToggleTimeDropdown,ce=i.onShortcutClick,de=i.renderCell,ue=i.renderValue,he=i.disabledDate,pe=i.disabledHours,me=i.disabledMinutes,fe=i.disabledSeconds,ge=yn(i,pj),_e=RE("rs-",x),ve=GN(t),be=ve.trigger,ye=ve.root,xe=ve.target,we=ve.overlay,Ee=y||(null===N||void 0===N?void 0:N.shortDateFormat)||"yyyy-MM-dd",Se=j_(c),Ce=Se.merge,Te=Se.prefix,Ne=yE(B,g),Ae=Ne[0],ke=Ne[1],Re=function(e,t){var n,i=(0,a.useRef)(e),r=(0,a.useState)(null!==(n=null!==e&&void 0!==e?e:t)&&void 0!==n?n:FE()),s=r[0],o=r[1],l=(0,a.useCallback)(function(e){e&&(null===e||void 0===e?void 0:e.valueOf())!==(null===s||void 0===s?void 0:s.valueOf())&&o(e)},[s]),c=(0,a.useCallback)(function(n){var i,r;void 0===n&&(n=e),o(null!==(i=null!==(r=n)&&void 0!==r?r:t)&&void 0!==i?i:FE())},[t,e]);return qx(function(){var n,r;(null===e||void 0===e?void 0:e.valueOf())!==(null===(n=i.current)||void 0===n?void 0:n.valueOf())&&(l(null!==(r=null!==e&&void 0!==e?e:t)&&void 0!==r?r:FE()),i.current=e)},[e,t]),{calendarDate:s,setCalendarDate:l,resetCalendarDate:c}}(Ae,d),Ie=Re.calendarDate,Oe=Re.setCalendarDate,je=Re.resetCalendarDate,Pe=oj({onToggleMonthDropdown:oe}),De=Pe.setMonthView,Le=Pe.monthView,Me=Pe.toggleMonthView,Ue=xN(Ee).mode,Fe=Ue===yN.Month||Le,Be=dj({target:xe,showMonth:Fe,id:_e,locale:N}),Ve=Be.focusInput,ze=Be.focusSelectedDate,He=Be.onKeyFocusEvent,We=function(e){return"function"===typeof X?X(e):"function"===typeof he&&he(e)},Ge=function(t){return(null===We||void 0===We?void 0:We(t))||_N(e,t)},qe=function(e){return Ue===yN.Month?function(e){return iT(e.getFullYear(),e.getMonth(),We)}(e):Ge(e)},Ye=function(e){return!Wv(e)||!(!e||!We(e))},Xe=CS(function(e){Oe(e),null===ie||void 0===ie||ie(e),null===$||void 0===$||$(e)}),Ke=CS(function(e){Oe(e),null===ae||void 0===ae||ae(e),null===$||void 0===$||$(e)}),Je=CS(function(e,t){null===se||void 0===se||se(e,t),null===$||void 0===$||$(e,t)}),Ze=CS(function(e){Oe(e),Je(e)}),Qe=CS(function(){var e,t;null===(e=be.current)||void 0===e||null===(t=e.close)||void 0===t||t.call(e)}),$e=function(e,t,n){void 0===n&&(n=!0);var i="undefined"!==typeof t?t:Ie;Oe(i||FE()),ke(i),i!==Ae&&(null===Q||void 0===Q||Q(i,e)),!1!==n&&Qe()},et=CS(function(e,t,n){var i=e.value;$e(n,i,t),Je(i,n),null===ce||void 0===ce||ce(e,n)}),tt=CS(function(e){$e(e),null===re||void 0===re||re(Ie,e),Ve()}),nt=CS(function(e){null===e||void 0===e||e.stopPropagation(),$e(e,null),je(null),null===ee||void 0===ee||ee(e)}),it=CS(function(e){He(e,{date:Ie,callback:Oe}),"Enter"===e.key&&tt(e)}),rt=CS(function(){f||ze()}),at=CS(function(e,t,n){void 0===n&&(n=!0);var i=PN({from:Ie,to:e});Oe(i),Je(i),L&&n&&($e(t,i),Ve())}),st=CS(function(e,t){Oe(e),Je(e),ze(),L&&Ue===yN.Month&&($e(t,e),Ve())}),ot=CS(function(e,t){Ye(e)||at(e,t),$e(t,e,!1)}),lt=CS(function(e){JN(e,{esc:Qe,enter:function(){var t,n;((null===(t=be.current)||void 0===t?void 0:t.getState())||{}).open?Wv(Ie)&&!We(Ie)&&($e(e),Ve()):null===(n=be.current)||void 0===n||n.open()}})}),ct=ij()(ev()(e,WE),function(e){return function(t,n){var i;return null!==(i=null===e||void 0===e?void 0:e(t,n))&&void 0!==i&&i}}),dt=function(e){return{sideRanges:(null===e||void 0===e?void 0:e.filter(function(e){return"left"===(null===e||void 0===e?void 0:e.placement)}))||[],bottomRanges:(null===e||void 0===e?void 0:e.filter(function(e){return"bottom"===(null===e||void 0===e?void 0:e.placement)||void 0===(null===e||void 0===e?void 0:e.placement)}))||[]}}(F),ut=dt.sideRanges,ht=dt.bottomRanges,pt=Wv(Ae),mt=iA(Vf({},e,{className:o,classPrefix:c,name:"date",appearance:j,hasValue:pt,cleanable:h})),ft=mt[0],gt=mt[1],_t=(0,a.useMemo)(function(){return null===p?null:p||(Ue===yN.Time?xv:sj)},[p,Ue]),vt=CS(function(t){var n;t!==wE.ImperativeHandle&&je(),De(!1),null===(n=e.onClose)||void 0===n||n.call(e)}),bt=h&&pt&&!v,yt=SA(ge,{htmlProps:[],includeAria:!0}),xt=yt[0],wt=yt[1],Et=Ae&&Ye(Ae),St=xC({value:Ae,formatStr:Ee,renderValue:ue,readOnly:v,editable:f,loading:A}),Ct=St.customValue,Tt=St.inputReadOnly,Nt=St.Input,At=St.events;return a.createElement(ME,{trigger:"active",pickerProps:ev()(e,PE),ref:be,placement:D,onClose:vt,onEnter:D_(At.onActive,te),onExit:D_(At.onInactive,ne),speaker:function(e,t){var n=e.left,i=e.top,r=e.className,s=Ce(R,r,Te("popup-date")),o=Vf({},I,{left:n,top:i});return a.createElement(tA,{role:"dialog","aria-labelledby":k?_e+"-label":void 0,tabIndex:-1,className:s,ref:Ev(we,t),style:o,target:be,onKeyDown:it},a.createElement(Gx,{alignItems:"flex-start"},ut.length>0&&a.createElement(QE,{direction:"column",spacing:0,className:Te("date-predefined"),ranges:ut,calendarDate:Ie,locale:N,disableShortcut:Ge,onShortcutClick:et}),a.createElement(Gx.Item,null,a.createElement(kN,Vf({},ct,{targetId:_e,locale:N,showWeekNumbers:W,showMeridiem:H,disabledDate:We,disabledHours:null!==K&&void 0!==K?K:pe,disabledMinutes:null!==J&&void 0!==J?J:me,disabledSeconds:null!==Z&&void 0!==Z?Z:fe,limitEndYear:C,limitStartYear:T,format:Ee,isoWeek:w,weekStart:E,calendarDate:Ie,monthDropdownProps:Y,renderCellOnPicker:de,onMoveForward:Xe,onMoveBackward:Ke,onSelect:at,onToggleMonthDropdown:Me,onToggleTimeDropdown:le,onChangeMonth:st,onChangeTime:Ze})),a.createElement(nS,{locale:N,ranges:ht,calendarDate:Ie,disableOkBtn:qe,disableShortcut:Ge,onShortcutClick:et,onOk:tt,hideOkBtn:L}))))}},a.createElement(s,{className:Ce(ft,(n={},n[Te("error")]=Et,n)),style:G,ref:ye},b?a.createElement(yC,{value:Ae,format:Ee,plaintext:b}):a.createElement(pC,Vf({},function(e,t){return void 0===t&&(t=[]),w_()(e,[].concat(jE,WE,t))}(wt,gt),{inside:!0,size:q,disabled:_,className:Te(uj||(uj=J_(["input-group"]))),onClick:rt}),a.createElement(aA,{className:Te(hj||(hj=J_(["label"]))),id:_e+"-label"},k),a.createElement(Nt,Vf({"aria-haspopup":"dialog","aria-invalid":Et,"aria-labelledby":k?_e+"-label":void 0},xt,{ref:xe,id:_e,value:Ct||Ae,format:Ee,placeholder:U||Ee,disabled:_,readOnly:Tt,onChange:ot,onKeyDown:lt})),a.createElement(fA,{loading:A,caretAs:_t,onClose:nt,showCleanButton:bt}))))});mj.displayName="DatePicker",mj.propTypes=Vf({},gA,XE,{calendarDefaultDate:h_().instanceOf(Date),defaultValue:h_().instanceOf(Date),shouldDisableDate:h_().func,shouldDisableHour:h_().func,shouldDisableMinute:h_().func,shouldDisableSecond:h_().func,format:h_().string,hideHours:h_().func,hideMinutes:h_().func,hideSeconds:h_().func,isoWeek:h_().bool,weekStart:h_().oneOf([0,1,2,3,4,5,6]),limitEndYear:h_().number,limitStartYear:h_().number,onChange:h_().func,onChangeCalendarDate:h_().func,onNextMonth:h_().func,onOk:h_().func,onPrevMonth:h_().func,onSelect:h_().func,onToggleMonthDropdown:h_().func,onToggleTimeDropdown:h_().func,oneTap:h_().bool,ranges:h_().array,showMeridiem:h_().bool,showWeekNumbers:h_().bool,value:h_().instanceOf(Date)});const fj=mj,gj={role:Rs.ROLE.PSYCHIC},_j=async e=>await oc(gj).get("".concat("/common","/cms-page?slug=").concat(e)),vj={role:Rs.ROLE.PSYCHIC},bj="/psychic/availability";const yj=e=>{let{dataLength:t,itemPerPage:n,currentPage:i,setPage:r,pageLimit:a=5}=e;const s=Math.ceil(t/n),o=(()=>{const e=[];if(s<=a+2)for(let t=1;t<=s;t++)e.push(t);else{e.push(1);let t=Math.max(2,i-Math.floor(a/2)),n=Math.min(s-1,i+Math.floor(a/2));t>2&&e.push("...");for(let i=t;i<=n;i++)e.push(i);n<s-1&&e.push("..."),e.push(s)}return e})();return(0,Pa.jsx)("nav",{"aria-label":"Page navigation",className:"mt-3",children:(0,Pa.jsxs)("ul",{className:"pagination justify-content-center flex-wrap",children:[(0,Pa.jsx)("li",{className:"page-item ".concat(1===i?"disabled":""),children:(0,Pa.jsx)("a",{className:"page-link",href:"#","aria-label":"Previous",onClick:e=>{e.preventDefault(),i>1&&r(i-1)},children:(0,Pa.jsx)("span",{"aria-hidden":"true",children:(0,Pa.jsx)("i",{className:"ti ti-chevron-left"})})})}),o.map((e,t)=>(0,Pa.jsx)("li",{className:"page-item ".concat(e===i?"active":""," ").concat("..."===e?"disabled":""),children:(0,Pa.jsx)("a",{className:"page-link",href:"#",onClick:t=>{t.preventDefault(),"..."!==e&&(e=>{e>=1&&e<=s&&r(e)})(e)},children:e})},t)),(0,Pa.jsx)("li",{className:"page-item ".concat(i===s?"disabled":""),children:(0,Pa.jsx)("a",{className:"page-link",href:"#","aria-label":"Next",onClick:e=>{e.preventDefault(),i<s&&r(i+1)},children:(0,Pa.jsx)("span",{"aria-hidden":"true",children:(0,Pa.jsx)("i",{className:"ti ti-chevron-right"})})})})]})})},xj={role:Rs.ROLE.PSYCHIC},wj=async e=>await oc(xj).post("".concat("/psychic/payment","/list"),e);const Ej={role:Rs.ROLE.PSYCHIC},Sj="/psychic/chat";function Cj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tj=function(e,t){return a.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){Cj(e,t,n[t])})}return e}({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:t},e),a.createElement("path",{d:"M6.5 1a5.5 5.5 0 1 1 0 11 5.5 5.5 0 1 1 0-11m0 1a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9"}),a.createElement("path",{d:"M9.646 9.646a.5.5 0 0 1 .638-.058l.069.058 4.5 4.5a.5.5 0 0 1-.638.765l-.069-.058-4.5-4.5a.5.5 0 0 1 0-.707"}))};const Nj=fv({as:(0,a.forwardRef)(Tj),ariaLabel:"search",category:"action",displayName:"Search"});var Aj,kj,Rj=["as","classPrefix","value","className","placeholder","inputRef","onChange"],Ij=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.classPrefix,s=void 0===r?"search-box":r,o=e.value,l=e.className,c=e.placeholder,d=e.inputRef,u=e.onChange,h=yn(e,Rj),p=j_(s),m=p.withClassPrefix,f=p.merge,g=p.prefix,_=f(l,m());return a.createElement(i,Vf({},h,{ref:t,className:_}),a.createElement(pC,{inside:!0},a.createElement(SS,{role:"searchbox",className:g(Aj||(Aj=J_(["input"]))),value:o,onChange:u,placeholder:c,ref:d}),a.createElement(pC.Addon,null,a.createElement(Nj,{className:g(kj||(kj=J_(["icon"])))}))))});Ij.displayName="SearchBox";const Oj=Ij;var jj=Object.prototype.hasOwnProperty;function Pj(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Dj(e,t){if(Pj(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r+=1)if(!jj.call(t,n[r])||!Pj(e[n[r]],t[n[r]]))return!1;return!0}var Lj=n(9835),Mj=n.n(Lj);function Uj(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Fj(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fj(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var Bj=function(e){return e[e.DFS=0]="DFS",e[e.BFS=1]="BFS",e}({});function Vj(e,t,n){void 0===n&&(n=Bj.BFS);var i=[];return n===Bj.BFS?function(e,t,n){for(var i=[].concat(e);i.length>0;){var r=i.shift();n(r);var a=t(r);a&&i.push.apply(i,a)}}(e,t,function(e){return i.push(e)}):n===Bj.DFS&&zj(e,t,function(e){return i.push(e)}),i}function zj(e,t,n){for(var i,r=Uj(e);!(i=r()).done;){var a=i.value;n(a);var s=t(a);s&&zj(s,t,n)}}var Hj="groupTitle";function Wj(e,t,n){var i=Mj()(e,t),r="function"===typeof n,a=Object.entries(i).map(function(e){var t,i=e[0],a=e[1];return(t={children:r?a.sort(n(!1)):a})[Hj]=i,t[WN]=!0,t});return r&&a.sort(n(!0)),Vj(a,function(e){return e.children},Bj.DFS)}var Gj=n(8990),qj=n.n(Gj);const Yj=function(e,t){var n=t.valueKey,i=void 0===n?"value":n,r=t.focusableQueryKey,s=void 0===r?'[data-key][aria-disabled="false"]':r,o=t.defaultLayer,l=void 0===o?0:o,c=t.focusToOption,d=void 0===c||c,u=t.data,h=t.target,p=t.rtl,m=t.callback,f=t.getParent,g=void 0===f?function(e){return null===e||void 0===e?void 0:e.parent}:f,_=(0,a.useState)(e),v=_[0],b=_[1],y=(0,a.useState)(l),x=y[0],w=y[1],E=(0,a.useState)([]),S=E[0],C=E[1],T=CS(function(e,t){if(d){var n=y_()(h)?h():h,i=null===n||void 0===n?void 0:n.querySelector('[data-key="'+e+'"]');null===i||void 0===i||i.focus()}null===m||void 0===m||m(e,t)}),N=CS(function(){var e=y_()(h)?h():h,t=null===e||void 0===e?void 0:e.querySelector('[data-layer="'+x+'"]');return t||(null===e||void 0===e?void 0:e.querySelector('[role="listbox"]'))}),A=CS(function(e){for(var t=function(){if(!h)return[];var e=S;if(x<1){var t,n,r=y_()(h)?h():h,a=null===r||void 0===r?void 0:r.querySelector('[data-layer="0"]');e=a?Array.from(null!==(t=a.querySelectorAll(s))&&void 0!==t?t:[]).map(function(e){var t;return null===(t=e.dataset)||void 0===t?void 0:t.key}):Array.from(null!==(n=null===r||void 0===r?void 0:r.querySelectorAll(s))&&void 0!==n?n:[]).map(function(e){var t;return null===(t=e.dataset)||void 0===t?void 0:t.key})}return e.map(function(e){return qj()(u,function(t){return""+t[i]===e})})}(),n=0;n<t.length;n+=1){var r;if(Dj(v,null===(r=t[n])||void 0===r?void 0:r[i]))return void e(t,n)}e(t,-1)}),k=CS(function(e,t,n){var i=N(),r=null===i||void 0===i?void 0:i.querySelector('[data-key="'+t+'"]');if(n&&i){var a=i.scrollHeight,s=i.clientHeight;i.scrollTop="top"===e?a-s:0}else{if(r&&i)if(!function(e,t,n){if(!function(e){var t=e.scrollHeight,n=e.clientHeight;return t>n}(t))return!0;var i=e.getBoundingClientRect(),r=i.top,a=i.bottom,s=i.height,o=t.getBoundingClientRect(),l=o.top,c=o.bottom;if("top"===n)return r+s>l;return a-s<c}(r,i,e))!function(e,t,n){var i=e.scrollTop;e.scrollTop="top"===t?i-n:i+n}(i,e,Yg(r))}}),R=CS(function(e){A(function(t,n){var r=n+2>t.length,a=t[r?0:n+1];$x()(a)||(b(a[i]),T(a[i],e),k("bottom",a[i],r))})}),I=CS(function(e){A(function(t,n){var r=0===n,a=t[r?t.length-1:n-1];$x()(a)||(b(a[i]),T(a[i],e),k("top",a[i],r))})}),O=function(e){var t,n=y_()(h)?h():h,i=null===n||void 0===n?void 0:n.querySelector('[data-layer="'+e+'"]');return i?null===(t=Array.from(i.querySelectorAll(s)))||void 0===t?void 0:t.map(function(e){var t;return null===(t=e.dataset)||void 0===t?void 0:t.key}):null},j=CS(function(e){var t=x+1,n=O(t);n&&(C(n),w(t),b(n[0]),T(n[0],e))}),P=CS(function(e){var t=x-1,n=O(t);if(n){var r;C(n),w(t);var a=function(e,t){var n=function(e){void 0===e&&(e=[]);for(var i=0;i<e.length;i+=1){var r=e[i];if(Array.isArray(r.children)){var a=n(r.children);if(a)return a}if(t(r))return r}};return n(e)}(u,function(e){return e[i]===v}),s=null===(r=g(a))||void 0===r?void 0:r[i];s&&(b(s),T(s,e))}}),D=CS(function(e){var t;JN(e,((t={down:R,up:I})[p?"left":"right"]=j,t[p?"right":"left"]=P,t))});return{focusItemValue:v,setFocusItemValue:b,layer:x,setLayer:w,keys:S,setKeys:C,onKeyDown:D}};const Xj=function(e,t){var n=t.labelKey,i=t.searchBy,r=t.callback,s=(0,a.useState)(""),o=s[0],l=s[1],c=(0,a.useCallback)(function(){l("")},[]),d=(0,a.useCallback)(function(e,t){var r="object"===typeof e?null===e||void 0===e?void 0:e[n]:String(e),s=$x()(t)?o:t;return"function"===typeof i?i(s,r,e):function(e,t){if(!YN()(t))return!0;var n=t.toLocaleLowerCase();return"string"===typeof e||"number"===typeof e?(""+e).toLocaleLowerCase().indexOf(n)>=0:!!a.isValidElement(e)&&XN(e).join("").toLocaleLowerCase().indexOf(n)>=0}(r,s)},[n,i,o]),u=(0,a.useMemo)(function(){return e.filter(function(e){return d(e,o)})},[d,e,o]);return{searchKeyword:o,filteredData:u,checkShouldDisplay:d,handleSearch:function(t,n){var i=e.filter(function(e){return d(e,t)});l(t),null===r||void 0===r||r(t,i,n)},resetSearch:c}};const Kj=function(e){var t=e.toggle,n=void 0===t||t,i=e.trigger,r=e.target,a=e.overlay,s=e.searchInput,o=e.active,l=e.readOnly,c=e.disabled,d=e.loading,u=e.onExit,h=e.onKeyDown,p=e.onMenuKeyDown,m=e.onMenuPressEnter,f=e.onMenuPressBackspace,g=CS(function(){var e,t,n,r;null===(e=i.current)||void 0===e||null===(t=e.close)||void 0===t||t.call(e),null===(n=i.current)||void 0===n||null===(r=n.focus)||void 0===r||r.call(n)}),_=CS(function(){var e,t;null===(e=i.current)||void 0===e||null===(t=e.open)||void 0===t||t.call(e)}),v=CS(function(){o?g():_()});return CS(function(e){if(!(l||c||d)){var t,i;if(e.target===(null===r||void 0===r?void 0:r.current)&&(n&&e.key===lE&&v(),e.key===dE&&(null===u||void 0===u||u(e))),null!==a&&void 0!==a&&a.current)if(null===p||void 0===p||p(e),e.key===lE&&(null===m||void 0===m||m(e)),e.key===dE&&e.target!==(null===s||void 0===s?void 0:s.current)&&(null===f||void 0===f||f(e)),1===e.key.length&&/\w/.test(e.key))if("INPUT"!==(null===(t=e.target)||void 0===t?void 0:t.tagName))null===s||void 0===s||null===(i=s.current)||void 0===i||i.focus();e.key!==uE&&e.key!==cE||g(),null===h||void 0===h||h(e)}})};var Jj=n(620),Zj=n.n(Jj),Qj=n(2520),$j=n.n(Qj),eP=n(7273),tP=n.n(eP),nP=["rowHeight","as","itemSize","scrollShadow"],iP=a.forwardRef(function(e,t){return a.createElement(wT,Vf({scrollShadow:!0,ref:t},e))});const rP=a.forwardRef(function(e,t){var n=e.rowHeight,i=e.as,r=void 0===i?tT:i,s=e.itemSize,o=e.scrollShadow,l=yn(e,nP),c=(0,a.useRef)(null),d=_x().rtl;(0,a.useImperativeHandle)(t,function(){return{resetAfterIndex:function(e,t){var n,i;null===(n=c.current)||void 0===n||null===(i=n.resetAfterIndex)||void 0===i||i.call(n,e,t)},scrollTo:function(e){var t,n;null===(t=c.current)||void 0===t||null===(n=t.scrollTo)||void 0===n||n.call(t,e)},scrollToItem:function(e,t){var n,i;null===(n=c.current)||void 0===n||null===(i=n.scrollToItem)||void 0===i||i.call(n,e,t)},scrollToRow:function(e){var t,n;null===(t=c.current)||void 0===t||null===(n=t.scrollToItem)||void 0===n||n.call(t,e)}}});var u=(0,a.useCallback)(function(e){return"function"===typeof n?n({index:e}):n||0},[n]),h=Vf({itemSize:(0,a.useMemo)(function(){return"function"===typeof s?s:function(){return s}},[s])},l);return n&&(h.itemSize=r===tT?u:n),a.createElement(r,Vf({ref:c,direction:d?"rtl":"ltr"},h,{outerElementType:o?iP:void 0}))});function aP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sP=function(e,t){return a.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){aP(e,t,n[t])})}return e}({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:t},e),a.createElement("path",{d:"m4 6 4 4 4-4z"}))};const oP=fv({as:(0,a.forwardRef)(sP),ariaLabel:"arrow down",category:"direction",displayName:"ArrowDown"});var lP,cP,dP=["as","classPrefix","children","className"],uP=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.classPrefix,s=void 0===r?"dropdown-menu-group":r,o=e.children,l=e.className,c=yn(e,dP),d=j_(s),u=d.withClassPrefix,h=d.prefix,p=(0,d.merge)(l,u());return a.createElement(i,Vf({role:"group"},c,{ref:t,className:p}),a.createElement("div",{className:h(lP||(lP=J_(["title"]))),tabIndex:-1},a.createElement("span",null,o),a.createElement(oP,{"aria-hidden":!0,className:h(cP||(cP=J_(["caret"])))})))});uP.displayName="ListItemGroup";const hP=uP;const pP=function(){var e=(0,a.useContext)(DE),t=e.id,n=e.hasLabel;return{id:t,popupType:e.popupType,multiple:e.multiple,labelId:n?t+"-label":void 0}};var mP=["as","classPrefix","className","children","query","renderMark"];function fP(e,t){return a.createElement("mark",{key:t,className:"rs-highlight-mark"},e)}var gP=a.forwardRef(function(e,t){var n=_x("Highlight",e).propsWithDefaults,i=n.as,r=void 0===i?"div":i,s=n.classPrefix,o=void 0===s?"highlight":s,l=n.className,c=n.children,d=n.query,u=n.renderMark,h=void 0===u?fP:u,p=yn(n,mP),m=j_(o),f=m.withClassPrefix,g=(0,m.merge)(l,f()),_=KN(c);return a.createElement(r,Vf({ref:t,className:g},p),function(e,t){var n=t.query,i=t.renderMark;if(!n||!e)return e;for(var r=Array.isArray(n)?n:[n],a=new RegExp(r.map(function(e){return e.replace(/([\^\$\.\|\*\+\?\{\\\[\(\)])/g,"\\$1")}).join("|"),"ig"),s=[],o=e.split(a),l=e.match(a),c=0;c<o.length;c++)o[c]&&s.push(o[c]),null!==l&&void 0!==l&&l[c]&&s.push(i(l[c],c));return s}(_,{query:d,renderMark:h}))});gP.displayName="Highlight",gP.propTypes={className:h_().string,classPrefix:h_().string,as:h_().elementType};const _P=gP;var vP=["data","groupBy","maxHeight","activeItemValues","disabledItemValues","classPrefix","valueKey","labelKey","virtualized","listProps","listRef","className","style","focusItemValue","listItemClassPrefix","listItemAs","listItemProps","rowHeight","rowGroupHeight","query","renderMenuGroup","renderMenuItem","onGroupTitleClick","onSelect"],bP=a.forwardRef(function(e,t){var n=e.data,i=void 0===n?[]:n,r=e.groupBy,s=e.maxHeight,o=void 0===s?320:s,l=e.activeItemValues,c=void 0===l?[]:l,d=e.disabledItemValues,u=void 0===d?[]:d,h=e.classPrefix,p=void 0===h?"listbox":h,m=e.valueKey,f=void 0===m?"value":m,g=e.labelKey,_=void 0===g?"label":g,v=e.virtualized,b=e.listProps,y=e.listRef,x=e.className,w=e.style,E=e.focusItemValue,S=e.listItemClassPrefix,C=e.listItemAs,T=e.listItemProps,N=e.rowHeight,A=void 0===N?36:N,k=e.rowGroupHeight,R=void 0===k?48:k,I=e.query,O=e.renderMenuGroup,j=e.renderMenuItem,P=e.onGroupTitleClick,D=e.onSelect,L=yn(e,vP),M=j_(p),U=M.withClassPrefix,F=M.prefix,B=M.merge,V=M.rootPrefix,z="undefined"!==typeof r,H=B(x,U("items",{grouped:z})),W=pP(),G=W.id,q=W.labelId,Y=W.popupType,X=W.multiple,K=(0,a.useRef)(null),J=(0,a.useRef)(null),Z=(0,a.useState)([]),Q=Z[0],$=Z[1],ee=CS(function(e,t){var n=Q.filter(function(t){return t!==e});n.length===Q.length&&n.push(e),$(n),null===P||void 0===P||P(t)}),te=CS(function(e,t,n,i){null===D||void 0===D||D(t,e,n,i)}),ne=function(e,t){var n=e[t];return z&&n[WN]&&0!==t?R:A};(0,a.useEffect)(function(){var e=K.current;if(e){var t=e.querySelector("."+F("item-focus"));if(t||(t=e.querySelector("."+F("item-active"))),t){var n=Gg(t,e),i=Hg(e),r=Yg(e);i>n.top?Hg(e,Math.max(0,n.top-20)):n.top>i+r&&Hg(e,Math.max(0,n.top-r+32))}}},[E,K,F]);var ie=z?i.filter(function(e){var t;if(e[WN])return!0;var n=Zx()(e,r,"")||(null===(t=e.parent)||void 0===t?void 0:t[Hj]);return!Q.includes(n)}):i,re=ie.length,ae=function(e){var t=e.index,n=void 0===t?0:t,i=e.style,r=e.data,s=e.item||r[n],o=s[f],l=s[_],d=I?a.createElement(_P,{query:I,as:"span"},l):l;if($x()(d)&&!s[WN])throw Error('labelKey "'+_+'" is not defined in "data" : '+n);var h=Zj()(o)||mT()(o)?o:n;if(z&&s[WN]){var p=s[Hj];return a.createElement(hP,{style:i,classPrefix:"picker-menu-group",className:Jf()({folded:Q.some(function(e){return e===p})}),key:"group-"+p,onClick:ee.bind(null,p)},O?O(p,s):p)}if($x()(o)&&!$x()(s[WN]))throw Error('valueKey "'+f+'" is not defined in "data" : '+n+" ");var m=null===u||void 0===u?void 0:u.some(function(e){return Dj(e,o)}),g=null===c||void 0===c?void 0:c.some(function(e){return Dj(e,o)}),v=!$x()(E)&&Dj(E,o);return a.createElement(C,Vf({"aria-posinset":n+1,"aria-setsize":re,style:i,key:h,disabled:m,active:g,focus:v,value:o,classPrefix:S,onSelect:te.bind(null,s)},tP()(T,function(e){return void 0!==e})),j?j(d,s):d)};return OC(function(){var e,t,n=$j()(ie,function(e){return e[f]===(null===c||void 0===c?void 0:c[0])});null===(e=J.current)||void 0===e||null===(t=e.scrollToItem)||void 0===t||t.call(e,n)}),a.createElement("div",Vf({role:"listbox",id:G+"-"+Y,"aria-labelledby":q,"aria-multiselectable":X},L,{className:H,ref:Ev(K,t),style:Vf({},w,{maxHeight:o})}),v?a.createElement(LC,{defaultHeight:o,style:{width:"auto",height:"auto"}},function(e){var t=e.height;return a.createElement(rP,Vf({as:tT,ref:Ev(J,y),height:t||o,itemCount:re,itemData:ie,itemSize:ne.bind(undefined,ie),className:V("virt-list")},b),ae)}):ie.map(function(e,t){return ae({index:t,item:e})}))});bP.displayName="Listbox";const yP=bP;var xP,wP=["as","role","classPrefix","active","children","className","disabled","focus","value","onKeyDown","onSelect","renderItem"],EP=a.forwardRef(function(e,t){var n=e.as,i=void 0===n?"div":n,r=e.role,s=void 0===r?"option":r,o=e.classPrefix,l=void 0===o?"dropdown-menu-item":o,c=e.active,d=e.children,u=e.className,h=e.disabled,p=e.focus,m=e.value,f=e.onKeyDown,g=e.onSelect,_=e.renderItem,v=yn(e,wP),b=pP().id,y=CS(function(e){e.preventDefault(),h||null===g||void 0===g||g(m,e)}),x=j_(l),w=x.withClassPrefix,E=x.merge,S=x.rootPrefix,C=w({active:c,focus:p,disabled:h});return a.createElement(i,Vf({role:s,"aria-selected":c,"aria-disabled":h,id:b?b+"-opt-"+m:void 0,"data-key":m},v,{ref:t,className:E(u,S(xP||(xP=J_(["picker-list-item"])))),tabIndex:-1,onKeyDown:h?null:f,onClick:y}),a.createElement("span",{className:C},_?_(m):d))});EP.displayName="ListItem";const SP=EP;var CP=a.forwardRef(function(e,t){return a.createElement(Px,Vf({},e,{ref:t,as:"div",ripple:!1}))});CP.displayName="ToggleButton";const TP=CP;function NP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var AP=function(e,t){return a.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){NP(e,t,n[t])})}return e}({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:t},e),a.createElement("path",{d:"M3.166 10.872a.5.5 0 0 0 .706-.037L8 6.248l4.128 4.587a.5.5 0 1 0 .743-.669l-4.5-5a.5.5 0 0 0-.744 0l-4.5 5a.5.5 0 0 0 .037.706z"}))};const kP=fv({as:(0,a.forwardRef)(AP),ariaLabel:"arrow up line",category:"direction",displayName:"ArrowUpLine"});function RP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var IP=function(e,t){return a.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){RP(e,t,n[t])})}return e}({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:t},e),a.createElement("path",{d:"M3.166 5.128a.5.5 0 0 1 .706.037L8 9.752l4.128-4.587a.5.5 0 1 1 .743.669l-4.5 5a.5.5 0 0 1-.744 0l-4.5-5a.5.5 0 0 1 .037-.706z"}))};const OP=fv({as:(0,a.forwardRef)(IP),ariaLabel:"arrow down line",category:"direction",displayName:"ArrowDownLine"});function jP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var PP=function(e,t){return a.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){jP(e,t,n[t])})}return e}({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:t},e),a.createElement("path",{d:"M10.872 12.834a.5.5 0 0 0-.037-.706L6.248 8l4.587-4.128a.5.5 0 1 0-.669-.743l-5 4.5a.5.5 0 0 0 0 .744l5 4.5a.5.5 0 0 0 .706-.037z"}))};const DP=fv({as:(0,a.forwardRef)(PP),ariaLabel:"arrow left line",category:"direction",displayName:"ArrowLeftLine"});function LP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MP=function(e,t){return a.createElement("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){LP(e,t,n[t])})}return e}({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",ref:t},e),a.createElement("path",{d:"M5.128 3.166a.5.5 0 0 0 .037.706L9.752 8l-4.587 4.128a.5.5 0 1 0 .669.743l5-4.5a.5.5 0 0 0 0-.744l-5-4.5a.5.5 0 0 0-.706.037z"}))};const UP=fv({as:(0,a.forwardRef)(MP),ariaLabel:"arrow right line",category:"direction",displayName:"ArrowRightLine"});function FP(e){var t=_x().rtl;return(0,a.useMemo)(function(){switch(!0){case/^top/.test(e):return kP;case/^right/.test(e):return t?DP:UP;case/^left/.test(e):return t?UP:DP;case/^bottom/.test(e):default:return OP}},[e,t])}var BP,VP=["active","as","classPrefix","children","caret","className","disabled","readOnly","plaintext","hasValue","loading","cleanable","tabIndex","inputValue","focusItemValue","onClean","placement","caretComponent","caretAs","label","name"],zP=a.forwardRef(function(e,t){var n=e.active,i=e.as,r=void 0===i?TP:i,s=e.classPrefix,o=void 0===s?"picker-toggle":s,l=e.children,c=e.caret,d=void 0===c||c,u=e.className,h=e.disabled,p=e.readOnly,m=e.plaintext,f=e.hasValue,g=e.loading,_=void 0!==g&&g,v=e.cleanable,b=e.tabIndex,y=void 0===b?0:b,x=e.inputValue,w=e.focusItemValue,E=e.onClean,S=e.placement,C=void 0===S?"bottomStart":S,T=e.caretComponent,N=e.caretAs,A=void 0===N?T:N,k=e.label,R=e.name,I=yn(e,VP),O=(0,a.useRef)(null),j=j_(o),P=j.withClassPrefix,D=j.merge,L=j.prefix,M=pP(),U=M.id,F=M.labelId,B=M.popupType,V=(0,a.useMemo)(function(){return"number"===typeof x||"string"===typeof x?x:Array.isArray(x)?x.join(","):""},[x]),z=D(u,P({active:n})),H=CS(function(e){var t;e.stopPropagation(),null===E||void 0===E||E(e),null===(t=O.current)||void 0===t||t.focus()}),W=FP(C),G=null!==A&&void 0!==A?A:W;if(m)return a.createElement(yS,{ref:t,localeKey:"notSelected"},f?l:null);var q=v&&f&&!p;return a.createElement(r,Vf({role:"combobox",id:U,"aria-haspopup":B,"aria-expanded":n,"aria-disabled":h,"aria-controls":U+"-"+B,"aria-labelledby":F,"aria-describedby":U+"-describe","aria-activedescendant":n&&w?U+"-opt-"+w:void 0},I,{ref:Ev(O,t),disabled:h,tabIndex:h?void 0:y,className:z}),a.createElement(Gx,null,k&&a.createElement(Gx.Item,null,a.createElement(aA,{as:"span",className:L("label"),id:F},k)),a.createElement(Gx.Item,{grow:1,style:{overflow:"hidden"}},a.createElement("input",{readOnly:!0,"aria-hidden":!0,tabIndex:-1,"data-testid":"picker-toggle-input",name:R,value:V,className:L("textbox","read-only"),style:{pointerEvents:"none"}}),l?a.createElement("span",{className:L(f?"value":"placeholder"),id:U+"-describe","data-testid":"picker-describe"},l):null),a.createElement(Gx.Item,{className:L(BP||(BP=J_(["indicator"])))},a.createElement(fA,{as:a.Fragment,loading:_,caretAs:d?G:null,onClose:H,showCleanButton:q}))))});zP.displayName="PickerToggle";const HP=zP;var WP,GP=["as","appearance","data","valueKey","labelKey","value","classPrefix","placeholder","defaultValue","disabled","cleanable","placement","menuClassName","menuAutoWidth","menuMaxHeight","menuStyle","groupBy","locale","toggleAs","style","searchable","disabledItemValues","virtualized","listProps","id","onGroupTitleClick","searchBy","onEntered","onExited","onClean","onChange","onSelect","onSearch","sort","renderValue","renderMenu","renderMenuGroup","renderMenuItem","renderExtraFooter"],qP=[],YP=a.forwardRef(function(e,t){var n=_x("SelectPicker",e).propsWithDefaults,i=n.as,r=void 0===i?"div":i,s=n.appearance,o=void 0===s?"default":s,l=n.data,c=void 0===l?qP:l,d=n.valueKey,u=void 0===d?"value":d,h=n.labelKey,p=void 0===h?"label":h,m=n.value,f=n.classPrefix,g=void 0===f?"picker":f,_=n.placeholder,v=n.defaultValue,b=n.disabled,y=n.cleanable,x=void 0===y||y,w=n.placement,E=void 0===w?"bottomStart":w,S=n.menuClassName,C=n.menuAutoWidth,T=void 0===C||C,N=n.menuMaxHeight,A=void 0===N?320:N,k=n.menuStyle,R=n.groupBy,I=n.locale,O=n.toggleAs,j=n.style,P=n.searchable,D=void 0===P||P,L=n.disabledItemValues,M=void 0===L?qP:L,U=n.virtualized,F=n.listProps,B=n.id,V=n.onGroupTitleClick,z=n.searchBy,H=n.onEntered,W=n.onExited,G=n.onClean,q=n.onChange,Y=n.onSelect,X=n.onSearch,K=n.sort,J=n.renderValue,Z=n.renderMenu,Q=n.renderMenuGroup,$=n.renderMenuItem,ee=n.renderExtraFooter,te=yn(n,GP),ne=GN(t),ie=ne.trigger,re=ne.root,ae=ne.target,se=ne.overlay,oe=ne.list,le=ne.searchInput,ce=yE(m,v),de=ce[0],ue=ce[1],he=Yj(de,{data:c,valueKey:u,target:function(){return se.current}}),pe=he.focusItemValue,me=he.setFocusItemValue,fe=he.onKeyDown,ge=Xj(c,{labelKey:p,searchBy:z,callback:function(e,t,n){var i;me(null===t||void 0===t||null===(i=t[0])||void 0===i?void 0:i[u]),null===X||void 0===X||X(e,n)}}),_e=ge.searchKeyword,ve=ge.filteredData,be=ge.resetSearch,ye=ge.handleSearch,xe=(0,a.useState)(!1),we=xe[0],Ee=xe[1],Se=CS(function(){var e,t;null===(e=ie.current)||void 0===e||null===(t=e.close)||void 0===t||t.call(e)}),Ce=CS(function(e,t,n){var i;null===Y||void 0===Y||Y(e,t,n),null===(i=ae.current)||void 0===i||i.focus()}),Te=CS(function(e,t){null===q||void 0===q||q(e,t)}),Ne=CS(function(e){if(pe){var t=c.find(function(e){return Dj(e[u],pe)});ue(pe),Ce(pe,t,e),Te(pe,e),Se()}}),Ae=CS(function(e,t,n){ue(e),me(e),Ce(e,t,n),Te(e,n),Se()}),ke=CS(function(e){!b&&x&&(ue(null),me(de),Te(null,e))}),Re=Kj(Vf({toggle:!pe||!we,trigger:ie,target:ae,overlay:se,searchInput:le,active:we,onExit:ke,onMenuKeyDown:fe,onMenuPressEnter:Ne},te)),Ie=CS(function(){be(),Ee(!1),null===X||void 0===X||X(""),me(null)}),Oe=CS(function(){Ee(!0),me(de)}),je=c.find(function(e){return Dj(e[u],de)}),Pe=!!je||!Q_()(de)&&y_()(J),De=j_(g),Le=De.prefix,Me=De.merge,Ue=_;null!==je&&void 0!==je&&je[p]&&(Ue=je[p]),!Q_()(de)&&y_()(J)&&(Ue=J(de,je,Ue),Q_()(Ue)&&(Pe=!1));var Fe=iA(Vf({},e,{classPrefix:g,appearance:o,hasValue:Pe,name:"select",cleanable:x})),Be=Fe[0],Ve=Fe[1];return a.createElement(ME,{id:B,pickerProps:ev()(e,PE),ref:ie,placement:E,onEntered:D_(Oe,H),onExited:D_(Ie,W),speaker:function(e,t){var n=e.left,i=e.top,r=e.className,s=Me(r,S,Le("select-menu")),o=Vf({},k,{left:n,top:i}),l=ve;R?l=Wj(l,R,K):"function"===typeof K&&(l=l.sort(K(!1)));var c=l.length?a.createElement(yP,{listProps:F,listRef:oe,disabledItemValues:M,valueKey:u,labelKey:p,renderMenuGroup:Q,renderMenuItem:$,maxHeight:A,classPrefix:"picker-select-menu",listItemClassPrefix:"picker-select-menu-item",listItemAs:SP,activeItemValues:[de],focusItemValue:pe,data:l,query:_e,groupBy:R,onSelect:Ae,onGroupTitleClick:V,virtualized:U}):a.createElement("div",{className:Le(WP||(WP=J_(["none"])))},null===I||void 0===I?void 0:I.noResultsText);return a.createElement(tA,{ref:Ev(se,t),autoWidth:T,className:s,style:o,onKeyDown:Re,target:ie},D&&a.createElement(Oj,{placeholder:null===I||void 0===I?void 0:I.searchPlaceholder,onChange:ye,value:_e,inputRef:le}),Z?Z(c):c,null===ee||void 0===ee?void 0:ee())}},a.createElement(r,{className:Be,style:j,ref:re},a.createElement(HP,Vf({},w_()(te,[].concat(jE,Ve)),{ref:ae,appearance:o,onClean:D_(ke,G),onKeyDown:Re,as:O,disabled:b,cleanable:x&&!b,hasValue:Pe,inputValue:null!==de&&void 0!==de?de:"",focusItemValue:pe,active:we,placement:E}),Ue||(null===I||void 0===I?void 0:I.placeholder))))});YP.displayName="SelectPicker",YP.propTypes=Vf({},_A,{locale:h_().any,appearance:Tx(["default","subtle"]),menuAutoWidth:h_().bool,menuMaxHeight:h_().number,renderMenu:h_().func,renderMenuItem:h_().func,renderMenuGroup:h_().func,onSelect:h_().func,onGroupTitleClick:h_().func,onSearch:h_().func,groupBy:h_().any,sort:h_().func,searchable:h_().bool,virtualized:h_().bool,searchBy:h_().func});const XP=YP,KP=JSON.parse('[{"label":"None","value":""},{"label":"Afghanistan","value":"+93"},{"label":"Albania","value":"+355"},{"label":"Algeria","value":"+213"},{"label":"Andorra","value":"+376"},{"label":"Angola","value":"+244"},{"label":"Antigua and Barbuda","value":"+1-268"},{"label":"Argentina","value":"+54"},{"label":"Armenia","value":"+374"},{"label":"Australia","value":"+61"},{"label":"Austria","value":"+43"},{"label":"Azerbaijan","value":"+994"},{"label":"Bahamas","value":"+1-242"},{"label":"Bahrain","value":"+973"},{"label":"Bangladesh","value":"+880"},{"label":"Barbados","value":"+1-246"},{"label":"Belarus","value":"+375"},{"label":"Belgium","value":"+32"},{"label":"Belize","value":"+501"},{"label":"Benin","value":"+229"},{"label":"Bhutan","value":"+975"},{"label":"Bolivia","value":"+591"},{"label":"Bosnia and Herzegovina","value":"+387"},{"label":"Botswana","value":"+267"},{"label":"Brazil","value":"+55"},{"label":"Brunei","value":"+673"},{"label":"Bulgaria","value":"+359"},{"label":"Burkina Faso","value":"+226"},{"label":"Burundi","value":"+257"},{"label":"Cabo Verde","value":"+238"},{"label":"Cambodia","value":"+855"},{"label":"Cameroon","value":"+237"},{"label":"Canada","value":"+1"},{"label":"Central African Republic","value":"+236"},{"label":"Chad","value":"+235"},{"label":"Chile","value":"+56"},{"label":"China","value":"+86"},{"label":"Colombia","value":"+57"},{"label":"Comoros","value":"+269"},{"label":"Congo (Congo-Brazzaville)","value":"+242"},{"label":"Costa Rica","value":"+506"},{"label":"Croatia","value":"+385"},{"label":"Cuba","value":"+53"},{"label":"Cyprus","value":"+357"},{"label":"Czechia (Czech Republic)","value":"+420"},{"label":"Democratic Republic of the Congo","value":"+243"},{"label":"Denmark","value":"+45"},{"label":"Djibouti","value":"+253"},{"label":"Dominica","value":"+1-767"},{"label":"Dominican Republic","value":"+1-809"},{"label":"Ecuador","value":"+593"},{"label":"Egypt","value":"+20"},{"label":"El Salvador","value":"+503"},{"label":"Equatorial Guinea","value":"+240"},{"label":"Eritrea","value":"+291"},{"label":"Estonia","value":"+372"},{"label":"Eswatini (fmr. \'Swaziland\')","value":"+268"},{"label":"Ethiopia","value":"+251"},{"label":"Fiji","value":"+679"},{"label":"Finland","value":"+358"},{"label":"France","value":"+33"},{"label":"Gabon","value":"+241"},{"label":"Gambia","value":"+220"},{"label":"Georgia","value":"+995"},{"label":"Germany","value":"+49"},{"label":"Ghana","value":"+233"},{"label":"Greece","value":"+30"},{"label":"Grenada","value":"+1-473"},{"label":"Guatemala","value":"+502"},{"label":"Guinea","value":"+224"},{"label":"Guinea-Bissau","value":"+245"},{"label":"Guyana","value":"+592"},{"label":"Haiti","value":"+509"},{"label":"Honduras","value":"+504"},{"label":"Hungary","value":"+36"},{"label":"Iceland","value":"+354"},{"label":"India","value":"+91"},{"label":"Indonesia","value":"+62"},{"label":"Iran","value":"+98"},{"label":"Iraq","value":"+964"},{"label":"Ireland","value":"+353"},{"label":"Israel","value":"+972"},{"label":"Italy","value":"+39"},{"label":"Jamaica","value":"+1-876"},{"label":"Japan","value":"+81"},{"label":"Jordan","value":"+962"},{"label":"Kazakhstan","value":"+7"},{"label":"Kenya","value":"+254"},{"label":"Kiribati","value":"+686"},{"label":"Kuwait","value":"+965"},{"label":"Kyrgyzstan","value":"+996"},{"label":"Laos","value":"+856"},{"label":"Latvia","value":"+371"},{"label":"Lebanon","value":"+961"},{"label":"Lesotho","value":"+266"},{"label":"Liberia","value":"+231"},{"label":"Libya","value":"+218"},{"label":"Liechtenstein","value":"+423"},{"label":"Lithuania","value":"+370"},{"label":"Luxembourg","value":"+352"},{"label":"Madagascar","value":"+261"},{"label":"Malawi","value":"+265"},{"label":"Malaysia","value":"+60"},{"label":"Maldives","value":"+960"},{"label":"Mali","value":"+223"},{"label":"Malta","value":"+356"},{"label":"Marshall Islands","value":"+692"},{"label":"Mauritania","value":"+222"},{"label":"Mauritius","value":"+230"},{"label":"Mexico","value":"+52"},{"label":"Micronesia","value":"+691"},{"label":"Moldova","value":"+373"},{"label":"Monaco","value":"+377"},{"label":"Mongolia","value":"+976"},{"label":"Montenegro","value":"+382"},{"label":"Morocco","value":"+212"},{"label":"Mozambique","value":"+258"},{"label":"Myanmar (formerly Burma)","value":"+95"},{"label":"Namibia","value":"+264"},{"label":"Nauru","value":"+674"},{"label":"Nepal","value":"+977"},{"label":"Netherlands","value":"+31"},{"label":"New Zealand","value":"+64"},{"label":"Nicaragua","value":"+505"},{"label":"Niger","value":"+227"},{"label":"Nigeria","value":"+234"},{"label":"North Korea","value":"+850"},{"label":"North Macedonia","value":"+389"},{"label":"Norway","value":"+47"},{"label":"Oman","value":"+968"},{"label":"Pakistan","value":"+92"},{"label":"Palau","value":"+680"},{"label":"Palestine State","value":"+970"},{"label":"Panama","value":"+507"},{"label":"Papua New Guinea","value":"+675"},{"label":"Paraguay","value":"+595"},{"label":"Peru","value":"+51"},{"label":"Philippines","value":"+63"},{"label":"Poland","value":"+48"},{"label":"Portugal","value":"+351"},{"label":"Qatar","value":"+974"},{"label":"Romania","value":"+40"},{"label":"Russia","value":"+7"},{"label":"Rwanda","value":"+250"},{"label":"Saint Kitts and Nevis","value":"+1-869"},{"label":"Saint Lucia","value":"+1-758"},{"label":"Saint Vincent and the Grenadines","value":"+1-784"},{"label":"Samoa","value":"+685"},{"label":"San Marino","value":"+378"},{"label":"Sao Tome and Principe","value":"+239"},{"label":"Saudi Arabia","value":"+966"},{"label":"Senegal","value":"+221"},{"label":"Serbia","value":"+381"},{"label":"Seychelles","value":"+248"},{"label":"Sierra Leone","value":"+232"},{"label":"Singapore","value":"+65"},{"label":"Slovakia","value":"+421"},{"label":"Slovenia","value":"+386"},{"label":"Solomon Islands","value":"+677"},{"label":"Somalia","value":"+252"},{"label":"South Africa","value":"+27"},{"label":"South Korea","value":"+82"},{"label":"South Sudan","value":"+211"},{"label":"Spain","value":"+34"},{"label":"Sri Lanka","value":"+94"},{"label":"Sudan","value":"+249"},{"label":"Suriname","value":"+597"},{"label":"Sweden","value":"+46"},{"label":"Switzerland","value":"+41"},{"label":"Syria","value":"+963"},{"label":"Taiwan","value":"+886"},{"label":"Tajikistan","value":"+992"},{"label":"Tanzania","value":"+255"},{"label":"Thailand","value":"+66"},{"label":"Timor-Leste","value":"+670"},{"label":"Togo","value":"+228"},{"label":"Tonga","value":"+676"},{"label":"Trinidad and Tobago","value":"+1-868"},{"label":"Tunisia","value":"+216"},{"label":"Turkey","value":"+90"},{"label":"Turkmenistan","value":"+993"},{"label":"Tuvalu","value":"+688"},{"label":"Uganda","value":"+256"},{"label":"Ukraine","value":"+380"},{"label":"United Arab Emirates","value":"+971"},{"label":"United Kingdom","value":"+44"},{"label":"United States of America","value":"+1"},{"label":"Uruguay","value":"+598"},{"label":"Uzbekistan","value":"+998"},{"label":"Vanuatu","value":"+678"},{"label":"Vatican City","value":"+379"},{"label":"Venezuela","value":"+58"},{"label":"Vietnam","value":"+84"},{"label":"Yemen","value":"+967"},{"label":"Zambia","value":"+260"},{"label":"Zimbabwe","value":"+263"}]'),JP="dial_code",ZP="phone_number";function QP(e){var t,n;let{name:i,defaultValue:r=null,disabled:s=!1,placeholder:o="Enter phone number",className:l="form-control",defaultCode:c="",value:d="",id:u="phone_number",onChange:h=()=>{},onBlur:p=()=>{}}=e;const[m]=(0,a.useState)(KP.map(e=>({label:"".concat(null===e||void 0===e?void 0:e.value," ").concat(Ya(null===e||void 0===e?void 0:e.label,15)),value:e.value}))),f=(0,a.useRef)(),g=(0,a.useRef)(),[_,v]=(0,a.useState)(c);function b(e){if(!e)return{code:c,number:""};if("string"===typeof e){const t=e.split(" ");let n=c,i="";return t.length<2?t[0].includes("+")?n=t[0]:i=t[0]:t[0].includes("+")?(n=t[0],i=t.slice(1,t.length).join("")):i=t.join(""),{code:n,number:i}}if("object"===typeof e&&!Array.isArray(e)){const{code:t,number:n}=e;return{code:t||c,number:n||""}}}const y=(e,t)=>{let n={code:"",number:""};var i;e===JP?(n.code=t,n.number=null===f||void 0===f||null===(i=f.current)||void 0===i?void 0:i.value):(n.code=_,n.number=t);h(Tn(Tn({},n),{},{phone_number:"".concat(n.code," ").concat(n.number)}))};return(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("div",{className:"d-inline",children:(0,Pa.jsx)(XP,{ref:g,name:i,disabled:s,onChange:e=>{v(e),y(JP,e)},className:"phone_input_dial_code",value:null===(t=b(d))||void 0===t?void 0:t.code,data:m,style:{width:"100px",height:"100%"},renderValue:e=>(0,Pa.jsx)("span",{children:e}),cleanable:!1})}),(0,Pa.jsx)("input",{type:"number",id:u,disabled:s,ref:f,style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},className:"phone_input_dial_number form-control",value:null===(n=b(d))||void 0===n?void 0:n.number,onChange:e=>{var t;y(ZP,null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},name:i,onBlur:p,placeholder:o})]})}const $P=n.p+"static/media/user1.935c20cbc3db3b4575a3.jpg";const eD={role:Rs.ROLE.SUPER_ADMIN},tD="admin/psychic",nD=async e=>await oc(eD).get("".concat(tD,"/details?o_id=").concat(e)),iD=()=>{const{t:e}=As(),t=ct(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)("false"),[u,h]=(0,a.useState)(""),[p]=(0,a.useState)(10),[m,f]=(0,a.useState)({}),[g,_]=(0,a.useState)(!0),[v,b]=(0,a.useState)(1),[y,x]=(0,a.useState)(!0),[w,E]=(0,a.useState)({}),[S,C]=(0,a.useState)(""),T=[{title:e("link_dashboard"),url:"/admin/dashboard"},{title:e("link_psychic"),url:""}],[N,A]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=setTimeout(()=>{if(w){x(!0);const e=new FormData;e.append("page",t.pgno),e.append("per_page",p),e.append("sort",JSON.stringify(m)),e.append("search",JSON.stringify(w)),e.append("global_search",S),(async e=>await oc(eD).post("".concat(tD,"/list"),e))(e).then(e=>{h(e.data.total_records),s(e&&e.data&&e.data.list&&Array.isArray(e.data.list)?e.data.list:[]),b(e&&e.data&&e.data.page?e.data.page:1),x(!1)}).catch(e=>{console.log("error ====> ",e)})}},300);return()=>clearTimeout(e)},[n,o,m,w,S,p,t.pgno]);const k=(t,n)=>{let i=Array.isArray(t)?t:[t];const r=new FormData;r.append("o_id",JSON.stringify(i)),r.append("status",n),zr().fire({customClass:"swal-wide",title:e("Are you sure you want to ".concat(0===n?"deactivate":"activate"," this Advisor ?")),icon:"warning",showCancelButton:!0,cancelButtonText:e("btn_cancel"),confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:e("btn_yes")}).then(e=>{e.isConfirmed&&(async e=>await oc(eD).patch("".concat(tD,"/change-status"),e))(r).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),l(!o)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error===>")})})};function R(t,n){zr().fire({customClass:"swal-wide",title:e("msg_are_you_sure"),text:e("you_not_be_able_to_revert_this"),icon:"warning",showCancelButton:!0,cancelButtonText:e("btn_cancel"),confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:e("btn_yes_delete")}).then(e=>{if(e.isConfirmed){const e=new FormData;let i=Array.isArray(t)?t:[t];e.append("o_id",JSON.stringify(i)),e.append("email",n),(async e=>await oc(eD).post("".concat(tD,"/delete"),e))({o_id:t}).then(e=>{l(!o),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})}})}const I=(e,t)=>{_(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,f(n)},O=(e,t)=>{let n=Tn({},w);String(t).length>0?n[e]=t:delete n[e],E(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:T}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:e("link_psychic")}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:S,placeholder:e("input_placeholder_search"),onChange:e=>{C(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{O("createdAt",e)},resetdate:N})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(eR,{data:Rs.showFilterlist,prepareSearch:O})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),C(""),O(),E({}),A(!N),Br()("#defaultstatus")[0].selectedIndex=0},className:"btn btn-warning float-right mr-2",children:e("btn_reset_filter")}),(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn mr-2",onClick:()=>i("/admin/psychic-management/psychic/add"),children:e("Create New Profile")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("list_heading_sno")})}),(0,Pa.jsx)("th",{style:{width:"50px"},children:e("list_heading_profile")}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("label_name")}),(0,Pa.jsx)(Ff,{sort:m,handleSort:I,column:"name"})]})}),(0,Pa.jsx)("th",{children:e("list_heading_email")}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("list_heading_address")}),(0,Pa.jsx)(Ff,{sort:m,handleSort:I,column:"location"})]})}),(0,Pa.jsx)("th",{className:"",children:e("list_heading_phone_number")}),(0,Pa.jsx)("th",{className:"created_head",children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("list_heading_created_date")}),(0,Pa.jsx)(Ff,{sort:m,handleSort:I,defaultSorting:g,column:"createdAt"})]})}),(0,Pa.jsx)("th",{className:"status_head",children:e("list_heading_status")}),(0,Pa.jsx)("th",{className:"action_head",children:e("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:y?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:14,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((n,r)=>(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:n?(v-1)*p+r+1:null}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.profile_image?(0,Pa.jsx)("div",{className:"row_image",children:(0,Pa.jsx)("img",{className:"rounded",alt:"profile",src:null===n||void 0===n?void 0:n.profile_image})}):"N/A"}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.name?(0,Pa.jsx)("div",{className:"d-flex",children:null!==n&&void 0!==n&&n.name?n.name:"N/A"}):(0,Pa.jsx)("div",{className:"d-flex",children:"N/A"})}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.email?n.email:"N/A"}),(0,Pa.jsxs)("td",{children:[null!==n&&void 0!==n&&n.address?Ya(os(null===n||void 0===n?void 0:n.address)):"N/A"," "]}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.phone_number?n.phone_number:"N/A"}),(0,Pa.jsx)("td",{children:n.createdAt?Ha(n.createdAt):"N/A"}),(0,Pa.jsx)("td",{children:1===n.status?(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{k(null===n||void 0===n?void 0:n._id,0)},children:e("btn_active")}):(0,Pa.jsx)("button",{className:"btn ripple btn-secondary",onClick:()=>{k(null===n||void 0===n?void 0:n._id,1)},children:e("btn_inactive")})}),(0,Pa.jsx)("td",{children:(0,Pa.jsxs)("div",{className:"d-flex",children:[(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{(e=>{i("/admin/psychic-management/psychic/view/".concat(e._id))})(n)},children:e("btn_view")}),(0,Pa.jsx)("button",{className:"btn ripple btn-success mlAction",onClick:()=>{(e=>{i("/admin/psychic-management/psychic/".concat(t.pgno,"/edit/").concat(e._id))})(n)},children:e("btn_edit")}),(0,Pa.jsxs)("div",{className:"btn-group mlAction",children:[(0,Pa.jsx)("button",{type:"button",className:"btn btn-dark dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",children:e("More")}),(0,Pa.jsx)("ul",{className:"dropdown-menu",children:(0,Pa.jsx)("li",{children:(0,Pa.jsx)("button",{className:"dropdown-item",onClick:()=>{R(null===n||void 0===n?void 0:n._id,null===n||void 0===n?void 0:n.email)},children:e("btn_delete")})})})]})]})})]},r)):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:14,className:"text-center",children:e("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[e("msg_total_records")," : ",u||"0"]})}),u&&u>0?(0,Pa.jsx)(Uf,{datalength:u,itemperpage:p,currentPage:v,setPage:b,pageRoute:[{name:"Psychic",path:"/admin/psychic-management/psychic/list"}]}):""]})})})]})},rD=e=>{const t=ot(),{t:n}=As(),i=ct(),[r,s]=(0,a.useState)({}),o=[{title:n("link_dashboard"),url:"/admin/dashboard"},{title:n("link_psychic"),url:"/admin/psychic-management/psychic/list/1"},{title:n("View"),url:""}];return(0,a.useEffect)(()=>{nD(i.id).then(e=>{s(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[i.id]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:o}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsxs)("div",{className:"card custom-card",children:[(0,Pa.jsx)("div",{className:"card-body",children:r&&Object.keys(r).length>0?(0,Pa.jsx)("div",{className:"row",children:(0,Pa.jsx)("div",{className:"col-lg-12 form-group",children:(0,Pa.jsx)("table",{id:"simple-table",className:"table  table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Image")}),(0,Pa.jsx)("td",{children:(0,Pa.jsx)("img",{src:r&&r.profile_image?r.profile_image:"N/A",alt:"profile",style:{height:"100px"}})})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Name")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&r.name?r.name:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("label_email")}),(0,Pa.jsx)("td",{children:r&&r.email?r.email:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("label_phone_number")}),(0,Pa.jsx)("td",{children:r&&null!==r&&void 0!==r&&r.phone_number?r.phone_number:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Expertise")}),(0,Pa.jsx)("td",{children:r&&null!==r&&void 0!==r&&r.expertise?r.expertise:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Experience")}),(0,Pa.jsx)("td",{children:r&&null!==r&&void 0!==r&&r.experience?r.experience:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Language spoken")}),(0,Pa.jsx)("td",{children:r&&null!==r&&void 0!==r&&r.language_spoken?r.language_spoken:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Chat Credit Rate")}),(0,Pa.jsx)("td",{children:r&&null!==r&&void 0!==r&&r.chat_credit_rate?r.chat_credit_rate:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Audio Call Credit Rate")}),(0,Pa.jsx)("td",{children:r&&null!==r&&void 0!==r&&r.audio_credit_rate?r.audio_credit_rate:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Video Call Credit Rate")}),(0,Pa.jsx)("td",{children:r&&null!==r&&void 0!==r&&r.video_credit_rate?r.video_credit_rate:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("City")}),(0,Pa.jsx)("td",{children:r&&null!==r&&void 0!==r&&r.city?r.city:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("State")}),(0,Pa.jsx)("td",{children:r&&null!==r&&void 0!==r&&r.state?r.state:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Pin code")}),(0,Pa.jsx)("td",{children:r&&null!==r&&void 0!==r&&r.pin_code?r.pin_code:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("label_address")}),(0,Pa.jsx)("td",{children:r&&r.address?os(r.address):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("list_heading_created_date")}),(0,Pa.jsx)("td",{children:r&&r.createdAt?Wa(r.createdAt):"N/A"})]})]})})})}):(0,Pa.jsx)(Bf,{})}),(0,Pa.jsx)("div",{className:"mt-2 back-button",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>t(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),n("btn_back")]})})]})})})]})},aD=e=>{const t=ot(),{t:n}=As(),[i,r]=(0,a.useState)(!1),[s,o]=(0,a.useState)(""),l=[{title:n("link_dashboard"),url:"/admin/dashboard"},{title:n("link_psychic"),url:"/admin/psychic-management/psychic/list/1"},{title:n("link_add"),url:""}],c=vf().shape({first_name:rf().trim().max(Rs.INPUT_LENGTH_40,es(n("max_length_error_dynamic"),[Rs.INPUT_LENGTH_40])).concat(sR).required("First name is required"),last_name:rf().trim().max(Rs.INPUT_LENGTH_40,es(n("max_length_error_dynamic"),[Rs.INPUT_LENGTH_40])).concat(sR).required("Last name is required"),email:lR,phone_number:aR,expertise:rf().trim().required("Expertise is required"),experience:sf().min(0,"err_min_limit").max(100,"err_max_limit").required(n("err_experience_is_required")),language_spoken:rf().required("Language spoken is required"),chat_credit_rate:sf().min(1,n("err_min_limit")).max(1e8,n("err_max_limit")).required("err_chat_credit_rate"),audio_credit_rate:sf().min(1,n("err_min_limit")).max(1e8,n("err_max_limit")).required("err_audio_credit_rate"),video_credit_rate:sf().min(1,n("err_min_limit")).max(1e8,n("err_max_limit")).required("err_video_credit_rate"),city:rf().trim().max(Rs.INPUT_LENGTH_50,es(n("max_length_error_dynamic"),[Rs.INPUT_LENGTH_50])).concat(sR).concat(oR).required(n("err_city_is_required")),state:rf().trim().max(Rs.INPUT_LENGTH_50,es(n("max_length_error_dynamic"),[Rs.INPUT_LENGTH_50])).concat(sR).concat(oR).required(n("err_state_is_required")),pin_code:rf().trim().required("Pin Code is required").matches(/^[1-9]\d*$/,"err_pin_code_invalid"),address:rf().trim().max(Rs.TEXTAREA_MAX_LENGTH,es(n("validation_max_input_characters"),[Rs.TEXTAREA_MAX_LENGTH])).concat(sR).concat(oR).required(n("label_location_error")),profile_image:Gm().required(n("image_required_error")).nullable().test("fileType",n("supported_file_error"),e=>!e||["image/jpg","image/jpeg","image/png","image/webp","image/gif"].includes(e.type)).test("fileSize",n("image_max_size_error"),e=>!e||e.size<=1572864)}),d=Ap({enableReinitialize:!0,initialValues:{first_name:"",last_name:"",email:"",phone_number:"",expertise:"tarot_reading",experience:"",language_spoken:"en",chat_credit_rate:"",audio_credit_rate:"",video_credit_rate:"",availability_hours:"",city:"",state:"",pin_code:"",address:"",profile_image:""},validateOnBlur:!1,validationSchema:c,onSubmit:(e,n)=>{let{setSubmitting:i,resetForm:a}=n;ls(!0),r(!0);let s=new FormData;s.append("first_name",e.first_name),s.append("last_name",e.last_name),s.append("email",e.email),s.append("phone_number",e.phone_number),s.append("expertise",e.expertise),s.append("experience",e.experience),s.append("language_spoken",e.language_spoken),s.append("chat_credit_rate",e.chat_credit_rate),s.append("audio_credit_rate",e.audio_credit_rate),s.append("video_credit_rate",e.video_credit_rate),s.append("availability_hours",e.availability_hours),s.append("city",e.city),s.append("state",e.state),s.append("pin_code",e.pin_code),s.append("address",e.address),s.append("profile_image",e.profile_image),(async e=>await oc(eD).post("".concat(tD,"/add"),e))(s).then(e=>{i(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),ls(!1),a({values:""}),t("/admin/psychic-management/psychic/list/1")):(zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),ls(!1),r(!1))}).catch(e=>{console.log("error ====> ",e)})}});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:l}),(0,Pa.jsx)("form",{onSubmit:d.handleSubmit,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:n("Add Psychic")})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"first_name",className:"text-left d-flex",children:[n("First Name"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"first_name",id:"first_name",type:"text",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.first_name,className:"form-control",placeholder:n("Enter first name")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{shortCodes:[Rs.INPUT_LENGTH_15],name:"first_name",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"last_name",className:"text-left d-flex",children:[n("Last Name"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"last_name",id:"last_name",type:"text",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.last_name,className:"form-control",placeholder:n("Enter last name")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{shortCodes:[Rs.INPUT_LENGTH_15],name:"last_name",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"email",className:"text-left d-flex",children:[n("label_email"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"email",id:"email",type:"email",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.email,className:"form-control",placeholder:n("placeholder_email")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"email",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{className:"text-left d-flex",htmlFor:"phone_number",children:[n("label_phone_number"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)(QP,{name:"phone_number",id:"phone_number",onChange:e=>{d.setFieldValue("phone_number",null===e||void 0===e?void 0:e.phone_number)},onBlur:d.handleBlur,value:d.values.phone_number,className:"form-control",placeholder:n("placeholder_phone_number")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"phone_number",form:d,shortCodes:{PHONE_MIN_LENGTH:Rs.PHONE_NO_LENGTH.min,PHONE_MAX_LENGTH:Rs.PHONE_NO_LENGTH.max}})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"expertise",className:"text-left d-flex",children:[n("Expertise Area"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsxs)("div",{className:" select-down-arrow",children:[(0,Pa.jsx)("select",{name:"expertise",id:"expertise",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.expertise,className:"form-control",children:Rs.EXPERTISE.map((e,t)=>(0,Pa.jsx)("option",{value:e.value,children:n("".concat(e.name))},t))}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"expertise",form:d})})]})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"experience",className:"text-left d-flex",children:[n("Experience (Year)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{name:"experience",id:"experience",type:"number",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.experience,className:"form-control",placeholder:n("Enter experience")}),(0,Pa.jsx)("span",{className:"input-group-text",children:"Year"})]}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"experience",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"language_spoken",className:"text-left d-flex",children:[n("Language spoken"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:" select-down-arrow",children:(0,Pa.jsx)("select",{name:"language_spoken",id:"language_spoken",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.language_spoken,className:"form-control",children:Rs.languageSpoken.map((e,t)=>(0,Pa.jsx)("option",{value:e.code,children:n("".concat(e.name))},t))})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"language_spoken",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"chat_credit_rate",className:"text-left d-flex",children:[n("Chat Credit Rate"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"chat_credit_rate",id:"chat_credit_rate",type:"number",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.chat_credit_rate,className:"form-control",placeholder:n("Enter chat credit rate")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"chat_credit_rate",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"audio_credit_rate",className:"text-left d-flex",children:[n("Audio Credit Rate"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"audio_credit_rate",id:"audio_credit_rate",type:"number",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.audio_credit_rate,className:"form-control",placeholder:n("Enter audio credit rate")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"audio_credit_rate",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"video_credit_rate",className:"text-left d-flex",children:[n("Video Credit Rate"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"video_credit_rate",id:"video_credit_rate",type:"number",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.video_credit_rate,className:"form-control",placeholder:n("Enter video credit rate")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"video_credit_rate",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"city",className:"text-left d-flex",children:[n("City"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"city",id:"city",type:"text",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.city,className:"form-control",placeholder:n("Enter city")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"city",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"state",className:"text-left d-flex",children:[n("State"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"state",id:"state",type:"text",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.state,className:"form-control",placeholder:n("Enter state")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"state",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"pin_code",className:"text-left d-flex",children:[n("Pin code"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"pin_code",id:"pin_code",type:"number",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.pin_code,className:"form-control",placeholder:n("Enter pin code")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"pin_code",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"address",className:"text-left d-flex",children:[n("label_address"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"address",id:"address",type:"text",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.address,className:"form-control",placeholder:n("placeholder_address")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{shortCodes:[Rs.TEXTAREA_MAX_LENGTH],name:"address",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"profile_image",className:"text-left d-flex",children:[n("label_logo"),":"," ",(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:n("image_support_tooltip")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{className:"form-control imgInput",id:"profile_image",name:"profile_image",accept:"image/*",type:"file",onChange:e=>{d.setFieldValue("profile_image",e.target.files[0]||""),1===e.target.files.length?o(URL.createObjectURL(e.target.files[0])):o("")}}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"profile_image",form:d})}),s?(0,Pa.jsx)("ul",{className:"question-image-preview questions-ul",children:(0,Pa.jsxs)("li",{className:"pr_img_box",children:[(0,Pa.jsx)("img",{src:s,style:{height:"100px"},alt:"Profile_Img"}),(0,Pa.jsx)("div",{className:"img_options",children:(0,Pa.jsx)("button",{type:"button",className:"text-danger",onClick:()=>{o(""),d.setFieldValue("profile_image",null),document.getElementById("profile_image").value=""},children:(0,Pa.jsx)("i",{className:"ri-delete-bin-6-fill"})})})]})}):""]}),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{className:"btn btn-info mr-2",type:"submit",disabled:!!i||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),n("btn_submit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",disabled:!!i||null,onClick:()=>t(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),n("btn_cancel")]})]})]})]})})})})})]})},sD=e=>{const t=ot(),n=ct(),{t:i}=As(),[r,s]=(0,a.useState)({}),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),u=[{title:i("link_dashboard"),url:"/admin/dashboard"},{title:i("link_psychic"),url:"/admin/psychic-management/psychic/list/1"},{title:i("Edit"),url:""}];(0,a.useEffect)(()=>{nD(n.id).then(e=>{var t;s(e&&e.data?e.data:[]),l(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.profile_image)}).catch(e=>{console.log("error=====>",e)})},[n.id]);const h=vf().shape({first_name:rf().trim().max(Rs.INPUT_LENGTH_40,es(i("max_length_error_dynamic"),[Rs.INPUT_LENGTH_40])).concat(sR).required("First name is required"),last_name:rf().trim().max(Rs.INPUT_LENGTH_40,es(i("max_length_error_dynamic"),[Rs.INPUT_LENGTH_40])).concat(sR).required("Last name is required"),email:lR,phone_number:aR,expertise:rf().trim().required("Expertise is required"),experience:sf().min(0,"err_min_limit").max(100,"err_max_limit").required(i("err_experience_is_required")),language_spoken:rf().required("Language spoken is required"),chat_credit_rate:sf().min(1,i("err_min_limit")).max(1e8,i("err_max_limit")).required("err_chat_credit_rate"),audio_credit_rate:sf().min(1,i("err_min_limit")).max(1e8,i("err_max_limit")).required("err_audio_credit_rate"),video_credit_rate:sf().min(1,i("err_min_limit")).max(1e8,i("err_max_limit")).required("err_video_credit_rate"),city:rf().trim().max(Rs.INPUT_LENGTH_50,es(i("max_length_error_dynamic"),[Rs.INPUT_LENGTH_50])).concat(sR).concat(oR).required(i("err_city_is_required")),state:rf().trim().max(Rs.INPUT_LENGTH_50,es(i("max_length_error_dynamic"),[Rs.INPUT_LENGTH_50])).concat(sR).concat(oR).required(i("err_state_is_required")),pin_code:rf().trim().required("Pin Code is required").matches(/^[1-9]\d*$/,"err_pin_code_invalid"),address:rf().trim().max(Rs.TEXTAREA_MAX_LENGTH,es(i("validation_max_input_characters"),[Rs.TEXTAREA_MAX_LENGTH])).concat(sR).concat(oR).required(i("label_location_error")),profile_image:Gm().required(i("image_required_error")).nullable().test("fileOrUrl","supported_file_error",e=>!e||("string"===typeof e?/^(http|https):\/\/[^\s$.?#].[^\s]*$/gm.test(e):["image/jpg","image/jpeg","image/png","image/webp","image/gif"].includes(e.type))).test("fileSize","image_max_size_error",e=>!e||"string"===typeof e||e.size<=1572864)}),p=Ap({enableReinitialize:!0,initialValues:{first_name:r&&r.first_name?r.first_name:"",last_name:r&&r.last_name?r.last_name:"",email:r&&r.email?r.email:"",phone_number:r&&null!==r&&void 0!==r&&r.phone_number?null===r||void 0===r?void 0:r.phone_number:"",expertise:r&&r.expertise?r.expertise:"",experience:r&&r.experience?r.experience:"",language_spoken:r&&r.language_spoken?r.language_spoken:"",chat_credit_rate:r&&r.chat_credit_rate?r.chat_credit_rate:"",audio_credit_rate:r&&r.audio_credit_rate?r.audio_credit_rate:"",video_credit_rate:r&&r.video_credit_rate?r.video_credit_rate:"",availability_hours:r&&r.availability_hours?r.availability_hours:"",city:r&&r.city?r.city:"",state:r&&r.state?r.state:"",pin_code:r&&r.pin_code?r.pin_code:"",address:r&&r.address?r.address:"",profile_image:r&&r.profile_image?r.profile_image:""},validationSchema:h,onSubmit:(e,i)=>{let{setSubmitting:r,resetForm:a}=i;ls(!0);let s=new FormData;s.append("o_id",n.id),s.append("first_name",e.first_name),s.append("last_name",e.last_name),s.append("email",e.email),s.append("phone_number",e.phone_number),s.append("expertise",e.expertise),s.append("experience",e.experience),s.append("language_spoken",e.language_spoken),s.append("chat_credit_rate",e.chat_credit_rate),s.append("audio_credit_rate",e.audio_credit_rate),s.append("video_credit_rate",e.video_credit_rate),s.append("availability_hours",e.availability_hours),s.append("city",e.city),s.append("state",e.state),s.append("pin_code",e.pin_code),s.append("address",e.address),s.append("profile_image",e.profile_image),(async e=>await oc(eD).put("".concat(tD,"/edit"),e))(s).then(e=>{r(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),ls(!1),"Save"!==c&&t("/admin/psychic-management/psychic/list/1")):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),ls(!1)}).catch(e=>{zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),console.log("error ====> ",e)})}});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:u}),(0,Pa.jsx)("form",{onSubmit:p.handleSubmit,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:i("Edit Psychic")})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"first_name",className:"text-left d-flex",children:[i("First name"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"first_name",id:"first_name",type:"text",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.first_name,className:"form-control",placeholder:i("Enter first name")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{shortCodes:[Rs.INPUT_MAX_25],name:"first_name",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"last_name",className:"text-left d-flex",children:[i("Last name"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"last_name",id:"last_name",type:"text",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.last_name,className:"form-control",placeholder:i("Enter last name")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{shortCodes:[Rs.INPUT_MAX_25],name:"last_name",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"email",className:"text-left d-flex",children:[i("label_email"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"email",id:"email",type:"email",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.email,className:"form-control",placeholder:i("placeholder_email")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"email",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{className:"text-left d-flex",htmlFor:"phone_number",children:[i("label_phone_number"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)(QP,{name:"phone_number",id:"phone_number",placeholder:i("placeholder_phone_number"),onChange:e=>{p.setFieldValue("phone_number",null===e||void 0===e?void 0:e.phone_number)},onBlur:p.handleBlur,value:p.values.phone_number,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"phone_number",form:p,shortCodes:{PHONE_MIN_LENGTH:Rs.PHONE_NO_LENGTH.min,PHONE_MAX_LENGTH:Rs.PHONE_NO_LENGTH.max}})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"expertise",className:"text-left d-flex",children:[i("Expertise Area"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsxs)("div",{className:" select-down-arrow",children:[(0,Pa.jsx)("select",{name:"expertise",id:"expertise",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.expertise,className:"form-control",children:Rs.EXPERTISE.map((e,t)=>(0,Pa.jsx)("option",{value:e.value,children:i("".concat(e.name))},t))}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"expertise",form:p})})]})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"experience",className:"text-left d-flex",children:[i("Experience (Year) "),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{name:"experience",id:"experience",type:"number",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.experience,className:"form-control",placeholder:i("Enter experience")}),(0,Pa.jsx)("span",{className:"input-group-text",children:"Year"})]}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"experience",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"language_spoken",className:"text-left d-flex",children:[i("Language spoken"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:" select-down-arrow",children:(0,Pa.jsx)("select",{name:"language_spoken",id:"language_spoken",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.language_spoken,className:"form-control",children:Rs.languageSpoken.map((e,t)=>(0,Pa.jsx)("option",{value:e.code,children:i("".concat(e.name))},t))})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"language_spoken",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"chat_credit_rate",className:"text-left d-flex",children:[i("Chat Credit Rate"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"chat_credit_rate",id:"chat_credit_rate",type:"number",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.chat_credit_rate,className:"form-control",placeholder:i("Enter chat credit rate"),onKeyDown:rs}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"chat_credit_rate",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"audio_credit_rate",className:"text-left d-flex",children:[i("Audio Credit Rate"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"audio_credit_rate",id:"audio_credit_rate",type:"number",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.audio_credit_rate,className:"form-control",placeholder:i("Enter audio credit rate")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"audio_credit_rate",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"video_credit_rate",className:"text-left d-flex",children:[i("Video Credit Rate"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"video_credit_rate",id:"video_credit_rate",type:"number",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.video_credit_rate,className:"form-control",placeholder:i("Enter video credit rate"),onKeyDown:rs}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"video_credit_rate",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"city",className:"text-left d-flex",children:[i("City"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"city",id:"city",type:"text",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.city,className:"form-control",placeholder:i("Enter city"),onKeyDown:rs}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"city",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"state",className:"text-left d-flex",children:[i("State"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"state",id:"state",type:"text",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.state,className:"form-control",placeholder:i("Enter state")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"state",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"pin_code",className:"text-left d-flex",children:[i("Pin code"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"pin_code",id:"pin_code",type:"number",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.pin_code,className:"form-control",placeholder:i("Enter pin code")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"pin_code",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"address",className:"text-left d-flex",children:[i("label_address"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"address",id:"address",type:"text",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.address,className:"form-control",placeholder:i("placeholder_address")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{shortCodes:[Rs.TEXTAREA_MAX_LENGTH],name:"address",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"restaurant_logo",className:"text-left d-flex",children:[i("label_logo"),":"," ",(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:i("image_support_tooltip")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{className:"form-control imgInput",id:"profile_image",name:"profile_image",accept:"image/*",type:"file",onChange:e=>{p.setFieldValue("profile_image",e.target.files[0]||""),1===e.target.files.length?l(URL.createObjectURL(e.target.files[0])):l("")}}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"profile_image",form:p})}),o?(0,Pa.jsx)("ul",{className:"question-image-preview questions-ul",children:(0,Pa.jsx)("li",{className:"pr_img_box",children:(0,Pa.jsx)("img",{src:o,style:{height:"100px"},alt:"profileImg"})})}):""]}),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{onClick:()=>{d("Save")},className:"btn btn-info mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),i("btn_save")]}),(0,Pa.jsxs)("button",{onClick:()=>{d("")},className:"btn btn-success mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),i("btn_save_exit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",onClick:()=>t(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),i("btn_cancel")]})]})]})]})})})})})]})},oD={role:Rs.ROLE.SUPER_ADMIN},lD="admin/inquiry",cD=()=>{const{t:e}=As(),t=ct(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)(""),[u]=(0,a.useState)(10),[h,p]=(0,a.useState)({}),[m,f]=(0,a.useState)(!0),[g,_]=(0,a.useState)(1),[v,b]=(0,a.useState)(!0),[y,x]=(0,a.useState)(!1),[w,E]=(0,a.useState)(""),[S,C]=(0,a.useState)({}),T=[{title:e("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:e("sidebar_link_inquiries"),url:""}];(0,a.useEffect)(()=>{const e=setTimeout(()=>{if(S){b(!0);const e=new FormData;e.append("page",t.pgno),e.append("per_page",u),e.append("sort",JSON.stringify(h)),e.append("search",JSON.stringify(S)),e.append("global_search",w),(async e=>await oc(oD).post("".concat(lD,"/list"),e))(e).then(e=>{var t;d(e.data.total_records),s(e&&e.data&&e.data.list?null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list:[]),_(e&&e.data&&e.data.page?e.data.page:1),b(!1)}).catch(e=>{console.log("error ====> ",e)})}},300);return()=>clearTimeout(e)},[n,o,h,S,w,u,t.pgno]);function N(t){zr().fire({customClass:"swal-wide",title:e("msg_are_you_sure"),text:e("you_not_be_able_to_revert_this"),icon:"warning",showCancelButton:!0,cancelButtonText:e("btn_cancel"),confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:e("btn_yes_delete")}).then(e=>{if(e.isConfirmed){const e=new FormData;e.append("o_id",t),(async e=>await oc(oD).post("".concat(lD,"/delete"),e))(e).then(e=>{l(!o),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})}})}const A=(e,t)=>{f(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,p(n)},k=(e,t)=>{let n=Tn({},S);String(t).length>0?n[e]=t:delete n[e],C(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:T}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:e("sidebar_link_inquiries")}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:w,placeholder:e("input_placeholder_search"),onChange:e=>{E(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{k("createdAt",e)},resetdate:y})}),(0,Pa.jsx)("div",{className:"form-group mb-0 filter_icon_container filter_design mr-3",children:(0,Pa.jsx)("div",{className:"select-down-arrow",children:(0,Pa.jsxs)("select",{className:"form-control cp",id:"defaultstatus",onChange:e=>{k("expertise",e.target.value)},children:[(0,Pa.jsx)("option",{value:"",children:e("Expertise")}),null===Rs.EXPERTISE||void 0===Rs.EXPERTISE?void 0:Rs.EXPERTISE.map((e,t)=>(0,Pa.jsx)("option",{value:e.value,children:e.name},t))]})})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),E(""),k(),C({}),x(!y)},className:"btn btn-warning float-right mr-2",children:e("btn_reset_filter")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("list_heading_sno")})}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("list_heading_name")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:A,column:"name"})]})}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("label_email")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:A,column:"email"})]})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{className:"rating_head",children:(0,Pa.jsx)("span",{children:e("label_phone_number")})})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{className:"rating_head",children:(0,Pa.jsx)("span",{children:e("Expertise")})})}),(0,Pa.jsx)("th",{className:"action_head",children:e("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:v?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:10,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((t,n)=>{var r;return(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:t?(g-1)*u+n+1:null}),(0,Pa.jsx)("td",{children:null!==t&&void 0!==t&&t.name?(0,Pa.jsx)("div",{className:"d-flex",children:null!==t&&void 0!==t&&t.name?t.name:"N/A"}):(0,Pa.jsx)("div",{className:"d-flex",children:'"N/A"'})}),(0,Pa.jsx)("td",{children:null!==t&&void 0!==t&&t.email?(0,Pa.jsx)("div",{className:"d-flex",children:t.email}):(0,Pa.jsx)("div",{className:"d-flex",children:"N/A"})}),(0,Pa.jsx)("td",{children:null!==t&&void 0!==t&&t.phone_number?(0,Pa.jsx)("div",{className:"d-flex",children:t.phone_number}):(0,Pa.jsx)("div",{className:"d-flex",children:"N/A"})}),(0,Pa.jsx)("td",{children:null!==t&&void 0!==t&&t.expertise?(0,Pa.jsx)("div",{className:"d-flex",children:(null===(r=Rs.EXPERTISE.find(e=>e.value===t.expertise))||void 0===r?void 0:r.name)||os(t.expertise)}):(0,Pa.jsx)("div",{className:"d-flex",children:"N/A"})}),(0,Pa.jsx)("td",{children:(0,Pa.jsxs)("div",{className:"d-flex",children:[(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{(e=>{i("/admin/inquiry/view/".concat(e._id))})(t)},children:e("btn_view")}),(0,Pa.jsx)("button",{className:"btn ripple btn-secondary mlAction",onClick:()=>{N(null===t||void 0===t?void 0:t._id)},children:e("btn_delete")})]})})]},n)}):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:10,className:"text-center",children:e("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[e("msg_total_records")," : ",c||"0"]})}),c&&c>0?(0,Pa.jsx)(Uf,{datalength:c,itemperpage:u,currentPage:g,setPage:_,pageRoute:[{name:"Inquiry",path:"/admin/inquiry/list"}]}):""]})})})]})},dD=e=>{const{t:t}=As(),n=ot(),i=ct(),[r,s]=(0,a.useState)({}),o=[{title:t("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:t("sidebar_link_inquiries"),url:"/admin/inquiry/list/1"},{title:t("btn_view"),url:""}];return(0,a.useEffect)(()=>{(async e=>await oc(oD).post("".concat(lD,"/view"),e))({o_id:i.id}).then(e=>{console.log("View response-",e),s(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[i.id]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:o}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsxs)("div",{className:"card custom-card",children:[(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:"VIEW INQUIRY"})}),r&&Object.keys(r).length>0?(0,Pa.jsx)("div",{className:"row",children:(0,Pa.jsxs)("div",{className:"col-lg-12 form-group",children:[(0,Pa.jsx)("table",{id:"simple-table",className:"table  table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_name")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&r.name?r.name:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_email")}),(0,Pa.jsx)("td",{children:r&&r.email?r.email:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_phone_number")}),(0,Pa.jsx)("td",{children:r&&r.phone_number?r.phone_number:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("Expertise")}),(0,Pa.jsx)("td",{children:r&&r.expertise?r.expertise:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"text-capitalize",children:t("label_address")}),(0,Pa.jsx)("td",{children:r&&r.address?r.address:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("Inquiry Date")}),(0,Pa.jsx)("td",{children:r&&r.createdAt?Ha(r.createdAt):"N/A"})]})]})}),(0,Pa.jsxs)("h5",{className:"mb-3 mt-3 font-weight-bolder",children:[t("label_description"),":"]}),(0,Pa.jsx)("div",{dangerouslySetInnerHTML:{__html:r&&null!==r&&void 0!==r&&r.description?r.description:"N/A"}})]})}):(0,Pa.jsx)(Bf,{})]}),(0,Pa.jsx)("div",{className:"mt-5 back-button",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>n("/admin/inquiry/list/1"),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),t("btn_back")]})})]})})})]})},uD=e=>{var t;let{id:n}=e;const i=ot(),{t:r}=As(),[s,o]=(0,a.useState)({}),l=bn(e=>{var t;return null===(t=e.globalData)||void 0===t?void 0:t.data});(0,a.useEffect)(()=>{if(l){const e=JSON.parse(l);o(e)}},[l]);const c=Ap({enableReinitialize:!0,initialValues:{first_name:"",last_name:"",email:"",phone_number:"",expertise:"",address:"",description:""},validateOnBlur:!1,validationSchema:vf().shape({first_name:rf().trim().max(Rs.INPUT_LENGTH_20,es(r("err_exceed_max_length"),[Rs.INPUT_LENGTH_20])).concat(sR).required("label_first_name_error"),last_name:rf().trim().max(Rs.INPUT_LENGTH_20,es(r("err_exceed_max_length"),[Rs.INPUT_LENGTH_20])).concat(sR).required("label_last_name_error"),phone_number:aR,email:lR,expertise:rf().trim().max(Rs.INPUT_LENGTH_20,es(r("err_exceed_max_length"),[Rs.INPUT_LENGTH_20])).required("err_expertise_is_required"),address:rf().trim().max(Rs.TEXTAREA_MAX_LENGTH,es(r("err_exceed_max_length"),[Rs.TEXTAREA_MAX_LENGTH])).concat(sR).concat(oR).required("err_address_is_required"),description:rf().trim().max(Rs.INPUT_LENGTH_500,es(r("err_exceed_max_length"),[Rs.INPUT_LENGTH_500])).concat(sR).concat(oR).required("label_richtext_error")}),onSubmit:(e,t)=>{let{setSubmitting:n,resetForm:r}=t;ls(!0);let a=new FormData;a.append("first_name",e.first_name),a.append("last_name",e.last_name),a.append("email",e.email),a.append("phone_number",e.phone_number),a.append("expertise",e.expertise),a.append("address",e.address),a.append("description",e.description),(async e=>await oc().post("".concat(vR,"/inquiry-form"),e))(a).then(e=>{ls(!1),n(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),r({values:""}),i("/")):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{ls(!1),console.log("error ====> ",e)})}});return(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsxs)("section",{id:n,className:"contact-sec ",children:[(0,Pa.jsx)("div",{className:"banner-inner-head",children:(0,Pa.jsx)("div",{className:"container-fluid",children:(0,Pa.jsxs)("div",{className:"banner-inner-wrap d-flex align-items-center justify-content-center",children:[(0,Pa.jsx)("img",{alt:"inquiry-banner",className:"banner-bg",src:PR}),(0,Pa.jsx)("div",{className:"banner-content d-flex flex-column gap-4",children:(0,Pa.jsx)("h1",{children:r("inquiry")})})]})})}),(0,Pa.jsx)("div",{className:"breadcrumb-container container-fluid",children:(0,Pa.jsx)("nav",{"aria-label":"breadcrumb",className:"mt-4",children:(0,Pa.jsxs)("ol",{className:"breadcrumb gap-2 justify-content-start align-items-center",children:[(0,Pa.jsx)("li",{className:"breadcrumb-item",children:(0,Pa.jsx)(qt,{to:"/",children:r("header_home")})}),(0,Pa.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:r("inquiry")})]})})}),(0,Pa.jsx)("div",{className:"container w-75 py-12",children:(0,Pa.jsx)("div",{className:"contect d-flex align-items-center justify-content-center",children:(0,Pa.jsxs)("div",{className:"row justify-content-between",children:[(0,Pa.jsx)("div",{className:"col-md-5",children:(0,Pa.jsx)("div",{className:"contact-us-text",children:(0,Pa.jsxs)("div",{className:"heading-section d-flex flex-column gap-3 mb-5 me-5",children:[(0,Pa.jsx)("h4",{className:"h2-heading",children:r("inquiry_heading")}),(0,Pa.jsxs)("p",{className:"paragraph-16",children:[r("inquiry_content")," "]}),(0,Pa.jsxs)("div",{className:"contact-info-box d-flex flex-column gap-3",children:[(0,Pa.jsx)("div",{className:"contact-info-box-item",children:(0,Pa.jsxs)("a",{className:"d-flex align-items-center gap-1",href:"mailto:".concat(null===s||void 0===s?void 0:s.contact_email),children:[(0,Pa.jsx)("i",{className:"ti ti-mail me-2"}),(0,Pa.jsx)("span",{children:null===s||void 0===s?void 0:s.contact_email})]})}),(0,Pa.jsx)("div",{className:"contact-info-box-item",children:(0,Pa.jsxs)("a",{className:"d-flex align-items-center gap-1",href:"tel:".concat(null===s||void 0===s?void 0:s.phone_number),children:[(0,Pa.jsx)("i",{className:"ti ti-phone me-2"}),(0,Pa.jsx)("span",{children:null===s||void 0===s?void 0:s.phone_number})]})})]})]})})}),(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsx)("div",{className:"contact-form-card",children:(0,Pa.jsx)("div",{className:"contact-form-card-body",children:(0,Pa.jsx)("form",{onSubmit:c.handleSubmit,children:(0,Pa.jsx)("div",{className:"contact-form",children:(0,Pa.jsx)("div",{className:"contact-form-box",children:(0,Pa.jsxs)("div",{className:"row",children:[(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"mb-3",children:[(0,Pa.jsxs)("label",{htmlFor:"first_name",className:"form-label ",children:[r("label_first_name"),(0,Pa.jsx)("span",{children:"*"})]}),(0,Pa.jsx)("input",{type:"text",className:"form-control",placeholder:r("placeholder_first_name"),name:"first_name",id:"first_name",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.first_name}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"first_name",form:c})})]})}),(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"mb-3",children:[(0,Pa.jsxs)("label",{htmlFor:"last_name",className:"form-label ",children:[r("label_last_name"),(0,Pa.jsx)("span",{children:"*"})]}),(0,Pa.jsx)("input",{type:"text",className:"form-control",placeholder:r("placeholder_last_name"),name:"last_name",id:"last_name",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.last_name}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"last_name",form:c})})]})}),(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsxs)("div",{className:"mb-3",children:[(0,Pa.jsxs)("label",{htmlFor:"email",className:"form-label ",children:[r("label_email")," ",(0,Pa.jsx)("span",{children:"*"})]}),(0,Pa.jsx)("input",{type:"email",className:"form-control",placeholder:r("placeholder_email_address"),name:"email",id:"email",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.email}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"email",form:c})})]})}),(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsxs)("div",{className:"mb-3",children:[(0,Pa.jsxs)("label",{htmlFor:"phone_number",className:"form-label",children:[r("label_phone_number"),(0,Pa.jsx)("span",{children:"*"})]}),(0,Pa.jsx)(QP,{id:"phone_number",value:null===c||void 0===c||null===(t=c.values)||void 0===t?void 0:t.phone_number,placeholder:r("placeholder_phone_number"),name:"phone_number",onChange:e=>{c.setFieldValue("phone_number",null===e||void 0===e?void 0:e.phone_number)},onBlur:c.handleBlur}),(0,Pa.jsx)(DR,{name:"phone_number",form:c,className:"text-danger",shortCodes:{PHONE_MIN_LENGTH:Rs.PHONE_NO_LENGTH.min,PHONE_MAX_LENGTH:Rs.PHONE_NO_LENGTH.max}})]})}),(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsxs)("div",{className:"mb-3",children:[(0,Pa.jsxs)("label",{htmlFor:"expertise",className:"form-label ",children:[r("label_expertise"),(0,Pa.jsx)("span",{children:"*"})]}),(0,Pa.jsxs)("select",{name:"expertise",id:"expertise",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.expertise,className:"form-control",children:[(0,Pa.jsx)("option",{value:"",children:r("select_expertise")}),Rs.EXPERTISE.map((e,t)=>(0,Pa.jsx)("option",{value:e.value,children:r("".concat(e.name))},t))]}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"expertise",form:c})})]})}),(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsxs)("div",{className:"mb-3",children:[(0,Pa.jsxs)("label",{htmlFor:"address",className:"form-label ",children:[r("address")," ",(0,Pa.jsx)("span",{children:"*"})]}),(0,Pa.jsx)("input",{type:"text",className:"form-control",placeholder:r("placeholder_address"),name:"address",id:"address",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.address}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"address",form:c})})]})}),(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsxs)("div",{className:"mb-3",children:[(0,Pa.jsxs)("label",{htmlFor:"description",className:"form-label ",children:[r("label_description")," ",(0,Pa.jsx)("span",{children:"*"})]}),(0,Pa.jsx)("textarea",{type:"text",className:"form-control",placeholder:r("placeholder_description"),name:"description",id:"description",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.description}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"description",form:c})})]})}),(0,Pa.jsx)("div",{className:"col-md-7",children:(0,Pa.jsx)("button",{className:"btn btn-primary w-50",children:r("web_inquiry_form_btn_submit")})})]})})})})})})})]})})})]})})},hD=e=>{let{component:t}=e;const n=Xa(Rs.ROLE.PSYCHIC);return(0,Pa.jsx)(Pa.Fragment,{children:Object.keys(n).length&&n.token?(0,Pa.jsx)(t,{}):(us(Rs.ROLE.PSYCHIC),(0,Pa.jsx)(St,{to:"/psychic/login"}))})},pD={role:Rs.ROLE.SUPER_ADMIN},mD="admin/question",fD=async e=>await oc(pD).get("".concat(mD,"/details?o_id=").concat(e)),gD=e=>{var t,n;const i=ot(),{t:r}=As(),[s,o]=(0,a.useState)(!1),l=[{title:r("link_dashboard"),url:"/admin/dashboard"},{title:r("Questions"),url:"/admin/cms/question/list/1"},{title:r("link_add"),url:""}],c=Ap({enableReinitialize:!0,initialValues:{question_title:"",question_type:"",option:[{option_slug:"",option_value:""}]},validateOnBlur:!1,validationSchema:vf().shape({question_title:rf().trim().max(100,"max_length_error").required("Option is required"),question_type:rf().trim().max(100,"Cannot exceed 100 words").required("Question type is required"),option:yf().min(1,"At least one option is required").of(vf({option_slug:rf().min(1,"Option slug cannot be empty").required("Option slug is required"),option_value:rf().min(1,"Option value cannot be empty").required("Option value is required")})).required("Option array is required")}),onSubmit:(e,t)=>{var n;let{setSubmitting:r,resetForm:a}=t;ls(!0),o(!0);let s=new FormData;s.append("question_title",e.question_title),s.append("question_type",e.question_type),s.append("option",JSON.stringify(null===(n=c.values)||void 0===n?void 0:n.option)),(async e=>await oc(pD).post("".concat(mD,"/add"),e))(s).then(e=>{r(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),ls(!1),a({values:""}),i("/admin/cms/question/list/1")):(zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),ls(!1),o(!1))}).catch(e=>{console.log("error ====> ",e)})}}),d=()=>{c.setFieldValue("option",[...c.values.option,{option_slug:"",option_value:""}])};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:l}),(0,Pa.jsx)("form",{onSubmit:c.handleSubmit,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:r("Add Question")})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"question_title",className:"text-left d-flex",children:[r("Question Title"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"question_title",id:"question_title",type:"text",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.question_title,className:"form-control",placeholder:r("Enter question title")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"question_title",form:c})})]}),(0,Pa.jsxs)("div",{className:"col-md-5 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"question_type",className:"text-left d-flex",children:[r("Question Type"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:" select-down-arrow",children:(0,Pa.jsxs)("select",{name:"question_type",id:"question_type",type:"text",onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.question_type,className:"form-control",placeholder:r("Enter question type"),children:[(0,Pa.jsx)("option",{value:"",children:"Select"}),Rs.questionType.map((e,t)=>(0,Pa.jsx)("option",{value:e.value,children:r("".concat(e.name))},t))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"question_type",form:c})})]}),(0,Pa.jsx)("h6",{children:"Options"}),null===c||void 0===c||null===(t=c.values)||void 0===t||null===(n=t.option)||void 0===n?void 0:n.map((e,t)=>(0,Pa.jsxs)("div",{className:"row",children:[(0,Pa.jsxs)("div",{className:"col-md-5 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"option_slug_".concat(t),className:"text-left d-flex",children:[r("Option slug"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"option[".concat(t,"].option_slug"),id:"option_slug_".concat(t),type:"text",onChange:c.handleChange,onBlur:c.handleBlur,value:e.option_slug,className:"form-control",placeholder:r("Enter option slug")})]}),(0,Pa.jsxs)("div",{className:"col-md-5 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"option_value_".concat(t),className:"text-left d-flex",children:[r("Option value"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"option[".concat(t,"].option_value"),id:"option_value_".concat(t),type:"text",onChange:c.handleChange,onBlur:c.handleBlur,value:e.option_value,className:"form-control",placeholder:r("Enter option value")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"option[".concat(t,"].option_value"),form:c})})]}),c.values.option.length>1&&(0,Pa.jsx)("div",{className:"col-md-1 mt-2 text-center align-content-center",children:(0,Pa.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>(e=>{const t=c.values.option.filter((t,n)=>n!==e);c.setFieldValue("option",t)})(t),children:r("Remove")})}),(0,Pa.jsx)("div",{className:"col-md-1 mt-2 text-center align-content-center",children:(0,Pa.jsx)("button",{type:"button",className:"btn btn-success",onClick:d,children:r("Add")})})]},t)),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{className:"btn btn-info mr-2",type:"submit",disabled:!!s||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),r("btn_submit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",disabled:!!s||null,onClick:()=>i(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),r("btn_cancel")]})]})]})]})})})})})]})},_D=()=>{const{t:e}=As(),t=ct(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)(""),[u]=(0,a.useState)(10),[h,p]=(0,a.useState)({}),[m,f]=(0,a.useState)(!0),[g,_]=(0,a.useState)(1),[v,b]=(0,a.useState)(!0),[y,x]=(0,a.useState)({}),[w,E]=(0,a.useState)(""),S=[{title:e("link_dashboard"),url:"/admin/dashboard"},{title:e("Questions"),url:""}],[C,T]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=setTimeout(()=>{if(y){b(!0);const e=new FormData;e.append("page",t.pgno),e.append("per_page",u),e.append("sort",JSON.stringify(h)),e.append("search",JSON.stringify(y)),e.append("global_search",w),(async e=>await oc(pD).post("".concat(mD,"/list"),e))(e).then(e=>{d(e.data.total_records),s(e&&e.data&&e.data.list?e.data.list:[]),_(e&&e.data&&e.data.page?e.data.page:1),b(!1)}).catch(e=>{console.log("error ====> ",e)})}},300);return()=>clearTimeout(e)},[n,o,h,y,w,u,t.pgno]);const N=(t,n)=>{const i=new FormData;i.append("o_id",t),i.append("status",n),zr().fire({customClass:"swal-wide",title:e("Are you sure you want to ".concat(0===n?"deactivate":"activate"," this Question ?")),icon:"warning",showCancelButton:!0,cancelButtonText:e("btn_cancel"),confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:e("btn_yes")}).then(e=>{e.isConfirmed&&(async e=>await oc(pD).patch("".concat(mD,"/change-status"),e))(i).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),l(!o)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error===>")})})};function A(t){zr().fire({customClass:"swal-wide",title:e("msg_are_you_sure"),text:e("you_not_be_able_to_revert_this"),icon:"warning",showCancelButton:!0,cancelButtonText:e("btn_cancel"),confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:e("btn_yes_delete")}).then(e=>{e.isConfirmed&&(async e=>await oc(pD).delete("".concat(mD,"/delete?o_id=").concat(e)))(t).then(e=>{l(!o),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})})}const k=(e,t)=>{f(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,p(n)},R=(e,t)=>{let n=Tn({},y);String(t).length>0?n[e]=t:delete n[e],x(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:S}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:e("Questions")}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:w,placeholder:e("input_placeholder_search"),onChange:e=>{E(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{R("createdAt",e)},resetdate:C})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(eR,{data:Rs.showFilterlist,prepareSearch:R})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),E(""),R(),x({}),T(!C)},className:"btn btn-warning float-right mr-2",children:e("btn_reset_filter")}),(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn mr-2",onClick:()=>i("/admin/cms/question/add"),children:e("btn_add_new")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("list_heading_sno")})}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("Question title")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,column:"question_title"})]})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Question Type")})}),(0,Pa.jsx)("th",{className:"created_head",children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("list_heading_created_date")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,defaultSorting:m,column:"createdAt"})]})}),(0,Pa.jsx)("th",{className:"status_head",children:e("list_heading_status")}),(0,Pa.jsx)("th",{className:"action_head",children:e("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:v?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:14,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((n,r)=>{var a;return(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:n?(g-1)*u+r+1:null}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.question_title?(0,Pa.jsx)("div",{className:"d-flex",children:null!==n&&void 0!==n&&n.question_title?Ya(os(null===n||void 0===n?void 0:n.question_title)):"N/A"}):(0,Pa.jsx)("div",{className:"d-flex",children:"N/A"})}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.question_type?null===Rs.questionType||void 0===Rs.questionType||null===(a=Rs.questionType.find(e=>e.value===(null===n||void 0===n?void 0:n.question_type)))||void 0===a?void 0:a.name:"N/A"}),(0,Pa.jsx)("td",{children:n.createdAt?Ha(n.createdAt):"N/A"}),(0,Pa.jsx)("td",{children:1===n.status?(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{N(null===n||void 0===n?void 0:n._id,0)},children:e("btn_active")}):(0,Pa.jsx)("button",{className:"btn ripple btn-secondary",onClick:()=>{N(null===n||void 0===n?void 0:n._id,1)},children:e("btn_inactive")})}),(0,Pa.jsx)("td",{children:(0,Pa.jsxs)("div",{className:"d-flex",children:[(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{(e=>{i("/admin/cms/question/view/".concat(e._id))})(n)},children:e("btn_view")}),(0,Pa.jsx)("button",{className:"btn ripple btn-success mlAction",onClick:()=>{(e=>{i("/admin/cms/question/".concat(t.pgno,"/edit/").concat(e._id))})(n)},children:e("btn_edit")}),(0,Pa.jsx)("button",{className:"btn ripple btn-secondary mlAction",onClick:()=>{A(null===n||void 0===n?void 0:n._id)},children:e("btn_delete")})]})})]},r)}):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:14,className:"text-center",children:e("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[e("msg_total_records")," : ",c||"0"]})}),c&&c>0?(0,Pa.jsx)(Uf,{datalength:c,itemperpage:u,currentPage:g,setPage:_,pageRoute:[{name:"Psychic",path:"/admin/cms/question/list"}]}):""]})})})]})},vD=e=>{var t;const n=ot(),{t:i}=As(),r=ct(),[s,o]=(0,a.useState)({}),l=[{title:i("link_dashboard"),url:"/admin/dashboard"},{title:i("Question"),url:"/admin/cms/question/list/1"},{title:i("View"),url:""}];return(0,a.useEffect)(()=>{fD(r.id).then(e=>{o(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[r.id]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:l}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsxs)("div",{className:"card custom-card",children:[(0,Pa.jsx)("div",{className:"card-body",children:s&&Object.keys(s).length>0?(0,Pa.jsx)("div",{className:"row",children:(0,Pa.jsx)("div",{className:"col-lg-12 form-group",children:(0,Pa.jsx)("table",{id:"simple-table",className:"table  table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:i("Question title")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:s&&s.question_title?s.question_title:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:i("Question type")}),(0,Pa.jsx)("td",{children:s&&s.question_type?null===(t=Rs.questionType.find(e=>e.value===s.question_type))||void 0===t?void 0:t.name:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:i("Option")}),(0,Pa.jsx)("td",{children:s&&s.option&&s.option.length>0?(0,Pa.jsx)("ul",{children:s.option.map((e,t)=>(0,Pa.jsx)("li",{children:e.option_value},t))}):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:i("list_heading_created_date")}),(0,Pa.jsx)("td",{children:s&&s.createdAt?Wa(s.createdAt):"N/A"})]})]})})})}):(0,Pa.jsx)(Bf,{})}),(0,Pa.jsx)("div",{className:"ml-4 back-button mx-0",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>n("/admin/cms/question/list/1"),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),i("btn_back")]})})]})})})]})},bD=e=>{var t,n;const i=ot(),r=ct(),{t:s}=As(),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)({}),[u,h]=(0,a.useState)(!1),p=[{title:s("link_dashboard"),url:"/admin/dashboard"},{title:s("Question"),url:"/admin/cms/question/list/1"},{title:s("Edit"),url:""}];(0,a.useEffect)(()=>{fD(r.id).then(e=>{d(e&&e.data?e.data:[]),setTimeout(()=>{h(!0)},100)}).catch(e=>{console.log("error=====>",e)})},[r.id]);const m=vf().shape({question_title:rf().trim().max(100,"max_length_error").required("Option is required"),question_type:rf().trim().max(100,"cannot exceed 100 words").required("Option type is required"),option:yf().min(1,"At least one option is required").of(vf({option_slug:rf().min(1,"Option slug cannot be empty").required("Option slug is required"),option_value:rf().min(1,"Option value cannot be empty").required("Option value is required")})).required("Option array is required")}),f=Ap({enableReinitialize:!0,initialValues:{question_title:c&&c.question_title?c.question_title:"",question_type:c&&c.question_type?c.question_type:"",option:c&&c.option?c.option:[{option_slug:"",option_value:""}]},validateOnBlur:!1,validationSchema:m,onSubmit:(e,t)=>{var n;let{setSubmitting:a,resetForm:s}=t;ls(!0),l(!0);let o=new FormData;o.append("o_id",r.id),o.append("question_title",e.question_title),o.append("question_type",e.question_type),o.append("option",JSON.stringify(null===(n=f.values)||void 0===n?void 0:n.option)),(async e=>await oc(pD).put("".concat(mD,"/edit"),e))(o).then(e=>{a(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),ls(!1),s({values:""}),i("/admin/cms/question/list/1")):(zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),ls(!1),l(!1))}).catch(e=>{console.log("error ====> ",e)})}}),g=()=>{f.setFieldValue("option",[...f.values.option,{option_slug:"",option_value:""}])};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:p}),u?(0,Pa.jsx)("form",{onSubmit:f.handleSubmit,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:s("Add Question")})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"question_title",className:"text-left d-flex",children:[s("Question Title"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"question_title",id:"question_title",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.question_title,className:"form-control",placeholder:s("Enter question title")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"question_title",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-5 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"question_type",className:"text-left d-flex",children:[s("Question Type"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:" select-down-arrow",children:(0,Pa.jsxs)("select",{name:"question_type",id:"question_type",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.question_type,className:"form-control",placeholder:s("Enter question type"),children:[(0,Pa.jsx)("option",{value:"",children:"Select"}),Rs.questionType.map((e,t)=>(0,Pa.jsx)("option",{value:e.value,children:s("".concat(e.name))},t))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"question_type",form:f})})]}),null===f||void 0===f||null===(t=f.values)||void 0===t||null===(n=t.option)||void 0===n?void 0:n.map((e,t)=>(0,Pa.jsxs)("div",{className:"row",children:[(0,Pa.jsxs)("div",{className:"col-md-5 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"option_slug_".concat(t),className:"text-left d-flex",children:[s("Option slug"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"option[".concat(t,"].option_slug"),id:"option_slug_".concat(t),type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:e.option_slug,className:"form-control",placeholder:s("Enter option slug")})]}),(0,Pa.jsxs)("div",{className:"col-md-5 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"option_value_".concat(t),className:"text-left d-flex",children:[s("Option value"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"option[".concat(t,"].option_value"),id:"option_value_".concat(t),type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:e.option_value,className:"form-control",placeholder:s("Enter option value")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"option[".concat(t,"].option_value"),form:f})})]}),f.values.option.length>1&&(0,Pa.jsx)("div",{className:"col-md-1 mt-2 text-center align-content-center",children:(0,Pa.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>(e=>{const t=f.values.option.filter((t,n)=>n!==e);f.setFieldValue("option",t)})(t),children:s("Remove")})}),(0,Pa.jsx)("div",{className:"col-md-1 mt-2 text-center align-content-center",children:(0,Pa.jsx)("button",{type:"button",className:"btn btn-success",onClick:g,children:s("Add")})})]},t)),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{className:"btn btn-info mr-2",type:"submit",disabled:!!o||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),s("btn_submit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",disabled:!!o||null,onClick:()=>i(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),s("btn_cancel")]})]})]})]})})})})}):(0,Pa.jsx)(Bf,{})]})},yD=e=>{let{component:t}=e;const n=gn(),i=bn(e=>e.globalLoader),r=Qa(Rs.ROLE.PSYCHIC)?JSON.parse(Qa(Rs.ROLE.PSYCHIC)):{};return(0,a.useEffect)(()=>{n(hr(!1))},[]),(0,Pa.jsx)(Pa.Fragment,{children:r&&r.token?(0,Pa.jsx)(St,{to:{pathname:"/psychic"}}):i?(0,Pa.jsx)(Ds,{}):(0,Pa.jsx)(t,{})})},xD=()=>{const{t:e}=As(),t=ot(),n=Ap({initialValues:{email:""},validationSchema:vf().shape({email:lR}),onSubmit:(e,n)=>{let{resetForm:i}=n;ls(!0);const r=new FormData;r.append("email",e.email),(async e=>await oc().post("".concat(UO,"/forget-password"),e))(r).then(n=>{ls(!1),n.success?(zr().fire(Tn({icon:"success",text:n.message},Rs.SWAL_SETTINGS)),i(),t("/psychic/otp-verification",{state:{email:e.email}})):zr().fire(Tn({icon:"error",text:as(n)},Rs.SWAL_SETTINGS))}).catch(e=>{ls(!1),console.log("error---\x3e",e)})}});return(0,Pa.jsx)("div",{className:"auth-page login-page",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsxs)("div",{className:"row",children:[(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"auth-form login-form",children:[(0,Pa.jsx)("div",{className:"auth-form-header",children:(0,Pa.jsx)("a",{href:"/","aria-label":"Go to homepage",children:(0,Pa.jsx)("img",{src:gR,alt:"Reloaded logo"})})}),(0,Pa.jsxs)("div",{className:"auth-form-body",children:[(0,Pa.jsx)("h2",{children:e("link_forget_password")}),(0,Pa.jsxs)("form",{onSubmit:n.handleSubmit,children:[(0,Pa.jsxs)("div",{className:"form-group mb-3",children:[(0,Pa.jsx)("label",{htmlFor:"email",className:"form-label cp",children:e("label_login_ID")}),(0,Pa.jsx)("input",{type:"email",name:"email",id:"email",className:"form-control",placeholder:e("placeholder_login_ID"),onChange:n.handleChange,onBlur:n.handleBlur,value:n.values.email}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"email",form:n})})]}),(0,Pa.jsx)("div",{children:(0,Pa.jsx)(qt,{to:"/psychic/login",className:"cp text-primary fw-bold",children:e("link_back_to_login")})}),(0,Pa.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",children:e("btn_submit")})]})]})]})}),(0,Pa.jsxs)("div",{className:"bg-login-img",children:[(0,Pa.jsx)("img",{src:LO,alt:"",role:"presentation","aria-hidden":"true"}),(0,Pa.jsx)("img",{src:MO,className:"stone-img",alt:"",role:"presentation","aria-hidden":"true"})]})]})})})};const wD=function(){const e=gn(),t=ot();return window.navigate_=t,(0,a.useLayoutEffect)(()=>{Promise.all([n.e(832).then(n.bind(n,7832)),n.e(635).then(n.bind(n,635)),n.e(401).then(n.bind(n,8401))]).then(()=>{e(hr(!1))})},[]),(0,a.useEffect)(()=>{(async()=>{try{Ga("Reloaded Astrology"),setTimeout(()=>{e(hr(!1))},100)}catch(t){console.error("Error fetching psychic details:",t),e(hr(!1))}})()},[e]),(0,Pa.jsx)("div",{children:(0,Pa.jsx)("div",{className:"inner-wraper",children:(0,Pa.jsx)(Ct,{})})})};var ED=function(e){return"object"===typeof e&&null!==e},SD=function(e){var t=e.value,n=void 0===t?"":t,i=e.numInputs,r=void 0===i?4:i,s=e.onChange,o=e.onPaste,l=e.renderInput,c=e.shouldAutoFocus,d=void 0!==c&&c,u=e.inputType,h=void 0===u?"text":u,p=e.renderSeparator,m=e.placeholder,f=e.containerStyle,g=e.inputStyle,_=e.skipDefaultStyles,v=void 0!==_&&_,b=a.useState(0),y=b[0],x=b[1],w=a.useRef([]),E=function(){return n?n.toString().split(""):[]},S="number"===h||"tel"===h;a.useEffect(function(){w.current=w.current.slice(0,r)},[r]),a.useEffect(function(){var e;d&&(null===(e=w.current[0])||void 0===e||e.focus())},[d]);var C=function(){if("string"===typeof m){if(m.length===r)return m;m.length>0&&console.error("Length of the placeholder should be equal to the number of inputs.")}},T=function(e){return(S?!isNaN(Number(e)):"string"===typeof e)&&1===e.trim().length},N=function(e){var t=e.target.value;T(t)&&(O(t),I(y+1))},A=function(e){var t=e.nativeEvent,n=e.target.value;if(!T(n)){if(n.length===r)n.split("").some(function(e){return!T(e)})||(j(n.split("")),I(r-1));null===t.data&&"deleteContentBackward"===t.inputType&&(e.preventDefault(),O(""),I(y-1)),e.target.value=""}},k=function(){x(y-1)},R=function(e){var t=E();[e.code,e.key].includes("Backspace")?(e.preventDefault(),O(""),I(y-1)):"Delete"===e.code?(e.preventDefault(),O("")):"ArrowLeft"===e.code?(e.preventDefault(),I(y-1)):"ArrowRight"===e.code||e.key===t[y]?(e.preventDefault(),I(y+1)):"Spacebar"!==e.code&&"Space"!==e.code&&"ArrowUp"!==e.code&&"ArrowDown"!==e.code||e.preventDefault()},I=function(e){var t,n,i=Math.max(Math.min(r-1,e),0);w.current[i]&&(null===(t=w.current[i])||void 0===t||t.focus(),null===(n=w.current[i])||void 0===n||n.select(),x(i))},O=function(e){var t=E();t[y]=e[0],j(t)},j=function(e){var t=e.join("");s(t)},P=function(e){var t;e.preventDefault();var n=E(),i=y,a=e.clipboardData.getData("text/plain").slice(0,r-y).split("");if(!S||!a.some(function(e){return isNaN(Number(e))})){for(var s=0;s<r;++s)s>=y&&a.length>0&&(n[s]=null!==(t=a.shift())&&void 0!==t?t:"",i++);I(i),j(n)}};return a.createElement("div",{style:Object.assign({display:"flex",alignItems:"center"},ED(f)&&f),className:"string"===typeof f?f:void 0,onPaste:o},Array.from({length:r},function(e,t){return t}).map(function(e){var t,n,i;return a.createElement(a.Fragment,{key:e},l({value:null!==(t=E()[e])&&void 0!==t?t:"",placeholder:null!==(i=null===(n=C())||void 0===n?void 0:n[e])&&void 0!==i?i:void 0,ref:function(t){return w.current[e]=t},onChange:N,onFocus:function(t){return function(e){return function(t){x(t),e.target.select()}}(t)(e)},onBlur:k,onKeyDown:R,onPaste:P,autoComplete:"off","aria-label":"Please enter OTP character ".concat(e+1),style:Object.assign(v?{}:{width:"1em",textAlign:"center"},ED(g)?g:{}),className:"string"===typeof g?g:void 0,type:h,inputMode:S?"numeric":"text",onInput:A},e),e<r-1&&("function"===typeof p?p(e):p))}))};const CD=function(){const{t:e}=As(),t=ot(),n=at(),{state:i}=at(),[r,s]=(0,a.useState)(""),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(0),u=vf().shape({otp:rf().required(e("validation_OTP_is_required")).length(4,e("otp_error_msg")).matches(/^\d{4}$/,e("invalid_otp"))});(0,a.useEffect)(()=>{let e;return null!==i&&void 0!==i&&i.email&&0!==(null===i||void 0===i?void 0:i.email.length)||t("/psychic/login"),c>0?e=setTimeout(()=>d(c-1),1e3):l(!1),()=>clearTimeout(e)},[c]);const h=async()=>{ls(!0),l(!0),d(30);let e=new FormData;e.append("email",null===i||void 0===i?void 0:i.email),e.append("type","psychic_password_reset"),(async e=>await oc().post("".concat(UO,"/resend-otp"),e))(e).then(e=>{ls(!1),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:e.message},Rs.SWAL_SETTINGS))}).catch(e=>{ls(!1),console.log("error: ",e)})};return(0,Pa.jsx)(Pa.Fragment,{children:(0,Pa.jsx)("div",{className:"auth-page login-page",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsxs)("div",{className:"row",children:[(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"auth-form login-form",children:[(0,Pa.jsx)("div",{className:"auth-form-header",children:(0,Pa.jsx)("a",{href:"/","aria-label":"Go to homepage",children:(0,Pa.jsx)("img",{src:gR,alt:"Reloaded logo"})})}),(0,Pa.jsxs)("div",{className:"auth-form-body",children:[(0,Pa.jsx)("h2",{children:e("link_forget_password")}),(0,Pa.jsx)(kp,{initialValues:{otp:""},onSubmit:async(e,r)=>{const a=e.otp;console.log(a),ls(!0);try{await u.validate(e,{abortEarly:!1});let s=new FormData;s.append("email",null===i||void 0===i?void 0:i.email),s.append("otp",a),s.append("type","psychic_password_reset"),(async e=>await oc().post("".concat(UO,"/verify-otp"),e))(s).then(e=>{var i;(ls(!1),e.success&&n.pathname.includes("otp-verification"))?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),t("/psychic/reset-password",{state:{validate_string:null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.validate_string}})):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error: ",e)}),r.setSubmitting(!1)}catch(s){console.log(s);const e={};r.setErrors(e),ls(!1)}},validationSchema:u,children:t=>{let{errors:n,touched:i,setFieldValue:o}=t;return(0,Pa.jsxs)(Dp,{children:[(0,Pa.jsx)("div",{className:"d-flex w-100 justify-content-between ".concat(n.otp&&i.otp?"":"mb-4"),children:(0,Pa.jsx)("div",{className:"col-md-3 number-otp-section",children:(0,Pa.jsx)(Pp,{name:"otp",children:e=>{let{field:t}=e;return(0,Pa.jsx)(SD,Tn(Tn({},t),{},{value:r,inputType:"number",onChange:e=>{s(e),o("otp",e)},numInputs:4,separator:(0,Pa.jsx)("span",{children:"-"}),renderInput:(e,t)=>(0,a.createElement)("input",Tn(Tn({},e),{},{key:t,className:"form-control",style:{width:"6rem",marginRight:"10px",textAlign:"center",fontWeight:600},maxLength:"1",autoFocus:0===t,placeholder:"-"}))}))}})})}),n.otp&&i.otp&&(0,Pa.jsx)("div",{className:"text-danger mb-4",children:n.otp}),(0,Pa.jsx)("button",{className:"btn btn-primary justify-content-center",type:"submit",children:e("verify_otp")})]})}}),(0,Pa.jsxs)("div",{className:"login-cta-bottom mt-3",children:[(0,Pa.jsxs)("p",{children:[e("otp_not_receive")," ",(0,Pa.jsx)("a",{className:"".concat(o?" disabled":""," text-primary fw-bold"),onClick:e=>{e.preventDefault(),o||h()},href:"/",children:e("btn_resend")}),o&&(0,Pa.jsxs)("span",{className:"text-secondary ms-2",children:["(",c,")"]})]}),(0,Pa.jsx)("p",{className:"",children:(0,Pa.jsx)(qt,{className:"text-primary fw-bold",to:"/psychic/login",children:e("link_back_to_login")})})]})]})]})}),(0,Pa.jsxs)("div",{className:"bg-login-img",children:[(0,Pa.jsx)("img",{src:LO,alt:"",role:"presentation"}),(0,Pa.jsx)("img",{src:MO,className:"stone-img",alt:"",role:"presentation"})]})]})})})})},TD=()=>{const e=ot(),{state:t}=at(),[n,i]=(0,a.useState)("false"),[r,s]=(0,a.useState)("false"),{t:o}=As(),l=vf().shape({newPassword:rf().required(o("label_new_password_error")).matches(Rs.ATLEAST_ONE_SMALL_REGEX,o("password_validation_lowercase")).matches(Rs.ATLEAST_ONE_CAPITAL_REGEX,o("Password_Validation_uppercase")).matches(Rs.ATLEAST_ONE_NUMBER_REGEX,o("Password_Validation_number")).matches(Rs.ATLEAST_ONE_SPECIAL_CHARACTER_REGEX,o("Password_Validation_special_char")).min(Rs.PASSWORD_MIN_LENGTH,o("Password_Validation_minimum_length")).max(Rs.PASSWORD_MAX_LENGTH,o("Password_Validation_maximum_length")),confirmPassword:rf().required(o("label_confirm_password_error")).oneOf([Om("newPassword"),null],o("password_validation_does_not_match"))});(0,a.useEffect)(()=>{},[t,e]);const c=Ap({initialValues:{newPassword:"",confirmPassword:""},validationSchema:l,onSubmit:(n,i)=>{let{resetForm:r}=i;ls(!0);const a=new FormData;a.append("new_password",n.newPassword),a.append("confirm_password",n.confirmPassword),a.append("validate_string",t.validate_string),(async e=>await oc().post("".concat(UO,"/reset-password"),e))(a).then(t=>{ls(!1),t.success?(zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),r(),e("/psychic/login")):zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS))}).catch(e=>{ls(!1),console.log("error---\x3e",e)})}}),d=e=>{"newpwd"===e&&i(!n),"confirmpwd"===e&&s(!r)};return(0,Pa.jsx)("div",{className:"auth-page login-page",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsxs)("div",{className:"row",children:[(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"auth-form login-form",children:[(0,Pa.jsx)("div",{className:"auth-form-header",children:(0,Pa.jsx)("a",{href:"/","aria-label":"Go to homepage",children:(0,Pa.jsx)("img",{src:gR,alt:"Reloaded logo"})})}),(0,Pa.jsxs)("div",{className:"auth-form-body",children:[(0,Pa.jsx)("h2",{children:o("link_forget_password")}),(0,Pa.jsxs)("form",{onSubmit:c.handleSubmit,children:[(0,Pa.jsxs)("div",{className:"form-group mb-2",children:[(0,Pa.jsxs)("label",{htmlFor:"newPassword",className:"form-label",children:[o("label_new_password")," ",(0,Pa.jsx)("span",{children:"*"})]}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{type:n?"password":"text",id:"newPassword",name:"newPassword",className:"form-control border-end-0",placeholder:o("placeholder_new_password"),value:c.values.newPassword,onChange:c.handleChange,onBlur:c.handleBlur}),(0,Pa.jsx)("span",{style:{fontSize:"25px"},className:"input-group-text cp restaurant-password-toggle",onClick:()=>{d("newpwd")},children:!0===n?(0,Pa.jsx)("i",{className:"ti ti-eye"}):(0,Pa.jsx)("i",{className:"ti ti-eye-off"})})]}),(0,Pa.jsx)(DR,{name:"newPassword",form:c,className:"text-danger"})]}),(0,Pa.jsxs)("div",{className:"form-group mb-2",children:[(0,Pa.jsxs)("label",{htmlFor:"confirmPassword",className:"form-label",children:[o("label_confirm_password"),(0,Pa.jsx)("span",{children:"*"})]}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{type:r?"password":"text",id:"confirmPassword",name:"confirmPassword",className:"form-control border-end-0",placeholder:o("placeholder_confirm_password"),value:c.values.confirmPassword,onChange:c.handleChange,onBlur:c.handleBlur}),(0,Pa.jsx)("span",{style:{fontSize:"25px"},className:"input-group-text cp restaurant-password-toggle",onClick:()=>{d("confirmpwd")},children:!0===r?(0,Pa.jsx)("i",{className:"ti ti-eye"}):(0,Pa.jsx)("i",{className:"ti ti-eye-off"})})]}),(0,Pa.jsx)(DR,{name:"confirmPassword",form:c,className:"text-danger"})]}),(0,Pa.jsxs)("button",{className:"btn btn-primary mt-4 justify-content-center",children:[" ",o("btn_submit")]})]}),(0,Pa.jsx)("div",{className:"login-cta-bottom mt-3",children:(0,Pa.jsxs)("p",{className:"mb-2",children:[o("did_you_remembered_your_password"),"?"," ",o("label_try_to")," ",(0,Pa.jsx)(qt,{className:"text-primary fw-bold",to:"/psychic/login",children:o("link_login")})]})})]})]})}),(0,Pa.jsxs)("div",{className:"bg-login-img",children:[(0,Pa.jsx)("img",{src:LO,alt:"",role:"presentation"}),(0,Pa.jsx)("img",{src:MO,className:"stone-img",alt:"",role:"presentation"})]})]})})})},ND=()=>{const{t:e}=As(),t=ct(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)("false"),[u,h]=(0,a.useState)(""),[p]=(0,a.useState)(10),[m,f]=(0,a.useState)({}),[g,_]=(0,a.useState)(!0),[v,b]=(0,a.useState)(1),[y,x]=(0,a.useState)(!0),[w,E]=(0,a.useState)({}),[S,C]=(0,a.useState)(""),T=[{title:e("link_dashboard"),url:"/admin/dashboard"},{title:e("User"),url:""}],[N,A]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=setTimeout(()=>{if(w){x(!0);const e=new FormData;e.append("page",t.pgno),e.append("per_page",p),e.append("sort",JSON.stringify(m)),e.append("search",JSON.stringify(w)),e.append("global_search",S),(async e=>await oc($p).post("".concat(em,"/list"),e))(e).then(e=>{h(e.data.total_records),s(e&&e.data&&e.data.list&&Array.isArray(e.data.list)?e.data.list:[]),b(e&&e.data&&e.data.page?e.data.page:1),x(!1)}).catch(e=>{console.log("error ====> ",e)})}},300);return()=>clearTimeout(e)},[n,o,m,w,S,p,t.pgno]);const k=(t,n)=>{zr().fire({customClass:"swal-wide",title:e("Are you sure you want to ".concat(0===n?"deactivate":"activate"," this User ?")),icon:"warning",showCancelButton:!0,cancelButtonText:e("btn_cancel"),confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:e("btn_yes")}).then(e=>{e.isConfirmed&&(async e=>await oc($p).put("".concat(em,"/change-status"),e))({o_id:t,status:n}).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),l(!o)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error===>")})})};function R(t){zr().fire({customClass:"swal-wide",title:e("msg_are_you_sure"),text:e("you_not_be_able_to_revert_this"),icon:"warning",showCancelButton:!0,cancelButtonText:e("btn_cancel"),confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:e("btn_yes_delete")}).then(e=>{e.isConfirmed&&(async e=>await oc($p).delete("".concat(em,"/delete?o_id=").concat(e)))(t).then(e=>{l(!o),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})})}const I=(e,t)=>{_(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,f(n)},O=(e,t)=>{let n=Tn({},w);String(t).length>0?n[e]=t:delete n[e],E(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:T}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:e("Users")}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:S,placeholder:e("input_placeholder_search"),onChange:e=>{C(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{O("createdAt",e)},resetdate:N})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(eR,{data:Rs.showFilterlist,prepareSearch:O})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),C(""),O(),E({}),A(!N),Br()("#defaultstatus")[0].selectedIndex=0},className:"btn btn-warning float-right mr-2",children:e("btn_reset_filter")}),(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn mr-2",onClick:()=>i("/admin/user-management/user/add"),children:e("Add User")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("list_heading_sno")})}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("label_name")}),(0,Pa.jsx)(Ff,{sort:m,handleSort:I,column:"name"})]})}),(0,Pa.jsx)("th",{children:e("list_heading_email")}),(0,Pa.jsx)("th",{className:"",children:e("list_heading_phone_number")}),(0,Pa.jsx)("th",{className:"created_head",children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("list_heading_created_date")}),(0,Pa.jsx)(Ff,{sort:m,handleSort:I,defaultSorting:g,column:"createdAt"})]})}),(0,Pa.jsx)("th",{className:"status_head",children:e("list_heading_status")}),(0,Pa.jsx)("th",{className:"action_head",children:e("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:y?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:14,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((n,r)=>(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:n?(v-1)*p+r+1:null}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.name?(0,Pa.jsx)("div",{className:"d-flex",children:null!==n&&void 0!==n&&n.name?n.name:"N/A"}):(0,Pa.jsx)("div",{className:"d-flex",children:"N/A"})}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.email?n.email:"N/A"}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.phone_number?n.phone_number:"N/A"}),(0,Pa.jsx)("td",{children:n.createdAt?Ha(n.createdAt):"N/A"}),(0,Pa.jsx)("td",{children:1===n.status?(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{k(null===n||void 0===n?void 0:n._id,0)},children:e("btn_active")}):(0,Pa.jsx)("button",{className:"btn ripple btn-secondary",onClick:()=>{k(null===n||void 0===n?void 0:n._id,1)},children:e("btn_inactive")})}),(0,Pa.jsx)("td",{children:(0,Pa.jsxs)("div",{className:"d-flex",children:[(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{(e=>{i("/admin/user-management/user/view/".concat(e._id,"/1"))})(n)},children:e("btn_view")}),(0,Pa.jsx)("button",{className:"btn ripple btn-success mlAction",onClick:()=>{(e=>{i("/admin/user-management/user/".concat(t.pgno,"/edit/").concat(e._id))})(n)},children:e("btn_edit")}),(0,Pa.jsx)("button",{className:"btn ripple btn-secondary mlAction",onClick:()=>{R(null===n||void 0===n?void 0:n._id)},children:e("btn_delete")}),(0,Pa.jsx)("button",{className:"btn ripple btn-info mlAction",onClick:()=>{i("/admin/user-management/user/".concat(t.pgno,"/subscription-history/list/1/").concat(n._id))},children:e("Subscription History")})]})})]},r)):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:14,className:"text-center",children:e("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[e("msg_total_records")," : ",u||"0"]})}),u&&u>0?(0,Pa.jsx)(Uf,{datalength:u,itemperpage:p,currentPage:v,setPage:b,pageRoute:[{name:"Psychic",path:"/admin/user-management/user/list"}]}):""]})})})]})},AD={role:Rs.ROLE.SUPER_ADMIN},kD="admin/subscription-plan",RD=async e=>await oc(AD).get("".concat(kD,"/details?o_id=").concat(e)),ID=async e=>await oc(AD).post("".concat(kD,"/history/list"),e),OD=async e=>await oc(AD).get("".concat(kD,"/history/details?o_id=").concat(e)),jD=e=>{const t=ot(),{t:n}=As(),i=at(),r=ct(),[s,o]=(0,a.useState)({}),[l,c]=(0,a.useState)("false"),[d,u]=(0,a.useState)("details"),[h,p]=(0,a.useState)([]),[m,f]=(0,a.useState)(""),[g]=(0,a.useState)(10),[_,v]=(0,a.useState)({}),[b,y]=(0,a.useState)(!0),[x,w]=(0,a.useState)(1),[E,S]=(0,a.useState)({}),[C,T]=(0,a.useState)(""),[N,A]=(0,a.useState)(!0),[k,R]=(0,a.useState)(!1),I=[{title:n("link_dashboard"),url:"/admin/dashboard"},{title:n("User"),url:"/admin/user-management/user/list/1"},{title:n("View"),url:""}];(0,a.useEffect)(()=>{tm(r.id).then(e=>{o(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[r.id,l]),(0,a.useEffect)(()=>{if("subscriptionHistory"!=d)return;const e=setTimeout(()=>{if(E){A(!0);const e=new FormData;e.append("page",r.pgno),e.append("per_page",g),e.append("sort",JSON.stringify(_)),e.append("search",JSON.stringify(E)),e.append("global_search",C),ID(e).then(e=>{f(e.data.total_records),p(e&&e.data&&e.data.list?e.data.list:[]),w(e&&e.data&&e.data.page?e.data.page:1),A(!1)}).catch(e=>{A(!1),console.log("error ====> ",e)})}},300);return()=>clearTimeout(e)},[d,i,l,_,E,C,g,r.pgno]);return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:I}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsxs)("div",{className:"card custom-card",children:[(0,Pa.jsx)("ul",{className:"nav nav-tabs mb-2 mt-3 ms-4",children:(0,Pa.jsx)("li",{className:"nav-item",children:(0,Pa.jsx)("button",{className:"nav-link ".concat("details"===d?"active":""),onClick:()=>u("details"),children:n("View Details")})})}),(0,Pa.jsx)("div",{className:"card-body",children:s&&Object.keys(s).length>0?(0,Pa.jsx)("div",{className:"row",children:"details"===d&&(0,Pa.jsx)("div",{className:"col-lg-12 form-group",children:(0,Pa.jsx)("table",{id:"simple-table",className:"table table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:"Profile Image"}),(0,Pa.jsx)("td",{children:(0,Pa.jsx)("img",{src:(null===s||void 0===s?void 0:s.profile_image)||"N/A",alt:"profile",style:{height:"100px"}})})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Name")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:(null===s||void 0===s?void 0:s.name)||"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("label_email")}),(0,Pa.jsx)("td",{children:(null===s||void 0===s?void 0:s.email)||"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("label_phone_number")}),(0,Pa.jsx)("td",{children:(null===s||void 0===s?void 0:s.phone_number)||"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Gender")}),(0,Pa.jsx)("td",{children:(null===s||void 0===s?void 0:s.gender)||"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:"Date of Birth"}),(0,Pa.jsx)("td",{className:"text-capitalize",children:null!==s&&void 0!==s&&s.date_of_birth?Wa(null===s||void 0===s?void 0:s.date_of_birth):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:"Time of Birth"}),(0,Pa.jsx)("td",{className:"text-capitalize",children:(null===s||void 0===s?void 0:s.time_of_birth)||"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:"Place of Birth"}),(0,Pa.jsx)("td",{className:"text-capitalize",children:(null===s||void 0===s?void 0:s.place_of_birth)||"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Country")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:(null===s||void 0===s?void 0:s.country)||"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("State")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:(null===s||void 0===s?void 0:s.state)||"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("City")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:(null===s||void 0===s?void 0:s.city)||"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("list_heading_created_date")}),(0,Pa.jsx)("td",{children:null!==s&&void 0!==s&&s.createdAt?Wa(s.createdAt):"N/A"})]})]})})})}):(0,Pa.jsx)(Bf,{})}),(0,Pa.jsx)("div",{className:"mt-2 back-button",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>t(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),n("btn_back")]})})]})})})]})};const PD=function(){var e,t;const[n]=Zt(),{t:i}=As(),r=ct(),s=ot(),[o,l]=(n.get("page_slug"),(0,a.useState)({})),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(Qa("system_language"));return(0,a.useEffect)(()=>{const e=()=>{const e=Qa("system_language");h(e)};return document.addEventListener("language_change",e),()=>{document.removeEventListener("language_change",e)}},[]),(0,a.useEffect)(()=>{(async e=>await oc().get("".concat(vR,"/cms-page?page_slug=").concat(e)))(r.slug).then(e=>{d(!0),l(e&&null!==e&&void 0!==e&&e.data?null===e||void 0===e?void 0:e.data:{})}).catch(e=>{console.log("Error===>",e)})},[s,r.slug,u]),(0,Pa.jsx)(Pa.Fragment,{children:c?null!==(e=Object.entries(o))&&void 0!==e&&e.length?(0,Pa.jsxs)("div",{className:"inner-wraper",children:[(0,Pa.jsx)("div",{className:"banner-inner-head",children:(0,Pa.jsx)("div",{className:"container-fluid",children:(0,Pa.jsxs)("div",{className:"banner-inner-wrap d-flex align-items-center justify-content-center",children:[(0,Pa.jsx)("img",{alt:"".concat(null===o||void 0===o||null===(t=o.title)||void 0===t?void 0:t.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"-"),"-banner"),className:"banner-bg",src:HR}),(0,Pa.jsx)("div",{className:"banner-content d-flex flex-column gap-4",children:(0,Pa.jsx)("h1",{children:os(null===o||void 0===o?void 0:o.title)})})]})})}),(0,Pa.jsx)("div",{className:"breadcrumb-container container-fluid",children:(0,Pa.jsx)("nav",{"aria-label":"breadcrumb",className:"mt-4",children:(0,Pa.jsxs)("ol",{className:"breadcrumb gap-2 justify-content-start align-items-center",children:[(0,Pa.jsx)("li",{className:"breadcrumb-item",children:(0,Pa.jsx)(qt,{to:"/",children:i("header_home")})}),(0,Pa.jsx)("li",{className:"breadcrumb-item active","aria-current":"page",children:os(null===o||void 0===o?void 0:o.title)})]})})}),(0,Pa.jsx)("div",{className:"inner-content",children:(0,Pa.jsx)("div",{className:"cms-content py-12",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsx)("div",{className:"cms-content-wraper row row-gap-4",children:(0,Pa.jsx)("div",{dangerouslySetInnerHTML:{__html:null!==o&&void 0!==o&&o.description?null===o||void 0===o?void 0:o.description:(0,Pa.jsx)(AR,{heading:"web_record_not_found_heading"})}})})})})})]}):(0,Pa.jsx)(AR,{heading:"web_record_not_found_heading"}):(0,Pa.jsx)("section",{className:"section-padding",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsx)("div",{className:"row justify-content-center",children:(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsx)("div",{className:"card m-5",children:(0,Pa.jsx)("div",{className:"card-body",children:(0,Pa.jsx)(OR,{className:"rounded-1",height:400,count:1})})})})})})})})};var DD=a.forwardRef(function(e,t){var n=_x("TimePicker",e),i=n.propsWithDefaults,r=(0,n.getLocale)("DateTimeFormats"),s=(0,a.useMemo)(function(){return[{label:null===r||void 0===r?void 0:r.now,value:function(){return new Date}}]},[r]);return a.createElement(fj,Vf({ref:t,format:null===r||void 0===r?void 0:r.shortTimeFormat,ranges:s},i))});DD.displayName="TimePicker";const LD=DD;function MD(e){return MD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MD(e)}function UD(e){var t=function(e,t){if("object"!=MD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=MD(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MD(t)?t:t+""}function FD(e,t,n){return(t=UD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BD(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var VD,zD;var HD=(zD||(zD=1,VD=function(e,t,n,i,r,a,s,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,r,a,s,o],d=0;(l=new Error(t.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}),VD),WD=BD(HD),GD=(0,a.createContext)(null);function qD(e,t,n,i){var r,a,s={};return r=e,a=(e,r)=>{var a=n[r];a!==t[r]&&(s[r]=a,e(i,a))},Object.keys(r).forEach(e=>a(r[e],e)),s}function YD(e,t,n){var i,r,a,s=(i=n,r=function(n,i,r){return"function"===typeof e[r]&&n.push(google.maps.event.addListener(t,i,e[r])),n},a=[],Object.keys(i).reduce(function(e,t){return r(e,i[t],t)},a));return s}function XD(e){google.maps.event.removeListener(e)}function KD(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(XD)}function JD(e){var{updaterMap:t,eventMap:n,prevProps:i,nextProps:r,instance:a}=e,s=YD(r,a,n);return qD(t,i,r,a),s}(0,a.memo)(function(e){var{children:t,options:n,id:i,mapContainerStyle:r,mapContainerClassName:s,center:o,onClick:l,onDblClick:c,onDrag:d,onDragEnd:u,onDragStart:h,onMouseMove:p,onMouseOut:m,onMouseOver:f,onMouseDown:g,onMouseUp:_,onRightClick:v,onCenterChanged:b,onLoad:y,onUnmount:x}=e,[w,E]=(0,a.useState)(null),S=(0,a.useRef)(null),[C,T]=(0,a.useState)(null),[N,A]=(0,a.useState)(null),[k,R]=(0,a.useState)(null),[I,O]=(0,a.useState)(null),[j,P]=(0,a.useState)(null),[D,L]=(0,a.useState)(null),[M,U]=(0,a.useState)(null),[F,B]=(0,a.useState)(null),[V,z]=(0,a.useState)(null),[H,W]=(0,a.useState)(null),[G,q]=(0,a.useState)(null),[Y,X]=(0,a.useState)(null);return(0,a.useEffect)(()=>{n&&null!==w&&w.setOptions(n)},[w,n]),(0,a.useEffect)(()=>{null!==w&&"undefined"!==typeof o&&w.setCenter(o)},[w,o]),(0,a.useEffect)(()=>{w&&c&&(null!==N&&google.maps.event.removeListener(N),A(google.maps.event.addListener(w,"dblclick",c)))},[c]),(0,a.useEffect)(()=>{w&&u&&(null!==k&&google.maps.event.removeListener(k),R(google.maps.event.addListener(w,"dragend",u)))},[u]),(0,a.useEffect)(()=>{w&&h&&(null!==I&&google.maps.event.removeListener(I),O(google.maps.event.addListener(w,"dragstart",h)))},[h]),(0,a.useEffect)(()=>{w&&g&&(null!==j&&google.maps.event.removeListener(j),P(google.maps.event.addListener(w,"mousedown",g)))},[g]),(0,a.useEffect)(()=>{w&&p&&(null!==D&&google.maps.event.removeListener(D),L(google.maps.event.addListener(w,"mousemove",p)))},[p]),(0,a.useEffect)(()=>{w&&m&&(null!==M&&google.maps.event.removeListener(M),U(google.maps.event.addListener(w,"mouseout",m)))},[m]),(0,a.useEffect)(()=>{w&&f&&(null!==F&&google.maps.event.removeListener(F),B(google.maps.event.addListener(w,"mouseover",f)))},[f]),(0,a.useEffect)(()=>{w&&_&&(null!==V&&google.maps.event.removeListener(V),z(google.maps.event.addListener(w,"mouseup",_)))},[_]),(0,a.useEffect)(()=>{w&&v&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(w,"rightclick",v)))},[v]),(0,a.useEffect)(()=>{w&&l&&(null!==G&&google.maps.event.removeListener(G),q(google.maps.event.addListener(w,"click",l)))},[l]),(0,a.useEffect)(()=>{w&&d&&(null!==Y&&google.maps.event.removeListener(Y),X(google.maps.event.addListener(w,"drag",d)))},[d]),(0,a.useEffect)(()=>{w&&b&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(w,"center_changed",b)))},[l]),(0,a.useEffect)(()=>{var e=null===S.current?null:new google.maps.Map(S.current,n);return E(e),null!==e&&y&&y(e),()=>{null!==e&&x&&x(e)}},[]),(0,Pa.jsx)("div",{id:i,ref:S,style:r,className:s,children:(0,Pa.jsx)(GD.Provider,{value:w,children:null!==w?t:null})})});a.PureComponent;function ZD(e,t,n,i,r,a,s){try{var o=e[a](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(i,r)}function QD(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var a=e.apply(t,n);function s(e){ZD(a,i,r,s,o,"next",e)}function o(e){ZD(a,i,r,s,o,"throw",e)}s(void 0)})}}function $D(e){var{googleMapsApiKey:t,googleMapsClientId:n,version:i="weekly",language:r,region:a,libraries:s,channel:o,mapIds:l,authReferrerPolicy:c,apiUrl:d="https://maps.googleapis.com"}=e,u=[];return WD(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?u.push("key=".concat(t)):n&&u.push("client=".concat(n)),i&&u.push("v=".concat(i)),r&&u.push("language=".concat(r)),a&&u.push("region=".concat(a)),s&&s.length&&u.push("libraries=".concat(s.sort().join(","))),o&&u.push("channel=".concat(o)),l&&l.length&&u.push("map_ids=".concat(l.join(","))),c&&u.push("auth_referrer_policy=".concat(c)),u.push("loading=async"),u.push("callback=initMap"),"".concat(d,"/maps/api/js?").concat(u.join("&"))}var eL="undefined"!==typeof document;function tL(e){var{url:t,id:n,nonce:i}=e;return eL?new Promise(function(e,r){var a=document.getElementById(n),s=window;if(a){var o=a.getAttribute("data-state");if(a.src===t&&"error"!==o){if("ready"===o)return e(n);var l=s.initMap,c=a.onerror;return s.initMap=function(){l&&l(),e(n)},void(a.onerror=function(e){c&&c(e),r(e)})}a.remove()}var d=document.createElement("script");d.type="text/javascript",d.src=t,d.id=n,d.async=!0,d.nonce=i||"",d.onerror=function(e){d.setAttribute("data-state","error"),r(e)},s.initMap=function(){d.setAttribute("data-state","ready"),e(n)},document.head.appendChild(d)}).catch(e=>{throw console.error("injectScript error: ",e),e}):Promise.reject(new Error("document is undefined"))}function nL(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function iL(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,i){return nL(n)||Reflect.apply(t,e,[n,i]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return nL(t)||Reflect.apply(n,e,[t]),t}}}var rL=!1;function aL(){return(0,Pa.jsx)("div",{children:"Loading..."})}var sL,oL={id:"script-loader",version:"weekly"};class lL extends a.PureComponent{constructor(){super(...arguments),FD(this,"check",null),FD(this,"state",{loaded:!1}),FD(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),FD(this,"isCleaningUp",QD(function*(){return new Promise(function(e){if(rL){if(eL)var t=window.setInterval(function(){rL||(window.clearInterval(t),e())},1)}else e()})})),FD(this,"cleanup",()=>{rL=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")}).forEach(function(e){e.parentNode&&e.parentNode.removeChild(e)})}),FD(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&iL(),WD(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id),tL({id:this.props.id,nonce:this.props.nonce,url:$D(this.props)}).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(e=>{this.props.onError&&this.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))})}),FD(this,"getRef",e=>{this.check=e})}componentDidMount(){if(eL){if(window.google&&window.google.maps&&!rL)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch(function(e){console.error("Error at injecting script after cleaning up: ",e)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),eL&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(eL){this.cleanup();window.setTimeout(()=>{this.check||(delete window.google,rL=!1)},1),this.props.onUnmount&&this.props.onUnmount()}}render(){return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||(0,Pa.jsx)(aL,{})]})}}function cL(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dL(e){var{id:t=oL.id,version:n=oL.version,nonce:i,googleMapsApiKey:r,googleMapsClientId:s,language:o,region:l,libraries:c,preventGoogleFontsLoading:d,channel:u,mapIds:h,authReferrerPolicy:p,apiUrl:m="https://maps.googleapis.com"}=e,f=(0,a.useRef)(!1),[g,_]=(0,a.useState)(!1),[v,b]=(0,a.useState)(void 0);(0,a.useEffect)(function(){return f.current=!0,()=>{f.current=!1}},[]),(0,a.useEffect)(function(){eL&&d&&iL()},[d]),(0,a.useEffect)(function(){g&&WD(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[g]);var y=$D({version:n,googleMapsApiKey:r,googleMapsClientId:s,language:o,region:l,libraries:c,channel:u,mapIds:h,authReferrerPolicy:p,apiUrl:m});(0,a.useEffect)(function(){function e(){f.current&&(_(!0),sL=y)}eL&&(window.google&&window.google.maps&&sL===y?e():tL({id:t,url:y,nonce:i}).then(e).catch(function(e){f.current&&b(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(r||"-",") or Client ID (").concat(s||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)}))},[t,y,i]);var x=(0,a.useRef)(void 0);return(0,a.useEffect)(function(){x.current&&c!==x.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),x.current=c},[c]),{isLoaded:g,loadError:v,url:y}}FD(lL,"defaultProps",oL);var uL=["loadingElement","onLoad","onError","onUnmount","children"],hL=(0,Pa.jsx)(aL,{});(0,a.memo)(function(e){var{loadingElement:t,onLoad:n,onError:i,onUnmount:r,children:s}=e,o=cL(e,uL),{isLoaded:l,loadError:c}=dL(o);return(0,a.useEffect)(function(){l&&"function"===typeof n&&n()},[l,n]),(0,a.useEffect)(function(){c&&"function"===typeof i&&i(c)},[c,i]),(0,a.useEffect)(function(){return()=>{r&&r()}},[r]),l?s:t||hL});"function"===typeof SuppressedError&&SuppressedError;var pL;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(pL||(pL={}));function mL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function fL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mL(Object(n),!0).forEach(function(t){FD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var gL={},_L={options(e,t){e.setOptions(t)}};(0,a.memo)(function(e){var{options:t,onLoad:n,onUnmount:i}=e,r=(0,a.useContext)(GD),[s,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{null!==s&&s.setMap(r)},[r]),(0,a.useEffect)(()=>{t&&null!==s&&s.setOptions(t)},[s,t]),(0,a.useEffect)(()=>{var e=new google.maps.TrafficLayer(fL(fL({},t),{},{map:r}));return o(e),n&&n(e),()=>{null!==s&&(i&&i(s),s.setMap(null))}},[]),null});class vL extends a.PureComponent{constructor(){super(...arguments),FD(this,"state",{trafficLayer:null}),FD(this,"setTrafficLayerCallback",()=>{null!==this.state.trafficLayer&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),FD(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(fL(fL({},this.props.options),{},{map:this.context}));this.registeredEvents=JD({updaterMap:_L,eventMap:gL,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){null!==this.state.trafficLayer&&(KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:_L,eventMap:gL,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),KD(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}FD(vL,"contextType",GD);(0,a.memo)(function(e){var{onLoad:t,onUnmount:n}=e,i=(0,a.useContext)(GD),[r,s]=(0,a.useState)(null);return(0,a.useEffect)(()=>{null!==r&&r.setMap(i)},[i]),(0,a.useEffect)(()=>{var e=new google.maps.BicyclingLayer;return s(e),e.setMap(i),t&&t(e),()=>{null!==e&&(n&&n(e),e.setMap(null))}},[]),null});class bL extends a.PureComponent{constructor(){super(...arguments),FD(this,"state",{bicyclingLayer:null}),FD(this,"setBicyclingLayerCallback",()=>{null!==this.state.bicyclingLayer&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}FD(bL,"contextType",GD);(0,a.memo)(function(e){var{onLoad:t,onUnmount:n}=e,i=(0,a.useContext)(GD),[r,s]=(0,a.useState)(null);return(0,a.useEffect)(()=>{null!==r&&r.setMap(i)},[i]),(0,a.useEffect)(()=>{var e=new google.maps.TransitLayer;return s(e),e.setMap(i),t&&t(e),()=>{null!==r&&(n&&n(r),r.setMap(null))}},[]),null});class yL extends a.PureComponent{constructor(){super(...arguments),FD(this,"state",{transitLayer:null}),FD(this,"setTransitLayerCallback",()=>{null!==this.state.transitLayer&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}function xL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function wL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xL(Object(n),!0).forEach(function(t){FD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}FD(yL,"contextType",GD);var EL={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},SL={drawingMode(e,t){e.setDrawingMode(t)},options(e,t){e.setOptions(t)}};(0,a.memo)(function(e){var{options:t,drawingMode:n,onCircleComplete:i,onMarkerComplete:r,onOverlayComplete:s,onPolygonComplete:o,onPolylineComplete:l,onRectangleComplete:c,onLoad:d,onUnmount:u}=e,h=(0,a.useContext)(GD),[p,m]=(0,a.useState)(null),[f,g]=(0,a.useState)(null),[_,v]=(0,a.useState)(null),[b,y]=(0,a.useState)(null),[x,w]=(0,a.useState)(null),[E,S]=(0,a.useState)(null),[C,T]=(0,a.useState)(null);return(0,a.useEffect)(()=>{null!==p&&p.setMap(h)},[h]),(0,a.useEffect)(()=>{t&&null!==p&&p.setOptions(t)},[p,t]),(0,a.useEffect)(()=>{null!==p&&p.setDrawingMode(null!==n&&void 0!==n?n:null)},[p,n]),(0,a.useEffect)(()=>{p&&i&&(null!==f&&google.maps.event.removeListener(f),g(google.maps.event.addListener(p,"circlecomplete",i)))},[p,i]),(0,a.useEffect)(()=>{p&&r&&(null!==_&&google.maps.event.removeListener(_),v(google.maps.event.addListener(p,"markercomplete",r)))},[p,r]),(0,a.useEffect)(()=>{p&&s&&(null!==b&&google.maps.event.removeListener(b),y(google.maps.event.addListener(p,"overlaycomplete",s)))},[p,s]),(0,a.useEffect)(()=>{p&&o&&(null!==x&&google.maps.event.removeListener(x),w(google.maps.event.addListener(p,"polygoncomplete",o)))},[p,o]),(0,a.useEffect)(()=>{p&&l&&(null!==E&&google.maps.event.removeListener(E),S(google.maps.event.addListener(p,"polylinecomplete",l)))},[p,l]),(0,a.useEffect)(()=>{p&&c&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(p,"rectanglecomplete",c)))},[p,c]),(0,a.useEffect)(()=>{WD(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(wL(wL({},t),{},{map:h}));return n&&e.setDrawingMode(n),i&&g(google.maps.event.addListener(e,"circlecomplete",i)),r&&v(google.maps.event.addListener(e,"markercomplete",r)),s&&y(google.maps.event.addListener(e,"overlaycomplete",s)),o&&w(google.maps.event.addListener(e,"polygoncomplete",o)),l&&S(google.maps.event.addListener(e,"polylinecomplete",l)),c&&T(google.maps.event.addListener(e,"rectanglecomplete",c)),m(e),d&&d(e),()=>{null!==p&&(f&&google.maps.event.removeListener(f),_&&google.maps.event.removeListener(_),b&&google.maps.event.removeListener(b),x&&google.maps.event.removeListener(x),E&&google.maps.event.removeListener(E),C&&google.maps.event.removeListener(C),u&&u(p),p.setMap(null))}},[]),null});class CL extends a.PureComponent{constructor(e){super(e),FD(this,"registeredEvents",[]),FD(this,"state",{drawingManager:null}),FD(this,"setDrawingManagerCallback",()=>{null!==this.state.drawingManager&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),WD(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(wL(wL({},this.props.options),{},{map:this.context}));this.registeredEvents=JD({updaterMap:SL,eventMap:EL,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){null!==this.state.drawingManager&&(KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:SL,eventMap:EL,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),KD(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}function TL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function NL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TL(Object(n),!0).forEach(function(t){FD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}FD(CL,"contextType",GD);var AL={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},kL={animation(e,t){e.setAnimation(t)},clickable(e,t){e.setClickable(t)},cursor(e,t){e.setCursor(t)},draggable(e,t){e.setDraggable(t)},icon(e,t){e.setIcon(t)},label(e,t){e.setLabel(t)},map(e,t){e.setMap(t)},opacity(e,t){e.setOpacity(t)},options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},shape(e,t){e.setShape(t)},title(e,t){e.setTitle(t)},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},RL={};(0,a.memo)(function(e){var{position:t,options:n,clusterer:i,noClustererRedraw:r,children:s,draggable:o,visible:l,animation:c,clickable:d,cursor:u,icon:h,label:p,opacity:m,shape:f,title:g,zIndex:_,onClick:v,onDblClick:b,onDrag:y,onDragEnd:x,onDragStart:w,onMouseOut:E,onMouseOver:S,onMouseUp:C,onMouseDown:T,onRightClick:N,onClickableChanged:A,onCursorChanged:k,onAnimationChanged:R,onDraggableChanged:I,onFlatChanged:O,onIconChanged:j,onPositionChanged:P,onShapeChanged:D,onTitleChanged:L,onVisibleChanged:M,onZindexChanged:U,onLoad:F,onUnmount:B}=e,V=(0,a.useContext)(GD),[z,H]=(0,a.useState)(null),[W,G]=(0,a.useState)(null),[q,Y]=(0,a.useState)(null),[X,K]=(0,a.useState)(null),[J,Z]=(0,a.useState)(null),[Q,$]=(0,a.useState)(null),[ee,te]=(0,a.useState)(null),[ne,ie]=(0,a.useState)(null),[re,ae]=(0,a.useState)(null),[se,oe]=(0,a.useState)(null),[le,ce]=(0,a.useState)(null),[de,ue]=(0,a.useState)(null),[he,pe]=(0,a.useState)(null),[me,fe]=(0,a.useState)(null),[ge,_e]=(0,a.useState)(null),[ve,be]=(0,a.useState)(null),[ye,xe]=(0,a.useState)(null),[we,Ee]=(0,a.useState)(null),[Se,Ce]=(0,a.useState)(null),[Te,Ne]=(0,a.useState)(null),[Ae,ke]=(0,a.useState)(null),[Re,Ie]=(0,a.useState)(null);(0,a.useEffect)(()=>{null!==z&&z.setMap(V)},[V]),(0,a.useEffect)(()=>{"undefined"!==typeof n&&null!==z&&z.setOptions(n)},[z,n]),(0,a.useEffect)(()=>{"undefined"!==typeof o&&null!==z&&z.setDraggable(o)},[z,o]),(0,a.useEffect)(()=>{t&&null!==z&&z.setPosition(t)},[z,t]),(0,a.useEffect)(()=>{"undefined"!==typeof l&&null!==z&&z.setVisible(l)},[z,l]),(0,a.useEffect)(()=>{null===z||void 0===z||z.setAnimation(c)},[z,c]),(0,a.useEffect)(()=>{z&&void 0!==d&&z.setClickable(d)},[z,d]),(0,a.useEffect)(()=>{z&&void 0!==u&&z.setCursor(u)},[z,u]),(0,a.useEffect)(()=>{z&&void 0!==h&&z.setIcon(h)},[z,h]),(0,a.useEffect)(()=>{z&&void 0!==p&&z.setLabel(p)},[z,p]),(0,a.useEffect)(()=>{z&&void 0!==m&&z.setOpacity(m)},[z,m]),(0,a.useEffect)(()=>{z&&void 0!==f&&z.setShape(f)},[z,f]),(0,a.useEffect)(()=>{z&&void 0!==g&&z.setTitle(g)},[z,g]),(0,a.useEffect)(()=>{z&&void 0!==_&&z.setZIndex(_)},[z,_]),(0,a.useEffect)(()=>{z&&b&&(null!==W&&google.maps.event.removeListener(W),G(google.maps.event.addListener(z,"dblclick",b)))},[b]),(0,a.useEffect)(()=>{z&&x&&(null!==q&&google.maps.event.removeListener(q),Y(google.maps.event.addListener(z,"dragend",x)))},[x]),(0,a.useEffect)(()=>{z&&w&&(null!==X&&google.maps.event.removeListener(X),K(google.maps.event.addListener(z,"dragstart",w)))},[w]),(0,a.useEffect)(()=>{z&&T&&(null!==J&&google.maps.event.removeListener(J),Z(google.maps.event.addListener(z,"mousedown",T)))},[T]),(0,a.useEffect)(()=>{z&&E&&(null!==Q&&google.maps.event.removeListener(Q),$(google.maps.event.addListener(z,"mouseout",E)))},[E]),(0,a.useEffect)(()=>{z&&S&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(z,"mouseover",S)))},[S]),(0,a.useEffect)(()=>{z&&C&&(null!==ne&&google.maps.event.removeListener(ne),ie(google.maps.event.addListener(z,"mouseup",C)))},[C]),(0,a.useEffect)(()=>{z&&N&&(null!==re&&google.maps.event.removeListener(re),ae(google.maps.event.addListener(z,"rightclick",N)))},[N]),(0,a.useEffect)(()=>{z&&v&&(null!==se&&google.maps.event.removeListener(se),oe(google.maps.event.addListener(z,"click",v)))},[v]),(0,a.useEffect)(()=>{z&&y&&(null!==le&&google.maps.event.removeListener(le),ce(google.maps.event.addListener(z,"drag",y)))},[y]),(0,a.useEffect)(()=>{z&&A&&(null!==de&&google.maps.event.removeListener(de),ue(google.maps.event.addListener(z,"clickable_changed",A)))},[A]),(0,a.useEffect)(()=>{z&&k&&(null!==he&&google.maps.event.removeListener(he),pe(google.maps.event.addListener(z,"cursor_changed",k)))},[k]),(0,a.useEffect)(()=>{z&&R&&(null!==me&&google.maps.event.removeListener(me),fe(google.maps.event.addListener(z,"animation_changed",R)))},[R]),(0,a.useEffect)(()=>{z&&I&&(null!==ge&&google.maps.event.removeListener(ge),_e(google.maps.event.addListener(z,"draggable_changed",I)))},[I]),(0,a.useEffect)(()=>{z&&O&&(null!==ve&&google.maps.event.removeListener(ve),be(google.maps.event.addListener(z,"flat_changed",O)))},[O]),(0,a.useEffect)(()=>{z&&j&&(null!==ye&&google.maps.event.removeListener(ye),xe(google.maps.event.addListener(z,"icon_changed",j)))},[j]),(0,a.useEffect)(()=>{z&&P&&(null!==we&&google.maps.event.removeListener(we),Ee(google.maps.event.addListener(z,"position_changed",P)))},[P]),(0,a.useEffect)(()=>{z&&D&&(null!==Se&&google.maps.event.removeListener(Se),Ce(google.maps.event.addListener(z,"shape_changed",D)))},[D]),(0,a.useEffect)(()=>{z&&L&&(null!==Te&&google.maps.event.removeListener(Te),Ne(google.maps.event.addListener(z,"title_changed",L)))},[L]),(0,a.useEffect)(()=>{z&&M&&(null!==Ae&&google.maps.event.removeListener(Ae),ke(google.maps.event.addListener(z,"visible_changed",M)))},[M]),(0,a.useEffect)(()=>{z&&U&&(null!==Re&&google.maps.event.removeListener(Re),Ie(google.maps.event.addListener(z,"zindex_changed",U)))},[U]),(0,a.useEffect)(()=>{var e=NL(NL(NL({},n||RL),i?RL:{map:V}),{},{position:t}),a=new google.maps.Marker(e);return i?i.addMarker(a,!!r):a.setMap(V),t&&a.setPosition(t),"undefined"!==typeof l&&a.setVisible(l),"undefined"!==typeof o&&a.setDraggable(o),"undefined"!==typeof d&&a.setClickable(d),"string"===typeof u&&a.setCursor(u),h&&a.setIcon(h),"undefined"!==typeof p&&a.setLabel(p),"undefined"!==typeof m&&a.setOpacity(m),f&&a.setShape(f),"string"===typeof g&&a.setTitle(g),"number"===typeof _&&a.setZIndex(_),b&&G(google.maps.event.addListener(a,"dblclick",b)),x&&Y(google.maps.event.addListener(a,"dragend",x)),w&&K(google.maps.event.addListener(a,"dragstart",w)),T&&Z(google.maps.event.addListener(a,"mousedown",T)),E&&$(google.maps.event.addListener(a,"mouseout",E)),S&&te(google.maps.event.addListener(a,"mouseover",S)),C&&ie(google.maps.event.addListener(a,"mouseup",C)),N&&ae(google.maps.event.addListener(a,"rightclick",N)),v&&oe(google.maps.event.addListener(a,"click",v)),y&&ce(google.maps.event.addListener(a,"drag",y)),A&&ue(google.maps.event.addListener(a,"clickable_changed",A)),k&&pe(google.maps.event.addListener(a,"cursor_changed",k)),R&&fe(google.maps.event.addListener(a,"animation_changed",R)),I&&_e(google.maps.event.addListener(a,"draggable_changed",I)),O&&be(google.maps.event.addListener(a,"flat_changed",O)),j&&xe(google.maps.event.addListener(a,"icon_changed",j)),P&&Ee(google.maps.event.addListener(a,"position_changed",P)),D&&Ce(google.maps.event.addListener(a,"shape_changed",D)),L&&Ne(google.maps.event.addListener(a,"title_changed",L)),M&&ke(google.maps.event.addListener(a,"visible_changed",M)),U&&Ie(google.maps.event.addListener(a,"zindex_changed",U)),H(a),F&&F(a),()=>{null!==W&&google.maps.event.removeListener(W),null!==q&&google.maps.event.removeListener(q),null!==X&&google.maps.event.removeListener(X),null!==J&&google.maps.event.removeListener(J),null!==Q&&google.maps.event.removeListener(Q),null!==ee&&google.maps.event.removeListener(ee),null!==ne&&google.maps.event.removeListener(ne),null!==re&&google.maps.event.removeListener(re),null!==se&&google.maps.event.removeListener(se),null!==de&&google.maps.event.removeListener(de),null!==he&&google.maps.event.removeListener(he),null!==me&&google.maps.event.removeListener(me),null!==ge&&google.maps.event.removeListener(ge),null!==ve&&google.maps.event.removeListener(ve),null!==ye&&google.maps.event.removeListener(ye),null!==we&&google.maps.event.removeListener(we),null!==Te&&google.maps.event.removeListener(Te),null!==Ae&&google.maps.event.removeListener(Ae),null!==Re&&google.maps.event.removeListener(Re),B&&B(a),i?i.removeMarker(a,!!r):a&&a.setMap(null)}},[]);var Oe=(0,a.useMemo)(()=>s?a.Children.map(s,e=>{if(!(0,a.isValidElement)(e))return e;var t=e;return(0,a.cloneElement)(t,{anchor:z})}):null,[s,z]);return(0,Pa.jsx)(Pa.Fragment,{children:Oe})||null});class IL extends a.PureComponent{constructor(){super(...arguments),FD(this,"registeredEvents",[])}componentDidMount(){var e=this;return QD(function*(){var t=NL(NL(NL({},e.props.options||RL),e.props.clusterer?RL:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=JD({updaterMap:kL,eventMap:AL,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:kL,eventMap:AL,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),KD(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){return(this.props.children?a.Children.map(this.props.children,e=>{if(!(0,a.isValidElement)(e))return e;var t=e;return(0,a.cloneElement)(t,{anchor:this.marker})}):null)||null}}FD(IL,"contextType",GD);var OL=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),i=this.cluster.getBounds(),r=t.getMap();null!==r&&"fitBounds"in r&&r.fitBounds(i),this.timeOut=window.setTimeout(function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(i);var r=e.getZoom()||0;null!==n&&r>n&&e.setZoom(n+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,i,r,a;if(this.div&&this.center){var s=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,o=this.backgroundPosition.split(" "),l=parseInt((null===(e=o[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt((null===(t=o[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),d=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==d?"".concat(d.y,"px"):"0","; left: ").concat(null!==d?"".concat(d.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var u=document.createElement("img");u.alt=s,u.src=this.url,u.width=this.width,u.height=this.height,u.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(l,"px")),this.cluster.getClusterer().enableRetinaIcons||(u.style.clip="rect(-".concat(c,"px, -").concat(l+this.width,"px, -").concat(c+this.height,", -").concat(l,")"));var h=document.createElement("div");h.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(h.innerText="".concat(null===(i=this.sums)||void 0===i?void 0:i.text)),(null===(r=this.sums)||void 0===r?void 0:r.html)&&(h.innerHTML="".concat(null===(a=this.sums)||void 0===a?void 0:a.html)),this.div.innerHTML="",this.div.appendChild(u),this.div.appendChild(h),this.div.title=s,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),jL=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new OL(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var i=n[t].getPosition();i&&e.extend(i)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+n.lat())/i,(this.center.lng()*(i-1)+n.lng())/i),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var r=this.markers.length,a=this.markerClusterer.getMaxZoom(),s=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==a&&"undefined"!==typeof s&&s>a)e.getMap()!==this.map&&e.setMap(this.map);else if(r<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(r===this.minClusterSize)for(var o=0,l=this.markers;o<l.length;o++){l[o].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),i=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof i&&i>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function PL(e,t){var n=e.length,i=n.toString().length,r=Math.min(i,t);return{text:n.toString(),index:r,title:""}}var DL=[53,56,66,78,90],LL=function(){function e(t,n,i){void 0===n&&(n=[]),void 0===i&&(i={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=i.gridSize||60,this.minClusterSize=i.minimumClusterSize||2,this.maxZoom=i.maxZoom||null,this.styles=i.styles||[],this.title=i.title||"",this.zoomOnClick=!0,void 0!==i.zoomOnClick&&(this.zoomOnClick=i.zoomOnClick),this.averageCenter=!1,void 0!==i.averageCenter&&(this.averageCenter=i.averageCenter),this.ignoreHidden=!1,void 0!==i.ignoreHidden&&(this.ignoreHidden=i.ignoreHidden),this.enableRetinaIcons=!1,void 0!==i.enableRetinaIcons&&(this.enableRetinaIcons=i.enableRetinaIcons),this.imagePath=i.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=i.imageExtension||"png",this.imageSizes=i.imageSizes||DL,this.calculator=i.calculator||PL,this.batchSize=i.batchSize||2e3,this.batchSizeIE=i.batchSizeIE||500,this.clusterClass=i.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var i=0,r=this.clusters;i<r.length;i++){r[i].remove()}this.clusters=[];for(var a=0,s=this.listeners;a<s.length;a++){var o=s[a];google.maps.event.removeListener(o)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,i=e;n<i.length;n++){var r=i[n].getPosition();r&&t.extend(r)}var a=this.getMap();null!==a&&"fitBounds"in a&&a.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];i&&this.pushMarkerTo(i)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,i=0,r=e;i<r.length;i++){var a=r[i];n=n||this.removeMarker_(a)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}},0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var i=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==i&&(i.x-=this.gridSize,i.y+=this.gridSize),null!==n){var r=t.fromDivPixelToLatLng(n);null!==r&&e.extend(r)}if(null!==i){var a=t.fromDivPixelToLatLng(i);null!==a&&e.extend(a)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var i=0,r=this.markers;i<r.length;i++){var a=r[i];a.isAdded=!1,e&&a.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,i=(t.lng()-e.lng())*Math.PI/180,r=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,i=null,r=0,a=this.clusters;r<a.length;r++){var s=(t=a[r]).getCenter(),o=e.getPosition();if(s&&o){var l=this.distanceBetweenPoints(s,o);l<n&&(n=l,i=t)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):((t=new jL(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),i=(null!==n&&"getBounds"in n?n.getBounds():null),r=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===i||void 0===i?void 0:i.getSouthWest(),null===i||void 0===i?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(r),s=Math.min(e+this.batchSize,this.markers.length),o=e;o<s;o++){var l=this.markers[o];l&&!l.isAdded&&this.isMarkerInBounds(l,a)&&(!this.ignoreHidden||this.ignoreHidden&&l.getVisible())&&this.addToClosestCluster(l)}if(s<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(s)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var c=0,d=this.clusters;c<d.length;c++){d[c].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}();function ML(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var UL={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},FL={averageCenter(e,t){e.setAverageCenter(t)},batchSizeIE(e,t){e.setBatchSizeIE(t)},calculator(e,t){e.setCalculator(t)},clusterClass(e,t){e.setClusterClass(t)},enableRetinaIcons(e,t){e.setEnableRetinaIcons(t)},gridSize(e,t){e.setGridSize(t)},ignoreHidden(e,t){e.setIgnoreHidden(t)},imageExtension(e,t){e.setImageExtension(t)},imagePath(e,t){e.setImagePath(t)},imageSizes(e,t){e.setImageSizes(t)},maxZoom(e,t){e.setMaxZoom(t)},minimumClusterSize(e,t){e.setMinimumClusterSize(t)},styles(e,t){e.setStyles(t)},title(e,t){e.setTitle(t)},zoomOnClick(e,t){e.setZoomOnClick(t)}},BL={};(0,a.memo)(function(e){var{children:t,options:n,averageCenter:i,batchSizeIE:r,calculator:s,clusterClass:o,enableRetinaIcons:l,gridSize:c,ignoreHidden:d,imageExtension:u,imagePath:h,imageSizes:p,maxZoom:m,minimumClusterSize:f,styles:g,title:_,zoomOnClick:v,onClick:b,onClusteringBegin:y,onClusteringEnd:x,onMouseOver:w,onMouseOut:E,onLoad:S,onUnmount:C}=e,[T,N]=(0,a.useState)(null),A=(0,a.useContext)(GD),[k,R]=(0,a.useState)(null),[I,O]=(0,a.useState)(null),[j,P]=(0,a.useState)(null),[D,L]=(0,a.useState)(null),[M,U]=(0,a.useState)(null);return(0,a.useEffect)(()=>{T&&E&&(null!==D&&google.maps.event.removeListener(D),L(google.maps.event.addListener(T,UL.onMouseOut,E)))},[E]),(0,a.useEffect)(()=>{T&&w&&(null!==M&&google.maps.event.removeListener(M),U(google.maps.event.addListener(T,UL.onMouseOver,w)))},[w]),(0,a.useEffect)(()=>{T&&b&&(null!==k&&google.maps.event.removeListener(k),R(google.maps.event.addListener(T,UL.onClick,b)))},[b]),(0,a.useEffect)(()=>{T&&y&&(null!==I&&google.maps.event.removeListener(I),O(google.maps.event.addListener(T,UL.onClusteringBegin,y)))},[y]),(0,a.useEffect)(()=>{T&&x&&(null!==j&&google.maps.event.removeListener(j),O(google.maps.event.addListener(T,UL.onClusteringEnd,x)))},[x]),(0,a.useEffect)(()=>{"undefined"!==typeof i&&null!==T&&FL.averageCenter(T,i)},[T,i]),(0,a.useEffect)(()=>{"undefined"!==typeof r&&null!==T&&FL.batchSizeIE(T,r)},[T,r]),(0,a.useEffect)(()=>{"undefined"!==typeof s&&null!==T&&FL.calculator(T,s)},[T,s]),(0,a.useEffect)(()=>{"undefined"!==typeof o&&null!==T&&FL.clusterClass(T,o)},[T,o]),(0,a.useEffect)(()=>{"undefined"!==typeof l&&null!==T&&FL.enableRetinaIcons(T,l)},[T,l]),(0,a.useEffect)(()=>{"undefined"!==typeof c&&null!==T&&FL.gridSize(T,c)},[T,c]),(0,a.useEffect)(()=>{"undefined"!==typeof d&&null!==T&&FL.ignoreHidden(T,d)},[T,d]),(0,a.useEffect)(()=>{"undefined"!==typeof u&&null!==T&&FL.imageExtension(T,u)},[T,u]),(0,a.useEffect)(()=>{"undefined"!==typeof h&&null!==T&&FL.imagePath(T,h)},[T,h]),(0,a.useEffect)(()=>{"undefined"!==typeof p&&null!==T&&FL.imageSizes(T,p)},[T,p]),(0,a.useEffect)(()=>{"undefined"!==typeof m&&null!==T&&FL.maxZoom(T,m)},[T,m]),(0,a.useEffect)(()=>{"undefined"!==typeof f&&null!==T&&FL.minimumClusterSize(T,f)},[T,f]),(0,a.useEffect)(()=>{"undefined"!==typeof g&&null!==T&&FL.styles(T,g)},[T,g]),(0,a.useEffect)(()=>{"undefined"!==typeof _&&null!==T&&FL.title(T,_)},[T,_]),(0,a.useEffect)(()=>{"undefined"!==typeof v&&null!==T&&FL.zoomOnClick(T,v)},[T,v]),(0,a.useEffect)(()=>{if(A){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ML(Object(n),!0).forEach(function(t){FD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ML(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},n||BL),t=new LL(A,[],e);return i&&FL.averageCenter(t,i),r&&FL.batchSizeIE(t,r),s&&FL.calculator(t,s),o&&FL.clusterClass(t,o),l&&FL.enableRetinaIcons(t,l),c&&FL.gridSize(t,c),d&&FL.ignoreHidden(t,d),u&&FL.imageExtension(t,u),h&&FL.imagePath(t,h),p&&FL.imageSizes(t,p),m&&FL.maxZoom(t,m),f&&FL.minimumClusterSize(t,f),g&&FL.styles(t,g),_&&FL.title(t,_),v&&FL.zoomOnClick(t,v),E&&L(google.maps.event.addListener(t,UL.onMouseOut,E)),w&&U(google.maps.event.addListener(t,UL.onMouseOver,w)),b&&R(google.maps.event.addListener(t,UL.onClick,b)),y&&O(google.maps.event.addListener(t,UL.onClusteringBegin,y)),x&&P(google.maps.event.addListener(t,UL.onClusteringEnd,x)),N(t),S&&S(t),()=>{null!==D&&google.maps.event.removeListener(D),null!==M&&google.maps.event.removeListener(M),null!==k&&google.maps.event.removeListener(k),null!==I&&google.maps.event.removeListener(I),null!==j&&google.maps.event.removeListener(j),C&&C(t)}}},[]),null!==T&&t(T)||null});class VL extends a.PureComponent{constructor(){super(...arguments),FD(this,"registeredEvents",[]),FD(this,"state",{markerClusterer:null}),FD(this,"setClustererCallback",()=>{null!==this.state.markerClusterer&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new LL(this.context,[],this.props.options);this.registeredEvents=JD({updaterMap:FL,eventMap:UL,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:FL,eventMap:UL,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),KD(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null}}function zL(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}FD(VL,"contextType",GD);var HL=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=0,r=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];i<r.length;i++){var a=r[i];this.eventListeners.push(google.maps.event.addListener(this.div,a,zL))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||zL(t)}),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,i=0,r=t.getBounds();r&&!r.contains(this.position)&&t.setCenter(this.position);var a=t.getDiv(),s=a.offsetWidth,o=a.offsetHeight,l=this.pixelOffset.width,c=this.pixelOffset.height,d=this.div.offsetWidth,u=this.div.offsetHeight,h=this.infoBoxClearance.width,p=this.infoBoxClearance.height,m=this.getProjection().fromLatLngToContainerPixel(this.position);null!==m&&(m.x<-l+h?n=m.x+l-h:m.x+d+l+h>s&&(n=m.x+d+l+h-s),this.alignBottom?m.y<-c+p+u?i=m.y+c-p-u:m.y+c+p>o&&(i=m.y+c+p-o):m.y<-c+p?i=m.y+c-p:m.y+u+c+p>o&&(i=m.y+u+c+p-o)),0===n&&0===i||t.panBy(n,i)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var e=t.getPosition();n.setPosition(e)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){n.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),WL=["position"],GL=["position"];function qL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function YL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qL(Object(n),!0).forEach(function(t){FD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var XL={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},KL={options(e,t){e.setOptions(t)},position(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible(e,t){e.setVisible(t)},zIndex(e,t){e.setZIndex(t)}},JL={};var ZL,QL;(0,a.memo)(function(e){var{children:t,anchor:n,options:i,position:r,zIndex:s,onCloseClick:o,onDomReady:c,onContentChanged:d,onPositionChanged:u,onZindexChanged:h,onLoad:p,onUnmount:m}=e,f=(0,a.useContext)(GD),[g,_]=(0,a.useState)(null),[v,b]=(0,a.useState)(null),[y,x]=(0,a.useState)(null),[w,E]=(0,a.useState)(null),[S,C]=(0,a.useState)(null),[T,N]=(0,a.useState)(null),A=(0,a.useRef)(null);return(0,a.useEffect)(()=>{f&&null!==g&&(g.close(),n?g.open(f,n):g.getPosition()&&g.open(f))},[f,g,n]),(0,a.useEffect)(()=>{i&&null!==g&&g.setOptions(i)},[g,i]),(0,a.useEffect)(()=>{if(r&&null!==g){var e=r instanceof google.maps.LatLng?r:new google.maps.LatLng(r.lat,r.lng);g.setPosition(e)}},[r]),(0,a.useEffect)(()=>{"number"===typeof s&&null!==g&&g.setZIndex(s)},[s]),(0,a.useEffect)(()=>{g&&o&&(null!==v&&google.maps.event.removeListener(v),b(google.maps.event.addListener(g,"closeclick",o)))},[o]),(0,a.useEffect)(()=>{g&&c&&(null!==y&&google.maps.event.removeListener(y),x(google.maps.event.addListener(g,"domready",c)))},[c]),(0,a.useEffect)(()=>{g&&d&&(null!==w&&google.maps.event.removeListener(w),E(google.maps.event.addListener(g,"content_changed",d)))},[d]),(0,a.useEffect)(()=>{g&&u&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(g,"position_changed",u)))},[u]),(0,a.useEffect)(()=>{g&&h&&(null!==T&&google.maps.event.removeListener(T),N(google.maps.event.addListener(g,"zindex_changed",h)))},[h]),(0,a.useEffect)(()=>{if(f){var e,t=i||JL,{position:r}=t,a=cL(t,WL);!r||r instanceof google.maps.LatLng||(e=new google.maps.LatLng(r.lat,r.lng));var s=new HL(YL(YL({},a),e?{position:e}:{}));A.current=document.createElement("div"),_(s),o&&b(google.maps.event.addListener(s,"closeclick",o)),c&&x(google.maps.event.addListener(s,"domready",c)),d&&E(google.maps.event.addListener(s,"content_changed",d)),u&&C(google.maps.event.addListener(s,"position_changed",u)),h&&N(google.maps.event.addListener(s,"zindex_changed",h)),s.setContent(A.current),n?s.open(f,n):s.getPosition()?s.open(f):WD(!1,"You must provide either an anchor or a position prop for <InfoBox>."),p&&p(s)}return()=>{null!==g&&(v&&google.maps.event.removeListener(v),w&&google.maps.event.removeListener(w),y&&google.maps.event.removeListener(y),S&&google.maps.event.removeListener(S),T&&google.maps.event.removeListener(T),m&&m(g),g.close())}},[]),A.current?(0,l.createPortal)(a.Children.only(t),A.current):null});class $L extends a.PureComponent{constructor(){super(...arguments),FD(this,"registeredEvents",[]),FD(this,"containerElement",null),FD(this,"state",{infoBox:null}),FD(this,"open",(e,t)=>{t?null!==this.context&&e.open(this.context,t):e.getPosition()?null!==this.context&&e.open(this.context):WD(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),FD(this,"setInfoBoxCallback",()=>{null!==this.state.infoBox&&null!==this.containerElement&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e,t=this.props.options||{},{position:n}=t,i=cL(t,GL);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var r=new HL(YL(YL({},i),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=JD({updaterMap:KL,eventMap:XL,prevProps:{},nextProps:this.props,instance:r}),this.setState({infoBox:r},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;null!==t&&(KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:KL,eventMap:XL,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;null!==t&&(e&&e(t),KD(this.registeredEvents),t.close())}render(){return this.containerElement?(0,l.createPortal)(a.Children.only(this.props.children),this.containerElement):null}}FD($L,"contextType",GD);var eM=(QL||(QL=1,ZL=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,a;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!==r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!==r--;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=i;0!==r--;){var s=a[r];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}),ZL),tM=BD(eM),nM=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class iM{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");var i=n>>4;if(1!==i)throw new Error("Got v".concat(i," data when expected v").concat(1,"."));var r=nM[15&n];if(!r)throw new Error("Unrecognized array type.");var[a]=new Uint16Array(e,2,1),[s]=new Uint32Array(e,4,1);return new iM(s,a,r,e)}constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var r=nM.indexOf(this.ArrayType),a=2*e*this.ArrayType.BYTES_PER_ELEMENT,s=e*this.IndexArrayType.BYTES_PER_ELEMENT,o=(8-s%8)%8;if(r<0)throw new Error("Unexpected typed array class: ".concat(n,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+o,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+a+s+o),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+s+o,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+r]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return rM(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:r,coords:a,nodeSize:s}=this,o=[0,r.length-1,0],l=[];o.length;){var c=o.pop()||0,d=o.pop()||0,u=o.pop()||0;if(d-u<=s)for(var h=u;h<=d;h++){var p=a[2*h],m=a[2*h+1];p>=e&&p<=n&&m>=t&&m<=i&&l.push(r[h])}else{var f=u+d>>1,g=a[2*f],_=a[2*f+1];g>=e&&g<=n&&_>=t&&_<=i&&l.push(r[f]),(0===c?e<=g:t<=_)&&(o.push(u),o.push(f-1),o.push(1-c)),(0===c?n>=g:i>=_)&&(o.push(f+1),o.push(d),o.push(1-c))}}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:r,nodeSize:a}=this,s=[0,i.length-1,0],o=[],l=n*n;s.length;){var c=s.pop()||0,d=s.pop()||0,u=s.pop()||0;if(d-u<=a)for(var h=u;h<=d;h++)lM(r[2*h],r[2*h+1],e,t)<=l&&o.push(i[h]);else{var p=u+d>>1,m=r[2*p],f=r[2*p+1];lM(m,f,e,t)<=l&&o.push(i[p]),(0===c?e-n<=m:t-n<=f)&&(s.push(u),s.push(p-1),s.push(1-c)),(0===c?e+n>=m:t+n>=f)&&(s.push(p+1),s.push(d),s.push(1-c))}}return o}}function rM(e,t,n,i,r,a){if(!(r-i<=n)){var s=i+r>>1;aM(e,t,s,i,r,a),rM(e,t,n,i,s-1,1-a),rM(e,t,n,s+1,r,1-a)}}function aM(e,t,n,i,r,a){for(;r>i;){if(r-i>600){var s=r-i+1,o=n-i+1,l=Math.log(s),c=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*c*(s-c)/s)*(o-s/2<0?-1:1);aM(e,t,n,Math.max(i,Math.floor(n-o*c/s+d)),Math.min(r,Math.floor(n+(s-o)*c/s+d)),a)}var u=t[2*n+a],h=i,p=r;for(sM(e,t,i,n),t[2*r+a]>u&&sM(e,t,i,r);h<p;){for(sM(e,t,h,p),h++,p--;t[2*h+a]<u;)h++;for(;t[2*p+a]>u;)p--}t[2*i+a]===u?sM(e,t,i,p):sM(e,t,++p,r),p<=n&&(i=p+1),n<=p&&(r=p-1)}}function sM(e,t,n,i){oM(e,n,i),oM(t,2*n,2*i),oM(t,2*n+1,2*i+1)}function oM(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function lM(e,t,n,i){var r=e-n,a=t-i;return r*r+a*a}var cM,dM={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},uM=Math.fround||(cM=new Float32Array(1),e=>(cM[0]=+e,cM[0]));class hM{constructor(e){this.options=Object.assign(Object.create(dM),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:n,maxZoom:i}=this.options;t&&console.time("total time");var r="prepare ".concat(e.length," points");t&&console.time(r),this.points=e;for(var a=[],s=0;s<e.length;s++){var o=e[s];if(o.geometry){var[l,c]=o.geometry.coordinates,d=uM(fM(l)),u=uM(gM(c));a.push(d,u,1/0,s,-1,1),this.options.reduce&&a.push(0)}}var h=this.trees[i+1]=this._createTree(a);t&&console.timeEnd(r);for(var p=i;p>=n;p--){var m=+Date.now();h=this.trees[p]=this._createTree(this._cluster(h,p)),t&&console.log("z%d: %d clusters in %dms",p,h.numItems,+Date.now()-m)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var n=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),r=180===e[2]?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,r=180;else if(n>r){var s=this.getClusters([n,i,180,a],t),o=this.getClusters([-180,i,r,a],t);return s.concat(o)}var l=this.trees[this._limitZoom(t)],c=l.range(fM(n),gM(a),fM(r),gM(i)),d=l.data,u=[];for(var h of c){var p=this.stride*h;u.push(d[p+5]>1?pM(d,p,this.clusterProps):this.points[d[p+3]])}return u}getChildren(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(i);var a=r.data;if(t*this.stride>=a.length)throw new Error(i);var s=this.options.radius/(this.options.extent*Math.pow(2,n-1)),o=a[t*this.stride],l=a[t*this.stride+1],c=r.within(o,l,s),d=[];for(var u of c){var h=u*this.stride;a[h+4]===e&&d.push(a[h+5]>1?pM(a,h,this.clusterProps):this.points[a[h+3]])}if(0===d.length)throw new Error(i);return d}getLeaves(e,t,n){t=t||10,n=n||0;var i=[];return this._appendLeaves(i,e,t,n,0),i}getTile(e,t,n){var i=this.trees[this._limitZoom(e)],r=Math.pow(2,e),{extent:a,radius:s}=this.options,o=s/a,l=(n-o)/r,c=(n+1+o)/r,d={features:[]};return this._addTileFeatures(i.range((t-o)/r,l,(t+1+o)/r,c),i.data,t,n,r,d),0===t&&this._addTileFeatures(i.range(1-o/r,l,1,c),i.data,r,n,r,d),t===r-1&&this._addTileFeatures(i.range(0,l,o/r,c),i.data,-1,n,r,d),d.features.length?d:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,i,r){var a=this.getChildren(t);for(var s of a){var o=s.properties;if(o&&o.cluster?r+o.point_count<=i?r+=o.point_count:r=this._appendLeaves(e,o.cluster_id,n,i,r):r<i?r++:e.push(s),e.length===n)break}return r}_createTree(e){for(var t=new iM(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,i,r,a){for(var s of e){var o=s*this.stride,l=t[o+5]>1,c=void 0,d=void 0,u=void 0;if(l)c=mM(t,o,this.clusterProps),d=t[o],u=t[o+1];else{var h=this.points[t[o+3]];c=h.properties;var[p,m]=h.geometry.coordinates;d=fM(p),u=gM(m)}var f={type:1,geometry:[[Math.round(this.options.extent*(d*r-n)),Math.round(this.options.extent*(u*r-i))]],tags:c},g=void 0;void 0!==(g=l||this.options.generateId?t[o+3]:this.points[t[o+3]].id)&&(f.id=g),a.features.push(f)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:n,extent:i,reduce:r,minPoints:a}=this.options,s=n/(i*Math.pow(2,t)),o=e.data,l=[],c=this.stride,d=0;d<o.length;d+=c)if(!(o[d+2]<=t)){o[d+2]=t;var u=o[d],h=o[d+1],p=e.within(o[d],o[d+1],s),m=o[d+5],f=m;for(var g of p){var _=g*c;o[_+2]>t&&(f+=o[_+5])}if(f>m&&f>=a){var v=u*m,b=h*m,y=void 0,x=-1,w=(d/c<<5)+(t+1)+this.points.length;for(var E of p){var S=E*c;if(!(o[S+2]<=t)){o[S+2]=t;var C=o[S+5];v+=o[S]*C,b+=o[S+1]*C,o[S+4]=w,r&&(y||(y=this._map(o,d,!0),x=this.clusterProps.length,this.clusterProps.push(y)),r(y,this._map(o,S)))}}o[d+4]=w,l.push(v/f,b/f,1/0,w,-1,f),r&&l.push(x)}else{for(var T=0;T<c;T++)l.push(o[d+T]);if(f>1)for(var N of p){var A=N*c;if(!(o[A+2]<=t)){o[A+2]=t;for(var k=0;k<c;k++)l.push(o[A+k])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+5]>1){var i=this.clusterProps[e[t+6]];return n?Object.assign({},i):i}var r=this.points[e[t+3]].properties,a=this.options.map(r);return n&&a===r?Object.assign({},a):a}}function pM(e,t,n){return{type:"Feature",id:e[t+3],properties:mM(e,t,n),geometry:{type:"Point",coordinates:[_M(e[t]),vM(e[t+1])]}}}function mM(e,t,n){var i=e[t+5],r=i>=1e4?"".concat(Math.round(i/1e3),"k"):i>=1e3?"".concat(Math.round(i/100)/10,"k"):i,a=e[t+6],s=-1===a?{}:Object.assign({},n[a]);return Object.assign(s,{cluster:!0,cluster_id:e[t+3],point_count:i,point_count_abbreviated:r})}function fM(e){return e/360+.5}function gM(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function _M(e){return 360*(e-.5)}function vM(e){var t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function bM(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}class yM{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class xM{constructor(e){var{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(0!==this.markers.length||this._position){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(yM.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>yM.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(yM.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class wM{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return SM(t)}}var EM,SM=e=>e.map(e=>new xM({position:yM.getPosition(e),markers:[e]}));class CM extends wM{constructor(e){var{maxZoom:t,radius:n=60}=e,i=bM(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new hM(Object.assign({maxZoom:this.maxZoom,radius:n},i))}calculate(e){var t=!1,n={zoom:e.map.getZoom()};if(!tM(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var i=this.markers.map(e=>{var t=yM.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}});this.superCluster.load(i)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!tM(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(e=>this.transformCluster(e))}transformCluster(e){var{geometry:{coordinates:[t,n]},properties:i}=e;if(i.cluster)return new xM({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(e=>e.properties.marker),position:{lat:n,lng:t}});var r=i.marker;return new xM({markers:[r],position:yM.getPosition(r)})}}class TM{constructor(e,t){this.markers={sum:e.length};var n=t.map(e=>e.count),i=n.reduce((e,t)=>e+t,0);this.clusters={count:t.length,markers:{mean:i/t.length,sum:i,min:Math.min(...n),max:Math.max(...n)}}}}class NM{render(e,t,n){var{count:i,position:r}=e,a=i>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",s='<svg fill="'.concat(a,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(i,"</text>\n</svg>"),o="Cluster of ".concat(i," markers"),l=Number(google.maps.Marker.MAX_ZINDEX)+i;if(yM.isAdvancedMarkerAvailable(n)){var c=(new DOMParser).parseFromString(s,"image/svg+xml").documentElement;c.setAttribute("transform","translate(0 25)");var d={map:n,position:r,zIndex:l,title:o,content:c};return new google.maps.marker.AdvancedMarkerElement(d)}var u={position:r,zIndex:l,title:o,icon:{url:"data:image/svg+xml;base64,".concat(btoa(s)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(u)}}class AM{constructor(){!function(e,t){for(var n in t.prototype)e.prototype[n]=t.prototype[n]}(AM,google.maps.OverlayView)}}!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(EM||(EM={}));var kM=(e,t,n)=>{n.fitBounds(t.bounds)};class RM extends AM{constructor(e){var{map:t,markers:n=[],algorithmOptions:i={},algorithm:r=new CM(i),renderer:a=new NM,onClusterClick:s=kM}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=r,this.renderer=a,this.onClusterClick=s,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(e=>{this.addMarker(e,!0)}),t||this.render()}removeMarker(e,t){var n=this.markers.indexOf(e);return-1!==n&&(yM.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){var n=!1;return e.forEach(e=>{n=this.removeMarker(e,!0)||n}),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,EM.CLUSTERING_BEGIN,this);var{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||void 0==n){var i=new Set;for(var r of t)1==r.markers.length&&i.add(r.markers[0]);var a=[];for(var s of this.clusters)null!=s.marker&&(1==s.markers.length?i.has(s.marker)||yM.setMap(s.marker,null):a.push(s.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>a.forEach(e=>yM.setMap(e,null)))}google.maps.event.trigger(this,EM.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>yM.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new TM(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach(e=>yM.setMap(e,null)),this.onClusterClick&&n.marker.addListener("click",e=>{google.maps.event.trigger(this,EM.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)})),yM.setMap(n.marker,t)})}}function IM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function OM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IM(Object(n),!0).forEach(function(t){FD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function jM(e){var t=function(){WD(!!a.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=(0,a.useContext)(GD);return WD(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),[n,i]=(0,a.useState)(null);return(0,a.useEffect)(()=>{if(t&&null===n){var r=new RM(OM(OM({},e),{},{map:t}));i(r)}},[t]),n}(0,a.memo)(function(e){var{children:t,options:n}=e,i=jM(n);return null!==i?t(i):null});var PM={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},DM={options(e,t){e.setOptions(t)},position(e,t){e.setPosition(t)},zIndex(e,t){e.setZIndex(t)}};(0,a.memo)(function(e){var{children:t,anchor:n,options:i,position:r,zIndex:s,onCloseClick:o,onDomReady:c,onContentChanged:d,onPositionChanged:u,onZindexChanged:h,onLoad:p,onUnmount:m}=e,f=(0,a.useContext)(GD),[g,_]=(0,a.useState)(null),[v,b]=(0,a.useState)(null),[y,x]=(0,a.useState)(null),[w,E]=(0,a.useState)(null),[S,C]=(0,a.useState)(null),[T,N]=(0,a.useState)(null),A=(0,a.useRef)(null);return(0,a.useEffect)(()=>{null!==g&&(g.close(),n?g.open(f,n):g.getPosition()&&g.open(f))},[f,g,n]),(0,a.useEffect)(()=>{i&&null!==g&&g.setOptions(i)},[g,i]),(0,a.useEffect)(()=>{r&&null!==g&&g.setPosition(r)},[r]),(0,a.useEffect)(()=>{"number"===typeof s&&null!==g&&g.setZIndex(s)},[s]),(0,a.useEffect)(()=>{g&&o&&(null!==v&&google.maps.event.removeListener(v),b(google.maps.event.addListener(g,"closeclick",o)))},[o]),(0,a.useEffect)(()=>{g&&c&&(null!==y&&google.maps.event.removeListener(y),x(google.maps.event.addListener(g,"domready",c)))},[c]),(0,a.useEffect)(()=>{g&&d&&(null!==w&&google.maps.event.removeListener(w),E(google.maps.event.addListener(g,"content_changed",d)))},[d]),(0,a.useEffect)(()=>{g&&u&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(g,"position_changed",u)))},[u]),(0,a.useEffect)(()=>{g&&h&&(null!==T&&google.maps.event.removeListener(T),N(google.maps.event.addListener(g,"zindex_changed",h)))},[h]),(0,a.useEffect)(()=>{var e=new google.maps.InfoWindow(i);return _(e),A.current=document.createElement("div"),o&&b(google.maps.event.addListener(e,"closeclick",o)),c&&x(google.maps.event.addListener(e,"domready",c)),d&&E(google.maps.event.addListener(e,"content_changed",d)),u&&C(google.maps.event.addListener(e,"position_changed",u)),h&&N(google.maps.event.addListener(e,"zindex_changed",h)),e.setContent(A.current),r&&e.setPosition(r),s&&e.setZIndex(s),n?e.open(f,n):e.getPosition()?e.open(f):WD(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),p&&p(e),()=>{v&&google.maps.event.removeListener(v),w&&google.maps.event.removeListener(w),y&&google.maps.event.removeListener(y),S&&google.maps.event.removeListener(S),T&&google.maps.event.removeListener(T),m&&m(e),e.close()}},[]),A.current?(0,l.createPortal)(a.Children.only(t),A.current):null});class LM extends a.PureComponent{constructor(){super(...arguments),FD(this,"registeredEvents",[]),FD(this,"containerElement",null),FD(this,"state",{infoWindow:null}),FD(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):WD(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),FD(this,"setInfoWindowCallback",()=>{null!==this.state.infoWindow&&null!==this.containerElement&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=JD({updaterMap:DM,eventMap:PM,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){null!==this.state.infoWindow&&(KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:DM,eventMap:PM,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){null!==this.state.infoWindow&&(KD(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?(0,l.createPortal)(a.Children.only(this.props.children),this.containerElement):null}}function MM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function UM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MM(Object(n),!0).forEach(function(t){FD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}FD(LM,"contextType",GD);var FM={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},BM={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},visible(e,t){e.setVisible(t)}},VM={};(0,a.memo)(function(e){var{options:t,draggable:n,editable:i,visible:r,path:s,onDblClick:o,onDragEnd:l,onDragStart:c,onMouseDown:d,onMouseMove:u,onMouseOut:h,onMouseOver:p,onMouseUp:m,onRightClick:f,onClick:g,onDrag:_,onLoad:v,onUnmount:b}=e,y=(0,a.useContext)(GD),[x,w]=(0,a.useState)(null),[E,S]=(0,a.useState)(null),[C,T]=(0,a.useState)(null),[N,A]=(0,a.useState)(null),[k,R]=(0,a.useState)(null),[I,O]=(0,a.useState)(null),[j,P]=(0,a.useState)(null),[D,L]=(0,a.useState)(null),[M,U]=(0,a.useState)(null),[F,B]=(0,a.useState)(null),[V,z]=(0,a.useState)(null),[H,W]=(0,a.useState)(null);return(0,a.useEffect)(()=>{null!==x&&x.setMap(y)},[y]),(0,a.useEffect)(()=>{"undefined"!==typeof t&&null!==x&&x.setOptions(t)},[x,t]),(0,a.useEffect)(()=>{"undefined"!==typeof n&&null!==x&&x.setDraggable(n)},[x,n]),(0,a.useEffect)(()=>{"undefined"!==typeof i&&null!==x&&x.setEditable(i)},[x,i]),(0,a.useEffect)(()=>{"undefined"!==typeof r&&null!==x&&x.setVisible(r)},[x,r]),(0,a.useEffect)(()=>{"undefined"!==typeof s&&null!==x&&x.setPath(s)},[x,s]),(0,a.useEffect)(()=>{x&&o&&(null!==E&&google.maps.event.removeListener(E),S(google.maps.event.addListener(x,"dblclick",o)))},[o]),(0,a.useEffect)(()=>{x&&l&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(x,"dragend",l)))},[l]),(0,a.useEffect)(()=>{x&&c&&(null!==N&&google.maps.event.removeListener(N),A(google.maps.event.addListener(x,"dragstart",c)))},[c]),(0,a.useEffect)(()=>{x&&d&&(null!==k&&google.maps.event.removeListener(k),R(google.maps.event.addListener(x,"mousedown",d)))},[d]),(0,a.useEffect)(()=>{x&&u&&(null!==I&&google.maps.event.removeListener(I),O(google.maps.event.addListener(x,"mousemove",u)))},[u]),(0,a.useEffect)(()=>{x&&h&&(null!==j&&google.maps.event.removeListener(j),P(google.maps.event.addListener(x,"mouseout",h)))},[h]),(0,a.useEffect)(()=>{x&&p&&(null!==D&&google.maps.event.removeListener(D),L(google.maps.event.addListener(x,"mouseover",p)))},[p]),(0,a.useEffect)(()=>{x&&m&&(null!==M&&google.maps.event.removeListener(M),U(google.maps.event.addListener(x,"mouseup",m)))},[m]),(0,a.useEffect)(()=>{x&&f&&(null!==F&&google.maps.event.removeListener(F),B(google.maps.event.addListener(x,"rightclick",f)))},[f]),(0,a.useEffect)(()=>{x&&g&&(null!==V&&google.maps.event.removeListener(V),z(google.maps.event.addListener(x,"click",g)))},[g]),(0,a.useEffect)(()=>{x&&_&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(x,"drag",_)))},[_]),(0,a.useEffect)(()=>{var e=new google.maps.Polyline(UM(UM({},t||VM),{},{map:y}));return s&&e.setPath(s),"undefined"!==typeof r&&e.setVisible(r),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof n&&e.setDraggable(n),o&&S(google.maps.event.addListener(e,"dblclick",o)),l&&T(google.maps.event.addListener(e,"dragend",l)),c&&A(google.maps.event.addListener(e,"dragstart",c)),d&&R(google.maps.event.addListener(e,"mousedown",d)),u&&O(google.maps.event.addListener(e,"mousemove",u)),h&&P(google.maps.event.addListener(e,"mouseout",h)),p&&L(google.maps.event.addListener(e,"mouseover",p)),m&&U(google.maps.event.addListener(e,"mouseup",m)),f&&B(google.maps.event.addListener(e,"rightclick",f)),g&&z(google.maps.event.addListener(e,"click",g)),_&&W(google.maps.event.addListener(e,"drag",_)),w(e),v&&v(e),()=>{null!==E&&google.maps.event.removeListener(E),null!==C&&google.maps.event.removeListener(C),null!==N&&google.maps.event.removeListener(N),null!==k&&google.maps.event.removeListener(k),null!==I&&google.maps.event.removeListener(I),null!==j&&google.maps.event.removeListener(j),null!==D&&google.maps.event.removeListener(D),null!==M&&google.maps.event.removeListener(M),null!==F&&google.maps.event.removeListener(F),null!==V&&google.maps.event.removeListener(V),b&&b(e),e.setMap(null)}},[]),null});class zM extends a.PureComponent{constructor(){super(...arguments),FD(this,"registeredEvents",[]),FD(this,"state",{polyline:null}),FD(this,"setPolylineCallback",()=>{null!==this.state.polyline&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(UM(UM({},this.props.options),{},{map:this.context}));this.registeredEvents=JD({updaterMap:BM,eventMap:FM,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){null!==this.state.polyline&&(KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:BM,eventMap:FM,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),KD(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}function HM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function WM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HM(Object(n),!0).forEach(function(t){FD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}FD(zM,"contextType",GD);var GM={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},qM={draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},path(e,t){e.setPath(t)},paths(e,t){e.setPaths(t)},visible(e,t){e.setVisible(t)}};(0,a.memo)(function(e){var{options:t,draggable:n,editable:i,visible:r,path:s,paths:o,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:u,onMouseMove:h,onMouseOut:p,onMouseOver:m,onMouseUp:f,onRightClick:g,onClick:_,onDrag:v,onLoad:b,onUnmount:y,onEdit:x}=e,w=(0,a.useContext)(GD),[E,S]=(0,a.useState)(null),[C,T]=(0,a.useState)(null),[N,A]=(0,a.useState)(null),[k,R]=(0,a.useState)(null),[I,O]=(0,a.useState)(null),[j,P]=(0,a.useState)(null),[D,L]=(0,a.useState)(null),[M,U]=(0,a.useState)(null),[F,B]=(0,a.useState)(null),[V,z]=(0,a.useState)(null),[H,W]=(0,a.useState)(null),[G,q]=(0,a.useState)(null);return(0,a.useEffect)(()=>{null!==E&&E.setMap(w)},[w]),(0,a.useEffect)(()=>{"undefined"!==typeof t&&null!==E&&E.setOptions(t)},[E,t]),(0,a.useEffect)(()=>{"undefined"!==typeof n&&null!==E&&E.setDraggable(n)},[E,n]),(0,a.useEffect)(()=>{"undefined"!==typeof i&&null!==E&&E.setEditable(i)},[E,i]),(0,a.useEffect)(()=>{"undefined"!==typeof r&&null!==E&&E.setVisible(r)},[E,r]),(0,a.useEffect)(()=>{"undefined"!==typeof s&&null!==E&&E.setPath(s)},[E,s]),(0,a.useEffect)(()=>{"undefined"!==typeof o&&null!==E&&E.setPaths(o)},[E,o]),(0,a.useEffect)(()=>{E&&"function"===typeof l&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(E,"dblclick",l)))},[l]),(0,a.useEffect)(()=>{E&&(google.maps.event.addListener(E.getPath(),"insert_at",()=>{null===x||void 0===x||x(E)}),google.maps.event.addListener(E.getPath(),"set_at",()=>{null===x||void 0===x||x(E)}),google.maps.event.addListener(E.getPath(),"remove_at",()=>{null===x||void 0===x||x(E)}))},[E,x]),(0,a.useEffect)(()=>{E&&"function"===typeof c&&(null!==N&&google.maps.event.removeListener(N),A(google.maps.event.addListener(E,"dragend",c)))},[c]),(0,a.useEffect)(()=>{E&&"function"===typeof d&&(null!==k&&google.maps.event.removeListener(k),R(google.maps.event.addListener(E,"dragstart",d)))},[d]),(0,a.useEffect)(()=>{E&&"function"===typeof u&&(null!==I&&google.maps.event.removeListener(I),O(google.maps.event.addListener(E,"mousedown",u)))},[u]),(0,a.useEffect)(()=>{E&&"function"===typeof h&&(null!==j&&google.maps.event.removeListener(j),P(google.maps.event.addListener(E,"mousemove",h)))},[h]),(0,a.useEffect)(()=>{E&&"function"===typeof p&&(null!==D&&google.maps.event.removeListener(D),L(google.maps.event.addListener(E,"mouseout",p)))},[p]),(0,a.useEffect)(()=>{E&&"function"===typeof m&&(null!==M&&google.maps.event.removeListener(M),U(google.maps.event.addListener(E,"mouseover",m)))},[m]),(0,a.useEffect)(()=>{E&&"function"===typeof f&&(null!==F&&google.maps.event.removeListener(F),B(google.maps.event.addListener(E,"mouseup",f)))},[f]),(0,a.useEffect)(()=>{E&&"function"===typeof g&&(null!==V&&google.maps.event.removeListener(V),z(google.maps.event.addListener(E,"rightclick",g)))},[g]),(0,a.useEffect)(()=>{E&&"function"===typeof _&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(E,"click",_)))},[_]),(0,a.useEffect)(()=>{E&&"function"===typeof v&&(null!==G&&google.maps.event.removeListener(G),q(google.maps.event.addListener(E,"drag",v)))},[v]),(0,a.useEffect)(()=>{var e=new google.maps.Polygon(WM(WM({},t),{},{map:w}));return s&&e.setPath(s),o&&e.setPaths(o),"undefined"!==typeof r&&e.setVisible(r),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof n&&e.setDraggable(n),l&&T(google.maps.event.addListener(e,"dblclick",l)),c&&A(google.maps.event.addListener(e,"dragend",c)),d&&R(google.maps.event.addListener(e,"dragstart",d)),u&&O(google.maps.event.addListener(e,"mousedown",u)),h&&P(google.maps.event.addListener(e,"mousemove",h)),p&&L(google.maps.event.addListener(e,"mouseout",p)),m&&U(google.maps.event.addListener(e,"mouseover",m)),f&&B(google.maps.event.addListener(e,"mouseup",f)),g&&z(google.maps.event.addListener(e,"rightclick",g)),_&&W(google.maps.event.addListener(e,"click",_)),v&&q(google.maps.event.addListener(e,"drag",v)),S(e),b&&b(e),()=>{null!==C&&google.maps.event.removeListener(C),null!==N&&google.maps.event.removeListener(N),null!==k&&google.maps.event.removeListener(k),null!==I&&google.maps.event.removeListener(I),null!==j&&google.maps.event.removeListener(j),null!==D&&google.maps.event.removeListener(D),null!==M&&google.maps.event.removeListener(M),null!==F&&google.maps.event.removeListener(F),null!==V&&google.maps.event.removeListener(V),null!==H&&google.maps.event.removeListener(H),y&&y(e),e.setMap(null)}},[]),null});class YM extends a.PureComponent{constructor(){super(...arguments),FD(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=JD({updaterMap:qM,eventMap:GM,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:qM,eventMap:GM,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),KD(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}function XM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function KM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XM(Object(n),!0).forEach(function(t){FD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}FD(YM,"contextType",GD);var JM={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},ZM={bounds(e,t){e.setBounds(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},visible(e,t){e.setVisible(t)}};(0,a.memo)(function(e){var{options:t,bounds:n,draggable:i,editable:r,visible:s,onDblClick:o,onDragEnd:l,onDragStart:c,onMouseDown:d,onMouseMove:u,onMouseOut:h,onMouseOver:p,onMouseUp:m,onRightClick:f,onClick:g,onDrag:_,onBoundsChanged:v,onLoad:b,onUnmount:y}=e,x=(0,a.useContext)(GD),[w,E]=(0,a.useState)(null),[S,C]=(0,a.useState)(null),[T,N]=(0,a.useState)(null),[A,k]=(0,a.useState)(null),[R,I]=(0,a.useState)(null),[O,j]=(0,a.useState)(null),[P,D]=(0,a.useState)(null),[L,M]=(0,a.useState)(null),[U,F]=(0,a.useState)(null),[B,V]=(0,a.useState)(null),[z,H]=(0,a.useState)(null),[W,G]=(0,a.useState)(null),[q,Y]=(0,a.useState)(null);return(0,a.useEffect)(()=>{null!==w&&w.setMap(x)},[x]),(0,a.useEffect)(()=>{"undefined"!==typeof t&&null!==w&&w.setOptions(t)},[w,t]),(0,a.useEffect)(()=>{"undefined"!==typeof i&&null!==w&&w.setDraggable(i)},[w,i]),(0,a.useEffect)(()=>{"undefined"!==typeof r&&null!==w&&w.setEditable(r)},[w,r]),(0,a.useEffect)(()=>{"undefined"!==typeof s&&null!==w&&w.setVisible(s)},[w,s]),(0,a.useEffect)(()=>{"undefined"!==typeof n&&null!==w&&w.setBounds(n)},[w,n]),(0,a.useEffect)(()=>{w&&o&&(null!==S&&google.maps.event.removeListener(S),C(google.maps.event.addListener(w,"dblclick",o)))},[o]),(0,a.useEffect)(()=>{w&&l&&(null!==T&&google.maps.event.removeListener(T),N(google.maps.event.addListener(w,"dragend",l)))},[l]),(0,a.useEffect)(()=>{w&&c&&(null!==A&&google.maps.event.removeListener(A),k(google.maps.event.addListener(w,"dragstart",c)))},[c]),(0,a.useEffect)(()=>{w&&d&&(null!==R&&google.maps.event.removeListener(R),I(google.maps.event.addListener(w,"mousedown",d)))},[d]),(0,a.useEffect)(()=>{w&&u&&(null!==O&&google.maps.event.removeListener(O),j(google.maps.event.addListener(w,"mousemove",u)))},[u]),(0,a.useEffect)(()=>{w&&h&&(null!==P&&google.maps.event.removeListener(P),D(google.maps.event.addListener(w,"mouseout",h)))},[h]),(0,a.useEffect)(()=>{w&&p&&(null!==L&&google.maps.event.removeListener(L),M(google.maps.event.addListener(w,"mouseover",p)))},[p]),(0,a.useEffect)(()=>{w&&m&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(w,"mouseup",m)))},[m]),(0,a.useEffect)(()=>{w&&f&&(null!==B&&google.maps.event.removeListener(B),V(google.maps.event.addListener(w,"rightclick",f)))},[f]),(0,a.useEffect)(()=>{w&&g&&(null!==z&&google.maps.event.removeListener(z),H(google.maps.event.addListener(w,"click",g)))},[g]),(0,a.useEffect)(()=>{w&&_&&(null!==W&&google.maps.event.removeListener(W),G(google.maps.event.addListener(w,"drag",_)))},[_]),(0,a.useEffect)(()=>{w&&v&&(null!==q&&google.maps.event.removeListener(q),Y(google.maps.event.addListener(w,"bounds_changed",v)))},[v]),(0,a.useEffect)(()=>{var e=new google.maps.Rectangle(KM(KM({},t),{},{map:x}));return"undefined"!==typeof s&&e.setVisible(s),"undefined"!==typeof r&&e.setEditable(r),"undefined"!==typeof i&&e.setDraggable(i),"undefined"!==typeof n&&e.setBounds(n),o&&C(google.maps.event.addListener(e,"dblclick",o)),l&&N(google.maps.event.addListener(e,"dragend",l)),c&&k(google.maps.event.addListener(e,"dragstart",c)),d&&I(google.maps.event.addListener(e,"mousedown",d)),u&&j(google.maps.event.addListener(e,"mousemove",u)),h&&D(google.maps.event.addListener(e,"mouseout",h)),p&&M(google.maps.event.addListener(e,"mouseover",p)),m&&F(google.maps.event.addListener(e,"mouseup",m)),f&&V(google.maps.event.addListener(e,"rightclick",f)),g&&H(google.maps.event.addListener(e,"click",g)),_&&G(google.maps.event.addListener(e,"drag",_)),v&&Y(google.maps.event.addListener(e,"bounds_changed",v)),E(e),b&&b(e),()=>{null!==S&&google.maps.event.removeListener(S),null!==T&&google.maps.event.removeListener(T),null!==A&&google.maps.event.removeListener(A),null!==R&&google.maps.event.removeListener(R),null!==O&&google.maps.event.removeListener(O),null!==P&&google.maps.event.removeListener(P),null!==L&&google.maps.event.removeListener(L),null!==U&&google.maps.event.removeListener(U),null!==B&&google.maps.event.removeListener(B),null!==z&&google.maps.event.removeListener(z),null!==W&&google.maps.event.removeListener(W),null!==q&&google.maps.event.removeListener(q),y&&y(e),e.setMap(null)}},[]),null});class QM extends a.PureComponent{constructor(){super(...arguments),FD(this,"registeredEvents",[]),FD(this,"state",{rectangle:null}),FD(this,"setRectangleCallback",()=>{null!==this.state.rectangle&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(KM(KM({},this.props.options),{},{map:this.context}));this.registeredEvents=JD({updaterMap:ZM,eventMap:JM,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){null!==this.state.rectangle&&(KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:ZM,eventMap:JM,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),KD(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}function $M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function eU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$M(Object(n),!0).forEach(function(t){FD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}FD(QM,"contextType",GD);var tU={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},nU={center(e,t){e.setCenter(t)},draggable(e,t){e.setDraggable(t)},editable(e,t){e.setEditable(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},radius(e,t){e.setRadius(t)},visible(e,t){e.setVisible(t)}},iU={};(0,a.memo)(function(e){var{options:t,center:n,radius:i,draggable:r,editable:s,visible:o,onDblClick:l,onDragEnd:c,onDragStart:d,onMouseDown:u,onMouseMove:h,onMouseOut:p,onMouseOver:m,onMouseUp:f,onRightClick:g,onClick:_,onDrag:v,onCenterChanged:b,onRadiusChanged:y,onLoad:x,onUnmount:w}=e,E=(0,a.useContext)(GD),[S,C]=(0,a.useState)(null),[T,N]=(0,a.useState)(null),[A,k]=(0,a.useState)(null),[R,I]=(0,a.useState)(null),[O,j]=(0,a.useState)(null),[P,D]=(0,a.useState)(null),[L,M]=(0,a.useState)(null),[U,F]=(0,a.useState)(null),[B,V]=(0,a.useState)(null),[z,H]=(0,a.useState)(null),[W,G]=(0,a.useState)(null),[q,Y]=(0,a.useState)(null),[X,K]=(0,a.useState)(null),[J,Z]=(0,a.useState)(null);return(0,a.useEffect)(()=>{null!==S&&S.setMap(E)},[E]),(0,a.useEffect)(()=>{"undefined"!==typeof t&&null!==S&&S.setOptions(t)},[S,t]),(0,a.useEffect)(()=>{"undefined"!==typeof r&&null!==S&&S.setDraggable(r)},[S,r]),(0,a.useEffect)(()=>{"undefined"!==typeof s&&null!==S&&S.setEditable(s)},[S,s]),(0,a.useEffect)(()=>{"undefined"!==typeof o&&null!==S&&S.setVisible(o)},[S,o]),(0,a.useEffect)(()=>{"number"===typeof i&&null!==S&&S.setRadius(i)},[S,i]),(0,a.useEffect)(()=>{"undefined"!==typeof n&&null!==S&&S.setCenter(n)},[S,n]),(0,a.useEffect)(()=>{S&&l&&(null!==T&&google.maps.event.removeListener(T),N(google.maps.event.addListener(S,"dblclick",l)))},[l]),(0,a.useEffect)(()=>{S&&c&&(null!==A&&google.maps.event.removeListener(A),k(google.maps.event.addListener(S,"dragend",c)))},[c]),(0,a.useEffect)(()=>{S&&d&&(null!==R&&google.maps.event.removeListener(R),I(google.maps.event.addListener(S,"dragstart",d)))},[d]),(0,a.useEffect)(()=>{S&&u&&(null!==O&&google.maps.event.removeListener(O),j(google.maps.event.addListener(S,"mousedown",u)))},[u]),(0,a.useEffect)(()=>{S&&h&&(null!==P&&google.maps.event.removeListener(P),D(google.maps.event.addListener(S,"mousemove",h)))},[h]),(0,a.useEffect)(()=>{S&&p&&(null!==L&&google.maps.event.removeListener(L),M(google.maps.event.addListener(S,"mouseout",p)))},[p]),(0,a.useEffect)(()=>{S&&m&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(S,"mouseover",m)))},[m]),(0,a.useEffect)(()=>{S&&f&&(null!==B&&google.maps.event.removeListener(B),V(google.maps.event.addListener(S,"mouseup",f)))},[f]),(0,a.useEffect)(()=>{S&&g&&(null!==z&&google.maps.event.removeListener(z),H(google.maps.event.addListener(S,"rightclick",g)))},[g]),(0,a.useEffect)(()=>{S&&_&&(null!==W&&google.maps.event.removeListener(W),G(google.maps.event.addListener(S,"click",_)))},[_]),(0,a.useEffect)(()=>{S&&v&&(null!==q&&google.maps.event.removeListener(q),Y(google.maps.event.addListener(S,"drag",v)))},[v]),(0,a.useEffect)(()=>{S&&b&&(null!==X&&google.maps.event.removeListener(X),K(google.maps.event.addListener(S,"center_changed",b)))},[_]),(0,a.useEffect)(()=>{S&&y&&(null!==J&&google.maps.event.removeListener(J),Z(google.maps.event.addListener(S,"radius_changed",y)))},[y]),(0,a.useEffect)(()=>{var e=new google.maps.Circle(eU(eU({},t||iU),{},{map:E}));return"number"===typeof i&&e.setRadius(i),"undefined"!==typeof n&&e.setCenter(n),"number"===typeof i&&e.setRadius(i),"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof r&&e.setDraggable(r),l&&N(google.maps.event.addListener(e,"dblclick",l)),c&&k(google.maps.event.addListener(e,"dragend",c)),d&&I(google.maps.event.addListener(e,"dragstart",d)),u&&j(google.maps.event.addListener(e,"mousedown",u)),h&&D(google.maps.event.addListener(e,"mousemove",h)),p&&M(google.maps.event.addListener(e,"mouseout",p)),m&&F(google.maps.event.addListener(e,"mouseover",m)),f&&V(google.maps.event.addListener(e,"mouseup",f)),g&&H(google.maps.event.addListener(e,"rightclick",g)),_&&G(google.maps.event.addListener(e,"click",_)),v&&Y(google.maps.event.addListener(e,"drag",v)),b&&K(google.maps.event.addListener(e,"center_changed",b)),y&&Z(google.maps.event.addListener(e,"radius_changed",y)),C(e),x&&x(e),()=>{null!==T&&google.maps.event.removeListener(T),null!==A&&google.maps.event.removeListener(A),null!==R&&google.maps.event.removeListener(R),null!==O&&google.maps.event.removeListener(O),null!==P&&google.maps.event.removeListener(P),null!==L&&google.maps.event.removeListener(L),null!==U&&google.maps.event.removeListener(U),null!==B&&google.maps.event.removeListener(B),null!==z&&google.maps.event.removeListener(z),null!==W&&google.maps.event.removeListener(W),null!==X&&google.maps.event.removeListener(X),null!==J&&google.maps.event.removeListener(J),w&&w(e),e.setMap(null)}},[]),null});class rU extends a.PureComponent{constructor(){super(...arguments),FD(this,"registeredEvents",[]),FD(this,"state",{circle:null}),FD(this,"setCircleCallback",()=>{null!==this.state.circle&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(eU(eU({},this.props.options),{},{map:this.context}));this.registeredEvents=JD({updaterMap:nU,eventMap:tU,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){null!==this.state.circle&&(KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:nU,eventMap:tU,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),KD(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))}render(){return null}}function aU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function sU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aU(Object(n),!0).forEach(function(t){FD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}FD(rU,"contextType",GD);var oU={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},lU={add(e,t){e.add(t)},addgeojson(e,t,n){e.addGeoJson(t,n)},contains(e,t){e.contains(t)},foreach(e,t){e.forEach(t)},loadgeojson(e,t,n,i){e.loadGeoJson(t,n,i)},overridestyle(e,t,n){e.overrideStyle(t,n)},remove(e,t){e.remove(t)},revertstyle(e,t){e.revertStyle(t)},controlposition(e,t){e.setControlPosition(t)},controls(e,t){e.setControls(t)},drawingmode(e,t){e.setDrawingMode(t)},map(e,t){e.setMap(t)},style(e,t){e.setStyle(t)},togeojson(e,t){e.toGeoJson(t)}};(0,a.memo)(function(e){var{options:t,onClick:n,onDblClick:i,onMouseDown:r,onMouseMove:s,onMouseOut:o,onMouseOver:l,onMouseUp:c,onRightClick:d,onAddFeature:u,onRemoveFeature:h,onRemoveProperty:p,onSetGeometry:m,onSetProperty:f,onLoad:g,onUnmount:_}=e,v=(0,a.useContext)(GD),[b,y]=(0,a.useState)(null),[x,w]=(0,a.useState)(null),[E,S]=(0,a.useState)(null),[C,T]=(0,a.useState)(null),[N,A]=(0,a.useState)(null),[k,R]=(0,a.useState)(null),[I,O]=(0,a.useState)(null),[j,P]=(0,a.useState)(null),[D,L]=(0,a.useState)(null),[M,U]=(0,a.useState)(null),[F,B]=(0,a.useState)(null),[V,z]=(0,a.useState)(null),[H,W]=(0,a.useState)(null),[G,q]=(0,a.useState)(null);return(0,a.useEffect)(()=>{null!==b&&b.setMap(v)},[v]),(0,a.useEffect)(()=>{b&&i&&(null!==x&&google.maps.event.removeListener(x),w(google.maps.event.addListener(b,"dblclick",i)))},[i]),(0,a.useEffect)(()=>{b&&r&&(null!==E&&google.maps.event.removeListener(E),S(google.maps.event.addListener(b,"mousedown",r)))},[r]),(0,a.useEffect)(()=>{b&&s&&(null!==C&&google.maps.event.removeListener(C),T(google.maps.event.addListener(b,"mousemove",s)))},[s]),(0,a.useEffect)(()=>{b&&o&&(null!==N&&google.maps.event.removeListener(N),A(google.maps.event.addListener(b,"mouseout",o)))},[o]),(0,a.useEffect)(()=>{b&&l&&(null!==k&&google.maps.event.removeListener(k),R(google.maps.event.addListener(b,"mouseover",l)))},[l]),(0,a.useEffect)(()=>{b&&c&&(null!==I&&google.maps.event.removeListener(I),O(google.maps.event.addListener(b,"mouseup",c)))},[c]),(0,a.useEffect)(()=>{b&&d&&(null!==j&&google.maps.event.removeListener(j),P(google.maps.event.addListener(b,"rightclick",d)))},[d]),(0,a.useEffect)(()=>{b&&n&&(null!==D&&google.maps.event.removeListener(D),L(google.maps.event.addListener(b,"click",n)))},[n]),(0,a.useEffect)(()=>{b&&u&&(null!==M&&google.maps.event.removeListener(M),U(google.maps.event.addListener(b,"addfeature",u)))},[u]),(0,a.useEffect)(()=>{b&&h&&(null!==F&&google.maps.event.removeListener(F),B(google.maps.event.addListener(b,"removefeature",h)))},[h]),(0,a.useEffect)(()=>{b&&p&&(null!==V&&google.maps.event.removeListener(V),z(google.maps.event.addListener(b,"removeproperty",p)))},[p]),(0,a.useEffect)(()=>{b&&m&&(null!==H&&google.maps.event.removeListener(H),W(google.maps.event.addListener(b,"setgeometry",m)))},[m]),(0,a.useEffect)(()=>{b&&f&&(null!==G&&google.maps.event.removeListener(G),q(google.maps.event.addListener(b,"setproperty",f)))},[f]),(0,a.useEffect)(()=>{if(null!==v){var e=new google.maps.Data(sU(sU({},t),{},{map:v}));i&&w(google.maps.event.addListener(e,"dblclick",i)),r&&S(google.maps.event.addListener(e,"mousedown",r)),s&&T(google.maps.event.addListener(e,"mousemove",s)),o&&A(google.maps.event.addListener(e,"mouseout",o)),l&&R(google.maps.event.addListener(e,"mouseover",l)),c&&O(google.maps.event.addListener(e,"mouseup",c)),d&&P(google.maps.event.addListener(e,"rightclick",d)),n&&L(google.maps.event.addListener(e,"click",n)),u&&U(google.maps.event.addListener(e,"addfeature",u)),h&&B(google.maps.event.addListener(e,"removefeature",h)),p&&z(google.maps.event.addListener(e,"removeproperty",p)),m&&W(google.maps.event.addListener(e,"setgeometry",m)),f&&q(google.maps.event.addListener(e,"setproperty",f)),y(e),g&&g(e)}return()=>{b&&(null!==x&&google.maps.event.removeListener(x),null!==E&&google.maps.event.removeListener(E),null!==C&&google.maps.event.removeListener(C),null!==N&&google.maps.event.removeListener(N),null!==k&&google.maps.event.removeListener(k),null!==I&&google.maps.event.removeListener(I),null!==j&&google.maps.event.removeListener(j),null!==D&&google.maps.event.removeListener(D),null!==M&&google.maps.event.removeListener(M),null!==F&&google.maps.event.removeListener(F),null!==V&&google.maps.event.removeListener(V),null!==H&&google.maps.event.removeListener(H),null!==G&&google.maps.event.removeListener(G),_&&_(b),b.setMap(null))}},[]),null});class cU extends a.PureComponent{constructor(){super(...arguments),FD(this,"registeredEvents",[]),FD(this,"state",{data:null}),FD(this,"setDataCallback",()=>{null!==this.state.data&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(null!==this.context){var e=new google.maps.Data(sU(sU({},this.props.options),{},{map:this.context}));this.registeredEvents=JD({updaterMap:lU,eventMap:oU,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){null!==this.state.data&&(KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:lU,eventMap:oU,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),KD(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}function dU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function uU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dU(Object(n),!0).forEach(function(t){FD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}FD(cU,"contextType",GD);var hU={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},pU={options(e,t){e.setOptions(t)},url(e,t){e.setUrl(t)},zIndex(e,t){e.setZIndex(t)}};class mU extends a.PureComponent{constructor(){super(...arguments),FD(this,"registeredEvents",[]),FD(this,"state",{kmlLayer:null}),FD(this,"setKmlLayerCallback",()=>{null!==this.state.kmlLayer&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(uU(uU({},this.props.options),{},{map:this.context}));this.registeredEvents=JD({updaterMap:pU,eventMap:hU,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){null!==this.state.kmlLayer&&(KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:pU,eventMap:hU,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),KD(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}function fU(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function gU(e,t){return new t(e.lat,e.lng)}function _U(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function vU(e,t,n,i){return void 0!==n?function(e,t,n){var i=e&&e.fromLatLngToDivPixel(n.getNorthEast()),r=e&&e.fromLatLngToDivPixel(n.getSouthWest());return i&&r?{left:"".concat(r.x+t.x,"px"),top:"".concat(i.y+t.y,"px"),width:"".concat(i.x-r.x-t.x,"px"),height:"".concat(r.y-i.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(n,google.maps.LatLngBounds,_U)):function(e,t,n){var i=e&&e.fromLatLngToDivPixel(n);if(i){var{x:r,y:a}=i;return{left:"".concat(r+t.x,"px"),top:"".concat(a+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(i,google.maps.LatLng,gU))}function bU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function yU(e,t,n,i,r){class a extends google.maps.OverlayView{constructor(e,t,n,i){super(),this.container=e,this.pane=t,this.position=n,this.bounds=i}onAdd(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)}draw(){var e=this.getProjection(),t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bU(Object(n),!0).forEach(function(t){FD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.container?fU(this.container,r):{x:0,y:0}),n=vU(e,t,this.bounds,this.position);for(var[i,a]of Object.entries(n))this.container.style[i]=a}onRemove(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)}}return new a(e,t,n,i)}function xU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function wU(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function EU(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}FD(mU,"contextType",GD);(0,a.memo)(function(e){var{position:t,bounds:n,mapPaneName:i,zIndex:r,onLoad:s,onUnmount:o,getPixelPositionOffset:c,children:d}=e,u=(0,a.useContext)(GD),h=(0,a.useMemo)(()=>{var e=document.createElement("div");return e.style.position="absolute",e},[]),p=(0,a.useMemo)(()=>yU(h,i,t,n,c),[h,i,t,n]);return(0,a.useEffect)(()=>(null===s||void 0===s||s(p),null===p||void 0===p||p.setMap(u),()=>{null===o||void 0===o||o(p),null===p||void 0===p||p.setMap(null)}),[u,p]),(0,a.useEffect)(()=>{h.style.zIndex="".concat(r)},[r,h]),l.createPortal(d,h)});class SU extends a.PureComponent{constructor(e){super(e),FD(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),FD(this,"updatePane",()=>{var e=this.props.mapPaneName,t=this.overlayView.getPanes();WD(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?this.setState({paneEl:t[e]}):this.setState({paneEl:null})}),FD(this,"onAdd",()=>{var e,t;this.updatePane(),null===(e=(t=this.props).onLoad)||void 0===e||e.call(t,this.overlayView)}),FD(this,"onPositionElement",()=>{var e,t,n,i,r,a,s=this.overlayView.getProjection(),o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xU(Object(n),!0).forEach(function(t){FD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:0,y:0},this.containerRef.current?fU(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=vU(s,o,this.props.bounds,this.props.position);(r=l,a={left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height},r.left!==a.left||r.top!==a.top||r.width!==a.height||r.height!==a.height)&&this.setState({containerStyle:{top:null!==(e=l.top)&&void 0!==e?e:0,left:null!==(t=l.left)&&void 0!==t?t:0,width:null!==(n=l.width)&&void 0!==n?n:0,height:null!==(i=l.height)&&void 0!==i?i:0,position:"absolute"}})}),FD(this,"draw",()=>{this.onPositionElement()}),FD(this,"onRemove",()=>{var e,t;this.setState(()=>({paneEl:null})),null===(e=(t=this.props).onUnmount)||void 0===e||e.call(t,this.overlayView)}),this.containerRef=(0,a.createRef)();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=wU(e.position),n=wU(this.props.position),i=EU(e.bounds),r=EU(this.props.bounds);t===n&&i===r||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?l.createPortal((0,Pa.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:a.Children.only(this.props.children)}),e):null}}function CU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function TU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?CU(Object(n),!0).forEach(function(t){FD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}FD(SU,"FLOAT_PANE","floatPane"),FD(SU,"MAP_PANE","mapPane"),FD(SU,"MARKER_LAYER","markerLayer"),FD(SU,"OVERLAY_LAYER","overlayLayer"),FD(SU,"OVERLAY_MOUSE_TARGET","overlayMouseTarget"),FD(SU,"contextType",GD);var NU={onDblClick:"dblclick",onClick:"click"},AU={opacity(e,t){e.setOpacity(t)}};(0,a.memo)(function(e){var{url:t,bounds:n,options:i,visible:r}=e,s=(0,a.useContext)(GD),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=(0,a.useMemo)(()=>new google.maps.GroundOverlay(t,o,i),[]);return(0,a.useEffect)(()=>{null!==l&&l.setMap(s)},[s]),(0,a.useEffect)(()=>{"undefined"!==typeof t&&null!==l&&(l.set("url",t),l.setMap(s))},[l,t]),(0,a.useEffect)(()=>{"undefined"!==typeof r&&null!==l&&l.setOpacity(r?1:0)},[l,r]),(0,a.useEffect)(()=>{var e=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));"undefined"!==typeof n&&null!==l&&(l.set("bounds",e),l.setMap(s))},[l,n]),null});class kU extends a.PureComponent{constructor(){super(...arguments),FD(this,"registeredEvents",[]),FD(this,"state",{groundOverlay:null}),FD(this,"setGroundOverlayCallback",()=>{null!==this.state.groundOverlay&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){WD(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,TU(TU({},this.props.options),{},{map:this.context}));this.registeredEvents=JD({updaterMap:AU,eventMap:NU,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){null!==this.state.groundOverlay&&(KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:AU,eventMap:NU,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}function RU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function IU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RU(Object(n),!0).forEach(function(t){FD(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}FD(kU,"defaultProps",{onLoad:function(){}}),FD(kU,"contextType",GD);var OU={},jU={data(e,t){e.setData(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)}};(0,a.memo)(function(e){var{data:t,onLoad:n,onUnmount:i,options:r}=e,s=(0,a.useContext)(GD),[o,l]=(0,a.useState)(null);return(0,a.useEffect)(()=>{google.maps.visualization||WD(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),(0,a.useEffect)(()=>{WD(!!t,"data property is required in HeatmapLayer %s",t)},[t]),(0,a.useEffect)(()=>{null!==o&&o.setMap(s)},[s]),(0,a.useEffect)(()=>{r&&null!==o&&o.setOptions(r)},[o,r]),(0,a.useEffect)(()=>{var e=new google.maps.visualization.HeatmapLayer(IU(IU({},r),{},{data:t,map:s}));return l(e),n&&n(e),()=>{null!==o&&(i&&i(o),o.setMap(null))}},[]),null});class PU extends a.PureComponent{constructor(){super(...arguments),FD(this,"registeredEvents",[]),FD(this,"state",{heatmapLayer:null}),FD(this,"setHeatmapLayerCallback",()=>{null!==this.state.heatmapLayer&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){WD(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),WD(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(IU(IU({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=JD({updaterMap:jU,eventMap:OU,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:jU,eventMap:OU,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),KD(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}FD(PU,"contextType",GD);var DU={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},LU={register(e,t,n){e.registerPanoProvider(t,n)},links(e,t){e.setLinks(t)},motionTracking(e,t){e.setMotionTracking(t)},options(e,t){e.setOptions(t)},pano(e,t){e.setPano(t)},position(e,t){e.setPosition(t)},pov(e,t){e.setPov(t)},visible(e,t){e.setVisible(t)},zoom(e,t){e.setZoom(t)}};class MU extends a.PureComponent{constructor(){super(...arguments),FD(this,"registeredEvents",[]),FD(this,"state",{streetViewPanorama:null}),FD(this,"setStreetViewPanoramaCallback",()=>{null!==this.state.streetViewPanorama&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,n=null!==(e=null===(t=this.context)||void 0===t?void 0:t.getStreetView())&&void 0!==e?e:null;this.registeredEvents=JD({updaterMap:LU,eventMap:DU,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({streetViewPanorama:n}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){null!==this.state.streetViewPanorama&&(KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:LU,eventMap:DU,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),KD(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}FD(MU,"contextType",GD);class UU extends a.PureComponent{constructor(){super(...arguments),FD(this,"state",{streetViewService:null}),FD(this,"setStreetViewServiceCallback",()=>{null!==this.state.streetViewService&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}FD(UU,"contextType",GD);a.PureComponent;var FU={onDirectionsChanged:"directions_changed"},BU={directions(e,t){e.setDirections(t)},map(e,t){e.setMap(t)},options(e,t){e.setOptions(t)},panel(e,t){e.setPanel(t)},routeIndex(e,t){e.setRouteIndex(t)}};class VU extends a.PureComponent{constructor(){super(...arguments),FD(this,"registeredEvents",[]),FD(this,"state",{directionsRenderer:null}),FD(this,"setDirectionsRendererCallback",()=>{null!==this.state.directionsRenderer&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=JD({updaterMap:BU,eventMap:FU,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){null!==this.state.directionsRenderer&&(KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:BU,eventMap:FU,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),KD(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}FD(VU,"contextType",GD);a.PureComponent;var zU={onPlacesChanged:"places_changed"},HU={bounds(e,t){e.setBounds(t)}};class WU extends a.PureComponent{constructor(){super(...arguments),FD(this,"registeredEvents",[]),FD(this,"containerElement",(0,a.createRef)()),FD(this,"state",{searchBox:null}),FD(this,"setSearchBoxCallback",()=>{null!==this.state.searchBox&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(WD(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=JD({updaterMap:HU,eventMap:zU,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){null!==this.state.searchBox&&(KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:HU,eventMap:zU,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),KD(this.registeredEvents))}render(){return(0,Pa.jsx)("div",{ref:this.containerElement,children:a.Children.only(this.props.children)})}}FD(WU,"contextType",GD);var GU={onPlaceChanged:"place_changed"},qU={bounds(e,t){e.setBounds(t)},restrictions(e,t){e.setComponentRestrictions(t)},fields(e,t){e.setFields(t)},options(e,t){e.setOptions(t)},types(e,t){e.setTypes(t)}};class YU extends a.PureComponent{constructor(){super(...arguments),FD(this,"registeredEvents",[]),FD(this,"containerElement",(0,a.createRef)()),FD(this,"state",{autocomplete:null}),FD(this,"setAutocompleteCallback",()=>{null!==this.state.autocomplete&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;WD(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=JD({updaterMap:qU,eventMap:GU,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(e){KD(this.registeredEvents),this.registeredEvents=JD({updaterMap:qU,eventMap:GU,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){null!==this.state.autocomplete&&KD(this.registeredEvents)}render(){return(0,Pa.jsx)("div",{ref:this.containerElement,className:this.props.className,children:a.Children.only(this.props.children)})}}FD(YU,"defaultProps",{className:""}),FD(YU,"contextType",GD);const XU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function KU(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const JU={date:KU({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:KU({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:KU({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ZU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function QU(e){return(t,n)=>{let i;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,r=null!==n&&void 0!==n&&n.width?String(n.width):t;i=e.formattingValues[r]||e.formattingValues[t]}else{const t=e.defaultWidth,r=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;i=e.values[r]||e.values[t]}return i[e.argumentCallback?e.argumentCallback(t):t]}}const $U={ordinalNumber:(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:QU({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:QU({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:QU({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:QU({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:QU({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function eF(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=n.width,r=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],a=t.match(r);if(!a)return null;const s=a[0],o=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,e=>e.test(s)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,e=>e.test(s));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(s.length)}}}const tF={ordinalNumber:function(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t.match(e.matchPattern);if(!i)return null;const r=i[0],a=t.match(e.parsePattern);if(!a)return null;let s=e.valueCallback?e.valueCallback(a[0]):a[0];s=n.valueCallback?n.valueCallback(s):s;return{value:s,rest:t.slice(r.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:eF({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:eF({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:eF({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:eF({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:eF({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},nF={code:"en-US",formatDistance:(e,t,n)=>{let i;const r=XU[e];return i="string"===typeof r?r:1===t?r.one:r.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i},formatLong:JU,formatRelative:(e,t,n,i)=>ZU[e],localize:$U,match:tF,options:{weekStartsOn:0,firstWeekContainsDate:1}};let iF={};function rF(){return iF}Math.pow(10,8);const aF=6048e5;function sF(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new e.constructor(+e):"number"===typeof e||"[object Number]"===t||"string"===typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function oF(e){const t=sF(e);return t.setHours(0,0,0,0),t}function lF(e){const t=sF(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function cF(e,t){const n=oF(e),i=oF(t),r=+n-lF(n),a=+i-lF(i);return Math.round((r-a)/864e5)}function dF(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function uF(e){const t=sF(e),n=dF(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function hF(e){const t=sF(e);return cF(t,uF(t))+1}function pF(e,t){var n,i,r,a,s,o;const l=rF(),c=null!==(n=null!==(i=null!==(r=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==r?r:l.weekStartsOn)&&void 0!==i?i:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==n?n:0,d=sF(e),u=d.getDay(),h=(u<c?7:0)+u-c;return d.setDate(d.getDate()-h),d.setHours(0,0,0,0),d}function mF(e){return pF(e,{weekStartsOn:1})}function fF(e){const t=sF(e),n=t.getFullYear(),i=dF(e,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const r=mF(i),a=dF(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const s=mF(a);return t.getTime()>=r.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function gF(e){const t=fF(e),n=dF(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),mF(n)}function _F(e){const t=sF(e),n=+mF(t)-+gF(t);return Math.round(n/aF)+1}function vF(e,t){var n,i,r,a,s,o;const l=sF(e),c=l.getFullYear(),d=rF(),u=null!==(n=null!==(i=null!==(r=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==r?r:d.firstWeekContainsDate)&&void 0!==i?i:null===(o=d.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==n?n:1,h=dF(e,0);h.setFullYear(c+1,0,u),h.setHours(0,0,0,0);const p=pF(h,t),m=dF(e,0);m.setFullYear(c,0,u),m.setHours(0,0,0,0);const f=pF(m,t);return l.getTime()>=p.getTime()?c+1:l.getTime()>=f.getTime()?c:c-1}function bF(e,t){var n,i,r,a,s,o;const l=rF(),c=null!==(n=null!==(i=null!==(r=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==r?r:l.firstWeekContainsDate)&&void 0!==i?i:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==n?n:1,d=vF(e,t),u=dF(e,0);u.setFullYear(d,0,c),u.setHours(0,0,0,0);return pF(u,t)}function yF(e,t){const n=sF(e),i=+pF(n,t)-+bF(n,t);return Math.round(i/aF)+1}function xF(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const wF={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return xF("yy"===t?i%100:i,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):xF(n+1,2)},d:(e,t)=>xF(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>xF(e.getHours()%12||12,t.length),H:(e,t)=>xF(e.getHours(),t.length),m:(e,t)=>xF(e.getMinutes(),t.length),s:(e,t)=>xF(e.getSeconds(),t.length),S(e,t){const n=t.length,i=e.getMilliseconds();return xF(Math.trunc(i*Math.pow(10,n-3)),t.length)}},EF="midnight",SF="noon",CF="morning",TF="afternoon",NF="evening",AF="night",kF={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),i=t>0?t:1-t;return n.ordinalNumber(i,{unit:"year"})}return wF.y(e,t)},Y:function(e,t,n,i){const r=vF(e,i),a=r>0?r:1-r;if("YY"===t){return xF(a%100,2)}return"Yo"===t?n.ordinalNumber(a,{unit:"year"}):xF(a,t.length)},R:function(e,t){return xF(fF(e),t.length)},u:function(e,t){return xF(e.getFullYear(),t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return xF(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return xF(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return wF.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return xF(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const r=yF(e,i);return"wo"===t?n.ordinalNumber(r,{unit:"week"}):xF(r,t.length)},I:function(e,t,n){const i=_F(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):xF(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):wF.d(e,t)},D:function(e,t,n){const i=hF(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):xF(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const r=e.getDay(),a=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return xF(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const r=e.getDay(),a=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return xF(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),r=0===i?7:i;switch(t){case"i":return String(r);case"ii":return xF(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let r;switch(r=12===i?SF:0===i?EF:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let r;switch(r=i>=17?NF:i>=12?TF:i>=4?CF:AF,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return wF.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):wF.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):xF(i,t.length)},k:function(e,t,n){let i=e.getHours();return 0===i&&(i=24),"ko"===t?n.ordinalNumber(i,{unit:"hour"}):xF(i,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):wF.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):wF.s(e,t)},S:function(e,t){return wF.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return IF(i);case"XXXX":case"XX":return OF(i);default:return OF(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return IF(i);case"xxxx":case"xx":return OF(i);default:return OF(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+RF(i,":");default:return"GMT"+OF(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+RF(i,":");default:return"GMT"+OF(i,":")}},t:function(e,t,n){return xF(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,n){return xF(e.getTime(),t.length)}};function RF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",i=Math.abs(e),r=Math.trunc(i/60),a=i%60;return 0===a?n+String(r):n+String(r)+t+xF(a,2)}function IF(e,t){if(e%60===0){return(e>0?"-":"+")+xF(Math.abs(e)/60,2)}return OF(e,t)}function OF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",i=Math.abs(e);return n+xF(Math.trunc(i/60),2)+t+xF(i%60,2)}const jF=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},PF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},DF={p:PF,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],r=n[2];if(!r)return jF(e,t);let a;switch(i){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",jF(i,t)).replace("{{time}}",PF(r,t))}},LF=/^D+$/,MF=/^Y+$/,UF=["D","DD","YY","YYYY"];function FF(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function BF(e){if(!FF(e)&&"number"!==typeof e)return!1;const t=sF(e);return!isNaN(Number(t))}const VF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HF=/^'([^]*?)'?$/,WF=/''/g,GF=/[a-zA-Z]/;function qF(e,t,n){var i,r,a,s,o,l,c,d,u,h,p,m,f,g;const _=rF(),v=null!==(i=null!==(r=null===n||void 0===n?void 0:n.locale)&&void 0!==r?r:_.locale)&&void 0!==i?i:nF,b=null!==(a=null!==(s=null!==(o=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:_.firstWeekContainsDate)&&void 0!==s?s:null===(d=_.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==a?a:1,y=null!==(u=null!==(h=null!==(p=null!==(m=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==m?m:null===n||void 0===n||null===(f=n.locale)||void 0===f||null===(f=f.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==p?p:_.weekStartsOn)&&void 0!==h?h:null===(g=_.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==u?u:0,x=sF(e);if(!BF(x))throw new RangeError("Invalid time value");let w=t.match(zF).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,DF[t])(e,v.formatLong)}return e}).join("").match(VF).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:YF(e)};if(kF[t])return{isToken:!0,value:e};if(t.match(GF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});v.localize.preprocessor&&(w=v.localize.preprocessor(x,w));const E={firstWeekContainsDate:b,weekStartsOn:y,locale:v};return w.map(i=>{if(!i.isToken)return i.value;const r=i.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!function(e){return MF.test(e)}(r))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return LF.test(e)}(r))||function(e,t,n){const i=function(e,t,n){const i="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(i," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(i),UF.includes(e))throw new RangeError(i)}(r,t,String(e));return(0,kF[r[0]])(x,r,v.localize,E)}).join("")}function YF(e){const t=e.match(HF);return t?t[1].replace(WF,"'"):e}const XF=new Date;XF.setHours(0,0,0,0);const KF=["places"],JF=e=>{var t;const n=ot(),i=ct(),{t:r}=As(),[s,o]=(0,a.useState)({}),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),h=[{title:r("link_dashboard"),url:"/admin/dashboard"},{title:r("User"),url:"/admin/user-management/user/list/1"},{title:r("Edit"),url:""}];(0,a.useEffect)(()=>{tm(i.id).then(e=>{var t;o(e&&e.data?e.data:[]),c(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.profile_image)}).catch(e=>{console.log("error=====>",e)})},[i.id]);const p=vf().shape({first_name:rf().trim().max(100,"max_length_error").required("First name is required"),last_name:rf().trim().max(100,"max_length_error").required("Last name is required"),email:lR,phone_number:aR,gender:rf().trim().required("Gender is required"),city:rf().trim().required("City is required"),state:rf().trim().required("State is required"),country:rf().trim().required("Country is required"),place_of_birth:rf().trim().max(Rs.TEXTAREA_MAX_LENGTH,r("validation_max_input_characters")).required("Place of Birth is required"),date_of_birth:rf().trim().required("Date of Birth is required"),profile_image:Gm().required(r("image_required_error")).nullable().test("fileOrUrl","supported_file_error",e=>!e||("string"===typeof e?/^(http|https):\/\/[^\s$.?#].[^\s]*$/gm.test(e):["image/jpg","image/jpeg","image/png","image/webp","image/gif"].includes(e.type))).test("fileSize","image_max_size_error",e=>!e||"string"===typeof e||e.size<=1572864)}),m=Ap({enableReinitialize:!0,initialValues:{first_name:s&&s.first_name?s.first_name:"",last_name:s&&s.last_name?s.last_name:"",email:s&&s.email?s.email:"",phone_number:s&&null!==s&&void 0!==s&&s.phone_number?null===s||void 0===s?void 0:s.phone_number:"",gender:s&&s.gender?s.gender:"",city:s.city||"",state:s.state||"",country:s.country||"",place_of_birth:s.place_of_birth||"",date_of_birth:s&&s.date_of_birth?s.date_of_birth:"",time_of_birth:s&&s.time_of_birth?s.time_of_birth:"",profile_image:s&&s.profile_image?s.profile_image:""},validationSchema:p,onSubmit:(e,t)=>{let{setSubmitting:r,resetForm:a}=t;ls(!0);let s=new FormData;s.append("o_id",i.id),s.append("first_name",e.first_name),s.append("last_name",e.last_name),s.append("email",e.email),s.append("phone_number",e.phone_number),s.append("gender",e.gender),s.append("city",e.city),s.append("state",e.state),s.append("country",e.country),s.append("place_of_birth",e.place_of_birth),s.append("latitude",e.latitude),s.append("longitude",e.longitude),s.append("profile_image",e.profile_image);const o=new Date(e.date_of_birth);o.setHours(0,0,0,0);const l=o.toISOString();s.append("date_of_birth",l),s.append("time_of_birth",e.time_of_birth),(async e=>await oc($p).put("".concat(em,"/edit"),e))(s).then(e=>{r(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),ls(!1),"Save"!==d&&n("/admin/user-management/user/list/1")):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),ls(!1)}).catch(e=>{zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),console.log("error ====> ",e)})}}),{isLoaded:f,loadError:g}=dL({googleMapsApiKey:"AIzaSyCzswsrcUqy7yWKYatYL1NQHB162w6se8I",libraries:KF}),_=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(f&&window.google&&_.current){const e=new window.google.maps.places.Autocomplete(_.current,{types:["geocode"]});e.addListener("place_changed",()=>{const t=e.getPlace();if(t&&t.geometry){const e=t.geometry.location.lat(),n=t.geometry.location.lng();console.log(t),m.setFieldValue("place_of_birth",t.formatted_address),m.setFieldValue("latitude",e),m.setFieldValue("longitude",n),m.setFieldValue("city",""),m.setFieldValue("state",""),m.setFieldValue("country","")}})}},[f]),g?(0,Pa.jsx)("div",{children:"Failed to load Google Maps API"}):(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:h}),(0,Pa.jsx)("form",{onSubmit:m.handleSubmit,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:r("Edit User")})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"first_name",className:"text-left d-flex",children:[r("First name"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"first_name",id:"first_name",type:"text",onChange:m.handleChange,onBlur:m.handleBlur,value:m.values.first_name,className:"form-control",placeholder:r("Enter first name")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{shortCodes:[Rs.INPUT_MAX_25],name:"first_name",form:m})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"last_name",className:"text-left d-flex",children:[r("Last name"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"last_name",id:"last_name",type:"text",onChange:m.handleChange,onBlur:m.handleBlur,value:m.values.last_name,className:"form-control",placeholder:r("Enter last name")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{shortCodes:[Rs.INPUT_MAX_25],name:"last_name",form:m})})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"email",className:"text-left d-flex",children:[r("label_email"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"email",id:"email",type:"email",onChange:m.handleChange,onBlur:m.handleBlur,value:m.values.email,className:"form-control",placeholder:r("placeholder_email")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"email",form:m})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{className:"text-left d-flex",htmlFor:"phone_number",children:[r("label_phone_number"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)(QP,{name:"phone_number",id:"phone_number",placeholder:r("placeholder_phone_number"),onChange:e=>{m.setFieldValue("phone_number",null===e||void 0===e?void 0:e.phone_number)},onBlur:m.handleBlur,value:m.values.phone_number,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"phone_number",form:m,shortCodes:{PHONE_MIN_LENGTH:Rs.PHONE_NO_LENGTH.min,PHONE_MAX_LENGTH:Rs.PHONE_NO_LENGTH.max}})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"gender",className:"text-left d-flex",children:[r("Gender"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsxs)("div",{className:" select-down-arrow",children:[(0,Pa.jsxs)("select",{name:"gender",id:"gender",onChange:m.handleChange,onBlur:m.handleBlur,value:m.values.gender,className:"form-control",children:[(0,Pa.jsx)("option",{value:"",children:"Select gender"},""),Rs.GENDER.map((e,t)=>(0,Pa.jsx)("option",{value:e,children:r("".concat(e))},t))]}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"gender",form:m})})]})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"date_of_birth",className:"text-left d-flex",children:["Date of Birth:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)(fj,{oneTap:!0,classPrefix:"userInput",placeholder:"Enter Date of Birth",placement:"autoVertical",format:"dd/MM/yyyy",cleanable:!1,editable:!1,name:"date_of_birth",shouldDisableDate:e=>e<XF,onChange:e=>m.setFieldValue("date_of_birth",e),value:m.values.date_of_birth,onBlur:m.handleBlur}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"date_of_birth",form:m})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsx)("label",{htmlFor:"time_of_birth",className:"text-left d-flex",children:"Time of Birth:"}),(0,Pa.jsx)(LD,{name:"time_of_birth",value:null!==(t=m.values)&&void 0!==t&&t.time_of_birth?new Date("2024-01-01T".concat(m.values.time_of_birth,":00")):null,onChange:e=>{const t=e?qF(e,"HH:mm"):"";m.setFieldValue("time_of_birth",t)},onBlur:m.handleBlur,format:"HH:mm",placeholder:"Enter Time of Birth",editable:!1,showNow:!1})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"place_of_birth",className:"text-left d-flex",children:["Place of Birth:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"place_of_birth",id:"place_of_birth",type:"text",ref:_,autoComplete:"off",onChange:m.handleChange,onBlur:m.handleBlur,value:m.values.place_of_birth,className:"form-control",placeholder:r("placeholder_address")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{shortCodes:["TEXTAREA_MAX_LENGTH"],name:"place_of_birth",form:m})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"city",className:"text-left d-flex",children:[r("City"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"city",id:"city",type:"text",onChange:m.handleChange,onBlur:m.handleBlur,value:m.values.city,className:"form-control",placeholder:r("Enter city"),disabled:!0}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"city",form:m})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"state",className:"text-left d-flex",children:[r("State"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"state",id:"state",type:"text",onChange:m.handleChange,onBlur:m.handleBlur,value:m.values.state,className:"form-control",placeholder:r("Enter state"),disabled:!0}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"state",form:m})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"country",className:"text-left d-flex",children:[r("Country"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"country",id:"country",type:"text",onChange:m.handleChange,onBlur:m.handleBlur,value:m.values.country,className:"form-control",placeholder:r("Enter country"),disabled:!0}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"country",form:m})})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"restaurant_logo",className:"text-left d-flex",children:["Profile Image:"," ",(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:r("image_support_tooltip")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{className:"form-control imgInput",id:"profile_image",name:"profile_image",accept:"image/*",type:"file",onChange:e=>{m.setFieldValue("profile_image",e.target.files[0]||""),1===e.target.files.length?c(URL.createObjectURL(e.target.files[0])):c("")}}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"profile_image",form:m})}),l?(0,Pa.jsx)("ul",{className:"question-image-preview questions-ul",children:(0,Pa.jsx)("li",{className:"pr_img_box",children:(0,Pa.jsx)("img",{src:l,style:{height:"100px"},alt:"profileImg"})})}):""]}),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{onClick:()=>{u("Save")},className:"btn btn-info mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),r("btn_save")]}),(0,Pa.jsxs)("button",{onClick:()=>{u("")},className:"btn btn-success mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),r("btn_save_exit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",onClick:()=>n(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),r("btn_cancel")]})]})]})]})})})})})]})},ZF={role:Rs.ROLE.SUPER_ADMIN},QF="admin/about-us",$F=e=>{var t,n;const i=ot(),{t:r}=As(),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[h,p]=(0,a.useState)([]),[m,f]=(0,a.useState)({}),[g,_]=(0,a.useState)(!1),v=[{title:r("link_dashboard"),url:"/admin/dashboard"},{title:r("About Us"),url:"/admin/cms/about-us"},{title:r("link_add"),url:""}];(0,a.useEffect)(()=>{(async()=>await oc(ZF).get("".concat(QF,"/details")))().then(e=>{var t,n,i,r;f(null===e||void 0===e?void 0:e.data),c(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.image1),u(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.image2),null===e||void 0===e||null===(i=e.data)||void 0===i||null===(r=i.option)||void 0===r||r.map(e=>p(t=>[...t,e.option_image])),setTimeout(()=>{_(!0)},100)}).catch(e=>{console.log("error=====>",e)})},[]),console.log("defaultData--\x3e",m);vf().shape({question_title:rf().trim().max(100,"max_length_error").required("Option is required").concat(sR),question_type:rf().trim().max(100,"Cannot exceed 100 words").required("Question type is required"),option:yf().min(1,"At least one option is required").of(vf({option_slug:rf().min(1,"Option slug cannot be empty").required("Option slug is required"),option_value:rf().min(1,"Option value cannot be empty").required("Option value is required")})).required("Option array is required")});const b=Ap({enableReinitialize:!0,initialValues:{heading1_en:m&&m.heading1_en?m.heading1_en:"",heading1_de:m&&m.heading1_de?m.heading1_de:"",heading1_es:m&&m.heading1_es?m.heading1_es:"",heading1_hu:m&&m.heading1_hu?m.heading1_hu:"",content1_en:m&&m.content1_en?m.content1_en:"",content1_de:m&&m.content1_de?m.content1_de:"",content1_es:m&&m.content1_es?m.content1_es:"",content1_hu:m&&m.content1_hu?m.content1_hu:"",image1:m&&m.image1?m.image1:"",heading2_en:m&&m.heading2_en?m.heading2_en:"",heading2_de:m&&m.heading2_de?m.heading2_de:"",heading2_es:m&&m.heading2_es?m.heading2_es:"",heading2_hu:m&&m.heading2_hu?m.heading2_hu:"",content2_en:m&&m.content2_en?m.content2_en:"",content2_de:m&&m.content2_de?m.content2_de:"",content2_es:m&&m.content2_es?m.content2_es:"",content2_hu:m&&m.content2_hu?m.content2_hu:"",image2:m&&m.image2?m.image2:"",option:m&&m.option&&m.option.length>0?m.option.map(e=>({option_name:e.option_name,option_designation:e.option_designation,option_image:e.option_image})):[{option_name:"",option_designation:"",option_image:""}]},validateOnBlur:!1,onSubmit:(e,t)=>{let{setSubmitting:n,resetForm:i}=t;ls(!0),o(!0);let r=new FormData;r.append("heading1_en",e.heading1_en),r.append("heading1_de",e.heading1_de),r.append("heading1_es",e.heading1_es),r.append("heading1_hu",e.heading1_hu),r.append("content1_en",e.content1_en),r.append("content1_de",e.content1_de),r.append("content1_es",e.content1_es),r.append("content1_hu",e.content1_hu),r.append("image1",e.image1),r.append("heading2_en",e.heading2_en),r.append("heading2_de",e.heading2_de),r.append("heading2_es",e.heading2_es),r.append("heading2_hu",e.heading2_hu),r.append("content2_en",e.content2_en),r.append("content2_de",e.content2_de),r.append("content2_es",e.content2_es),r.append("content2_hu",e.content2_hu),r.append("image2",e.image2),e.option.forEach((e,t)=>{r.append("image_list",e.option_image)}),r.append("option",JSON.stringify(e.option)),(async e=>await oc(ZF).post("".concat(QF,"/add"),e))(r).then(e=>{n(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),ls(!1)):(zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),ls(!1),o(!1))}).catch(e=>{console.log("error ====> ",e)})}}),y=()=>{b.setFieldValue("option",[...b.values.option,{option_name:"",option_designation:"",option_image:""}]),p([...h,null])};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:v}),g?(0,Pa.jsx)("form",{onSubmit:b.handleSubmit,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:r("About Us")})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsx)("h3",{children:"Section 1"}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"heading1_en",className:"text-left d-flex",children:[r("Heading 1 (English)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"heading1_en",id:"heading1_en",type:"text",onChange:b.handleChange,onBlur:b.handleBlur,value:b.values.heading1_en,className:"form-control",placeholder:r("Enter heading 1 (English)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"heading1_en",form:b})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"heading1_de",className:"text-left d-flex",children:[r("Heading 1 (German)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"heading1_de",id:"heading1_de",type:"text",onChange:b.handleChange,onBlur:b.handleBlur,value:b.values.heading1_de,className:"form-control",placeholder:r("Enter heading 1 (German)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"heading1_de",form:b})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"heading1_es",className:"text-left d-flex",children:[r("Heading 1 (Spanish)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"heading1_es",id:"heading1_es",type:"text",onChange:b.handleChange,onBlur:b.handleBlur,value:b.values.heading1_es,className:"form-control",placeholder:r("Enter heading 1 (Spanish)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"heading1_es",form:b})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"heading1_hu",className:"text-left d-flex",children:[r("Heading 1 (Hungarian)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"heading1_hu",id:"heading1_hu",type:"text",onChange:b.handleChange,onBlur:b.handleBlur,value:b.values.heading1_hu,className:"form-control",placeholder:r("Enter heading 1 (Hungarian)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"heading1_hu",form:b})})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"content1_en",className:"text-left d-flex",children:[r("Content 1 (English)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"content1_en",setFieldValue:b.setFieldValue,value:b.values.content1_en,setFieldTouched:b.setFieldTouched}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:b.errors.content1_en&&b.touched.content1_en&&b.errors.content1_en})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"content1_de",className:"text-left d-flex",children:[r("Content 1 (German)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"content1_de",setFieldValue:b.setFieldValue,value:b.values.content1_de,setFieldTouched:b.setFieldTouched}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:b.errors.content1_de&&b.touched.content1_de&&b.errors.content1_de})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"content1_es",className:"text-left d-flex",children:[r("Content 1 (Spanish)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"content1_es",setFieldValue:b.setFieldValue,value:b.values.content1_es,setFieldTouched:b.setFieldTouched}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:b.errors.content1_es&&b.touched.content1_es&&b.errors.content1_es})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"content1_hu",className:"text-left d-flex",children:[r("Content 1 (Hungarian)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"content1_hu",setFieldValue:b.setFieldValue,value:b.values.content1_hu,setFieldTouched:b.setFieldTouched}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:b.errors.content1_hu&&b.touched.content1_hu&&b.errors.content1_hu})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"image1",className:"text-left d-flex",children:[r("Image 1"),":"," ",(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:r("image_support_tooltip")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:" ? "})})]}),(0,Pa.jsx)("input",{className:"form-control imgInput",id:"image1",name:"image1",accept:"image/*",type:"file",onChange:e=>{b.setFieldValue("image1",e.target.files[0]||""),1===e.target.files.length?c(URL.createObjectURL(e.target.files[0])):c("")}}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"image1",form:b})}),l?(0,Pa.jsx)("ul",{className:"question-image-preview questions-ul",children:(0,Pa.jsxs)("li",{className:"pr_img_box",children:[(0,Pa.jsx)("img",{src:l,style:{height:"100px"},alt:"Profile_Img"}),(0,Pa.jsx)("div",{className:"img_options",children:(0,Pa.jsx)("button",{type:"button",className:"text-danger",onClick:()=>{c(""),b.setFieldValue("image1",null),document.getElementById("image1").value=""},children:(0,Pa.jsx)("i",{className:"ri-delete-bin-6-fill"})})})]})}):""]}),(0,Pa.jsx)("hr",{}),(0,Pa.jsx)("h3",{className:"mt-4",children:"Section 2"}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"heading2_en",className:"text-left d-flex",children:[r("Heading 2 (English)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"heading2_en",id:"heading2_en",type:"text",onChange:b.handleChange,onBlur:b.handleBlur,value:b.values.heading2_en,className:"form-control",placeholder:r("Enter heading 2 (English)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"heading2_en",form:b})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"heading2_de",className:"text-left d-flex",children:[r("Heading 2 (German)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"heading2_de",id:"heading2_de",type:"text",onChange:b.handleChange,onBlur:b.handleBlur,value:b.values.heading2_de,className:"form-control",placeholder:r("Enter heading 2 (German)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"heading2_de",form:b})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"heading2_es",className:"text-left d-flex",children:[r("Heading 2 (Spanish)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"heading2_es",id:"heading2_es",type:"text",onChange:b.handleChange,onBlur:b.handleBlur,value:b.values.heading2_es,className:"form-control",placeholder:r("Enter heading 2 (Spanish)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"heading2_es",form:b})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"heading2_hu",className:"text-left d-flex",children:[r("Heading 2 (Hungarian)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"heading2_hu",id:"heading2_hu",type:"text",onChange:b.handleChange,onBlur:b.handleBlur,value:b.values.heading2_hu,className:"form-control",placeholder:r("Enter heading 2 (Hungarian)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"heading2_hu",form:b})})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"content2_en",className:"text-left d-flex",children:[r("Content 2 (English)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"content2_en",setFieldValue:b.setFieldValue,value:b.values.content2_en,setFieldTouched:b.setFieldTouched}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:b.errors.content2_en&&b.touched.content2_en&&b.errors.content2_en})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"content2_de",className:"text-left d-flex",children:[r("Content 2 (German)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"content2_de",setFieldValue:b.setFieldValue,value:b.values.content2_de,setFieldTouched:b.setFieldTouched}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:b.errors.content2_de&&b.touched.content2_de&&b.errors.content2_de})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"content2_es",className:"text-left d-flex",children:[r("Content 2 (Spanish)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"content2_es",setFieldValue:b.setFieldValue,value:b.values.content2_es,setFieldTouched:b.setFieldTouched}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:b.errors.content2_es&&b.touched.content2_es&&b.errors.content2_es})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"content2_hu",className:"text-left d-flex",children:[r("Content 2 (Hungarian)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)(zk,{fieldname:"content2_hu",setFieldValue:b.setFieldValue,value:b.values.content2_hu,setFieldTouched:b.setFieldTouched}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:b.errors.content2_hu&&b.touched.content2_hu&&b.errors.content2_hu})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"image2",className:"text-left d-flex",children:[r("Image 2"),":"," ",(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:r("image_support_tooltip")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:" ? "})})]}),(0,Pa.jsx)("input",{className:"form-control imgInput",id:"image2",name:"image2",accept:"image/*",type:"file",onChange:e=>{b.setFieldValue("image2",e.target.files[0]||""),1===e.target.files.length?u(URL.createObjectURL(e.target.files[0])):u("")}}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"image2",form:b})}),d?(0,Pa.jsx)("ul",{className:"question-image-preview questions-ul",children:(0,Pa.jsxs)("li",{className:"pr_img_box",children:[(0,Pa.jsx)("img",{src:d,style:{height:"100px"},alt:"Profile_Img"}),(0,Pa.jsx)("div",{className:"img_options",children:(0,Pa.jsx)("button",{type:"button",className:"text-danger",onClick:()=>{u(""),b.setFieldValue("image2",null),document.getElementById("image2").value=""},children:(0,Pa.jsx)("i",{className:"ri-delete-bin-6-fill"})})})]})}):""]}),(0,Pa.jsx)("h5",{className:"mt-4",children:"Our Team"}),null===b||void 0===b||null===(t=b.values)||void 0===t||null===(n=t.option)||void 0===n?void 0:n.map((e,t)=>{var n,i;return(0,Pa.jsxs)("div",{className:"row",children:[(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"option_name_".concat(t),className:"text-left d-flex",children:[r("Name"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"option[".concat(t,"].option_name"),id:"option_name_".concat(t),type:"text",onChange:b.handleChange,onBlur:b.handleBlur,value:e.option_name,className:"form-control",placeholder:r("Enter name")})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"option_designation_".concat(t),className:"text-left d-flex",children:[r("Designation"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"option[".concat(t,"].option_designation"),id:"option_designation_".concat(t),type:"text",onChange:b.handleChange,onBlur:b.handleBlur,value:e.option_designation,className:"form-control",placeholder:r("Enter designation")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"option[".concat(t,"].option_designation"),form:b})})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"option_image_".concat(t),className:"text-left d-flex",children:[r("Image"),":",(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:r("image_support_tooltip")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:" ? "})})]}),(0,Pa.jsx)("input",{className:"form-control imgInput",id:"option_image_".concat(t),name:"option[".concat(t,"].option_image"),accept:"image/*",type:"file",onChange:e=>((e,t)=>{const n=e.target.files[0];if(n){b.setFieldValue("option[".concat(t,"].option_image"),n);const e=[...h];e[t]=URL.createObjectURL(n),p(e)}else{b.setFieldValue("option[".concat(t,"].option_image"),null);const e=[...h];e[t]=null,p(e)}})(e,t)}),h[t]&&(0,Pa.jsx)("ul",{className:"question-image-preview questions-ul",children:(0,Pa.jsx)("li",{className:"pr_img_box",children:(0,Pa.jsx)("img",{src:h[t],style:{height:"100px"},alt:"Profile_Img_".concat(t)})})})]}),(0,Pa.jsx)("div",{className:"col-md-6 text-center form-group"}),t===(null===(n=b.values.option)||void 0===n?void 0:n.length)-1&&(0,Pa.jsx)("div",{className:"col-md-1 mb-4 text-center align-content-center",children:(0,Pa.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>(e=>{const t=b.values.option.filter((t,n)=>n!==e);b.setFieldValue("option",t);const n=[...h];n.splice(e,1),p(n)})(t),children:r("Remove")})}),t===(null===(i=b.values.option)||void 0===i?void 0:i.length)-1&&(0,Pa.jsx)("div",{className:"col-md-1 mb-4 text-center align-content-center",children:(0,Pa.jsx)("button",{type:"button",className:"btn btn-success w-100",onClick:y,children:r("Add")})})]},t)}),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{className:"btn btn-info mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),r("btn_submit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",onClick:()=>i(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),r("btn_cancel")]})]})]})]})})})})}):(0,Pa.jsx)(Bf,{})]})};const eB=()=>{const{t:e}=As(),t=ct(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)(""),[u]=(0,a.useState)(10),[h,p]=(0,a.useState)({}),[m,f]=(0,a.useState)(!0),[g,_]=(0,a.useState)(1),[v,b]=(0,a.useState)(!0),[y,x]=(0,a.useState)({}),[w,E]=(0,a.useState)(""),S=[{title:e("link_dashboard"),url:"/admin/dashboard"},{title:e("Subscription plan"),url:""}],[C,T]=(0,a.useState)(!1),N="true"===new URLSearchParams(n.search).get("dev"),[A,k]=(0,a.useState)(N);(0,a.useEffect)(()=>{k(N)},[N]),(0,a.useEffect)(()=>{const e=setTimeout(()=>{if(y){b(!0);const e=new FormData;e.append("page",t.pgno),e.append("per_page",u),e.append("sort",JSON.stringify(h)),e.append("search",JSON.stringify(y)),e.append("global_search",w),(async e=>await oc(AD).post("".concat(kD,"/list"),e))(e).then(e=>{d(e.data.total_records),s(e&&e.data&&e.data.list?e.data.list:[]),_(e&&e.data&&e.data.page?e.data.page:1),b(!1)}).catch(e=>{console.log("error ====> ",e)})}},300);return()=>clearTimeout(e)},[n,o,h,y,w,u,t.pgno]);const R=(t,n)=>{const i=new FormData;i.append("o_id",t),i.append("status",n),zr().fire({customClass:"swal-wide",title:e("Are you sure you want to ".concat(0===n?"deactivate":"activate"," this Plan ?")),icon:"warning",showCancelButton:!0,cancelButtonText:e("btn_cancel"),confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:e("btn_yes")}).then(e=>{e.isConfirmed&&(async e=>await oc(AD).patch("".concat(kD,"/change-status"),e))(i).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),l(!o)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error===>")})})};function I(t){zr().fire({customClass:"swal-wide",title:e("msg_are_you_sure"),text:e("you_not_be_able_to_revert_this"),icon:"warning",showCancelButton:!0,cancelButtonText:e("btn_cancel"),confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:e("btn_yes_delete")}).then(e=>{e.isConfirmed&&(async e=>await oc(AD).delete("".concat(kD,"/delete?o_id=").concat(e)))(t).then(e=>{l(!o),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})})}const O=(e,t)=>{f(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,p(n)},j=(e,t)=>{let n=Tn({},y);String(t).length>0?n[e]=t:delete n[e],x(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:S}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:e("Subscription plan")}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:w,placeholder:e("input_placeholder_search"),onChange:e=>{E(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{j("createdAt",e)},resetdate:C})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(eR,{data:Rs.showFilterlist,prepareSearch:j})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),E(""),j(),x({}),T(!C)},className:"btn btn-warning float-right mr-2",children:e("btn_reset_filter")}),(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn mr-2",onClick:()=>i("/admin/subscription/subscription-plan/add"),children:e("btn_add_new")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("list_heading_sno")})}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("Plan name")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:O,column:"plan_name"})]})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Plan price")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Balance Count")})}),(0,Pa.jsx)("th",{className:"created_head",children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("list_heading_created_date")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:O,defaultSorting:m,column:"createdAt"})]})}),(0,Pa.jsx)("th",{className:"status_head",children:e("list_heading_status")}),(0,Pa.jsx)("th",{className:"action_head",children:e("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:v?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:14,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((t,n)=>(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:t?(g-1)*u+n+1:null}),(0,Pa.jsx)("td",{children:(null===t||void 0===t?void 0:t.plan_name)||"N/A"}),(0,Pa.jsx)("td",{children:(null===t||void 0===t?void 0:t.plan_price)||"N/A"}),(0,Pa.jsx)("td",{children:(null===t||void 0===t?void 0:t.balance_count)||"N/A"}),(0,Pa.jsx)("td",{children:t.createdAt?Ha(t.createdAt):"N/A"}),(0,Pa.jsx)("td",{children:1===t.status?(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{R(null===t||void 0===t?void 0:t._id,0)},children:e("btn_active")}):(0,Pa.jsx)("button",{className:"btn ripple btn-secondary",onClick:()=>{R(null===t||void 0===t?void 0:t._id,1)},children:e("btn_inactive")})}),(0,Pa.jsx)("td",{children:(0,Pa.jsxs)("div",{className:"d-flex",children:[(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{(e=>{i("/admin/subscription/subscription-plan/view/".concat(e._id))})(t)},children:e("btn_view")}),(0,Pa.jsx)("button",{className:"btn ripple btn-success mlAction",onClick:()=>{(e=>{i("/admin/subscription/subscription-plan/edit/".concat(e._id))})(t)},children:e("btn_edit")}),A&&(0,Pa.jsx)("button",{className:"btn ripple btn-secondary mlAction",onClick:()=>{I(null===t||void 0===t?void 0:t._id)},children:e("btn_delete")})]})})]},n)):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:14,className:"text-center",children:e("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[e("msg_total_records")," : ",c||"0"]})}),c&&c>0?(0,Pa.jsx)(Uf,{datalength:c,itemperpage:u,currentPage:g,setPage:_,pageRoute:[{name:"Psychic",path:"/admin/subscription/subscription-plan/list"}]}):""]})})})]})},tB=()=>{const e=ot(),{t:t}=As(),[n,i]=(0,a.useState)(!1),r=[{title:t("link_dashboard"),url:"/admin/dashboard"},{title:t("Subscription Plan"),url:"/admin/subscription/subscription-plan/list/1"},{title:t("link_add"),url:""}],s=Ap({enableReinitialize:!0,initialValues:{plan_name:"",plan_price:"",plan_type:"",balance_count:""},validateOnBlur:!1,validationSchema:vf().shape({plan_name:rf().trim().required("Plan name is required"),plan_price:sf().typeError("Price must be a number").required("Price is required").min(0,"Price cannot be less than 0").max(1e7,"Price cannot exceed 10000000"),plan_type:rf().trim().required("Plan type is required"),balance_count:rf().trim().required("Balance count is required")}),onSubmit:(t,n)=>{let{setSubmitting:r,resetForm:a}=n;ls(!0),i(!0);let s=new FormData;s.append("plan_name",t.plan_name),s.append("plan_price",t.plan_price),s.append("plan_type",t.plan_type),s.append("balance_count",t.balance_count),(async e=>await oc(AD).post("".concat(kD,"/add"),e))(s).then(t=>{r(!1),t.success?(zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),ls(!1),a({values:""}),e("/admin/subscription/subscription-plan/list/1")):(zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS)),ls(!1),i(!1))}).catch(e=>{console.log("error ====> ",e)})}});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:r}),(0,Pa.jsx)("form",{onSubmit:s.handleSubmit,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:t("Add Subscription plan")})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"plan_name",className:"text-left d-flex",children:[t("Plan Name"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"plan_name",id:"plan_name",type:"text",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.plan_name,className:"form-control",placeholder:t("Enter plan price")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"plan_name",form:s})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"plan_price",className:"text-left d-flex",children:[t("Plan price"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"plan_price",id:"plan_price",type:"text",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.plan_price,className:"form-control",placeholder:t("Enter plan price")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"plan_price",form:s})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"plan_type",className:"text-left d-flex",children:[t("Plan Type"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:"select-down-arrow",children:(0,Pa.jsxs)("select",{name:"plan_type",id:"plan_type",type:"text",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.plan_type,className:"form-control",placeholder:t("Select Plan Type"),children:[(0,Pa.jsx)("option",{value:"",children:"Select"}),Rs.subscriptionPlanType.map((e,n)=>(0,Pa.jsx)("option",{value:e.value,children:t("".concat(e.name))},n))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"plan_type",form:s})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"balance_count",className:"text-left d-flex",children:[t("Balance Count"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"balance_count",id:"balance_count",type:"text",onChange:s.handleChange,onBlur:s.handleBlur,value:s.values.balance_count,className:"form-control",placeholder:"question"==s.values.plan_type?t("Enter Questions Count"):t("Enter Reports Count")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"balance_count",form:s})})]}),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{className:"btn btn-info mr-2",type:"submit",disabled:!!n||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),t("btn_submit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",disabled:!!n||null,onClick:()=>e(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),t("btn_cancel")]})]})]})]})})})})})]})},nB=()=>{const e=ot(),{t:t}=As(),n=ct(),[i,r]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),d=[{title:t("link_dashboard"),url:"/admin/dashboard"},{title:t("Subscription Plan"),url:"/admin/subscription/subscription-plan/list/1"},{title:t("Edit"),url:""}],u=vf().shape({plan_name:rf().trim().required("Plan name is required"),plan_price:sf().typeError("Price must be a number").required("Price is required").min(0,"Price cannot be less than 0").max(1e7,"Price cannot exceed 10000000"),plan_type:rf().trim().required("Plan type is required"),balance_count:rf().trim().required("Balance count is required")});(0,a.useEffect)(()=>{c(!0),RD(n.id).then(e=>{o(e&&e.data?e.data:[]),setTimeout(()=>{c(!1)},300)}).catch(e=>{console.log("error=====>",e),setTimeout(()=>{c(!1)},200)})},[n.id]);const h=Ap({enableReinitialize:!0,initialValues:{plan_name:null!==s&&void 0!==s&&s.plan_name?null===s||void 0===s?void 0:s.plan_name:"",plan_price:null!==s&&void 0!==s&&s.plan_price?null===s||void 0===s?void 0:s.plan_price:"",plan_type:null!==s&&void 0!==s&&s.plan_type?null===s||void 0===s?void 0:s.plan_type:"",balance_count:null!==s&&void 0!==s&&s.balance_count?null===s||void 0===s?void 0:s.balance_count:""},validateOnBlur:!1,validationSchema:u,onSubmit:(t,i)=>{let{setSubmitting:a,resetForm:s}=i;ls(!0),r(!0);let o=new FormData;o.append("o_id",null===n||void 0===n?void 0:n.id),o.append("plan_name",t.plan_name),o.append("plan_price",t.plan_price),o.append("plan_type",t.plan_type),o.append("balance_count",t.balance_count),(async e=>await oc(AD).put("".concat(kD,"/edit"),e))(o).then(t=>{a(!1),t.success?(zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),ls(!1),s({values:""}),e("/admin/subscription/subscription-plan/list/1")):(zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS)),ls(!1),r(!1))}).catch(e=>{console.log("error ====> ",e)})}});return console.log("value--\x3e",h.values),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:d}),(0,Pa.jsx)("form",{onSubmit:h.handleSubmit,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:t("Edit Subscription Plan")})}),l?(0,Pa.jsx)(Bf,{}):(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"plan_name",className:"text-left d-flex",children:[t("Plan Name"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"plan_name",id:"plan_name",type:"text",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.plan_name,className:"form-control",placeholder:t("Enter plan price")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"plan_name",form:h})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"plan_price",className:"text-left d-flex",children:[t("Plan price"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"plan_price",id:"plan_price",type:"text",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.plan_price,className:"form-control",placeholder:t("Enter plan price")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"plan_price",form:h})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"plan_type",className:"text-left d-flex",children:[t("Plan Type"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:"select-down-arrow",children:(0,Pa.jsxs)("select",{name:"plan_type",id:"plan_type",type:"text",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.plan_type,className:"form-control",placeholder:t("Select Plan Type"),children:[(0,Pa.jsx)("option",{value:"",children:"Select"}),Rs.subscriptionPlanType.map((e,n)=>(0,Pa.jsx)("option",{value:e.value,children:t("".concat(e.name))},n))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"plan_type",form:h})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"balance_count",className:"text-left d-flex",children:[t("Balance Count"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"balance_count",id:"balance_count",type:"text",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.balance_count,className:"form-control",placeholder:"question"==h.values.plan_type?t("Enter Questions Count"):t("Enter Reports Count")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"balance_count",form:h})})]}),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{className:"btn btn-info mr-2",type:"submit",disabled:!!i||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),t("btn_submit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",disabled:!!i||null,onClick:()=>e(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),t("btn_cancel")]})]})]})]})})})})})]})},iB=e=>{const t=ot(),{t:n}=As(),i=ct(),[r,s]=(0,a.useState)({}),o=[{title:n("link_dashboard"),url:"/admin/dashboard"},{title:n("Subscription Plan"),url:"/admin/subscription/subscription-plan/list/1"},{title:n("View"),url:""}];return(0,a.useEffect)(()=>{RD(i.id).then(e=>{s(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[i.id]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:o}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsxs)("div",{className:"card custom-card",children:[(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:n("View Subscription Plan")})}),r&&Object.keys(r).length>0?(0,Pa.jsx)("div",{className:"row",children:(0,Pa.jsx)("div",{className:"col-lg-12 form-group",children:(0,Pa.jsx)("table",{id:"simple-table",className:"table  table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Plan name")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:(null===r||void 0===r?void 0:r.plan_name)||"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Plan price")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&r.plan_price?r.plan_price:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Plan Type")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&r.plan_type?r.plan_type:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Balance Count")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&r.balance_count?r.balance_count:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("list_heading_created_date")}),(0,Pa.jsx)("td",{children:r&&r.createdAt?Wa(r.createdAt):"N/A"})]})]})})})}):(0,Pa.jsx)(Bf,{})]}),(0,Pa.jsx)("div",{className:"ml-4 back-button mx-0",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>t("/admin/subscription/subscription-plan/list/1"),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),n("btn_back")]})})]})})})]})};Rs.ROLE.SUPER_ADMIN,vf().shape({features:yf().of(vf().shape({}))});const rB={role:Rs.ROLE.SUPER_ADMIN},aB="admin/services",sB=async e=>await oc(rB).get("".concat(aB,"/details?o_id=").concat(e)),oB=()=>{const{t:e}=As(),t=ct(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)(""),[u]=(0,a.useState)(10),[h,p]=(0,a.useState)({}),[m,f]=(0,a.useState)(!0),[g,_]=(0,a.useState)(1),[v,b]=(0,a.useState)(!0),[y,x]=(0,a.useState)({}),[w,E]=(0,a.useState)(""),S=[{title:e("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:e("sidebar_link_banners"),url:""}],[C,T]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=setTimeout(()=>{if(y){b(!0);const e=new FormData;e.append("page",t.pgno),e.append("per_page",u),e.append("sort",JSON.stringify(h)),e.append("search",JSON.stringify(y)),e.append("global_search",w),(async e=>await oc(rB).post("".concat(aB,"/list"),e))(e).then(e=>{d(e.data.total_records),s(e&&e.data&&e.data.list?e.data.list:[]),_(e&&e.data&&e.data.page?e.data.page:1),b(!1)}).catch(e=>{console.log("error ====> ",e)})}},300);return()=>clearTimeout(e)},[n,o,h,y,w]);const N=(t,n)=>{let i=Array.isArray(t)?t:[t];const r=new FormData;r.append("o_id",JSON.stringify(i)),r.append("status",n),zr().fire({customClass:"swal-wide",title:e("msg_are_you_sure"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:e("btn_yes"),cancelButtonText:e("btn_cancel")}).then(e=>{e.isConfirmed&&(async e=>await oc(rB).post("".concat(aB,"/change-status"),e))(r).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),l(!o)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error===>")})})};function A(t){zr().fire({customClass:"swal-wide",title:e("msg_are_you_sure"),text:e("you_not_be_able_to_revert_this"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:e("btn_yes_delete"),cancelButtonText:e("btn_cancel")}).then(e=>{if(e.isConfirmed){let e=Array.isArray(t)?t:[t];(async e=>await oc(rB).post("".concat(aB,"/delete"),e))({o_id:JSON.stringify(e)}).then(e=>{l(!o),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})}})}const k=(e,t)=>{f(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,p(n)},R=(e,t)=>{let n=Tn({},y);String(t).length>0?n[e]=t:delete n[e],x(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:S}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:e("Services")}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:w,placeholder:e("input_placeholder_search"),onChange:e=>{E(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(eR,{data:Rs.showFilterlist,prepareSearch:R})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),E(""),R(),x({}),T(!C),Br()("#defaultstatus")[0].selectedIndex=0},className:"btn btn-warning float-right mr-2",children:e("btn_reset_filter")}),(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>i("/admin/cms/services/add"),children:e("btn_add_new")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"sr_head",children:e("list_heading_sno")}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("Title (English)")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,column:"title"})]})}),(0,Pa.jsx)("th",{children:e("label_image")}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("list_heading_created_date")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,defaultSorting:m,column:"createdAt"})]})}),(0,Pa.jsx)("th",{className:"status_head",children:e("list_heading_status")}),(0,Pa.jsx)("th",{className:"action_head",children:e("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:v?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:10,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((n,r)=>(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:n?(g-1)*u+r+1:null}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.title_en?Ya(n.title_en,50):"N/A"}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.image?(0,Pa.jsx)("div",{className:"row_image rounded-0",children:(0,Pa.jsx)("img",{className:"rounded-0",style:{width:"200px"},alt:null===n||void 0===n?void 0:n.title,src:n.image})}):"N/A"}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.createdAt?Ha(n.createdAt):"N/A"}),(0,Pa.jsx)("td",{children:1===n.status?(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{N(null===n||void 0===n?void 0:n._id,0)},children:e("btn_active")}):(0,Pa.jsx)("button",{className:"btn ripple btn-secondary",onClick:()=>{N(n._id,1)},children:e("btn_inactive")})}),(0,Pa.jsx)("td",{children:(0,Pa.jsxs)("div",{className:"d-flex",children:[(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{(e=>{i("/admin/cms/services/view/".concat(e._id))})(n)},children:e("btn_view")}),(0,Pa.jsx)("button",{className:"btn ripple btn-success mlAction",onClick:()=>{(e=>{i("/admin/cms/services/".concat(t.pgno,"/edit/").concat(e._id))})(n)},children:e("btn_edit")}),(0,Pa.jsx)("button",{className:"btn ripple btn-secondary mlAction",onClick:()=>{A(n._id)},children:e("btn_delete")})]})})]},r)):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:13,className:"text-center",children:e("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[e("msg_total_records")," : ",c||"0"]})}),c&&c>0?(0,Pa.jsx)(Uf,{datalength:c,itemperpage:u,currentPage:g,setPage:_,pageRoute:[{name:"Banners",path:"/admin/cms/services/list"}]}):""]})})})]})},lB=()=>{const{t:e}=As(),t=ot(),{state:n}=at(),[i,r]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)({title_en:"",title_de:"",title_es:"",title_hu:"",description_en:"",description_de:"",description_es:"",description_hu:"",link:"",files:""}),h=[{title:e("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:e("Services"),url:"/admin/cms/services/list/1"},{title:e("link_add"),url:""}];(0,a.useEffect)(()=>{u({title_en:n&&null!==n&&void 0!==n&&n.title_en?n.title_en:"",title_de:n&&null!==n&&void 0!==n&&n.title_de?n.title_de:"",title_es:n&&null!==n&&void 0!==n&&n.title_es?n.title_es:"",title_hu:n&&null!==n&&void 0!==n&&n.title_hu?n.title_hu:"",description_en:n&&null!==n&&void 0!==n&&n.description_en?n.description_en:"",description_de:n&&null!==n&&void 0!==n&&n.description_de?n.description_de:"",description_es:n&&null!==n&&void 0!==n&&n.description_es?n.description_es:"",description_hu:n&&null!==n&&void 0!==n&&n.description_hu?n.description_hu:"",link:n&&null!==n&&void 0!==n&&n.link?n.link:" ",files:""}),o(!0)},[]);const p=vf().shape({title_en:rf().required(e("label_title_error")).max(50,e("Max allowed length of characters is 50")).test("no-spaces",e("label_title_error"),e=>e.trim()),title_de:rf().trim().max(50,"Max allowed length of characters is 50").required(e("label_title_error")),title_es:rf().trim().max(50,e("Max allowed length of characters is 50")).required(e("label_title_error")),title_hu:rf().trim().max(50,e("Max allowed length of characters is 50")).required(e("label_title_error")),description_en:rf().trim().max(1e3,e("Max allowed length of characters is 1000")).required(e("label_title_error")),description_de:rf().trim().max(1e3,e("Max allowed length of characters is 1000")).required(e("label_title_error")),description_es:rf().trim().max(1e3,e("Max allowed length of characters is 1000")).required(e("label_title_error")),description_hu:rf().trim().max(1e3,e("Max allowed length of characters is 1000")).required(e("label_title_error")),files:Gm().required(e("label_image_error")).test("fileType",e("label_image_format_error"),e=>{if(!e)return!1;return["image/jpeg","image/png","image/gif"].includes(e.type)})});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:h}),s?(0,Pa.jsx)(kp,{enableReinitialize:!0,initialValues:d,validateOnBlur:!1,validationSchema:p,onSubmit:(e,n)=>{let{setSubmitting:i,resetForm:a}=n;ls(!0),r(!0);let s=new FormData;s.append("title_en",e.title_en),s.append("title_de",e.title_de),s.append("title_es",e.title_es),s.append("title_hu",e.title_hu),s.append("description_en",e.description_en),s.append("description_de",e.description_de),s.append("description_es",e.description_es),s.append("description_hu",e.description_hu),s.append("link",e.link.trim()),s.append("image",e.files),(async e=>await oc(rB).post("".concat(aB,"/add"),e))(s).then(e=>{i(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),ls(!1),setTimeout(()=>{a({values:""}),t("/admin/cms/services/list/1")},2e3)):(zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),ls(!1),r(!1))}).catch(e=>{console.log("error ====> ",e)})},children:n=>{let{values:r,errors:a,touched:s,handleChange:o,handleBlur:d,handleSubmit:u,setFieldValue:h,setFieldTouched:p,isSubmitting:m}=n;return(0,Pa.jsxs)("form",{onSubmit:u,children:[console.log("values-=-=-",r),console.log("errors-=-=-",a),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsxs)("h6",{className:"main-content-label mb-3",children:[e("link_add")," ",e("Services")]})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_en",className:"text-left d-flex",children:[e("Title (English)"),": ",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"title_en",id:"title_en",type:"text",onChange:o,onBlur:d,value:r.title_en,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"title_en"})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_de",className:"text-left d-flex",children:[e("Title (German)"),":"]}),(0,Pa.jsx)("input",{name:"title_de",id:"title_de",type:"text",onChange:o,onBlur:d,value:r.title_de,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title_de&&s.title_de&&a.title_de})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_es",className:"text-left d-flex",children:[e("Title (Spanish)"),": ",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"title_es",id:"title_es",type:"text",onChange:o,onBlur:d,value:r.title_es,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"title_es"})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_hu",className:"text-left d-flex",children:[e("Title (Hungarian)"),": ",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"title_hu",id:"title_hu",type:"text",onChange:o,onBlur:d,value:r.title_hu,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"title_hu"})})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_en",className:"text-left d-flex",children:[e("Description (English)"),": ",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"description_en",id:"description_en",type:"text",onChange:o,onBlur:d,value:r.description_en,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"description_en"})})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_de",className:"text-left d-flex",children:[e("Description (German)"),": ",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"description_de",id:"description_de",type:"text",onChange:o,onBlur:d,value:r.description_de,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"description_de"})})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_es",className:"text-left d-flex",children:[e("Description (Spanish)"),": ",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"description_es",id:"description_es",type:"text",onChange:o,onBlur:d,value:r.description_es,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"description_es"})})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_hu",className:"text-left d-flex",children:[e("Description (Hungarian)"),": ",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"description_hu",id:"description_hu",type:"text",onChange:o,onBlur:d,value:r.description_hu,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"description_hu"})})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"files",className:"text-left d-flex",children:[e("label_image"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{className:"form-control imgInput",id:"files",name:"files",accept:"image/*",type:"file",onChange:e=>{h("files",e.currentTarget.files[0]||""),1===e.currentTarget.files.length?c(URL.createObjectURL(e.currentTarget.files[0])):c("")}}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",id:"errortext",children:a.files&&s.files&&a.files})]}),l?(0,Pa.jsx)("ul",{className:"question-image-preview questions-ul",children:(0,Pa.jsxs)("li",{className:"pr_img_box",children:[(0,Pa.jsx)("img",{src:l,style:{height:"100px"},alt:e("services-image")}),(0,Pa.jsx)("div",{className:"img_options",children:(0,Pa.jsx)("button",{type:"button",className:"text-danger",onClick:()=>{c(""),h("files",""),document.getElementById("files").value=""},children:(0,Pa.jsx)("i",{className:"ri-delete-bin-6-fill"})})})]})}):"",(0,Pa.jsxs)("div",{className:"",children:[(0,Pa.jsxs)("button",{className:"btn btn-main-primary signbtn mr-2",type:"submit",disabled:!!i||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),e("btn_submit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",disabled:!!i||null,onClick:()=>t(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),e("btn_cancel")]})]})]})]})})})})]})}}):(0,Pa.jsx)(mA,{})]})},cB=e=>{const t=ot(),n=ct(),[i,r]=(0,a.useState)({}),[s,o]=(0,a.useState)(""),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(""),{t:h}=As(),p=[{title:h("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:h("sidebar_link_banners"),url:"/admin/cms/services/list/1"},{title:h("btn_edit"),url:""}];(0,a.useEffect)(()=>{sB(n.id).then(e=>{r(e&&e.data?e.data:[]),o(e.data.image),setTimeout(()=>{c(!0)},100)}).catch(e=>{console.log("error=====>",e)})},[]);const m=vf().shape({title_en:rf().required(h("label_title_error")).max(50,h("Max allowed length of characters is 50")).test("no-spaces",h("label_title_error"),e=>e.trim()),title_de:rf().trim().max(50,"Max allowed length of characters is 50").required(h("label_title_error")),title_es:rf().trim().max(50,h("Max allowed length of characters is 50")).required(h("label_title_error")),title_hu:rf().trim().max(50,h("Max allowed length of characters is 50")).required(h("label_title_error")),description_en:rf().trim().max(1e3,h("Max allowed length of characters is 1000")).required(h("label_title_error")),description_de:rf().trim().max(1e3,h("Max allowed length of characters is 1000")).required(h("label_title_error")),description_es:rf().trim().max(1e3,h("Max allowed length of characters is 1000")).required(h("label_title_error")),description_hu:rf().trim().max(1e3,h("Max allowed length of characters is 1000")).required(h("label_title_error")),files:Gm().required(h("label_image_error")).test("fileType",h("label_image_format_error"),e=>{if(!e)return!1;if(e.type){return["image/jpeg","image/png","image/gif"].includes(e.type)}return!0})});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:p}),l?(0,Pa.jsx)(kp,{enableReinitialize:!0,initialValues:{title_en:i&&i.title_en?i.title_en:"",title_de:i&&i.title_de?i.title_de:"",title_es:i&&i.title_es?i.title_es:"",title_hu:i&&i.title_hu?i.title_hu:"",description_en:i&&i.description_en?i.description_en:"",description_de:i&&i.description_de?i.description_de:"",description_es:i&&i.description_es?i.description_es:"",description_hu:i&&i.description_hu?i.description_hu:"",files:i&&i.image?i.image:""},validationSchema:m,onSubmit:(e,i)=>{let{setSubmitting:r}=i;ls(!0);let a=new FormData;a.append("o_id",n.id),a.append("title_en",e.title_en),a.append("title_de",e.title_de),a.append("title_es",e.title_es),a.append("title_hu",e.title_hu),a.append("description_en",e.description_en),a.append("description_de",e.description_de),a.append("description_es",e.description_es),a.append("description_hu",e.description_hu),a.append("image",e.files),(async e=>await oc(rB).post("".concat(aB,"/edit"),e))(a).then(e=>{r(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),"Save"!==d&&setTimeout(()=>{t("/admin/cms/services/list/".concat(n.pgno))},1e3),ls(!1)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),ls(!1)}).catch(e=>{console.log("error ====> ",e)})},children:e=>{let{values:n,errors:i,touched:r,handleChange:a,handleBlur:l,handleSubmit:c,setFieldValue:d,setFieldTouched:p,isSubmitting:m}=e;return(0,Pa.jsx)("form",{onSubmit:c,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:h("btn_edit")+" "+h("sidebar_link_banners")})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_en",className:"text-left d-flex",children:[h("Title (English)"),": ",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"title_en",id:"title_en",type:"text",onChange:a,onBlur:l,value:n.title_en,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"title_en"})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_de",className:"text-left d-flex",children:[h("Title (German)"),":"]}),(0,Pa.jsx)("input",{name:"title_de",id:"title_de",type:"text",onChange:a,onBlur:l,value:n.title_de,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:i.title_de&&r.title_de&&i.title_de})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_es",className:"text-left d-flex",children:[h("Title (Spanish)"),": ",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"title_es",id:"title_es",type:"text",onChange:a,onBlur:l,value:n.title_es,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"title_es"})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title_hu",className:"text-left d-flex",children:[h("Title (Hungarian)"),": ",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"title_hu",id:"title_hu",type:"text",onChange:a,onBlur:l,value:n.title_hu,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"title_hu"})})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_en",className:"text-left d-flex",children:[h("Description (English)"),": ",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"description_en",id:"description_en",type:"text",onChange:a,onBlur:l,value:n.description_en,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"description_en"})})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_de",className:"text-left d-flex",children:[h("Description (German)"),": ",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"description_de",id:"description_de",type:"text",onChange:a,onBlur:l,value:n.description_de,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"description_de"})})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_es",className:"text-left d-flex",children:[h("Description (Spanish)"),": ",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"description_es",id:"description_es",type:"text",onChange:a,onBlur:l,value:n.description_es,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"description_es"})})]}),(0,Pa.jsxs)("div",{className:"col-md-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description_hu",className:"text-left d-flex",children:[h("Description (Hungarian)"),": ",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"description_hu",id:"description_hu",type:"text",onChange:a,onBlur:l,value:n.description_hu,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(Hp,{name:"description_hu"})})]}),(0,Pa.jsxs)("div",{className:"col-lg-12 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"files",className:"text-left d-flex",children:[h("label_image"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:"Recommended Size (1920x887)"}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{className:"form-control imgInput",id:"files",name:"files",accept:"image/*",type:"file",onChange:e=>{d("files",e.currentTarget.files[0]||""),1===e.currentTarget.files.length?o(URL.createObjectURL(e.currentTarget.files[0])):o("")}}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",id:"errortext",children:i.files&&r.files&&i.files})]}),s?(0,Pa.jsx)("ul",{className:"question-image-preview questions-ul",children:(0,Pa.jsxs)("li",{className:"pr_img_box",children:[(0,Pa.jsx)("img",{src:s,style:{height:"100px"},alt:"img"}),(0,Pa.jsx)("div",{className:"img_options",children:(0,Pa.jsx)("button",{type:"button",className:"text-danger",onClick:()=>{o(""),d("image",null),document.getElementById("files").value=""},children:(0,Pa.jsx)("i",{className:"ri-delete-bin-6-fill"})})})]})}):"",(0,Pa.jsxs)("div",{className:"",children:[(0,Pa.jsxs)("button",{onClick:()=>{u("Save")},className:"btn btn-info mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),h("btn_save")]}),(0,Pa.jsxs)("button",{onClick:()=>{u("")},className:"btn btn-success mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),h("btn_save_exit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",onClick:()=>t(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),h("btn_cancel")]})]})]})]})})})})})}}):(0,Pa.jsx)(mA,{})]})},dB=()=>{const e=ot(),{t:t}=As(),n=ct(),[i,r]=(0,a.useState)({}),s=[{title:t("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:t("Services"),url:"/admin/cms/services/list/1"},{title:t("btn_view"),url:""}];return(0,a.useEffect)(()=>{sB(n.id).then(e=>{r(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:s}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:t("btn_view")+" "+t("Services")})}),i&&Object.keys(i).length>0?(0,Pa.jsx)("div",{className:"row",children:(0,Pa.jsxs)("div",{className:"col-lg-12 form-group",children:[(0,Pa.jsx)("table",{id:"simple-table",className:"table  table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("Title (English)")}),(0,Pa.jsx)("td",{children:i&&i.title_en?i.title_en:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("Title (German)")}),(0,Pa.jsx)("td",{children:i&&i.title_de?i.title_de:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("Title (Spanish)")}),(0,Pa.jsx)("td",{children:i&&i.title_es?i.title_es:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("Title (Hungarian)")}),(0,Pa.jsx)("td",{children:i&&i.title_hu?i.title_hu:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_image")}),(0,Pa.jsx)("td",{children:(0,Pa.jsx)("img",{src:i&&i.image?i.image:"",alt:null===i||void 0===i?void 0:i.title,style:{height:"100px"}})})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("list_heading_status")}),(0,Pa.jsx)("td",{children:(i&&i.status,Qk(ss(i.status)))})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("list_heading_created_date")}),(0,Pa.jsx)("td",{children:i&&i.createdAt?Wa(i.createdAt):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_modified_date")}),(0,Pa.jsx)("td",{children:i&&i.updatedAt?Wa(i.updatedAt):"N/A"})]}),(0,Pa.jsx)("tr",{children:(0,Pa.jsxs)("td",{colSpan:2,children:[(0,Pa.jsx)("h5",{children:"Description (English)"}),i&&i.description_en?ds(i.description_en):"N/A"]})}),(0,Pa.jsx)("tr",{children:(0,Pa.jsxs)("td",{colSpan:2,children:[(0,Pa.jsx)("h5",{children:"Description (German)"}),i&&i.description_de?ds(i.description_de):"N/A"]})}),(0,Pa.jsx)("tr",{children:(0,Pa.jsxs)("td",{colSpan:2,children:[(0,Pa.jsx)("h5",{children:"Description (Spanish)"}),i&&i.description_es?ds(i.description_es):"N/A"]})}),(0,Pa.jsx)("tr",{children:(0,Pa.jsxs)("td",{colSpan:2,children:[(0,Pa.jsx)("h5",{children:"Description (Hungarian)"}),i&&i.description_hu?ds(i.description_hu):"N/A"]})})]})}),(0,Pa.jsx)("div",{className:"mt-5",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>e(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),t("btn_back")]})})]})}):(0,Pa.jsx)(Bf,{})]})})})})]})},uB={role:Rs.ROLE.SUPER_ADMIN},hB="admin/website-home-page",pB=e=>{const t=ot(),{t:n}=As(),[i,r]=(0,a.useState)(!1),[s,o]=(0,a.useState)(""),[l,c]=(0,a.useState)([]),[d,u]=(0,a.useState)({}),[h,p]=(0,a.useState)(!1),m=[{title:n("link_dashboard"),url:"/admin/dashboard"},{title:n("Home Page Section"),url:"/admin/cms/question/list/1"},{title:n("link_add"),url:""}];(0,a.useEffect)(()=>{(async()=>await oc(uB).get("".concat(hB,"/details")))().then(e=>{var t;u(null===e||void 0===e?void 0:e.data),o(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.spiritual_advisor_video),setTimeout(()=>{p(!0)},100)}).catch(e=>{console.log("error=====>",e)})},[]),console.log("defaultData--\x3e",d);vf().shape({question_title:rf().trim().max(100,"max_length_error").required("Option is required").concat(sR),question_type:rf().trim().max(100,"Cannot exceed 100 words").required("Question type is required"),option:yf().min(1,"At least one option is required").of(vf({option_slug:rf().min(1,"Option slug cannot be empty").required("Option slug is required"),option_value:rf().min(1,"Option value cannot be empty").required("Option value is required")})).required("Option array is required")});const f=Ap({enableReinitialize:!0,initialValues:{main_heading_en:d&&d.main_heading_en?d.main_heading_en:"",main_heading_de:d&&d.main_heading_de?d.main_heading_de:"",main_heading_es:d&&d.main_heading_es?d.main_heading_es:"",main_heading_hu:d&&d.main_heading_hu?d.main_heading_hu:"",main_description_en:d&&d.main_description_en?d.main_description_en:"",main_description_de:d&&d.main_description_de?d.main_description_de:"",main_description_es:d&&d.main_description_es?d.main_description_es:"",main_description_hu:d&&d.main_description_hu?d.main_description_hu:"",spiritual_advisor_heading_en:d&&d.spiritual_advisor_heading_en?d.spiritual_advisor_heading_en:"",spiritual_advisor_heading_de:d&&d.spiritual_advisor_heading_de?d.spiritual_advisor_heading_de:"",spiritual_advisor_heading_es:d&&d.spiritual_advisor_heading_es?d.spiritual_advisor_heading_es:"",spiritual_advisor_heading_hu:d&&d.spiritual_advisor_heading_hu?d.spiritual_advisor_heading_hu:"",spiritual_advisor_description_en:d&&d.spiritual_advisor_description_en?d.spiritual_advisor_description_en:"",spiritual_advisor_description_de:d&&d.spiritual_advisor_description_de?d.spiritual_advisor_description_de:"",spiritual_advisor_description_es:d&&d.spiritual_advisor_description_es?d.spiritual_advisor_description_es:"",spiritual_advisor_description_hu:d&&d.spiritual_advisor_description_hu?d.spiritual_advisor_description_hu:"",spiritual_advisor_video:d&&d.spiritual_advisor_video?d.spiritual_advisor_video:"",services_heading_en:d&&d.services_heading_en?d.services_heading_en:"",services_heading_de:d&&d.services_heading_de?d.services_heading_de:"",services_heading_es:d&&d.services_heading_es?d.services_heading_es:"",services_heading_hu:d&&d.services_heading_hu?d.services_heading_hu:"",services_description_en:d&&d.services_description_en?d.services_description_en:"",services_description_de:d&&d.services_description_de?d.services_description_de:"",services_description_es:d&&d.services_description_es?d.services_description_es:"",services_description_hu:d&&d.services_description_hu?d.services_description_hu:"",how_we_work_heading_en:d&&d.how_we_work_heading_en?d.how_we_work_heading_en:"",how_we_work_heading_de:d&&d.how_we_work_heading_de?d.how_we_work_heading_de:"",how_we_work_heading_es:d&&d.how_we_work_heading_es?d.how_we_work_heading_es:"",how_we_work_heading_hu:d&&d.how_we_work_heading_hu?d.how_we_work_heading_hu:"",how_we_work_description_en:d&&d.how_we_work_description_en?d.how_we_work_description_en:"",how_we_work_description_de:d&&d.how_we_work_description_de?d.how_we_work_description_de:"",how_we_work_description_es:d&&d.how_we_work_description_es?d.how_we_work_description_es:"",how_we_work_description_hu:d&&d.how_we_work_description_hu?d.how_we_work_description_hu:"",download_app_heading_en:d&&d.download_app_heading_en?d.download_app_heading_en:"",download_app_heading_de:d&&d.download_app_heading_de?d.download_app_heading_de:"",download_app_heading_es:d&&d.download_app_heading_es?d.download_app_heading_es:"",download_app_heading_hu:d&&d.download_app_heading_hu?d.download_app_heading_hu:"",download_app_description_en:d&&d.download_app_description_en?d.download_app_description_en:"",download_app_description_de:d&&d.download_app_description_de?d.download_app_description_de:"",download_app_description_es:d&&d.download_app_description_es?d.download_app_description_es:"",download_app_description_hu:d&&d.download_app_description_hu?d.download_app_description_hu:""},validateOnBlur:!1,onSubmit:(e,t)=>{let{setSubmitting:n,resetForm:i}=t;ls(!0),r(!0);let a=new FormData;a.append("main_heading_en",e.main_heading_en),a.append("main_heading_de",e.main_heading_de),a.append("main_heading_es",e.main_heading_es),a.append("main_heading_hu",e.main_heading_hu),a.append("main_description_en",e.main_description_en),a.append("main_description_de",e.main_description_de),a.append("main_description_es",e.main_description_es),a.append("main_description_hu",e.main_description_hu),a.append("spiritual_advisor_heading_en",e.spiritual_advisor_heading_en),a.append("spiritual_advisor_heading_de",e.spiritual_advisor_heading_de),a.append("spiritual_advisor_heading_es",e.spiritual_advisor_heading_es),a.append("spiritual_advisor_heading_hu",e.spiritual_advisor_heading_hu),a.append("spiritual_advisor_description_en",e.spiritual_advisor_description_en),a.append("spiritual_advisor_description_de",e.spiritual_advisor_description_de),a.append("spiritual_advisor_description_es",e.spiritual_advisor_description_es),a.append("spiritual_advisor_description_hu",e.spiritual_advisor_description_hu),a.append("spiritual_advisor_video",e.spiritual_advisor_video),a.append("services_heading_en",e.services_heading_en),a.append("services_heading_de",e.services_heading_de),a.append("services_heading_es",e.services_heading_es),a.append("services_heading_hu",e.services_heading_hu),a.append("services_description_en",e.services_description_en),a.append("services_description_de",e.services_description_de),a.append("services_description_es",e.services_description_es),a.append("services_description_hu",e.services_description_hu),a.append("how_we_work_heading_en",e.how_we_work_heading_en),a.append("how_we_work_heading_de",e.how_we_work_heading_de),a.append("how_we_work_heading_es",e.how_we_work_heading_es),a.append("how_we_work_heading_hu",e.how_we_work_heading_hu),a.append("how_we_work_description_en",e.how_we_work_description_en),a.append("how_we_work_description_de",e.how_we_work_description_de),a.append("how_we_work_description_es",e.how_we_work_description_es),a.append("how_we_work_description_hu",e.how_we_work_description_hu),a.append("download_app_heading_en",e.download_app_heading_en),a.append("download_app_heading_de",e.download_app_heading_de),a.append("download_app_heading_es",e.download_app_heading_es),a.append("download_app_heading_hu",e.download_app_heading_hu),a.append("download_app_description_en",e.download_app_description_en),a.append("download_app_description_de",e.download_app_description_de),a.append("download_app_description_es",e.download_app_description_es),a.append("download_app_description_hu",e.download_app_description_hu),(async e=>await oc(uB).post("".concat(hB,"/add"),e))(a).then(e=>{n(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),ls(!1)):(zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),ls(!1),r(!1))}).catch(e=>{console.log("error ====> ",e)})}});return console.log("value---\x3e",f.values),console.log("errors---\x3e",f.errors),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:m}),h?(0,Pa.jsx)("form",{onSubmit:f.handleSubmit,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:n("Website Home")})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsx)("h3",{children:"Main section"}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"main_heading_en",className:"text-left d-flex",children:[n("Main Heading (English)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"main_heading_en",id:"main_heading_en",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.main_heading_en,className:"form-control",placeholder:n("Enter heading 1 (English)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"main_heading_en",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"main_heading_de",className:"text-left d-flex",children:[n("Main Heading (German)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"main_heading_de",id:"main_heading_de",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.main_heading_de,className:"form-control",placeholder:n("Enter main heading (German)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"main_heading_de",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"main_heading_es",className:"text-left d-flex",children:[n("Main Heading (Spanish)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"main_heading_es",id:"main_heading_es",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.main_heading_es,className:"form-control",placeholder:n("Enter main heading (Spanish)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"main_heading_es",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"main_heading_hu",className:"text-left d-flex",children:[n("Main Heading (Hungary)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"main_heading_hu",id:"main_heading_hu",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.main_heading_hu,className:"form-control",placeholder:n("Enter main heading (Hungary)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"main_heading_hu",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"main_description_en",className:"text-left d-flex",children:[n("Main description (English)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"main_description_en",id:"main_description_en",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.main_description_en,className:"form-control",placeholder:n("Enter main description (English)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"main_description_en",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"main_description_de",className:"text-left d-flex",children:[n("Main description (German)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"main_description_de",id:"main_description_de",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.main_description_de,className:"form-control",placeholder:n("Enter main description (German)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"main_description_de",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"main_description_es",className:"text-left d-flex",children:[n("Main description (Spanish)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"main_description_es",id:"main_description_es",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.main_description_es,className:"form-control",placeholder:n("Enter main description (Spanish)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"main_description_es",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"main_description_hu",className:"text-left d-flex",children:[n("Main description (Hungary)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"main_description_hu",id:"main_description_hu",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.main_description_hu,className:"form-control",placeholder:n("Enter main description (Hungary)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"main_description_hu",form:f})})]}),(0,Pa.jsx)("hr",{}),(0,Pa.jsx)("h3",{className:"mt-4",children:"Spiritual Advisor Section"}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"spiritual_advisor_heading_en",className:"text-left d-flex",children:[n("Spiritual advisor heading (English)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"spiritual_advisor_heading_en",id:"spiritual_advisor_heading_en",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.spiritual_advisor_heading_en,className:"form-control",placeholder:n("Spiritual advisor heading (English)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"spiritual_advisor_heading_en",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"spiritual_advisor_heading_de",className:"text-left d-flex",children:[n("Spiritual advisor heading (German)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"spiritual_advisor_heading_de",id:"spiritual_advisor_heading_de",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.spiritual_advisor_heading_de,className:"form-control",placeholder:n("Spiritual advisor heading (German)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"spiritual_advisor_heading_de",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"spiritual_advisor_heading_es",className:"text-left d-flex",children:[n("Spiritual advisor heading (Spanish)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"spiritual_advisor_heading_es",id:"spiritual_advisor_heading_es",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.spiritual_advisor_heading_es,className:"form-control",placeholder:n("Spiritual advisor heading (Spanish)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"spiritual_advisor_heading_es",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"spiritual_advisor_heading_hu",className:"text-left d-flex",children:[n("Spiritual advisor heading (Hungarian)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"spiritual_advisor_heading_hu",id:"spiritual_advisor_heading_hu",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.spiritual_advisor_heading_hu,className:"form-control",placeholder:n("Spiritual advisor heading (Hungarian)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"spiritual_advisor_heading_hu",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"spiritual_advisor_description_en",className:"text-left d-flex",children:[n("Spiritual advisor description (English)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"spiritual_advisor_description_en",id:"spiritual_advisor_description_en",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.spiritual_advisor_description_en,className:"form-control",placeholder:n("Spiritual advisor description (English)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"spiritual_advisor_description_en",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"spiritual_advisor_description_de",className:"text-left d-flex",children:[n("Spiritual advisor description (German)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"spiritual_advisor_description_de",id:"spiritual_advisor_description_de",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.spiritual_advisor_description_de,className:"form-control",placeholder:n("Spiritual advisor description (German)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"spiritual_advisor_description_de",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"spiritual_advisor_description_es",className:"text-left d-flex",children:[n("Spiritual advisor description (Spanish)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"spiritual_advisor_description_es",id:"spiritual_advisor_description_es",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.spiritual_advisor_description_es,className:"form-control",placeholder:n("Spiritual advisor description (Spanish)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"spiritual_advisor_description_es",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"spiritual_advisor_description_hu",className:"text-left d-flex",children:[n("Spiritual advisor description (Hungarian)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"spiritual_advisor_description_hu",id:"spiritual_advisor_description_hu",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.spiritual_advisor_description_hu,className:"form-control",placeholder:n("Spiritual advisor description (Hungarian)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"spiritual_advisor_description_hu",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"spiritual_advisor_video",className:"text-left d-flex",children:[n("Spiritual Advisor Video"),":"," ",(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:n("video_support_tooltip")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:" ? "})})]}),(0,Pa.jsx)("input",{className:"form-control videoInput",id:"spiritual_advisor_video",name:"spiritual_advisor_video",accept:"video/*",type:"file",onChange:e=>{const t=e.target.files[0]||"";f.setFieldValue("spiritual_advisor_video",t),o(t?URL.createObjectURL(t):"")}}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"spiritual_advisor_video",form:f})}),s&&(0,Pa.jsx)("div",{className:"mt-2 text-start",children:(0,Pa.jsx)("video",{controls:!0,width:"300",src:s,children:"Your browser does not support the video tag."})})]}),(0,Pa.jsx)("hr",{}),(0,Pa.jsx)("h3",{className:"mt-4",children:"Services Section"}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"services_heading_en",className:"text-left d-flex",children:[n("Services heading (English)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"services_heading_en",id:"services_heading_en",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.services_heading_en,className:"form-control",placeholder:n("Services heading (English)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"services_heading_en",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"services_heading_de",className:"text-left d-flex",children:[n("Services heading (German)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"services_heading_de",id:"services_heading_de",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.services_heading_de,className:"form-control",placeholder:n("Services heading (German)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"services_heading_de",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"services_heading_es",className:"text-left d-flex",children:[n("Services heading (Spanish)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"services_heading_es",id:"services_heading_es",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.services_heading_es,className:"form-control",placeholder:n("Services heading (Spanish)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"services_heading_es",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"services_heading_hu",className:"text-left d-flex",children:[n("Services heading (Hungarian)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"services_heading_hu",id:"services_heading_hu",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.services_heading_hu,className:"form-control",placeholder:n("Services heading (Hungarian)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"services_heading_hu",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"services_description_en",className:"text-left d-flex",children:[n("Services description (English)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"services_description_en",id:"services_description_en",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.services_description_en,className:"form-control",placeholder:n("Services description (English)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"services_description_en",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"services_description_de",className:"text-left d-flex",children:[n("Services description (German)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"services_description_de",id:"services_description_de",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.services_description_de,className:"form-control",placeholder:n("Services description (German)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"services_description_de",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"services_description_es",className:"text-left d-flex",children:[n("Services description (Spanish)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"services_description_es",id:"services_description_es",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.services_description_es,className:"form-control",placeholder:n("Services description (Spanish)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"services_description_es",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"services_description_hu",className:"text-left d-flex",children:[n("Services description (Hungarian)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"services_description_hu",id:"services_description_hu",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.services_description_hu,className:"form-control",placeholder:n("Services description (Hungarian)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"services_description_hu",form:f})})]}),(0,Pa.jsx)("hr",{}),(0,Pa.jsx)("h3",{className:"mt-4",children:"How We Work"}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"how_we_work_heading_en",className:"text-left d-flex",children:[n("How we work heading (English)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"how_we_work_heading_en",id:"how_we_work_heading_en",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.how_we_work_heading_en,className:"form-control",placeholder:n("How we work heading (English)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"how_we_work_heading_en",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"how_we_work_heading_de",className:"text-left d-flex",children:[n("How we work heading (German)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"how_we_work_heading_de",id:"how_we_work_heading_de",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.how_we_work_heading_de,className:"form-control",placeholder:n("How we work heading (German)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"how_we_work_heading_de",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"how_we_work_heading_es",className:"text-left d-flex",children:[n("How we work heading (Spanish)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"how_we_work_heading_es",id:"how_we_work_heading_es",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.how_we_work_heading_es,className:"form-control",placeholder:n("How we work heading (Spanish)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"how_we_work_heading_es",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"how_we_work_heading_hu",className:"text-left d-flex",children:[n("How we work heading (Hungarian)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"how_we_work_heading_hu",id:"how_we_work_heading_hu",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.how_we_work_heading_hu,className:"form-control",placeholder:n("How we work heading (Hungarian)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"how_we_work_heading_hu",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"how_we_work_description_en",className:"text-left d-flex",children:[n("How we work description (English)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"how_we_work_description_en",id:"how_we_work_description_en",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.how_we_work_description_en,className:"form-control",placeholder:n("How we work description (English)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"how_we_work_description_en",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"how_we_work_description_de",className:"text-left d-flex",children:[n("How we work description (German)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"how_we_work_description_de",id:"how_we_work_description_de",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.how_we_work_description_de,className:"form-control",placeholder:n("How we work description (German)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"how_we_work_description_de",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"how_we_work_description_es",className:"text-left d-flex",children:[n("How we work description (Spanish)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"how_we_work_description_es",id:"how_we_work_description_es",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.how_we_work_description_es,className:"form-control",placeholder:n("How we work description (Spanish)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"how_we_work_description_es",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"how_we_work_description_hu",className:"text-left d-flex",children:[n("How we work description (Hungarian)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"how_we_work_description_hu",id:"how_we_work_description_hu",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.how_we_work_description_hu,className:"form-control",placeholder:n("How we work description (Hungarian)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"how_we_work_description_hu",form:f})})]}),(0,Pa.jsx)("hr",{}),(0,Pa.jsx)("h3",{className:"mt-4",children:"Download App"}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"download_app_heading_en",className:"text-left d-flex",children:[n("Download app heading (English)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"download_app_heading_en",id:"download_app_heading_en",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.download_app_heading_en,className:"form-control",placeholder:n("Download app heading (English)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"download_app_heading_en",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"download_app_heading_de",className:"text-left d-flex",children:[n("Download app heading (German)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"download_app_heading_de",id:"download_app_heading_de",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.download_app_heading_de,className:"form-control",placeholder:n("Download app heading (German)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"download_app_heading_de",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"download_app_heading_es",className:"text-left d-flex",children:[n("Download app heading (Spanish)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"download_app_heading_es",id:"download_app_heading_es",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.download_app_heading_es,className:"form-control",placeholder:n("Download app heading (Spanish)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"download_app_heading_es",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"download_app_heading_hu",className:"text-left d-flex",children:[n("Download app heading (Hungarian)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"download_app_heading_hu",id:"download_app_heading_hu",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.download_app_heading_hu,className:"form-control",placeholder:n("Download app heading (Hungarian)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"download_app_heading_hu",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"download_app_description_en",className:"text-left d-flex",children:[n("Download app description (English)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"download_app_description_en",id:"download_app_description_en",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.download_app_description_en,className:"form-control",placeholder:n("Download app description (English)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"download_app_description_en",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"download_app_description_de",className:"text-left d-flex",children:[n("Download app description (German)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"download_app_description_de",id:"download_app_description_de",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.download_app_description_de,className:"form-control",placeholder:n("Download app description (German)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"download_app_description_de",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"download_app_description_es",className:"text-left d-flex",children:[n("Download app description (Spanish)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"download_app_description_es",id:"download_app_description_es",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.download_app_description_es,className:"form-control",placeholder:n("Download app description (Spanish)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"download_app_description_es",form:f})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"download_app_description_hu",className:"text-left d-flex",children:[n("Download app description (Hungarian)"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"download_app_description_hu",id:"download_app_description_hu",type:"text",onChange:f.handleChange,onBlur:f.handleBlur,value:f.values.download_app_description_hu,className:"form-control",placeholder:n("Download app description (Hungarian)")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"download_app_description_hu",form:f})})]}),(0,Pa.jsx)("hr",{}),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{className:"btn btn-info mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),n("btn_submit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",onClick:()=>t(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),n("btn_cancel")]})]})]})]})})})})}):(0,Pa.jsx)(Bf,{})]})};Rs.ROLE.SUPER_ADMIN;const mB=n.p+"static/media/VideoCamera.a0cd3eeff393b2cdbc9eb0c6c1a5cf64.svg";const fB=n.p+"static/media/ChatCenteredDots.c659ed41ae05d2968f89a693fcde8397.svg";const gB=e=>{const t=parseFloat(e);return t>=75?"bg-success":t>=50?"bg-info":t>=25?"bg-warning":"bg-danger"},_B=()=>{const[e,t]=(0,a.useState)(null),[n,i]=(0,a.useState)(!0),[r,s]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async e=>await oc(pD).get("".concat("admin/question-stats","/questionnaire-stats"),e))().then(e=>{null!==e&&void 0!==e&&e.success?t(e.data):s("Failed to load statistics"),i(!1)}).catch(e=>{console.error("Error:",e),s("Something went wrong. Please try again."),i(!1)})},[]),n?(0,Pa.jsxs)("div",{className:"text-center my-5",children:[(0,Pa.jsx)("div",{className:"spinner-border text-primary",role:"status"}),(0,Pa.jsx)("div",{className:"mt-2",children:"Loading questionnaire stats..."})]}):r?(0,Pa.jsx)("div",{className:"alert alert-danger my-5 text-center",role:"alert",children:r}):(0,Pa.jsxs)("div",{className:"container my-5",children:[(0,Pa.jsx)("h2",{className:"text-center mb-4",children:"\ud83d\udcca Astrology Questionnaire Stats"}),Object.entries(e).map(e=>{let[t,n]=e;return(0,Pa.jsx)("div",{className:"card mb-4 shadow-sm",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("h5",{className:"card-title",children:n.question_title}),(0,Pa.jsxs)("h6",{className:"card-subtitle mb-3 text-muted",children:["Answered by ",(0,Pa.jsx)("strong",{children:n.totalAnswered})," user(s)"]}),Object.entries(n.options).map(e=>{let[t,n]=e;return(0,Pa.jsxs)("div",{className:"mb-3",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Pa.jsx)("strong",{children:n.option_value}),(0,Pa.jsxs)("span",{children:[n.percentage,"%"]})]}),(0,Pa.jsx)("div",{className:"progress",children:(0,Pa.jsxs)("div",{className:"progress-bar ".concat(gB(n.percentage)),role:"progressbar",style:{width:"".concat(n.percentage,"%")},"aria-valuenow":n.percentage,"aria-valuemin":"0","aria-valuemax":"100",children:[n.percentage,"%"]})})]},t)})]})},t)})]})};Rs.ROLE.SUPER_ADMIN,vf().shape({free_subscription_benefit_en:rf().required("Free Subscription Benefit in English is required"),free_subscription_benefit_de:rf().required("Free Subscription Benefit in Dutch is required"),free_subscription_benefit_es:rf().required("Free Subscription Benefit in Spanish is required"),free_subscription_benefit_hu:rf().required("Free Subscription Benefit in Hungarian is required"),premium_subscription_benefit_en:rf().required("Premium Subscription Benefit in English is required"),premium_subscription_benefit_de:rf().required("Premium Subscription Benefit in Dutch is required"),premium_subscription_benefit_es:rf().required("Premium Subscription Benefit in Spanish is required"),premium_subscription_benefit_hu:rf().required("Premium Subscription Benefit in Hungarian is required"),credit_subscription_benefit_en:rf().required("Credit Subscription Benefit in English is required"),credit_subscription_benefit_de:rf().required("Credit Subscription Benefit in Dutch is required"),credit_subscription_benefit_es:rf().required("Credit Subscription Benefit in Spanish is required"),credit_subscription_benefit_hu:rf().required("Credit Subscription Benefit in Hungarian is required")});var vB=n(1635),bB=n.n(vB);const yB="test",xB=()=>{const e=(0,a.useRef)(null),t=(0,a.useRef)(null),n=(0,a.useRef)(null),[i,r]=(0,a.useState)(!1),[s,o]=(0,a.useState)([]);(0,a.useEffect)(()=>(e.current=bB().createClient({mode:"rtc",codec:"vp8"}),e.current.on("user-published",async(t,n)=>{if(await e.current.subscribe(t,n),"audio"===n)t.audioTrack.play();else{const e=document.createElement("div");e.id=t.uid,e.style.width="320px",e.style.height="240px",document.getElementById("remote-container").appendChild(e),t.videoTrack.play(e)}o(e=>[...e,t])}),e.current.on("user-unpublished",async e=>{}),()=>{c()}),[]);const l=async i=>{const a=Math.floor(1e4*Math.random()),s=(await sc.get("http://172.16.11.82:17018/generate-agora-token?channel=".concat(yB,"&uid=").concat(a))).data.token;if(console.log("-------generated uid",a,"token----",s),await e.current.join("b13544f44873432eab39b563287690e9",yB,s,a),t.current=await bB().createMicrophoneAudioTrack(),i){n.current=await bB().createCameraVideoTrack();const i=document.getElementById("local-container");n.current.play(i),await e.current.publish([t.current,n.current])}else await e.current.publish([t.current]);r(!0)};async function c(){t.current&&(t.current.close(),t.current=null),n.current&&(n.current.close(),n.current=null),await e.current.leave(),r(!1)}return(0,Pa.jsxs)("div",{children:[(0,Pa.jsx)("div",{children:i?(0,Pa.jsx)("button",{className:"btn bg-danger",onClick:c,children:"Leave"}):(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)("button",{className:"btn bg-primary",onClick:()=>{l(!1)},children:"Join Audio"}),(0,Pa.jsx)("button",{className:"btn bg-primary ms-3",onClick:()=>{l(!0)},children:"Join Video"})]})}),(0,Pa.jsx)("div",{id:"local-container",style:{width:"320px",height:"240px",backgroundColor:"#000"}}),(0,Pa.jsx)("div",{id:"remote-container"})]})},wB=()=>{var e,t,n;ct();const[i]=Zt(),r=(at(),gn()),s=ot(),o=JSON.parse(localStorage.getItem("psychic")),l=i.get("meeting_id"),c=(0,a.useRef)(null),d=(0,a.useRef)(null),u=(0,a.useRef)(null),[h,p]=(0,a.useState)(!1),[m,f]=(0,a.useState)(!1),g=(0,a.useRef)(!1),[_,v]=(0,a.useState)(!1),[b,y]=(0,a.useState)(null),[x,w]=(0,a.useState)([]),E=(0,a.useRef)(null),[S,C]=(0,a.useState)(!1),T=(0,a.useRef)(null),[N,A]=(0,a.useState)(!1),[k,R]=(0,a.useState)(0),I=(0,a.useRef)(null),[O,j]=(0,a.useState)(""),P=(0,a.useRef)(null),[D,L]=((0,a.useRef)(null),(0,a.useState)(!1)),[M,U]=(0,a.useState)(!1),F=(0,a.useRef)(null),B=(0,a.useRef)(null),[V,z]=(0,a.useState)(!1),H=(0,a.useRef)(null),[W,G]=(0,a.useState)(!1),q=(0,a.useRef)(null),Y=(0,a.useRef)(null),X=(0,a.useRef)(null),[K,J]=(0,a.useState)(null),Z=bn(e=>e.meetingDetailsSlice.meetingDetails),Q=(0,a.useRef)(null);(0,a.useEffect)(()=>(Q.current=Z,()=>{Q.current=null}),[Z]),(0,a.useEffect)(()=>(H.current=!0,async function(){var e;await async function(){try{const e=(await(async e=>await oc(Ej).post("".concat("/common","/get-meeting-details"),e))({meeting_id:l})).data,t=new Date(e.meeting_date),n=new Date;if(console.log("-----meeting start date",t),console.log("-----current date",n),n.getTime()<t.getTime()){const e=t.toDateString(),n=t.getHours().toString().padStart(2,"0"),i=t.getMinutes().toString().padStart(2,"0"),r="".concat(n,":").concat(i);return zr().fire(Tn({icon:"error",text:"Meeting time is too early, Plese try again later at ".concat(e,", ").concat(r)},Rs.SWAL_SETTINGS)),void s(-1)}const i={call_info:Tn(Tn({},e),{},{uid:Math.floor(1e4*Math.random())})};console.log("-------setting meeting data",i),r(Nr(i))}catch(e){zr().fire(Tn({icon:"error",text:e.message||"Something went wrong"},Rs.SWAL_SETTINGS)),s(-1)}}();const t=new Date(null===(e=Q.current)||void 0===e?void 0:e.call_info.meeting_date).getTime()/1e3;n=t+1800-Date.now()/1e3,console.log("--------count down timer started",n),n=60,ie(),R(n),I.current=setInterval(()=>{R(e=>e>1?e-1:e?(zr().fire(Tn({icon:"error",text:"Meeting time Ended"},Rs.SWAL_SETTINGS)),s(-1),0):0)},1e3),async function(){var e,t,n,i,r;console.log(Q.current,"------meeting details");const a="video"==(null===(e=Q.current)||void 0===e||null===(t=e.call_info)||void 0===t?void 0:t.meeting_type);let s;a&&(s=await navigator.permissions.query({name:"camera"}));const o=await navigator.permissions.query({name:"microphone"});console.log(null===(n=s)||void 0===n?void 0:n.state,o.state,"----------device status");const l="granted"==(null===(i=s)||void 0===i?void 0:i.state)||"prompt"==(null===(r=s)||void 0===r?void 0:r.state),c="granted"==(null===o||void 0===o?void 0:o.state)||"prompt"==(null===o||void 0===o?void 0:o.state);console.log("----------is video call",a,l,c),a&&!l||!c?G(!0):(G(!1),async function(){const e=await async function(){var e,t;if($)return;$=!0;const n="video"===(null===(e=Q.current)||void 0===e||null===(t=e.call_info)||void 0===t?void 0:t.meeting_type);try{var i;(await navigator.mediaDevices.getUserMedia({audio:!0,video:n})).getTracks().forEach(e=>e.stop());const e=n?await bB().getCameras():[],t=await bB().getMicrophones();if(!t.length||n&&!e.length)return alert("No microphone or camera found."),!1;var r;if(B.current=null===(i=t[0])||void 0===i?void 0:i.deviceId,n)F.current=null===(r=e[0])||void 0===r?void 0:r.deviceId;return console.log("\ud83c\udfa4 Mics:",t),console.log("\ud83d\udcf7 Cameras:",e),!0}catch(QV){switch(console.error("\u274c Device permission or access error:",QV),QV.name){case"NotAllowedError":alert("Please allow access to microphone and camera."),J("Permission denied. Please allow access to microphone and camera.");break;case"NotFoundError":alert("No media devices found."),J("No media devices found. Please connect a microphone or camera.");break;case"NotReadableError":alert("Device already in use by another application."),J("Device already in use by another application.");break;case"AbortError":alert("Media access aborted. Close other apps using the mic/cam."),J("Media access aborted. Close other apps using the mic/cam.");break;case"SecurityError":alert("HTTPS is required for media device access."),J("HTTPS is required for media device access.");break;default:alert("Error: "+QV.message),J("Error: "+QV.message)}}finally{$=!1}}();if(!H.current)return;if(e){if(await ee(),!H.current)return;z(!0)}}())}();var n}(),A(!1),()=>{H.current=null,async function(){d.current&&(d.current.stop(),d.current.close(),d.current=null,q.current=null);u.current&&(u.current.stop(),u.current.close(),u.current=null,Y.current=null);if(c.current)try{await c.current.leave(),c.current.removeAllListeners(),c.current=null}catch(QV){console.warn("Error leaving Agora channel:",QV)}T.current&&(T.current=null);E.current&&(E.current=null);X.current&&(X.current=null);I.current&&ie();P.current&&ae();B.current&&(B.current=null);F.current&&(F.current=null);g.current&&(g.current=null);r(Nr(null))}()}),[l]);let $=!1;async function ee(){var e,t;const n="video"===(null===(e=Q.current)||void 0===e||null===(t=e.call_info)||void 0===t?void 0:t.meeting_type);if(!B.current||n&&!F.current)console.warn("Local device IDs not available. Aborting track creation.");else try{if(d.current||(d.current=await bB().createMicrophoneAudioTrack(),console.log("\ud83c\udfa4 Local audio track created")),n&&!u.current)try{u.current=await bB().createCameraVideoTrack(),console.log("\ud83d\udcf7 Local video track created")}catch(QV){console.warn("Camera creation failed, retrying...",QV);const t=await bB().getCameras();t.length?u.current=await bB().createCameraVideoTrack({cameraId:t[0].deviceId}):alert("No available camera found.")}if(n&&u.current){const e=document.getElementById("local-container");e&&(e.innerHTML="",await u.current.play(e),u.current.getMediaStreamTrack().onended=async()=>{console.warn("Video track ended. Recreating..."),await te()})}}catch(QV){console.error("Track creation error:",QV)}}async function te(){try{u.current&&(u.current.stop(),u.current.close(),u.current=null),d.current&&(d.current.stop(),d.current.close(),d.current=null),setTimeout(()=>{ee()},1e3)}catch(QV){console.error("Error while recreating video track:",QV)}}async function ne(){var e,t,n,i,a,s;console.log("------joining channel");const o=new Date(Q.current.call_info.meeting_date),l=new Date;if(console.log("-----meeting start date",o),console.log("-----current date",l),l.getTime()<o.getTime()){const e=o.toDateString(),t=o.getHours().toString().padStart(2,"0"),n=o.getMinutes().toString().padStart(2,"0"),i="".concat(t,":").concat(n);return void alert("Meeting time is too early, Plese try again later at ".concat(e,", ").concat(i))}if(console.log("----audio device",d.current),console.log("----video device",u.current),!d.current&&!u.current)return void alert("No Local tracks found");let h=[];if(null!==(e=d.current)&&void 0!==e&&e.enabled&&(h.push(d.current),q.current=!0),null!==(t=u.current)&&void 0!==t&&t.enabled&&(h.push(u.current),Y.current=!0),!h.length)return void alert("Please enable at least one device");const p=null===(n=Q.current)||void 0===n||null===(i=n.call_info)||void 0===i?void 0:i.uid,m=null===(a=Q.current)||void 0===a||null===(s=a.call_info)||void 0===s?void 0:s.channel,f=(await sc.get("".concat("https://astranova-api.devtechnosys.tech","/generate-agora-token?channel=").concat(m,"&uid=").concat(p))).data.token;await async function(){c.current=bB().createClient({mode:"rtc",codec:"vp8"}),c.current.on("user-published",async(e,t)=>{console.log("===========>Remote user joined",e),await c.current.subscribe(e,t),!E.current&&e&&(zr().fire(Tn({icon:"success",text:"Customer joined the meeting"},Rs.SWAL_SETTINGS)),E.current=!0,w(t=>[...t,e]),r(kr()),ae()),"audio"===t?(e.audioTrack.play(),v(!1)):(X.current=e,y(!1))}),c.current.on("user-left",e=>{console.log("Remote user left:",e.uid),zr().fire(Tn({icon:"info",text:"Customer left the meeting"},Rs.SWAL_SETTINGS)),w([]),E.current&&(E.current=null),X.current&&(X.current=null),re()}),c.current.on("volume-indicator",e=>{e.forEach(e=>{var t,n;e.uid===(null===Q||void 0===Q||null===(t=Q.current)||void 0===t||null===(n=t.call_info)||void 0===n?void 0:n.uid)?L(e.level>35):U(e.level>35)})}),c.current.on("user-unpublished",async(e,t)=>{console.log("===========>user unpublished",t),"video"===t?(console.log("Remote video turned OFF"),y(!0)):"audio"===t&&(console.log("Remote audio turned OFF"),v(!0))})}(),H.current&&(console.log("----------joining details","b13544f44873432eab39b563287690e9",m,f,p),await c.current.join("b13544f44873432eab39b563287690e9",m,f,p),c.current.enableAudioVolumeIndicator(),await c.current.publish(h),C(!0),T.current=!0,A(!1),await new Promise((e,t)=>{setTimeout(()=>{e()},3e3)}),console.log("----rmeote joined",E.current),console.log("-------starting"),E.current||re())}(0,a.useEffect)(()=>{var e;if(console.log("-------Inside useEffect",X.current),!b&&null!==(e=X.current)&&void 0!==e&&e.videoTrack&&E.current){const e=X.current.videoTrack;console.log("-------Inside remote toggle video useEffect",e);const t=document.getElementById("remote-container");console.log("-----------1. remote container",t),t&&null!==t.offsetParent&&(console.log("---------2. playing remote video"),t.innerHTML="",e.play(t))}},[b]);(0,a.useEffect)(()=>{if(!m&&u.current){const e=document.getElementById("local-container");if(e){e.innerHTML="";try{const t=u.current.play(e);(null===t||void 0===t?void 0:t.catch)instanceof Function&&t.catch(e=>{console.warn("Local video play error:",e)});const n=u.current.getMediaStreamTrack();n&&(n.onended=async()=>{console.warn("Track ended. Reinitializing..."),await te()})}catch(QV){console.error("Play failed:",QV)}}}},[m]);function ie(){I.current&&(clearInterval(I.current),I.current=null)}function re(){P.current=setInterval(()=>{j(e=>e.length>3?"":e+".")},500)}function ae(){j(""),clearInterval(P.current),P.current=null}const se=e=>{var t,n,i,r,a,s,l,c,d,u,h,p,m,f,g,_,v,b,y,x,w,E,S,C;const T=e?o._id===(null===(t=Q.current)||void 0===t||null===(n=t.call_info)||void 0===n?void 0:n.psychic_id)?null===(i=Q.current)||void 0===i||null===(r=i.call_info)||void 0===r?void 0:r.psychic_name:null===(a=Q.current)||void 0===a||null===(s=a.call_info)||void 0===s?void 0:s.customer_name:o._id===(null===(l=Q.current)||void 0===l||null===(c=l.call_info)||void 0===c?void 0:c.psychic_id)?null===(d=Q.current)||void 0===d||null===(u=d.call_info)||void 0===u?void 0:u.customer_name:null===(h=Q.current)||void 0===h||null===(p=h.call_info)||void 0===p?void 0:p.psychic_name,N=e?o._id===(null===(m=Q.current)||void 0===m||null===(f=m.call_info)||void 0===f?void 0:f.psychic_id)?null===(g=Q.current)||void 0===g||null===(_=g.call_info)||void 0===_?void 0:_.psychic_profile_image:null===(v=Q.current)||void 0===v||null===(b=v.call_info)||void 0===b?void 0:b.customer_profile_image:o._id===(null===(y=Q.current)||void 0===y||null===(x=y.call_info)||void 0===x?void 0:x.psychic_id)?null===(w=Q.current)||void 0===w||null===(E=w.call_info)||void 0===E?void 0:E.customer_profile_image:null===(S=Q.current)||void 0===S||null===(C=S.call_info)||void 0===C?void 0:C.psychic_profile_image;return(0,Pa.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[(0,Pa.jsx)("div",{className:"avatar avatar-lg",children:(0,Pa.jsx)("img",{alt:"avatar",src:N})}),(0,Pa.jsx)("h5",{className:"text-white",children:T})]})};return(0,Pa.jsx)("div",{className:"container vh-70 d-flex flex-column video-call-bg p-0",children:(0,Pa.jsxs)("div",{className:"flex-grow-1 m-0",children:[(0,Pa.jsxs)("div",{className:"video-box-parent d-flex w-100",children:[(0,Pa.jsx)("div",{className:"video-box col-12 col-md-6 p-0 bg-black position-relative",style:{height:"500px"},children:"video"!==(null===Z||void 0===Z||null===(e=Z.call_info)||void 0===e?void 0:e.meeting_type)||m?(0,Pa.jsx)("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center",children:(e=>{var t,n,i,r,a,s,l,c,d,u,h,p,m,f,g,_,v,b,y,x,w,E,S,C;const T=e?o._id===(null===(t=Q.current)||void 0===t||null===(n=t.call_info)||void 0===n?void 0:n.psychic_id)?null===(i=Q.current)||void 0===i||null===(r=i.call_info)||void 0===r?void 0:r.psychic_name:null===(a=Q.current)||void 0===a||null===(s=a.call_info)||void 0===s?void 0:s.customer_name:o._id===(null===(l=Q.current)||void 0===l||null===(c=l.call_info)||void 0===c?void 0:c.psychic_id)?null===(d=Q.current)||void 0===d||null===(u=d.call_info)||void 0===u?void 0:u.customer_name:null===(h=Q.current)||void 0===h||null===(p=h.call_info)||void 0===p?void 0:p.psychic_name;e?o._id===(null===(m=Q.current)||void 0===m||null===(f=m.call_info)||void 0===f?void 0:f.psychic_id)?null===(g=Q.current)||void 0===g||null===(_=g.call_info)||void 0===_||_.psychic_profile_image:null===(v=Q.current)||void 0===v||null===(b=v.call_info)||void 0===b||b.customer_profile_image:o._id===(null===(y=Q.current)||void 0===y||null===(x=y.call_info)||void 0===x?void 0:x.psychic_id)?null===(w=Q.current)||void 0===w||null===(E=w.call_info)||void 0===E||E.customer_profile_image:null===(S=Q.current)||void 0===S||null===(C=S.call_info)||void 0===C||C.psychic_profile_image;return(0,Pa.jsx)("h5",{className:"text-white",children:T})})(!0)}):(0,Pa.jsx)("div",{id:"local-container",className:"w-100 h-100 d-flex align-items-center justify-content-center"})}),(0,Pa.jsx)("div",{className:"video-remote col-12 col-md-6 p-0 bg-dark position-relative",style:{height:"500px"},children:S?x.length?(0,Pa.jsx)(Pa.Fragment,{children:"video"!==(null===(t=Z.call_info)||void 0===t?void 0:t.meeting_type)||b?(0,Pa.jsxs)("div",{className:"w-100 h-100",children:[se(!1),(0,Pa.jsx)("p",{style:{color:"green"},children:"Connected"})]}):(0,Pa.jsx)("div",{id:"remote-container",className:"w-100 h-100 d-flex align-items-center justify-content-center"})}):(0,Pa.jsxs)(Pa.Fragment,{children:[se(!1),(0,Pa.jsxs)("h3",{className:"mt-2",children:["Waiting for Customer to Join ",O]})]}):(0,Pa.jsx)("div",{className:"w-100 h-100 d-flex flex-column justify-content-center align-items-center text-white",children:V?N?(0,Pa.jsxs)(Pa.Fragment,{children:[se(!1),(0,Pa.jsx)("h3",{className:"mt-2",children:"Meeting Ended"}),(0,Pa.jsx)("button",{className:"btn btn-light mt-2",onClick:ne,children:"Join Again"}),(0,Pa.jsx)(qt,{to:"/psychic/my-bookings",className:"btn btn-outline-light mt-2",children:"Go to Bookings"})]}):(0,Pa.jsxs)(Pa.Fragment,{children:[se(!1),(0,Pa.jsx)("button",{className:"btn btn-light mt-2",onClick:ne,children:"Join Meeting"})]}):(0,Pa.jsx)("div",{children:K})})})]}),(0,Pa.jsxs)("div",{className:"d-flex justify-content-center flex-wrap align-items-center position-relative w-100",children:[(0,Pa.jsxs)("div",{className:"video-call-action-box py-3",children:[(0,Pa.jsxs)("div",{className:"mute-btn bottom-0 start-0 d-flex gap-2",children:[(0,Pa.jsx)("button",{className:"btn mic-indicator ".concat(D&&!h?"glow":""),onClick:async()=>{if(d.current){const e=d.current.enabled;d.current.setEnabled(!e),T.current&&!q.current&&(await c.current.publish([d.current]),q.current=!0),p(!!e)}},children:h?(0,Pa.jsx)("i",{className:"ti ti-microphone-off",style:{fontSize:"30px"}}):(0,Pa.jsx)("i",{className:"ti ti-microphone",style:{fontSize:"30px"}})}),"video"===(null===Z||void 0===Z||null===(n=Z.call_info)||void 0===n?void 0:n.meeting_type)&&(0,Pa.jsx)("button",{className:"btn",onClick:async()=>{var e;if(g.current||!F.current)return;g.current=!0;const t=null===(e=u.current)||void 0===e?void 0:e.enabled;try{if(t)f(!0),await u.current.setEnabled(!1),T.current&&Y.current&&(await c.current.unpublish([u.current]),Y.current=!1);else{if(!u.current||"live"!==u.current.getMediaStreamTrack().readyState){const e=await bB().getCameras();if(!e.length)throw new Error("No camera devices available");F.current=e[0].deviceId,u.current=await bB().createCameraVideoTrack({cameraId:F.current,encoderConfig:{width:640,height:360,frameRate:30,bitrateMax:1500,bitrateMin:600}})}await u.current.setEnabled(!0),T.current&&!Y.current&&(await c.current.publish([u.current]),Y.current=!0),f(!1)}}catch(QV){console.error("toggleVideo error:",QV),alert("An error occurred while toggling video.")}finally{g.current=!1}},children:m?(0,Pa.jsx)("i",{className:"ti ti-video-off",style:{fontSize:"30px"}}):(0,Pa.jsx)("i",{className:"ti ti-video",style:{fontSize:"30px"}})})]}),(0,Pa.jsx)("div",{className:"",children:(0,Pa.jsx)("button",{onClick:()=>{s(-1)},style:{backgroundColor:"red",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:(0,Pa.jsx)("i",{className:"fa fa-phone",style:{color:"white",transform:"rotate(225deg)"},"aria-hidden":"true"})})})]}),k&&(0,Pa.jsx)("div",{className:"position-absolute time-left-box end-0 me-3 p-0",children:(0,Pa.jsxs)("h5",{className:"mb-0",style:{color:"#5a045a"},children:["Time Left ",function(e){const t=String(Math.floor(e/60)).padStart(2,"0"),n=String(e%60).padStart(2,"0");return"".concat(t,":").concat(n)}(k)]})})]})]})})},EB=()=>(0,Pa.jsx)(If.A,{options:{chart:{type:"line",height:350},stroke:{width:[3,3]},title:{text:"Sessions Booked vs Payments"},dataLabels:{enabled:!0,enabledOnSeries:[0]},labels:["June 1","June 2","June 3","June 4","June 5"],xaxis:{type:"category"},yaxis:[{title:{text:"Sessions Booked"}},{opposite:!0,title:{text:"Payments ($)"}}],tooltip:{shared:!0,intersect:!1}},series:[{name:"Sessions Booked",type:"line",data:[45,60,50,70,65]},{name:"Payments ($)",type:"line",data:[900,1100,1e3,1400,1300]}],type:"line",height:350}),SB={role:Rs.ROLE.SUPER_ADMIN},CB="admin/transactions",TB=()=>{const{t:e}=As(),t=ct(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)(""),[u]=(0,a.useState)(10),[h,p]=(0,a.useState)({}),[m,f]=(0,a.useState)(!0),[g,_]=(0,a.useState)(1),[v,b]=(0,a.useState)(!0),[y,x]=(0,a.useState)(!1),[w,E]=(0,a.useState)(""),[S,C]=(0,a.useState)({}),T=[{title:e("link_dashboard"),url:"/admin/dashboard"},{title:e("Transactions"),url:""}];(0,a.useEffect)(()=>{const e=setTimeout(()=>{if(S){b(!0);const e=new FormData;e.append("page",t.pgno),e.append("per_page",u),e.append("sort",JSON.stringify(h)),e.append("search",JSON.stringify(S)),e.append("global_search",w),(async e=>await oc(SB).post("".concat(CB,"/list"),e))(e).then(e=>{var t;d(e.data.total_records),s(e&&e.data&&e.data.list?null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list:[]),_(e&&e.data&&e.data.page?e.data.page:1),b(!1)}).catch(e=>{setTimeout(()=>{b(!1)},500),console.log("error ====> ",e)})}},300);return()=>clearTimeout(e)},[n,o,h,S,w,u,t.pgno]);const N=(e,t)=>{let n=Tn({},S);String(t).length>0?n[e]=t:delete n[e],C(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:T}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:e("Transactions  ")}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:w,placeholder:e("input_placeholder_search"),onChange:e=>{E(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{N("createdAt",e)},resetdate:y})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),E(""),N(),C({}),x(!y)},className:"btn btn-warning float-right mr-2",children:e("btn_reset_filter")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("list_heading_sno")})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{className:"sorting_column",children:(0,Pa.jsx)("span",{children:e("Customer")})})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{className:"rating_head",children:(0,Pa.jsx)("span",{children:"Amount"})})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{children:(0,Pa.jsx)("span",{children:"Transaction Id"})})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{className:" text-center",children:(0,Pa.jsx)("span",{children:"Payment Status"})})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{className:" text-center",children:(0,Pa.jsx)("span",{children:"Currency"})})}),(0,Pa.jsx)("th",{className:"created_head",children:(0,Pa.jsx)("div",{className:"sorting_column",children:(0,Pa.jsx)("span",{children:e("Created Date")})})}),(0,Pa.jsx)("th",{className:"action_head",children:e("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:v?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:10,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((n,r)=>{var a;return(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:n?(g-1)*u+r+1:null}),(0,Pa.jsx)("td",{children:null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.name}),(0,Pa.jsx)("td",{children:"\u20ac ".concat(null===n||void 0===n?void 0:n.amount)}),(0,Pa.jsx)("td",{className:" fw-bold",children:null===n||void 0===n?void 0:n.transaction_id}),(0,Pa.jsx)("td",{className:" text-center",children:(0,Pa.jsx)("span",{className:"badge ".concat("success"==(null===n||void 0===n?void 0:n.payment_status)?"bg-primary":"bg-danger"," fs-10"),children:null===n||void 0===n?void 0:n.payment_status})}),(0,Pa.jsx)("td",{className:" text-center",children:(0,Pa.jsx)("span",{className:"badge bg-primary fs-10",children:null===n||void 0===n?void 0:n.currency})}),(0,Pa.jsx)("td",{children:n.createdAt?Ha(n.createdAt):"N/A"}),(0,Pa.jsx)("td",{children:(0,Pa.jsx)("div",{className:"d-flex",children:(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{(e=>{i("/admin/subscription/transaction/".concat(t.pgno,"/view/").concat(e._id))})(n)},children:e("btn_view")})})})]},r)}):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:10,className:"text-center",children:e("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[e("msg_total_records")," : ",c||"0"]})}),c&&c>0?(0,Pa.jsx)(Uf,{datalength:c,itemperpage:u,currentPage:g,setPage:_,pageRoute:[{name:"Transaction",path:"/admin/subscription/transaction/list"}]}):""]})})})]})},NB={role:Rs.ROLE.SUPER_ADMIN},AB="admin/coupon",kB=async e=>await oc(NB).get("".concat(AB,"/details?o_id=").concat(e)),RB=async e=>await oc(NB).get("".concat(AB,"/get-all-coupons?").concat(e)),IB=()=>{const{t:e}=As(),t=ct(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)(""),[u]=(0,a.useState)(10),[h,p]=(0,a.useState)({}),[m,f]=(0,a.useState)(!0),[g,_]=(0,a.useState)(1),[v,b]=(0,a.useState)(!0),[y,x]=(0,a.useState)({}),[w,E]=(0,a.useState)(""),S=[{title:e("link_dashboard"),url:"/admin/dashboard"},{title:e("Coupons"),url:""}],[C,T]=(0,a.useState)(!1),N="true"===new URLSearchParams(n.search).get("dev"),[A,k]=(0,a.useState)(N);(0,a.useEffect)(()=>{k(N)},[N]),(0,a.useEffect)(()=>{const e=setTimeout(()=>{if(y){b(!0);const e=new FormData;e.append("page",t.pgno),e.append("per_page",u),e.append("sort",JSON.stringify(h)),e.append("search",JSON.stringify(y)),e.append("global_search",w),(async e=>await oc(NB).post("".concat(AB,"/list"),e))(e).then(e=>{d(e.data.total_records),s(e&&e.data&&e.data.list?e.data.list:[]),_(e&&e.data&&e.data.page?e.data.page:1),b(!1)}).catch(e=>{console.log("error ====> ",e)})}},300);return()=>clearTimeout(e)},[n,o,h,y,w,u,t.pgno]);const R=(t,n)=>{const i=new FormData;i.append("o_id",t),i.append("status",n),zr().fire({customClass:"swal-wide",title:e("Are you sure you want to ".concat(0===n?"deactivate":"activate"," this Plan ?")),icon:"warning",showCancelButton:!0,cancelButtonText:e("btn_cancel"),confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:e("btn_yes")}).then(e=>{e.isConfirmed&&(async e=>await oc(NB).patch("".concat(AB,"/change-status"),e))(i).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),l(!o)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error===>")})})},I=(e,t)=>{f(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,p(n)},O=(e,t)=>{let n=Tn({},y);String(t).length>0?n[e]=t:delete n[e],x(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:S}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:e("Coupons")}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:w,placeholder:e("input_placeholder_search"),onChange:e=>{E(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{O("createdAt",e)},resetdate:C})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(eR,{data:Rs.showFilterlist,prepareSearch:O})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),E(""),O(),x({}),T(!C)},className:"btn btn-warning float-right mr-2",children:e("btn_reset_filter")}),(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn mr-2",onClick:()=>i("/admin/coupon/add"),children:e("btn_add_new")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("list_heading_sno")})}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("Name")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:I,column:"name"})]})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Code")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Discount Type")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Discount")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Subscription Type")})}),(0,Pa.jsx)("th",{className:"created_head",children:(0,Pa.jsx)("div",{className:"sorting_column",children:(0,Pa.jsx)("span",{children:e("Start Date")})})}),(0,Pa.jsx)("th",{className:"created_head",children:(0,Pa.jsx)("div",{className:"sorting_column",children:(0,Pa.jsx)("span",{children:e("End Date")})})}),(0,Pa.jsx)("th",{className:"created_head",children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("list_heading_created_date")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:I,defaultSorting:m,column:"createdAt"})]})}),(0,Pa.jsx)("th",{className:"status_head",children:e("list_heading_status")}),(0,Pa.jsx)("th",{className:"action_head",children:e("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:v?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:14,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((t,n)=>(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:t?(g-1)*u+n+1:null}),(0,Pa.jsx)("td",{children:(null===t||void 0===t?void 0:t.name)||"N/A"}),(0,Pa.jsx)("td",{children:(null===t||void 0===t?void 0:t.code)||"N/A"}),(0,Pa.jsx)("td",{children:Rs.discountTypeObj[t.discount_type]||"N/A"}),(0,Pa.jsx)("td",{children:"flat_amount"==(null===t||void 0===t?void 0:t.discount_type)?null===t||void 0===t?void 0:t.flat_amount:"".concat(null===t||void 0===t?void 0:t.percentage," %")}),(0,Pa.jsx)("td",{children:Rs.subscriptionPlanTypeObj[t.plan_type]||"N/A"}),(0,Pa.jsx)("td",{children:t.start_date?Ha(t.start_date):"N/A"}),(0,Pa.jsx)("td",{children:t.end_date?Ha(t.end_date):"N/A"}),(0,Pa.jsx)("td",{children:t.createdAt?Ha(t.createdAt):"N/A"}),(0,Pa.jsx)("td",{children:1==t.status?(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{R(null===t||void 0===t?void 0:t._id,0)},children:e("btn_active")}):(0,Pa.jsx)("button",{className:"btn ripple btn-secondary",onClick:()=>{R(null===t||void 0===t?void 0:t._id,1)},children:e("btn_inactive")})}),(0,Pa.jsx)("td",{children:(0,Pa.jsxs)("div",{className:"d-flex",children:[(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{(e=>{i("/admin/coupon/view/".concat(e._id))})(t)},children:e("btn_view")}),(0,Pa.jsx)("button",{className:"btn ripple btn-success mlAction",onClick:()=>{(e=>{i("/admin/coupon/edit/".concat(e._id))})(t)},children:e("btn_edit")})]})})]},n)):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:14,className:"text-center",children:e("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[e("msg_total_records")," : ",c||"0"]})}),c&&c>0?(0,Pa.jsx)(Uf,{datalength:c,itemperpage:u,currentPage:g,setPage:_,pageRoute:[{name:"Psychic",path:"/admin/subscription/subscription-plan/list"}]}):""]})})})]})},OB=new Date;OB.setHours(0,0,0,0);const jB=()=>{const e=ot(),{t:t}=As(),[n,i]=(0,a.useState)(!1),r=[{title:t("link_dashboard"),url:"/admin/dashboard"},{title:t("Coupon"),url:"/admin/coupon/list/1"},{title:t("link_add"),url:""}],s=vf().shape({name:rf().trim().required("Coupon name is required"),code:rf().trim().required("Coupon code is required"),discount_type:rf().trim().required("Discount type is required"),plan_type:rf().trim().required("Plan type is required"),flat_amount:sf().typeError("Flat amount must be a number").when("discount_type",{is:"flat_amount",then:e=>e.required("Flat amount is required").min(0,"Flat amount cannot be less than 0").max(1e7,"Flat amount cannot exceed 10000000"),otherwise:e=>e.notRequired()}),percentage:sf().typeError("Percentage must be a number").when("discount_type",{is:"percentage",then:e=>e.required("Percentage is required").min(0,"Percentage cannot be less than 0").max(100,"Percentage cannot exceed 100"),otherwise:e=>e.notRequired()}),start_date:cf().required("Start date is required"),end_date:cf().required("End date is required"),uses_per_customer:rf().trim().required("Limit per customer is required")}),o=Ap({initialValues:{name:"",code:"",discount_type:"",flat_amount:"",percentage:"",plan_type:"",start_date:new Date,end_date:"",uses_per_customer:""},validateOnBlur:!1,validationSchema:s,onSubmit:(t,n)=>{let{setSubmitting:r,resetForm:a}=n;ls(!0),i(!0);let s=new FormData;s.append("name",t.name),s.append("code",t.code),s.append("discount_type",t.discount_type),s.append("flat_amount",t.flat_amount),s.append("percentage",t.percentage),s.append("plan_type",t.plan_type),s.append("coupon_code",t.coupon_code);const o=new Date(t.start_date);o.setHours(0,0,0,0),s.append("start_date",o);const l=new Date(t.end_date);l.setHours(23,59,59,999),s.append("end_date",l),s.append("uses_per_customer",t.uses_per_customer),(async e=>await oc(NB).post("".concat(AB,"/add"),e))(s).then(t=>{r(!1),t.success?(zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),ls(!1),a({values:""}),e("/admin/coupon/list/1")):(zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS)),ls(!1),i(!1))}).catch(e=>{console.log("error ====> ",e)})}});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:r}),(0,Pa.jsx)("form",{onSubmit:o.handleSubmit,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:t("Add Coupon")})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"name",className:"text-left d-flex",children:[t("Name"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"name",id:"name",type:"text",onChange:e=>{console.log(e.target.value),o.handleChange(e)},onBlur:o.handleBlur,value:o.values.name,className:"form-control",placeholder:t("Enter plan price")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"name",form:o})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"code",className:"text-left d-flex",children:[t("Code"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"code",id:"code",type:"text",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.code,className:"form-control",placeholder:t("Enter plan price")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"code",form:o})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"discount_type",className:"text-left d-flex",children:[t("Discount Type"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:"select-down-arrow",children:(0,Pa.jsxs)("select",{name:"discount_type",id:"discount_type",type:"text",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.discount_type,className:"form-control",placeholder:t("Select Discount Type"),children:[(0,Pa.jsx)("option",{value:"",children:"Select"}),Rs.discountType.map((e,n)=>(0,Pa.jsx)("option",{value:e.value,children:t("".concat(e.name))},n))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"discount_type",form:o})})]}),"flat_amount"==o.values.discount_type?(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"flat_amount",className:"text-left d-flex",children:[t("Flat Amount"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"flat_amount",id:"flat_amount",type:"number",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.flat_amount,className:"form-control",placeholder:t("Enter Flat Amount")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"flat_amount",form:o})})]}):(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"percentage",className:"text-left d-flex",children:[t("Percentage"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"percentage",id:"percentage",type:"number",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.percentage,className:"form-control",placeholder:t("Enter Percentage")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"percentage",form:o})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"plan_type",className:"text-left d-flex",children:[t("Subscription Type"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:"select-down-arrow",children:(0,Pa.jsxs)("select",{name:"plan_type",id:"plan_type",type:"text",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.plan_type,className:"form-control",placeholder:t("Select Subscription Type"),children:[(0,Pa.jsx)("option",{value:"",children:"Select"}),Rs.subscriptionPlanType.map((e,n)=>(0,Pa.jsx)("option",{value:e.value,children:t("".concat(e.name))},n))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"plan_type",form:o})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"start_date",className:"text-left d-flex",children:[t("Start Date"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)(fj,{oneTap:!0,classPrefix:"userInput",placeholder:t("Start Date"),placement:"autoVertical",format:"dd/MM/yyyy",cleanable:!1,editable:!1,name:"start_date",shouldDisableDate:e=>e<OB,onChange:e=>o.setFieldValue("start_date",e),value:o.values.start_date,onBlur:o.handleBlur}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"start_date",form:o})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"end_date",className:"text-left d-flex",children:[t("End Date"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)(fj,{oneTap:!0,classPrefix:"userInput",placeholder:t("End Date"),placement:"autoVertical",format:"dd/MM/yyyy",cleanable:!1,editable:!1,name:"end_date",shouldDisableDate:e=>e<OB,onChange:e=>o.setFieldValue("end_date",e),value:o.values.end_date,onBlur:o.handleBlur}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"end_date",form:o})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"uses_per_customer",className:"text-left d-flex",children:[t("Limit Per Customer"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"uses_per_customer",id:"uses_per_customer",type:"number",onChange:o.handleChange,onBlur:o.handleBlur,value:o.values.uses_per_customer,className:"form-control",placeholder:t("Enter Limit per Customer")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"uses_per_customer",form:o})})]}),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{className:"btn btn-info mr-2",type:"submit",disabled:!!n||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),t("btn_submit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",disabled:!!n||null,onClick:()=>e(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),t("btn_cancel")]})]})]})]})})})})})]})},PB=new Date;PB.setHours(0,0,0,0);const DB=()=>{const e=ot(),{t:t}=As(),n=ct(),[i,r]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),d=[{title:t("link_dashboard"),url:"/admin/dashboard"},{title:t("Coupon"),url:"/admin/coupon/list/1"},{title:t("Edit"),url:""}],u=vf().shape({name:rf().trim().required("Coupon name is required"),code:rf().trim().required("Coupon code is required"),discount_type:rf().trim().required("Discount type is required"),plan_type:rf().trim().required("Plan type is required"),flat_amount:sf().typeError("Flat amount must be a number").when("discount_type",{is:"flat_amount",then:e=>e.required("Flat amount is required").min(0,"Flat amount cannot be less than 0").max(1e7,"Flat amount cannot exceed 10000000"),otherwise:e=>e.notRequired()}),percentage:sf().typeError("Percentage must be a number").when("discount_type",{is:"percentage",then:e=>e.required("Percentage is required").min(0,"Percentage cannot be less than 0").max(100,"Percentage cannot exceed 100"),otherwise:e=>e.notRequired()}),start_date:cf().required("Start date is required"),end_date:cf().required("End date is required"),uses_per_customer:rf().trim().required("Limit per customer is required")});(0,a.useEffect)(()=>{c(!0),kB(n.id).then(e=>{o(e&&e.data?e.data:[]),setTimeout(()=>{c(!1)},300)}).catch(e=>{console.log("error=====>",e),setTimeout(()=>{c(!1)},200)})},[n.id]);const h=Ap({enableReinitialize:!0,initialValues:{name:(null===s||void 0===s?void 0:s.name)||"",code:(null===s||void 0===s?void 0:s.code)||"",discount_type:(null===s||void 0===s?void 0:s.discount_type)||"",flat_amount:(null===s||void 0===s?void 0:s.flat_amount)||"",percentage:(null===s||void 0===s?void 0:s.percentage)||"",plan_type:(null===s||void 0===s?void 0:s.plan_type)||"",start_date:null!==s&&void 0!==s&&s.start_date?new Date(null===s||void 0===s?void 0:s.start_date):"",end_date:null!==s&&void 0!==s&&s.end_date?new Date(null===s||void 0===s?void 0:s.end_date):"",uses_per_customer:(null===s||void 0===s?void 0:s.uses_per_customer)||""},validateOnBlur:!1,validationSchema:u,onSubmit:(t,i)=>{let{setSubmitting:a,resetForm:s}=i;ls(!0),r(!0);let o=new FormData;o.append("o_id",null===n||void 0===n?void 0:n.id),o.append("name",t.name),o.append("code",t.code),o.append("discount_type",t.discount_type),o.append("flat_amount",t.flat_amount),o.append("percentage",t.percentage),o.append("plan_type",t.plan_type);const l=new Date(t.start_date);l.setHours(0,0,0,0),o.append("start_date",l);const c=new Date(t.end_date);c.setHours(23,59,59,999),o.append("end_date",c),o.append("uses_per_customer",t.uses_per_customer),(async e=>await oc(NB).put("".concat(AB,"/edit"),e))(o).then(t=>{a(!1),t.success?(zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),ls(!1),s({values:""}),e("/admin/coupon/list/1")):(zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS)),ls(!1),r(!1))}).catch(e=>{console.log("error ====> ",e)})}});return console.log("value--\x3e",h.values),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:d}),(0,Pa.jsx)("form",{onSubmit:h.handleSubmit,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:t("Edit Subscription Plan")})}),l?(0,Pa.jsx)(Bf,{}):(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"name",className:"text-left d-flex",children:[t("Name"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"name",id:"name",type:"text",onChange:e=>{console.log(e.target.value),h.handleChange(e)},onBlur:h.handleBlur,value:h.values.name,className:"form-control",placeholder:t("Enter plan price")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"name",form:h})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"code",className:"text-left d-flex",children:[t("Code"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"code",id:"code",type:"text",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.code,className:"form-control",placeholder:t("Enter plan price")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"code",form:h})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"discount_type",className:"text-left d-flex",children:[t("Discount Type"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:"select-down-arrow",children:(0,Pa.jsxs)("select",{name:"discount_type",id:"discount_type",type:"text",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.discount_type,className:"form-control",placeholder:t("Select Discount Type"),children:[(0,Pa.jsx)("option",{value:"",children:"Select"}),Rs.discountType.map((e,n)=>(0,Pa.jsx)("option",{value:e.value,children:t("".concat(e.name))},n))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"discount_type",form:h})})]}),"flat_amount"==h.values.discount_type?(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"flat_amount",className:"text-left d-flex",children:[t("Flat Amount"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"flat_amount",id:"flat_amount",type:"number",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.flat_amount,className:"form-control",placeholder:t("Enter Flat Amount")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"flat_amount",form:h})})]}):(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"percentage",className:"text-left d-flex",children:[t("Percentage"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"percentage",id:"percentage",type:"number",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.percentage,className:"form-control",placeholder:t("Enter Percentage")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"percentage",form:h})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"plan_type",className:"text-left d-flex",children:[t("Subscription Type"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:"select-down-arrow",children:(0,Pa.jsxs)("select",{name:"plan_type",id:"plan_type",type:"text",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.plan_type,className:"form-control",placeholder:t("Select Subscription Type"),children:[(0,Pa.jsx)("option",{value:"",children:"Select"}),Rs.subscriptionPlanType.map((e,n)=>(0,Pa.jsx)("option",{value:e.value,children:t("".concat(e.name))},n))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"plan_type",form:h})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"start_date",className:"text-left d-flex",children:[t("Start Date"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)(fj,{oneTap:!0,classPrefix:"userInput",placeholder:t("Start Date"),placement:"autoVertical",format:"dd/MM/yyyy",cleanable:!1,editable:!1,name:"start_date",shouldDisableDate:e=>e<PB,onChange:e=>{console.log(e),h.setFieldValue("start_date",e)},value:h.values.start_date,onBlur:h.handleBlur}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"start_date",form:h})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"end_date",className:"text-left d-flex",children:[t("End Date"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)(fj,{oneTap:!0,classPrefix:"userInput",placeholder:t("End Date"),placement:"autoVertical",format:"dd/MM/yyyy",cleanable:!1,editable:!1,name:"end_date",shouldDisableDate:e=>e<PB,onChange:e=>h.setFieldValue("end_date",e),value:h.values.end_date,onBlur:h.handleBlur}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"end_date",form:h})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"uses_per_customer",className:"text-left d-flex",children:[t("Limit Per Customer"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"uses_per_customer",id:"uses_per_customer",type:"number",onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.uses_per_customer,className:"form-control",placeholder:t("Enter Limit per Customer")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"uses_per_customer",form:h})})]}),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{className:"btn btn-info mr-2",type:"submit",disabled:!!i||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),t("btn_submit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",disabled:!!i||null,onClick:()=>e(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),t("btn_cancel")]})]})]})]})})})})})]})},LB=e=>{const t=ot(),{t:n}=As(),i=ct(),[r,s]=(0,a.useState)({}),o=[{title:n("link_dashboard"),url:"/admin/dashboard"},{title:n("Coupons"),url:"/admin/coupon/list/1"},{title:n("View"),url:""}];return(0,a.useEffect)(()=>{kB(i.id).then(e=>{s(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[i.id]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:o}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsxs)("div",{className:"card custom-card",children:[(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:n("View Coupon")})}),r&&Object.keys(r).length>0?(0,Pa.jsx)("div",{className:"row",children:(0,Pa.jsx)("div",{className:"col-lg-12 form-group",children:(0,Pa.jsx)("table",{id:"simple-table",className:"table  table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Name")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:(null===r||void 0===r?void 0:r.name)||"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Code")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&r.code?r.code:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Discount Type")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&r.discount_type?Rs.discountTypeObj[r.discount_type]:"N/A"})]}),"flat_amount"==r.discount_type?(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Flat Amount")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&r.flat_amount?r.flat_amount:"N/A"})]}):(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Percentage")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&r.percentage?r.percentage:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Subscription Type")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&r.plan_type?Rs.subscriptionPlanTypeObj[r.plan_type]:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("Start Date")}),(0,Pa.jsx)("td",{children:r&&r.start_date?Wa(r.start_date):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("End Date")}),(0,Pa.jsx)("td",{children:r&&r.end_date?Wa(r.end_date):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:n("list_heading_created_date")}),(0,Pa.jsx)("td",{children:r&&r.createdAt?Wa(r.createdAt):"N/A"})]})]})})})}):(0,Pa.jsx)(Bf,{})]}),(0,Pa.jsx)("div",{className:"ml-4 back-button mx-0",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>t("/admin/coupon/list/1"),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),n("btn_back")]})})]})})})]})},MB=new Date;MB.setHours(0,0,0,0);const UB=["places"],FB=e=>{var t;const n=ot(),{t:i}=As(),[r,s]=(0,a.useState)(!1),[o,l]=(0,a.useState)(""),c=[{title:i("link_dashboard"),url:"/admin/dashboard"},{title:i("Users"),url:"/admin/user-management/user/list/1"},{title:i("link_add"),url:""}],d=vf().shape({first_name:rf().trim().max(100,"max_length_error").required("First name is required"),last_name:rf().trim().max(100,"max_length_error").required("Last name is required"),email:lR,phone_number:aR,gender:rf().trim().required("Gender is required"),city:rf().trim().required("City is required"),state:rf().trim().required("State is required"),country:rf().trim().required("Country is required"),place_of_birth:rf().trim().max(Rs.TEXTAREA_MAX_LENGTH,i("validation_max_input_characters")).required("Place of Birth is required"),date_of_birth:cf().required("Date of Birth is required"),profile_image:Gm().required(i("image_required_error")).nullable().test("fileType",i("supported_file_error"),e=>!e||["image/jpg","image/jpeg","image/png","image/webp","image/gif"].includes(e.type)).test("fileSize",i("image_max_size_error"),e=>!e||e.size<=1572864)}),u=Ap({enableReinitialize:!0,initialValues:{first_name:"",last_name:"",email:"",phone_number:"",gender:"",city:"",state:"",country:"",place_of_birth:"",date_of_birth:"",time_of_birth:"",profile_image:""},validateOnBlur:!1,validationSchema:d,onSubmit:(e,t)=>{let{setSubmitting:i,resetForm:r}=t;ls(!0),s(!0);let a=new FormData;a.append("first_name",e.first_name),a.append("last_name",e.last_name),a.append("email",e.email),a.append("phone_number",e.phone_number),a.append("gender",e.gender),a.append("city",e.city),a.append("state",e.state),a.append("country",e.country),a.append("place_of_birth",e.place_of_birth),a.append("latitude",e.latitude),a.append("longitude",e.longitude);const o=new Date(e.date_of_birth);o.setHours(0,0,0,0);const l=o.toISOString();a.append("date_of_birth",l),a.append("time_of_birth",e.time_of_birth),a.append("profile_image",e.profile_image),(async e=>await oc($p).post("".concat(em,"/add"),e))(a).then(e=>{i(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),ls(!1),r({values:""}),n("/admin/user-management/user/list/1")):(zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),ls(!1),s(!1))}).catch(e=>{console.log("error ====> ",e),zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))})}}),{isLoaded:h,loadError:p}=dL({googleMapsApiKey:"AIzaSyCzswsrcUqy7yWKYatYL1NQHB162w6se8I",libraries:UB}),m=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(h&&window.google&&m.current){const e=new window.google.maps.places.Autocomplete(m.current,{types:["geocode"]});e.addListener("place_changed",()=>{const t=e.getPlace();if(t&&t.geometry){const e=t.geometry.location.lat(),n=t.geometry.location.lng();console.log(t),u.setFieldValue("place_of_birth",t.formatted_address),u.setFieldValue("latitude",e),u.setFieldValue("longitude",n),u.setFieldValue("city",""),u.setFieldValue("state",""),u.setFieldValue("country","");const i=(new Date).getTime()/1e3,r="https://maps.googleapis.com/maps/api/timezone/json?location=".concat(e,",").concat(n,"&timestamp=").concat(i,"&key=").concat("AIzaSyCzswsrcUqy7yWKYatYL1NQHB162w6se8I");fetch(r).then(e=>e.json()).then(e=>{if("OK"===e.status){const t=e.timeZoneId;u.setFieldValue("timezone",ps(t)),console.log("Timezone:",ps(t)),console.log("data time zone====----\x3e:",e)}else console.error("Error fetching timezone:",e)}).catch(e=>{console.error("Error:",e)})}})}},[h]),p?(0,Pa.jsx)("div",{children:"Failed to load Google Maps API"}):(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:c}),(0,Pa.jsx)("form",{onSubmit:u.handleSubmit,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:i("Add User")})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"first_name",className:"text-left d-flex",children:[i("First Name"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"first_name",id:"first_name",type:"text",onChange:u.handleChange,onBlur:u.handleBlur,value:u.values.first_name,className:"form-control",placeholder:i("Enter first name")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{shortCodes:[Rs.INPUT_LENGTH_15],name:"first_name",form:u})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"last_name",className:"text-left d-flex",children:[i("Last Name"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"last_name",id:"last_name",type:"text",onChange:u.handleChange,onBlur:u.handleBlur,value:u.values.last_name,className:"form-control",placeholder:i("Enter last name")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{shortCodes:[Rs.INPUT_LENGTH_15],name:"last_name",form:u})})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"email",className:"text-left d-flex",children:[i("label_email"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"email",id:"email",type:"email",onChange:u.handleChange,onBlur:u.handleBlur,value:u.values.email,className:"form-control",placeholder:i("placeholder_email")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"email",form:u})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{className:"text-left d-flex",htmlFor:"phone_number",children:[i("label_phone_number"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)(QP,{name:"phone_number",id:"phone_number",onChange:e=>{u.setFieldValue("phone_number",null===e||void 0===e?void 0:e.phone_number)},onBlur:u.handleBlur,value:u.values.phone_number,className:"form-control",placeholder:i("placeholder_phone_number")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"phone_number",form:u,shortCodes:{PHONE_MIN_LENGTH:Rs.PHONE_NO_LENGTH.min,PHONE_MAX_LENGTH:Rs.PHONE_NO_LENGTH.max}})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"gender",className:"text-left d-flex",children:[i("Gender"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsxs)("div",{className:" select-down-arrow",children:[(0,Pa.jsxs)("select",{name:"gender",id:"gender",onChange:u.handleChange,onBlur:u.handleBlur,value:u.values.gender,className:"form-control",children:[(0,Pa.jsx)("option",{value:"",children:"Select gender"},""),Rs.GENDER.map((e,t)=>(0,Pa.jsx)("option",{value:e,children:i("".concat(e))},t))]}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"gender",form:u})})]})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"date_of_birth",className:"text-left d-flex",children:["Date of Birth:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)(fj,{oneTap:!0,classPrefix:"userInput",placeholder:"Enter Date of Birth",placement:"autoVertical",format:"dd/MM/yyyy",cleanable:!1,editable:!1,name:"date_of_birth",shouldDisableDate:e=>e<MB,onChange:e=>u.setFieldValue("date_of_birth",e),value:u.values.date_of_birth,onBlur:u.handleBlur}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"date_of_birth",form:u})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsx)("label",{htmlFor:"time_of_birth",className:"text-left d-flex",children:"Time of Birth:"}),(0,Pa.jsx)(LD,{name:"time_of_birth",value:null!==(t=u.values)&&void 0!==t&&t.time_of_birth?new Date("2024-01-01T".concat(u.values.time_of_birth,":00")):null,onChange:e=>{const t=e?qF(e,"HH:mm"):"";u.setFieldValue("time_of_birth",t)},onBlur:u.handleBlur,format:"HH:mm",placeholder:"Enter Time of Birth",editable:!1,showNow:!1})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"place_of_birth",className:"text-left d-flex",children:["Place of Birth:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"place_of_birth",id:"place_of_birth",type:"text",ref:m,autoComplete:"off",onChange:u.handleChange,onBlur:u.handleBlur,value:u.values.place_of_birth,className:"form-control",placeholder:i("placeholder_address")}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{shortCodes:["TEXTAREA_MAX_LENGTH"],name:"place_of_birth",form:u})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"city",className:"text-left d-flex",children:[i("City"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"city",id:"city",type:"text",onChange:u.handleChange,onBlur:u.handleBlur,value:u.values.city,className:"form-control",placeholder:i("Enter city"),disabled:!0}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"city",form:u})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"state",className:"text-left d-flex",children:[i("State"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"state",id:"state",type:"text",onChange:u.handleChange,onBlur:u.handleBlur,value:u.values.state,className:"form-control",placeholder:i("Enter state"),disabled:!0}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"state",form:u})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"country",className:"text-left d-flex",children:[i("Country"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"country",id:"country",type:"text",onChange:u.handleChange,onBlur:u.handleBlur,value:u.values.country,className:"form-control",placeholder:i("Enter country"),disabled:!0}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"country",form:u})})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"profile_image",className:"text-left d-flex",children:["Profile Image:"," ",(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:i("image_support_tooltip")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{className:"form-control imgInput",id:"profile_image",name:"profile_image",accept:"image/*",type:"file",onChange:e=>{u.setFieldValue("profile_image",e.target.files[0]||""),1===e.target.files.length?l(URL.createObjectURL(e.target.files[0])):l("")}}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"profile_image",form:u})}),o?(0,Pa.jsx)("ul",{className:"question-image-preview questions-ul",children:(0,Pa.jsxs)("li",{className:"pr_img_box",children:[(0,Pa.jsx)("img",{src:o,style:{height:"100px"},alt:"Profile_Img"}),(0,Pa.jsx)("div",{className:"img_options",children:(0,Pa.jsx)("button",{type:"button",className:"text-danger",onClick:()=>{l(""),u.setFieldValue("profile_image",null),document.getElementById("profile_image").value=""},children:(0,Pa.jsx)("i",{className:"ri-delete-bin-6-fill"})})})]})}):""]}),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{className:"btn btn-info mr-2",type:"submit",disabled:!!r||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),i("btn_submit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",disabled:!!r||null,onClick:()=>n(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),i("btn_cancel")]})]})]})]})})})})})]})},BB=()=>{const{t:e}=As(),t=ct(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)(""),[u]=(0,a.useState)(10),[h,p]=(0,a.useState)({}),[m,f]=(0,a.useState)(!0),[g,_]=(0,a.useState)(1),[v,b]=(0,a.useState)(!0),[y,x]=(0,a.useState)({}),[w,E]=(0,a.useState)(""),S=[{title:e("link_dashboard"),url:"/admin/dashboard"},{title:e("Subscription History"),url:""}],[C,T]=(0,a.useState)(!1),N="true"===new URLSearchParams(n.search).get("dev"),[A,k]=(0,a.useState)(N);(0,a.useEffect)(()=>{k(N)},[N]),(0,a.useEffect)(()=>{const e=setTimeout(()=>{if(y){b(!0);const e=new FormData;e.append("page",t.pgno),e.append("per_page",u),e.append("sort",JSON.stringify(h)),e.append("search",JSON.stringify(y)),e.append("global_search",w),ID(e).then(e=>{d(e.data.total_records),s(e&&e.data&&e.data.list?e.data.list:[]),_(e&&e.data&&e.data.page?e.data.page:1),b(!1)}).catch(e=>{b(!1),console.log("error ====> ",e)})}},300);return()=>clearTimeout(e)},[n,o,h,y,w,u,t.pgno]);const R=(e,t)=>{let n=Tn({},y);String(t).length>0?n[e]=t:delete n[e],x(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:S}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:e("Subscription History")}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:w,placeholder:e("input_placeholder_search"),onChange:e=>{E(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{R("createdAt",e)},resetdate:C})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),E(""),R(),x({}),T(!C)},className:"btn btn-warning float-right mr-2",children:e("btn_reset_filter")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("list_heading_sno")})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{className:"",children:(0,Pa.jsx)("span",{children:e("Plan")})})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Plan Type")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Plan price")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Balance Count")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Customer")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Transaction Id")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Amount")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Coupon Code")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Discount")})}),(0,Pa.jsx)("th",{className:"created_head",children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("list_heading_created_date")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:(e,t)=>{f(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,p(n)},defaultSorting:m,column:"createdAt"})]})}),(0,Pa.jsx)("th",{className:"action_head",children:e("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:v?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:14,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((n,r)=>{var a,s,o,l,c;return(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:n?(g-1)*u+r+1:null}),(0,Pa.jsx)("td",{children:(null===n||void 0===n?void 0:n.plan_name)||"N/A"}),(0,Pa.jsx)("td",{children:(null===n||void 0===n?void 0:n.plan_type)||"N/A"}),(0,Pa.jsx)("td",{children:(null===n||void 0===n?void 0:n.plan_price)||"N/A"}),(0,Pa.jsx)("td",{children:(null===n||void 0===n?void 0:n.balance_count)||"N/A"}),(0,Pa.jsx)("td",{children:(null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.name)||"N/A"}),(0,Pa.jsx)("td",{children:(null===n||void 0===n||null===(s=n.transaction)||void 0===s?void 0:s.transaction_id)||"N/A"}),(0,Pa.jsx)("td",{children:(null===n||void 0===n||null===(o=n.transaction)||void 0===o?void 0:o.amount)||"N/A"}),(0,Pa.jsx)("td",{children:(null===n||void 0===n||null===(l=n.coupon_history)||void 0===l?void 0:l.coupon_code)||"N/A"}),(0,Pa.jsx)("td",{children:(null===n||void 0===n||null===(c=n.coupon_history)||void 0===c?void 0:c.discounted_amount)||"N/A"}),(0,Pa.jsx)("td",{children:n.createdAt?Ha(n.createdAt):"N/A"}),(0,Pa.jsx)("td",{children:(0,Pa.jsx)("div",{className:"d-flex",children:(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{(e=>{i("/admin/subscription/history/".concat(t.pgno,"/view/").concat(e._id))})(n)},children:e("btn_view")})})})]},r)}):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:14,className:"text-center",children:e("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[e("msg_total_records")," : ",c||"0"]})}),c&&c>0?(0,Pa.jsx)(Uf,{datalength:c,itemperpage:u,currentPage:g,setPage:_,pageRoute:[{name:"Psychic",path:"/admin/subscription/history/list"}]}):""]})})})]})},VB=e=>{var t,n,i,r,s,o,l,c,d,u,h,p,m,f,g,_,v,b,y,x,w;const E=ot(),{t:S}=As(),C=ct(),[T,N]=(0,a.useState)({}),A=[{title:S("link_dashboard"),url:"/admin/dashboard"},{title:S("Subscription Plan"),url:"/admin/subscription/subscription-plan/list/1"},{title:S("View Subscription History"),url:""}];return(0,a.useEffect)(()=>{OD(C.id).then(e=>{N(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[C.id]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:A}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsxs)("div",{className:"card custom-card",children:[(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:S("View Subscription Plan")})}),T&&Object.keys(T).length>0?(0,Pa.jsx)("div",{className:"row",children:(0,Pa.jsx)("div",{className:"col-lg-12 form-group",children:(0,Pa.jsx)("table",{id:"simple-table",className:"table  table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Plan name")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:(null===T||void 0===T?void 0:T.plan_name)||"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Plan Type")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&T.plan_type?T.plan_type:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Plan price")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&T.plan_price?T.plan_price:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Balance Count")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&T.balance_count?T.balance_count:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("User")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(t=T.user)&&void 0!==t&&t.name?T.user.name:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Phone")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(n=T.user)&&void 0!==n&&n.phone_number?null===T||void 0===T||null===(i=T.user)||void 0===i?void 0:i.phone_number:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Email")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(r=T.user)&&void 0!==r&&r.email?null===T||void 0===T||null===(s=T.user)||void 0===s?void 0:s.email:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Country")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(o=T.user)&&void 0!==o&&o.country?null===T||void 0===T||null===(l=T.user)||void 0===l?void 0:l.country:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Transaction Id")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(c=T.transaction)&&void 0!==c&&c.transaction_id?null===T||void 0===T||null===(d=T.transaction)||void 0===d?void 0:d.transaction_id:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Amount")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(u=T.transaction)&&void 0!==u&&u.amount?null===T||void 0===T||null===(h=T.transaction)||void 0===h?void 0:h.amount:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Payment Status")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(p=T.transaction)&&void 0!==p&&p.payment_status?null===T||void 0===T||null===(m=T.transaction)||void 0===m?void 0:m.payment_status:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Currency")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(f=T.transaction)&&void 0!==f&&f.currency?null===T||void 0===T||null===(g=T.transaction)||void 0===g?void 0:g.currency:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Coupon Code")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(_=T.coupon_history)&&void 0!==_&&_.coupon_code?null===T||void 0===T||null===(v=T.coupon_history)||void 0===v?void 0:v.coupon_code:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Coupon Type")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(b=T.coupon_history)&&void 0!==b&&b.discount_type?null===T||void 0===T||null===(y=T.coupon_history)||void 0===y?void 0:y.discount_type:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Discount Applied")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(x=T.coupon_history)&&void 0!==x&&x.discounted_amount?null===T||void 0===T||null===(w=T.coupon_history)||void 0===w?void 0:w.discounted_amount:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("list_heading_created_date")}),(0,Pa.jsx)("td",{children:T&&T.createdAt?Wa(T.createdAt):"N/A"})]})]})})})}):(0,Pa.jsx)(Bf,{})]}),(0,Pa.jsx)("div",{className:"ml-4 back-button mx-0",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>E("/admin/subscription/history/list/1"),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),S("btn_back")]})})]})})})]})},zB=e=>{var t,n,i,r,s,o,l,c,d,u,h,p,m,f,g,_,v,b,y,x,w,E,S,C;const{t:T}=As(),N=ot(),A=ct(),[k,R]=(0,a.useState)({}),I=[{title:T("link_dashboard"),url:"/admin/dashboard"},{title:T("Transactions"),url:"/admin/subscription/transaction/list/".concat(A.pgno)},{title:T("btn_view"),url:""}];return(0,a.useEffect)(()=>{(async e=>await oc(SB).get("".concat(CB,"/details?o_id=").concat(e)))(A.id).then(e=>{R(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[A.id]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:I}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsxs)("div",{className:"card custom-card",children:[(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:T("contact-us.view_contact_us")})}),k&&Object.keys(k).length>0?(0,Pa.jsx)("div",{className:"row",children:(0,Pa.jsx)("div",{className:"col-lg-12 form-group",children:(0,Pa.jsx)("table",{id:"simple-table",className:"table  table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:T("Transaction Id")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:k&&null!==k&&void 0!==k&&k.transaction_id?null===k||void 0===k?void 0:k.transaction_id:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:T("Amount")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:k&&null!==k&&void 0!==k&&k.amount?null===k||void 0===k?void 0:k.amount:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:T("Payment Status")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:k&&null!==k&&void 0!==k&&k.payment_status?null===k||void 0===k?void 0:k.payment_status:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:T("Currency")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:k&&null!==k&&void 0!==k&&k.currency?null===k||void 0===k?void 0:k.currency:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:T("Customer")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:k&&null!==k&&void 0!==k&&null!==(t=k.user)&&void 0!==t&&t.name?null===k||void 0===k||null===(n=k.user)||void 0===n?void 0:n.name:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:T("Phone")}),(0,Pa.jsx)("td",{children:k&&null!==k&&void 0!==k&&null!==(i=k.user)&&void 0!==i&&i.phone_number?null===k||void 0===k||null===(r=k.user)||void 0===r?void 0:r.phone_number:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:T("Email")}),(0,Pa.jsx)("td",{children:k&&null!==k&&void 0!==k&&null!==(s=k.user)&&void 0!==s&&s.email?null===k||void 0===k||null===(o=k.user)||void 0===o?void 0:o.email:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:T("Country")}),(0,Pa.jsx)("td",{children:k&&null!==k&&void 0!==k&&null!==(l=k.user)&&void 0!==l&&l.country?null===k||void 0===k||null===(c=k.user)||void 0===c?void 0:c.country:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:T("Plan Name")}),(0,Pa.jsx)("td",{children:k&&null!==k&&void 0!==k&&null!==(d=k.subscription_history)&&void 0!==d&&d.plan_name?null===k||void 0===k||null===(u=k.subscription_history)||void 0===u?void 0:u.plan_name:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:T("Plan Type")}),(0,Pa.jsx)("td",{children:k&&null!==k&&void 0!==k&&null!==(h=k.subscription_history)&&void 0!==h&&h.plan_type?null===k||void 0===k||null===(p=k.subscription_history)||void 0===p?void 0:p.plan_type:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:T("Balance Count")}),(0,Pa.jsx)("td",{children:k&&null!==k&&void 0!==k&&null!==(m=k.subscription_history)&&void 0!==m&&m.balance_count?null===k||void 0===k||null===(f=k.subscription_history)||void 0===f?void 0:f.balance_count:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:T("Plan Price")}),(0,Pa.jsx)("td",{children:k&&null!==k&&void 0!==k&&null!==(g=k.subscription_history)&&void 0!==g&&g.plan_price?null===k||void 0===k||null===(_=k.subscription_history)||void 0===_?void 0:_.plan_price:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:T("Coupon Name")}),(0,Pa.jsx)("td",{children:k&&null!==k&&void 0!==k&&null!==(v=k.coupon_history)&&void 0!==v&&v.coupon_name?null===k||void 0===k||null===(b=k.coupon_history)||void 0===b?void 0:b.coupon_name:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:T("Coupon Code")}),(0,Pa.jsx)("td",{children:k&&null!==k&&void 0!==k&&null!==(y=k.coupon_history)&&void 0!==y&&y.coupon_code?null===k||void 0===k||null===(x=k.coupon_history)||void 0===x?void 0:x.coupon_code:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:T("Coupon Type")}),(0,Pa.jsx)("td",{children:k&&null!==k&&void 0!==k&&null!==(w=k.coupon_history)&&void 0!==w&&w.coupon_type?null===k||void 0===k||null===(E=k.coupon_history)||void 0===E?void 0:E.coupon_type:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:T("Discount")}),(0,Pa.jsx)("td",{children:k&&null!==k&&void 0!==k&&null!==(S=k.coupon_history)&&void 0!==S&&S.discounted_amount?null===k||void 0===k||null===(C=k.coupon_history)||void 0===C?void 0:C.discounted_amount:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:"Subject"}),(0,Pa.jsx)("td",{children:k&&k.subject?k.subject:"N/A"})]})]})})})}):(0,Pa.jsx)(Bf,{})]}),(0,Pa.jsx)("div",{className:"mt-2 back-button",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>N("/admin/subscription/transaction/list/".concat(A.pgno)),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),T("btn_back")]})})]})})})]})},HB=()=>{const{t:e}=As(),t=ct(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)(""),[u]=(0,a.useState)(10),[h,p]=(0,a.useState)({}),[m,f]=(0,a.useState)(!0),[g,_]=(0,a.useState)(1),[v,b]=(0,a.useState)(!0),[y,x]=(0,a.useState)({}),[w,E]=(0,a.useState)(""),S=[{title:e("link_dashboard"),url:"/admin/dashboard"},{title:e("User"),url:"/admin/user-management/user/list/".concat(t.userListPgno)},{title:e("Subscription History"),url:""}],[C,T]=(0,a.useState)(!1),N="true"===new URLSearchParams(n.search).get("dev"),[A,k]=(0,a.useState)(N);(0,a.useEffect)(()=>{k(N)},[N]),(0,a.useEffect)(()=>{const e=setTimeout(()=>{if(y){b(!0);const e=new FormData;e.append("user_id",t.id),e.append("page",t.pgno),e.append("per_page",u),e.append("sort",JSON.stringify(h)),e.append("search",JSON.stringify(y)),e.append("global_search",w),ID(e).then(e=>{d(e.data.total_records),s(e&&e.data&&e.data.list?e.data.list:[]),_(e&&e.data&&e.data.page?e.data.page:1),b(!1)}).catch(e=>{b(!1),console.log("error ====> ",e)})}},300);return()=>clearTimeout(e)},[n,o,h,y,w,u,t.pgno]);const R=(e,t)=>{let n=Tn({},y);String(t).length>0?n[e]=t:delete n[e],x(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:S}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:e("Subscription History")}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:w,placeholder:e("input_placeholder_search"),onChange:e=>{E(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{R("createdAt",e)},resetdate:C})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),E(""),R(),x({}),T(!C)},className:"btn btn-warning float-right mr-2",children:e("btn_reset_filter")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("list_heading_sno")})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{className:"",children:(0,Pa.jsx)("span",{children:e("Plan")})})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Plan Type")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Plan price")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Balance Count")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Customer")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Transaction Id")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Amount")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Coupon Code")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Discount")})}),(0,Pa.jsx)("th",{className:"created_head",children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("list_heading_created_date")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:(e,t)=>{f(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,p(n)},defaultSorting:m,column:"createdAt"})]})}),(0,Pa.jsx)("th",{className:"action_head",children:e("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:v?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:14,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((n,r)=>{var a,s,o,l,c;return(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:n?(g-1)*u+r+1:null}),(0,Pa.jsx)("td",{children:(null===n||void 0===n?void 0:n.plan_name)||"N/A"}),(0,Pa.jsx)("td",{children:(null===n||void 0===n?void 0:n.plan_type)||"N/A"}),(0,Pa.jsx)("td",{children:(null===n||void 0===n?void 0:n.plan_price)||"N/A"}),(0,Pa.jsx)("td",{children:(null===n||void 0===n?void 0:n.balance_count)||"N/A"}),(0,Pa.jsx)("td",{children:(null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.name)||"N/A"}),(0,Pa.jsx)("td",{children:(null===n||void 0===n||null===(s=n.transaction)||void 0===s?void 0:s.transaction_id)||"N/A"}),(0,Pa.jsx)("td",{children:(null===n||void 0===n||null===(o=n.transaction)||void 0===o?void 0:o.amount)||"N/A"}),(0,Pa.jsx)("td",{children:(null===n||void 0===n||null===(l=n.coupon_history)||void 0===l?void 0:l.coupon_code)||"N/A"}),(0,Pa.jsx)("td",{children:(null===n||void 0===n||null===(c=n.coupon_history)||void 0===c?void 0:c.discounted_amount)||"N/A"}),(0,Pa.jsx)("td",{children:n.createdAt?Ha(n.createdAt):"N/A"}),(0,Pa.jsx)("td",{children:(0,Pa.jsx)("div",{className:"d-flex",children:(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{(e=>{i("/admin/user-management/user/".concat(t.userListPgno,"/subscription-history/").concat(t.pgno,"/").concat(t.id,"/view/").concat(e._id))})(n)},children:e("btn_view")})})})]},r)}):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:14,className:"text-center",children:e("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[e("msg_total_records")," : ",c||"0"]})}),c&&c>0?(0,Pa.jsx)(Uf,{datalength:c,itemperpage:u,currentPage:g,setPage:_,pageRoute:[{name:"Psychic",path:"/admin/subscription/history/list"}]}):""]})})})]})},WB=e=>{var t,n,i,r,s,o,l,c,d,u,h,p,m,f,g,_,v,b,y,x,w;const E=ot(),{t:S}=As(),C=ct(),[T,N]=(0,a.useState)({}),A=[{title:S("link_dashboard"),url:"/admin/dashboard"},{title:S("User"),url:"/admin/user-management/user/list/".concat(C.userListPgno)},{title:S("Subscription History"),url:"/admin/user-management/user/".concat(C.userListPgno,"/subscription-history/list/").concat(C.pgno,"/").concat(C.userId)},{title:S("View Subscription History"),url:""}];return(0,a.useEffect)(()=>{OD(C.id).then(e=>{N(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[C.id]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:A}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsxs)("div",{className:"card custom-card",children:[(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:S("View Subscription Plan")})}),T&&Object.keys(T).length>0?(0,Pa.jsx)("div",{className:"row",children:(0,Pa.jsx)("div",{className:"col-lg-12 form-group",children:(0,Pa.jsx)("table",{id:"simple-table",className:"table  table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Plan name")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:(null===T||void 0===T?void 0:T.plan_name)||"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Plan Type")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&T.plan_type?T.plan_type:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Plan price")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&T.plan_price?T.plan_price:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Balance Count")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&T.balance_count?T.balance_count:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("User")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(t=T.user)&&void 0!==t&&t.name?T.user.name:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Phone")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(n=T.user)&&void 0!==n&&n.phone_number?null===T||void 0===T||null===(i=T.user)||void 0===i?void 0:i.phone_number:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Email")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(r=T.user)&&void 0!==r&&r.email?null===T||void 0===T||null===(s=T.user)||void 0===s?void 0:s.email:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Country")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(o=T.user)&&void 0!==o&&o.country?null===T||void 0===T||null===(l=T.user)||void 0===l?void 0:l.country:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Transaction Id")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(c=T.transaction)&&void 0!==c&&c.transaction_id?null===T||void 0===T||null===(d=T.transaction)||void 0===d?void 0:d.transaction_id:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Amount")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(u=T.transaction)&&void 0!==u&&u.amount?null===T||void 0===T||null===(h=T.transaction)||void 0===h?void 0:h.amount:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Payment Status")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(p=T.transaction)&&void 0!==p&&p.payment_status?null===T||void 0===T||null===(m=T.transaction)||void 0===m?void 0:m.payment_status:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Currency")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(f=T.transaction)&&void 0!==f&&f.currency?null===T||void 0===T||null===(g=T.transaction)||void 0===g?void 0:g.currency:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Coupon Code")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(_=T.coupon_history)&&void 0!==_&&_.coupon_code?null===T||void 0===T||null===(v=T.coupon_history)||void 0===v?void 0:v.coupon_code:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Coupon Type")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(b=T.coupon_history)&&void 0!==b&&b.discount_type?null===T||void 0===T||null===(y=T.coupon_history)||void 0===y?void 0:y.discount_type:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("Discount Applied")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:T&&null!==T&&void 0!==T&&null!==(x=T.coupon_history)&&void 0!==x&&x.discounted_amount?null===T||void 0===T||null===(w=T.coupon_history)||void 0===w?void 0:w.discounted_amount:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:S("list_heading_created_date")}),(0,Pa.jsx)("td",{children:T&&T.createdAt?Wa(T.createdAt):"N/A"})]})]})})})}):(0,Pa.jsx)(Bf,{})]}),(0,Pa.jsx)("div",{className:"ml-4 back-button mx-0",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>E("/admin/user-management/user/".concat(C.userListPgno,"/subscription-history/list/").concat(C.pgno,"/").concat(C.userId)),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),S("btn_back")]})})]})})})]})},GB={role:Rs.ROLE.SUPER_ADMIN},qB="admin/referrals";var YB=["as","disabled","readOnly","loading","plaintext","children","className","color","checkedChildren","unCheckedChildren","classPrefix","checked","defaultChecked","size","locale","onChange"],XB=a.forwardRef(function(e,t){var n=_x("Toggle",e).propsWithDefaults,i=n.as,r=void 0===i?"span":i,s=n.disabled,o=n.readOnly,l=n.loading,c=void 0!==l&&l,d=n.plaintext,u=n.children,h=n.className,p=n.color,m=n.checkedChildren,f=n.unCheckedChildren,g=n.classPrefix,_=void 0===g?"toggle":g,v=n.checked,b=n.defaultChecked,y=n.size,x=n.locale,w=n.onChange,E=yn(n,YB),S=(0,a.useRef)(null),C=yE(v,b),T=C[0],N=C[1],A=j_(_),k=A.merge,R=A.withClassPrefix,I=A.prefix,O=k(h,R(y,p,{checked:T,disabled:s,loading:c})),j=T?m:f,P=T?null===x||void 0===x?void 0:x.on:null===x||void 0===x?void 0:x.off,D=RE("rs-label"),L=j?D+"-inner":void 0,M=u?D:L,U=SA(E),F=U[0],B=U[1],V=CS(function(e){if(!(s||o||c)){var t=e.target.checked;N(t),null===w||void 0===w||w(t,e)}});return d?a.createElement(yS,null,j||P):a.createElement("label",Vf({ref:t,className:O},B),a.createElement("input",Vf({},F,{ref:S,type:"checkbox",checked:v,defaultChecked:b,disabled:s,readOnly:o,onChange:V,className:I("input"),role:"switch","aria-checked":T,"aria-disabled":s,"aria-labelledby":M,"aria-label":M?void 0:P,"aria-busy":c||void 0})),a.createElement(r,{className:I("presentation")},a.createElement("span",{className:I("inner"),id:L},j),c&&a.createElement(mA,{className:I("loader")})),u&&a.createElement("span",{className:I("label"),id:D},u))});XB.displayName="Toggle",XB.propTypes={disabled:h_().bool,readOnly:h_().bool,plaintext:h_().bool,checked:h_().bool,defaultChecked:h_().bool,checkedChildren:h_().node,unCheckedChildren:h_().node,loading:h_().bool,classPrefix:h_().string,className:h_().string,children:h_().node,onChange:h_().func,as:h_().elementType,size:Tx(["sm","md","lg"]),locale:h_().shape({on:h_().string,off:h_().string})};const KB=XB;n(4933);const JB=e=>{const{t:t}=As(),[n,i]=(0,a.useState)({}),[r,s]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(""),p=[{title:t("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:"Referral Settings",url:""}];(0,a.useEffect)(()=>{(async()=>await oc(GB).get("".concat(qB,"/settings")))().then(e=>{i(e&&e.data?null===e||void 0===e?void 0:e.data:{}),setTimeout(()=>{l(!0)},100)}).catch(e=>{console.log("error=====>",e),l(!0)})},[]);const m=e=>{(async e=>await oc(GB).put("".concat(qB,"/settings/status?status=").concat(e)))(e).then(e=>{zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),setTimeout(()=>{l(!0)},100)}).catch(e=>{console.log("error=====>",e),l(!0)})};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:p}),o?(0,Pa.jsx)(kp,{validateOnChange:!0,enableReinitialize:!0,initialValues:{earning_type:n.earning_type||"",earning:n.earning||"",status:n.status||""},validate:e=>{let t={};return null!==e&&void 0!==e&&e.earning_type||(t.earning_type="Earning type is required"),null!==e&&void 0!==e&&e.earning||(t.earning="Referral Earning is required"),"discount"==(null===e||void 0===e?void 0:e.earning_type)&&(null===e||void 0===e?void 0:e.earning)>50&&(t.earning="Discount percentage should not be greater than 50"),t},onSubmit:(e,t)=>{let{setSubmitting:n,resetForm:i}=t;s(!0);let r=new FormData;r.append("earning_type",e.earning_type),r.append("earning",e.earning),(async e=>await oc(GB).put("".concat(qB,"/settings"),e))(r).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),setTimeout(()=>{s(!1)},2e3)):(zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),s(!1))}).catch(e=>{console.log("error ====> ",e)})},children:e=>{let{values:n,errors:i,touched:a,handleChange:s,handleBlur:o,handleSubmit:l,setFieldValue:c,isSubmitting:u,setFieldTouched:h}=e;return(0,Pa.jsxs)("form",{onSubmit:l,children:[console.log("values",n),console.log("error",i),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsx)("div",{className:"card-body",children:(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"mb-3",children:[(0,Pa.jsxs)("label",{htmlFor:"earning_type",className:"text-left d-flex",children:["Status:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)(KB,{checked:n.status,onChange:e=>{c("status",e),m(e)},checkedChildren:"ON",unCheckedChildren:"OFF"})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"earning_type",className:"text-left d-flex",children:["Earning Type:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("div",{className:"select-down-arrow",children:(0,Pa.jsxs)("select",{name:"earning_type",id:"earning_type",type:"text",onChange:s,onBlur:o,value:n.earning_type,className:"form-control",placeholder:t("Select Earning Type"),children:[(0,Pa.jsx)("option",{value:"",children:"Select"}),Rs.earningType.map((e,n)=>(0,Pa.jsx)("option",{value:e.value,children:t("".concat(e.name))},n))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:i.earning_type&&a.earning_type&&i.earning_type})]}),(0,Pa.jsx)("div",{className:"col-md-6"}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"earning",className:"text-left d-flex",children:["Earning:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})]}),(0,Pa.jsx)("input",{name:"earning",type:"number",id:"earning",onChange:s,onBlur:o,value:n.earning,className:"form-control",placeholder:"discount"==(null===n||void 0===n?void 0:n.earning_type)?"Enter discount percentage":"Enter credits"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:i.earning&&a.earning&&i.earning})]}),(0,Pa.jsx)("div",{className:"",children:(0,Pa.jsxs)("button",{className:"btn btn-main-primary signbtn mr-2",type:"submit",disabled:!!r||null,onClick:()=>{d(!0)},children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),t("btn_submit")]})})]})})})})})]})}}):(0,Pa.jsx)(Bf,{})]})},ZB=(Rs.ROLE.SUPER_ADMIN,{role:Rs.ROLE.SUPER_ADMIN}),QB="admin/promotions",$B=async e=>await oc(ZB).get("".concat(QB,"/details?o_id=").concat(e)),eV=()=>{const e=ct(),{t:t}=As(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)(),[u]=(0,a.useState)(10),[h,p]=(0,a.useState)({}),[m,f]=(0,a.useState)(!0),[g,_]=(0,a.useState)(1),[v,b]=(0,a.useState)(!0),[y,x]=(0,a.useState)({}),[w,E]=(0,a.useState)(""),S=[{title:t("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:"Promotions",url:""}],[C,T]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const t=setTimeout(()=>{if(y){b(!0);const t=new FormData;t.append("page",e.pgno),t.append("per_page",u),t.append("sort",JSON.stringify(h)),t.append("search",JSON.stringify(y)),t.append("global_search",w),(async e=>await oc(ZB).post("".concat(QB,"/list"),e))(t).then(e=>{d(e.data.total_records),s(e&&e.data&&e.data.list?e.data.list:[]),b(!1)}).catch(e=>{console.log("error ====> ",e)})}},300);return()=>clearTimeout(t)},[n,o,h,y,w]);const N=(e,n)=>{const i=new FormData;let r=Array.isArray(e)?e:[e];i.append("o_id",JSON.stringify(r)),i.append("status",n),zr().fire({customClass:"swal-wide",title:t("Are you sure you want to ".concat(0===n?"deactivate":"activate"," this Page ?")),icon:"warning",showCancelButton:!0,confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:t("btn_yes"),cancelButtonText:t("btn_cancel")}).then(e=>{e.isConfirmed&&(async e=>await oc(ZB).post("".concat(QB,"/change-status"),e))(i).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),l(!o)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error===>")})})};function A(e){zr().fire({customClass:"swal-wide",title:t("msg_are_you_sure"),text:t("you_not_be_able_to_revert_this"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:t("btn_yes_delete"),cancelButtonText:t("btn_cancel")}).then(t=>{if(t.isConfirmed){const t=new FormData;t.append("o_id",e),(async e=>await oc(ZB).post("".concat(QB,"/delete"),e))(t).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),l(!o)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})}})}const k=(e,t)=>{f(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,p(n)},R=(e,t)=>{let n=Tn({},y);String(t).length>0?n[e]=t:delete n[e],x(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:S}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsxs)("div",{className:"card custom-card overflow-hidden",children:[(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:"Promotions"}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:w,placeholder:t("input_placeholder_search"),onChange:e=>{E(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{R("createdAt",e)},resetdate:C})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(eR,{data:Rs.showFilterlist,prepareSearch:R})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),E(""),R(),x({}),T(!C),Br()("#defaultstatus")[0].selectedIndex=0},className:"btn btn-warning float-right mr-2",children:t("btn_reset_filter")}),(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>i("/admin/cms/promotions/add"),children:t("btn_add_new")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{id:"example-input",className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"sr_head",children:t("list_heading_sno")}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:"Title"}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,column:"title"})]})}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:"Promotion Type"}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,column:"promotion_type"})]})}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:"Coupon code"}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,column:"coupon.code"})]})}),(0,Pa.jsx)("th",{className:"created_head",children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:t("list_heading_created_date")}),(0,Pa.jsx)(Ff,{sort:h,defaultSorting:m,handleSort:k,column:"createdAt"})]})}),(0,Pa.jsx)("th",{className:"status_head",children:t("list_heading_status")}),(0,Pa.jsx)("th",{className:"action_head",children:t("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:v?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:13,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((n,r)=>{var a,s;return(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:n?(g-1)*u+r+1:null}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.title?Ya(n.title,20):"N/A"}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.promotion_type?null===n||void 0===n?void 0:n.promotion_type:"N/A"}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&null!==(a=n.coupon)&&void 0!==a&&a.code?Ya(null===n||void 0===n||null===(s=n.coupon)||void 0===s?void 0:s.code,20):"N/A"}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.createdAt?Ha(n.createdAt):"N/A"}),(0,Pa.jsx)("td",{children:!0===n.status?(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{N(null===n||void 0===n?void 0:n._id,!1)},children:t("btn_active")}):(0,Pa.jsx)("button",{className:"btn ripple btn-secondary",onClick:()=>{N(null===n||void 0===n?void 0:n._id,!0)},children:t("btn_inactive")})}),(0,Pa.jsx)("td",{children:(0,Pa.jsxs)("div",{className:"d-flex",children:[(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn ",onClick:()=>{(e=>{i("/admin/cms/promotions/view/".concat(e._id))})(n)},children:t("btn_view")}),(0,Pa.jsx)("button",{className:"btn ripple btn-success mlAction",onClick:()=>{(t=>{i("/admin/cms/promotions/".concat(e.pgno,"/edit/").concat(t._id))})(n)},children:t("btn_edit")}),(0,Pa.jsx)("button",{type:"button",className:"btn ripple btn-secondary mlAction",onClick:()=>{A(null===n||void 0===n?void 0:n._id)},children:t("btn_delete")})]})})]},r)}):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:13,className:"text-center",children:t("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[t("msg_total_records")," : ",c||"0"]})}),c&&c>0?(0,Pa.jsx)(Uf,{datalength:c,itemperpage:u,setPage:_,currentPage:g,pageRoute:[{name:"PageTable",path:"/admin/cms/pages/list"}]}):""]}),(0,Pa.jsx)("div",{})]})})]})},tV={role:Rs.ROLE.SUPER_ADMIN},nV="admin/blogs",iV=async e=>await oc(tV).get("".concat(nV,"/details?o_id=").concat(e)),rV=()=>{const e=ot(),{t:t}=As(),[n,i]=(0,a.useState)(!1),[r,s]=(0,a.useState)(!1),[o,l]=(0,a.useState)({title:"",description:"",image:""}),[c,d]=(0,a.useState)(""),u=[{title:t("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:"Blogs",url:"/admin/cms/blogs/list/1"},{title:"Blog Add",url:""}];(0,a.useEffect)(()=>{l({title:"",description:"",is_blog_of_the_day:"",image:""}),s(!0)},[]);const h=vf().shape({title:rf().trim().required("Title is required").max(Rs.INPUT_LENGTH_50,"Maximum ".concat(Rs.INPUT_LENGTH_50," characters allowed")).concat(sR),description:rf().trim().required("Description is required").max(Rs.INPUT_LENGTH_50,"Maximum ".concat(Rs.INPUT_LENGTH_50," characters allowed")).concat(sR),image:Gm().required("Image is required")});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:u}),r?(0,Pa.jsx)(kp,{initialValues:o,validateOnBlur:!1,validationSchema:h,onSubmit:(t,n)=>{let{setSubmitting:r,resetForm:a}=n;i(!0),ls(!0),console.log(t);let s=new FormData;s.append("title",t.title),s.append("description",t.description),s.append("is_blog_of_the_day",t.is_blog_of_the_day),s.append("image",t.image),(async e=>await oc(tV).post("".concat(nV,"/add"),e))(s).then(t=>{r(!1),t.success?(zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),setTimeout(()=>{a({values:""}),ls(!1),e("/admin/cms/blogs/list/1")},1e3)):(zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS)),i(!1),ls(!1))}).catch(e=>{console.log("error ====> ",e)})},children:i=>{let{values:r,errors:a,touched:s,handleChange:o,handleBlur:l,handleSubmit:u,setFieldValue:h,setFieldTouched:p,isSubmitting:m}=i;return(0,Pa.jsx)("form",{onSubmit:u,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:"Add Blog"})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title",className:"text-left d-flex",children:["Title:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:t("tooltip_page_title")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{name:"title",id:"title",type:"text",onChange:o,onBlur:l,value:r.title,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title&&s.title&&t(a.title)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description",className:"text-left d-flex",children:["Description:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:t("tooltip_page_title")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{name:"description",id:"description",type:"text",onChange:o,onBlur:l,value:r.description,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.description&&s.description&&t(a.description)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"image",className:"text-left d-flex",children:["Upload Image:"," ",(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:t("image_support_tooltip")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{className:"form-control imgInput",id:"image",name:"image",accept:"image/*",type:"file",onChange:e=>{h("image",e.target.files[0]||""),1===e.target.files.length?d(URL.createObjectURL(e.target.files[0])):d("")}}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.image&&s.image&&a.image}),c?(0,Pa.jsx)("ul",{className:"question-image-preview questions-ul",children:(0,Pa.jsx)("li",{className:"pr_img_box",children:(0,Pa.jsx)("img",{src:c,style:{height:"100px"},alt:"profileImg"})})}):""]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description",className:"text-left d-flex",children:["Is Blog of the Day:",(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:t("tooltip_page_title")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("div",{className:"select-down-arrow",children:(0,Pa.jsxs)("select",{name:"is_blog_of_the_day",id:"is_blog_of_the_day",type:"text",onChange:e=>{o(e)},onBlur:l,value:r.is_blog_of_the_day,className:"form-control",children:[(0,Pa.jsx)("option",{value:"true",children:"True"}),(0,Pa.jsx)("option",{value:"false",children:"False"})]})})]}),(0,Pa.jsxs)("div",{className:"",children:[(0,Pa.jsxs)("button",{className:"btn btn-main-primary signbtn mr-2",type:"submit",disabled:!!n||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),t("btn_submit")]}),(0,Pa.jsxs)("butthu",{className:"btn ripplehutn-secondary",type:"button",disabled:!!n||null,onClick:()=>e(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),t("btn_cancel")]})]})]})]})})})})})}}):(0,Pa.jsx)(Pa.Fragment,{})]})},aV=()=>{const e=ct(),{t:t}=As(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)(),[u]=(0,a.useState)(10),[h,p]=(0,a.useState)({}),[m,f]=(0,a.useState)(!0),[g,_]=(0,a.useState)(1),[v,b]=(0,a.useState)(!0),[y,x]=(0,a.useState)({}),[w,E]=(0,a.useState)(""),S=[{title:t("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:"Blogs",url:""}],[C,T]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const t=setTimeout(()=>{if(y){b(!0);const t=new FormData;t.append("page",e.pgno),t.append("per_page",u),t.append("sort",JSON.stringify(h)),t.append("search",JSON.stringify(y)),t.append("global_search",w),(async e=>await oc(tV).post("".concat(nV,"/list"),e))(t).then(e=>{d(e.data.total_records),s(e&&e.data&&e.data.list?e.data.list:[]),b(!1)}).catch(e=>{console.log("error ====> ",e)})}},300);return()=>clearTimeout(t)},[n,o,h,y,w]);const N=(e,n)=>{const i=new FormData;let r=Array.isArray(e)?e:[e];i.append("o_id",JSON.stringify(r)),i.append("status",n),zr().fire({customClass:"swal-wide",title:t("Are you sure you want to ".concat(!1===n?"deactivate":"activate"," this Page ?")),icon:"warning",showCancelButton:!0,confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:t("btn_yes"),cancelButtonText:t("btn_cancel")}).then(e=>{e.isConfirmed&&(async e=>await oc(tV).post("".concat(nV,"/change-status"),e))(i).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),l(!o)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error===>")})})};function A(e){zr().fire({customClass:"swal-wide",title:t("msg_are_you_sure"),text:t("you_not_be_able_to_revert_this"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:t("btn_yes_delete"),cancelButtonText:t("btn_cancel")}).then(t=>{if(t.isConfirmed){const t=new FormData;t.append("o_id",e),(async e=>await oc(tV).post("".concat(nV,"/delete"),e))(t).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),l(!o)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})}})}const k=(e,t)=>{f(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,p(n)},R=(e,t)=>{let n=Tn({},y);String(t).length>0?n[e]=t:delete n[e],x(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:S}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsxs)("div",{className:"card custom-card overflow-hidden",children:[(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:"Blogs"}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:w,placeholder:t("input_placeholder_search"),onChange:e=>{E(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{R("createdAt",e)},resetdate:C})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(eR,{data:Rs.showFilterlist,prepareSearch:R})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),E(""),R(),x({}),T(!C),Br()("#defaultstatus")[0].selectedIndex=0},className:"btn btn-warning float-right mr-2",children:t("btn_reset_filter")}),(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>i("/admin/cms/blogs/add"),children:t("btn_add_new")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{id:"example-input",className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"sr_head",children:t("list_heading_sno")}),(0,Pa.jsx)("th",{style:{width:"50px"},children:"Image"}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:"Title"}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,column:"title"})]})}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:"Description"}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,column:"description"})]})}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:"Likes"}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,column:"like"})]})}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:"DisLikes"}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,column:"dislike"})]})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{className:"sorting_column",children:(0,Pa.jsx)("span",{children:"Is Blog of the Day"})})}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:"Created At"}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,column:"createdAt"})]})}),(0,Pa.jsx)("th",{className:"status_head",children:t("list_heading_status")}),(0,Pa.jsx)("th",{className:"action_head",children:t("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:v?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:13,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((n,r)=>(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:n?(g-1)*u+r+1:null}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.image?(0,Pa.jsx)("div",{className:"row_image",children:(0,Pa.jsx)("img",{className:"rounded",alt:"profile",src:n.image})}):"N/A"}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.title?Ya(n.title,20):"N/A"}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.description?Ya(n.description,20):"N/A"}),(0,Pa.jsx)("td",{children:null===n||void 0===n?void 0:n.like}),(0,Pa.jsx)("td",{children:null===n||void 0===n?void 0:n.dislike}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.is_blog_of_the_day?"True":"False"}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.createdAt?Ha(n.createdAt):"N/A"}),(0,Pa.jsx)("td",{children:!0===n.status?(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{N(null===n||void 0===n?void 0:n._id,!1)},children:t("btn_active")}):(0,Pa.jsx)("button",{className:"btn ripple btn-secondary",onClick:()=>{N(null===n||void 0===n?void 0:n._id,!0)},children:t("btn_inactive")})}),(0,Pa.jsx)("td",{children:(0,Pa.jsxs)("div",{className:"d-flex",children:[(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn ",onClick:()=>{(e=>{i("/admin/cms/blogs/view/".concat(e._id))})(n)},children:t("btn_view")}),(0,Pa.jsx)("button",{className:"btn ripple btn-success mlAction",onClick:()=>{(t=>{i("/admin/cms/blogs/".concat(e.pgno,"/edit/").concat(t._id))})(n)},children:t("btn_edit")}),(0,Pa.jsx)("button",{type:"button",className:"btn ripple btn-secondary mlAction",onClick:()=>{A(null===n||void 0===n?void 0:n._id)},children:t("btn_delete")})]})})]},r)):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:13,className:"text-center",children:t("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[t("msg_total_records")," : ",c||"0"]})}),c&&c>0?(0,Pa.jsx)(Uf,{datalength:c,itemperpage:u,setPage:_,currentPage:g,pageRoute:[{name:"PageTable",path:"/admin/cms/pages/list"}]}):""]}),(0,Pa.jsx)("div",{})]})})]})},sV=()=>{const e=ot(),t=ct(),{t:n}=As(),[i,r]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)({}),[d,u]=(0,a.useState)(""),h=[{title:n("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:"Blogs",url:"/admin/cms/blogs/list/1"},{title:"Blog Edit",url:""}];(0,a.useEffect)(()=>{iV(t.id).then(e=>{c(e&&e.data?e.data:[]),u(e.data.image),setTimeout(()=>{o(!0)},100)}).catch(e=>{console.log("error=====>",e)})},[]);const p=vf().shape({title:rf().trim().required("Title is required").max(Rs.INPUT_LENGTH_50,"Maximum ".concat(Rs.INPUT_LENGTH_50," characters allowed")).concat(sR),description:rf().trim().required("Description is required").max(Rs.INPUT_LENGTH_50,"Maximum ".concat(Rs.INPUT_LENGTH_50," characters allowed")).concat(sR),image:Gm().required("Image is required")});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:h}),s?(0,Pa.jsx)(kp,{initialValues:l,validateOnBlur:!1,validationSchema:p,onSubmit:(n,i)=>{let{setSubmitting:a,resetForm:s}=i;r(!0),ls(!0),console.log(n);let o=new FormData;o.append("o_id",t.id),o.append("title",n.title),o.append("description",n.description),o.append("is_blog_of_the_day",n.is_blog_of_the_day),o.append("image",n.image),(async e=>await oc(tV).post("".concat(nV,"/edit"),e))(o).then(t=>{a(!1),t.success?(zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),setTimeout(()=>{s({values:""}),ls(!1),e("/admin/cms/blogs/list/1")},1e3)):(zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS)),r(!1),ls(!1))}).catch(e=>{console.log("error ====> ",e)})},children:t=>{let{values:r,errors:a,touched:s,handleChange:o,handleBlur:l,handleSubmit:c,setFieldValue:h,setFieldTouched:p,isSubmitting:m}=t;return(0,Pa.jsx)("form",{onSubmit:c,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:"Edit Blog"})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title",className:"text-left d-flex",children:["Title:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:n("tooltip_page_title")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{name:"title",id:"title",type:"text",onChange:o,onBlur:l,value:r.title,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title&&s.title&&n(a.title)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description",className:"text-left d-flex",children:["Description:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:n("tooltip_page_title")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{name:"description",id:"description",type:"text",onChange:o,onBlur:l,value:r.description,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.description&&s.description&&n(a.description)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"image",className:"text-left d-flex",children:["Upload Image:"," ",(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:n("image_support_tooltip")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("input",{className:"form-control imgInput",id:"image",name:"image",accept:"image/*",type:"file",onChange:e=>{h("image",e.target.files[0]||""),1===e.target.files.length?u(URL.createObjectURL(e.target.files[0])):u("")}}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.image&&s.image&&a.image}),d?(0,Pa.jsx)("ul",{className:"question-image-preview questions-ul",children:(0,Pa.jsx)("li",{className:"pr_img_box",children:(0,Pa.jsx)("img",{src:d,style:{height:"100px"},alt:"profileImg"})})}):""]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"description",className:"text-left d-flex",children:["Is Blog of the Day:",(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:n("tooltip_page_title")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("div",{className:"select-down-arrow",children:(0,Pa.jsxs)("select",{name:"is_blog_of_the_day",id:"is_blog_of_the_day",type:"text",onChange:e=>{o(e)},onBlur:l,value:r.is_blog_of_the_day,className:"form-control",children:[(0,Pa.jsx)("option",{value:"true",children:"True"}),(0,Pa.jsx)("option",{value:"false",children:"False"})]})})]}),(0,Pa.jsxs)("div",{className:"",children:[(0,Pa.jsxs)("button",{className:"btn btn-main-primary signbtn mr-2",type:"submit",disabled:!!i||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),n("btn_submit")]}),(0,Pa.jsxs)("butthu",{className:"btn ripplehutn-secondary",type:"button",disabled:!!i||null,onClick:()=>e(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),n("btn_cancel")]})]})]})]})})})})})}}):(0,Pa.jsx)(Pa.Fragment,{})]})},oV=()=>{var e;const{t:t}=As(),n=ot(),i=ct(),[r,s]=(0,a.useState)({}),o=[{title:t("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:"Blogs",url:"/admin/cms/blogs/list/1"},{title:t("btn_view"),url:""}];return(0,a.useEffect)(()=>{iV(i.id).then(e=>{s(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:o}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:t("view_cms")})}),r&&(null===(e=Object.keys(r))||void 0===e?void 0:e.length)>0?(0,Pa.jsx)("div",{className:"row",children:(0,Pa.jsxs)("div",{className:"col-lg-12 form-group",children:[(0,Pa.jsx)("table",{id:"simple-table",className:"table  table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:"Title "}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&null!==r&&void 0!==r&&r.title?r.title:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:"Description"}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&null!==r&&void 0!==r&&r.description?r.description:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:"Image"}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&null!==r&&void 0!==r&&r.image?(0,Pa.jsx)("ul",{className:"question-image-preview questions-ul",children:(0,Pa.jsx)("li",{className:"pr_img_box",children:(0,Pa.jsx)("img",{src:null===r||void 0===r?void 0:r.image,style:{height:"100px"},alt:"profileImg"})})}):"N/A"})]})]})}),(0,Pa.jsx)("div",{className:"mt-5",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>n(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),t("btn_back")]})})]})}):(0,Pa.jsx)(Bf,{})]})})})})]})},lV=()=>{const e=ct(),t=ot(),{t:n}=As(),[i,r]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)({}),[d,u]=(0,a.useState)([]),h=[{title:n("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:"Promotions",url:"/admin/cms/promotions/list/1"},{title:"Edit",url:""}];(0,a.useEffect)(()=>{$B(e.id).then(e=>{var t,n,i,r;const a={title:(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.title)||"",promotion_type:(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.promotion_type)||"",coupon_id:null===e||void 0===e||null===(i=e.data)||void 0===i||null===(r=i.coupon)||void 0===r?void 0:r._id};m(a.promotion_type),c(a),setTimeout(()=>{o(!0)},100)}).catch(e=>{console.log("error=====>",e)})},[]);const p=vf().shape({title:rf().trim().required("Title is required").max(Rs.INPUT_LENGTH_50,"Maximum ".concat(Rs.INPUT_LENGTH_50," characters allowed")).concat(sR),promotion_type:rf().trim().required("Promotion Type is required"),coupon_id:rf().trim().required("Coupon is required")}),m=e=>{RB("promotion_type=".concat(e)).then(e=>{u(e&&e.data&&e.data.length?e.data:[])}).catch(e=>{console.log("error=====>",e)})};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:h}),(0,Pa.jsx)(kp,{enableReinitialize:!0,initialValues:l,validateOnBlur:!1,validationSchema:p,onSubmit:(n,i)=>{let{setSubmitting:a,resetForm:s}=i;r(!0),ls(!0);let o=new FormData;o.append("o_id",e.id),o.append("title",n.title),o.append("promotion_type",n.promotion_type),o.append("coupon_id",n.coupon_id),(async e=>await oc(ZB).post("".concat(QB,"/edit"),e))(o).then(e=>{a(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),setTimeout(()=>{s({values:""}),ls(!1),t("/admin/cms/promotions/list/1")},1e3)):(zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),r(!1),ls(!1))}).catch(e=>{console.log("error ====> ",e)})},children:e=>{let{values:r,errors:a,touched:s,handleChange:o,handleBlur:l,handleSubmit:c,setFieldValue:u,setFieldTouched:h,isSubmitting:p}=e;return(0,Pa.jsx)("form",{onSubmit:c,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:"Edit Promotion"})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title",className:"text-left d-flex",children:["Title:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:n("tooltip_page_title")})})]}),(0,Pa.jsx)("input",{name:"title",id:"title",type:"text",onChange:o,onBlur:l,value:r.title,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title&&s.title&&n(a.title)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"promotion_type",className:"text-left d-flex",children:["Promotion Type:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:n("tooltip_page_title")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("div",{className:"select-down-arrow",children:(0,Pa.jsxs)("select",{name:"promotion_type",id:"promotion_type",type:"text",onChange:e=>{o(e),m(e.target.value)},onBlur:l,value:r.promotion_type,className:"form-control",placeholder:n("Select Promotion Type"),children:[(0,Pa.jsx)("option",{value:"",children:"Select"}),Rs.subscriptionPlanType.map((e,t)=>(0,Pa.jsx)("option",{value:e.value,children:n("".concat(e.name))},t))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.promotion_type&&s.promotion_type&&n(a.promotion_type)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"coupon_id",className:"text-left d-flex",children:["Coupon:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:n("tooltip_page_title")})})]}),(0,Pa.jsx)("div",{className:"select-down-arrow",children:(0,Pa.jsxs)("select",{name:"coupon_id",id:"coupon_id",type:"text",onChange:e=>{o(e)},onBlur:l,value:r.coupon_id,className:"form-control",placeholder:n("Select Coupon"),children:[(0,Pa.jsx)("option",{value:"",children:"Select"}),null===d||void 0===d?void 0:d.map((e,t)=>(0,Pa.jsx)("option",{value:e._id,children:n("".concat(e.code))},t))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.coupon_id&&s.coupon_id&&a.coupon_id})]}),(0,Pa.jsxs)("div",{className:"",children:[(0,Pa.jsxs)("button",{className:"btn btn-main-primary signbtn mr-2",type:"submit",disabled:!!i||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),n("btn_submit")]}),(0,Pa.jsxs)("butthu",{className:"btn ripplehutn-secondary",type:"button",disabled:!!i||null,onClick:()=>t(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),n("btn_cancel")]})]})]})]})})})})})}})]})},cV=()=>{var e,t;const{t:n}=As(),i=ot(),r=ct(),[s,o]=(0,a.useState)({}),l=[{title:n("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:"Promotions",url:"/admin/cms/promotions/list/1"},{title:n("btn_view"),url:""}];return(0,a.useEffect)(()=>{$B(r.id).then(e=>{o(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:l}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:n("view_cms")})}),s&&(null===(e=Object.keys(s))||void 0===e?void 0:e.length)>0?(0,Pa.jsx)("div",{className:"row",children:(0,Pa.jsxs)("div",{className:"col-lg-12 form-group",children:[(0,Pa.jsx)("table",{id:"simple-table",className:"table  table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:"Title "}),(0,Pa.jsx)("td",{className:"text-capitalize",children:s&&null!==s&&void 0!==s&&s.title?s.title:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:"Promotion Type"}),(0,Pa.jsx)("td",{className:"text-capitalize",children:s&&null!==s&&void 0!==s&&s.promotion_type?s.promotion_type:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:"Coupon Code "}),(0,Pa.jsx)("td",{className:"text-capitalize",children:s&&null!==s&&void 0!==s&&s.coupon?null===(t=s.coupon)||void 0===t?void 0:t.code:"N/A"})]})]})}),(0,Pa.jsx)("div",{className:"mt-5",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>i(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),n("btn_back")]})})]})}):(0,Pa.jsx)(Bf,{})]})})})})]})},dV=()=>{const e=ot(),{t:t}=As(),[n,i]=(0,a.useState)(!1),[r,s]=(0,a.useState)({title:"",promotion_type:"",coupon_id:""}),[o,l]=(0,a.useState)([]),c=[{title:t("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:"Promotions",url:"/admin/cms/promotions/list/1"},{title:t("link_add"),url:""}],d=vf().shape({title:rf().trim().required("Title is required").max(Rs.INPUT_LENGTH_50,"Maximum ".concat(Rs.INPUT_LENGTH_50," characters allowed")).concat(sR),promotion_type:rf().trim().required("Promotion Type is required"),coupon_id:rf().trim().required("Coupon is required")});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:c}),(0,Pa.jsx)(kp,{initialValues:r,validateOnBlur:!1,validationSchema:d,onSubmit:(t,n)=>{let{setSubmitting:r,resetForm:a}=n;i(!0),ls(!0);let s=new FormData;s.append("title",t.title),s.append("promotion_type",t.promotion_type),s.append("coupon_id",t.coupon_id),(async e=>await oc(ZB).post("".concat(QB,"/add"),e))(s).then(t=>{r(!1),t.success?(zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),setTimeout(()=>{a({values:""}),ls(!1),e("/admin/cms/promotions/list/1")},1e3)):(zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS)),i(!1),ls(!1))}).catch(e=>{console.log("error ====> ",e)})},children:i=>{let{values:r,errors:a,touched:s,handleChange:c,handleBlur:d,handleSubmit:u,setFieldValue:h,setFieldTouched:p,isSubmitting:m}=i;return(0,Pa.jsx)("form",{onSubmit:u,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsx)("h6",{className:"main-content-label mb-3",children:"Add Promotion"})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"title",className:"text-left d-flex",children:["Title:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:t("tooltip_page_title")})})]}),(0,Pa.jsx)("input",{name:"title",id:"title",type:"text",onChange:c,onBlur:d,value:r.title,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.title&&s.title&&t(a.title)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"promotion_type",className:"text-left d-flex",children:["Promotion Type:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:t("tooltip_page_title")}),children:(0,Pa.jsx)("span",{className:"field-more-info mt-1 ms-1 cp",children:"?"})})]}),(0,Pa.jsx)("div",{className:"select-down-arrow",children:(0,Pa.jsxs)("select",{name:"promotion_type",id:"promotion_type",type:"text",onChange:e=>{var t;c(e),t=e.target.value,RB("promotion_type=".concat(t)).then(e=>{l(e&&e.data&&e.data.length?e.data:[])}).catch(e=>{console.log("error=====>",e)})},onBlur:d,value:r.promotion_type,className:"form-control",placeholder:t("Select Promotion Type"),children:[(0,Pa.jsx)("option",{value:"",children:"Select"}),Rs.subscriptionPlanType.map((e,n)=>(0,Pa.jsx)("option",{value:e.value,children:t("".concat(e.name))},n))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.promotion_type&&s.promotion_type&&t(a.promotion_type)})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"coupon_id",className:"text-left d-flex",children:["Coupon:",(0,Pa.jsx)("span",{className:"requirestar",children:"*"}),(0,Pa.jsx)(qk,{placement:"top",controlId:"control-id-hover",trigger:"hover",speaker:(0,Pa.jsx)(Kk,{children:t("tooltip_page_title")})})]}),(0,Pa.jsx)("div",{className:"select-down-arrow",children:(0,Pa.jsxs)("select",{name:"coupon_id",id:"coupon_id",type:"text",onChange:e=>{c(e)},onBlur:d,value:r.coupon_id,className:"form-control",placeholder:t("Select Coupon"),children:[(0,Pa.jsx)("option",{value:"",children:"Select"}),null===o||void 0===o?void 0:o.map((e,n)=>(0,Pa.jsx)("option",{value:e._id,children:t("".concat(e.code))},n))]})}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:a.coupon_id&&s.coupon_id&&a.coupon_id})]}),(0,Pa.jsxs)("div",{className:"",children:[(0,Pa.jsxs)("button",{className:"btn btn-main-primary signbtn mr-2",type:"submit",disabled:!!n||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),t("btn_submit")]}),(0,Pa.jsxs)("butthu",{className:"btn ripplehutn-secondary",type:"button",disabled:!!n||null,onClick:()=>e(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),t("btn_cancel")]})]})]})]})})})})})}})]})},uV={role:Rs.ROLE.SUPER_ADMIN},hV="admin/testimonial",pV=async e=>await oc(uV).get("".concat(hV,"/details?o_id=").concat(e)),mV=e=>{const t=ot(),{t:n}=As(),[i,r]=(0,a.useState)(!1),[s,o]=(0,a.useState)(""),l=[{title:n("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:n("sidebar_link_testimonial"),url:"/admin/cms/testimonials/list/1"},{title:n("link_add"),url:""}],c=vf().shape({name:rf().required(n("label_name_error")).test("no-spaces","label_name_error",e=>e.trim()),testimonial_text:rf().trim().required(n("label_testimonial_error")),location:rf().trim().required(n("label_address_error")),city:rf().trim().required(n("label_city_error")),country:rf().trim().required(n("label_country_error")),rating:sf().min(1,n("validation_error_rating_min_1")).max(5,n("validation_error_rating_max_5")).required(n("validate_error_rating")),profile_image:rf().required(n("validation_error_profile_img_required"))}),d=Ap({enableReinitialize:!0,initialValues:{name:"",location:"",city:"",country:"",profile_image:"",testimonial_text:"",rating:""},validateOnBlur:!1,validationSchema:c,onSubmit:(e,n)=>{let{setSubmitting:i,resetForm:a}=n;ls(!0),r(!0);let s=new FormData;s.append("name",e.name),s.append("profile_image",e.profile_image),s.append("address",e.location),s.append("city",e.city),s.append("country",e.country),s.append("testimonial_text",e.testimonial_text),s.append("rating",e.rating),(async e=>await oc(uV).post("".concat(hV,"/add"),e))(s).then(e=>{i(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),ls(!1),a({values:""}),t("/admin/cms/testimonials/list/1")):(zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),r(!1),ls(!1))}).catch(e=>{console.log("error ====> ",e)})}});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:l}),(0,Pa.jsx)("form",{onSubmit:d.handleSubmit,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsxs)("h6",{className:"main-content-label mb-3",children:[n("link_add")," ",n("sidebar_link_testimonial")]})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"name",className:"text-left d-flex",children:[n("label_name"),(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"name",id:"name",type:"text",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.name,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"name",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"location",className:"text-left d-flex",children:[n("label_address"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"location",id:"location",type:"text",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.location,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"location",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"city",className:"text-left d-flex",children:[n("label_city"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"city",id:"city",type:"text",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.city,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"city",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"country",className:"text-left d-flex",children:[n("label_country"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"country",id:"country",type:"text",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.country,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"country",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"rating",className:"text-left d-flex",children:[n("label_rating_1_to_5"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"rating",id:"rating",type:"number",min:"1",max:"5",step:"1",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.rating,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"rating",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"testimonial_text",className:"text-left d-flex",children:[n("sidebar_link_testimonial")," ",n("label_text"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"testimonial_text",id:"testimonial_text",type:"text",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.testimonial_text,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"testimonial_text",form:d})})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"profile_image",className:"text-left d-flex",children:[n("label_profile_picture"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{className:"form-control imgInput",id:"profile_image",name:"profile_image",accept:"image/*",type:"file",onChange:e=>{d.setFieldValue("profile_image",e.target.files[0]||""),1===e.target.files.length?o(URL.createObjectURL(e.target.files[0])):o("")}}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"profile_image",form:d})}),s?(0,Pa.jsx)("ul",{className:"question-image-preview questions-ul",children:(0,Pa.jsxs)("li",{className:"pr_img_box",children:[(0,Pa.jsx)("img",{src:s,style:{height:"100px"},alt:"Profile_Img"}),(0,Pa.jsx)("div",{className:"img_options",children:(0,Pa.jsx)("button",{type:"button",className:"text-danger",onClick:()=>{o(""),d.setFieldValue("profile_image",!1)},children:(0,Pa.jsx)("i",{className:"ri-delete-bin-6-fill"})})})]})}):""]}),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{className:"btn btn-info mr-2",type:"submit",disabled:!!i||null,children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),n("btn_submit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",disabled:!!i||null,onClick:()=>t(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),n("btn_cancel")]})]})]})]})})})})})]})},fV=e=>{const{t:t}=As(),n=ot(),i=ct(),[r,s]=(0,a.useState)({}),o=[{title:t("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:t("sidebar_link_testimonial"),url:"/admin/cms/testimonials/list/1"},{title:t("btn_view"),url:""}];return(0,a.useEffect)(()=>{pV(i.id).then(e=>{s(e&&e.data?e.data:[])}).catch(e=>{console.log("error=====>",e)})},[i.id]),(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:o}),(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsxs)("div",{className:"card custom-card",children:[(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsxs)("h6",{className:"main-content-label mb-3",children:[t("btn_view")," ",t("sidebar_link_testimonial")]})}),r&&Object.keys(r).length>0?(0,Pa.jsx)("div",{className:"row",children:(0,Pa.jsx)("div",{className:"col-lg-12 form-group",children:(0,Pa.jsx)("table",{id:"simple-table",className:"table  table-bordered table-hover",children:(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_profile_picture")}),(0,Pa.jsx)("td",{children:(0,Pa.jsx)("img",{src:r&&r.profile_image?r.profile_image:"N/A",alt:"profile",style:{height:"100px"}})})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_name")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&r.name?r.name:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_address")}),(0,Pa.jsx)("td",{children:r&&r.address?r.address:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_city")}),(0,Pa.jsx)("td",{children:r&&r.city?r.city:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_country")}),(0,Pa.jsx)("td",{children:r&&r.country?r.country:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_rating")}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&r.rating?r.rating:"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsxs)("th",{children:[t("sidebar_link_testimonial")," ",t("label_text")]}),(0,Pa.jsx)("td",{className:"text-capitalize",children:r&&r.testimonial_text?ds(r.testimonial_text):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("list_heading_created_date")}),(0,Pa.jsx)("td",{children:r&&r.createdAt?Wa(r.createdAt):"N/A"})]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:t("label_modified_date")}),(0,Pa.jsx)("td",{children:r&&r.updatedAt?Wa(r.updatedAt):"N/A"})]})]})})})}):(0,Pa.jsx)(Bf,{})]}),(0,Pa.jsx)("div",{className:"mt-5 back-button",children:(0,Pa.jsxs)("button",{className:"btn ripple btn-dark",type:"button",onClick:()=>n("/admin/cms/testimonials/list/1"),children:[(0,Pa.jsx)("i",{className:"ace-icon-solid ion-arrow-return-left bigger-110 mx-1"}),t("btn_back")]})})]})})})]})},gV=()=>{const{t:e}=As(),t=ct(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)(""),[u]=(0,a.useState)(10),[h,p]=(0,a.useState)({}),[m,f]=(0,a.useState)(!0),[g,_]=(0,a.useState)(1),[v,b]=(0,a.useState)(!0),[y,x]=(0,a.useState)({}),[w,E]=(0,a.useState)(""),S=[{title:e("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:e("sidebar_link_testimonial"),url:""}],[C,T]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=setTimeout(()=>{if(y){b(!0);const e=new FormData;e.append("page",t.pgno),e.append("per_page",u),e.append("sort",JSON.stringify(h)),e.append("search",JSON.stringify(y)),e.append("global_search",w),(async e=>await oc(uV).post("".concat(hV,"/list"),e))(e).then(e=>{d(e.data.total_records),s(e&&e.data&&e.data.list?e.data.list:[]),_(e&&e.data&&e.data.page?e.data.page:1),b(!1)}).catch(e=>{console.log("error ====> ",e)})}},300);return()=>clearTimeout(e)},[n,o,h,y,w,u,t.pgno]);const N=(t,n)=>{let i=Array.isArray(t)?t:[t];const r=new FormData;r.append("o_id",JSON.stringify(i)),r.append("status",n),zr().fire({customClass:"swal-wide",title:e("msg_are_you_sure"),icon:"warning",showCancelButton:!0,cancelButtonText:e("btn_cancel"),confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:e("btn_yes")}).then(e=>{e.isConfirmed&&(async e=>await oc(uV).post("".concat(hV,"/change-status"),e))(r).then(e=>{e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),l(!o)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error===>")})})};function A(t){zr().fire({customClass:"swal-wide",title:e("msg_are_you_sure"),text:e("you_not_be_able_to_revert_this"),icon:"warning",showCancelButton:!0,cancelButtonText:e("btn_cancel"),confirmButtonColor:"#403fad",cancelButtonColor:"#f1388b",confirmButtonText:e("btn_yes_delete")}).then(e=>{if(e.isConfirmed){const e=new FormData;let n=Array.isArray(t)?t:[t];e.append("o_id",JSON.stringify(n)),(async e=>await oc(uV).post("".concat(hV,"/delete"),e))(e).then(e=>{l(!o),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})}})}const k=(e,t)=>{f(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,p(n)},R=(e,t)=>{let n=Tn({},y);String(t).length>0?n[e]=t:delete n[e],x(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:S}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:e("sidebar_link_testimonials")}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:w,placeholder:e("input_placeholder_search"),onChange:e=>{E(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{R("createdAt",e)},resetdate:C})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(eR,{data:Rs.showFilterlist,prepareSearch:R})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),E(""),R(),x({}),T(!C),Br()("#defaultstatus")[0].selectedIndex=0},className:"btn btn-warning float-right mr-2",children:e("btn_reset_filter")}),(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn mr-2",onClick:()=>i("/admin/cms/testimonials/add"),children:e("btn_add_new")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("list_heading_sno")})}),(0,Pa.jsx)("th",{style:{width:"50px"},children:e("label_profile_picture")}),(0,Pa.jsx)("th",{children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("list_heading_name")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,column:"name"})]})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{className:"rating_head",children:(0,Pa.jsx)("span",{children:e("label_rating")})})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{className:"review_head",children:(0,Pa.jsx)("span",{children:e("label_review")})})}),(0,Pa.jsx)("th",{className:"created_head",children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("list_heading_created_date")}),(0,Pa.jsx)(Ff,{sort:h,handleSort:k,defaultSorting:m,column:"createdAt"})]})}),(0,Pa.jsx)("th",{className:"status_head",children:e("list_heading_status")}),(0,Pa.jsx)("th",{className:"action_head",children:e("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:v?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:10,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((n,r)=>(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:n?(g-1)*u+r+1:null}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.profile_image?(0,Pa.jsx)("div",{className:"row_image",children:(0,Pa.jsx)("img",{className:"rounded",alt:"profile",src:n.profile_image})}):"N/A"}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.name?(0,Pa.jsx)("div",{className:"d-flex",children:null!==n&&void 0!==n&&n.name?n.name:"N/A"}):(0,Pa.jsx)("div",{className:"d-flex",children:'"N/A"'})}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.rating?(0,Pa.jsx)("div",{className:"d-flex",children:null!==n&&void 0!==n&&n.rating?n.rating:"N/A"}):(0,Pa.jsx)("div",{className:"d-flex",children:"N/A"})}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.testimonial_text?(0,Pa.jsx)("div",{className:"d-flex",children:Ya(n.testimonial_text,80)}):(0,Pa.jsx)("div",{className:"d-flex",children:"N/A"})}),(0,Pa.jsx)("td",{children:n.createdAt?Ha(n.createdAt):"N/A"}),(0,Pa.jsx)("td",{children:1===n.status?(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{N(null===n||void 0===n?void 0:n._id,0)},children:e("btn_active")}):(0,Pa.jsx)("button",{className:"btn ripple btn-secondary",onClick:()=>{N(null===n||void 0===n?void 0:n._id,1)},children:e("btn_inactive")})}),(0,Pa.jsx)("td",{children:(0,Pa.jsxs)("div",{className:"d-flex",children:[(0,Pa.jsx)("button",{className:"btn ripple btn-main-primary signbtn",onClick:()=>{(e=>{i("/admin/cms/testimonials/view/".concat(e._id,"?page=1&chat_page=1"))})(n)},children:e("btn_view")}),(0,Pa.jsx)("button",{className:"btn ripple btn-success mlAction",onClick:()=>{(e=>{i("/admin/cms/testimonials/".concat(t.pgno,"/edit/").concat(e._id))})(n)},children:e("btn_edit")}),(0,Pa.jsx)("button",{className:"btn ripple btn-secondary mlAction",onClick:()=>{A(null===n||void 0===n?void 0:n._id)},children:e("btn_delete")})]})})]},r)):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:10,className:"text-center",children:e("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[e("msg_total_records")," : ",c||"0"]})}),c&&c>0?(0,Pa.jsx)(Uf,{datalength:c,itemperpage:u,currentPage:g,setPage:_,pageRoute:[{name:"Reataurant",path:"/admin/testimonial-management/testimonial/list"}]}):""]})})})]})},_V=e=>{const t=ot(),n=ct(),{t:i}=As(),[r,s]=(0,a.useState)({}),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),u=[{title:i("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:i("sidebar_link_testimonial"),url:"/admin/cms/testimonials/list/1"},{title:i("btn_edit"),url:""}];(0,a.useEffect)(()=>{pV(n.id).then(e=>{var t;s(e&&e.data?null===e||void 0===e?void 0:e.data:[]),l(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.profile_image)}).catch(e=>{console.log("error=====>",e)})},[n.id]);const h=vf().shape({name:rf().required(i("label_name_error")).test("no-spaces","label_name_error",e=>e.trim()),testimonial_text:rf().trim().required(i("label_testimonial_error")),address:rf().trim().required(i("label_address_error")),city:rf().trim().required(i("label_city_error")),country:rf().trim().required(i("label_country_error")),rating:sf().min(1,i("validation_error_rating_min_1")).max(5,i("validation_error_rating_max_5")).required(i("validate_error_rating")),profile_image:rf().required(i("validation_error_profile_img_required"))}),p=Ap({enableReinitialize:!0,initialValues:{name:r&&r.name?r.name:"",address:r&&r.address?r.address:"",profile_image:r&&r.profile_image?r.profile_image:"",testimonial_text:r&&r.testimonial_text?r.testimonial_text:"",city:r&&r.city?r.city:"",country:r&&r.country?r.country:"",rating:r&&r.rating?r.rating:""},validationSchema:h,onSubmit:(e,i)=>{let{setSubmitting:r,resetForm:a}=i;ls(!0);let s=new FormData;s.append("o_id",n.id),s.append("name",e.name),"object"===typeof e.profile_image?s.append("profile_image",e.profile_image):!1===e.profile_image&&s.append("profile_image",!1),s.append("address",e.address),s.append("testimonial_text",e.testimonial_text),s.append("city",e.city),s.append("country",e.country),s.append("rating",e.rating),(async e=>await oc(uV).post("".concat(hV,"/edit"),e))(s).then(e=>{r(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),ls(!1),"Save"!==c&&t("/admin/cms/testimonials/list/1")):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),ls(!1)}).catch(e=>{zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),console.log("error ====> ",e)})}});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:u}),(0,Pa.jsx)("form",{onSubmit:p.handleSubmit,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsxs)("h6",{className:"main-content-label mb-3",children:[i("btn_edit")," ",i("sidebar_link_testimonial")]})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"name",className:"text-left d-flex",children:[i("label_name"),(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"name",id:"name",type:"text",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.name,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"name",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"address",className:"text-left d-flex",children:[i("label_address"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"address",id:"address",type:"text",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.address,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"address",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"city",className:"text-left d-flex",children:[i("label_city"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"city",id:"city",type:"text",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.city,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"city",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"country",className:"text-left d-flex",children:[i("label_country"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"country",id:"country",type:"text",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.country,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"country",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"rating",className:"text-left d-flex",children:[i("label_rating_1_to_5"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"rating",id:"rating",type:"number",min:"1",max:"5",step:"1",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.rating,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"rating",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"testimonial_text",className:"text-left d-flex",children:[i("sidebar_link_testimonial")," ",i("label_text"),":",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("textarea",{name:"testimonial_text",id:"testimonial_text",type:"text",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.testimonial_text,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"testimonial_text",form:p})})]}),(0,Pa.jsxs)("div",{className:"col-lg-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"profile_image",className:"text-left d-flex",children:[i("label_profile_picture"),":"]}),(0,Pa.jsx)("input",{className:"form-control imgInput",id:"profile_image",name:"profile_image",accept:"image/*",type:"file",onChange:e=>{p.setFieldValue("profile_image",e.target.files[0]||""),1===e.target.files.length?l(URL.createObjectURL(e.target.files[0])):l(URL.createObjectURL(""))}}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"profile_image",form:p})}),o?(0,Pa.jsx)("ul",{className:"question-image-preview questions-ul",children:(0,Pa.jsxs)("li",{className:"pr_img_box",children:[(0,Pa.jsx)("img",{src:o,style:{height:"100px"},alt:"profileImg"}),(0,Pa.jsx)("div",{className:"img_options",children:(0,Pa.jsx)("button",{type:"button",onClick:()=>{l(""),p.setFieldValue("profile_image",!1)},className:"text-danger",children:(0,Pa.jsx)("i",{className:"ri-delete-bin-6-fill"})})})]})}):""]}),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{onClick:()=>{d("Save")},className:"btn btn-info mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),i("btn_save")]}),(0,Pa.jsxs)("button",{onClick:()=>{d("")},className:"btn btn-success mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),i("btn_save_exit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",onClick:()=>t(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),i("btn_cancel")]})]})]})]})})})})})]})},vV={role:Rs.ROLE.SUPER_ADMIN},bV="admin/personalization-categories",yV=()=>{const{t:e}=As(),t=ct(),n=at(),i=ot(),[r,s]=(0,a.useState)([]),[o,l]=(0,a.useState)("false"),[c,d]=(0,a.useState)(""),[u]=(0,a.useState)(10),[h,p]=(0,a.useState)({}),[m,f]=(0,a.useState)(!0),[g,_]=(0,a.useState)(1),[v,b]=(0,a.useState)(!0),[y,x]=(0,a.useState)({}),[w,E]=(0,a.useState)(""),S=[{title:e("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:"Personalization Feeds",url:""}],[C,T]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=setTimeout(()=>{if(y){b(!0);const e=new FormData;e.append("page",t.pgno),e.append("per_page",u),e.append("sort",JSON.stringify(h)),e.append("search",JSON.stringify(y)),e.append("global_search",w),(async e=>await oc(vV).post("".concat(bV,"/list"),e))(e).then(e=>{d(e.data.total_records),s(e&&e.data&&e.data.list?e.data.list:[]),_(e&&e.data&&e.data.page?e.data.page:1),b(!1)}).catch(e=>{console.log("error ====> ",e)})}},300);return()=>clearTimeout(e)},[n,o,h,y,w,u,t.pgno]);const N=(e,t)=>{let n=Tn({},y);String(t).length>0?n[e]=t:delete n[e],x(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:S}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:"Personalization Feeds"}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:w,placeholder:e("input_placeholder_search"),onChange:e=>{E(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{N("createdAt",e)},resetdate:C})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(eR,{data:Rs.showFilterlist,prepareSearch:N})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),E(""),N(),x({}),T(!C),Br()("#defaultstatus")[0].selectedIndex=0},className:"btn btn-warning float-right mr-2",children:e("btn_reset_filter")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("list_heading_sno")})}),(0,Pa.jsx)("th",{children:(0,Pa.jsx)("div",{className:"sorting_column",children:(0,Pa.jsx)("span",{children:"Category"})})}),(0,Pa.jsx)("th",{className:"status_head",children:e("list_heading_status")}),(0,Pa.jsx)("th",{className:"action_head",children:e("list_heading_action")})]})}),(0,Pa.jsx)("tbody",{children:v?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:10,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:r.length?r.map((n,r)=>(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:n?(g-1)*u+r+1:null}),(0,Pa.jsx)("td",{children:null!==n&&void 0!==n&&n.category_name?(0,Pa.jsx)("div",{className:"d-flex",children:null!==n&&void 0!==n&&n.category_name?n.category_name:"N/A"}):(0,Pa.jsx)("div",{className:"d-flex",children:'"N/A"'})}),(0,Pa.jsx)("td",{children:(0,Pa.jsx)("div",{className:"d-flex",children:(0,Pa.jsx)("button",{className:"btn ripple btn-success mlAction",onClick:()=>{(e=>{i("/admin/personalizarion-categories/".concat(t.pgno,"/edit/").concat(e._id))})(n)},children:e("btn_edit")})})})]},r)):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:10,className:"text-center",children:e("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[e("msg_total_records")," : ",c||"0"]})}),c&&c>0?(0,Pa.jsx)(Uf,{datalength:c,itemperpage:u,currentPage:g,setPage:_,pageRoute:[{name:"Reataurant",path:"/admin/testimonial-management/testimonial/list"}]}):""]})})})]})},xV=e=>{const t=ot(),n=ct(),{t:i}=As(),[r,s]=(0,a.useState)({}),[o,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),u=[{title:i("sidebar_link_dashboard"),url:"/admin/dashboard"},{title:"Personalization Feeds",url:"/admin/personalization-categories/list/1"},{title:i("btn_edit"),url:""}];(0,a.useEffect)(()=>{(async e=>await oc(vV).get("".concat(bV,"/details?o_id=").concat(e)))(n.id).then(e=>{s(e&&e.data?null===e||void 0===e?void 0:e.data:[])}).catch(e=>{console.log("error=====>",e)})},[n.id]);const h=vf().shape({category_name:rf().required("Category is required").test("no-spaces","label_name_error",e=>e.trim())}),p=Ap({enableReinitialize:!0,initialValues:{category_name:r&&r.category_name?r.category_name:""},validationSchema:h,onSubmit:(e,i)=>{let{setSubmitting:r,resetForm:a}=i;ls(!0);let s=new FormData;s.append("o_id",n.id),s.append("category_name",e.category_name),(async e=>await oc(vV).post("".concat(bV,"/edit"),e))(s).then(e=>{r(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),ls(!1),"Save"!==c&&t("/admin/personalization-categories/list/1")):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),ls(!1)}).catch(e=>{zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),console.log("error ====> ",e)})}});return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:u}),(0,Pa.jsx)("form",{onSubmit:p.handleSubmit,children:(0,Pa.jsx)("div",{className:"row row-sm",children:(0,Pa.jsx)("div",{className:"col-lg-12 col-md-12 animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("div",{children:(0,Pa.jsxs)("h6",{className:"main-content-label mb-3",children:[i("btn_edit")," ",i("sidebar_link_testimonial")]})}),(0,Pa.jsxs)("div",{className:"row row-sm",children:[(0,Pa.jsxs)("div",{className:"col-md-6 text-center form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"name",className:"text-left d-flex",children:["Category Name",(0,Pa.jsx)("span",{className:"requirestar",children:"*"})," "]}),(0,Pa.jsx)("input",{name:"category_name",id:"category_name",type:"text",onChange:p.handleChange,onBlur:p.handleBlur,value:p.values.category_name,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"category_name",form:p})})]}),(0,Pa.jsxs)("div",{className:"mt-5",children:[(0,Pa.jsxs)("button",{onClick:()=>{d("Save")},className:"btn btn-info mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),i("btn_save")]}),(0,Pa.jsxs)("button",{onClick:()=>{d("")},className:"btn btn-success mr-2",type:"submit",children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-check bigger-110 mx-1"}),i("btn_save_exit")]}),(0,Pa.jsxs)("button",{className:"btn ripple btn-secondary",type:"button",onClick:()=>t(-1),children:[(0,Pa.jsx)("i",{className:"ace-icon fa fa-times bigger-110 mx-1"}),i("btn_cancel")]})]})]})]})})})})})]})},wV=()=>{const{t:e}=As(),t=ct(),n=at(),[i,r]=(ot(),(0,a.useState)([])),[s,o]=(0,a.useState)("false"),[l,c]=(0,a.useState)(""),[d]=(0,a.useState)(10),[u,h]=(0,a.useState)({}),[p,m]=(0,a.useState)(!0),[f,g]=(0,a.useState)(1),[_,v]=(0,a.useState)(!0),[b,y]=(0,a.useState)({}),[x,w]=(0,a.useState)(""),E=[{title:e("link_dashboard"),url:"/admin/dashboard"},{title:e("Referral History"),url:""}],[S,C]=(0,a.useState)(!1);(0,a.useEffect)(()=>{const e=setTimeout(()=>{if(b){v(!0);const e=new FormData;e.append("page",t.pgno),e.append("per_page",d),e.append("sort",JSON.stringify(u)),e.append("search",JSON.stringify(b)),e.append("global_search",x),(async e=>await oc(GB).post("".concat(qB,"/history"),e))(e).then(e=>{c(e.data.total_records),r(e&&e.data&&e.data.list?e.data.list:[]),g(e&&e.data&&e.data.page?e.data.page:1),v(!1)}).catch(e=>{v(!1),console.log("error ====> ",e)})}},300);return()=>clearTimeout(e)},[n,s,u,b,x,d,t.pgno]);const T=(e,t)=>{let n=Tn({},b);String(t).length>0?n[e]=t:delete n[e],y(n)};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)(Zp,{data:E}),(0,Pa.jsx)("div",{className:"animation_fade",children:(0,Pa.jsx)("div",{className:"card custom-card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Pa.jsx)("h6",{className:"main-content-label",children:e("Referral History")}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Pa.jsx)("div",{className:"form-group mb-0 me-3",children:(0,Pa.jsxs)("div",{className:"form-group mb-0 rangepicker_container filter_design",children:[(0,Pa.jsx)("i",{className:"fa fa-search calender_icon"}),(0,Pa.jsx)("input",{type:"search",className:"form-control",value:x,placeholder:e("input_placeholder_search"),onChange:e=>{w(e.target.value)}})]})}),(0,Pa.jsx)("div",{className:"me-3",children:(0,Pa.jsx)(qA,{GetDateRange:e=>{T("createdAt",e)},resetdate:S})}),(0,Pa.jsx)("button",{type:"reset",value:"Reset",onClick:e=>{e.preventDefault(),w(""),T(),y({}),C(!S)},className:"btn btn-warning float-right mr-2",children:e("btn_reset_filter")})]})]}),(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{className:"table table-bordered border-t0 key-buttons text-nowrap w-100",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("list_heading_sno")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Referrer")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Referee")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Earning Type")})}),(0,Pa.jsx)("th",{className:"position-relative select_head",children:(0,Pa.jsx)("span",{children:e("Earning")})}),(0,Pa.jsx)("th",{className:"created_head",children:(0,Pa.jsxs)("div",{className:"sorting_column",children:[(0,Pa.jsx)("span",{children:e("list_heading_created_date")}),(0,Pa.jsx)(Ff,{sort:u,handleSort:(e,t)=>{m(!1);let n={order:0,column:t};e.target.classList.contains("assc")?n.order=-1:n.order=1,h(n)},defaultSorting:p,column:"createdAt"})]})})]})}),(0,Pa.jsx)("tbody",{children:_?(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:14,children:(0,Pa.jsx)(Bf,{})})}):(0,Pa.jsx)(Pa.Fragment,{children:i.length?i.map((e,t)=>{var n,i,r,a,s,o,l;return(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:e?(f-1)*d+t+1:null}),(0,Pa.jsx)("td",{children:(null===e||void 0===e||null===(n=e.referrer)||void 0===n?void 0:n.name)||"N/A"}),(0,Pa.jsx)("td",{children:(null===e||void 0===e||null===(i=e.referee)||void 0===i?void 0:i.name)||"N/A"}),(0,Pa.jsx)("td",{children:(null===e||void 0===e?void 0:e.earning_type)||"N/A"}),(0,Pa.jsx)("td",{children:(null===e||void 0===e?void 0:e.earning)||"N/A"}),(0,Pa.jsx)("td",{children:(null===e||void 0===e||null===(r=e.user)||void 0===r?void 0:r.name)||"N/A"}),(0,Pa.jsx)("td",{children:(null===e||void 0===e||null===(a=e.transaction)||void 0===a?void 0:a.transaction_id)||"N/A"}),(0,Pa.jsx)("td",{children:(null===e||void 0===e||null===(s=e.transaction)||void 0===s?void 0:s.amount)||"N/A"}),(0,Pa.jsx)("td",{children:(null===e||void 0===e||null===(o=e.coupon_history)||void 0===o?void 0:o.coupon_code)||"N/A"}),(0,Pa.jsx)("td",{children:(null===e||void 0===e||null===(l=e.coupon_history)||void 0===l?void 0:l.discounted_amount)||"N/A"}),(0,Pa.jsx)("td",{children:e.createdAt?Ha(e.createdAt):"N/A"})]},t)}):(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{colSpan:14,className:"text-center",children:e("msg_no_records")})})})})]})}),(0,Pa.jsx)("div",{className:"",id:"example1_info",role:"status","aria-live":"polite",children:(0,Pa.jsxs)("b",{children:[e("msg_total_records")," : ",l||"0"]})}),l&&l>0?(0,Pa.jsx)(Uf,{datalength:l,itemperpage:d,currentPage:f,setPage:g,pageRoute:[{name:"Psychic",path:"/admin/subscription/history/list"}]}):""]})})})]})},EV=(SV=[{path:"/",element:(0,Pa.jsx)(xR,{}),children:[{path:"",element:(0,Pa.jsx)(ER,{})},{path:"/about-us",element:(0,Pa.jsx)(jR,{})},{path:"/contact-us",element:(0,Pa.jsx)(LR,{})},{path:"/inquiry",element:(0,Pa.jsx)(uD,{})},{path:"/services",element:(0,Pa.jsx)(UR,{})},{path:"/privacy-policy",element:(0,Pa.jsx)(BR,{})},{path:"/terms-conditions",element:(0,Pa.jsx)(zR,{})},{path:"/faq",element:(0,Pa.jsx)(WR,{})},{path:"/org-info/:slug",element:(0,Pa.jsx)(PD,{})},{path:"/agora",element:(0,Pa.jsx)(xB,{})},{path:"/test",element:(0,Pa.jsx)(EB,{})},{path:"*",element:(0,Pa.jsx)(qR,{})}]},{path:"psychic",element:(0,Pa.jsx)(yD,{component:wD}),children:[{path:"/psychic/login",element:(0,Pa.jsx)(yD,{component:function(){const e=gn(),t=ot();window.navigate_=t;const[i,r]=(0,a.useState)(!0),[s,o]=(0,a.useState)(!1),{t:l}=As();(0,a.useLayoutEffect)(()=>{Promise.all([n.e(832).then(n.bind(n,7832)),n.e(635).then(n.bind(n,635)),n.e(401).then(n.bind(n,8401))]).then(()=>{e(hr(!1))})},[]);const c=Ap({initialValues:{email:"",password:""},validationSchema:vf().shape({email:rf().trim().required(l("label_email_error")),password:rf().trim().required(l("validation_password_required"))}),onSubmit:e=>{o(!0);let t=new FormData;t.append("email",e.email),t.append("password",e.password),(async e=>await oc().post("".concat(UO,"/login"),e))(t).then(t=>{var n;(o(!1),t.success)?("true"===ns("psychic-remember-me")?(Yp.set("psychic-email",null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.email,{expires:Rs.COOKIES_EXPIRATION}),Yp.set("psychic-password",e.password,{expires:Rs.COOKIES_EXPIRATION})):(Yp.remove("psychic-email"),Yp.remove("psychic-password")),console.log("--------response.data",t.data),Za(Rs.ROLE.PSYCHIC,JSON.stringify(t.data)),localStorage.setItem("psychic",JSON.stringify(t.data)),console.log("--------localstorgare.get item",localStorage.getItem("psychic")),zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),hs({successURL:"/psychic",role:Rs.ROLE.PSYCHIC})):zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error: ",e)})}});return(0,a.useEffect)(()=>{const e=Yp.get("psychic-email"),t=Yp.get("psychic-password");e&&c.setFieldValue("email",e),t&&c.setFieldValue("password",t)},[]),(0,Pa.jsx)("div",{className:"auth-page login-page",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsxs)("div",{className:"row",children:[(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"auth-form login-form",children:[(0,Pa.jsx)("div",{className:"auth-form-header",children:(0,Pa.jsx)("a",{href:"/","aria-label":"Go to homepage",children:(0,Pa.jsx)("img",{alt:"Reloaded logo",src:gR})})}),(0,Pa.jsxs)("div",{className:"auth-form-body",children:[(0,Pa.jsx)("h2",{children:l("link_login")}),(0,Pa.jsxs)("form",{onSubmit:c.handleSubmit,children:[(0,Pa.jsxs)("div",{className:"form-group mb-3",children:[(0,Pa.jsx)("label",{htmlFor:"email",className:"form-label cp",children:l("label_login_ID")}),(0,Pa.jsx)("input",{type:"email",name:"email",id:"email",className:"form-control",placeholder:l("placeholder_login_ID"),onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.email}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"email",form:c})})]}),(0,Pa.jsxs)("div",{className:"form-group mb-3",children:[(0,Pa.jsx)("label",{htmlFor:"password",className:"form-label cp",children:l("label_password")}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{type:!0===!i?"text":"password",name:"password",id:"password",className:"form-control",placeholder:l("placeholder_enter_password"),onChange:c.handleChange,onBlur:c.handleBlur,value:c.values.password}),(0,Pa.jsx)("span",{className:"input-group-text cp",onClick:()=>{r(!i)},children:!0===!i?(0,Pa.jsx)("i",{className:"far fa-eye-slash"}):(0,Pa.jsx)("i",{className:"far fa-eye"})})]}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"password",form:c})})]}),(0,Pa.jsxs)("div",{className:"form-check",children:[(0,Pa.jsx)("input",{className:"form-check-input cp",type:"checkbox",id:"flexCheckDefault",onChange:function(e){console.log(e.target.checked),e.target.checked?ts("psychic-remember-me","true"):(is("psychic-remember-me"),Yp.remove("psychic-email"),Yp.remove("psychic-password"))},value:"true",defaultChecked:(Yp.get("psychic-email"),Yp.get("psychic-password"))}),(0,Pa.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,Pa.jsx)("label",{className:"form-check-label cp",htmlFor:"flexCheckDefault",children:l("remember_me")}),(0,Pa.jsx)(qt,{to:"/psychic/forget-password",className:"cp fw-bold text-primary",children:l("link_forget_password")})]})]}),(0,Pa.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",children:l("link_login")})]})]})]})}),(0,Pa.jsxs)("div",{className:"bg-login-img",children:[(0,Pa.jsx)("img",{src:LO,alt:"All planets astrology image"}),(0,Pa.jsx)("img",{src:MO,className:"stone-img",alt:"",role:"presentation"})]})]})})})}})},{path:"/psychic/forget-password",element:(0,Pa.jsx)(yD,{component:xD})},{path:"/psychic/otp-verification",element:(0,Pa.jsx)(yD,{component:CD})},{path:"/psychic/reset-password",element:(0,Pa.jsx)(yD,{component:TD})}]},{path:"/psychic",element:(0,Pa.jsx)(hD,{component:DO}),children:[{path:"",element:(0,Pa.jsx)(BO,{}),children:[{path:"",element:(0,Pa.jsx)(hD,{component:function(){var e;const{t:t}=As(),n=ot(),[i,r]=(0,a.useState)([]),[s,o]=(0,a.useState)({}),[l,c]=(0,a.useState)({}),[d]=(0,a.useState)(4),[u,h]=(0,a.useState)(1),[p,m]=(0,a.useState)(!1),[f,g]=(0,a.useState)(!1),_=(0,a.useRef)(null),[v,b]=(0,a.useState)([]),[y,x]=(0,a.useState)({}),[w,E]=(0,a.useState)({start_date:QO()().subtract(30,"days").startOf("day"),end_date:QO()().endOf("day")}),S=(0,a.useRef)(null),[C,T]=(0,a.useState)("");(0,a.useEffect)(()=>{if(v.length>0){const e=v.map(e=>"".concat(e.date,": \u20ac").concat(e.totalAmount.toFixed(2))).join(". "),n="".concat(t("label_earnings_from")," ").concat(w.start_date.format("DD MMM YYYY")," ").concat(t("label_to")," ").concat(w.end_date.format("DD MMM YYYY"),". ").concat(t("label_total_entries"),": ").concat(v.length,". ").concat(e);T(n),setTimeout(()=>{var e;null===(e=S.current)||void 0===e||e.focus()},100)}},[v,w,t]),(0,a.useEffect)(()=>{HO({page:1,per_page:5}).then(e=>{var t;r(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list)}).catch(e=>{console.log("error ====>",e)}),g(!0),WO().then(e=>{o(null===e||void 0===e?void 0:e.data),setTimeout(()=>{g(!1)},Rs.LOADER_TIMEOUT_TIME)}).catch(e=>{console.log("error ====>",e),setTimeout(()=>{g(!1)},Rs.LOADER_TIMEOUT_TIME)})},[]),(0,a.useEffect)(()=>{m(!0);const e=new FormData;e.append("page",u),e.append("per_page",d),(async e=>await oc(GO).post("".concat(qO,"/upcoming-booking-list"),e))(e).then(e=>{var t;c(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list),setTimeout(()=>{m(!1)},Rs.LOADER_TIMEOUT_TIME)}).catch(e=>{console.log("Error fetching booking data: ",e),setTimeout(()=>{m(!1)},Rs.LOADER_TIMEOUT_TIME)})},[]),(0,a.useEffect)(()=>{(async e=>await oc(VO).get("".concat(zO,"/dashboard-data"),e))().then(e=>{x(null===e||void 0===e?void 0:e.data)}).catch(e=>{console.log("Error===>",e)})},[]),(0,a.useEffect)(()=>{(async e=>await oc(VO).post("".concat(zO,"/earning-by-date"),e))({selected_date:w}).then(e=>{var t;console.log("earnings-=-=--\x3e",e),b(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list)}).catch(e=>{console.log("Error-=-==>",e)})},[w]);const N={chart:{id:"chartId",height:280,type:"area",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!1,selection:!1,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,reset:!1,customIcons:[]},autoSelected:"zoom"}},dataLabels:{enabled:!1},colors:["#FDD39E","#32F474"],fill:{type:"gradient",gradient:{shadeIntensity:1,gradientToColors:["#FDD39E"],inverseColors:!0,opacityFrom:.7,opacityTo:.3,stops:[0,100,90]}},xaxis:{type:"datetime",categories:v?null===v||void 0===v?void 0:v.map(e=>null===e||void 0===e?void 0:e.date):[]},yaxis:{labels:{formatter:e=>"\u20ac ".concat(null===e||void 0===e?void 0:e.toFixed(2))}},tooltip:{y:{formatter:function(e){return"(\u20ac ".concat(null===e||void 0===e?void 0:e.toFixed(2),")")}},followCursor:!0,intersect:!1},legend:{position:"top"},grid:{show:!0,borderColor:"#EEE",strokeDashArray:2,position:"back",xaxis:{lines:{show:!0}},yaxis:{lines:{show:!0}}},markers:{size:3,colors:["#fff"],strokeColors:["#5A045A","#008000"],strokeWidth:1,fillOpacity:1,hover:{size:void 0,sizeOffset:0}},stroke:{curve:"smooth",width:2}},A=[{name:t("title_amount"),data:v?null===v||void 0===v?void 0:v.map(e=>null===e||void 0===e?void 0:e.totalAmount):[]}];return(0,Pa.jsxs)("div",{className:"dashboard-right-container",id:"dashboard-right-container",tabIndex:"-1",children:[(0,Pa.jsx)("div",{className:"dashboard-header",children:(0,Pa.jsx)("h2",{className:"heading-22-bold",children:t("link_dashboard")})}),(0,Pa.jsx)("div",{className:"dashboard-body",children:(0,Pa.jsxs)("div",{className:"d-flex flex-column gap-4",children:[(0,Pa.jsxs)("div",{className:"row dashboard-info-card",children:[(0,Pa.jsx)("div",{className:"col-md-4",children:(0,Pa.jsxs)("div",{className:"dashboard-info-card-item",children:[(0,Pa.jsx)("p",{children:t("dashboard_today_schedule")}),(0,Pa.jsxs)("h4",{className:"heading-20-medium",children:[null!==y&&void 0!==y&&y.todayBookings?null===y||void 0===y?void 0:y.todayBookings:0," ",t("dashboard_tab_session")]})]})}),(0,Pa.jsx)("div",{className:"col-md-4",children:(0,Pa.jsxs)("div",{className:"dashboard-info-card-item",children:[(0,Pa.jsx)("p",{children:t("dashboard_total_earnings")}),(0,Pa.jsxs)("h4",{className:"heading-20-medium",children:["$ ",null!==y&&void 0!==y&&y.totalEarning?null===y||void 0===y||null===(e=y.totalEarning)||void 0===e?void 0:e.toFixed(2):0]})]})}),(0,Pa.jsx)("div",{className:"col-md-4",children:(0,Pa.jsxs)("div",{className:"dashboard-info-card-item",children:[(0,Pa.jsx)("p",{children:t("dashboard_total_sessions")}),(0,Pa.jsxs)("h4",{className:"heading-20-medium",children:[null!==y&&void 0!==y&&y.totalBookings?null===y||void 0===y?void 0:y.totalBookings:0," ",t("dashboard_tab_session")]})]})})]}),(0,Pa.jsx)("div",{className:"card-body",children:(0,Pa.jsxs)("div",{className:"chart-container",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Pa.jsx)("h4",{className:"heading-18-semibold",children:t("label_my_earning")}),(0,Pa.jsxs)("div",{className:"d-flex gap-1",children:[(0,Pa.jsx)("button",{onClick:()=>E({start_date:QO()().subtract(7,"days").startOf("day"),end_date:QO()(),duration:"week"}),className:"btn btn-secondary",children:t("btn_last7_days")}),(0,Pa.jsx)("button",{onClick:()=>E({start_date:QO()().subtract(30,"days").startOf("day"),end_date:QO()(),duration:"month"}),className:"btn btn-secondary",children:t("btn_last30_days")}),(0,Pa.jsx)(VA,{format:"dd-MM-yyyy",cleanable:!0,placeholder:t("menu_of_page_custom"),classPrefix:"userInput",caretAs:()=>(0,Pa.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAoCAYAAACWwljjAAAAAXNSR0IArs4c6QAAAiBJREFUWAntWNFtwyAQ9SgdoVJNlM8bISEDtBskG6QjdKOO0BEyQkZoe+DnAEcBQ0IbqZHQ4YN77+XAGBiGgp8i/bKi3XNB12iX1ngPlMEU6U8uNaJa4z0x/DCSfoUgrosOGUdrvIBvBWyNH0baEIOgKNq+I0Nch7/UpuM3JDIABwtRpE8XcjtvOjyfmBs6jJ3EmInbQUCUxxPlZmYkfVa0fcOQpFN+GVr0D+1P8czh8nI9lp3TmjYPbvqYAFnjuttWUk/FM5cyCbDTw2TJDWDVIYnbfm1BzPVkM2WG0eDnCFsXtly84BeOMEXDMDBozSoNqFS84BcOoHSygl84OgkBjeAXDvTsZAW/cHQSAhrB7zpqvlUc31LchZNxvO0FFsDfsvcgaPn2omW4ODY5ZCZlmG2drBWFb1kwh/4FxfbsImWdhgo0gl840LPQ2t3mbq9ot38M9lIlEIJfOEpQpj4j6WO4Zq1IHxdAeOsga5GOQjTORigGz97+OIMnEiIcGQA0j6QPEKBo+2HL/Poe0C9nBb9w5BCm9j8oyJzjokea8KCQ+o8iIcKRig7a3FgM32rhycTF4Hr1pIY2e5Sxr/2SyYz4qwsCcK29L0Gxg2LtPy+NixwUvbflXLP8l5KH/abFdb5xmedgeOh3Lxt4jG9RJo4z3s75soFV2w9kt/ug6No1ZwdpnETN6XOURwGu2C4vrCAK2brFEMUxg5uzbwFf9NA1DV8GiTIAAAAASUVORK5CYII=",alt:"Custom Caret",style:{width:20,height:20}}),value:"custom"===w.duration?[w.start_date.toDate(),w.end_date.toDate()]:null,onChange:e=>{E(e?{start_date:QO()(e[0]).startOf("day"),end_date:QO()(e[1]).endOf("day"),duration:"custom"}:{start_date:null,end_date:null,duration:null})}})]})]}),(0,Pa.jsxs)("figure",{children:[(0,Pa.jsx)("figcaption",{ref:S,tabIndex:"-1",className:"sr-only","aria-live":"polite","aria-atomic":"true",children:C}),(0,Pa.jsx)("div",{role:"img","aria-label":"Earnings from ".concat(w.start_date.format("DD MMM YYYY")," to ").concat(w.end_date.format("DD MMM YYYY"),". Total entries: ").concat(v.length),children:(0,Pa.jsx)(If.A,{ref:_,options:N,series:A,type:"area",height:350,className:"dayReport"})}),(0,Pa.jsxs)("table",{className:"sr-only",children:[(0,Pa.jsx)("caption",{children:t("caption_my_earnings_over_time")}),(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{scope:"col",children:t("table_header_date")}),(0,Pa.jsx)("th",{scope:"col",children:t("table_header_earnings_euro")})]})}),(0,Pa.jsx)("tbody",{children:v.map((e,t)=>(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:e.date}),(0,Pa.jsxs)("td",{children:["\u20ac ",e.totalAmount.toFixed(2)]})]},t))})]})]})]})}),(null===l||void 0===l?void 0:l.length)>0&&(0,Pa.jsxs)("div",{className:"upcoming-appointment-sec",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,Pa.jsx)("h4",{className:"heading-18-semibold",children:t("label_upcoming_appointments")}),(0,Pa.jsx)(qt,{to:"/psychic/my-bookings",className:" btn-text",children:t("link_view_all")})]}),(0,Pa.jsx)("div",{className:"row row-gap-3 appointment-list",children:p?(0,Pa.jsx)("div",{className:"row row-gap-3 appointment-list",children:[...Array(4)].map((e,t)=>(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"upcoming-appointment-card d-flex gap-3",children:[(0,Pa.jsx)("figure",{className:"avatar avatar-md",children:(0,Pa.jsx)(OR,{circle:!0,height:50,width:50})}),(0,Pa.jsxs)("figcaption",{className:"d-flex flex-column gap-1",children:[(0,Pa.jsx)(OR,{width:"150px",height:"20px"}),(0,Pa.jsx)(OR,{width:"100px",height:"15px"}),(0,Pa.jsx)(OR,{width:"120px",height:"15px"})]}),(0,Pa.jsxs)("div",{className:"appointment-card-action d-flex flex-column gap-2 justify-content-between",children:[(0,Pa.jsx)(OR,{width:"100px",height:"15px"}),(0,Pa.jsx)(OR,{width:"80px",height:"30px"})]})]})},t))}):null===l||void 0===l?void 0:l.map(e=>{var i,r,a;return(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"upcoming-appointment-card d-flex gap-3",children:[(0,Pa.jsx)("figure",{className:"avatar avatar-md",children:(0,Pa.jsx)("img",{alt:"avatar",src:null===e||void 0===e||null===(i=e.client)||void 0===i?void 0:i.profile_image})}),(0,Pa.jsxs)("figcaption",{className:"d-flex flex-column gap-1",children:[(0,Pa.jsx)("h4",{className:"heading-18-semibold",children:os(null===e||void 0===e||null===(r=e.client)||void 0===r?void 0:r.name)}),(0,Pa.jsx)("p",{className:"m-0",children:qa(null===e||void 0===e?void 0:e.date)}),(0,Pa.jsxs)("p",{className:"m-0",children:[t("consultation"),": ",os(null===e||void 0===e?void 0:e.mode_of_consultation)]})]}),(0,Pa.jsxs)("div",{className:"appointment-card-action d-flex flex-column gap-2 justify-content-between",children:[(0,Pa.jsxs)("span",{className:"d-block text-end",children:[t("duration"),": 1 ",t("label_hour")]}),(a=null===e||void 0===e?void 0:e.date,new Date(a).toISOString()<=(new Date).toISOString()&&(0,Pa.jsx)("button",{className:"btn btn-primary",onClick:()=>(e=>{var t;"chat"===(null===e||void 0===e?void 0:e.mode_of_consultation.toLowerCase())?n("/psychic/chat/".concat(e._id,"?receiverID=").concat(null===e||void 0===e||null===(t=e.client)||void 0===t?void 0:t._id),{state:{receiver:null===e||void 0===e?void 0:e.client}}):n("/psychic/meeting")})(e),children:t("btn_join")}))]})]})})})})]}),s&&(null===s||void 0===s?void 0:s.total_feedbacks)>0&&(0,Pa.jsxs)("div",{className:"dashboard-rating-sec",children:[(0,Pa.jsx)("h4",{className:"heading-18-semibold mb-3",children:t("label_overall_rating")}),f?(0,Pa.jsxs)("div",{className:"rating-info-box",children:[(0,Pa.jsxs)("div",{className:"rating-info-item",children:[(0,Pa.jsx)("h2",{children:(0,Pa.jsx)(OR,{width:"50px",height:"30px"})}),(0,Pa.jsx)("div",{className:"rating-start mt-3",children:Array.from({length:5}).map((e,t)=>(0,Pa.jsx)(OR,{circle:!0,width:20,height:20,style:{display:"inline-block",margin:"0 3px"}},t))}),(0,Pa.jsx)("span",{children:(0,Pa.jsx)(OR,{width:"60px",height:"20px"})})]}),(0,Pa.jsx)("div",{className:"rating-bars",children:[5,4,3,2,1].map(e=>(0,Pa.jsxs)("div",{className:"rating-bar-item",children:[(0,Pa.jsx)("span",{children:(0,Pa.jsx)(OR,{width:"10px",height:"15px"})}),(0,Pa.jsx)("div",{className:"progress",role:"progressbar","aria-valuemax":"100",children:(0,Pa.jsx)("div",{className:"progress-bar",children:(0,Pa.jsx)(OR,{})})})]},e))})]}):(0,Pa.jsxs)("div",{className:"rating-info-box",children:[(0,Pa.jsxs)("div",{className:"rating-info-item",children:[(0,Pa.jsx)("h2",{children:null===s||void 0===s?void 0:s.average_rating}),(0,Pa.jsx)("div",{className:"rating-start mt-3",children:Array.from({length:5}).map((e,t)=>{const n=t<Math.floor(null===s||void 0===s?void 0:s.average_rating),i=t===Math.floor(null===s||void 0===s?void 0:s.average_rating)&&(null===s||void 0===s?void 0:s.average_rating)%1>=.5;return(0,Pa.jsx)("i",{className:"ti ".concat(n?"ti-star-filled":i?"ti-star-half-filled":"ti-star")},t)})}),(0,Pa.jsx)("span",{children:null===s||void 0===s?void 0:s.total_feedbacks})]}),(0,Pa.jsxs)("div",{className:"rating-bars",children:[(0,Pa.jsxs)("div",{className:"rating-bar-item",children:[(0,Pa.jsx)("span",{children:"5"}),(0,Pa.jsx)("div",{className:"progress",role:"progressbar","aria-valuemax":"100","aria-label":"Loading progress",children:(0,Pa.jsx)("div",{className:"progress-bar",style:{width:"".concat(null===s||void 0===s?void 0:s.star_5_percent,"%")}})})]}),(0,Pa.jsxs)("div",{className:"rating-bar-item",children:[(0,Pa.jsx)("span",{children:"4"}),(0,Pa.jsx)("div",{className:"progress",role:"progressbar","aria-valuemax":"100","aria-label":"Loading progress",children:(0,Pa.jsx)("div",{className:"progress-bar",style:{width:"".concat(null===s||void 0===s?void 0:s.star_4_percent,"%")}})})]}),(0,Pa.jsxs)("div",{className:"rating-bar-item",children:[(0,Pa.jsx)("span",{children:"3"}),(0,Pa.jsx)("div",{className:"progress",role:"progressbar","aria-valuemax":"100","aria-label":"Loading progress",children:(0,Pa.jsx)("div",{className:"progress-bar",style:{width:"".concat(null===s||void 0===s?void 0:s.star_3_percent,"%")}})})]}),(0,Pa.jsxs)("div",{className:"rating-bar-item",children:[(0,Pa.jsx)("span",{children:"2"}),(0,Pa.jsx)("div",{className:"progress",role:"progressbar","aria-valuemax":"100","aria-label":"Loading progress",children:(0,Pa.jsx)("div",{className:"progress-bar",style:{width:"".concat(null===s||void 0===s?void 0:s.star_2_percent,"%")}})})]}),(0,Pa.jsxs)("div",{className:"rating-bar-item",children:[(0,Pa.jsx)("span",{children:"1"}),(0,Pa.jsx)("div",{className:"progress",role:"progressbar","aria-valuemax":"100","aria-label":"Loading progress",children:(0,Pa.jsx)("div",{className:"progress-bar",style:{width:"".concat(null===s||void 0===s?void 0:s.star_1_percent,"%")}})})]})]})]})]}),(null===i||void 0===i?void 0:i.length)>0&&(0,Pa.jsxs)("div",{className:"customer-feedback-sec",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,Pa.jsx)("h4",{className:"heading-18-semibold",children:t("label_customer_feedback")}),(0,Pa.jsx)(qt,{to:"/psychic/feedback",className:"btn-text",children:t("link_view_all")})]}),(0,Pa.jsx)("div",{className:"customer-feedback-list d-flex flex-column gap-3 ",children:null===i||void 0===i?void 0:i.map(e=>{var t,n;return(0,Pa.jsxs)("div",{className:"feedback-list-card",children:[(0,Pa.jsxs)("div",{className:"feedback-list-card-header d-flex gap-3",children:[(0,Pa.jsx)("figure",{className:"avatar avatar-sm",children:(0,Pa.jsx)("img",{alt:"avatar",src:null===e||void 0===e||null===(t=e.client_details)||void 0===t?void 0:t.profile_image})}),(0,Pa.jsxs)("figcaption",{className:"w-100",children:[(0,Pa.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2 mb-1",children:[(0,Pa.jsx)("h4",{className:"heading-16-semibold",children:os(null===(n=e.client_details)||void 0===n?void 0:n.name)}),(0,Pa.jsx)("span",{children:Wa(null===e||void 0===e?void 0:e.createdAt)})]}),(0,Pa.jsx)("div",{className:"rating-start",children:Array.from({length:5}).map((t,n)=>(0,Pa.jsx)("i",{className:"ti ".concat(n<(null===e||void 0===e?void 0:e.rating)?"ti-star-filled":"ti-star")},n))})]})]}),(0,Pa.jsx)("div",{className:"feedback-list-card-footer",children:(0,Pa.jsx)("p",{className:"m-0",children:null===e||void 0===e?void 0:e.feedback_text})})]})})})]})]})})]})}})},{path:"feedback",element:(0,Pa.jsx)(hD,{component:function(){const{t:e}=As(),[t,n]=(0,a.useState)([]),[i,r]=(0,a.useState)({}),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(1),[d,u]=(0,a.useState)(!0),[h,p]=(0,a.useState)(0),[m,f]=(0,a.useState)(!1),g=(0,a.useRef)(null),_=(0,a.useCallback)(()=>{!s&&d&&(o(!0),HO({page:l}).then(e=>{var t,i,r;const a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list;n(e=>[...e,...a]),p((null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.total_records)||0),u(a.length>0&&(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.list.length)<h),c(e=>e+1)}).catch(e=>{console.log("Error fetching feedbacks:",e)}).finally(()=>{o(!1)}))},[s,d,l,h]);return(0,a.useEffect)(()=>{_(),WO().then(e=>{r(null===e||void 0===e?void 0:e.data)}).catch(e=>{console.log("Error fetching overall rating:",e)})},[]),(0,a.useEffect)(()=>{const e={root:null,rootMargin:"20px",threshold:1};if(g.current){const t=new IntersectionObserver(e=>{e[0].isIntersecting&&d&&!s&&_()},e);return t.observe(g.current),()=>t.disconnect()}},[d,s,_]),(0,a.useEffect)(()=>{const e=()=>{f(window.scrollY>300)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,a.useEffect)(()=>{const e=document.querySelector(".feedback-body");if(!e)return;const t=()=>{f(e.scrollTop>300)};return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)},[]),(0,Pa.jsxs)("div",{className:"dashboard-right-container",children:[(0,Pa.jsxs)("div",{className:"sticky-buttons",children:[m&&(0,Pa.jsx)("button",{className:"btn-icon",title:e("label_go_to_top")||"Go to top",onClick:()=>{const e=document.querySelector(".dashboard-body");e&&e.scrollTo({top:0,behavior:"smooth"})},children:"\u2b06\ufe0f"}),(0,Pa.jsx)("button",{className:"btn-icon",title:e("label_go_back")||"Go back",onClick:()=>window.history.back(),children:"\ud83d\udd19"})]}),(0,Pa.jsx)("div",{className:"dashboard-header",children:(0,Pa.jsx)("h2",{className:"heading-22-bold text-center",children:e("label_customer_feedback")})}),(0,Pa.jsx)("div",{className:"dashboard-body feedback-body",tabIndex:0,children:(0,Pa.jsxs)("div",{className:"d-flex flex-column gap-4",children:[(0,Pa.jsxs)("div",{className:"dashboard-rating-sec",children:[(0,Pa.jsx)("h4",{className:"heading-18-semibold mb-3",children:e("label_overall_rating")}),(0,Pa.jsxs)("div",{className:"rating-info-box",children:[(0,Pa.jsxs)("div",{className:"rating-info-item",children:[(0,Pa.jsx)("h2",{children:null===i||void 0===i?void 0:i.average_rating}),(0,Pa.jsx)("div",{className:"rating-start mt-3",children:Array.from({length:5}).map((e,t)=>{const n=t<Math.floor(null===i||void 0===i?void 0:i.average_rating),r=t===Math.floor(null===i||void 0===i?void 0:i.average_rating)&&(null===i||void 0===i?void 0:i.average_rating)%1>=.5;return(0,Pa.jsx)("i",{className:"ti ".concat(n?"ti-star-filled":r?"ti-star-half-filled":"ti-star")},t)})}),(0,Pa.jsx)("span",{children:null===i||void 0===i?void 0:i.total_feedbacks})]}),(0,Pa.jsxs)("div",{className:"rating-bars",children:[(0,Pa.jsxs)("div",{className:"rating-bar-item",children:[(0,Pa.jsx)("span",{children:"5"}),(0,Pa.jsx)("div",{className:"progress",role:"progressbar","aria-valuemax":"100","aria-label":"Loading progress",children:(0,Pa.jsx)("div",{className:"progress-bar",style:{width:"".concat(null===i||void 0===i?void 0:i.star_5_percent,"%")}})})]}),(0,Pa.jsxs)("div",{className:"rating-bar-item",children:[(0,Pa.jsx)("span",{children:"4"}),(0,Pa.jsx)("div",{className:"progress",role:"progressbar","aria-valuemax":"100","aria-label":"Loading progress",children:(0,Pa.jsx)("div",{className:"progress-bar",style:{width:"".concat(null===i||void 0===i?void 0:i.star_4_percent,"%")}})})]}),(0,Pa.jsxs)("div",{className:"rating-bar-item",children:[(0,Pa.jsx)("span",{children:"3"}),(0,Pa.jsx)("div",{className:"progress",role:"progressbar","aria-valuemax":"100","aria-label":"Loading progress",children:(0,Pa.jsx)("div",{className:"progress-bar",style:{width:"".concat(null===i||void 0===i?void 0:i.star_3_percent,"%")}})})]}),(0,Pa.jsxs)("div",{className:"rating-bar-item",children:[(0,Pa.jsx)("span",{children:"2"}),(0,Pa.jsx)("div",{className:"progress",role:"progressbar","aria-valuemax":"100","aria-label":"Loading progress",children:(0,Pa.jsx)("div",{className:"progress-bar",style:{width:"".concat(null===i||void 0===i?void 0:i.star_2_percent,"%")}})})]}),(0,Pa.jsxs)("div",{className:"rating-bar-item",children:[(0,Pa.jsx)("span",{children:"1"}),(0,Pa.jsx)("div",{className:"progress",role:"progressbar","aria-valuemax":"100","aria-label":"Loading progress",children:(0,Pa.jsx)("div",{className:"progress-bar",style:{width:"".concat(null===i||void 0===i?void 0:i.star_1_percent,"%")}})})]})]})]})]}),(0,Pa.jsxs)("div",{className:"customer-feedback-sec",children:[(0,Pa.jsx)("div",{className:"customer-feedback-list d-flex flex-column gap-3",children:null===t||void 0===t?void 0:t.map((e,n)=>{var i,r;return(0,Pa.jsxs)("div",{className:"feedback-list-card",ref:t.length===n+1?g:null,children:[(0,Pa.jsxs)("div",{className:"feedback-list-card-header d-flex gap-3",children:[(0,Pa.jsx)("figure",{className:"avatar avatar-sm",children:(0,Pa.jsx)("img",{alt:"user profile",src:null===e||void 0===e||null===(i=e.client_details)||void 0===i?void 0:i.profile_image})}),(0,Pa.jsxs)("figcaption",{className:"w-100",children:[(0,Pa.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2 mb-1",children:[(0,Pa.jsx)("h4",{className:"heading-16-semibold",children:os(null===(r=e.client_details)||void 0===r?void 0:r.name)}),(0,Pa.jsx)("span",{children:Wa(null===e||void 0===e?void 0:e.createdAt)})]}),(0,Pa.jsx)("div",{className:"rating-start",children:Array.from({length:5}).map((t,n)=>(0,Pa.jsx)("i",{className:"ti ".concat(n<(null===e||void 0===e?void 0:e.rating)?"ti-star-filled":"ti-star")},n))})]})]}),(0,Pa.jsx)("div",{className:"feedback-list-card-footer",children:(0,Pa.jsx)("p",{className:"m-0",children:null===e||void 0===e?void 0:e.feedback_text})})]},(null===e||void 0===e?void 0:e.id)||n)})}),s&&(0,Pa.jsx)("div",{children:"Loading..."})]})]})})]})}})},{path:"my-calendar",element:(0,Pa.jsx)(hD,{component:function(){var e,t,n,i,r;const{t:s}=As(),o=(0,a.useRef)(),l=(0,a.useRef)(),[c,d]=(0,a.useState)("week"),[u,h]=(0,a.useState)("AMPM"),[p,m]=(0,a.useState)(jf()()),[f,g]=(0,a.useState)(0),[_,v]=(0,a.useState)(0),[b,y]=(0,a.useState)(null),[x,w]=(0,a.useState)(null),[E,S]=(0,a.useState)("false"),[C,T]=(0,a.useState)("false"),[N,A]=(0,a.useState)([]),[k,R]=(0,a.useState)([]),[I,O]=(0,a.useState)(!1),[j,P]=(0,a.useState)({}),[D,L]=(0,a.useState)(""),[M,U]=(0,a.useState)(""),[F,B]=(0,a.useState)("");(0,a.useEffect)(()=>{O(!0),YO({start_date:"",end_date:""}).then(e=>{var t;A(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list),setTimeout(()=>{O(!1)},Rs.LOADER_TIMEOUT_TIME)}).catch(e=>{setTimeout(()=>{O(!1)},Rs.LOADER_TIMEOUT_TIME),console.log("Error fetching booking data: ",e)})},[E]);const V=()=>{const e=new FormData,t=H[0],n=1===(null===H||void 0===H?void 0:H.length)?H[0]:H[H.length-1],i=QO()(t).startOf("day").toISOString(),r=QO()(n).endOf("day").toISOString();e.append("start_date",i),e.append("end_date",r),(async e=>await oc(vj).post("".concat(bj,"/get-availability"),e))(e).then(e=>{const t=null===e||void 0===e?void 0:e.data;R(t)}).catch(e=>{console.error("Error fetching booking data:",e)})};(0,a.useEffect)(()=>{V()},[C,p,c]);const z=(e=>{const t=[];let n=jf()().startOf("day");for(let i=0;i<1440;i+=e){const i=n.add(e,"minute");t.push({start_time:n.format(),end_time:i.format()}),n=i}return t})(60),H="day"===c?[p.startOf("day").toDate().toISOString()]:"week"===c?Array.from({length:7},(e,t)=>p.startOf("week").add(t,"day").toDate().toISOString()):[];console.log("dateHeaders---------\x3e",H);const W=(e,t)=>{const{start_time:n}=t,i=QO()(e),r=QO()(n),a=i.set("hour",r.hour()).set("minute",r.minute()).set("second",r.second()).utc(),s=null===N||void 0===N?void 0:N.find(e=>"booked"===e.booking_status&&e.date===a.toISOString());return s||{booking_status:"available"}};console.log("availabilitySlot---i->",k);const G=(e,t)=>{const{start_time:n}=t,i=QO()(e),r=QO()(n),a=i.set("hour",r.hour()).set("minute",r.minute()).set("second",r.second()).utc();return null===k||void 0===k?void 0:k.some(e=>"available"===e.availability_status&&e.date===a.toISOString())};(0,a.useEffect)(()=>{let e=0,t=0;z.forEach(n=>{H.forEach(i=>{jf()(i).format("dddd");const r=W(i,n),a=G(i,n);"booked"===r.booking_status?e+=1:a&&(t+=1)})}),g(e),v(t)},[z,H]);const q=vf().shape({slot_type:rf().required("Slot type is required"),recurring_end_date:cf().nullable().test("required-if-recurring","Recurring end date is required",function(e){const{slot_type:t}=this.parent;return"recurring"!==t||!!e})}),Y=Ap({enableReinitialize:!0,initialValues:{date:null!==x&&void 0!==x&&x.start_time?null===x||void 0===x?void 0:x.start_time:"",availability_status:"available",slot_type:"",recurring_end_date:""},validationSchema:q,onSubmit:e=>{var t;const n=new FormData;n.append("date",e.date),n.append("availability_status",e.availability_status),n.append("slot_type",e.slot_type),"recurring"===e.slot_type&&n.append("recurring_end_date",e.recurring_end_date),null===o||void 0===o||null===(t=o.current)||void 0===t||t.click(),(async e=>await oc(vj).post("".concat(bj,"/schedule-availability"),e))(n).then(e=>{e.success?(T(!C),zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS))):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error---\x3e",e)})}});Ap({initialValues:{availability:[{day:"Monday",is_available:!1,slots:[{start_time:null,end_time:null}]},{day:"Tuesday",is_available:!1,slots:[{start_time:null,end_time:null}]},{day:"Wednesday",is_available:!1,slots:[{start_time:null,end_time:null}]},{day:"Thursday",is_available:!1,slots:[{start_time:null,end_time:null}]},{day:"Friday",is_available:!1,slots:[{start_time:null,end_time:null}]},{day:"Saturday",is_available:!1,slots:[{start_time:null,end_time:null}]},{day:"Sunday",is_available:!1,slots:[{start_time:null,end_time:null}]}]},onSubmit:e=>{const t={availability:e.availability};XO(t).then(e=>{e.success?(T(!C),zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS))):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error---\x3e",e)})}});const X=async()=>{x.start_time&&(async e=>await oc(vj).get("".concat(bj,"/cancel-availability?date=").concat(e)))(x.start_time).then(e=>{V(),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})},K=()=>{_j("psychic_booking_cancel_policy").then(e=>{P(null===e||void 0===e?void 0:e.data[0])}).catch(e=>{console.log("Error fetching privacy policy: ",e)})};return console.log("availabilityFormik formic value--\x3e",Y.values),(0,Pa.jsxs)("div",{className:"dashboard-right-container",children:[(0,Pa.jsx)("div",{className:"dashboard-header d-flex justify-content-between",children:(0,Pa.jsx)("h2",{className:"heading-22-bold",children:s("sidebar_my_calender")})}),(0,Pa.jsx)("div",{className:"dashboard-body",children:(0,Pa.jsxs)("div",{className:"d-flex flex-column gap-4",children:[(0,Pa.jsxs)("div",{className:"row dashboard-info-card",children:[(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"dashboard-info-card-item",children:[(0,Pa.jsxs)("div",{className:"dashboard-info-card-text",children:[(0,Pa.jsx)("p",{children:s("booked_slots")}),(0,Pa.jsx)("h4",{className:"heading-20-medium",children:f})]}),(0,Pa.jsx)("div",{className:"dashboard-card-figure",children:(0,Pa.jsx)("img",{src:$O,alt:"booked-slots",width:"100%"})})]})}),(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"dashboard-info-card-item",children:[(0,Pa.jsxs)("div",{className:"dashboard-info-card-text",children:[(0,Pa.jsx)("p",{children:s("available_slots")}),(0,Pa.jsx)("h4",{className:"heading-20-medium",children:_})]}),(0,Pa.jsx)("div",{className:"dashboard-card-figure",children:(0,Pa.jsx)("img",{src:ej,alt:"available-slots",width:"100%"})})]})})]}),(0,Pa.jsxs)("div",{className:"calendar-container",children:[(0,Pa.jsx)("div",{className:"calender-status",children:(0,Pa.jsxs)("ul",{className:"d-flex align-items-center justify-content-center p-0",children:[(0,Pa.jsxs)("li",{children:[(0,Pa.jsx)("span",{className:"status-point available-status"}),s("label_available")]}),(0,Pa.jsxs)("li",{children:[(0,Pa.jsx)("span",{className:"status-point booked-status"}),s("label_booked")]}),(0,Pa.jsxs)("li",{children:[(0,Pa.jsx)("span",{className:"status-point blocked-status"}),s("label_blocked")]})]})}),(0,Pa.jsxs)("div",{className:"calendar-header",children:[(0,Pa.jsx)("button",{className:"btn border ".concat("day"===c&&p.isSame(jf()(),"day")?"active":""),onClick:()=>{d("day"),m(jf()())},children:s("btn_today")}),(0,Pa.jsxs)("div",{className:"d-flex gap-3 align-items-center date-center",children:[(0,Pa.jsx)("button",{"aria-label":"Previous",className:"button-round-calendar",onClick:()=>m(p.subtract(1,c)),children:(0,Pa.jsx)("i",{className:"ti ti-chevron-left"})}),(0,Pa.jsx)("p",{children:p.format("day"===c?"MMMM D, YYYY":"MMMM YYYY")}),(0,Pa.jsx)("button",{"aria-label":"Next",className:"button-round-calendar",onClick:()=>m(p.add(1,c)),children:(0,Pa.jsx)("i",{className:"ti ti-chevron-right"})})]}),(0,Pa.jsxs)("div",{className:"calender-day-week-btn",children:[(0,Pa.jsx)("button",{className:"week"===c?"active":"",onClick:()=>d("week"),children:s("btn_week")}),(0,Pa.jsx)("button",{className:"day"===c?"active":"",onClick:()=>d("day"),children:s("btn_day")})]})]}),I?(0,Pa.jsxs)("table",{className:"calendar-table table-scroll ",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:(0,Pa.jsx)(OR,{width:"100%",className:"skeleton-header"})}),null===(e=Array.from({length:7}))||void 0===e?void 0:e.map((e,t)=>(0,Pa.jsx)("th",{children:(0,Pa.jsx)(OR,{width:"100%",className:"skeleton-header"})},t))]})}),(0,Pa.jsx)("tbody",{children:null===(t=Array.from({length:5}))||void 0===t?void 0:t.map((e,t)=>{var n;return(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",className:"skeleton-time"})}),null===(n=Array.from({length:7}))||void 0===n?void 0:n.map((e,t)=>(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:40,className:"skeleton-cell"})},t))]},t)})})]}):(0,Pa.jsx)("div",{className:"table-responsive",children:(0,Pa.jsxs)("table",{className:"calendar-table",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:(0,Pa.jsx)("i",{className:"ti ti-clock-hour-3","aria-hidden":"true"})}),null===H||void 0===H?void 0:H.map(e=>(0,Pa.jsx)("th",{style:{width:"2rem"},children:jf()(e).format("ddd, MM/DD")},e))]})}),(0,Pa.jsx)("tbody",{children:null===z||void 0===z?void 0:z.map(e=>(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:jf()(e.start_time).format("HH:mm")}),null===H||void 0===H?void 0:H.map(t=>{const n=W(t,e),i=G(t,e),r="booked"===n.booking_status?"booked":i?"available":"blocked";return(0,Pa.jsxs)("td",{className:r,style:{padding:0,height:"auto",verticalAlign:"middle"},children:["booked"!=n.booking_status&&(0,Pa.jsx)("div",{className:"text-center cp w-100 h-100",style:{height:"100%"},"data-bs-toggle":"modal","data-bs-target":"available"===r?"#modalCancel":"#modalManageSchedule",onClick:()=>{L(r),function(e,t){console.log("date --\x3e",e),console.log("slot --\x3e",t);const n=QO()(e),i=QO()(e),r=QO()(t.start_time),a=QO()(t.end_time),s=n.set("hour",r.hour()).set("minute",r.minute()).set("second",r.second()),o=i.set("hour",a.hour()).set("minute",a.minute()).set("second",a.second()),l=s.utc(),c=o.utc();console.log("Merged Start Time (UTC) --\x3e",l.toISOString()),console.log("Merged End Time (UTC) --\x3e",c.toISOString()),w({start_time:l.toISOString(),end_time:c.toISOString()})}(t,e)},children:"\xa0"}),"booked"===n.booking_status&&(e=>{const t=new Date(n.date)>=new Date;return(0,Pa.jsxs)("div",Tn(Tn({className:"text-center cp ".concat(t?"":"disabled")},t&&{"data-bs-toggle":"modal","data-bs-target":"#modalCancel",onClick:()=>{(e=>{y(e._id)})(n),L(r)}}),{},{children:[(0,Pa.jsx)("div",{children:null===n||void 0===n||null===(e=n.client)||void 0===e?void 0:e.name}),(0,Pa.jsx)("div",{children:Rs.SERVICES[null===n||void 0===n?void 0:n.service]})]}))})()]},t)})]},e.start_time))})]})})]}),(0,Pa.jsx)("div",{className:"modal fade",id:"modalCancel",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,Pa.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:(0,Pa.jsx)("div",{className:"modal-content",children:(0,Pa.jsx)("div",{className:"modal-body",children:(0,Pa.jsxs)("div",{className:"cancel-modal-info text-center p-6 px-16 d-flex flex-column gap-4",children:[(0,Pa.jsx)("figure",{className:"mb-0",children:(0,Pa.jsx)("img",{src:tj,alt:"cancel"})}),(0,Pa.jsx)("h4",{className:"heading-32-semibold",children:s("are_sure_cancel_".concat("booked"===D?"booking":"available"))}),(0,Pa.jsxs)("div",{className:"cancel-modal-btn-group d-flex gap-2 justify-content-center",children:[(0,Pa.jsx)("button",{type:"button",className:"btn btn-border","data-bs-dismiss":"modal",children:s("btn_no")}),(0,Pa.jsx)("button",Tn(Tn({type:"button",onClick:e=>{"booked"===D?U(""):X()},className:"btn btn-primary","data-bs-dismiss":"modal"},"booked"===D?{"data-bs-toggle":"modal","data-bs-target":"#modalCancelReason"}:{}),{},{children:s("btn_yes")}))]}),(0,Pa.jsx)("div",{className:"btn-text cp",onClick:K,"data-bs-toggle":"modal","data-bs-target":"#modalCancelPolicy",children:s("cancellation_policy")})]})})})})}),(0,Pa.jsx)("div",{className:"modal fade",id:"modalCancelReason",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:(0,Pa.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:(0,Pa.jsx)("div",{className:"modal-content",children:(0,Pa.jsxs)("div",{className:"modal-body",children:[(0,Pa.jsxs)("div",{className:"modal-header d-flex justify-content-between align-items-center",children:[(0,Pa.jsx)("h1",{className:"heading-20-bold",id:"exampleModalLabel",children:s("Cancel booking")}),(0,Pa.jsx)("button",{ref:l,type:"button",className:"close-btn-custom","data-bs-dismiss":"modal","aria-label":"Close",children:(0,Pa.jsx)("i",{className:"ti ti-xbox-x","aria-hidden":"true"})})]}),(0,Pa.jsxs)("div",{className:"cancel-modal-info text-center p-6 px-16 d-flex flex-column gap-4",children:[(0,Pa.jsx)("figure",{className:"mb-0",children:(0,Pa.jsx)("img",{src:tj,alt:"cancel"})}),(0,Pa.jsxs)("div",{className:"",children:[(0,Pa.jsx)("label",{htmlFor:"cancellation_reason",className:"form-label",children:s("label_cancellation_reason")}),(0,Pa.jsx)("input",{className:"form-control",type:"text",name:"cancellation_reason",id:"cancellation_reason",value:M,placeholder:s("placeholder_cancel_reason"),onChange:e=>{const t=e.target.value;U(t);const n=t.trim();0===n.length?B(s("cancellation_reason_is_required")):n.length>200?B(s("cancellation_reason_characters_limit_200")):/[a-zA-Z]/.test(n)?B(""):B(s("cancellation_reason_include_at_least_one_letter"))}}),F&&(0,Pa.jsx)("div",{className:"validation-error text-danger",children:F})]}),(0,Pa.jsxs)("div",{className:"cancel-modal-btn-group d-flex gap-2 justify-content-center",children:[(0,Pa.jsx)("button",{type:"button",onClick:async()=>{if(M){if(""===F&&b){var e;null===l||void 0===l||null===(e=l.current)||void 0===e||e.click();const t=new FormData;t.append("o_id",b),t.append("cancellation_reason",M),KO(t).then(e=>{S(!E),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})}}else B(s("err_cancellation_reason_required"))},className:"btn btn-primary",children:s("btn_submit")}),(0,Pa.jsx)("button",{type:"button",className:"btn btn-border","data-bs-dismiss":"modal",children:s("btn_cancel")})]}),(0,Pa.jsx)("div",{className:"btn-text cp",onClick:K,"data-bs-toggle":"modal","data-bs-target":"#modalCancelPolicy",children:s("cancellation_policy")})]})]})})})}),(0,Pa.jsx)("div",{className:"modal fade",id:"modalCancelPolicy",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,Pa.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:(0,Pa.jsx)("div",{className:"modal-content",children:(0,Pa.jsx)("div",{className:"modal-body",children:(0,Pa.jsxs)("div",{className:"cancel-modal-info text-center p-6 px-16 d-flex flex-column gap-4",children:[(0,Pa.jsx)("h4",{className:"heading-32-semibold",children:null===j||void 0===j?void 0:j.title}),(0,Pa.jsx)("div",{dangerouslySetInnerHTML:{__html:null===j||void 0===j?void 0:j.description}})]})})})})}),(0,Pa.jsx)("div",{className:"modal fade",id:"modalManageSchedule",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:(0,Pa.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:(0,Pa.jsx)("div",{className:"modal-content",children:(0,Pa.jsxs)("form",{onSubmit:Y.handleSubmit,children:[(0,Pa.jsxs)("div",{className:"modal-header d-flex justify-content-between align-items-center",children:[(0,Pa.jsx)("h1",{className:"heading-20-bold",id:"exampleModalLabel",children:s("btn_manage_schedule")}),(0,Pa.jsx)("button",{ref:o,type:"button",className:"close-btn-custom","data-bs-dismiss":"modal","aria-label":"Close",children:(0,Pa.jsx)("i",{className:"ti ti-xbox-x","aria-hidden":"true"})})]}),(0,Pa.jsxs)("div",{className:"modal-body",children:[(0,Pa.jsx)("p",{className:"mb-3",children:(0,Pa.jsx)("strong",{children:QO()(null===x||void 0===x?void 0:x.start_time).format("dddd, YYYY/MM/DD")})}),(0,Pa.jsxs)("div",{className:"mb-3",children:[(0,Pa.jsx)("i",{className:"fas fa-clock me-1","aria-hidden":"true"}),QO()(null===x||void 0===x?void 0:x.start_time).format("h:mm A")," - ",QO()(null===x||void 0===x?void 0:x.end_time).format("h:mm A")]}),(0,Pa.jsxs)("div",{className:"mb-3",children:[(0,Pa.jsx)("label",{className:"form-label",children:s("slot_type")}),(0,Pa.jsxs)("div",{children:[(0,Pa.jsxs)("div",{className:"form-check form-check-inline",children:[(0,Pa.jsx)("input",{className:"form-check-input",type:"radio",name:"slot_type",id:"one_time",onChange:Y.handleChange,value:"one_time",checked:"one_time"===(null===Y||void 0===Y||null===(n=Y.values)||void 0===n?void 0:n.slot_type)}),(0,Pa.jsx)("label",{className:"form-check-label",htmlFor:"one_time",children:s("slot_type_one_time")})]}),(0,Pa.jsxs)("div",{className:"form-check form-check-inline",children:[(0,Pa.jsx)("input",{className:"form-check-input",type:"radio",name:"slot_type",id:"recurring",onChange:Y.handleChange,value:"recurring",checked:"recurring"===(null===Y||void 0===Y||null===(i=Y.values)||void 0===i?void 0:i.slot_type)}),(0,Pa.jsxs)("label",{className:"form-check-label",htmlFor:"recurring",children:[s("slot_type_recurring")," ",QO()(null===x||void 0===x?void 0:x.start_time).format("dddd")]})]}),(0,Pa.jsx)(DR,{className:"text-danger",name:"slot_type",form:Y})]})]}),"recurring"===(null===Y||void 0===Y||null===(r=Y.values)||void 0===r?void 0:r.slot_type)&&(0,Pa.jsxs)("div",{className:"mb-3",children:[(0,Pa.jsx)("label",{htmlFor:"endDate",className:"form-label",children:s("select_end_date")}),(0,Pa.jsx)(fj,{id:"endDate",name:"end_date",oneTap:!0,block:!0,format:"dd-MM-yyyy",cleanable:!1,editable:!1,value:Y.values.end_date,shouldDisableDate:e=>e<new Date,onChange:e=>Y.setFieldValue("recurring_end_date",QO()(e).endOf("day").toISOString())}),(0,Pa.jsx)(DR,{className:"text-danger",name:"recurring_end_date",form:Y})]})]}),(0,Pa.jsxs)("div",{className:"modal-footer justify-content-start",children:[(0,Pa.jsx)("button",{type:"button",className:"btn btn-border","data-bs-dismiss":"modal",children:s("btn_cancel")}),(0,Pa.jsx)("button",{type:"submit",className:"btn btn-primary",id:"schedule","data-bs-dismiss":"",children:s("btn_save")})]})]})})})})]})})]})}})},{path:"my-calendar-test",element:(0,Pa.jsx)(hD,{component:function(){const{t:e}=As(),[t,n]=(0,a.useState)("week"),[i,r]=(0,a.useState)("AMPM"),[s,o]=(0,a.useState)(jf()()),[l,c]=(0,a.useState)(0),[d,u]=(0,a.useState)(0),[h,p]=(0,a.useState)(null),[m,f]=(0,a.useState)("false"),[g,_]=(0,a.useState)("false"),[v,b]=(0,a.useState)([]),[y,x]=(0,a.useState)([]),[w,E]=(0,a.useState)(!1),[S,C]=(0,a.useState)({});(0,a.useEffect)(()=>{E(!0),YO({start_date:"",end_date:""}).then(e=>{var t;b(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.list),setTimeout(()=>{E(!1)},Rs.LOADER_TIMEOUT_TIME)}).catch(e=>{setTimeout(()=>{E(!1)},Rs.LOADER_TIMEOUT_TIME),console.log("Error fetching booking data: ",e)})},[m]),(0,a.useEffect)(()=>{(async e=>await oc(GO).get("".concat(qO,"/get-availability"),e))().then(e=>{var t;let n=null===e||void 0===e?void 0:e.data;x(n),(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.length)>0&&R.setFieldValue("availability",null===e||void 0===e?void 0:e.data)}).catch(e=>{console.log("Error fetching booking data: ",e)})},[g]);const T=(e=>{const t=[];let n=jf()().startOf("day");for(let i=0;i<1440;i+=e){const i=n.add(e,"minute");t.push({start_time:n.format(),end_time:i.format()}),n=i}return t})(60),N="day"===t?[s.format("YYYY-MM-DD")]:"week"===t?Array.from({length:7},(e,t)=>s.startOf("week").add(t,"day").format("YYYY-MM-DD")):[],A=(e,t)=>{const{start_time:n,end_time:i}=t,r=new Date(e),a=new Date(n),s=new Date(i),o=r.getFullYear(),l=r.getMonth(),c=r.getDate(),d=a.getHours(),u=a.getMinutes(),h=s.getHours(),p=s.getMinutes(),m=null===v||void 0===v?void 0:v.find(e=>{const t=new Date(e.date),n=t.getFullYear(),i=t.getMonth(),r=t.getDate(),a=t.getHours(),s=t.getMinutes();return n===o&&i===l&&r===c&&(a>d||a===d&&s>=u)&&(a<h||a===h&&s<p)});return m||{booking_status:"available"}},k=(e,t)=>{const n=(null===y||void 0===y?void 0:y.length)>0&&(null===y||void 0===y?void 0:y.find(t=>t.day.toLowerCase()===e.toLowerCase())),i=new Date(t);return n&&n.slots.some(e=>{const t=new Date(e.start_time),n=new Date(e.end_time);let r=t.getHours(),a=t.getMinutes(),s=n.getHours(),o=n.getMinutes();0===s&&0===o&&(s=24,o=0);const l=i.getHours(),c=i.getMinutes();return(r<l||r===l&&a<=c)&&(s>l||s===l&&o>c)})};(0,a.useEffect)(()=>{let e=0,t=0;T.forEach(n=>{N.forEach(i=>{const r=jf()(i).format("dddd"),a=A(i,n),s=k(r,null===n||void 0===n?void 0:n.start_time);"booked"===a.booking_status?e+=1:s&&(t+=1)})}),c(e),u(t)},[T,N]);const R=Ap({initialValues:{availability:[{day:"Monday",is_available:!1,slots:[{start_time:null,end_time:null}]},{day:"Tuesday",is_available:!1,slots:[{start_time:null,end_time:null}]},{day:"Wednesday",is_available:!1,slots:[{start_time:null,end_time:null}]},{day:"Thursday",is_available:!1,slots:[{start_time:null,end_time:null}]},{day:"Friday",is_available:!1,slots:[{start_time:null,end_time:null}]},{day:"Saturday",is_available:!1,slots:[{start_time:null,end_time:null}]},{day:"Sunday",is_available:!1,slots:[{start_time:null,end_time:null}]}]},onSubmit:e=>{const t={availability:e.availability};XO(t).then(e=>{e.success?(_(!g),zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS))):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("error---\x3e",e)})}}),[I,O]=(0,a.useState)(!1);return(0,Pa.jsxs)("div",{className:"dashboard-right-container",children:[(0,Pa.jsxs)("div",{className:"dashboard-header d-flex justify-content-between",children:[(0,Pa.jsx)("h2",{className:"heading-22-bold",children:e("sidebar_my_calender")}),(0,Pa.jsx)("button",{"data-bs-toggle":"modal","data-bs-target":"#ManageAvailability",className:"btn btn-primary",children:e("btn_manage_availability")})]}),(0,Pa.jsx)("div",{className:"dashboard-body",children:(0,Pa.jsxs)("div",{className:"d-flex flex-column gap-4",children:[(0,Pa.jsxs)("div",{className:"row dashboard-info-card",children:[(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"dashboard-info-card-item",children:[(0,Pa.jsxs)("div",{className:"dashboard-info-card-text",children:[(0,Pa.jsx)("p",{children:e("booked_slots")}),(0,Pa.jsx)("h4",{className:"heading-20-medium",children:l})]}),(0,Pa.jsx)("div",{className:"dashboard-card-figure",children:(0,Pa.jsx)("img",{src:$O,alt:"why-choose-us",width:"100%"})})]})}),(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"dashboard-info-card-item",children:[(0,Pa.jsxs)("div",{className:"dashboard-info-card-text",children:[(0,Pa.jsx)("p",{children:e("available_slots")}),(0,Pa.jsx)("h4",{className:"heading-20-medium",children:d})]}),(0,Pa.jsx)("div",{className:"dashboard-card-figure",children:(0,Pa.jsx)("img",{src:ej,alt:"why-choose-us",width:"100%"})})]})})]}),(0,Pa.jsxs)("div",{className:"calendar-container",children:[(0,Pa.jsx)("div",{className:"modal fade",id:"ManageAvailability",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,Pa.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:(0,Pa.jsxs)("div",{className:"modal-content",children:[(0,Pa.jsxs)("div",{className:"modal-header d-flex justify-content-between align-items-center",children:[(0,Pa.jsx)("h1",{className:"heading-20-bold",id:"exampleModalLabel",children:e("btn_manage_availability")}),(0,Pa.jsx)("button",{type:"button",className:"close-btn-custom","data-bs-dismiss":"modal","aria-label":"Close",children:(0,Pa.jsx)("i",{className:"ti ti-xbox-x"})})]}),(0,Pa.jsx)("div",{className:"modal-body",children:(0,Pa.jsxs)("form",{onSubmit:R.handleSubmit,children:[(0,Pa.jsx)("div",{className:"manage-time",children:R.values.availability.map((t,n)=>(0,Pa.jsxs)("div",{className:"manage-time-row",children:[(0,Pa.jsxs)("div",{className:"form-check",children:[(0,Pa.jsx)("input",{className:"form-check-input",type:"checkbox",name:"availability[".concat(n,"].is_available"),checked:t.is_available,onChange:R.handleChange,id:"flexCheck".concat(n)}),(0,Pa.jsx)("label",{className:"form-check-label",htmlFor:"flexCheck".concat(n),children:t.day})]}),(0,Pa.jsxs)("div",{className:"manage-input",children:[t.slots.map((i,r)=>(0,Pa.jsx)("div",{className:" d-flex flex-column",children:(0,Pa.jsxs)("div",{className:"manage-input-row",children:[(0,Pa.jsx)("div",{className:"form-group m-0",children:(0,Pa.jsx)(LD,{container:()=>document.getElementById("ManageAvailability"),name:"availability[".concat(n,"].slots[").concat(r,"].start_time"),value:null!==i&&void 0!==i&&i.start_time?new Date(i.start_time):null,format:"HH:mm",className:"",onChange:e=>{const i=[...t.slots];i[r].start_time=e,R.setFieldValue("availability[".concat(n,"].slots"),i)},placeholder:"".concat(e("placeholder_start_time_for_slot")," ").concat(r+1),hideMinutes:e=>e%60!==0,editable:!1})}),(0,Pa.jsx)("div",{className:"form-group m-0",children:(0,Pa.jsx)(LD,{container:()=>document.getElementById("ManageAvailability"),name:"availability[".concat(n,"].slots[").concat(r,"].end_time"),value:null!==i&&void 0!==i&&i.end_time?new Date(i.end_time):null,format:"HH:mm",onChange:e=>{const i=[...t.slots];i[r].end_time=e,R.setFieldValue("availability[".concat(n,"].slots"),i)},placeholder:"".concat(e("placeholder_end_time_for_slot")," ").concat(r+1),hideMinutes:e=>e%60!==0,editable:!1,showNow:!1})}),(0,Pa.jsx)("button",{type:"button",className:"btn-circle",onClick:()=>{const e=[...t.slots];e.splice(r,1),R.setFieldValue("availability[".concat(n,"].slots"),e)},children:(0,Pa.jsx)("i",{className:"ti ti-x"})})]})},r)),(0,Pa.jsxs)("button",{type:"button",className:"add-text-button",onClick:()=>{R.setFieldValue("availability[".concat(n,"].slots"),[...t.slots,{start_time:null,end_time:null}])},children:[(0,Pa.jsx)("i",{className:"ti ti-plus"})," Add More"]})]})]},n))}),(0,Pa.jsxs)("div",{className:"modal-footer justify-content-start",children:[(0,Pa.jsx)("button",{type:"button",className:"btn btn-border","data-bs-dismiss":"modal",children:e("btn_cancel")}),(0,Pa.jsx)("button",{type:"submit",className:"btn btn-primary","data-bs-dismiss":"modal",disabled:I,children:e("btn_save")})]})]})})]})})}),(0,Pa.jsx)("div",{className:"calender-status",children:(0,Pa.jsxs)("ul",{className:"d-flex align-items-center justify-content-center p-0",children:[(0,Pa.jsxs)("li",{children:[(0,Pa.jsx)("span",{className:"status-point available-status"}),e("label_available")]}),(0,Pa.jsxs)("li",{children:[(0,Pa.jsx)("span",{className:"status-point booked-status"}),e("label_booked")]}),(0,Pa.jsxs)("li",{children:[(0,Pa.jsx)("span",{className:"status-point blocked-status"}),e("label_blocked")]})]})}),(0,Pa.jsxs)("div",{className:"calendar-header",children:[(0,Pa.jsx)("button",{className:"btn border ".concat("day"===t&&s.isSame(jf()(),"day")?"active":""),onClick:()=>{n("day"),o(jf()())},children:e("btn_today")}),(0,Pa.jsxs)("div",{className:"d-flex gap-3 align-items-center date-center",children:[(0,Pa.jsx)("button",{className:"button-round-calendar",onClick:()=>o(s.subtract(1,t)),children:(0,Pa.jsx)("i",{className:"ti ti-chevron-left"})}),(0,Pa.jsx)("p",{children:s.format("day"===t?"MMMM D, YYYY":"MMMM YYYY")}),(0,Pa.jsx)("button",{className:"button-round-calendar",onClick:()=>o(s.add(1,t)),children:(0,Pa.jsx)("i",{className:"ti ti-chevron-right"})})]}),(0,Pa.jsxs)("div",{className:"calender-day-week-btn",children:[(0,Pa.jsx)("button",{className:"week"===t?"active":"",onClick:()=>n("week"),children:e("btn_week")}),(0,Pa.jsx)("button",{className:"day"===t?"active":"",onClick:()=>n("day"),children:e("btn_day")})]})]}),w?(0,Pa.jsxs)("table",{className:"calendar-table",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:(0,Pa.jsx)(OR,{width:"100%",className:"skeleton-header"})}),Array.from({length:7}).map((e,t)=>(0,Pa.jsx)("th",{children:(0,Pa.jsx)(OR,{width:"100%",className:"skeleton-header"})},t))]})}),(0,Pa.jsx)("tbody",{children:Array.from({length:5}).map((e,t)=>(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",className:"skeleton-time"})}),Array.from({length:7}).map((e,t)=>(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:40,className:"skeleton-cell"})},t))]},t))})]}):(0,Pa.jsxs)("table",{className:"calendar-table",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:(0,Pa.jsx)("i",{className:"ti ti-clock-hour-3"})}),N.map(e=>(0,Pa.jsx)("th",{style:{width:"2rem"},children:jf()(e).format("ddd, MM/DD")},e))]})}),(0,Pa.jsx)("tbody",{children:T.map(e=>(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:jf()(e.start_time).format("HH:mm")}),N.map(t=>{var n;const i=jf()(t).format("dddd"),r=A(t,e),a=!k(i,null===e||void 0===e?void 0:e.start_time)&&"booked"!==r.booking_status,s="booked"===r.booking_status?"booked":a?"blocked":"available";return(0,Pa.jsx)("td",{className:s,children:"booked"===r.booking_status&&(0,Pa.jsxs)("div",{className:" text-center cp","data-bs-toggle":"modal","data-bs-target":"#modalCancel",onClick:()=>(e=>{p(e._id)})(r),children:[(0,Pa.jsx)("div",{children:null===r||void 0===r||null===(n=r.client)||void 0===n?void 0:n.name}),(0,Pa.jsx)("div",{children:Rs.SERVICES[null===r||void 0===r?void 0:r.service]})]})},t)})]},e.start_time))})]})]}),(0,Pa.jsx)("div",{className:"modal fade",id:"modalCancel",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,Pa.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:(0,Pa.jsx)("div",{className:"modal-content",children:(0,Pa.jsx)("div",{className:"modal-body",children:(0,Pa.jsxs)("div",{className:"cancel-modal-info text-center p-6 px-16 d-flex flex-column gap-4",children:[(0,Pa.jsx)("figure",{className:"mb-0",children:(0,Pa.jsx)("img",{src:tj,alt:"cancel"})}),(0,Pa.jsx)("h4",{className:"heading-32-semibold",children:e("are_sure_cancel_booking")}),(0,Pa.jsxs)("div",{className:"cancel-modal-btn-group d-flex gap-2 justify-content-center",children:[(0,Pa.jsx)("button",{type:"button",className:"btn btn-border","data-bs-dismiss":"modal",children:e("btn_no")}),(0,Pa.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:async()=>{h&&KO(h).then(e=>{f(!m),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})},children:e("btn_yes")})]}),(0,Pa.jsx)("div",{className:"btn-text cp",onClick:()=>{_j("psychic_booking_cancel_policy").then(e=>{C(null===e||void 0===e?void 0:e.data[0])}).catch(e=>{console.log("Error fetching privacy policy: ",e)})},"data-bs-toggle":"modal","data-bs-target":"#modalCancelPolicy",children:e("cancellation_policy")})]})})})})}),(0,Pa.jsx)("div",{className:"modal fade",id:"modalCancelPolicy",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,Pa.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:(0,Pa.jsx)("div",{className:"modal-content",children:(0,Pa.jsx)("div",{className:"modal-body",children:(0,Pa.jsxs)("div",{className:"cancel-modal-info text-center p-6 px-16 d-flex flex-column gap-4",children:[(0,Pa.jsx)("h4",{className:"heading-32-semibold",children:null===S||void 0===S?void 0:S.title}),(0,Pa.jsx)("div",{dangerouslySetInnerHTML:{__html:null===S||void 0===S?void 0:S.description}})]})})})})})]})})]})}})},{path:"my-earnings",element:(0,Pa.jsx)(hD,{component:function(){const[e,t]=(0,a.useState)([]),[n,i]=(0,a.useState)(""),[r]=(0,a.useState)(7),[s,o]=(0,a.useState)(1),{t:l}=As(),[c,d]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{d(!0);const e=new FormData;e.append("page",s),e.append("per_page",r),wj(e).then(e=>{var n,r;i(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.total_records),o(e&&e.data&&e.data.page?e.data.page:1),t(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.list),setTimeout(()=>{d(!1)},Rs.LOADER_TIMEOUT_TIME)}).catch(e=>{console.log("Error fetching payment data: ",e),setTimeout(()=>{d(!1)},Rs.LOADER_TIMEOUT_TIME)})},[s,r]),(0,Pa.jsxs)("div",{className:"dashboard-right-container",children:[(0,Pa.jsx)("div",{className:"dashboard-header",children:(0,Pa.jsx)("h2",{className:"heading-22-bold",children:l("heading_my_earnings")})}),(0,Pa.jsx)("div",{className:"dashboard-body",children:(0,Pa.jsxs)("div",{className:"my-bookings-sec",children:[(0,Pa.jsxs)("div",{className:"row g-3",children:[(0,Pa.jsx)("div",{className:"col-6",children:(0,Pa.jsx)("div",{className:"card",children:(0,Pa.jsx)("ul",{children:(0,Pa.jsxs)("li",{class:"d-flex justify-content-between g-5 align-items-center w-100",children:[(0,Pa.jsxs)("div",{class:"box-title-icon  align-items-center flex-columm gap-3",children:[(0,Pa.jsx)("span",{className:"body-card",children:l("total_payout")}),(0,Pa.jsx)("p",{className:" m-0 card-body-1",children:"\u20ac 4000"})]}),(0,Pa.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA1CAYAAADlE3NNAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaWlDQ1BEaXNwbGF5IFAzAAB4nHWQvUvDUBTFT6tS0DqIDh0cMolD1NIKdnFoKxRFMFQFq1OafgltfCQpUnETVyn4H1jBWXCwiFRwcXAQRAcR3Zw6KbhoeN6XVNoi3sfl/Ticc7lcwBtQGSv2AijplpFMxKS11Lrke4OHnlOqZrKooiwK/v276/PR9d5PiFlNu3YQ2U9cl84ul3aeAlN//V3Vn8maGv3f1EGNGRbgkYmVbYsJ3iUeMWgp4qrgvMvHgtMunzuelWSc+JZY0gpqhrhJLKc79HwHl4plrbWD2N6f1VeXxRzqUcxhEyYYilBRgQQF4X/8044/ji1yV2BQLo8CLMpESRETssTz0KFhEjJxCEHqkLhz634PrfvJbW3vFZhtcM4v2tpCAzidoZPV29p4BBgaAG7qTDVUR+qh9uZywPsJMJgChu8os2HmwiF3e38M6Hvh/GMM8B0CdpXzryPO7RqFn4Er/QcXKWq8MSlPPgAABkdJREFUeAHVWk1MVFcUPve9pzFgw5jAVsakXeBPoVGXMkPaBTusdDFBwGkao5sWaVcm2oJ/q4rarlwYUQxgIhTd6KKJDG66gASVyKaLoasmkDgsHIzMe6/nu8ObvnkzwLwfZOZLhnvfL/e755zvnnvfFRQwOnZ0NCmkRAwymsikEP+acF4IETLJxHESx6Ywk4JEiquzpmm+XPlkZXIiNZGiACEoAHRqnVFd6G2KqcQlAY/gZycVoQzqqp4YfT+aJJ/wTO546Hho97vdp9hC57hVYQoaggYN1ej3Q9ITOXa9OBe/bAkpJ3yQdEUutisWVjPqXXafKH1cpDhG+0dWR266eahkcrEdsbhqqjf8xJRvuLRiSeQ6tI4+ghuWAwQlmWBLKQQ3JVdWxCyUSHBDcmVJzEIJBNclV9bELGxCUCl2EoMylTsxgIcikRF317usOk9A7vmhP7i6faroApzChQ+qB5fnjLm/nNcKLKfoyscZnAOEMMUNaRQH8sgh6WVicapAFHPPPHLoAapQsHtGY1osaj+XIwcR2Ya0KlAwwTwRzJHj7L6HKhxO62n4I4MxQ8fJB+ob66mhuUGW+6P75bna+lpZLi0s0WJyUf7mp+ZpPjFPiwuLtBVggm1cTGbrtDaFMemuh3dRQ6SB2i+2y9IOe+Ora6qpKlSVd33q3hSNXx7fCpKp4czwHlQkuZPayede4q3953Y6cfGErL9JvKGZxzPSMgsvFwruBbn6z+vpcNthOtJ2hOrq62gpuUQD3wwUvd8POMRaRjOjk1nLaR1vyeWg3dzdTGfunJGudvu725KUG6BT0DnpVJp6PuuRZWAQdG54dfiWIsc2D9mI5YZeiAFwyan7UzmLBgy5KKUohhImH4CLeQFI7Y9khQcWbP2+VYpRIDAoikIzhNFIPtD6QytV1VS5EgdY/eydszk1xbHlCYjDsctj0qqeIbLpo2AxwdLBOXIJxBviDrFiKSGEAcKCBi7+s5iLI4gHOgCWgaWt+61nh34ckscQG8uaeMeVr654VtN0Jr1H44UXLJR6xkD7ANWGayVRNGwz1wKhxL0Evbj/IjuMsEuiUxC3z35/Jt/V/Wu3JIoOBEEvqNpVVaORR1hWQc+jofhZCjj9eLpA3kEcZM4fOS8HdaD5VHPBe63h4dr0NXk/3u9VST2Tm34yLeMNsTP001BejOAayNpRF64jjixZR4PRCbC2lbXYgevVoepsvcYHOZ4JpEwPfokUauzSmGwk3AdZigVkJM7GopFA1/UuaUWcAzGn28FauMcSG69Iv08vCx7AkUn3kUcgRkAMVnADpF+IMZCE4Oxt3EtH244WkOr5tCfnxm7AKZgQHSrnlcJbXmkHGonEGT0f6Y5kLWNTOhAoBVDb8Uvj0iPwLo/kZpncFxpPemb9qKUFxMXMkxn5CzeGZcOufnk1R7D3Ua8cBmAxZxjAYuiM03WnC+Irvew+3vj9SZQa52Cz7Jr4LhbYghB6H+Qu/HkhN1ZZjcQA7bQEpkiWKlpig+cRk17EhL8FTqKUaslzoNkgZ+HIVqB2UNObf9+UQwPUcjN0Xu/836WLiE2p4I+Zsyit+VwP29LVF5RScKz7mLSCM97sloOK2ud6sNTT355KsfFiNSaWHNFH9qEuycUpHvqgfXhLWwRLaPCDRWU6tuaG75bfSSvJLIWHF4x5vqY/Jg0O68PfoppbTvc6YS03GBlj3yhll9dzC0Qcd/1U4cA3dYsYkCP3IPOAp+VZlalg9NkP8hdlK9h6bLWJkcxIwn4ujxysh4CkCoSZMXud5wo+hOzUd/ZCTqmCwKtdffZYs1D04yOW1vmB51QBgIiwO7YUu6YWO/nKeJU8pBxCNUplDHiYqZtfz9Fc0W1V6noPvjZeJ8qZ4BqxlmLuaEHd6AXlSrAUYsCG5IByI1gqMWBTcgAIHhAHFngqEeXDXbRNgHis6Cstj+jRv6Xc727vF8XCqrYNe79MSumK3vdw9eEtN4952rUXU2NxfMVkS4Zpq8FJhaEb/aW4oRO+NpNuKUkmxQvGg86Uyg0C2SnbpXVFdFPHLtmoH6KIKWGIibSRvjdB/rcEB0LODvlJTKeIqZhhhZSmtX3NWJ8J8X/L7XHmeop/2N+c4rXTybSeTgRByI7/AIJODFZHUgmlAAAAAElFTkSuQmCC",alt:l("total_payout")})]})})})}),(0,Pa.jsx)("div",{className:"col-6",children:(0,Pa.jsx)("div",{className:"card",children:(0,Pa.jsx)("ul",{children:(0,Pa.jsxs)("li",{class:"d-flex justify-content-between g-5 align-items-center w-100",children:[(0,Pa.jsxs)("div",{class:"box-title-icon  align-items-center flex-columm gap-3",children:[(0,Pa.jsx)("span",{className:"body-card pb-0",children:l("current_receivable")}),(0,Pa.jsx)("p",{className:" m-0 card-body-1",children:"\u20ac 2000"})]}),(0,Pa.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA1CAYAAADlE3NNAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaWlDQ1BEaXNwbGF5IFAzAAB4nHWQvUvDUBTFT6tS0DqIDh0cMolD1NIKdnFoKxRFMFQFq1OafgltfCQpUnETVyn4H1jBWXCwiFRwcXAQRAcR3Zw6KbhoeN6XVNoi3sfl/Ticc7lcwBtQGSv2AijplpFMxKS11Lrke4OHnlOqZrKooiwK/v276/PR9d5PiFlNu3YQ2U9cl84ul3aeAlN//V3Vn8maGv3f1EGNGRbgkYmVbYsJ3iUeMWgp4qrgvMvHgtMunzuelWSc+JZY0gpqhrhJLKc79HwHl4plrbWD2N6f1VeXxRzqUcxhEyYYilBRgQQF4X/8044/ji1yV2BQLo8CLMpESRETssTz0KFhEjJxCEHqkLhz634PrfvJbW3vFZhtcM4v2tpCAzidoZPV29p4BBgaAG7qTDVUR+qh9uZywPsJMJgChu8os2HmwiF3e38M6Hvh/GMM8B0CdpXzryPO7RqFn4Er/QcXKWq8MSlPPgAABeVJREFUeAHVmk9MHFUcx7+7bFjaJjLSaEojFY2JRqgSG2NwMV2SerE24eLBJqZwIW08FA+Wph6gFwvtoXgwNV4KidGDB5tUPdXsVpeamFQh0Ju0ayHF2KRMidAFYdff9+2+dZhl2Z3ZWdn9JJN5zM4M7zu/f2/eGx885rc+w3hUi7AfOJjywUil0AbZZ35uTgGmTzakZPPB9KcwkfQhnkrieuiCOQEP8cEDlKAgjsnNuqTzYbgnLveIrgFjbwybUZRISeJ+7jfCsjsmgrrhPXGfH4Pt58wxuMSVOBHVLLuBMomy41qkY3GxU0afz4cBudDA/0tU/mdP+7AZL/aCosUxrhJBfFNiTJWKIysWJY5uKKIi0mxGBbAOnJWEM1jovILiKk2YphiBW4qrVGGaQgLziqt0YZqtBPq3uO4yKlwYqZGS9FO63uawqbjxfmNwm7OiI0Tg5Yhkc/vxHHF0R/HVAVQXzXVBXLQfzBEnFruIKoSjJbt7bhCXGSt2oUqpsXmc3XLV5o52wlbrZcX98qHRVk1JJB9W6wV0Y92PkyiBQF09Hnu2Q7YQdu3dj+Dj+1Czo14dX0s8xOqDu2r/8HYMi7fHZYuhTISZOTtHTDMrzq3V2PnGjhPY03FctTUUsv4ovZGdIpjwAZCVhbuYvTaM+ze/hNcE5cVZdp8ocUwkKRcFm9Zp6b2q9hQzH7uExTtimZlx9bednXtbsatxPxpaDqPhxcN47p1PxcqtiF89A49hUkyLE2EvwwVaGEXNiRU2E2Rl+d602u7f/Cr7YBpDJ7Am1uX1XqHmbZBJKH4XLsnOcWMMxb89U1CYHbrlrc+PqLZ2Va+Ql2nj14+Mp5W4ZAljSLoZRbqB7qnv0fz2x8pVrXFbCiv/IKzeCm70Gyk4hIJe6Z9M38hhcqCApjdPY0/o+Ka//yX3oZvyvm7xpTDoiwwYRjCBBThEi6M76qfN9uJMDEvzU9Kx2Wzn+DvLwq7GVlUmtBvqa5fuTWHuhyFlOf6mPYECZ68NwRUpjATqEnBuNgvs2MzX76PpUL/qmMqEGXfLR7rWxfBn7DO8OhhXIh/c+l5t5IkD76L5yDk8JffU5zqFcReAS9YzCSQgFqGFfheBpH1oQWW/+fFLOdc0HTqtXG4mc26+WGU2XU8s4vn3vhBrvuW64LsWRwH8p7QWO8GMqd2Qwu2pnUIoTsPrWOegxOTGqhZOd3ZLIFEHU2LOFbQWa5V2ResT1sMue2frRRSv0XHHmKKlrNdxxEOXLAWpdabrbGmFMUKrOCkJ6Qw7JDE7jTq5rrZhH3aLC3KYZi0HVjd2gsqWbIi4O/BgvoTDK1pkdybr6fEl96xlxaCHccvz08rd3YoTa3WpmJNKPpH0QJweXnFr6e2Q7PddtmMU99LJH+W3KfwtpcIKLceHQVGMXaLdVg+8HZPEH4H0HlF4+Aa+LJ2nBZ48cBSrUu/ofjr+KMxuCbq1tjSxJpsl24MoBsYb1/qUOPHNyZKCzgYzKceNL4hbMTGw88Wkcyab+t6OvMmmWKTGqUXM7KSsTOcteL1yk07/FHd0w3Edi9bzrLBwz4kwvtS6QZJJd/t5cywrTpIKZ736UAaCKqZCyjK10q7LvFEQXRspiC5ICzNmS2EFeKZTlrqy4jIvrBFUOaJhNDRs9rCdnSCSRT0u7kVR5fiSGNVt+9TeWVQ30dcvmNf1HxvEVbv1amw5I2c6XYaZPahCGGuvDZuT1mM54phl5MwPUF3EVzcJqa0WHyNVMwOdRNgaa5q8i48Z94yjwpGh1uBmwsiWa+IRWasLVvDSMYWFzpt5M3zBrxkqVWAhYaSo71AqTWAxwogfRcAMKuO1TmlewTaiPmeUQXExwojjb79unDL6Utv07Zc84J7Ocnz7ZYVuWgslsBvlJ875EL7CwCGuxGnKLDIu28jKCsa4kAgXlCROo0RKIfX71YelYbgkE1Oj0riSr3Y5wRNxVrhkuyOIg1wjk9hsY2xaFjb/+8Y5zQTbcmyiHN84/wueaLtTrGj53wAAAABJRU5ErkJggg==",alt:l("current_receivable")})]})})})})]}),(0,Pa.jsx)("div",{className:"table-responsive",style:{minHeight:"27rem"},children:c?(0,Pa.jsxs)("table",{className:"table table-striped",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})})}),(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})}),(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})," "]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})," "]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})," "]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})," "]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})," "]})]})]}):(null===e||void 0===e?void 0:e.length)>0?(0,Pa.jsxs)("table",{className:"table table-striped",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:l("label_booking_id")}),(0,Pa.jsx)("th",{children:l("label_name")}),(0,Pa.jsx)("th",{children:l("label_date_time")}),(0,Pa.jsx)("th",{children:l("title_credit")}),(0,Pa.jsx)("th",{children:l("title_amount")}),(0,Pa.jsx)("th",{children:l("list_heading_status")})]})}),(0,Pa.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map((e,t)=>{var n;return(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsxs)(qt,{className:"cp fw-bold",style:{color:"var(--primary)"},to:"/psychic/my-booking-view/".concat(null===e||void 0===e?void 0:e.booking_id),children:["#",null===e||void 0===e?void 0:e.generated_booking_id]})}),(0,Pa.jsx)("td",{children:os(null===e||void 0===e||null===(n=e.client)||void 0===n?void 0:n.name)}),(0,Pa.jsx)("td",{children:qa(null===e||void 0===e?void 0:e.createdAt,"YYYY-MM-DD",!0,!1,!1)}),(0,Pa.jsx)("td",{children:"".concat("debit"===(null===e||void 0===e?void 0:e.transaction_type)?"+":"-"," ").concat(null===e||void 0===e?void 0:e.credit," ").concat(l("credits"))}),(0,Pa.jsxs)("td",{children:["\u20ac",Number(null===e||void 0===e?void 0:e.amount).toFixed(2)]}),(0,Pa.jsx)("td",{children:(0,Pa.jsx)("span",{className:"fw-bold ".concat(Rs.STATUS_CLASS[null===e||void 0===e?void 0:e.credit_status]||Rs.STATUS_CLASS.default),children:l(null===e||void 0===e?void 0:e.credit_status)})})]},t)})})]}):(0,Pa.jsx)(AR,{})}),!c&&(null===e||void 0===e?void 0:e.length)>0&&(0,Pa.jsx)(yj,{dataLength:n,itemPerPage:r,currentPage:s,setPage:o})]})})]})}})},{path:"chat/:roomID?",element:(0,Pa.jsx)(hD,{component:function(){var e,t;ot();const{t:n}=As(),[i,r]=(0,a.useState)([]),s=Xa(Rs.ROLE.PSYCHIC),o=ct(),l=at(),[c]=Zt(),d=c.get("receiverID"),u=null===l||void 0===l||null===(e=l.state)||void 0===e?void 0:e.receiver,h=null===l||void 0===l||null===(t=l.state)||void 0===t?void 0:t.bookingDetails,p=(0,a.useRef)(),m=Ap({initialValues:{message:"",senderId:s._id,receiverId:d,roomID:o.roomID,type:"text"},onSubmit:(e,t)=>{let{resetForm:n}=t;e.message.trim()&&(OO.emit("SEND-MESSAGE",e),n())}}),f=()=>{p.current&&p.current.scrollTo({top:p.current.scrollHeight,behavior:"smooth"})};(0,a.useEffect)(()=>{null!==o&&void 0!==o&&o.roomID&&OO.emit("JOIN-USER",{roomID:null===o||void 0===o?void 0:o.roomID})},[null===o||void 0===o?void 0:o.roomID]),(0,a.useEffect)(()=>{(async()=>{if(null===o||void 0===o||!o.roomID)return;const e=new FormData;e.append("roomID",o.roomID);try{var t;const n=await(async e=>await oc(Ej).post("".concat(Sj,"/get-chat"),e))(e);null!==n&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.list&&(r(n.data.list),setTimeout(f,100))}catch(QV){console.error("Error fetching chat:",QV)}})()},[o.roomID]),(0,a.useEffect)(()=>{const e=e=>{console.log("New message received:",e),console.log("params?.roomID--",null===o||void 0===o?void 0:o.roomID),(null===e||void 0===e?void 0:e.roomID)===(null===o||void 0===o?void 0:o.roomID)&&r(t=>[...t,e])};return OO.on("NEW-MESSAGE",e),()=>{OO.off("NEW-MESSAGE",e)}},[]),(0,a.useEffect)(()=>{f()},[i]);const[g,_]=(0,a.useState)((()=>{const e=36e5-(new Date-new Date(null===h||void 0===h?void 0:h.date));return Math.max(0,Math.floor(e/1e3))})());return(0,a.useEffect)(()=>{if(g<=0)return;const e=setInterval(()=>{_(t=>t<=1?(clearInterval(e),0):t-1)},1e3);return()=>clearInterval(e)},[g]),(0,Pa.jsxs)("div",{className:"chat-right-container",children:[(0,Pa.jsxs)("div",{className:"chat-right-header d-flex gap-3 align-items-center justify-content-between",children:[(0,Pa.jsxs)("div",{className:"d-flex gap-3 align-items-center",children:[(0,Pa.jsx)("figure",{className:"avatar avatar-md m-0",children:(0,Pa.jsx)("img",{src:null===u||void 0===u?void 0:u.profile_image,alt:"profile_image"})}),(0,Pa.jsx)("div",{className:"chat-right-header-info",children:(0,Pa.jsx)("h4",{className:"heading-18-semibold",children:null===u||void 0===u?void 0:u.name})})]}),(0,Pa.jsx)("div",{className:"fw-semibold pe-3",children:(0,Pa.jsx)("h4",{className:"m-0",children:(e=>{const t=Math.floor(e/3600),n=Math.floor(e%3600/60),i=e%60;return[t.toString().padStart(2,"0"),n.toString().padStart(2,"0"),i.toString().padStart(2,"0")].join(":")})(g)})})]}),(0,Pa.jsx)("div",{className:"chat-right-body scroll",ref:p,tabIndex:1,children:(0,Pa.jsx)("ul",{children:i.map((e,t)=>(0,Pa.jsx)("li",{className:e.senderId===s._id?"my-msg":"user-msg",children:(0,Pa.jsxs)("div",{className:"chat-msg",children:[(0,Pa.jsx)("div",{className:"chat-msg-text",style:{wordBreak:"break-word"},children:(0,Pa.jsx)("p",{children:e.message})}),(0,Pa.jsx)("time",{children:QO()(e.createdAt).format("hh:mm A")})]})},t))})}),g>0?(0,Pa.jsx)("form",{onSubmit:m.handleSubmit,children:(0,Pa.jsxs)("div",{className:"chat-right-footer d-flex gap-2 align-items-center",children:[(0,Pa.jsx)("textarea",{name:"message",className:"w-100",placeholder:"Type your message here...",value:m.values.message,onChange:m.handleChange,onBlur:m.handleBlur,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),m.handleSubmit())}}),(0,Pa.jsx)("button",{type:"submit",className:"btn btn-primary btn-icon btn-icon-32","aria-label":"Send",disabled:!m.values.message.trim(),children:(0,Pa.jsx)("i",{className:"ti ti-send"})})]})}):(0,Pa.jsx)("p",{className:"text-danger chat-right-footer d-flex gap-2 align-items-center mb-2",children:n("session_has_ended")})]})}})},{path:"my-bookings",element:(0,Pa.jsx)(hD,{component:function(){var e;const t=(0,a.useRef)(),n=ot(),[i,r]=(0,a.useState)([]),[s,o]=(0,a.useState)(""),[l]=(0,a.useState)(7),[c,d]=(0,a.useState)(1),[u,h]=(0,a.useState)({}),[p,m]=(0,a.useState)({}),{t:f}=As(),[g,_]=(0,a.useState)(null),[v,b]=(0,a.useState)(""),[y,x]=(0,a.useState)(""),[w,E]=(0,a.useState)("false"),[S,C]=(0,a.useState)(!1),T=QO()().seconds(0).milliseconds(0),N=QO()(null===u||void 0===u?void 0:u.date).add(1,"hours").seconds(0).milliseconds(0);(0,a.useEffect)(()=>{C(!0);const e=new FormData;e.append("page",c),e.append("per_page",l),YO(e).then(e=>{var t,n;o(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.total_records),d(e&&e.data&&e.data.page?e.data.page:1),r(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.list),setTimeout(()=>{C(!1)},Rs.LOADER_TIMEOUT_TIME)}).catch(e=>{console.log("Error fetching booking data: ",e),setTimeout(()=>{C(!1)},Rs.LOADER_TIMEOUT_TIME)})},[c,l,w]);const A=()=>{_j("psychic_booking_cancel_policy").then(e=>{m(null===e||void 0===e?void 0:e.data[0])}).catch(e=>{console.log("Error fetching privacy policy: ",e)})},k=e=>{_(e._id)};return console.log("=-=-data-=-",v,g),console.log("=-=-validationError-=-",y),(0,Pa.jsxs)("div",{className:"dashboard-right-container",children:[(0,Pa.jsx)("div",{className:"dashboard-header",children:(0,Pa.jsx)("div",{className:"d-flex align-items-center  justify-content-between",children:(0,Pa.jsx)("h2",{className:"heading-22-bold",children:f("sidebar_my_bookings")})})}),(0,Pa.jsx)("div",{className:"dashboard-body",children:(0,Pa.jsxs)("div",{className:"my-bookings-sec",children:[(0,Pa.jsx)("div",{className:"table-responsive",style:{minHeight:"27rem"},children:S?(0,Pa.jsxs)("table",{className:"table table-striped",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})})}),(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})}),(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})," "]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})," "]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})," "]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})," "]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})," "]})]})]}):(null===i||void 0===i?void 0:i.length)>0?(0,Pa.jsxs)("table",{className:"table table-striped",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:f("booking_id")}),(0,Pa.jsx)("th",{children:f("client_name")}),(0,Pa.jsx)("th",{children:f("date_and_time")}),(0,Pa.jsx)("th",{children:f("label_credit")}),(0,Pa.jsx)("th",{children:f("label_mode_of_consultation")}),(0,Pa.jsx)("th",{children:f("booking_status")}),(0,Pa.jsx)("th",{})]})}),(0,Pa.jsx)("tbody",{children:null===i||void 0===i?void 0:i.map(e=>{var t;return(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:null===e||void 0===e?void 0:e.generated_booking_id}),(0,Pa.jsx)("td",{children:null===e||void 0===e||null===(t=e.client)||void 0===t?void 0:t.name}),(0,Pa.jsx)("td",{children:qa(null===e||void 0===e?void 0:e.date,"YYYY-MM-DD",!0,!1,!1)}),(0,Pa.jsx)("td",{children:null===e||void 0===e?void 0:e.credit}),(0,Pa.jsx)("td",{className:"text-center",children:f(null===e||void 0===e?void 0:e.mode_of_consultation)}),(0,Pa.jsx)("td",{children:(0,Pa.jsx)("span",{className:"badge ".concat(Rs.STATUS_CLASS[null===e||void 0===e?void 0:e.booking_status]||"text-secondary"),children:"booked"===(null===e||void 0===e?void 0:e.booking_status)?f("booked"):f(null===e||void 0===e?void 0:e.booking_status)})}),(0,Pa.jsx)("td",{children:(0,Pa.jsxs)("div",{className:"d-flex gap-1",children:[(0,Pa.jsx)("button",{onClick:()=>n("/psychic/my-booking-view/".concat(e._id)),className:"btn btn-primary",children:f("btn_view")}),(0,Pa.jsx)("button",{onClick:()=>k(e),disabled:"booked"!==(null===e||void 0===e?void 0:e.booking_status)||T>QO()(null===e||void 0===e?void 0:e.date),className:"btn btn-border","data-bs-toggle":"modal","data-bs-target":"#modalCancel",children:f("btn_cancel")})]})})]},e._id)})})]}):(0,Pa.jsx)(AR,{})}),!S&&(null===i||void 0===i?void 0:i.length)>0&&(0,Pa.jsx)(yj,{dataLength:s,itemPerPage:l,currentPage:c,setPage:d})]})}),(0,Pa.jsx)("div",{className:"modal fade",id:"modalCancel",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,Pa.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:(0,Pa.jsx)("div",{className:"modal-content",children:(0,Pa.jsx)("div",{className:"modal-body",children:(0,Pa.jsxs)("div",{className:"cancel-modal-info text-center p-6 px-16 d-flex flex-column gap-4",children:[(0,Pa.jsx)("figure",{className:"mb-0",children:(0,Pa.jsx)("img",{src:tj,alt:"cancel"})}),(0,Pa.jsx)("h4",{className:"heading-32-semibold",children:f("are_sure_cancel_booking")}),(0,Pa.jsxs)("div",{className:"cancel-modal-btn-group d-flex gap-2 justify-content-center",children:[(0,Pa.jsx)("button",{type:"button",className:"btn btn-border","data-bs-dismiss":"modal",children:f("btn_no")}),(0,Pa.jsx)("button",{type:"button",onClick:()=>b(""),className:"btn btn-primary","data-bs-dismiss":"modal","data-bs-toggle":"modal","data-bs-target":"#modalCancelReason",children:f("btn_yes")})]}),(0,Pa.jsx)("div",{className:"btn-text cp",onClick:A,"data-bs-toggle":"modal","data-bs-target":"#modalCancelPolicy",children:f("cancellation_policy")})]})})})})}),(0,Pa.jsx)("div",{className:"modal fade",id:"modalCancelReason",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:(0,Pa.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:(0,Pa.jsx)("div",{className:"modal-content",children:(0,Pa.jsxs)("div",{className:"modal-body",children:[(0,Pa.jsxs)("div",{className:"modal-header d-flex justify-content-between align-items-center",children:[(0,Pa.jsx)("h1",{className:"heading-20-bold",id:"exampleModalLabel",children:f("Cancel booking")}),(0,Pa.jsx)("button",{ref:t,type:"button",className:"close-btn-custom","data-bs-dismiss":"modal","aria-label":"Close",children:(0,Pa.jsx)("i",{className:"ti ti-xbox-x","aria-hidden":"true"})})]}),(0,Pa.jsxs)("div",{className:"cancel-modal-info text-center p-6 px-16 d-flex flex-column gap-4",children:[(0,Pa.jsx)("figure",{className:"mb-0",children:(0,Pa.jsx)("img",{src:tj,alt:"cancel"})}),(0,Pa.jsxs)("div",{className:"",children:[(0,Pa.jsx)("label",{htmlFor:"cancellation_reason",className:"form-label",children:f("label_cancellation_reason")}),(0,Pa.jsx)("input",{className:"form-control",type:"text",name:"cancellation_reason",id:"cancellation_reason",value:v,placeholder:f("placeholder_cancel_reason"),onChange:e=>{const t=e.target.value;b(t);const n=t.trim();0===n.length?x(f("cancellation_reason_is_required")):n.length>200?x(f("cancellation_reason_characters_limit_200")):/[a-zA-Z]/.test(n)?x(""):x(f("cancellation_reason_include_at_least_one_letter"))}}),y&&(0,Pa.jsx)("div",{className:"validation-error text-danger",children:y})]}),(0,Pa.jsxs)("div",{className:"cancel-modal-btn-group d-flex gap-2 justify-content-center",children:[(0,Pa.jsx)("button",{type:"button",onClick:async()=>{if(v){if(""===y&&g){var e;null===t||void 0===t||null===(e=t.current)||void 0===e||e.click();const n=new FormData;n.append("o_id",g),n.append("cancellation_reason",v),KO(n).then(e=>{E(!w),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})}}else x(f("err_cancellation_reason_required"))},className:"btn btn-primary",children:f("btn_submit")}),(0,Pa.jsx)("button",{type:"button",className:"btn btn-border","data-bs-dismiss":"modal",children:f("btn_cancel")})]}),(0,Pa.jsx)("div",{className:"btn-text cp",onClick:A,"data-bs-toggle":"modal","data-bs-target":"#modalCancelPolicy",children:f("cancellation_policy")})]})]})})})}),(0,Pa.jsx)("div",{className:"modal fade",id:"modalCancelPolicy",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,Pa.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:(0,Pa.jsx)("div",{className:"modal-content",children:(0,Pa.jsx)("div",{className:"modal-body",children:(0,Pa.jsxs)("div",{className:"cancel-modal-info text-center p-6 px-16 d-flex flex-column gap-4",children:[(0,Pa.jsx)("h4",{className:"heading-32-semibold",children:null===p||void 0===p?void 0:p.title}),(0,Pa.jsx)("div",{dangerouslySetInnerHTML:{__html:null===p||void 0===p?void 0:p.description}})]})})})})}),(0,Pa.jsx)("div",{className:"modal fade",id:"deatilsModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,Pa.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:(0,Pa.jsxs)("div",{className:"modal-content",children:[(0,Pa.jsxs)("div",{className:"modal-header d-flex justify-content-between align-items-center",children:[(0,Pa.jsx)("h1",{className:"heading-20-bold",id:"exampleModalLabel",children:f("label_details")}),(0,Pa.jsx)("button",{type:"button",className:"close-btn-custom","data-bs-dismiss":"modal","aria-label":"Close",children:(0,Pa.jsx)("i",{className:"ti ti-xbox-x"})})]}),(0,Pa.jsx)("div",{className:"modal-body",children:(0,Pa.jsxs)("div",{className:"list-group list-group-flush",children:[(0,Pa.jsxs)("div",{className:"px-0 py-3 list-group-item d-flex justify-content-between align-items-center",children:[(0,Pa.jsx)("h3",{className:"heading-18",children:f("booking_id")}),(0,Pa.jsx)("p",{className:"heading-18-semibold",children:null===u||void 0===u?void 0:u.generated_booking_id})]}),(0,Pa.jsxs)("div",{className:"px-0 py-3 list-group-item d-flex justify-content-between align-items-center",children:[(0,Pa.jsx)("h3",{className:"heading-18",children:f("client_name_id")}),(0,Pa.jsx)("p",{className:"heading-18-semibold",children:null===u||void 0===u||null===(e=u.client)||void 0===e?void 0:e.name})]}),(0,Pa.jsxs)("div",{className:"px-0 py-3 list-group-item d-flex justify-content-between align-items-center",children:[(0,Pa.jsx)("h3",{className:"heading-18",children:f("date_and_time")}),(0,Pa.jsx)("p",{className:"heading-18-semibold",children:qa(null===u||void 0===u?void 0:u.date)})]}),(0,Pa.jsxs)("div",{className:"px-0 py-3 list-group-item d-flex justify-content-between align-items-center",children:[(0,Pa.jsxs)("h3",{className:"heading-18",children:[f("label_credit")," "]}),(0,Pa.jsx)("p",{className:"heading-18-semibold",children:null===u||void 0===u?void 0:u.credit})]}),(0,Pa.jsxs)("div",{className:"px-0 py-3 list-group-item d-flex justify-content-between align-items-center",children:[(0,Pa.jsxs)("h3",{className:"heading-18",children:[f("label_mode_of_consultation")," "]}),(0,Pa.jsx)("p",{className:"heading-18-semibold",children:null===u||void 0===u?void 0:u.mode_of_consultation})]}),(0,Pa.jsxs)("div",{className:"px-0 py-3 list-group-item d-flex justify-content-between align-items-center",children:[(0,Pa.jsx)("h3",{className:"heading-18",children:f("booking_status")}),(0,Pa.jsx)("p",{className:"heading-18-semibold ".concat("booked"===(null===u||void 0===u?void 0:u.booking_status)?"text-success":"text-danger"),children:"booked"===(null===u||void 0===u?void 0:u.booking_status)?f("booked"):f(null===u||void 0===u?void 0:u.booking_status)})]}),(0,Pa.jsxs)("div",{className:"px-0 py-3 list-group-item ",children:[(0,Pa.jsx)("h3",{className:"heading-18 mb-2",children:f("label_purpose")}),(0,Pa.jsx)("p",{className:"heading-18-semibold",children:null===u||void 0===u?void 0:u.purpose})]})]})}),(0,Pa.jsxs)("div",{className:"modal-footer justify-content-start",children:["booked"===(null===u||void 0===u?void 0:u.booking_status)&&(0,Pa.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>k(u),disabled:"booked"!==(null===u||void 0===u?void 0:u.booking_status),"data-bs-dismiss":"modal","data-bs-toggle":"modal","data-bs-target":"#modalCancel",children:f("btn_cancel_booking")}),T>=N&&"booked"===(null===u||void 0===u?void 0:u.booking_status)&&(0,Pa.jsx)("button",{className:"btn btn-primary",onClick:()=>(async e=>{JO(e).then(e=>{E(!w),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})})(u._id),"data-bs-dismiss":"modal","aria-label":"Close",children:f("btn_mark_completed")})]})]})})})]})}})},{path:"my-booking-view/:id",element:(0,Pa.jsx)(hD,{component:function(){var e;const{t:t}=As(),n=ct(),[i,r]=(gn(),(0,a.useState)({})),[s,o]=(0,a.useState)(null),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[h,p]=(0,a.useState)({}),m=(0,a.useRef)(),f=ot(),[g,_]=(0,a.useState)([]),[v,b]=(0,a.useState)(""),[y]=(0,a.useState)(7),[x,w]=(0,a.useState)(1),[E,S]=(0,a.useState)("false"),[C,T]=(0,a.useState)(!1),[N,A]=(0,a.useState)(1),k=QO()().seconds(0).milliseconds(0),R=QO()(null===i||void 0===i?void 0:i.date).add(1,"hours").seconds(0).milliseconds(0);Xa(Rs.ROLE.PSYCHIC),(0,a.useEffect)(()=>{(async e=>await oc(GO).post("".concat(qO,"/details?o_id=").concat(e)))(n.id).then(e=>{var t;r(null===e||void 0===e?void 0:e.data),A(j(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.date))}).catch(e=>{console.log("Error===>",e)})},[E]);const I=()=>{_j("psychic_booking_cancel_policy").then(e=>{p(null===e||void 0===e?void 0:e.data[0])}).catch(e=>{console.log("Error fetching privacy policy: ",e)})},O=()=>{var e;const t=new FormData;t.append("client_id",null===i||void 0===i||null===(e=i.client)||void 0===e?void 0:e._id),t.append("date",null===i||void 0===i?void 0:i.date),t.append("booking_id",null===i||void 0===i?void 0:i._id),t.append("mode_of_consultation",null===i||void 0===i?void 0:i.mode_of_consultation),(async e=>await oc(Ej).post("".concat(Sj,"/notify-for-meeting"),e))(t).then(e=>{console.log("Notification response: ",e)}).catch(e=>{console.error("Error sending notification: ",e)})},j=e=>{const t=36e5-(new Date-new Date(e));return Math.max(0,Math.floor(t/1e3))};(0,a.useEffect)(()=>{if(N<=0)return;const e=setInterval(()=>{A(t=>t<=1?(clearInterval(e),0):t-1)},1e3);return()=>clearInterval(e)},[N]),console.log("Remaining Seconds---: ",N);const P=async e=>{O(),f("/psychic/meeting?meeting_id=".concat(i.meeting_id))};return(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)("div",{className:"booking-page",children:(0,Pa.jsxs)("div",{className:"booking-container",children:[(0,Pa.jsxs)("div",{className:"header",children:[(0,Pa.jsx)("h2",{className:"heading",children:t("label_booking_details")}),(0,Pa.jsxs)("button",{className:"btn btn-border",onClick:()=>f(-1),children:[(0,Pa.jsx)("span",{children:t("btn_back")})," ",(0,Pa.jsx)("span",{children:"\u21a9\ufe0f"})]})]}),(0,Pa.jsxs)("div",{className:"booking-box",children:[(0,Pa.jsxs)("div",{className:"detail-row",children:[(0,Pa.jsx)("span",{className:"label",children:t("booking_id")}),(0,Pa.jsx)("span",{className:"value",children:null===i||void 0===i?void 0:i.generated_booking_id})]}),(0,Pa.jsxs)("div",{className:"detail-row",children:[(0,Pa.jsx)("span",{className:"label",children:t("client_name_id")}),(0,Pa.jsx)("span",{className:"value",children:os(null===i||void 0===i||null===(e=i.client)||void 0===e?void 0:e.name)})]}),(0,Pa.jsxs)("div",{className:"detail-row",children:[(0,Pa.jsx)("span",{className:"label",children:t("date_and_time")}),(0,Pa.jsx)("span",{className:"value",children:qa(null===i||void 0===i?void 0:i.date,"YYYY-MM-DD",!0,!1,!1)})]}),(0,Pa.jsxs)("div",{className:"detail-row",children:[(0,Pa.jsx)("span",{className:"label",children:t("label_credit")}),(0,Pa.jsx)("span",{className:"value",children:null===i||void 0===i?void 0:i.credit})]}),(0,Pa.jsxs)("div",{className:"detail-row",children:[(0,Pa.jsx)("span",{className:"label",children:t("label_amount")}),(0,Pa.jsx)("span",{className:"value",children:"\u20ac ".concat(Number(null===i||void 0===i?void 0:i.amount).toFixed(2))})]}),(0,Pa.jsxs)("div",{className:"detail-row",children:[(0,Pa.jsx)("span",{className:"label",children:t("label_mode_of_consultation")}),(0,Pa.jsx)("span",{className:"value",children:t(null===i||void 0===i?void 0:i.mode_of_consultation)})]}),(0,Pa.jsxs)("div",{className:"detail-row",children:[(0,Pa.jsx)("span",{className:"label",children:t("booking_status")}),(0,Pa.jsx)("span",{className:"value paid ".concat("booked"===(null===i||void 0===i?void 0:i.booking_status)?"text-success":"text-danger"),children:"booked"===(null===i||void 0===i?void 0:i.booking_status)?t("booked"):t(null===i||void 0===i?void 0:i.booking_status)})]}),(0,Pa.jsxs)("div",{className:"px-0 py-3 list-group-item ",children:[(0,Pa.jsx)("h3",{className:"heading-18 mb-2",children:t("label_purpose")}),(0,Pa.jsx)("p",{className:"heading-18-semibold",children:null===i||void 0===i?void 0:i.purpose})]}),N<Rs.ONE_HOUR_SECONDS&&"cancelled"!==(null===i||void 0===i?void 0:i.booking_status)&&(0,Pa.jsxs)("div",{className:"action-row",children:["chat"===(null===i||void 0===i?void 0:i.mode_of_consultation)&&(0,Pa.jsxs)("button",{className:"btn-1 outline",onClick:()=>function(e){var t;N>0&&O(),e&&f("/psychic/chat/".concat(e._id,"?receiverID=").concat(null===e||void 0===e||null===(t=e.client)||void 0===t?void 0:t._id),{state:{receiver:null===e||void 0===e?void 0:e.client,bookingDetails:e}})}(i),children:[(0,Pa.jsx)("a",{href:"javascript:void(0)",children:(0,Pa.jsx)("img",{src:fB,alt:"chat-icon"})})," ",t(N>0?"start_chat_meet":"view_past_chat_meet")]}),"audio"===(null===i||void 0===i?void 0:i.mode_of_consultation)&&N>0&&(0,Pa.jsxs)("button",{onClick:()=>P(),className:"btn-1 outline",children:[(0,Pa.jsx)("a",{href:"javascript:void(0)",children:(0,Pa.jsx)("img",{src:mB,alt:"audio-icon"})})," ",t("start_audio_meet")]}),"video"===(null===i||void 0===i?void 0:i.mode_of_consultation)&&N>0&&(0,Pa.jsxs)("button",{onClick:()=>P(),className:"btn-1 outline",children:[(0,Pa.jsx)("a",{href:"javascript:void(0)",children:(0,Pa.jsx)("img",{src:mB,alt:"video-icon"})})," ",t("start_video_meet")]})]}),(0,Pa.jsxs)("div",{className:"action-row",children:[k>=R&&"booked"===(null===i||void 0===i?void 0:i.booking_status)&&(0,Pa.jsx)("button",{className:"btn-2 complete",onClick:()=>(async e=>{JO(e).then(e=>{S(!E),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError")})})(n.id),children:t("btn_mark_completed")}),"booked"===(null===i||void 0===i?void 0:i.booking_status)&&k<QO()(null===i||void 0===i?void 0:i.date)&&(0,Pa.jsx)("button",{type:"button",className:"btn-4 cancel",onClick:()=>{o(i._id)},disabled:"booked"!==(null===i||void 0===i?void 0:i.booking_status),"data-bs-dismiss":"modal","data-bs-toggle":"modal","data-bs-target":"#modalCancel",children:t("btn_cancel_booking")})]})]})]})}),(0,Pa.jsx)("div",{className:"modal fade",id:"modalCancel",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,Pa.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:(0,Pa.jsx)("div",{className:"modal-content",children:(0,Pa.jsx)("div",{className:"modal-body",children:(0,Pa.jsxs)("div",{className:"cancel-modal-info text-center p-6 px-16 d-flex flex-column gap-4",children:[(0,Pa.jsx)("figure",{className:"mb-0",children:(0,Pa.jsx)("img",{src:tj,alt:"cancel"})}),(0,Pa.jsx)("h4",{className:"heading-32-semibold",children:t("are_sure_cancel_booking")}),(0,Pa.jsxs)("div",{className:"cancel-modal-btn-group d-flex gap-2 justify-content-center",children:[(0,Pa.jsx)("button",{type:"button",className:"btn btn-border","data-bs-dismiss":"modal",children:t("btn_no")}),(0,Pa.jsx)("button",{type:"button",onClick:()=>c(""),className:"btn btn-primary","data-bs-dismiss":"modal","data-bs-toggle":"modal","data-bs-target":"#modalCancelReason",children:t("btn_yes")})]}),(0,Pa.jsx)("div",{className:"btn-text cp",onClick:I,"data-bs-toggle":"modal","data-bs-target":"#modalCancelPolicy",children:t("cancellation_policy")})]})})})})}),(0,Pa.jsx)("div",{className:"modal fade",id:"modalCancelReason",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true","data-bs-backdrop":"static","data-bs-keyboard":"false",children:(0,Pa.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:(0,Pa.jsx)("div",{className:"modal-content",children:(0,Pa.jsxs)("div",{className:"modal-body",children:[(0,Pa.jsxs)("div",{className:"modal-header d-flex justify-content-between align-items-center",children:[(0,Pa.jsx)("h1",{className:"heading-20-bold",id:"exampleModalLabel",children:t("Cancel booking")}),(0,Pa.jsx)("button",{ref:m,type:"button",className:"close-btn-custom","data-bs-dismiss":"modal","aria-label":"Close",children:(0,Pa.jsx)("i",{className:"ti ti-xbox-x","aria-hidden":"true"})})]}),(0,Pa.jsxs)("div",{className:"cancel-modal-info text-center p-6 px-16 d-flex flex-column gap-4",children:[(0,Pa.jsx)("figure",{className:"mb-0",children:(0,Pa.jsx)("img",{src:tj,alt:"cancel"})}),(0,Pa.jsxs)("div",{className:"",children:[(0,Pa.jsx)("label",{htmlFor:"cancellation_reason",className:"form-label",children:t("label_cancellation_reason")}),(0,Pa.jsx)("input",{className:"form-control",type:"text",name:"cancellation_reason",id:"cancellation_reason",value:l,placeholder:t("placeholder_cancel_reason"),onChange:e=>{const n=e.target.value;c(n);const i=n.trim();0===i.length?u(t("cancellation_reason_is_required")):i.length>200?u(t("cancellation_reason_characters_limit_200")):/[a-zA-Z]/.test(i)?u(""):u(t("cancellation_reason_include_at_least_one_letter"))}}),d&&(0,Pa.jsx)("div",{className:"validation-error text-danger",children:d})]}),(0,Pa.jsxs)("div",{className:"cancel-modal-btn-group d-flex gap-2 justify-content-center",children:[(0,Pa.jsx)("button",{type:"button",onClick:async()=>{if(l){if(""===d&&null!==n&&void 0!==n&&n.id){var e;null===m||void 0===m||null===(e=m.current)||void 0===e||e.click();const t=new FormData;t.append("o_id",null===n||void 0===n?void 0:n.id),t.append("cancellation_reason",l),KO(t).then(e=>{S(!E),e.success?zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{console.log("deleteError===>",e)})}}else u(t("err_cancellation_reason_required"))},className:"btn btn-primary",children:t("btn_submit")}),(0,Pa.jsx)("button",{type:"button",className:"btn btn-border","data-bs-dismiss":"modal",children:t("btn_cancel")})]}),(0,Pa.jsx)("div",{className:"btn-text cp",onClick:I,"data-bs-toggle":"modal","data-bs-target":"#modalCancelPolicy",children:t("cancellation_policy")})]})]})})})}),(0,Pa.jsx)("div",{className:"modal fade",id:"modalCancelPolicy",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:(0,Pa.jsx)("div",{className:"modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable",children:(0,Pa.jsx)("div",{className:"modal-content",children:(0,Pa.jsx)("div",{className:"modal-body",children:(0,Pa.jsxs)("div",{className:"cancel-modal-info text-center p-6 px-16 d-flex flex-column gap-4",children:[(0,Pa.jsx)("h4",{className:"heading-32-semibold",children:null===h||void 0===h?void 0:h.title}),(0,Pa.jsx)("div",{dangerouslySetInnerHTML:{__html:null===h||void 0===h?void 0:h.description}})]})})})})})]})}})},{path:"my-booking-view/meeting",element:(0,Pa.jsx)(hD,{component:()=>{var e;ct(),at();const t=gn(),n=(0,a.useRef)(null),i=(0,a.useRef)(null),r=(0,a.useRef)(null),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)([]),[h,p]=(0,a.useState)(!1),[m,f]=(0,a.useState)(!1),[g,_]=(0,a.useState)(0),v=bn(e=>e.meetingDetailsSlice.meetingDetails),b=(0,a.useRef)(v);async function y(e){var a,s,o;const l=Math.floor(1e4*Math.random()),c=null===(a=b.current)||void 0===a||null===(s=a.call_info)||void 0===s?void 0:s.channel,d=(await sc.get("".concat("https://astranova-api.devtechnosys.tech","/generate-agora-token?channel=").concat(c,"&uid=").concat(l))).data.token;if(await n.current.join("b13544f44873432eab39b563287690e9",c,d,l),i.current=await bB().createMicrophoneAudioTrack(),e){r.current=await bB().createCameraVideoTrack();const e=document.getElementById("local-container");r.current.play(e),await n.current.publish([i.current,r.current])}else await n.current.publish([i.current]);if(p(!0),f(!1),"outgoing"==(null===(o=b.current)||void 0===o?void 0:o.call_type)){var u,h,m,g,_,v;const n=await async function(e){var n,i,r,a,s,o;const l={type:e?"video":"audio",call_initiate_time:new Date,senderId:null===(n=b.current)||void 0===n||null===(i=n.call_info)||void 0===i?void 0:i.sender_id,receiverId:null===(r=b.current)||void 0===r||null===(a=r.call_info)||void 0===a?void 0:a.reciever_id},c=await(async e=>await oc(Ej).post("".concat(Sj,"/save-chat"),e))(l);return t(Ar(null===c||void 0===c||null===(s=c.data)||void 0===s?void 0:s._id)),null===c||void 0===c||null===(o=c.data)||void 0===o?void 0:o._id}(e),i={channel:c,meeting_type:e?"video":"audio",reciever_id:null===(u=b.current)||void 0===u||null===(h=u.call_info)||void 0===h?void 0:h.reciever_id,sender_id:null===(m=b.current)||void 0===m||null===(g=m.call_info)||void 0===g?void 0:g.sender_id,sender_name:null===(_=b.current)||void 0===_||null===(v=_.call_info)||void 0===v?void 0:v.sender_name,message_id:n};y=i,OO.emit("CALL-CUSTOMER",y)}var y}async function x(e){var a,s,o,l,c;i.current&&(i.current.close(),i.current=null),r.current&&(r.current.close(),r.current=null),await n.current.leave(),p(!1),f(!0);const d=null!==(a=b.current)&&void 0!==a&&null!==(s=a.call_info)&&void 0!==s&&s.call_start_time?Math.floor((Date.now()-(null===(o=b.current)||void 0===o||null===(l=o.call_info)||void 0===l?void 0:l.call_start_time))/1e3):0;var u,h,m;if(_(d),console.log("-------leave call",b.current),e)if(null!==(u=b.current)&&void 0!==u&&null!==(h=u.call_info)&&void 0!==h&&h.call_start_time){var g,v,y,x,w,E;!async function(e){await(async e=>await oc(Ej).post("".concat(Sj,"/update-chat"),e))(e)}({message_id:null===(g=b.current)||void 0===g||null===(v=g.call_info)||void 0===v?void 0:v.message_id,call_start_time:null===(y=b.current)||void 0===y||null===(x=y.call_info)||void 0===x?void 0:x.call_start_time,call_duration:d,call_status:null===(w=b.current)||void 0===w||null===(E=w.call_info)||void 0===E?void 0:E.call_status})}else{var S,C,T,N;const e={sender_id:null===(S=b.current)||void 0===S||null===(C=S.call_info)||void 0===C?void 0:C.sender_id,reciever_id:null===(T=b.current)||void 0===T||null===(N=T.call_info)||void 0===N?void 0:N.reciever_id};m=e,OO.emit("END-CALL-CUSTOMER",m)}"incoming"==(null===(c=b.current)||void 0===c?void 0:c.call_type)?t(Nr(null)):t(Rr())}return(0,a.useEffect)(()=>{b.current=v},[v]),(0,a.useEffect)(()=>{var e;if("incoming"==(null===v||void 0===v?void 0:v.call_type))y("video"==(null===v||void 0===v||null===(e=v.call_info)||void 0===e?void 0:e.meeting_type));else if("outgoing"==(null===v||void 0===v?void 0:v.call_type)){var t;y("video"==(null===v||void 0===v||null===(t=v.call_info)||void 0===t?void 0:t.meeting_type))}},[null===v||void 0===v?void 0:v.call_type]),(0,a.useEffect)(()=>(OO.on("DECLINE-INCOMING-CALL",e=>{var t,n;e.sender_id==(null===(t=b.current)||void 0===t||null===(n=t.call_info)||void 0===n?void 0:n.sender_id)&&x(0)}),()=>{OO.off("DECLINE-INCOMING-CALL")}),[]),(0,a.useEffect)(()=>(n.current=bB().createClient({mode:"rtc",codec:"vp8"}),n.current.on("user-published",async(e,i)=>{if(await n.current.subscribe(e,i),"audio"===i)e.audioTrack.play();else{const t=document.createElement("div");t.id=e.uid,t.style.width="320px",t.style.height="240px",document.getElementById("remote-container").appendChild(t),e.videoTrack.play(t)}u(t=>[...t,e]),t(kr())}),n.current.on("user-left",e=>{console.log("Remote user left:",e.uid),u(t=>t.filter(t=>t.uid!==e.uid)),x(0)}),n.current.on("user-unpublished",async e=>{}),()=>{x()}),[]),console.log("------micmuted",s),(0,Pa.jsxs)("div",{children:[(0,Pa.jsxs)("div",{children:[h||"outgoing"!=(null===v||void 0===v?void 0:v.call_type)?null:(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)("button",{className:"btn bg-primary",onClick:()=>{y(!1)},children:"Join Audio"}),(0,Pa.jsx)("button",{className:"btn bg-primary ms-3",onClick:()=>{y(!0)},children:"Join Video"})]}),h?(0,Pa.jsxs)(Pa.Fragment,{children:[(0,Pa.jsx)("button",{className:"btn bg-danger",onClick:()=>x(1),children:"Leave"}),(0,Pa.jsx)("button",{className:"btn bg-primary",onClick:()=>(()=>{if(i.current){const e=i.current.isEnabled;console.log("-------audio",e),i.current.setEnabled(!e),o(!!e)}})(),children:s?"Unmute":"Mute"}),(0,Pa.jsxs)("button",{className:"btn bg-info",onClick:()=>(()=>{if(r.current){const e=r.current.isEnabled;r.current.setEnabled(!e),c(!!e)}})(),children:[l?"On Video":"Off Video"," "]})]}):null,h?"outgoing"==(null===v||void 0===v?void 0:v.call_type)?(0,Pa.jsx)("h3",{children:"received"==(null===v||void 0===v||null===(e=v.call_info)||void 0===e?void 0:e.call_status)?"Connected":"Ringing"}):(0,Pa.jsx)("h3",{children:"incoming"==(null===v||void 0===v?void 0:v.call_type)?"Connected":null}):null]}),m?(0,Pa.jsxs)("h3",{children:["Meeting Ended, Call duration was ",g," seconds"]}):null,(0,Pa.jsx)("div",{id:"local-container",style:{width:"320px",height:"240px",backgroundColor:"#000"}}),(0,Pa.jsx)("div",{id:"remote-container"})]})}})},{path:"payment-history",element:(0,Pa.jsx)(hD,{component:function(){const[e,t]=(0,a.useState)([]),[n,i]=(0,a.useState)(""),[r]=(0,a.useState)(7),[s,o]=(0,a.useState)(1),{t:l}=As(),[c,d]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{d(!0);const e=new FormData;e.append("page",s),e.append("per_page",r),wj(e).then(e=>{var n,r;i(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.total_records),o(e&&e.data&&e.data.page?e.data.page:1),t(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.list),setTimeout(()=>{d(!1)},Rs.LOADER_TIMEOUT_TIME)}).catch(e=>{console.log("Error fetching payment data: ",e),setTimeout(()=>{d(!1)},Rs.LOADER_TIMEOUT_TIME)})},[s,r]),(0,Pa.jsxs)("div",{className:"dashboard-right-container",children:[(0,Pa.jsx)("div",{className:"dashboard-header",children:(0,Pa.jsx)("h2",{className:"heading-22-bold",children:l("heading_payment_history")})}),(0,Pa.jsx)("div",{className:"dashboard-body",children:(0,Pa.jsxs)("div",{className:"my-bookings-sec",children:[(0,Pa.jsx)("div",{className:"table-responsive",style:{minHeight:"27rem"},children:c?(0,Pa.jsxs)("table",{className:"table table-striped",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})})}),(0,Pa.jsxs)("tbody",{children:[(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})}),(0,Pa.jsx)("tr",{children:(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})," "]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})," "]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})," "]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})," "]}),(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("td",{children:(0,Pa.jsx)(OR,{width:"100%",height:30})})," "]})]})]}):(null===e||void 0===e?void 0:e.length)>0?(0,Pa.jsxs)("table",{className:"table table-striped",children:[(0,Pa.jsx)("thead",{children:(0,Pa.jsxs)("tr",{children:[(0,Pa.jsx)("th",{children:l("label_booking_id")}),(0,Pa.jsx)("th",{children:l("label_name")}),(0,Pa.jsx)("th",{children:l("label_date_time")}),(0,Pa.jsx)("th",{children:l("title_credit")}),(0,Pa.jsx)("th",{children:l("title_amount")}),(0,Pa.jsx)("th",{children:l("list_heading_status")})]})}),(0,Pa.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map((e,t)=>{var n;return(0,Pa.jsxs)("tr",{children:[(0,Pa.jsxs)("td",{children:["#",null===e||void 0===e?void 0:e.generated_booking_id]}),(0,Pa.jsx)("td",{children:os(null===e||void 0===e||null===(n=e.client)||void 0===n?void 0:n.name)}),(0,Pa.jsx)("td",{children:qa(null===e||void 0===e?void 0:e.createdAt)}),(0,Pa.jsx)("td",{children:"".concat(null===e||void 0===e?void 0:e.credit," credits")}),(0,Pa.jsxs)("td",{children:["\u20ac",null===e||void 0===e?void 0:e.amount]}),(0,Pa.jsx)("td",{children:(0,Pa.jsx)("span",{className:"pending"===(null===e||void 0===e?void 0:e.credit_status)?"text-warning":"cancelled"===(null===e||void 0===e?void 0:e.credit_status)?"text-danger":"text-success",children:os(null===e||void 0===e?void 0:e.credit_status)})})]},t)})})]}):(0,Pa.jsx)(AR,{})}),!c&&(null===e||void 0===e?void 0:e.length)>0&&(0,Pa.jsx)(yj,{dataLength:n,itemPerPage:r,currentPage:s,setPage:o})]})})]})}})}]},{path:"profile",element:(0,Pa.jsx)(hD,{component:function(){ot();const e=gn(),{t:t}=As(),[n,i]=(0,a.useState)({}),[r,s]=(0,a.useState)("");(0,a.useEffect)(()=>{oI().then(e=>{var t;i(e&&e.data?e.data:[]),s(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.profile_image)}).catch(e=>{console.log("error=====>",e)})},[]);const o=vf().shape({first_name:rf().trim().max(Rs.INPUT_LENGTH_40,es(t("max_length_error_40"),[Rs.INPUT_LENGTH_40])).concat(sR).required(t("label_first_name_error")),last_name:rf().trim().max(Rs.INPUT_LENGTH_40,es(t("max_length_error_40"),[Rs.INPUT_LENGTH_40])).concat(sR).required(t("label_last_name_error")),email:rf().trim().email(t("label_email_invalid_format_error")).test("custom-email","Invalid email format",e=>{const t=new RegExp("^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$");return e&&t.test(e)}).required(t("label_email_required_error")),phone_number:aR,expertise:rf().trim().required(t("err_expertise_is_required")),experience:sf().min(0,"err_min_limit").max(100,"err_max_limit").required(t("err_experience_is_required")),language_spoken:rf().required(t("err_language_spoken_is_required")),chat_credit_rate:sf().min(1,t("err_min_limit")).max(1e8,t("err_max_limit")).required("err_chat_credit_rate"),audio_credit_rate:sf().min(1,t("err_min_limit")).max(1e8,t("err_max_limit")).required("err_audio_credit_rate"),video_credit_rate:sf().min(1,t("err_min_limit")).max(1e8,t("err_max_limit")).required("err_video_credit_rate"),city:rf().trim().max(Rs.INPUT_LENGTH_50,es(t("max_length_error_50"),[Rs.INPUT_LENGTH_50])).concat(sR).concat(oR).required(t("err_city_is_required")),state:rf().trim().max(Rs.INPUT_LENGTH_50,es(t("max_length_error_50"),[Rs.INPUT_LENGTH_50])).concat(sR).concat(oR).required(t("err_state_is_required")),pin_code:rf().trim().required("err_pin_code_is_required").matches(/^[1-9]\d*$/,"err_pin_code_invalid"),bio:rf().trim().required(t("err_bio_is_required")).max(Rs.TEXTAREA_MAX_LENGTH_200,es(t("max_bio_length"),[Rs.TEXTAREA_MAX_LENGTH_200])),experience_summary:rf().trim().required(t("err_experience_summary_is_required")).max(Rs.TEXTAREA_MAX_LENGTH_200,es(t("max_experience_summary_length"),[Rs.TEXTAREA_MAX_LENGTH_200])),address:rf().max(Rs.TEXTAREA_MAX_LENGTH,es(t("validation_max_input_characters"),[Rs.TEXTAREA_MAX_LENGTH])).concat(sR).concat(oR).required(t("label_location_error")),profile_image:Gm().nullable().test("fileOrUrl","supported_file_error",e=>!e||("string"===typeof e?/^(http|https):\/\/[^\s$.?#].[^\s]*$/gm.test(e):["image/jpg","image/jpeg","image/png","image/webp","image/gif"].includes(e.type))).test("fileSize","image_max_size_error",e=>!e||"string"===typeof e||e.size<=1572864)}),l=Ap({enableReinitialize:!0,initialValues:{first_name:n&&n.first_name?n.first_name:"",last_name:n&&n.last_name?n.last_name:"",email:n&&n.email?n.email:"",phone_number:n&&null!==n&&void 0!==n&&n.phone_number?null===n||void 0===n?void 0:n.phone_number:"",bio:n&&n.bio?n.bio:"",experience_summary:n&&n.experience_summary?n.experience_summary:"",expertise:n&&n.expertise?n.expertise:"",experience:n&&n.experience?n.experience:"",language_spoken:n&&n.language_spoken?n.language_spoken:"",chat_credit_rate:n&&n.chat_credit_rate?n.chat_credit_rate:"",audio_credit_rate:n&&n.audio_credit_rate?n.audio_credit_rate:"",video_credit_rate:n&&n.video_credit_rate?n.video_credit_rate:"",availability_hours:n&&n.availability_hours?n.availability_hours:"",city:n&&n.city?n.city:"",state:n&&n.state?n.state:"",pin_code:n&&n.pin_code?n.pin_code:"",address:n&&n.address?n.address:"",profile_image:n&&n.profile_image?n.profile_image:""},validationSchema:o,onSubmit:(t,i)=>{let{setSubmitting:r,resetForm:a}=i;ls(!0);let s=new FormData;s.append("first_name",t.first_name),s.append("last_name",t.last_name),s.append("email",t.email),s.append("phone_number",t.phone_number),s.append("bio",t.bio),s.append("experience_summary",t.experience_summary),s.append("expertise",t.expertise),s.append("experience",t.experience),s.append("language_spoken",t.language_spoken),s.append("chat_credit_rate",t.chat_credit_rate),s.append("audio_credit_rate",t.audio_credit_rate),s.append("video_credit_rate",t.video_credit_rate),s.append("availability_hours",t.availability_hours),s.append("city",t.city),s.append("state",t.state),s.append("pin_code",t.pin_code),s.append("address",t.address),s.append("profile_image",t.profile_image);const o=(e=>{const t={};return e.forEach((e,n)=>{t[n]=e}),t})(s),l=Tn({name:"".concat(t.first_name," ").concat(t.last_name),token:n.token},o);(async e=>await oc(sI).post("".concat(aI,"/edit"),e))(s).then(t=>{r(!1),t.success?(zr().fire(Tn({icon:"success",text:t.message},Rs.SWAL_SETTINGS)),ls(!1),e(Sr(l))):zr().fire(Tn({icon:"error",text:as(t)},Rs.SWAL_SETTINGS)),ls(!1)}).catch(e=>{zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS)),console.log("error ====> ",e)})}});return(0,Pa.jsx)("div",{className:"inner-container py-5",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsx)("div",{className:"row justify-content-center",children:(0,Pa.jsx)("div",{className:"col-md-9",children:(0,Pa.jsxs)("div",{className:"profile-wrapper",children:[(0,Pa.jsx)("div",{className:"profile-header mb-5",children:(0,Pa.jsx)("h1",{className:"heading-30-semibold text-center",children:t("heading_my_profile")})}),(0,Pa.jsx)("form",{onSubmit:l.handleSubmit,children:(0,Pa.jsx)("div",{className:"profile-body",children:(0,Pa.jsxs)("div",{className:"d-flex flex-column row-gap-4",children:[(0,Pa.jsxs)("div",{className:"profile-image-card",children:[(0,Pa.jsx)("h4",{className:"heading-20-semibold",children:t("label_profile_picture")}),(0,Pa.jsxs)("div",{className:"profile-image-wrapper",children:[(0,Pa.jsx)("img",{src:r||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAACPCAYAAAAVxlL2AAAACXBIWXMAAAsTAAALEwEAmpwYAAABaWlDQ1BEaXNwbGF5IFAzAAB4nHWQvUvDUBTFT6tS0DqIDh0cMolD1NIKdnFoKxRFMFQFq1OafgltfCQpUnETVyn4H1jBWXCwiFRwcXAQRAcR3Zw6KbhoeN6XVNoi3sfl/Ticc7lcwBtQGSv2AijplpFMxKS11Lrke4OHnlOqZrKooiwK/v276/PR9d5PiFlNu3YQ2U9cl84ul3aeAlN//V3Vn8maGv3f1EGNGRbgkYmVbYsJ3iUeMWgp4qrgvMvHgtMunzuelWSc+JZY0gpqhrhJLKc79HwHl4plrbWD2N6f1VeXxRzqUcxhEyYYilBRgQQF4X/8044/ji1yV2BQLo8CLMpESRETssTz0KFhEjJxCEHqkLhz634PrfvJbW3vFZhtcM4v2tpCAzidoZPV29p4BBgaAG7qTDVUR+qh9uZywPsJMJgChu8os2HmwiF3e38M6Hvh/GMM8B0CdpXzryPO7RqFn4Er/QcXKWq8MSlPPgAAFrBJREFUeAHtXelSG9fW3WohEELCYhCSzNQCAwHbTB7jpCq4vq/q3n8hT2DnCRI/AfYThDxB7CcIeYLg+oZbdevmGuN4wjEI7ATMYGQzCQTo7nXUjYUQIIFaOi1pVQlJLbDV3evsvfZwzrFQgWFqaspdUVGh8stei8XSHI1GVX5245mPubVfUw/582DiM/9tkP92emdnJxgOh8cCgUCICggWymOALA6HY4Bv8lf8UPnQQCQScW9shGlldZXC4U3xiGxv02Y4LJ4BHEsGu71MPJfb7dp7uzjmcjmppMRKLqeTbDZbiAk1xh+P8fPD3d3dMb/fH6Q8RV4RCIRxOp29fOO+5reD29vb6nLoAy0vh2iDSbGqkcZIlJSUMJEqyO0+Q1VVZwSp+JhOqF/W19dH88lKmZ5AIE1lZeUtHumDW1tbvaura+6FxSUKMXFWVtdIBuiE8nhqqMotvOSooij32Ro+NLt1Mi2BFhYWBvhpiG/CwMrKKs3OzROIs625IVkBC+WprRGEOuv3ErvWESb/A6/XO0ImhKkIpGma73n0fvf+/bKwNCCO7KQ5DDqZ/P46WKYgHxplMX7PTFbJFATSrM13bG0GZ978KSzNqiTuKVOAIA+oTayb3CzSy+6bhUhSEyjeTYE4b97+ZVprkypApCp2b4FAsymIJCWBZmdnVTbvPxUScZLB7/NKTySpCKQl+e4yWb4rZOIkorGhnhob66UkkjQEmpub+95qtQ5Nz7x1TwVnisRJgK6ROHILchBxt7a29gFJgJwTSHdXHFUNvPpjUprcjawAkfr7umGNELF9m2trlFMCwerwRRhii+OGuyoidcCttQSaiK3RHZ/PN0w5Qk4IFG91nr2YMLy8kK/QrZG9rBTJyDu5sEZZJxBCc64J/TQ5Na1C6xRxesASBdTmoObSRimLyCqB3r17dze8uTn07PmEqFUVkTkgd9TZ2UGlthJEaXcpS8gKgbQSxPDq2vqt8SdPiy7LIMQJ7OG6uro7lAUYTiDoHQ7Pf56de9c78WqyGJ5nAW3nWqipsX6MXdo3RusiQwmkkefXot7JPuJ00U0jSWQYgXTyTLx6rRZD9NwgGyQyhEA6eZ49f6mi3aKI3AH1tK7OdsNIlHECFckjH4wkUUYJVCSPvDCKRAplCPGap0ge+cBRMHH+Tdwj3CvKEDJCIOR59GjLtII5atEeSvL3eQCQaCo4LUiEe0YZQAllAE6n86fXk0GThurRuJ8WUixRsigK8UXmQqU19ll0h7jWRDs7u+JZUSx8LBr3b5intXxyaobPrUTlPNHP/PYmnRKnPnOUJxaX3g+NP3lG0iMad7r80sJkKRcTA11iloSrspIqKhxks5WQAgLxL1ksFtrZjREnEonQ2toGrays0IdQiNbW12ljPSyIJf75uJ+fnuUkFzLWXP44dcb6VGeHdozNra0f/v1o3BzlCb6nIAZmQvj8XiEsHeV2zCYVREn5n4nGfiCrHt7covn5eXr75ywtLi0Kku39ZwJyukDMCLl6pZ/KSm2nagc5MYEgxHhUPvrnvx65pSWPsDixG1lWViraQgMtKlVWuqjEGnNPllNbiNi/z9ENfWDLND39hmZm3hCmT5P2P8gK1M6uXu4NKYrSd9LI7MRnx6NuSvosczR2kTo62qgZPcWOcuZUVJDGYtCNhTba2NykYHCaXr+eZJe3TjKTCI1p7W0twbW1tb6TTLk+0ZkxeYb/mn333fMXEyQrrCx0AwGVzl/oIntZGX2yRbpcNohAca+2I9uEazQx8Yq22UKR9j/LBq34eiI9lPbZsGgeDG9u/iyv7olSTXUNXWTieL11wovhJHN225hRS0vv6cnTp/SOtVI0Kh+BdD1Uaiu5mW5DWlpno027efTbo3FVxoYwhNfnWONc7L5IVr4oOSVOAhCpPX/+gp6/fMmvoyQb0JDGkVnariytEAFztth1SUkejKKenovU19dDthL5Ih+rVaELbBUvX7ok0gSyAcvgzLz5U+V7PJTO36U8QBF1bUUiUzK6LtyQa1evUsNZnylyen9yyD8+/oRWVlfYw30i+/7kZPaBQfjF51eQ0kjZlaU8VGPp72kpyXPjxnWqNwl5AL/fR/39fVTprCSZgLwWukYxwTPVv0mJQBx13d4Ih6UrkoI8n1+/Sn6vhywmIQ8ArVbnqWV3283noLDl2c259dGBehm7s4HFxcVbqfx+qhZIulIFyNPT0y0WaYoPns0CC0jEmfCr7HqtWlJTFsDTcJL4bioF12MJBOsD4SzTejywNm2tLRRobqRd9lu7kpYLjgOMZsNZP13o+kzU5WQZCGJdydAH1eFwfHfc76Zy5YemOKsqE1jgUVt7m3Qj96Rob28X5yQTYIVYTH9/nBU6kkC69ZFJOMN19fWKuU/ivUKylitTB0L8K5f6985JBmhWyH2cFTru2ktlfYTramslR0WFCVXP0UDN7nxXl1TBQCpW6FACwfosL4fksT5RhbOlVdT1WQdZLXm2wDXFBgc6Bbx1tSQLdCvkcrm+Pux3jrJAQ5PSdBiiS5DE3G+UKPLN+uhQFIU6uzqFS5MFWkR2+7DPk35TrKCBvI9MJYvaGrcWspsxaE8dtbUe8ng8JFNEtrK6OsCViIFknyclECe1boF5UkA0thM1NzflTdR1FDg9RK2tAa3tUQ4sLi7h2id1YwcItLy8DME0uCyN9bGQrRTdhA2U79C7B85ygtFV4SSLJK0fM29E0+DtZGL6AIGwmPfCwpI8baqcYGtqaqDSUtunQ5TfgKXF8r7QfTLYIdTIIKa5Un+gvHGAQBy23VpYXCRpwHUiuC8dMvX4GIkmPmfUyMgiB4lmZ9/haTDxuLL/l2ZV1j8DMhVN7eV2qqmuosKgzSfwaBfN/9BCFgkopG1kM5DoxvYRiE3nALsvkgk+r5esilJg9AGidJbrZDKQB4AbwxLMiTmhfQRi9/W1VO6L4Xa7SZ4yY/aAeWpud0ZmH2cMcGOcExqIP7aPQHBf8kRfQJSqa0CgXSo8ChGdqazUShty2F+4MUrQQXsEQvKQE0byRF8cwiIji/1JldgkYyo02DjytNlKSRZobswdn1TcIxBbn57lZYmsj4XElGNsZluowLlzNXz/nP4cA/vPslbu0d/vEYh97qBssy3KysqxkgQVKlAbs/M1kAngCKSO/j7eAvViK2x5EBW9PxYzNTtnGFhmpsRmFclUWQCNzPdkQH8vCDQ/P9/LxVPpFkmw5mPfRhoQM/gtcrXLiRVJwptuLnk14734dmwq1dUVGbdZKpS8c3KAQIq4Q3JFoPBUOzs7vXgd+3osoOVyXzFERRa2cAHaYGEr2YClayB58Fq3j70y7oKM+eSyzJfKDbCIFVb1kGsYgSt8X1S81gmkRiTcwyIS2ZJyBGYLOPetrS2SDasxb7XPhUk17yuGKIu1sFj5q1ARFQSKkGzYiAVbKn4oaCBjZe2WcRcdjD4ZL2C2AK+wsYEVzuRy4+AKOIPKvBKJRFQO4UlWrK0V7ia8G+sbcYt2ygVoMy72nlE4KeTGUmzyAcJRoY8fV6hQsRwKSZtIhdFhK6TGCLQto86INXEsLCzuvS4kIPgMMYFkDULDHMozd1SFlb47si2rzojS4iLWXi7EXQ6jNCfaSOVOpiIKOyOnBQIsLKK3ae7dQsF1A71fWhYr4cvKHQh8GB/NhcmqgWKP6Zk3BUUgJE9nZt6yi7CKOc8ynjs4A+6YYmGLv/6aFRFJoQAeITgzzcSJCuknczlHfgJZoiKhNjk5RYWC4PQ0hTfDYlqP7LVAU1ggjMQ3M3/S5uYW5Xc0FtvAJSiW1LGYohfKJGszWcSeE7iw+V5bffv2LX0IfdT6gExAIBZsIawPLDt2ojv06o8/aB2RSZ6SKLy5SS8mJmh7V/76HzgD7oDmH8zSuI6w9vnzlzFxmWdA5PXixQR9+GCOzLuNCaQoSshEywtaxEYlM2//onfzC5RPwHB4z1nniYk/tM1Y5HddJbHtGkLIAwUx98osQIV+/MnvYuvJfMEWu67x8d9p10QCb8+FseoPYgEDM+H9+xD99tsjkjMBmh42udo+Nv6YFt/NyzT54liAQJubmx8Uu90esplARCcCdaLff39q6o5F6J6XL1+KrLPZWnexJHEkEgkqVVVViMJMEYnFY5eH64uJV/SSdcOOCWN7ECYYnKFXr/4Q+4ftctgeNckcOHAFnMG+YkJEQwfZJVrkOnUoQg/hJphpBMfIM81u+DcexbCg5pp74nJW4CmIH3pP9Jh20HQAbx4/HmdXIO/+rfEAXbB4+z//9W/O9+hHzGVBNQEdFK/xAxbI6XTyK7m2c0oVgkQcxWDedl9vL5WWlUq3/RO+487ONgvmJ2I35097p5pv5puTjQ3ngMbwWifQYzOF8gcRa3kIzryhtY11QSLsASpLLQkuC6t7PXo0RrNzc9pR8xLI5XLi2n4iEKvpMafLnC5sPyyEJfr+9//+nzra2qixqZ4c5Q7KJZBqmJyc5DLMaxLTx/NgsQgXe6twOCwWEhcayO/3I5loukgsOSxiKszjJ09i+7XnMFeEFMPzly9o/CknPtkCWbTvZ+b5/vBUHHCFGhoaPlkggE3SKJv9QW0ZM1MCLgsrvXu9fjp3rpU8nlrK5aDA+j4d7R1UXV1DMyyc5zlZuLG1LRaM0vsMJdxG/kg4Y8HWmP5+7+qynx51m5ZAUbEcHtaT7jjXJny0IsmGJaU2G531+cjv9YqWlJfsyqY5/7MT2RLsMVsGizmCpxH9fbwFelxVdYbMCK/XQxfOd/FIrxajXjbAMuIBYvf3XqRWtZmePn1Gs7NzcXtimMMUVVW59wQ0sO9bz8/PLz/8n39I2mS/H/jijgoHnT/fSY0NDWQrsYpoR8/myt5mgJVHZmdn6TeOzLBcihkIBP1z4/Mrobq6uir9WKJAGPHUVt+WbXvvRGA0t7YE6OKFLrGSafxxswAut6Ghnrw+Lz1/9oJLMq9pR/JGMrgvSJ34Y4kD9aGf/bW0YAuDTVe+/PJzutTfw69LD8Q0ZotxSqwl1N19gQa++pIckufiPJ4aDNKR+GP7CGSz2UZcnA+SMZyHcWloPEt//9t/Ub2/TtMVJFyWWYqQyaB/ddycv/39v2O79Oydj1ijjGQpdXhqa7DczsP4Y/sIhMo8k2iU3RjJBFxQhOXXr12j8hwnBo0ELOqlS30cEHzGwQBIJE+M5veJ3SJHkTOMP35Aa7KPG5HJjZVxGNzf1yMeaN2OBb6fvnY+bPutA5Qp4SjyfFcnXbncTzKVl2AhGfcTjx+49myBHnA4n/OsNCIqrFR/+cplOtfaIs2uNdlCgEP969evidA/1wCR2X2F1tbWfkn87ACB4MbYZdxvbDhLuUOU0+U2+uLGNY5UfKxx9HkY5pgrlSkgk97f3x/bNyyHA0hPHqKBLPGzw6z/L3Uxk5UTOCsqmDw3yOfVdy8uzJVaof3q6jx07doVjUS5QUtM2N9P9llSAnk8nlGXyzWqMS+rcJSX8wW7THU8+rSltgt2tx6csZVJVFNVRdevXiZ7WfZ37kFbTFlZaZA58TDZ54fqT85GP2hRmymbKCsro57ebqqtyZ31kxUo03xx4zrX1rKrTbW0wt3DPj+UQHa7fQRiOltWCDWsy5wcbGqs17aKL+QFxpOjhmXFjS+ux/YQyQIgnt1nKoNcunhw2O8cSiBNTA9nwwqJ0gRHWg31+t7wRfIkR5Q1UR3X/7r4mhl/jQKBpiOtD3BkCoVD+R+zYYVUtZF6OJ2PBSlia7MWpuY5DjE1SNTZ0U6d7e1k5ECD9fF56460PrHvdASMt0JR0R7Q09MtiouFHHGlA1hsWKFYdtiY65WK9QGOTeLCCrndlUEjrBB0DzKudq0oWiRP6rByWr6fyx42A0Q1pnilYn2AYwkEK7S7u3sv01YIPryXLQ8sUNxRKiJ1IF925VK/VnzN3ODrvng+JesDpFRG4gLa/epq96jfV0cZAZcp/H4ftQbUBMqYu+E828CVamxsILUZwUdmCAS3iLxPKtYHSKcOea+9rTUjrR6Y+Nff10eKtXB3ZM4UYH262ZIjAXtaEkE4I+vMHudmqn+TMoGQnebi5nALi6vTIcpRRAebX0c+TJGSAuWcgL1w/jydlkAQznZ72XBiy8ZRSKsTgq3PvYb6s6cQ1Ii6zlDruRYqIrNobmokrxcS42QkQskCwpkr7vfS+bu0CARBzZHTt+c720/kyqzssrq7uw2JHAodiMq6uy+KprR0AdfV1dmB8tWdZBX3o5B2LxZcWXl5+YlcWROPEhRJi57LGLjdbk7KIlpOzwrprqu+vn6E0sSJmvl0V9bYUJ/y37CyJ6QCFMn2Qc8nIDXS0qqKonSqwD3Ucj536AQ40d3UckM3A2pjqDylhamiYgpLTW1NUTgbCBQ6Kp2uWAdnCnOm4bpwD9OJug7+nycElDprmnv9fd3H6iGHwyHaApQiewwHrnBLIHBsPzU+x73je3g3nagrEafyJz6fbxh6qPtC15G/18zJLjRFFWE8kBeqcJRTW0frkda+ra0FsuIu38Mf6RQ4tSBhUX0HWer2tuShOdZebFabTTVr1OyAhMZ0b6cz+RQoJAs9tTWjXq83rZA9GTKiaNmFfQNRHUhSL8NktDM57OctRGCsVnCill3TgYEL8qjNjcj3fEMZQEYIFCeqg/H1MuzB0aw2Fa1PLsARWT0HLvH6FBEXyCPuVZr5nsOQsZgaQgxfrPOz9j0SYSk0X12GCrBFpI2a6iqqqkbVICqKpG3nAuIenUY0JyKjKWF8sdnZWZDoV4uiqF6Ph1V+MeucK1gVhcN0lWx8Dzraz2WcPIAhvoVJpHLJ41d7ebla6Srqn1yCtQ4ehpAHMCQtrLuz8MYGxBoVkRtgcz4jyQMYqm51S1RRUaHyg4rIHoy2PDoMLUzplohHwtjq6ioVYTywKMXHjx9BnjGjyQMYXtnECdhstpvhcHh4aWkJCxRREcYA1zYUCmEfr/s8aA0nD5DVBM3CwsIQmrUrKyvF0i1FZA7YyXFlZQUkupuJDHOqyHqGj0k0wKb1p6Iuyhx0vcN68/ZhiyAYhZykiCGuOUP6A1ujQTRBWYvN9ScCXBasTiQSGeXX32bDZSUipzWGubm575k8P8ASlYtZBUWkCoToGxsboe3t7VNX1E+DnBepNGv0E1ujgaI1Oh5YBB4RbS6tTjykqXIykW6zDx+y2+1CGxWJtB8Iz6F1YHVYQ+bU6sRDqjI5rBETZwhiEF2MRbcWI47mrvB6GNNuMlVJzwSk7LOIJxKskd3UuymeDAnEkcJdJYPUjTqJRELuKN9dWyJxkDfLdmieDkzR6RVPJJAoHzUSxDFnkAVxWOOM8LkOy0wcHaZqFdSJxCNzoLS0VIVrwxwos3Y8wtqAMMgic1QVgsZh6/OjTBrnOJi213RxcfFrvuC3+TEIEmFKrxnIBNJwXVBYG1gdM7ipo2D6ZmVYJX4a4FzSLVgmuDiQCQ9Zdh0CUWBl8GAxjDAcO/6NcET1wEzWJhnyqtt9amrK7XK5vuIbNMhve3lk94JEIJX+MNpCobwAwuCZ3ZJ4MLGD/NEI9triJOBjs5MmHnk9XQLWiUnTw4QaAJn4RoJUbpAKRMIz1mnUBXnicyL0VhS4IbzGtt76QycNf4aFSUdBGv63R7lW9TCfCJOIgptvAyvF6OGbrfJNFg++4So+w2vt19RD/jyoPYMkQY0sQTyYRI9REc9nsiTDfwA6qQiraIBcmQAAAABJRU5ErkJggg==",alt:"profile-image"}),(0,Pa.jsxs)("label",{"aria-label":"Upload",className:"btn btn-primary btn-icon btn-icon-32",children:[(0,Pa.jsx)("i",{className:"ti ti-upload"}),(0,Pa.jsx)("input",{type:"file",id:"profile_image",name:"profile_image",accept:"image/*",onChange:e=>{l.setFieldValue("profile_image",e.target.files[0]||""),1===e.target.files.length?s(URL.createObjectURL(e.target.files[0])):s("")}})]}),(0,Pa.jsx)("span",{className:"text-danger d-flex justify-content-center text-left",children:(0,Pa.jsx)(DR,{name:"profile_image",form:l})})]})]}),(0,Pa.jsx)("div",{className:"card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("h4",{className:"heading-20-semibold mb-3",children:t("label_personal_information")}),(0,Pa.jsxs)("div",{className:"row row-gap-3",children:[(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{htmlFor:"first_name",className:"form-label cp",children:t("label_first_name")}),(0,Pa.jsx)("input",{type:"text",className:"form-control",id:"first_name",name:"first_name",placeholder:t("placeholder_first_name"),value:l.values.first_name,onChange:l.handleChange,onBlur:l.handleBlur}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{shortCodes:[Rs.INPUT_MAX_25],name:"first_name",form:l})})]})}),(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{htmlFor:"last_name",className:"form-label",children:t("label_last_name")}),(0,Pa.jsx)("input",{type:"text",className:"form-control",placeholder:t("placeholder_last_name"),id:"last_name",name:"last_name",value:l.values.last_name,onChange:l.handleChange,onBlur:l.handleBlur}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{shortCodes:[Rs.INPUT_MAX_25],name:"last_name",form:l})})]})}),(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{htmlFor:"email",className:"form-label",children:t("label_email_id")}),(0,Pa.jsx)("input",{disabled:!0,type:"email",className:"form-control",placeholder:t("placeholder_email_address"),id:"email",name:"email",value:l.values.email,onChange:l.handleChange,onBlur:l.handleBlur}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"email",form:l})})]})}),(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{htmlFor:"phone_number",className:"form-label",children:t("list_heading_phone_number")}),(0,Pa.jsx)(QP,{name:"phone_number",id:"phone_number",placeholder:t("placeholder_phone_number"),onChange:e=>{l.setFieldValue("phone_number",null===e||void 0===e?void 0:e.phone_number)},onBlur:l.handleBlur,value:l.values.phone_number,className:"form-control"}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"phone_number",form:l,shortCodes:{PHONE_MIN_LENGTH:Rs.PHONE_NO_LENGTH.min,PHONE_MAX_LENGTH:Rs.PHONE_NO_LENGTH.max}})})]})})]})]})}),(0,Pa.jsx)("div",{className:"card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("h4",{className:"heading-20-semibold mb-3",children:t("label_professional_information")}),(0,Pa.jsxs)("div",{className:"row row-gap-3",children:[(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{htmlFor:"bio",className:"form-label",children:t("label_bio_introduction")}),(0,Pa.jsx)("textarea",{className:"form-control",placeholder:t("placeholder_bio_introduction"),id:"bio",name:"bio",value:l.values.bio,onChange:l.handleChange,onBlur:l.handleBlur}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"bio",form:l})})]})}),(0,Pa.jsxs)("div",{className:"col-md-6",children:[(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{htmlFor:"expertise",className:"form-label",children:t("label_expertise_area")}),(0,Pa.jsxs)("select",{className:"form-control",id:"expertise",name:"expertise",value:l.values.expertise,onChange:l.handleChange,onBlur:l.handleBlur,children:[(0,Pa.jsx)("option",{value:"",children:t("input_select_text")}),Rs.EXPERTISE.map((e,t)=>(0,Pa.jsx)("option",{value:e.value,children:e.name},t))]})]}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"expertise",form:l})})]}),(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{htmlFor:"language_spoken",className:"form-label",children:t("label_language_spoken")}),(0,Pa.jsxs)("select",{className:"form-control",id:"language_spoken",name:"language_spoken",value:l.values.language_spoken,onChange:l.handleChange,onBlur:l.handleBlur,children:[(0,Pa.jsx)("option",{value:"",children:t("input_select_text")}),Rs.languageSpoken.map((e,t)=>(0,Pa.jsx)("option",{value:e.code,children:e.name},t))]}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"language_spoken",form:l})})]})}),(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"experience",className:"form-label",children:[t("label_experience")," "]}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{type:"number",className:"form-control",placeholder:t("placeholder_enter_experience"),id:"experience",name:"experience",value:l.values.experience,onChange:l.handleChange,onBlur:l.handleBlur}),(0,Pa.jsx)("span",{className:"input-group-text",children:t("label_year")})]}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"experience",form:l})})]})}),(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{htmlFor:"experience_summary",className:"form-label",children:t("label_experience_summary")}),(0,Pa.jsx)("textarea",{className:"form-control",placeholder:t("placeholder_experience_summary"),id:"experience_summary",name:"experience_summary",value:l.values.experience_summary,onChange:l.handleChange,onBlur:l.handleBlur}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"experience_summary",form:l})})]})})]})]})}),(0,Pa.jsx)("div",{className:"card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("h4",{className:"heading-20-semibold mb-3",children:t("label_address")}),(0,Pa.jsxs)("div",{className:"row row-gap-3",children:[(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{htmlFor:"city",className:"form-label",children:t("label_city")}),(0,Pa.jsx)("input",{type:"text",className:"form-control",id:"city",name:"city",placeholder:t("placeholder_city"),value:l.values.city,onChange:l.handleChange,onBlur:l.handleBlur}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"city",form:l})})]})}),(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsxs)("label",{htmlFor:"state",className:"form-label",children:[t("label_state")," "]}),(0,Pa.jsx)("input",{type:"text",className:"form-control",placeholder:t("placeholder_state"),id:"state",name:"state",value:l.values.state,onChange:l.handleChange,onBlur:l.handleBlur}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"state",form:l})})]})}),(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{htmlFor:"pin_code",className:"form-label",children:t("label_pin_code")}),(0,Pa.jsx)("input",{type:"number",className:"form-control",placeholder:t("placeholder_pin_code"),id:"pin_code",name:"pin_code",value:l.values.pin_code,onChange:l.handleChange,onBlur:l.handleBlur}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"pin_code",form:l})})]})}),(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{htmlFor:"address",className:"form-label",children:t("label_address_location")}),(0,Pa.jsx)("input",{type:"text",className:"form-control",id:"address",name:"address",placeholder:t("placeholder_address_location"),value:l.values.address,onChange:l.handleChange,onBlur:l.handleBlur}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"address",form:l})})]})})]})]})}),(0,Pa.jsx)("div",{className:"card",children:(0,Pa.jsxs)("div",{className:"card-body",children:[(0,Pa.jsx)("h4",{className:"heading-20-semibold mb-3",children:t("label_credit_charge_per_session")}),(0,Pa.jsxs)("div",{className:"row row-gap-3",children:[(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{htmlFor:"chat_credit_rate",className:"form-label",children:t("label_chat_credit_rate")}),(0,Pa.jsx)("input",{type:"number",className:"form-control",id:"chat_credit_rate",name:"chat_credit_rate",placeholder:t("placeholder_credit_rate"),value:l.values.chat_credit_rate,onChange:l.handleChange,onBlur:l.handleBlur,onKeyDown:rs}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"chat_credit_rate",form:l})})]})}),(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{htmlFor:"audio_credit_rate",className:"form-label",children:t("label_audio_call_credit_rate")}),(0,Pa.jsx)("input",{type:"number",className:"form-control",id:"audio_credit_rate",name:"audio_credit_rate",placeholder:t("placeholder_credit_rate"),value:l.values.audio_credit_rate,onChange:l.handleChange,onBlur:l.handleBlur,onKeyDown:rs}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"audio_credit_rate",form:l})})]})}),(0,Pa.jsx)("div",{className:"col-md-6",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{htmlFor:"video_credit_rate",className:"form-label",children:t("label_video_call_credit_rate")}),(0,Pa.jsx)("input",{type:"number",className:"form-control",id:"video_credit_rate",name:"video_credit_rate",placeholder:t("placeholder_credit_rate"),value:l.values.video_credit_rate,onChange:l.handleChange,onBlur:l.handleBlur,onKeyDown:rs}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"video_credit_rate",form:l})})]})})]})]})}),(0,Pa.jsx)("div",{className:"button-profile-wrapper text-center",children:(0,Pa.jsx)("button",{className:"btn btn-primary",children:t("btn_update")})})]})})})]})})})})})}})},{path:"change-password",element:(0,Pa.jsx)(hD,{component:function(){const{t:e}=As(),[t,n]=(0,a.useState)(!1),[i,r]=(0,a.useState)(!1),[s,o]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),h=Ap({initialValues:{old_password:"",new_password:"",confirm_password:""},validationSchema:vf().shape({old_password:rf().required(e("label_old_password_error")),new_password:rf().required(e("label_new_password_error")).matches(Rs.ATLEAST_ONE_SMALL_REGEX,e("password_validation_lowercase")).matches(Rs.ATLEAST_ONE_CAPITAL_REGEX,e("Password_Validation_uppercase")).matches(Rs.ATLEAST_ONE_NUMBER_REGEX,e("Password_Validation_number")).matches(Rs.ATLEAST_ONE_SPECIAL_CHARACTER_REGEX,e("Password_Validation_special_char")).min(Rs.PASSWORD_MIN_LENGTH,e("Password_Validation_minimum_length")).max(Rs.PASSWORD_MAX_LENGTH,e("Password_Validation_maximum_length")),confirm_password:rf().required(e("label_confirm_password_error")).oneOf([Om("new_password"),null],e("password_validation_does_not_match"))}),onSubmit:(e,t)=>{let{setSubmitting:i,resetForm:r}=t;n(!0);let a=new FormData;a.append("old_password",e.old_password),a.append("new_password",e.new_password),a.append("confirm_password",e.confirm_password),u(!0),(async e=>await oc(sI).post("".concat(aI,"/update-password"),e))(a).then(e=>{u(!1),i(!1),n(!1),e.success?(zr().fire(Tn({icon:"success",text:e.message},Rs.SWAL_SETTINGS)),r({values:""})):zr().fire(Tn({icon:"error",text:as(e)},Rs.SWAL_SETTINGS))}).catch(e=>{u(!1),n(!1),console.log("error ====> ",e)})}}),p=e=>{"oldShow"===e&&r(!i),"newShow"===e&&o(!s),"confShow"===e&&c(!l)};return(0,Pa.jsx)("div",{children:(0,Pa.jsx)("div",{className:"inner-container py-5",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsx)("div",{className:"row justify-content-center",children:(0,Pa.jsx)("div",{className:"col-md-4",children:(0,Pa.jsxs)("div",{className:"profile-wrapper",children:[(0,Pa.jsx)("div",{className:"profile-header mb-5",children:(0,Pa.jsx)("h1",{className:"heading-30-semibold text-center",children:e("change_password")})}),(0,Pa.jsx)("form",{onSubmit:h.handleSubmit,children:(0,Pa.jsx)("div",{className:"profile-body",children:(0,Pa.jsxs)("div",{className:"row row-gap-3",children:[(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{htmlFor:"old_password",className:"form-label",children:e("label_old_password")}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{id:"old_password",name:"old_password",type:i?"text":"password",className:"form-control",placeholder:e("placeholder_old_password"),onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.old_password}),(0,Pa.jsx)("span",{style:{fontSize:"30px"},className:"input-group-text cp restaurant-password-toggle",onClick:()=>{p("oldShow")},children:!0===!i?(0,Pa.jsx)("i",{className:"ti ti-eye"}):(0,Pa.jsx)("i",{className:"ti ti-eye-off"})})]}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"old_password",form:h})})]})}),(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{htmlFor:"new_password",className:"form-label",children:e("label_new_password")}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{type:s?"text":"password",name:"new_password",id:"new_password",className:"form-control",placeholder:e("placeholder_new_password"),onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.new_password}),(0,Pa.jsx)("span",{style:{fontSize:"30px"},className:"input-group-text cp restaurant-password-toggle",onClick:()=>{p("newShow")},children:!0===!s?(0,Pa.jsx)("i",{className:"ti ti-eye"}):(0,Pa.jsx)("i",{className:"ti ti-eye-off"})})]}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"new_password",form:h})})]})}),(0,Pa.jsx)("div",{className:"col-md-12",children:(0,Pa.jsxs)("div",{className:"form-group",children:[(0,Pa.jsx)("label",{className:"form-label",children:e("label_confirm_new_password")}),(0,Pa.jsxs)("div",{className:"input-group",children:[(0,Pa.jsx)("input",{id:"confirm_password",name:"confirm_password",type:l?"text":"password",className:"form-control",placeholder:e("placeholder_confirm_new_password"),onChange:h.handleChange,onBlur:h.handleBlur,value:h.values.confirm_password}),(0,Pa.jsx)("span",{style:{fontSize:"30px"},className:"input-group-text cp restaurant-password-toggle",onClick:()=>{p("confShow")},children:!0===!l?(0,Pa.jsx)("i",{className:"ti ti-eye"}):(0,Pa.jsx)("i",{className:"ti ti-eye-off"})})]}),(0,Pa.jsx)("span",{className:"text-danger d-flex text-left",children:(0,Pa.jsx)(DR,{name:"confirm_password",form:h})})]})}),(0,Pa.jsx)("div",{className:"col-md-12 text-center",children:(0,Pa.jsx)("button",{className:"btn btn-primary",style:{width:"148px"},children:e("btn_submit")})})]})})})]})})})})})})}})},{path:"customer-feedback",element:(0,Pa.jsx)(hD,{component:function(){return(0,Pa.jsx)("div",{className:"dashboard-wrapper py-5",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsxs)("div",{className:"dashboard-container",children:[(0,Pa.jsx)("div",{className:"dashboard-header",children:(0,Pa.jsx)("h2",{className:"heading-22-bold text-center",children:"Customer Feedback"})}),(0,Pa.jsxs)("div",{className:"dashboard-body",children:[(0,Pa.jsxs)("div",{className:"dashboard-rating-sec mb-8",children:[(0,Pa.jsx)("h4",{className:"heading-18-semibold mb-3",children:"Overall Rating"}),(0,Pa.jsxs)("div",{className:"rating-info-box",children:[(0,Pa.jsxs)("div",{className:"rating-info-item",children:[(0,Pa.jsx)("h2",{children:"4.5"}),(0,Pa.jsxs)("div",{className:"rating-start mt-3",children:[(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"})]}),(0,Pa.jsx)("span",{children:"1230"})]}),(0,Pa.jsxs)("div",{className:"rating-bars",children:[(0,Pa.jsxs)("div",{className:"rating-bar-item",children:[(0,Pa.jsx)("span",{children:"5"}),(0,Pa.jsx)("div",{className:"progress",role:"progressbar","aria-valuemax":"100","aria-label":"Loading progress",children:(0,Pa.jsx)("div",{className:"progress-bar",style:{width:"20%"}})})]}),(0,Pa.jsxs)("div",{className:"rating-bar-item",children:[(0,Pa.jsx)("span",{children:"4"}),(0,Pa.jsx)("div",{className:"progress",role:"progressbar","aria-valuemax":"100","aria-label":"Loading progress",children:(0,Pa.jsx)("div",{className:"progress-bar",style:{width:"50%"}})})]}),(0,Pa.jsxs)("div",{className:"rating-bar-item",children:[(0,Pa.jsx)("span",{children:"3"}),(0,Pa.jsx)("div",{className:"progress",role:"progressbar","aria-valuemax":"100","aria-label":"Loading progress",children:(0,Pa.jsx)("div",{className:"progress-bar",style:{width:"40%"}})})]}),(0,Pa.jsxs)("div",{className:"rating-bar-item",children:[(0,Pa.jsx)("span",{children:"2"}),(0,Pa.jsx)("div",{className:"progress",role:"progressbar","aria-valuemax":"100","aria-label":"Loading progress",children:(0,Pa.jsx)("div",{className:"progress-bar",style:{width:"85%"}})})]}),(0,Pa.jsxs)("div",{className:"rating-bar-item",children:[(0,Pa.jsx)("span",{children:"1"}),(0,Pa.jsx)("div",{className:"progress",role:"progressbar","aria-valuemax":"100","aria-label":"Loading progress",children:(0,Pa.jsx)("div",{className:"progress-bar",style:{width:"75%"}})})]})]})]})]}),(0,Pa.jsxs)("div",{className:"customer-feedback-sec",children:[(0,Pa.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,Pa.jsx)("h4",{className:"heading-18-semibold",children:"Customer Feedback"}),(0,Pa.jsx)("a",{href:"/psychic/feedback",className:"btn-text",children:"View All"})]}),(0,Pa.jsxs)("div",{className:"customer-feedback-list d-flex flex-column gap-3 ",children:[(0,Pa.jsxs)("div",{className:"feedback-list-card",children:[(0,Pa.jsxs)("div",{className:"feedback-list-card-header d-flex gap-3",children:[(0,Pa.jsx)("figure",{className:"avatar avatar-sm",children:(0,Pa.jsx)("img",{src:$P})}),(0,Pa.jsxs)("figcaption",{className:"w-100",children:[(0,Pa.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2 mb-1",children:[(0,Pa.jsx)("h4",{className:"heading-16-semibold",children:"Grusham"}),(0,Pa.jsx)("span",{children:"10 Jan 2025"})]}),(0,Pa.jsxs)("div",{className:"rating-start",children:[(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"})]})]})]}),(0,Pa.jsx)("div",{className:"feedback-list-card-footer",children:(0,Pa.jsx)("p",{className:"m-0",children:"The predictions about my career and relationships were so accurate it gave me chills. [Astrologer\u2019s Name] is the real deal."})})]}),(0,Pa.jsxs)("div",{className:"feedback-list-card",children:[(0,Pa.jsxs)("div",{className:"feedback-list-card-header d-flex gap-3",children:[(0,Pa.jsx)("figure",{className:"avatar avatar-sm",children:(0,Pa.jsx)("img",{src:$P})}),(0,Pa.jsxs)("figcaption",{className:"w-100",children:[(0,Pa.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2 mb-1",children:[(0,Pa.jsx)("h4",{className:"heading-16-semibold",children:"Grusham"}),(0,Pa.jsx)("span",{children:"10 Jan 2025"})]}),(0,Pa.jsxs)("div",{className:"rating-start",children:[(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"})]})]})]}),(0,Pa.jsx)("div",{className:"feedback-list-card-footer",children:(0,Pa.jsx)("p",{className:"m-0",children:"The predictions about my career and relationships were so accurate it gave me chills. [Astrologer\u2019s Name] is the real deal."})})]}),(0,Pa.jsxs)("div",{className:"feedback-list-card",children:[(0,Pa.jsxs)("div",{className:"feedback-list-card-header d-flex gap-3",children:[(0,Pa.jsx)("figure",{className:"avatar avatar-sm",children:(0,Pa.jsx)("img",{src:$P})}),(0,Pa.jsxs)("figcaption",{className:"w-100",children:[(0,Pa.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2 mb-1",children:[(0,Pa.jsx)("h4",{className:"heading-16-semibold",children:"Grusham"}),(0,Pa.jsx)("span",{children:"10 Jan 2025"})]}),(0,Pa.jsxs)("div",{className:"rating-start",children:[(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"})]})]})]}),(0,Pa.jsx)("div",{className:"feedback-list-card-footer",children:(0,Pa.jsx)("p",{className:"m-0",children:"The predictions about my career and relationships were so accurate it gave me chills. [Astrologer\u2019s Name] is the real deal."})})]}),(0,Pa.jsxs)("div",{className:"feedback-list-card",children:[(0,Pa.jsxs)("div",{className:"feedback-list-card-header d-flex gap-3",children:[(0,Pa.jsx)("figure",{className:"avatar avatar-sm",children:(0,Pa.jsx)("img",{src:$P})}),(0,Pa.jsxs)("figcaption",{className:"w-100",children:[(0,Pa.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2 mb-1",children:[(0,Pa.jsx)("h4",{className:"heading-16-semibold",children:"Grusham"}),(0,Pa.jsx)("span",{children:"10 Jan 2025"})]}),(0,Pa.jsxs)("div",{className:"rating-start",children:[(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"})]})]})]}),(0,Pa.jsx)("div",{className:"feedback-list-card-footer",children:(0,Pa.jsx)("p",{className:"m-0",children:"The predictions about my career and relationships were so accurate it gave me chills. [Astrologer\u2019s Name] is the real deal."})})]}),(0,Pa.jsxs)("div",{className:"feedback-list-card",children:[(0,Pa.jsxs)("div",{className:"feedback-list-card-header d-flex gap-3",children:[(0,Pa.jsx)("figure",{className:"avatar avatar-sm",children:(0,Pa.jsx)("img",{src:$P})}),(0,Pa.jsxs)("figcaption",{className:"w-100",children:[(0,Pa.jsxs)("div",{className:"d-flex align-items-center justify-content-between gap-2 mb-1",children:[(0,Pa.jsx)("h4",{className:"heading-16-semibold",children:"Grusham"}),(0,Pa.jsx)("span",{children:"10 Jan 2025"})]}),(0,Pa.jsxs)("div",{className:"rating-start",children:[(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"}),(0,Pa.jsx)("i",{className:"ti ti-star-filled"})]})]})]}),(0,Pa.jsx)("div",{className:"feedback-list-card-footer",children:(0,Pa.jsx)("p",{className:"m-0",children:"The predictions about my career and relationships were so accurate it gave me chills. [Astrologer\u2019s Name] is the real deal."})})]})]})]})]})]})})})}})},{path:"notification",element:(0,Pa.jsx)(hD,{component:function(){const e=ot(),t=gn(),{t:n}=As(),[i,r]=(0,a.useState)("GET-DATA"),[s,o]=(0,a.useState)([]),[l,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{OO.on(i,e=>(e.event===Rs.SOCKET_EVENTS.NEW_BOOKING&&o(t=>[null===e||void 0===e?void 0:e.data,...t]),()=>{OO.off(i)}))},[]),(0,a.useEffect)(()=>{c(!0),(async e=>await oc(jO).post("".concat(PO,"/list"),e))().then(e=>{var n;const i=null===e||void 0===e?void 0:e.data;o(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.list),t(Pr({total:null===i||void 0===i?void 0:i.total_records,unread:null===i||void 0===i?void 0:i.unread_notification})),setTimeout(()=>{c(!1)},Rs.LOADER_TIMEOUT_TIME)}).catch(e=>{console.log("Error===>",e),setTimeout(()=>{c(!1)},Rs.LOADER_TIMEOUT_TIME)})},[]);const d=e=>{var t,i,r;const a=null===(s=null===e||void 0===e?void 0:e.type)||void 0===s?void 0:s.replace(/[-_]/g," ");var s;switch(null===e||void 0===e?void 0:e.type){case"new-booking":return es(n("new_booking_notification_text"),{userName:null===e||void 0===e||null===(t=e.client)||void 0===t?void 0:t.first_name,date:qa(e.date)});case"cancel-booking":return es(n("cancel_booking_notification_text"),{userName:null===e||void 0===e||null===(i=e.client)||void 0===i?void 0:i.first_name,date:qa(e.date)});case"session-reminder":return es(n("session_reminder_notification_text"),{userName:null===e||void 0===e||null===(r=e.client)||void 0===r?void 0:r.first_name,date:qa(e.date)});default:return es(n("general_notification_text"),[a])}},u=e=>{e._id&&(async e=>await oc(jO).patch("".concat(PO,"/mark-read"),e))({o_id:null===e||void 0===e?void 0:e._id}).then(e=>{t(Dr())}).catch(e=>{console.log("Erroe===>",e)})};return(0,Pa.jsx)("div",{className:"dashboard-wrapper py-5",children:(0,Pa.jsx)("div",{className:"container",children:(0,Pa.jsxs)("div",{className:"dashboard-container",children:[(0,Pa.jsx)("div",{className:"dashboard-header",children:(0,Pa.jsx)("h2",{className:"heading-22-bold text-center",children:n("label_notifications")})}),(0,Pa.jsx)("div",{className:"dashboard-body",style:{minHeight:"600px"},children:(0,Pa.jsx)("div",{className:"notification-sec",children:(0,Pa.jsx)("div",{className:"d-flex flex-column gap-3",children:(null===s||void 0===s?void 0:s.length)>0?l?[...Array(6)].map((e,t)=>(0,Pa.jsxs)("div",{className:"notification-item d-flex gap-3 align-items-center",children:[(0,Pa.jsx)("figure",{className:"mb-0",children:(0,Pa.jsx)(OR,{circle:!0,width:24,height:24})}),(0,Pa.jsx)("figcaption",{className:"flex-1",children:(0,Pa.jsx)(OR,{width:"400px",height:16})}),(0,Pa.jsx)("time",{className:"ms-auto text-muted flex-shrink-0",children:(0,Pa.jsx)(OR,{width:"200px",height:14})})]},t)):null===s||void 0===s?void 0:s.map((t,n)=>{var i;return(0,Pa.jsxs)("div",{className:"notification-item d-flex gap-3 align-items-center ".concat(0===(null===t||void 0===t||null===(i=t.read_by)||void 0===i?void 0:i.psychic)&&"active"),onClick:()=>{(t=>{switch(console.log("=-=-notification=-",t,t.notification_type),t.notification_type){case"booking":case"cancel-booking":case"session-reminder":e("/psychic/my-booking-view/".concat(null===t||void 0===t?void 0:t.notification_type_id))}})(t),u(t)},children:[(0,Pa.jsx)("figure",{className:"mb-0",children:(0,Pa.jsx)("i",{className:"ti ti-bell"})}),(0,Pa.jsx)("figcaption",{className:"flex-1",children:(0,Pa.jsx)("h4",{className:"heading-16-semibold",children:d(t)})}),(0,Pa.jsx)("time",{className:"ms-auto text-muted flex-shrink-0",children:qa(null===t||void 0===t?void 0:t.createdAt)})]},n)}):(0,Pa.jsx)(AR,{})})})})]})})})}})},{path:"video-call",element:(0,Pa.jsx)(hD,{component:wB})},{path:"meeting",element:(0,Pa.jsx)(hD,{component:wB})},{path:"*",element:(0,Pa.jsx)(qR,{})}]},{path:"admin",element:(0,Pa.jsx)(Kp,{component:uc}),children:[{path:"",element:(0,Pa.jsx)(St,{to:"/admin/dashboard"})},{path:"dashboard",element:(0,Pa.jsx)(Kp,{component:Pf})},{path:"invoice-design",element:(0,Pa.jsx)(Kp,{component:mR})},{path:"profile",element:(0,Pa.jsx)(Kp,{component:Qp}),children:[{path:"edit/:id",element:(0,Pa.jsx)(Kp,{component:Ef})},{path:"change-password/:id",element:(0,Pa.jsx)(Kp,{component:Sf})}]},{},{path:"psychic-management/psychic/list/:pgno",element:(0,Pa.jsx)(iD,{})},{path:"psychic-management/psychic/view/:id",element:(0,Pa.jsx)(rD,{})},{path:"psychic-management/psychic/add",element:(0,Pa.jsx)(aD,{})},{path:"psychic-management/psychic/:pgno/edit/:id",element:(0,Pa.jsx)(sD,{})},{},{},{path:"user-management/user/list/:pgno",element:(0,Pa.jsx)(ND,{})},{path:"user-management/user/view/:id/:pgno",element:(0,Pa.jsx)(jD,{})},{path:"user-management/user/add",element:(0,Pa.jsx)(FB,{})},{path:"user-management/user/:pgno/edit/:id",element:(0,Pa.jsx)(JF,{})},{path:"user-management/user/:userListPgno/subscription-history/list/:pgno/:id",element:(0,Pa.jsx)(HB,{})},{path:"user-management/user/:userListPgno/subscription-history/:pgno/:userId/view/:id",element:(0,Pa.jsx)(WB,{})},{},{},{path:"contact-us/list/:pgno",element:(0,Pa.jsx)(Kp,{component:nI})},{path:"contact-us/view/:id",element:(0,Pa.jsx)(Kp,{component:iI})},{},{path:"questionnaire-stats",element:(0,Pa.jsx)(Kp,{component:_B})},{path:"inquiry/list/:pgno",element:(0,Pa.jsx)(Kp,{component:cD})},{path:"inquiry/view/:id",element:(0,Pa.jsx)(Kp,{component:dD})},{path:"cms/pages/list/:pgno",element:(0,Pa.jsx)(Kp,{component:rR})},{path:"cms/pages/add",element:(0,Pa.jsx)(Kp,{component:cR})},{path:"cms/pages/:pgno/edit/:id",element:(0,Pa.jsx)(Kp,{component:dR})},{path:"cms/pages/view/:id",element:(0,Pa.jsx)(Kp,{component:uR})},{path:"cms/question/list/:pgno",element:(0,Pa.jsx)(Kp,{component:_D})},{path:"cms/question/add",element:(0,Pa.jsx)(Kp,{component:gD})},{path:"cms/question/:pgno/edit/:id",element:(0,Pa.jsx)(Kp,{component:bD})},{path:"cms/question/view/:id",element:(0,Pa.jsx)(Kp,{component:vD})},{path:"cms/services/list/:pgno",element:(0,Pa.jsx)(Kp,{component:oB})},{path:"cms/services/add",element:(0,Pa.jsx)(Kp,{component:lB})},{path:"cms/services/:pgno/edit/:id",element:(0,Pa.jsx)(Kp,{component:cB})},{path:"cms/services/view/:id",element:(0,Pa.jsx)(Kp,{component:dB})},{path:"cms/about-us",element:(0,Pa.jsx)(Kp,{component:$F})},{path:"cms/web-home",element:(0,Pa.jsx)(Kp,{component:pB})},{path:"cms/faq/list/:pgno",element:(0,Pa.jsx)(Kp,{component:QR})},{path:"cms/faq/add",element:(0,Pa.jsx)(Kp,{component:JR})},{path:"cms/faq/:pgno/edit/:id",element:(0,Pa.jsx)(Kp,{component:ZR})},{path:"cms/faq/view/:id",element:(0,Pa.jsx)(Kp,{component:$R})},{path:"cms/settings",element:(0,Pa.jsx)(Kp,{component:hR})},{path:"cms/default-email-template/list/:pgno",element:(0,Pa.jsx)(Kp,{component:YA})},{path:"cms/default-email-template/add",element:(0,Pa.jsx)(Kp,{component:Hk})},{path:"cms/default-email-template/:pgno/edit/:id",element:(0,Pa.jsx)(Kp,{component:Jk})},{path:"cms/default-email-template/view/:id",element:(0,Pa.jsx)(Kp,{component:$k})},{path:"cms/promotions/list/:pgno",element:(0,Pa.jsx)(Kp,{component:eV})},{path:"cms/promotions/add",element:(0,Pa.jsx)(Kp,{component:dV})},{path:"cms/promotions/:pgno/edit/:id",element:(0,Pa.jsx)(Kp,{component:lV})},{path:"cms/promotions/view/:id",element:(0,Pa.jsx)(Kp,{component:cV})},{path:"cms/blogs/list/:pgno",element:(0,Pa.jsx)(Kp,{component:aV})},{path:"cms/blogs/add",element:(0,Pa.jsx)(Kp,{component:rV})},{path:"cms/blogs/:pgno/edit/:id",element:(0,Pa.jsx)(Kp,{component:sV})},{path:"cms/blogs/view/:id",element:(0,Pa.jsx)(Kp,{component:oV})},{path:"cms/testimonials/list/:pgno",element:(0,Pa.jsx)(Kp,{component:gV})},{path:"cms/testimonials/add",element:(0,Pa.jsx)(Kp,{component:mV})},{path:"cms/testimonials/:pgno/edit/:id",element:(0,Pa.jsx)(Kp,{component:_V})},{path:"cms/testimonials/view/:id",element:(0,Pa.jsx)(Kp,{component:fV})},{path:"subscription/subscription-plan/list/:pgno",element:(0,Pa.jsx)(Kp,{component:eB})},{path:"subscription/subscription-plan/add",element:(0,Pa.jsx)(Kp,{component:tB})},{path:"subscription/subscription-plan/edit/:id",element:(0,Pa.jsx)(Kp,{component:nB})},{path:"subscription/subscription-plan/view/:id",element:(0,Pa.jsx)(Kp,{component:iB})},{path:"subscription/history/list/:pgno",element:(0,Pa.jsx)(Kp,{component:BB})},{path:"subscription/history/:pgno/view/:id",element:(0,Pa.jsx)(Kp,{component:VB})},{path:"subscription/transaction/list/:pgno",element:(0,Pa.jsx)(Kp,{component:TB})},{path:"subscription/transaction/:pgno/view/:id",element:(0,Pa.jsx)(Kp,{component:zB})},{path:"coupon/list/:pgno",element:(0,Pa.jsx)(Kp,{component:IB})},{path:"coupon/add",element:(0,Pa.jsx)(Kp,{component:jB})},{path:"coupon/edit/:id",element:(0,Pa.jsx)(Kp,{component:DB})},{path:"coupon/view/:id",element:(0,Pa.jsx)(Kp,{component:LB})},{path:"referrals/settings",element:(0,Pa.jsx)(Kp,{component:JB})},{path:"referrals/history/list/:pgno",element:(0,Pa.jsx)(Kp,{component:wV})},{path:"global-settings",element:(0,Pa.jsx)(Kp,{component:hR})},{path:"personalization-categories/list/:pgno",element:(0,Pa.jsx)(Kp,{component:yV})},{path:"personalization-categories/edit/:id",element:(0,Pa.jsx)(Kp,{component:xV})}]},{path:"admin",element:(0,Pa.jsx)(fR,{}),children:[{path:"login",element:(0,Pa.jsx)(Jp,{component:Xp})},{path:"forget-password",element:(0,Pa.jsx)(Jp,{component:Tf})},{path:"otp-verification/:email",element:(0,Pa.jsx)(Jp,{component:Cf})},{path:"reset-password",element:(0,Pa.jsx)(Jp,{component:Nf})}]},{path:"admin/complete-profile/:validate_string",element:(0,Pa.jsx)(Jp,{component:pR})},{path:"admin/*",element:(0,Pa.jsx)(Af,{})}],oe({basename:null==CV?void 0:CV.basename,future:At({},null==CV?void 0:CV.future,{v7_prependBasename:!0}),history:h({window:null==CV?void 0:CV.window}),hydrationData:(null==CV?void 0:CV.hydrationData)||jt(),routes:SV,mapRouteProperties:Nt,dataStrategy:null==CV?void 0:CV.dataStrategy,patchRoutesOnNavigation:null==CV?void 0:CV.patchRoutesOnNavigation,window:null==CV?void 0:CV.window}).initialize());var SV,CV;const TV=EV,{slice:NV,forEach:AV}=[];const kV=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,RV={create(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+60*n*1e3)),i&&(r.domain=i),document.cookie=function(e,t){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"},i=encodeURIComponent(t);let r="".concat(e,"=").concat(i);if(n.maxAge>0){const e=n.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");r+="; Max-Age=".concat(Math.floor(e))}if(n.domain){if(!kV.test(n.domain))throw new TypeError("option domain is invalid");r+="; Domain=".concat(n.domain)}if(n.path){if(!kV.test(n.path))throw new TypeError("option path is invalid");r+="; Path=".concat(n.path)}if(n.expires){if("function"!==typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");r+="; Expires=".concat(n.expires.toUTCString())}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite)switch("string"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:r+="; SameSite=Strict";break;case"lax":r+="; SameSite=Lax";break;case"strict":r+="; SameSite=Strict";break;case"none":r+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(r+="; Partitioned"),r}(e,t,r)},read(e){const t="".concat(e,"="),n=document.cookie.split(";");for(let i=0;i<n.length;i++){let e=n[i];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var IV={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!==typeof document)return RV.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:i,cookieDomain:r,cookieOptions:a}=t;n&&"undefined"!==typeof document&&RV.create(n,e,i,r,a)}},OV={name:"querystring",lookup(e){let t,{lookupQuerystring:n}=e;if("undefined"!==typeof window){var i;let{search:e}=window.location;!window.location.search&&(null===(i=window.location.hash)||void 0===i?void 0:i.indexOf("?"))>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const r=e.substring(1).split("&");for(let i=0;i<r.length;i++){const e=r[i].indexOf("=");if(e>0){r[i].substring(0,e)===n&&(t=r[i].substring(e+1))}}}return t}},jV={name:"hash",lookup(e){let t,{lookupHash:n,lookupFromHashIndex:i}=e;if("undefined"!==typeof window){const{hash:e}=window.location;if(e&&e.length>2){const a=e.substring(1);if(n){const e=a.split("&");for(let i=0;i<e.length;i++){const r=e[i].indexOf("=");if(r>0){e[i].substring(0,r)===n&&(t=e[i].substring(r+1))}}}if(t)return t;if(!t&&i>-1){var r;const t=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(t))return;return null===(r=t["number"===typeof i?i:0])||void 0===r?void 0:r.replace("/","")}}}return t}};let PV=null;const DV=()=>{if(null!==PV)return PV;try{if(PV="undefined"!==typeof window&&null!==window.localStorage,!PV)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(ZV){PV=!1}return PV};var LV={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&DV())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&DV()&&window.localStorage.setItem(n,e)}};let MV=null;const UV=()=>{if(null!==MV)return MV;try{if(MV="undefined"!==typeof window&&null!==window.sessionStorage,!MV)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(ZV){MV=!1}return MV};var FV={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&UV())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&UV()&&window.sessionStorage.setItem(n,e)}},BV={name:"navigator",lookup(e){const t=[];if("undefined"!==typeof navigator){const{languages:e,userLanguage:n,language:i}=navigator;if(e)for(let r=0;r<e.length;r++)t.push(e[r]);n&&t.push(n),i&&t.push(i)}return t.length>0?t:void 0}},VV={name:"htmlTag",lookup(e){let t,{htmlTag:n}=e;const i=n||("undefined"!==typeof document?document.documentElement:null);return i&&"function"===typeof i.getAttribute&&(t=i.getAttribute("lang")),t}},zV={name:"path",lookup(e){var t;let{lookupFromPathIndex:n}=e;if("undefined"===typeof window)return;const i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(i))return;return null===(t=i["number"===typeof n?n:0])||void 0===t?void 0:t.replace("/","")}},HV={name:"subdomain",lookup(e){var t;let{lookupFromSubdomainIndex:n}=e;const i="number"===typeof n?n+1:1,r="undefined"!==typeof window&&(null===(t=window.location)||void 0===t||null===(t=t.hostname)||void 0===t?void 0:t.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[i]}};let WV=!1;try{document.cookie,WV=!0}catch(ZV){}const GV=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];WV||GV.splice(1,1);class qV{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return AV.call(NV.call(arguments,1),t=>{if(t)for(const n in t)void 0===e[n]&&(e[n]=t[n])}),e}(t,this.options||{},{order:GV,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"===typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(IV),this.addDetector(OV),this.addDetector(LV),this.addDetector(FV),this.addDetector(BV),this.addDetector(VV),this.addDetector(zV),this.addDetector(HV),this.addDetector(jV)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach(e=>{if(this.detectors[e]){let n=this.detectors[e].lookup(this.options);n&&"string"===typeof n&&(n=[n]),n&&(t=t.concat(n))}}),t=t.filter(e=>{return void 0!==e&&null!==e&&!("string"===typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(t)));var t}).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}qV.type="languageDetector";n(3947),n(8421);const YV=JSON.parse('{"sidebar_link_dashboard":"Dashboard","sidebar_link_psychic":"Spiritual Advisor","sidebar_link_users":"Users","sidebar_link_testimonial":"Testimonial","sidebar_link_testimonials":"Testimonials","sidebar_link_contact_us":"Contact Us","sidebar_link_inquiries":"Inquiries","link_dashboard":"Dashboard","link_psychic":"Spiritual Advisor","list_heading_profile":"Profile","list_heading_my_profile":"My Profile","list_heading_email":"Email","list_heading_phone_number":"Phone Number","image_support_tooltip":"Only JPG,JPEG,PNG,WEBP,GIF files with max size 1.5 MB","link_add":"Add","link_remove":"Remove","sidebar_link_cms":"CMS","sidebar_link_subscription":"Subscription","sidebar_link_pages":"Pages","sidebar_link_banners":"Banners","sidebar_link_email_template":"Email Template","sidebar_link_global_settings":"Global Settings","input_placeholder_search":"Search","input_placeholder_date":"Date","input_select_option_demo":"Demo","input_select_option_premium":"Premium","input_radio_yearly":"Yearly","input_radio_monthly":"Monthly","input_select_text":"Select","btn_reset_filter":"Reset filter","btn_add_new":"Add New","list_heading_sno":"Sr. No.","list_heading_name":"Name","label_shipping":"Shipping","label_representative_name":"Representative Name","label_contractor_name":"Contractor Name","label_plan_name":"Plan Name","label_premium_plan":"Premium plan","label_membership_cost":"Membership cost","label_more_info":"More info","list_heading_address":"Address","list_heading_status":"Status","list_heading_created_date":"Created date","list_heading_modified_date":"Updated date","list_heading_created_by":"Created by","list_heading_updated_by":"Updated by","list_heading_action":"Actions","list_heading_subject":"Subject","btn_active":"Active","btn_inactive":"Inactive","btn_view":"View","btn_edit":"Edit","btn_delete":"Delete","msg_no_records":"No records","msg_total_records":"Total records","msg_are_you_sure":"Are you sure ?","you_not_be_able_to_revert_this":"You won\'t be able to revert this !","heading_add_user":"Add User","heading_view_user":"View User","heading_edit_user":"Edit User","title_generals":"Generals","title_enrollments":"Enrollments","title_transactions":"Transactions","title_amount":"Amount","title_credit":"Credit","label_slug":"Slug","label_slug_of_page":"Slug Of The Page","label_logout":"Logout","label_profile":"Profile","edit_profile":"Edit Profile","label_profile_picture":"Profile Picture","label_first_name":"First Name","label_middle_name":"Middle Name","label_last_name":"Last Name","label_name":"Name","placeholder_name":"Enter name","label_state":"State","placeholder_state":"Enter State","label_city":"City","placeholder_city":"Enter City","label_country":"Country","label_review":"Review","label_rating":"Rating","label_rating_1_to_5":"Rating (1 to 5)","label_manager_first_name":"Manager First Name","label_manager_middle_name":"Manager Middle Name","label_manager_last_name":"Manager Last Name","label_restaurant_name":"Restaurant Name","label_restaurant_details":"Restaurant details","label_address":"Address","label_email":"Email","label_password":"Password","placeholder_enter_password":"Enter password","label_confirm_password":"Confirm Password","label_logo":"Logo","label_restaurant_images":"Restaurant images","label_image":"Image","label_phone_number":"Phone Number","label_modified_date":"Modified date","label_description":"Description","placeholder_description":"Enter description","label_long_description":"Long Description","label_japanese":"Japanese","label_contact_no":"Contact No","label_copy_right_text":"Copy Right Text","label_username":"Username","label_website":"Website","label_text":"Text","label_id":"ID","label_company":"Company","label_expiry_date":"Expiry date","label_days_remaining_expiry":"Days remaining in expiry ","contract_plan_duration_type":"Contract plan duration type","btn_submit":"Submit","btn_cancel":"Cancel","btn_back":"Back","btn_save":"Save","btn_save_exit":"Save & exit","btn_yes_delete":"Yes, delete it!","btn_yes":"Yes","btn_banner":"Banner","btn_enroll_restaurant":"Enroll restaurant","selected":"selected {{selectedCount}} {{record}} of {{totalCount}}","records":"records","record":"record","text_you_want_to_logout":"You want to logout!","msg_logout_successfully":"Logout Successfully","role_super_admin":"Super Admin","role_staff":"Staff","role_unknown":"Unknown","label_restaurants_name":"Restaurant Name","label_company_name":"Company name","label_company_address":"Company address","label_shipping_address":"Shipping address","restaurants":"RESTAURANTS","add_restaurants":"Add restaurant","more":"More","label_name_error":"Name is required","label_restaurants_error":"Restaurant name is required","label_email_error":"Email is required","validation_err_invalid_email":"Invalid email address","label_phone_error":"Phone number is required","label_logo_error":"Logo is required","label_address_error":"Location is required","view_restaurants":"View restaurant","edit_restaurants":"Edit restaurant","label_company_name_error":"Company name is required","label_shipping_address_error":"Shipping address is required","label_representative_name_error":"Representative name is required","label_contractor_name_error":"Contractor name is required","label_plan_name_error":"Plan name is required","label_contract_plan_duration_error":"Contract plan type is required","label_expiry_date_error":"Expiry date is required","label_first_name_error":"First name is required","label_first_name_format_error":"Only alphabets are allowed in the first name","label_last_name_error":"Last name is required","placeholder_first_name":"Enter first name","placeholder_middle_name":"Enter middle name","placeholder_last_name":"Enter last name","placeholder_email":"Enter your email","placeholder_phone_number":"Enter phone number","placeholder_address":"Enter address","label_email_validation_error":"Email should be valid","label_image_error":"Image is required","label_image_format_error":"unsupported file format","label_phone_number_minimum_length":"Phone number cannot be less than 10 digits","label_phone_number_maximum_length":"Phone number cannot be more than 14 digits","general":"General","change_password":"Change Password","label_old_password":"Old Password","placeholder_old_password":"Enter old password","label_current_password":"Current Password","label_confirm_new_password":"Confirm New Password","placeholder_confirm_new_password":"Re-enter new password","label_new_password":"New Password","placeholder_current_password":"Enter current password","placeholder_password":"Enter your password","placeholder_confirm_password":"Enter confirm password","placeholder_new_password":"Enter new password","validation_password_required":"Password is required","label_current_password_error":"Current password is required","label_old_password_error":"Old password is required","label_new_password_error":"New password is required","label_confirm_password_error":"Confirm password is required","password_validation_lowercase":"Password should have at least 1 lowercase letter","Password_Validation_uppercase":"Password should have at least 1 capital letter","Password_Validation_special_char":"Password should have at least 1 special character","Password_Validation_number":"Password should have at least 1 number","Password_Validation_minimum_length":"Password should be at least 8 characters long","Password_Validation_maximum_length":"Password cannot be more than 20 characters long","password_validation_does_not_match":"Passwords don\'t match","sidebar_link_user_profile":"User profile","view_cms":"View CMS","title":"Title","menu_location":"Menu Location","footer_location":"Footer Location","validation_err_menu_location":"Menu location is required","validation_err_footer_location":"Footer location is required","meta_tags":"Meta Tags","meta_keywords":"Meta Keywords","label_short_description":"Short description","label_short_description_en":"Short description (English)","label_short_description_de":"Short description (German)","label_short_description_es":"Short description (Spanish)","label_short_description_hu":"Short description (Hungarian)","label_long_description_en":"Long description (English)","label_long_description_de":"Long description (German)","label_long_description_es":"Long description (Spanish)","label_long_description_hu":"Long description (Hungarian)","edit_cms":"Edit Cms","add_cms":"Add Cms","login_your_account":"Login your Account","signin_our_account":"Signin to your Account","loading":"Loading...","sign_in":"Sign In","remember_me":"Remember Me","forgot_password":"Forgot Password","reset_your_password":"Reset your password","btn_reset_password":"Reset Password","OTP_will_be_sent_registered_email":"OTP will be sent to your registered Email","btn_request_email":"Request Email","did_you_remembered_your_password":"Did you remember your password","label_try_to":"Try to","link_login":"Login","heading_otp_verification":"OTP verification","msg_OTP_has_been_sent_to":"OTP has been sent to","btn_verification_Otp":"Verification Otp","link_resend_otp":"Resend otp","link_back_to_login":"Back to Login","placeholder_enter_OTP":"Enter OTP","validation_OTP_is_required":"OTP is required","label_cuisine_type":"Cuisine Type","placeholder_cuisine_type":"Select cuisine type","label_restaurant_name_error":"Restaurant name is required","label_email_invalid_format_error":"Invalid email format","label_email_uppercase_error":"Email must not contain uppercase letters","label_email_required_error":"Email is required","err_expertise_is_required":"Expertise is required","err_experience_is_required":"Experience is required","err_language_spoken_is_required":"Language spoken is required","err_credit_per_session":"Credit per session is required","err_chat_credit_rate":"Chat credit rate is required","err_audio_credit_rate":"Audio credit rate is required","err_video_credit_rate":"video credit rate is required","err_city_is_required":"City is required","err_state_is_required":"State is required","err_country_is_required":"Country is required","err_pin_code_is_required":"Pin code is required","err_experience_summary_is_required":"Experience summary is required","err_bio_is_required":"Bio is required","err_consolation_fee_is_required":"Consolation fee is required","err_address_is_required":"Address is required","label_phone_number_digits_error":"Phone number must only contain digits","label_phone_number_min_length_error":"Phone number minimum length is {{PHONE_MIN_LENGTH}}","label_phone_number_max_length_error":"Phone number maximum length is {{PHONE_MAX_LENGTH}}","max_length_error_dynamic":"Exceed maximum length {{MAX_LENGTH}}","max_length_error":"Exceed maximum length","max_length_error_40":"Exceed maximum length of {{INPUT_LENGTH_40}}","max_length_error_50":"Exceed maximum length of {{INPUT_LENGTH_50}}","max_length_error_with_count":"Exceed maximum length of {{length}}","label_phone_number_required_error":"Phone number is required","label_location_error":"Address is required","label_profile_image_error":"Logo is required","label_cuisine_type_error":"Cuisine type is required","label_title_error":"Title is required","label_slug_error":"Slug is required","label_short_description_error":"Short description is required","label_richtext_error":"Description is required","label_long_description_error":"Long description is required","label_title_japanese":"Title (Japanese)","automatic_emails":"Automatic Emails","view_automatic_email":"View Automatic Email","label_dynamic_options":"Dynamic Options","edit_automatic_email":"Edit Automatic Email","click_to_copy":"Click to copy","short_code":"Short Codes to add user personalized details such as Name and Salutation - Click to Copy and then Paste ","label_subject":"Subject","placeholder_subject":"Enter Subject","label_subject_error":"Subject is required","monthly_enrollement_cost":"Monthly Restaurant Enrollment Cost","yearly_enrollement_cost":"Yearly Restaurant Enrollment Cost","invalid_email":"Invalid email address","copyright_error":"Copy right text is required","website_error":"Website is required","monthly_enrollment_error":"Monthly restaurant enrollment cost is required","yearly_enrollment_error":"Yearly restaurant enrollment cost is required","label_contact_invalid_error":"Invalid phone number","label_invalid_amount_error":"Invalid amount","invalid_web_url":"Invalid website URL","label_city_error":"City is required","label_country_error":"Country is required","label_testimonial_error":"Testimonial text is required","label_company_address_error":"Company address ir required","msg_validation_password_length":"Minimum password length must be 8 characters","msg_validation_do_not_accept_space":"Do not accept space","msg_validation_contain_numeric_character":"Only numeric character","msg_validation_otp_length":"Otp length should be of {{OTP_LENGTH}} ","btn_renew":"Renew","input_value_days":"Days","input_value_day":"Day","label_title_length_error_50":"Title length must be less then 50 character","err_max_length_label":"max allowed length of characters is {{MAX_LENGTH}}","max_length_label":"max allowed length of characters is 15","max_length_label_30":"max allowed length of characters is 30","max_length_label_50":"max allowed length of characters is 50","featured":"featured","validation_max_input_characters":"It must not exceed {{TEXTAREA_MAX_LENGTH}} characters","validation_max_input_characters_address":"It must not exceed {{MAX_LENGTH}} characters","supported_file_error":"Supported formats: JPG, JPEG, PNG, WEBP, GIF ","image_max_size_error":"File size should be less than 1.5 MB","image_required_error":"Profile image is required","label_Banner_title":"Banner Title","label_Banner_title_ja":"Banner Title (Japanese)","label_page_title":"Page Title","label_page_title_en":"Page Title (English)","label_page_title_de":"Page Title (German)","label_page_title_es":"Page Title (Spanish)","label_page_title_hu":"Page Title (Hungarian)","tooltip_page_title":"Page Title - Shown in front-end (menus and tab bar)","label_menu_of_the_page":"Menu Of The Page","menu_of_page_header":"Header","menu_of_page_footer":"Footer","menu_of_page_custom":"Custom","validation_err_reached_maximum_length":"The maximum character limit {{INPUT_LENGTH}} has been exceeded.","validation_err_status_required":"Status is required","label_social_media":"Social Media","input_placeholder_title":"Title","input_placeholder_link":"Link","input_placeholder_icon":"Icon","validation_err_title_required":"Title is required","validation_err_link_required":"Link is required","validation_err_icon_required":"Icon is required","heading_renew_plan":"Renew Plan","btn_continue":"Continue","verify_otp":"Verify OTP","invalid_otp":"Invalid OTP","otp_sent_message":"We have sent a verification code to your Email address","otp_not_receive":"Didn\'t receive OTP?","btn_resend":"Resend","otp_error_msg":"All fields are mandatory. Please fill all OTP digits.","paragraph_enter_email_we_will_send_you_OTP":"Enter your email address, and we will send you an OTP to reset your password","label_email_address":"Email Address","placeholder_email_address":"Enter email address","link_my_profile":"My Profile","link_restaurant_profile":"Restaurant Profile","label_restaurant_address":"Restaurant Address","btn_update_profile":"Update Profile","nav_link_home":"Home","nav_link_sales":"Sales","nav_link_menu":"Menu","nav_link_table_management":"Table Management","nav_link_settings":"Settings","link_contract_information":"Contract Information","link_mail_notification_settings":"Mail Notification settings","validation_error_rating_min_1":"Rating must be at least 1","validation_error_rating_max_5":"Rating must be at most 5","validate_error_rating":"Rating is required","restaurant_id":"Restaurant ID","restaurant_time":"Restaurant Opening and Closing Time","zip_code":"Zip Code","credential_setup":"Set/update credentials","cashier_password":"Cashier Password","fiscal_year":"Fiscal Year Setting","starting_month":"Starting month","contract_expiry":"Contract Expiry Date","plan":"Plan","address":"Address","store_rep_name":"Store representative name","email_address":"Email address","tel_number":"Tel number","contractor":"Contractor","mail_notification_setting":"Mail Notifications Settings","label_link":"Link","web_banner_add":"Banner Ads","web_featured_restaurants":"Featured Restaurants","web_our_testimonials":"Our Testimonials","web_our_testimonials_text":"Hear What Our Customers Have To Say","web_footer_contact":"Connect with us","web_footer_text":"There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form","web_footer_company":"Company","web_footer_our_story":"Our Story","web_footer_about_us":"About Us","web_footer_service_overview":"Service overview","web_footer_manual_guide":"Manual Guide","web_footer_legal":"Legal","web_footer_privacy_policy":"Privacy policy","web_footer_support":"Support","web_footer_faq":"FAQ","web_footer_terms_condition":"Terms and conditions","validation_error_profile_img_required":"Profile Picture is required","web_nav_link_home":"Home","web_nav_link_about_us":"About us","web_nav_link_service_overview":"Service overview","web_nav_link_how_does_it_operate":"How Does it Operate?","web_nav_link_pricing":"Pricing","web_nav_link_manual_guide":"Manual Guide","web_nav_link_inquire_now":"Inquire Now","web_home_heading":"The Simple, Secure, and Scalable Way to Run Your Business","web_home_sub_heading":"Fully Integrated Point-of-sale System","web_home_sub_content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut","web_about_us_heading":"Commitment to Streamline Your Business Operations","web_about_us_content1":"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.","web_about_us_content2":"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the","web_about_us_link_read_more":"Read more","web_service_overview_section_heading":"Empowering Your Retail Business Success","web_service_overview_heading":"Empowering Your Retail Business Success","web_service_overview_content":"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.","web_service_overview_list1":"White-labeled mobile bidding","web_service_overview_list2":"White-labeled auction website","web_service_overview_list3":"Your brand, not a marketplace brand","web_how_does_it_work_heading":"How it works?","web_how_does_it_work_card1_heading":"Order Entry","web_how_does_it_work_card1_content":"Lorem Ipsum is simply dummy text of the printing and typesetting industry.","web_how_does_it_work_card2_heading":"Order Transmission","web_how_does_it_work_card2_content":"Lorem Ipsum is simply dummy text of the printing and typesetting industry.","web_how_does_it_work_card3_heading":"Order Entry","web_how_does_it_work_card3_content":"Lorem Ipsum is simply dummy text of the printing and typesetting industry.","web_how_does_it_work_card4_heading":"Order Entry","web_how_does_it_work_card4_content":"Lorem Ipsum is simply dummy text of the printing and typesetting industry.","web_inquiry_form_heading":"Get in touch with us","web_inquiry_form_label_name":"Name","web_inquiry_form_placeholder_name":"Enter your name","web_inquiry_form_label_restaurant_name":"Restaurant Name","web_inquiry_form_placeholder_restaurant_name":"Enter your restaurant name","web_inquiry_form_label_contact_number":"Contact Number","web_inquiry_form_placeholder_contact_number":"Enter your Contact Number","web_inquiry_form_label_email":"Email","web_inquiry_form_placeholder_email":"Enter your email address","web_inquiry_form_label_address":"Address","web_inquiry_form_placeholder_address":"Enter your address","web_inquiry_form_label_more_info":"More info","web_inquiry_form_placeholder_more_info":"Type your message here","web_inquiry_form_btn_submit":"Submit","web_inquiry_form_validation_name_required":"Name is required","web_inquiry_form_validation_email_invalid_format":"Invalid email format","web_inquiry_form_validation_email_not_contain_uppercase":"Email must not contain uppercase letters","web_inquiry_form_validation_email_required":"Email is required","web_inquiry_form_validation_restaurant_name_required":"Restaurant name is required","web_inquiry_form_validation_contact_no_required":"Contact number is required","web_inquiry_form_validation_contact_no_contain_digits":"Contact number must only contain digits","web_inquiry_form_validation_contact_no_min_length":"Contact number minimum length is {{PHONE_NO_LENGTH}}","web_inquiry_form_validation_contact_no_max_length":"Contact number minimum length is {{PHONE_NO_LENGTH}}","web_inquiry_form_validation_address_required":"Address is required","label_login_ID":"Login ID","placeholder_login_ID":"Enter login ID","sidebar_dashboard":"Dashboard","sidebar_my_calender":"My Calendar","sidebar_my_earnings":"My Earnings","sidebar_chat":"Chat","sidebar_my_bookings":"My Bookings","sidebar_payment_history":"Payment History","heading_my_profile":"My Profile","label_profile_image":"Profile Image","label_personal_information":"Personal Information","label_email_id":"Email ID","label_professional_information":"Professional information","label_bio_introduction":"Bio/Introduction","label_experience_summary":"Experience summary","placeholder_bio_introduction":"Enter Bio/Introduction","placeholder_experience_summary":"Enter experience summary","label_expertise_area":"Expertise Area","label_expertise":"Expertise","label_language_spoken":"Languages Spoken","label_experience":"Experience","placeholder_enter_experience":"Enter experience","label_year":"Year","label_credit_per_session":"Credit Per Session","label_mode_of_consultation":"Mode of consultation","placeholder_credit_per_session":"Enter credit per session","label_pin_code":"Pin Code","placeholder_pin_code":"Enter pin code","label_address_location":"Address/Location","placeholder_address_location":"Address/Location","label_credit_charge_per_session":"Credit Charge Per Session","label_consolation_fee_per_session":"Consolation Fee Per Session","placeholder_amount":"Enter amount","btn_update":"Update","link_forget_password":"Forget Password","max_bio_length":"Exceed max bio length of {{TEXTAREA_MAX_LENGTH_200}}","max_experience_summary_length":"Exceed max experience summary length of {{TEXTAREA_MAX_LENGTH_200}}","err_pin_code_invalid":"Invalid Pin Code","err_credit_per_session_invalid":"Invalid Credit Per session","err_experience_invalid":"Invalid experience","err_consolation_fee_invalid":"Invalid consolation fee","err_exceed_max_length":"Maximum length exceeded of {{max_length}}","valid_first_name_error":"Invalid first name","valid_last_name_error":"Invalid first name","valid_format_error":"Invalid input value","error_html_tag":"Contain HTML tags","err_min_limit":"Input is below minimum limit","err_max_limit":"Maximum limit exceeded","page_not_exist_text":"Oops.The Page you are looking for doesn\'t exit..","mistyped_address_text":"You may have mistyped the address or the page may have moved. Try searching below.","btn_back_to_home":"Back to home","label_location_of_the_footer":"Location of footer","main_location_of_page_footer":"Main","base_location_of_page_footer":"Base","web_record_not_found_heading":"Record not found","no_record_found_text":"Record not found","validation_err_invalid_slug":"Invalid slug","faq":{"heading_faq":"FAQ","link_dashboard":"Dashboard","link_faq":"FAQ","link_add":"Add","add_faq":"Add FAQ","faq_title_placeholder":"Enter your faq title","label_description":"Description","label_description_en":"Description (English)","label_description_de":"Description (German)","label_description_es":"Description (Spanish)","label_description_hu":"Description (Hungarian)","description_placeholder":"Enter description","label_title_error":"Title is required","label_description_error":"Description is required","validation_err_reached_maximum_length":"The maximum character limit (500) has been exceeded.","heading_cms_faq":"FAQ","list_heading_sno":"Sr. No.","list_heading_title":"Title","list_heading_title_en":"Title (English)","list_heading_title_de":"Title (German)","list_heading_title_es":"Title (Spanish)","list_heading_title_hu":"Title (Hungarian)","label_status":"Status","heading_view":"View FAQ","edit_faq":"Edit FAQ","link_view":"View","link_edit":"Edit"},"contact-us":{"link_dashboard":"Dashboard","link_contact_us":"Contact Us","list_heading_sno":"Sr. No.","list_heading_name":"Name","label_email":"Email","label_phone_number":"Phone Number","label_contact_us_date":"Contact Date","label_note":"Note","label_name":"Name","label_address":"Address","view_contact_us":"VIEW CONTACT US"},"booking_id":"Booking ID","booking_status":"Booking Status","client_name":"Client Name","client_name_id":"Client Name/ID","date_and_time":"Date & Time","label_amount":"Amount","label_credit":"Credit","label_purpose":"Purpose","are_sure_cancel_booking":"Are you sure you want to cancel this booking ?","are_sure_cancel_available":"Are you sure you want to make this slot unavailable ?","btn_no":"No","credit_per_in_session":"Credit per Session","career_guidance":"Career Guidance","transition_id":"Transaction ID","payment_status":"Payment Status","label_details":"Details","cancellation_policy":"Cancellation Policy","btn_day":"Day","btn_week":"Week","btn_today":"Today","label_time":"Time","label_available":"Available","label_booked":"Booked","label_blocked":"Blocked","btn_manage_availability":"Manage Availability","btn_manage_schedule":"Manage Schedule","available_slots":"Available Slots","booked_slots":"Booked Slots","heading_payment_history":"Payment History","label_date_time":"Date/Time","label_payment_id":"Payment ID","label_booking_id":"Booking ID","label_payment_method":"Payment Method","placeholder_end_time_for_slot":"End time for slot","placeholder_start_time_for_slot":"Start time for slot","header_home":"Home","header_about_us":"About Us","header_services":"Services","header_download_app":"Download App","header_become_a_advisor":"Become a Advisor","header_login":"Login","footer_faq":"FAQ","contact_us":"Contact Us","home_hero_heading":"Navigate Life\'s Path with Astrological Guidance","home_hero_content":"Welcome to a world where the stars illuminate your journey! Astrology offers profound insights into your personality, relationships, and life\u2019s challenges, helping you make more informed and confident choices.","btn_get_started":"Get Started","about_us":"About Us","home_about_us_heading":"Guided by the Stars","home_about_us_content1":"Discover a space where celestial wisdom meets everyday life. Our mission is to bring the transformative power of astrology to your fingertips, offering personalized insights and practical guidance. Whether you\'re a seasoned stargazer or new to the zodiac, we\u2019re here to help you decode the mysteries of the universe and align with your true path. With a passion for the stars and a commitment to your growth, we\u2019re dedicated to making astrology accessible, inspiring, and empowering","home_about_us_content2":"Whether you\'re seeking clarity about your future, understanding your strengths, or aligning with your true purpose, the wisdom of the cosmos is here to guide you. Explore the mysteries of the universe and unlock the secrets written in the stars to live a life of intention and harmony.","tarot_readings":"Tarot Readings","reading_the_future":"Reading the Future","spiritual_advisor_panel":"Spiritual Advisor Panel","spiritual_advisor_panel_heading":"Join Our Spiritual Advisor Network","spiritual_advisor_panel_content":"Register as a Spiritual Advisor and bring your insights to those seeking guidance. Together, let\u2019s illuminate paths, inspire lives, and create meaningful connections through the power of your abilities.","btn_join_now":"Join Now","your_browser_does_not_support_the_video_tag":"Your browser does not support the video tag.","services":"Services","services_heading":"Explore Our Astrological Services","services_content":"Your Guide to Celestial Clarity and Purpose","horoscope":"Horoscope","services_horoscope_card_content":"The stars hold the key to understanding the ebb and flow of your life. Horoscopes provide a window into the cosmic energies influencing your day, week, or year.","birth_chart_analysis":"Birth Chart Analysis","services_birth_chart_analysis_card_content":"The stars hold the key to understanding the ebb and flow of your life. Horoscopes provide a window into the cosmic energies influencing your day, week, or year.","health_calendar":"Health Calendar","services_health_calendar_card_content":"The stars hold the key to understanding the ebb and flow of your life. Horoscopes provide a window into the cosmic energies influencing your day, week, or year.","tarot_card_reading":"Tarot Card Reading","services_tarot_card_reading_card_content":"The stars hold the key to understanding the ebb and flow of your life. Horoscopes provide a window into the cosmic energies influencing your day, week, or year.","biorhythm_analysis":"Biorhythm Analysis","services_biorhythm_analysis_card_content":"The stars hold the key to understanding the ebb and flow of your life. Horoscopes provide a window into the cosmic energies influencing your day, week, or year.","beauty_calendar":"Beauty Calendar","services_beauty_calendar_card_content":"The stars hold the key to understanding the ebb and flow of your life. Horoscopes provide a window into the cosmic energies influencing your day, week, or year.","marquee_horoscope":"HOROSCOPE","marquee_zodiac_sign":"ZODIAC SIGN","marquee_birth_chart":"BIRTH CHART","marquee_tarot_card":"TAROT CARD","marquee_consultations":"CONSULTATIONS","marquee_spiritual_advisor":"SPIRITUAL ADVISOR","how_we_works":"How we works","how_we_works_heading":"Your Path to Cosmic Guidance","how_we_works_content":"Discover a space where celestial wisdom meets everyday life. Our mission is to bring the transformative power of astrology to your fingertips, offering insights and  guidance. ","how_we_works_card1_heading":"Create your Account","how_we_works_card1_content":"Unlock Your Personalized Astrological Experience Today","how_we_works_card2_heading":"Setup Your Profile","how_we_works_card2_content":"Customize Your Journey with Personalized Astrological Insights","how_we_works_card3_heading":"Receive Your Prediction","how_we_works_card3_content":"Discover What the Universe Has Planned for You with Your Personalized Astrological Prediction","download_app":"Download App","download_app_heading":"Download Our App for Instant Astrological Insights","download_app_content":"Unlock the power of the stars at your fingertips! Download our app today and gain instant access to personalized horoscopes, daily predictions, and cosmic guidance.","frequently_asked_questions":"Frequently Asked Questions","our_team":"Our Team","our_team_content":"Meet the visionaries driving our mission to deliver exceptional astrology services.","inquiry":"Inquiry","inquiry_heading":"Get in Touch with us","inquiry_content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.","select_expertise":"Select Expertise","contact_us_heading":"Get in Touch with us","contact_us_content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.","label_message":"Message","placeholder_message":"Enter Message","err_message_is_required":"Message is required","err_email_is_required":"Email address is required","label_customer_feedback":"Customer Feedback","label_overall_rating":"Overall Rating","label_upcoming_appointments":"Upcoming Appointments","link_view_all":"View All","label_chat_history":"Chat History","btn_cancel_booking":"Cancel Booking","btn_mark_completed":"Mark As Completed","label_my_earning":"My Earning","heading_my_earnings":"My Earnings","err_slot_type_required":"Slot type is required","err_recurring_end_date_required":"Recurring end date is required","label_chat_credit_rate":"Chat credit rate","label_audio_call_credit_rate":"Audio call credit rate","label_video_call_credit_rate":"Video call credit rate","placeholder_credit_rate":"Enter credit rate","err_cancellation_reason_required":"Cancellation reason is required","dashboard_today_schedule":"Today\u2019s Schedule","dashboard_total_sessions":"Total Sessions","dashboard_total_earnings":"Total Earnings","chat_welcome_what_would_you_like_to_discuss_today?":"Welcome! What would you like to discuss today?","chat_welcome":"Welcome","label_cancellation_reason":"Cancellation Reason","placeholder_cancel_reason":"Enter cancellation reason","cancellation_reason_is_required":"Cancellation reason is required.","cancellation_reason_characters_limit_200":"Cancellation reason must be less than 200 characters.","cancellation_reason_include_at_least_one_letter":"Cancellation reason must include at least one letter.","slot_type":"Slot Type","slot_type_one_time":"One-Time","slot_type_recurring":"Recurring at Every","select_end_date":"Select End Date","total_payout":"Total Payout","current_receivable":"Current Receivable","dashboard_tab_session":"Session","btn_last7_days":"Last 7 days","btn_last30_days":"Last 30 days","btn_join":"Join","duration":"Duration","consultation":"Consultation","label_booking_details":"Booking Details","label_go_back":"Go back","label_go_to_top":"Go to top","label_notifications":"Notifications","general_notification_text":"Request notification for {{notificationType}}","new_booking_notification_text":"Your session has been confirmed with {{userName}} on {{date}}","cancel_booking_notification_text":"Your session with {{userName}} scheduled for {{date}} has been canceled.","session_reminder_notification_text":"Reminder: You have a session with {{userName}} on {{date}}","label_hour":"Hour","skip_to_main_content":"Skip to main content","start_audio_meet":"Start Audio Meet","start_video_meet":"Start Video Meet","start_chat_meet":"Start Chat","view_past_chat_meet":"View Past Chat","session_has_ended":"Your session has ended.","booked":"Confirmed","canceled":"Canceled","cancelled":"Cancelled","completed":"Completed","upcoming":"Upcoming","video":"Video","audio":"Audio","chat":"Chat","pending":"Pending","refunded":"Refunded","credits":"Credits","label_select_language":"Select Language","label_my_profile":"My Profile","label_earnings_from":"Earnings from","label_to":"to","label_total_entries":"Total entries","caption_my_earnings_over_time":"My Earnings Over Time","table_header_date":"Date","table_header_earnings_euro":"Earnings (\u20ac)"}'),XV=JSON.parse('{"sidebar_link_dashboard":"Armaturenbrett","sidebar_link_psychic":"Spiritueller Berater","sidebar_link_users":"Benutzer","sidebar_link_testimonial":"Zeugnis","sidebar_link_testimonials":"Zeugnisse","sidebar_link_contact_us":"Kontaktieren Sie uns","sidebar_link_inquiries":"Anfragen","link_dashboard":"Armaturenbrett","link_psychic":"Spiritueller Berater","list_heading_profile":"Profil","list_heading_my_profile":"Mein Profil","list_heading_email":"E-Mail","list_heading_phone_number":"Telefonnummer","image_support_tooltip":"Nur JPG, JPEG, PNG, WebP, GIF -Dateien mit maximaler Gr\xf6\xdfe 1,5 MB","link_add":"Hinzuf\xfcgen","link_remove":"Entfernen","sidebar_link_cms":"CMS","sidebar_link_subscription":"Abonnement","sidebar_link_pages":"Seiten","sidebar_link_banners":"Banner","sidebar_link_email_template":"E -Mail -Vorlage","sidebar_link_global_settings":"Globale Einstellungen","input_placeholder_search":"Suchen","input_placeholder_date":"Datum","input_select_option_demo":"Demo","input_select_option_premium":"Pr\xe4mie","input_radio_yearly":"J\xe4hrlich","input_radio_monthly":"Monatlich","input_select_text":"W\xe4hlen","btn_reset_filter":"Filter zur\xfccksetzen","btn_add_new":"Neu hinzuzuf\xfcgen","list_heading_sno":"Sr. Nr.","list_heading_name":"Name","label_shipping":"Versand","label_representative_name":"Repr\xe4sentativer Name","label_contractor_name":"Auftragnehmer Name","label_plan_name":"Plan Name","label_premium_plan":"Premium -Plan","label_membership_cost":"Mitgliedskosten","label_more_info":"Weitere Informationen","list_heading_address":"Adresse","list_heading_status":"Status","list_heading_created_date":"Datum erstellt","list_heading_modified_date":"Datum aktualisiert","list_heading_created_by":"Erstellt von","list_heading_updated_by":"Aktualisiert von","list_heading_action":"Aktionen","list_heading_subject":"Thema","btn_active":"Aktiv","btn_inactive":"Inaktiv","btn_view":"Sicht","btn_edit":"Bearbeiten","btn_delete":"L\xf6schen","msg_no_records":"Keine Aufzeichnungen","msg_total_records":"Gesamtdatens\xe4tze","msg_are_you_sure":"Bist du sicher ?","you_not_be_able_to_revert_this":"Sie werden dies nicht zur\xfcckversetzen k\xf6nnen!","heading_add_user":"Benutzer hinzuf\xfcgen","heading_view_user":"Benutzer anzeigen","heading_edit_user":"Benutzer bearbeiten","title_generals":"Gener\xe4le","title_enrollments":"Einschreibungen","title_transactions":"Transaktionen","title_amount":"Menge","title_credit":"Kredit","label_slug":"Slug","label_slug_of_page":"Schlupf der Seite","label_logout":"Abmelden","label_profile":"Profil","edit_profile":"Profil bearbeiten","label_profile_picture":"Profilbild","label_first_name":"Vorname","label_middle_name":"Zweiter Vorname","label_last_name":"Nachname","label_name":"Name","placeholder_name":"Namen eingeben","label_state":"Zustand","placeholder_state":"Geben Sie den Staat ein","label_city":"Stadt","placeholder_city":"Stadt betreten","label_country":"Land","label_review":"Rezension","label_rating":"Bewertung","label_rating_1_to_10":"Bewertung (1 bis 10)","label_manager_first_name":"Vorname Manager","label_manager_middle_name":"Manager zweiter Vorname","label_manager_last_name":"Nachname des Managers","label_restaurant_name":"Restaurantname","label_restaurant_details":"Restaurantdetails","label_address":"Adresse","label_email":"E-Mail","label_password":"Passwort","placeholder_enter_password":"Kennwort eingeben","label_confirm_password":"Passwort best\xe4tigen","label_logo":"Logo","label_restaurant_images":"Restaurantbilder","label_image":"Bild","label_phone_number":"Telefonnummer","label_modified_date":"Modifiziertes Datum","label_description":"Beschreibung","placeholder_description":"Beschreibung eingeben","label_long_description":"Lange Beschreibung","label_japanese":"japanisch","label_contact_no":"Kontakt Nr","label_copy_right_text":"Kopieren Sie den richtigen Text","label_username":"Benutzername","label_website":"Webseite","label_text":"Text","label_id":"AUSWEIS","label_company":"Unternehmen","label_expiry_date":"Verfallsdatum","label_days_remaining_expiry":"Tage im Ablauf verbleiben ","contract_plan_duration_type":"Vertragsplan Dauertyp","btn_submit":"Einreichen","btn_cancel":"Stornieren","btn_back":"Zur\xfcck","btn_save":"Speichern","btn_save_exit":"Speichern und beenden","btn_yes_delete":"Ja, l\xf6schen Sie es!","btn_yes":"Ja","btn_banner":"Banner","btn_enroll_restaurant":"Einschreibung Restaurant","selected":"ausgew\xe4hlt {{selectedCount}} {{record}} von {{totalCount}}","records":"Aufzeichnungen","record":"aufzeichnen","text_you_want_to_logout":"Sie m\xf6chten sich anmelden!","msg_logout_successfully":"Erfolgreich abmelden","role_super_admin":"Super Admin","role_staff":"Personal","role_unknown":"Unbekannt","label_restaurants_name":"Restaurantname","label_company_name":"Name der Firma","label_company_address":"Firmenadresse","label_shipping_address":"Versandadresse","restaurants":"Restaurants","add_restaurants":"F\xfcgen Sie Restaurant hinzu","more":"Mehr","label_name_error":"Name ist erforderlich","label_restaurants_error":"Restaurantname ist erforderlich","label_email_error":"E -Mail ist erforderlich","validation_err_invalid_email":"Ung\xfcltige E -Mail -Adresse","label_phone_error":"Telefonnummer ist erforderlich","label_logo_error":"Logo ist erforderlich","label_address_error":"Ort ist erforderlich","view_restaurants":"Restaurant sehen","edit_restaurants":"Restaurant bearbeiten","label_company_name_error":"Firmenname ist erforderlich","label_shipping_address_error":"Versandadresse ist erforderlich","label_representative_name_error":"Repr\xe4sentativer Name ist erforderlich","label_contractor_name_error":"Der Name des Auftragnehmers ist erforderlich","label_plan_name_error":"Der Plan -Name ist erforderlich","label_contract_plan_duration_error":"Vertragsplan -Typ ist erforderlich","label_expiry_date_error":"Ablaufdatum ist erforderlich","label_first_name_error":"Vorname ist erforderlich","label_first_name_format_error":"Im Vornamen sind nur Alphabete erlaubt","label_last_name_error":"Nachname ist erforderlich","placeholder_first_name":"Geben Sie den Vornamen ein","placeholder_middle_name":"Eingeben Sie den zweiten Vornamen","placeholder_last_name":"Geben Sie den Nachnamen ein","placeholder_email":"Geben Sie Ihre E -Mail ein","placeholder_phone_number":"Telefonnummer eingeben","placeholder_address":"Adresse eingeben","label_email_validation_error":"E -Mail sollte g\xfcltig sein","label_image_error":"Bild ist erforderlich","label_image_format_error":"Nicht unterst\xfctzter Dateiformat","label_phone_number_minimum_length":"Die Telefonnummer kann nicht weniger als 10 Ziffern betragen","label_phone_number_maximum_length":"Die Telefonnummer kann nicht mehr als 14 Ziffern betragen","general":"Allgemein","change_password":"Kennwort \xe4ndern","label_old_password":"Altes Passwort","placeholder_old_password":"Geben Sie ein altes Passwort ein","label_current_password":"Aktuelles Passwort","label_confirm_new_password":"Neues Passwort best\xe4tigen","placeholder_confirm_new_password":"Neues Passwort wiedergeben","label_new_password":"Neues Passwort","placeholder_current_password":"Geben Sie das aktuelle Passwort ein","placeholder_password":"Geben Sie Ihr Passwort ein","placeholder_confirm_password":"Geben Sie das Passwort best\xe4tigen","placeholder_new_password":"Geben Sie ein neues Passwort ein","validation_password_required":"Passwort ist erforderlich","label_current_password_error":"Aktuelles Passwort ist erforderlich","label_old_password_error":"Altes Passwort ist erforderlich","label_new_password_error":"Neues Passwort ist erforderlich","label_confirm_password_error":"Best\xe4tigen Sie das Passwort erforderlich","password_validation_lowercase":"Das Passwort sollte mindestens 1 Kleinbuchstaben -Buchstaben haben","Password_Validation_uppercase":"Das Passwort sollte mindestens 1 Kapitalbuchstaben haben","Password_Validation_special_char":"Das Passwort sollte mindestens 1 spezielles Zeichen haben","Password_Validation_number":"Passwort sollte mindestens 1 Nummer haben","Password_Validation_minimum_length":"Das Passwort sollte mindestens 8 Zeichen lang sein","Password_Validation_maximum_length":"Passwort kann nicht mehr als 20 Zeichen lang sein","password_validation_does_not_match":"Passw\xf6rter stimmen nicht \xfcberein","sidebar_link_user_profile":"Benutzerprofil","view_cms":"CMS anzeigen","title":"Titel","menu_location":"Men\xfcstandort","footer_location":"Fu\xdfzeile","validation_err_menu_location":"Der Men\xfcort ist erforderlich","validation_err_footer_location":"Fu\xdfzeile ist erforderlich","meta_tags":"Meta -Tags","meta_keywords":"Meta -Schl\xfcsselw\xf6rter","label_short_description":"Kurzbeschreibung","label_short_description_en":"Kurzbeschreibung (Englisch)","label_short_description_de":"Kurzbeschreibung (Deutsch)","label_short_description_es":"Kurzbeschreibung (Spanisch)","label_short_description_hu":"Kurzbeschreibung (Ungar)","label_long_description_en":"Lange Beschreibung (Englisch)","label_long_description_de":"Lange Beschreibung (Deutsch)","label_long_description_es":"Lange Beschreibung (Spanisch)","label_long_description_hu":"Lange Beschreibung (Ungar)","edit_cms":"CMS bearbeiten","add_cms":"CMS hinzuf\xfcgen","login_your_account":"Melden Sie sich Ihr Konto an","signin_our_account":"Signin f\xfcr Ihr Konto","loading":"Laden...","sign_in":"Anmelden","remember_me":"Erinnere dich an mich","forgot_password":"Passwort vergessen","reset_your_password":"Setzen Sie Ihr Passwort zur\xfcck","btn_reset_password":"Passwort zur\xfccksetzen","OTP_will_be_sent_registered_email":"OTP wird an Ihre registrierte E -Mail gesendet","btn_request_email":"E -Mail anfordern","did_you_remembered_your_password":"Haben Sie sich an Ihr Passwort erinnert?","label_try_to":"Versuche es","link_login":"Login","heading_otp_verification":"OTP -\xdcberpr\xfcfung","msg_OTP_has_been_sent_to":"OTP wurde an gesendet an","btn_verification_Otp":"\xdcberpr\xfcfung OTP","link_resend_otp":"Senden Sie OTP erneut","link_back_to_login":"Zur\xfcck zum Anmeldung","placeholder_enter_OTP":"Geben Sie OTP ein","validation_OTP_is_required":"OTP ist erforderlich","label_cuisine_type":"K\xfcche","placeholder_cuisine_type":"W\xe4hlen Sie den K\xfcchentyp","label_restaurant_name_error":"Restaurantname ist erforderlich","label_email_invalid_format_error":"Ung\xfcltiges E -Mail -Format","label_email_uppercase_error":"E -Mail d\xfcrfen keine Gro\xdfbuchstaben enthalten","label_email_required_error":"E -Mail ist erforderlich","err_expertise_is_required":"Fachwissen ist erforderlich","err_experience_is_required":"Erfahrung ist erforderlich","err_language_spoken_is_required":"Die gesprochene Sprache ist erforderlich","err_credit_per_session":"Gutschrift pro Sitzung ist erforderlich","err_chat_credit_rate":"Chat -Kreditrate ist erforderlich","err_audio_credit_rate":"Audiokreditsatz ist erforderlich","err_video_credit_rate":"Video -Kreditrate ist erforderlich","err_city_is_required":"Stadt ist erforderlich","err_state_is_required":"Staat ist erforderlich","err_country_is_required":"Land ist erforderlich","err_pin_code_is_required":"PIN -Code ist erforderlich","err_experience_summary_is_required":"Eine Erfahrung mit der Erfahrung ist erforderlich","err_bio_is_required":"Biografie ist erforderlich","err_consolation_fee_is_required":"Trostgeb\xfchr ist erforderlich","err_address_is_required":"Adresse ist erforderlich","label_phone_number_digits_error":"Die Telefonnummer darf nur Ziffern enthalten","label_phone_number_min_length_error":"Die Mindestl\xe4nge der Telefonnummer ist {{PHONE_MIN_LENGTH}}","label_phone_number_max_length_error":"Die maximale L\xe4nge der Telefonnummer ist {{PHONE_MAX_LENGTH}}","max_length_error_dynamic":"Maximale L\xe4nge \xfcberschreiten {{MAX_LENGTH}}","max_length_error":"Maximale L\xe4nge \xfcberschreiten","max_length_error_40":"Maximale L\xe4nge von \xfcberschreiten {{INPUT_LENGTH_40}}","max_length_error_50":"Maximale L\xe4nge von \xfcberschreiten {{INPUT_LENGTH_50}}","max_length_error_with_count":"Maximale L\xe4nge von \xfcberschreiten {{length}}","label_phone_number_required_error":"Telefonnummer ist erforderlich","label_location_error":"Adresse ist erforderlich","label_profile_image_error":"Logo ist erforderlich","label_cuisine_type_error":"Es ist eine K\xfcchenart erforderlich","label_title_error":"Der Titel ist erforderlich","label_slug_error":"Slug ist erforderlich","label_short_description_error":"Eine kurze Beschreibung ist erforderlich","label_richtext_error":"Beschreibung ist erforderlich","label_long_description_error":"Eine lange Beschreibung ist erforderlich","label_title_japanese":"Titel (japanisch)","automatic_emails":"Automatische E -Mails","view_automatic_email":"Automatische E -Mail anzeigen","label_dynamic_options":"Dynamische Optionen","edit_automatic_email":"Automatische E -Mail bearbeiten","click_to_copy":"Klicken Sie hier, um zu kopieren","short_code":"Kurzcodes, um Benutzer pers\xf6nliche Details wie Name und Gru\xdf hinzuzuf\xfcgen - klicken Sie auf das Kopieren und f\xfcgen Sie dann ein ","label_subject":"Thema","placeholder_subject":"Betreff eingeben","label_subject_error":"Betreff ist erforderlich","monthly_enrollement_cost":"Monatliche Kosten f\xfcr das Restauranteinschreibungskosten","yearly_enrollement_cost":"J\xe4hrliche Kosten f\xfcr das Restauranteinschreibungskosten","invalid_email":"Ung\xfcltige E -Mail -Adresse","copyright_error":"Kopieren Sie den richtigen Text, der ben\xf6tigt wird","website_error":"Website ist erforderlich","monthly_enrollment_error":"Die monatlichen Kosten f\xfcr die Einschreibung von Restaurants sind erforderlich","yearly_enrollment_error":"J\xe4hrliche Kosten f\xfcr die Einschreibung von Restaurants sind erforderlich","label_contact_invalid_error":"Ung\xfcltige Telefonnummer","label_invalid_amount_error":"Ung\xfcltiger Betrag","invalid_web_url":"Ung\xfcltige Website -URL","label_city_error":"Stadt ist erforderlich","label_country_error":"Land ist erforderlich","label_testimonial_error":"Zeugnistext ist erforderlich","label_company_address_error":"Firmenadresse IR erforderlich","msg_validation_password_length":"Die Mindestkennwortl\xe4nge muss 8 Zeichen betragen","msg_validation_do_not_accept_space":"Akzeptieren Sie keinen Raum","msg_validation_contain_numeric_character":"Nur numerischer Charakter","msg_validation_otp_length":"OTP -L\xe4nge sollte von sein {{OTP_LENGTH}} ","btn_renew":"Erneuern","input_value_days":"Tage","input_value_day":"Tag","label_title_length_error_50":"Die Titell\xe4nge muss weniger als 50 Zeichen sein","err_max_length_label":"Max erlaubte L\xe4nge der Zeichen ist {{MAX_LENGTH}}","max_length_label":"Max erlaubte die L\xe4nge der Zeichen betr\xe4gt 15","max_length_label_30":"Max erlaubte L\xe4nge der Zeichen betr\xe4gt 30","max_length_label_50":"Max erlaubte L\xe4nge der Zeichen betr\xe4gt 50","featured":"vorgestellt","validation_max_input_characters":"Es darf nicht \xfcberschreiten {{TEXTAREA_MAX_LENGTH}} Charaktere","validation_max_input_characters_address":"Es darf nicht \xfcberschreiten {{MAX_LENGTH}} Charaktere","supported_file_error":"Unterst\xfctzte Formate: JPG, JPEG, PNG, Webp, GIF ","image_max_size_error":"Die Dateigr\xf6\xdfe sollte weniger als 1,5 MB betragen","image_required_error":"Profilbild ist erforderlich","label_Banner_title":"Bannertitel","label_Banner_title_ja":"Bannertitel (Japanisch)","label_page_title":"Seitentitel","label_page_title_en":"Seitentitel (Englisch)","label_page_title_de":"Seitentitel (Deutsch)","label_page_title_es":"Seitentitel (Spanisch)","label_page_title_hu":"Seitentitel (Ungar)","tooltip_page_title":"Seitentitel - im Front -End (Men\xfcs und Tab -Leiste) gezeigt","label_menu_of_the_page":"Men\xfc der Seite","menu_of_page_header":"Kopfball","menu_of_page_footer":"Fu\xdfzeile","menu_of_page_custom":"Brauch","validation_err_reached_maximum_length":"Die maximale Charaktergrenze {{INPUT_LENGTH}} wurde \xfcberschritten.","validation_err_status_required":"Status ist erforderlich","label_social_media":"Social Media","input_placeholder_title":"Titel","input_placeholder_link":"Link","input_placeholder_icon":"Symbol","validation_err_title_required":"Der Titel ist erforderlich","validation_err_link_required":"Link ist erforderlich","validation_err_icon_required":"Ikone ist erforderlich","heading_renew_plan":"Plan verl\xe4ngern","btn_continue":"Weitermachen","verify_otp":"\xdcberpr\xfcfen Sie OTP","invalid_otp":"Ung\xfcltiges OTP","otp_sent_message":"Wir haben einen Best\xe4tigungscode an Ihre E -Mail -Adresse gesendet","otp_not_receive":"Nicht OTP erhalten?","btn_resend":"Wiederholen","otp_error_msg":"Alle Felder sind obligatorisch. ","paragraph_enter_email_we_will_send_you_OTP":"Geben Sie Ihre E -Mail -Adresse ein, und wir senden Ihnen einen OTP, um Ihr Passwort zur\xfcckzusetzen","label_email_address":"E-Mail-Adresse","placeholder_email_address":"Geben Sie eine E -Mail -Adresse ein","link_my_profile":"Mein Profil","link_restaurant_profile":"Restaurantprofil","label_restaurant_address":"Restaurantadresse","btn_update_profile":"Profil aktualisieren","nav_link_home":"Heim","nav_link_sales":"Verk\xe4ufe","nav_link_menu":"Speisekarte","nav_link_table_management":"Tabellenverwaltung","nav_link_settings":"Einstellungen","link_contract_information":"Vertragsinformationen","link_mail_notification_settings":"Mail -Benachrichtigungseinstellungen","validation_error_rating_min_1":"Die Bewertung muss mindestens 1 betragen","validation_error_rating_max_5":"Die Bewertung muss h\xf6chstens 10 sein","validate_error_rating":"Bewertung ist erforderlich","restaurant_id":"Restaurantausweis","restaurant_time":"Restaurant Er\xf6ffnung und Schlie\xdfzeit","zip_code":"PLZ","credential_setup":"Anmeldeinformationen einstellen/aktualisieren","cashier_password":"Kassiererkennwort","fiscal_year":"Gesch\xe4ftsjahr Einstellung","starting_month":"Startmonat","contract_expiry":"Vertragsablaufdatum","plan":"Planen","address":"Adresse","store_rep_name":"Repr\xe4sentativen Namen speichern","email_address":"E-Mail-Adresse","tel_number":"Tel -Nummer","contractor":"Auftragnehmer","mail_notification_setting":"E -Mail -Benachrichtigungen Einstellungen","label_link":"Link","web_banner_add":"Banneranzeigen","web_featured_restaurants":"Ausgewachsene Restaurants","web_our_testimonials":"Unsere Zeugnisse","web_our_testimonials_text":"H\xf6ren Sie, was unsere Kunden zu sagen haben","web_footer_contact":"Verbinde dich mit uns","web_footer_text":"Es gibt viele Variationen von Passagen von Lorem Ipsum, aber die Mehrheit hat in irgendeiner Form eine Ver\xe4nderung erlitten","web_footer_company":"Unternehmen","web_footer_our_story":"Unsere Geschichte","web_footer_about_us":"\xdcber uns","web_footer_service_overview":"Service\xfcbersicht","web_footer_manual_guide":"Handbuch","web_footer_legal":"Legal","web_footer_privacy_policy":"Datenschutzrichtlinie","web_footer_support":"Unterst\xfctzung","web_footer_faq":"FAQ","web_footer_terms_condition":"Gesch\xe4ftsbedingungen","validation_error_profile_img_required":"Profilbild ist erforderlich","web_nav_link_home":"Heim","web_nav_link_about_us":"\xdcber uns","web_nav_link_service_overview":"Service\xfcbersicht","web_nav_link_how_does_it_operate":"Wie funktioniert es?","web_nav_link_pricing":"Preisgestaltung","web_nav_link_manual_guide":"Handbuch","web_nav_link_inquire_now":"Fragen Sie sich jetzt an","web_home_heading":"Die einfache, sichere und skalierbare Art, Ihr Unternehmen zu f\xfchren","web_home_sub_heading":"Voll integriertes Point-of-Sale-System","web_home_sub_content":"Lorem Ipsum Dolor Sit Amet, Consectetur Adipiscing Elit, SED do eiusmod tempor incidididt ut labore et dolore magna aliqua ut","web_about_us_heading":"Verpflichtung, Ihren Gesch\xe4ftsbetrieb zu optimieren","web_about_us_content1":"LOREM IPSUM ist einfach Dummy -Text der Druck- und Artenset -Industrie. ","web_about_us_content2":"LOREM IPSUM ist einfach Dummy -Text der Druck- und Artenset -Industrie. ","web_about_us_link_read_more":"Mehr lesen","web_service_overview_section_heading":"St\xe4rkung Ihres Einzelhandelsgesch\xe4fts Erfolg","web_service_overview_heading":"St\xe4rkung Ihres Einzelhandelsgesch\xe4fts Erfolg","web_service_overview_content":"LOREM IPSUM ist einfach Dummy -Text der Druck- und Artenset -Industrie. ","web_service_overview_list1":"Wei\xdfmarkierte mobile Gebote","web_service_overview_list2":"White-markierte Auktionswebsite","web_service_overview_list3":"Ihre Marke, keine Market -Marke","web_how_does_it_work_heading":"Wie funktioniert es?","web_how_does_it_work_card1_heading":"Bestelleintrag","web_how_does_it_work_card1_content":"LOREM IPSUM ist einfach Dummy -Text der Druck- und Artenset -Industrie.","web_how_does_it_work_card2_heading":"Bestell\xfcbertragung","web_how_does_it_work_card2_content":"LOREM IPSUM ist einfach Dummy -Text der Druck- und Artenset -Industrie.","web_how_does_it_work_card3_heading":"Bestelleintrag","web_how_does_it_work_card3_content":"LOREM IPSUM ist einfach Dummy -Text der Druck- und Artenset -Industrie.","web_how_does_it_work_card4_heading":"Bestelleintrag","web_how_does_it_work_card4_content":"LOREM IPSUM ist einfach Dummy -Text der Druck- und Artenset -Industrie.","web_inquiry_form_heading":"Sich mit uns in Verbindung setzen","web_inquiry_form_label_name":"Name","web_inquiry_form_placeholder_name":"Geben Sie Ihren Namen ein","web_inquiry_form_label_restaurant_name":"Restaurantname","web_inquiry_form_placeholder_restaurant_name":"Geben Sie Ihren Restaurantnamen ein","web_inquiry_form_label_contact_number":"Kontaktnummer","web_inquiry_form_placeholder_contact_number":"Geben Sie Ihre Kontaktnummer ein","web_inquiry_form_label_email":"E-Mail","web_inquiry_form_placeholder_email":"Geben Sie Ihre E -Mail -Adresse ein","web_inquiry_form_label_address":"Adresse","web_inquiry_form_placeholder_address":"Geben Sie Ihre Adresse ein","web_inquiry_form_label_more_info":"Weitere Informationen","web_inquiry_form_placeholder_more_info":"Geben Sie Ihre Nachricht hier ein","web_inquiry_form_btn_submit":"Einreichen","web_inquiry_form_validation_name_required":"Name ist erforderlich","web_inquiry_form_validation_email_invalid_format":"Ung\xfcltiges E -Mail -Format","web_inquiry_form_validation_email_not_contain_uppercase":"E -Mail d\xfcrfen keine Gro\xdfbuchstaben enthalten","web_inquiry_form_validation_email_required":"E -Mail ist erforderlich","web_inquiry_form_validation_restaurant_name_required":"Restaurantname ist erforderlich","web_inquiry_form_validation_contact_no_required":"Kontaktnummer ist erforderlich","web_inquiry_form_validation_contact_no_contain_digits":"Die Kontaktnummer darf nur Ziffern enthalten","web_inquiry_form_validation_contact_no_min_length":"Die Mindestl\xe4nge der Kontaktnummer ist {{PHONE_NO_LENGTH}}","web_inquiry_form_validation_contact_no_max_length":"Die Mindestl\xe4nge der Kontaktnummer ist {{PHONE_NO_LENGTH}}","web_inquiry_form_validation_address_required":"Adresse ist erforderlich","label_login_ID":"Login -ID","placeholder_login_ID":"Geben Sie die Anmelde -ID ein","sidebar_dashboard":"Armaturenbrett","sidebar_my_calender":"Mein Kalender","sidebar_my_earnings":"Mein Einkommen","sidebar_chat":"Chat","sidebar_my_bookings":"Meine Buchungen","sidebar_payment_history":"Zahlungshistorie","heading_my_profile":"Mein Profil","label_profile_image":"Profilbild","label_personal_information":"Pers\xf6nliche Informationen","label_email_id":"E -Mail -ID","label_professional_information":"Professionelle Informationen","label_bio_introduction":"Bio/Einf\xfchrung","label_experience_summary":"Erfahrung mit Zusammenfassung","placeholder_bio_introduction":"Geben Sie Bio/Einf\xfchrung ein","placeholder_experience_summary":"Erlebniszusammenfassung eingeben","label_expertise_area":"Fachgebiet","label_expertise":"Sachverstand","label_language_spoken":"Sprachen gesprochen","label_experience":"Erfahrung","placeholder_enter_experience":"Erfahrung betreten","label_year":"Jahr","label_credit_per_session":"Kredit pro Sitzung","label_mode_of_consultation":"Beratungsart","placeholder_credit_per_session":"Geben Sie eine Gutschrift pro Sitzung ein","label_pin_code":"PIN -Code","placeholder_pin_code":"PIN -Code eingeben","label_address_location":"Adresse/Ort","placeholder_address_location":"Adresse/Ort","label_credit_charge_per_session":"Kreditgeb\xfchr pro Sitzung","label_consolation_fee_per_session":"Trostgeb\xfchr pro Sitzung","placeholder_amount":"Betrag eingeben","btn_update":"Aktualisieren","link_forget_password":"Passwort vergessen","max_bio_length":"Maximal die Biol\xe4nge von \xfcberschreiten {{TEXTAREA_MAX_LENGTH_200}}","max_experience_summary_length":"Maximaler Erfahrung zusammenfassungsdauer von \xfcberschreiten {{TEXTAREA_MAX_LENGTH_200}}","err_pin_code_invalid":"Ung\xfcltiger PIN -Code","err_credit_per_session_invalid":"Ung\xfcltiges Gutschrift pro Sitzung","err_experience_invalid":"Ung\xfcltige Erfahrung","err_consolation_fee_invalid":"Ung\xfcltige Trostgeb\xfchr","err_exceed_max_length":"Maximale L\xe4nge \xfcberschritten von {{max_length}}","valid_first_name_error":"Ung\xfcltiger Vorname","valid_last_name_error":"Ung\xfcltiger Vorname","valid_format_error":"Ung\xfcltiger Eingabewert","error_html_tag":"HTML -Tags enthalten","err_min_limit":"Die Eingabe liegt unter der Mindestgrenze","err_max_limit":"Die maximale Grenze \xfcberschritten","page_not_exist_text":"OOPS.Die Seite, nach der Sie suchen, wird nicht beendet.","mistyped_address_text":"M\xf6glicherweise haben Sie die Adresse oder die Seite verschoben. ","btn_back_to_home":"Zur\xfcck zu Hause","label_location_of_the_footer":"Lage der Fu\xdfzeile","main_location_of_page_footer":"Haupts\xe4chlich","base_location_of_page_footer":"Base","web_record_not_found_heading":"Aufzeichnung nicht gefunden","no_record_found_text":"Aufzeichnung nicht gefunden","validation_err_invalid_slug":"Ung\xfcltige Schnecke","faq":{"heading_faq":"FAQ","link_dashboard":"Armaturenbrett","link_faq":"FAQ","link_add":"Hinzuf\xfcgen","add_faq":"FAQ hinzuf\xfcgen","faq_title_placeholder":"Geben Sie Ihren FAQ -Titel ein","label_description":"Beschreibung","label_description_en":"Beschreibung (Englisch)","label_description_de":"Beschreibung (Deutsch)","label_description_es":"Beschreibung (Spanisch)","label_description_hu":"Beschreibung (ungarischer)","description_placeholder":"Beschreibung eingeben","label_title_error":"Der Titel ist erforderlich","label_description_error":"Beschreibung ist erforderlich","validation_err_reached_maximum_length":"Die maximale Zeichengrenze (500) wurde \xfcberschritten.","heading_cms_faq":"FAQ","list_heading_sno":"Sr. Nr.","list_heading_title":"Titel","list_heading_title_en":"Titel (Englisch)","list_heading_title_de":"Titel (Deutsch)","list_heading_title_es":"Titel (Spanisch)","list_heading_title_hu":"Titel (Ungar)","label_status":"Status","heading_view":"FAQ anzeigen","edit_faq":"FAQ bearbeiten","link_view":"Sicht","link_edit":"Bearbeiten"},"contact-us":{"link_dashboard":"Armaturenbrett","link_contact_us":"Kontaktieren Sie uns","list_heading_sno":"Sr. Nr.","list_heading_name":"Name","label_email":"E-Mail","label_phone_number":"Telefonnummer","label_contact_us_date":"Kontaktdatum","label_note":"Notiz","label_name":"Name","label_address":"Adresse","view_contact_us":"Sehen Sie sich uns an uns"},"booking_id":"Buchungs -ID","booking_status":"Buchungsstatus","client_name":"Kundenname","client_name_id":"Clientname/ID","date_and_time":"Datum und Uhrzeit","label_amount":"Menge","label_credit":"Kredit","label_purpose":"Zweck","are_sure_cancel_booking":"Sind Sie sicher, dass Sie diese Buchung stornieren m\xf6chten?","are_sure_cancel_available":"Sind Sie sicher, dass Sie diesen Slot nicht verf\xfcgbar machen m\xf6chten?","btn_no":"NEIN","credit_per_in_session":"Kredit pro Sitzung","career_guidance":"Karriereanleitung","transition_id":"Transaktions -ID","payment_status":"Zahlungsstatus","label_details":"Details","cancellation_policy":"Stornierungsrichtlinie","btn_day":"Tag","btn_week":"Woche","btn_today":"Heute","label_time":"Zeit","label_available":"Verf\xfcgbar","label_booked":"Gebucht","label_blocked":"Blockiert","btn_manage_availability":"Verf\xfcgbarkeit verwalten","btn_manage_schedule":"Zeitplan verwalten","available_slots":"Verf\xfcgbare Slots","booked_slots":"Gebuchte Slots","heading_payment_history":"Zahlungshistorie","label_date_time":"Datum/Uhrzeit","label_payment_id":"Zahlungs -ID","label_booking_id":"Buchungs -ID","label_payment_method":"Zahlungsmethode","placeholder_end_time_for_slot":"Endzeit f\xfcr Slot","placeholder_start_time_for_slot":"Startzeit f\xfcr Slot","header_home":"Heim","header_about_us":"\xdcber uns","header_services":"Dienstleistungen","header_download_app":"App herunterladen","header_become_a_advisor":"Werden Sie Berater","header_login":"Login","footer_faq":"FAQ","contact_us":"Kontaktieren Sie uns","home_hero_heading":"Navigieren Sie mit astrologischer F\xfchrung den Lebensweg des Lebens","home_hero_content":"Willkommen in einer Welt, in der die Sterne Ihre Reise beleuchten! ","btn_get_started":"Fangen an","about_us":"\xdcber uns","home_about_us_heading":"F\xfchrung von den Sternen","home_about_us_content1":"Entdecken Sie einen Raum, in dem himmlische Weisheit den Alltag trifft. ","home_about_us_content2":"Egal, ob Sie Klarheit \xfcber Ihre Zukunft suchen, Ihre St\xe4rken verstehen oder sich auf Ihren wahren Zweck ausrichten, die Weisheit des Kosmos ist hier, um Sie zu f\xfchren. ","tarot_readings":"Tarot -Lesungen","reading_the_future":"Lesen Sie die Zukunft","spiritual_advisor_panel":"Spirituelle Beraterpanel","spiritual_advisor_panel_heading":"Schlie\xdfen Sie sich unserem spirituellen Beraternetzwerk an","spiritual_advisor_panel_content":"Registrieren Sie sich als spiritueller Berater und bringen Sie Ihre Einblicke in diejenigen, die Anleitung suchen. ","btn_join_now":"Mach jetzt mit","your_browser_does_not_support_the_video_tag":"Ihr Browser unterst\xfctzt das Video -Tag nicht.","services":"Dienstleistungen","services_heading":"Erforschen Sie unsere astrologischen Dienste","services_content":"Ihr Leitfaden zur himmlischen Klarheit und zum Zweck","horoscope":"Horoskop","services_horoscope_card_content":"Die Sterne halten den Schl\xfcssel zum Verst\xe4ndnis des Ebbe und des Flusses Ihres Lebens. ","birth_chart_analysis":"Geburtsdiagrammanalyse","services_birth_chart_analysis_card_content":"Die Sterne halten den Schl\xfcssel zum Verst\xe4ndnis des Ebbe und des Flusses Ihres Lebens. ","health_calendar":"Gesundheitskalender","services_health_calendar_card_content":"Die Sterne halten den Schl\xfcssel zum Verst\xe4ndnis des Ebbe und des Flusses Ihres Lebens. ","tarot_card_reading":"Tarotkartenlesen","services_tarot_card_reading_card_content":"Die Sterne halten den Schl\xfcssel zum Verst\xe4ndnis des Ebbe und des Flusses Ihres Lebens. ","biorhythm_analysis":"Biorhythmusanalyse","services_biorhythm_analysis_card_content":"Die Sterne halten den Schl\xfcssel zum Verst\xe4ndnis des Ebbe und des Flusses Ihres Lebens. ","beauty_calendar":"Sch\xf6nheitskalender","services_beauty_calendar_card_content":"Die Sterne halten den Schl\xfcssel zum Verst\xe4ndnis des Ebbe und des Flusses Ihres Lebens. ","marquee_horoscope":"HOROSKOP","marquee_zodiac_sign":"Tierkreiszeichen","marquee_birth_chart":"Geburtsdiagramm","marquee_tarot_card":"Tarotkarte","marquee_consultations":"Konsultationen","marquee_spiritual_advisor":"Spiritueller Berater","how_we_works":"Wie wir arbeiten","how_we_works_heading":"Ihr Weg zur kosmischen F\xfchrung","how_we_works_content":"Entdecken Sie einen Raum, in dem himmlische Weisheit den Alltag trifft.  ","how_we_works_card1_heading":"Erstellen Sie Ihr Konto","how_we_works_card1_content":"Schalten Sie noch heute Ihre personalisierte astrologische Erfahrung frei","how_we_works_card2_heading":"Richten Sie Ihr Profil ein","how_we_works_card2_content":"Passen Sie Ihre Reise mit personalisierten astrologischen Erkenntnissen an","how_we_works_card3_heading":"Erhalten Sie Ihre Vorhersage","how_we_works_card3_content":"Entdecken Sie, was das Universum mit Ihrer personalisierten astrologischen Vorhersage f\xfcr Sie geplant hat","download_app":"App herunterladen","download_app_heading":"Laden Sie unsere App f\xfcr sofortige astrologische Erkenntnisse herunter","download_app_content":"Schalte die Kraft der Sterne an deinen Fingerspitzen frei! ","frequently_asked_questions":"H\xe4ufig gestellte Fragen","our_team":"Unser Team","our_team_content":"Treffen Sie die Vision\xe4re, die unsere Mission vorantreiben, au\xdfergew\xf6hnliche Astrologiedienste zu erbringen.","inquiry":"Anfrage","inquiry_heading":"Sich mit uns in Verbindung setzen","inquiry_content":"Lorem Ipsum Dolor Sit Amet, Zauberer Adipiscing Elit, SED do eiusmod Temporal Incididunt Ut Labore et Dolore Magna Aliqua. ","select_expertise":"Fachwissen ausw\xe4hlen","contact_us_heading":"Sich mit uns in Verbindung setzen","contact_us_content":"Lorem Ipsum Dolor Sit Amet, Zauberer Adipiscing Elit, SED do eiusmod Temporal Incididunt Ut Labore et Dolore Magna Aliqua. ","label_message":"Nachricht","placeholder_message":"Meldung eingeben","err_message_is_required":"Nachricht ist erforderlich","err_email_is_required":"E -Mail -Adresse ist erforderlich","label_customer_feedback":"Kundenfeedback","label_overall_rating":"Gesamtbewertung","label_upcoming_appointments":"Bevorstehende Termine","link_view_all":"Alle anzeigen","label_chat_history":"Chat -Geschichte","btn_cancel_booking":"Buchung abbrechen","btn_mark_completed":"Mark abgeschlossen","label_my_earning":"Mein Verdienst","heading_my_earnings":"Mein Einkommen","err_slot_type_required":"Slottyp ist erforderlich","err_recurring_end_date_required":"!!!>>> The string did not match the expected pattern. <<<!!!","label_chat_credit_rate":"Chat -Kreditrate","label_audio_call_credit_rate":"Audio -Anrufkreditsatz","label_video_call_credit_rate":"Videoanruf -Kreditsatz","placeholder_credit_rate":"Kreditrate eingeben","err_cancellation_reason_required":"Stornierungsgrund ist erforderlich","dashboard_today_schedule":"Der heutige Zeitplan","dashboard_total_sessions":"Gesamtsitzungen","dashboard_total_earnings":"Gesamteinkommen","chat_welcome_what_would_you_like_to_discuss_today?":"Willkommen! ","chat_welcome":"Willkommen","label_cancellation_reason":"Stornierungsgrund","placeholder_cancel_reason":"Stornierungsgrund eingeben","cancellation_reason_is_required":"Stornierungsgrund ist erforderlich.","cancellation_reason_characters_limit_200":"Die Stornierungsgrund m\xfcssen weniger als 200 Zeichen betragen.","cancellation_reason_include_at_least_one_letter":"Die Stornierungsgrund m\xfcssen mindestens einen Brief enthalten.","slot_type":"Slottyp","slot_type_one_time":"Einmalig","slot_type_recurring":"Bei jedem wiederkehrend","select_end_date":"W\xe4hlen Sie Enddatum","total_payout":"Gesamtauszahlung","current_receivable":"Aktueller Forderungen","dashboard_tab_session":"Sitzung","btn_last7_days":"Letzten 7 Tage","btn_last30_days":"Letzte 30 Tage","btn_join":"Verbinden","duration":"Dauer","consultation":"Beratung","label_go_back":"Zur\xfcck","label_go_to_top":"Nach oben","label_notifications":"Benachrichtigungen","general_notification_text":"Benachrichtigung f\xfcr {{notificationType}} anfordern","new_booking_notification_text":"Ihre Sitzung mit {{userName}} wurde f\xfcr den {{date}} best\xe4tigt.","cancel_booking_notification_text":"Ihre Sitzung mit {{userName}} am {{date}} wurde storniert.","session_reminder_notification_text":"Erinnerung: Sie haben eine Sitzung mit {{userName}} am {{date}}.","label_hour":"Stunde","skip_to_main_content":"Zum Hauptinhalt springen","start_audio_meet":"Audio-Meet starten","start_video_meet":"Video-Meet starten","start_chat_meet":"Chat starten","view_past_chat_meet":"Vergangenen Chat anzeigen","session_has_ended":"Ihre Sitzung ist beendet.","booked":"Best\xe4tigt","canceled":"Abgesagt","cancelled":"Abgesagt","completed":"Abgeschlossen","upcoming":"Bevorstehend","video":"Video","audio":"Audio","chat":"Chat","pending":"Ausstehend","refunded":"Erstattet","credits":"Guthaben","label_earnings_from":"Einnahmen von","label_to":"bis","label_total_entries":"Gesamteintr\xe4ge","caption_my_earnings_over_time":"Meine Einnahmen im Zeitverlauf","table_header_date":"Datum","table_header_earnings_euro":"Einnahmen (\u20ac)"}'),KV=JSON.parse('{"sidebar_link_dashboard":"Panel","sidebar_link_psychic":"Asesor espiritual","sidebar_link_users":"Usuarios","sidebar_link_testimonial":"Testimonial","sidebar_link_testimonials":"Testimonios","sidebar_link_contact_us":"Cont\xe1ctenos","sidebar_link_inquiries":"Consultas","link_dashboard":"Panel","link_psychic":"Asesor espiritual","list_heading_profile":"Perfil","list_heading_my_profile":"Mi perfil","list_heading_email":"Correo electr\xf3nico","list_heading_phone_number":"N\xfamero de tel\xe9fono","image_support_tooltip":"Solo JPG, JPEG, PNG, WEBP, archivos GIF con Max Size 1.5 MB","link_add":"Agregar","link_remove":"Eliminar","sidebar_link_cms":"CMS","sidebar_link_subscription":"Suscripci\xf3n","sidebar_link_pages":"P\xe1ginas","sidebar_link_banners":"Pancartas","sidebar_link_email_template":"Plantilla de correo electr\xf3nico","sidebar_link_global_settings":"Configuraci\xf3n global","input_placeholder_search":"Buscar","input_placeholder_date":"Fecha","input_select_option_demo":"Manifestaci\xf3n","input_select_option_premium":"De primera calidad","input_radio_yearly":"Anual","input_radio_monthly":"Mensual","input_select_text":"Seleccionar","btn_reset_filter":"Restablecer filtro","btn_add_new":"Agregar nuevo","list_heading_sno":"Sr. No.","list_heading_name":"Nombre","label_shipping":"Env\xedo","label_representative_name":"Nombre representativo","label_contractor_name":"Nombre del contratista","label_plan_name":"Nombre del plan","label_premium_plan":"Plan premium","label_membership_cost":"Costo de membres\xeda","label_more_info":"M\xe1s informaci\xf3n","list_heading_address":"DIRECCI\xd3N","list_heading_status":"Estado","list_heading_created_date":"Fecha creada","list_heading_modified_date":"Fecha actualizada","list_heading_created_by":"Creado por","list_heading_updated_by":"Actualizado por","list_heading_action":"Comportamiento","list_heading_subject":"Sujeto","btn_active":"Activo","btn_inactive":"Inactivo","btn_view":"Vista","btn_edit":"Editar","btn_delete":"Borrar","msg_no_records":"Sin registros","msg_total_records":"Total de registros","msg_are_you_sure":"Est\xe1 seguro ?","you_not_be_able_to_revert_this":"\xa1No podr\xe1s revertir esto!","heading_add_user":"Agregar usuario","heading_view_user":"Ver usuario","heading_edit_user":"Editar usuario","title_generals":"Generales","title_enrollments":"Inscripciones","title_transactions":"Actas","title_amount":"Cantidad","title_credit":"Cr\xe9dito","label_slug":"Babosa","label_slug_of_page":"Slug de la p\xe1gina","label_logout":"Cierre de sesi\xf3n","label_profile":"Perfil","edit_profile":"Perfil de edici\xf3n","label_profile_picture":"Foto de perfil","label_first_name":"Nombre de pila","label_middle_name":"Segundo nombre","label_last_name":"Apellido","label_name":"Nombre","placeholder_name":"Ingrese el nombre","label_state":"Estado","placeholder_state":"Ingrese el estado","label_city":"Ciudad","placeholder_city":"Entrar en la ciudad","label_country":"Pa\xeds","label_review":"Revisar","label_rating":"Clasificaci\xf3n","label_rating_1_to_10":"Calificaci\xf3n (1 a 10)","label_manager_first_name":"Nombre del gerente","label_manager_middle_name":"Segundo nombre del gerente","label_manager_last_name":"Apellido del gerente","label_restaurant_name":"Nombre del restaurante","label_restaurant_details":"Detalles del restaurante","label_address":"DIRECCI\xd3N","label_email":"Correo electr\xf3nico","label_password":"Contrase\xf1a","placeholder_enter_password":"Ingrese la contrase\xf1a","label_confirm_password":"confirmar Contrase\xf1a","label_logo":"Logo","label_restaurant_images":"Im\xe1genes de restaurante","label_image":"Imagen","label_phone_number":"N\xfamero de tel\xe9fono","label_modified_date":"Fecha modificada","label_description":"Descripci\xf3n","placeholder_description":"Ingrese la descripci\xf3n","label_long_description":"Descripci\xf3n larga","label_japanese":"japon\xe9s","label_contact_no":"No contacta","label_copy_right_text":"Copiar texto correcto","label_username":"Nombre de usuario","label_website":"Sitio web","label_text":"Texto","label_id":"IDENTIFICACI\xd3N","label_company":"Compa\xf1\xeda","label_expiry_date":"Fecha de vencimiento","label_days_remaining_expiry":"Los d\xedas restantes en el vencimiento ","contract_plan_duration_type":"Tipo de duraci\xf3n del plan de contrato","btn_submit":"Entregar","btn_cancel":"Cancelar","btn_back":"Atr\xe1s","btn_save":"Ahorrar","btn_save_exit":"Guardar y salir","btn_yes_delete":"\xa1S\xed, borrarlo!","btn_yes":"S\xed","btn_banner":"Bandera","btn_enroll_restaurant":"Restaurante de inscripci\xf3n","selected":"seleccionado {{selectedCount}} {{record}} de {{totalCount}}","records":"archivos","record":"registro","text_you_want_to_logout":"\xa1Quieres cerrar sesi\xf3n!","msg_logout_successfully":"Cierre sesi\xf3n con \xe9xito","role_super_admin":"Super administrador","role_staff":"Personal","role_unknown":"Desconocido","label_restaurants_name":"Nombre del restaurante","label_company_name":"Nombre de empresa","label_company_address":"Direcci\xf3n de la empresa","label_shipping_address":"Direcci\xf3n de env\xedo","restaurants":"Restaurantes","add_restaurants":"Agregar restaurante","more":"M\xe1s","label_name_error":"Se requiere el nombre","label_restaurants_error":"Se requiere el nombre del restaurante","label_email_error":"Se requiere correo electr\xf3nico","validation_err_invalid_email":"Direcci\xf3n de correo electr\xf3nico no v\xe1lida","label_phone_error":"Se requiere n\xfamero de tel\xe9fono","label_logo_error":"Se requiere el logotipo","label_address_error":"Se requiere ubicaci\xf3n","view_restaurants":"Ver restaurante","edit_restaurants":"Editar restaurante","label_company_name_error":"Se requiere el nombre de la empresa","label_shipping_address_error":"Se requiere la direcci\xf3n de env\xedo","label_representative_name_error":"Se requiere el nombre representativo","label_contractor_name_error":"Se requiere el nombre del contratista","label_plan_name_error":"Se requiere el nombre del plan","label_contract_plan_duration_error":"Se requiere el tipo de plan de contrato","label_expiry_date_error":"Se requiere fecha de vencimiento","label_first_name_error":"Se requiere el primer nombre","label_first_name_format_error":"Solo se permiten alfabetos a primer nombre","label_last_name_error":"Se requiere apellido","placeholder_first_name":"Ingrese el nombre","placeholder_middle_name":"Ingrese el segundo nombre","placeholder_last_name":"Ingrese el apellido","placeholder_email":"Ingrese su correo electr\xf3nico","placeholder_phone_number":"Ingrese el n\xfamero de tel\xe9fono","placeholder_address":"Ingrese la direcci\xf3n","label_email_validation_error":"El correo electr\xf3nico debe ser v\xe1lido","label_image_error":"Se requiere una imagen","label_image_format_error":"Formato de archivo no compatible","label_phone_number_minimum_length":"El n\xfamero de tel\xe9fono no puede ser inferior a 10 d\xedgitos","label_phone_number_maximum_length":"El n\xfamero de tel\xe9fono no puede ser m\xe1s de 14 d\xedgitos","general":"General","change_password":"Cambiar la contrase\xf1a","label_old_password":"Contrase\xf1a anterior","placeholder_old_password":"Ingrese la contrase\xf1a antigua","label_current_password":"Contrase\xf1a actual","label_confirm_new_password":"Confirmar una nueva contrase\xf1a","placeholder_confirm_new_password":"Vuelva a ingresar una nueva contrase\xf1a","label_new_password":"Nueva contrase\xf1a","placeholder_current_password":"Ingrese la contrase\xf1a actual","placeholder_password":"Ingrese su contrase\xf1a","placeholder_confirm_password":"Ingrese Confirmar contrase\xf1a","placeholder_new_password":"Ingrese una nueva contrase\xf1a","validation_password_required":"Se requiere contrase\xf1a","label_current_password_error":"Se requiere una contrase\xf1a actual","label_old_password_error":"Se requiere una contrase\xf1a antigua","label_new_password_error":"Se requiere una nueva contrase\xf1a","label_confirm_password_error":"Confirmar que se requiere contrase\xf1a","password_validation_lowercase":"La contrase\xf1a debe tener al menos 1 letra min\xfascula","Password_Validation_uppercase":"La contrase\xf1a debe tener al menos 1 letra may\xfascula","Password_Validation_special_char":"La contrase\xf1a debe tener al menos 1 car\xe1cter especial","Password_Validation_number":"La contrase\xf1a debe tener al menos 1 n\xfamero","Password_Validation_minimum_length":"La contrase\xf1a debe tener al menos 8 caracteres","Password_Validation_maximum_length":"La contrase\xf1a no puede durar m\xe1s de 20 caracteres","password_validation_does_not_match":"Las contrase\xf1as no coinciden","sidebar_link_user_profile":"Perfil de usuario","view_cms":"Ver CMS","title":"T\xedtulo","menu_location":"Ubicaci\xf3n del men\xfa","footer_location":"Ubicaci\xf3n de pie de p\xe1gina","validation_err_menu_location":"Se requiere la ubicaci\xf3n del men\xfa","validation_err_footer_location":"Se requiere la ubicaci\xf3n del pie de p\xe1gina","meta_tags":"Metaetics","meta_keywords":"Palabras clave meta","label_short_description":"Descripci\xf3n corta","label_short_description_en":"Descripci\xf3n corta (ingl\xe9s)","label_short_description_de":"Descripci\xf3n corta (alem\xe1n)","label_short_description_es":"Descripci\xf3n corta (espa\xf1ol)","label_short_description_hu":"Descripci\xf3n corta (h\xfangara)","label_long_description_en":"Descripci\xf3n larga (ingl\xe9s)","label_long_description_de":"Descripci\xf3n larga (alem\xe1n)","label_long_description_es":"Descripci\xf3n larga (espa\xf1ol)","label_long_description_hu":"Descripci\xf3n larga (h\xfangara)","edit_cms":"Editar CMS","add_cms":"Agregar CMS","login_your_account":"Inicie sesi\xf3n en su cuenta","signin_our_account":"Iniciar sesi\xf3n en su cuenta","loading":"Cargando...","sign_in":"Iniciar sesi\xf3n","remember_me":"Acu\xe9rdate de m\xed","forgot_password":"Has olvidado tu contrase\xf1a","reset_your_password":"Restablecer su contrase\xf1a","btn_reset_password":"Restablecer contrase\xf1a","OTP_will_be_sent_registered_email":"OTP se enviar\xe1 a su correo electr\xf3nico registrado","btn_request_email":"Solicitar correo electr\xf3nico","did_you_remembered_your_password":"\xbfRecordaste tu contrase\xf1a?","label_try_to":"Intentar","link_login":"Acceso","heading_otp_verification":"Verificaci\xf3n OTP","msg_OTP_has_been_sent_to":"OTP ha sido enviado a","btn_verification_Otp":"Verificaci\xf3n OTP","link_resend_otp":"Reiniciar OTP","link_back_to_login":"Volver a iniciar sesi\xf3n","placeholder_enter_OTP":"Ingrese OTP","validation_OTP_is_required":"Se requiere OTP","label_cuisine_type":"Tipo de cocina","placeholder_cuisine_type":"Seleccione el tipo de cocina","label_restaurant_name_error":"Se requiere el nombre del restaurante","label_email_invalid_format_error":"Formato de correo electr\xf3nico no v\xe1lido","label_email_uppercase_error":"El correo electr\xf3nico no debe contener cartas may\xfasculas","label_email_required_error":"Se requiere correo electr\xf3nico","err_expertise_is_required":"Se requiere experiencia","err_experience_is_required":"Se requiere experiencia","err_language_spoken_is_required":"Se requiere el idioma hablado","err_credit_per_session":"Se requiere cr\xe9dito por sesi\xf3n","err_chat_credit_rate":"Se requiere tasa de cr\xe9dito de chat","err_audio_credit_rate":"Se requiere tasa de cr\xe9dito de audio","err_video_credit_rate":"Se requiere tasa de cr\xe9dito de video","err_city_is_required":"Se requiere la ciudad","err_state_is_required":"Se requiere estado","err_country_is_required":"Se requiere pa\xeds","err_pin_code_is_required":"Se requiere c\xf3digo PIN","err_experience_summary_is_required":"Se requiere resumen de la experiencia","err_bio_is_required":"Se requiere bio","err_consolation_fee_is_required":"Se requiere una tarifa de consolaci\xf3n","err_address_is_required":"Se requiere la direcci\xf3n","label_phone_number_digits_error":"El n\xfamero de tel\xe9fono solo debe contener d\xedgitos","label_phone_number_min_length_error":"N\xfamero de tel\xe9fono La longitud m\xednima es {{PHONE_MIN_LENGTH}}","label_phone_number_max_length_error":"N\xfamero de tel\xe9fono La longitud m\xe1xima es {{PHONE_MAX_LENGTH}}","max_length_error_dynamic":"Exceder la longitud m\xe1xima {{MAX_LENGTH}}","max_length_error":"Exceder la longitud m\xe1xima","max_length_error_40":"Exceder la longitud m\xe1xima de {{INPUT_LENGTH_40}}","max_length_error_50":"Exceder la longitud m\xe1xima de {{INPUT_LENGTH_50}}","max_length_error_with_count":"Exceder la longitud m\xe1xima de {{length}}","label_phone_number_required_error":"Se requiere n\xfamero de tel\xe9fono","label_location_error":"Se requiere la direcci\xf3n","label_profile_image_error":"Se requiere el logotipo","label_cuisine_type_error":"Se requiere el tipo de cocina","label_title_error":"Se requiere t\xedtulo","label_slug_error":"Se requiere una babosa","label_short_description_error":"Se requiere una descripci\xf3n corta","label_richtext_error":"Se requiere una descripci\xf3n","label_long_description_error":"Se requiere una descripci\xf3n larga","label_title_japanese":"T\xedtulo (japon\xe9s)","automatic_emails":"Correos electr\xf3nicos autom\xe1ticos","view_automatic_email":"Ver correo electr\xf3nico autom\xe1tico","label_dynamic_options":"Opciones din\xe1micas","edit_automatic_email":"Editar correo electr\xf3nico autom\xe1tico","click_to_copy":"Haga clic para copiar","short_code":"C\xf3digos cortos para agregar detalles personalizados del usuario, como nombre y saludo, haga clic para copiar y luego pegar ","label_subject":"Sujeto","placeholder_subject":"Entrar en el sujeto","label_subject_error":"Se requiere sujeto","monthly_enrollement_cost":"Costo mensual de inscripci\xf3n de restaurantes","yearly_enrollement_cost":"Costo anual de inscripci\xf3n de restaurantes","invalid_email":"Direcci\xf3n de correo electr\xf3nico no v\xe1lida","copyright_error":"Copiar el texto correcto es necesario","website_error":"Se requiere un sitio web","monthly_enrollment_error":"Se requiere un costo mensual de inscripci\xf3n de restaurantes","yearly_enrollment_error":"Se requiere un costo anual de inscripci\xf3n de restaurantes","label_contact_invalid_error":"N\xfamero de tel\xe9fono no v\xe1lido","label_invalid_amount_error":"Cantidad no v\xe1lida","invalid_web_url":"URL de sitio web no v\xe1lida","label_city_error":"Se requiere la ciudad","label_country_error":"Se requiere pa\xeds","label_testimonial_error":"Se requiere texto testimonial","label_company_address_error":"Direcci\xf3n de la empresa IR requerido","msg_validation_password_length":"La longitud m\xednima de la contrase\xf1a debe ser de 8 caracteres","msg_validation_do_not_accept_space":"No aceptes espacio","msg_validation_contain_numeric_character":"Solo car\xe1cter num\xe9rico","msg_validation_otp_length":"La longitud de OTP debe ser de {{OTP_LENGTH}} ","btn_renew":"Renovar","input_value_days":"D\xedas","input_value_day":"D\xeda","label_title_length_error_50":"La longitud del t\xedtulo debe ser menos de 50 personajes","err_max_length_label":"Max permitido la longitud de los caracteres es {{MAX_LENGTH}}","max_length_label":"Max permitido la longitud de los caracteres es 15","max_length_label_30":"Max permitido la longitud de los caracteres es 30","max_length_label_50":"Max permitido la longitud de los caracteres es 50","featured":"presentado","validation_max_input_characters":"No debe exceder {{TEXTAREA_MAX_LENGTH}} personajes","validation_max_input_characters_address":"No debe exceder {{MAX_LENGTH}} personajes","supported_file_error":"Formatos compatibles: JPG, JPEG, PNG, WebP, GIF ","image_max_size_error":"El tama\xf1o del archivo debe ser inferior a 1.5 MB","image_required_error":"Se requiere una imagen de perfil","label_Banner_title":"T\xedtulo de banner","label_Banner_title_ja":"T\xedtulo de banner (japon\xe9s)","label_page_title":"T\xedtulo de p\xe1gina","label_page_title_en":"T\xedtulo de la p\xe1gina (ingl\xe9s)","label_page_title_de":"T\xedtulo de la p\xe1gina (alem\xe1n)","label_page_title_es":"T\xedtulo de la p\xe1gina (espa\xf1ol)","label_page_title_hu":"T\xedtulo de la p\xe1gina (h\xfangaro)","tooltip_page_title":"T\xedtulo de la p\xe1gina: se muestra en el front -end (men\xfas y barra de pesta\xf1a)","label_menu_of_the_page":"Men\xfa de la p\xe1gina","menu_of_page_header":"Encabezamiento","menu_of_page_footer":"Pie de p\xe1gina","menu_of_page_custom":"Costumbre","validation_err_reached_maximum_length":"El l\xedmite m\xe1ximo de caracteres {{INPUT_LENGTH}} ha sido excedido.","validation_err_status_required":"Se requiere estado","label_social_media":"Redes sociales","input_placeholder_title":"T\xedtulo","input_placeholder_link":"Enlace","input_placeholder_icon":"Icono","validation_err_title_required":"Se requiere t\xedtulo","validation_err_link_required":"Se requiere un enlace","validation_err_icon_required":"Se requiere un icono","heading_renew_plan":"Plan de renovaci\xf3n","btn_continue":"Continuar","verify_otp":"Verificar OTP","invalid_otp":"OTP no v\xe1lido","otp_sent_message":"Hemos enviado un c\xf3digo de verificaci\xf3n a su direcci\xf3n de correo electr\xf3nico","otp_not_receive":"\xbfNo recibi\xf3 OTP?","btn_resend":"Revender","otp_error_msg":"Todos los campos son obligatorios. ","paragraph_enter_email_we_will_send_you_OTP":"Ingrese su direcci\xf3n de correo electr\xf3nico y le enviaremos un OTP para restablecer su contrase\xf1a","label_email_address":"Direcci\xf3n de correo electr\xf3nico","placeholder_email_address":"Ingrese la direcci\xf3n de correo electr\xf3nico","link_my_profile":"Mi perfil","link_restaurant_profile":"Perfil de restaurante","label_restaurant_address":"Direcci\xf3n del restaurante","btn_update_profile":"ACTUALIZAR PERFIL","nav_link_home":"Hogar","nav_link_sales":"Ventas","nav_link_menu":"Men\xfa","nav_link_table_management":"Gesti\xf3n de la mesa","nav_link_settings":"Ajustes","link_contract_information":"Informaci\xf3n sobre el contrato","link_mail_notification_settings":"Configuraci\xf3n de notificaci\xf3n de correo","validation_error_rating_min_1":"La calificaci\xf3n debe ser al menos 1","validation_error_rating_max_5":"La calificaci\xf3n debe ser como m\xe1ximo 10","validate_error_rating":"Se requiere calificaci\xf3n","restaurant_id":"ID de restaurante","restaurant_time":"Tiempo de apertura y cierre del restaurante","zip_code":"C\xf3digo postal","credential_setup":"Credenciales establecer/actualizar","cashier_password":"Contrase\xf1a de cajero","fiscal_year":"Configuraci\xf3n del a\xf1o fiscal","starting_month":"Mes inicial","contract_expiry":"Fecha de vencimiento del contrato","plan":"Plan","address":"DIRECCI\xd3N","store_rep_name":"Nombre representativo de la tienda","email_address":"Direcci\xf3n de correo electr\xf3nico","tel_number":"N\xfamero de tel","contractor":"Contratista","mail_notification_setting":"Configuraci\xf3n de notificaciones de correo","label_link":"Enlace","web_banner_add":"Anuncios de banner","web_featured_restaurants":"Restaurantes destacados","web_our_testimonials":"Nuestros testimonios","web_our_testimonials_text":"Escuche lo que nuestros clientes tienen que decir","web_footer_contact":"Con\xe9ctate con nosotros","web_footer_text":"Hay muchas variaciones de pasajes de Lorem Ipsum disponibles, pero la mayor\xeda ha sufrido alteraci\xf3n de alguna forma","web_footer_company":"Compa\xf1\xeda","web_footer_our_story":"Nuestra historia","web_footer_about_us":"Sobre nosotros","web_footer_service_overview":"Descripci\xf3n general del servicio","web_footer_manual_guide":"Gu\xeda manual","web_footer_legal":"Legal","web_footer_privacy_policy":"Pol\xedtica de privacidad","web_footer_support":"Apoyo","web_footer_faq":"Preguntas frecuentes","web_footer_terms_condition":"T\xe9rminos y condiciones","validation_error_profile_img_required":"Se requiere una foto de perfil","web_nav_link_home":"Hogar","web_nav_link_about_us":"Sobre nosotros","web_nav_link_service_overview":"Descripci\xf3n general del servicio","web_nav_link_how_does_it_operate":"\xbfC\xf3mo funciona?","web_nav_link_pricing":"Fijaci\xf3n de precios","web_nav_link_manual_guide":"Gu\xeda manual","web_nav_link_inquire_now":"Pregunte ahora","web_home_heading":"La forma simple, segura y escalable de administrar su negocio","web_home_sub_heading":"Sistema de punto de venta totalmente integrado","web_home_sub_content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua ut","web_about_us_heading":"Compromiso de optimizar sus operaciones comerciales","web_about_us_content1":"Lorem Ipsum es simplemente un texto ficticio de la industria de impresi\xf3n y tipograf\xeda. ","web_about_us_content2":"Lorem Ipsum es simplemente un texto ficticio de la industria de impresi\xf3n y tipograf\xeda. ","web_about_us_link_read_more":"Leer m\xe1s","web_service_overview_section_heading":"Empoderar el \xe9xito de su negocio minorista","web_service_overview_heading":"Empoderar el \xe9xito de su negocio minorista","web_service_overview_content":"Lorem Ipsum es simplemente un texto ficticio de la industria de impresi\xf3n y tipograf\xeda. ","web_service_overview_list1":"Licitaci\xf3n m\xf3vil marcada con marca blanca","web_service_overview_list2":"Sitio web de subastas marcadas en blanco","web_service_overview_list3":"Su marca, no una marca de mercado","web_how_does_it_work_heading":"\xbfC\xf3mo funciona?","web_how_does_it_work_card1_heading":"Entrada de pedido","web_how_does_it_work_card1_content":"Lorem Ipsum es simplemente un texto ficticio de la industria de impresi\xf3n y tipograf\xeda.","web_how_does_it_work_card2_heading":"Transmisi\xf3n de pedido","web_how_does_it_work_card2_content":"Lorem Ipsum es simplemente un texto ficticio de la industria de impresi\xf3n y tipograf\xeda.","web_how_does_it_work_card3_heading":"Entrada de pedido","web_how_does_it_work_card3_content":"Lorem Ipsum es simplemente un texto ficticio de la industria de impresi\xf3n y tipograf\xeda.","web_how_does_it_work_card4_heading":"Entrada de pedido","web_how_does_it_work_card4_content":"Lorem Ipsum es simplemente un texto ficticio de la industria de impresi\xf3n y tipograf\xeda.","web_inquiry_form_heading":"Ponte en contacto con nosotros","web_inquiry_form_label_name":"Nombre","web_inquiry_form_placeholder_name":"Ingrese su nombre","web_inquiry_form_label_restaurant_name":"Nombre del restaurante","web_inquiry_form_placeholder_restaurant_name":"Ingrese el nombre de su restaurante","web_inquiry_form_label_contact_number":"N\xfamero de contacto","web_inquiry_form_placeholder_contact_number":"Ingrese su n\xfamero de contacto","web_inquiry_form_label_email":"Correo electr\xf3nico","web_inquiry_form_placeholder_email":"Ingrese su direcci\xf3n de correo electr\xf3nico","web_inquiry_form_label_address":"DIRECCI\xd3N","web_inquiry_form_placeholder_address":"Ingrese su direcci\xf3n","web_inquiry_form_label_more_info":"M\xe1s informaci\xf3n","web_inquiry_form_placeholder_more_info":"Escriba su mensaje aqu\xed","web_inquiry_form_btn_submit":"Entregar","web_inquiry_form_validation_name_required":"Se requiere el nombre","web_inquiry_form_validation_email_invalid_format":"Formato de correo electr\xf3nico no v\xe1lido","web_inquiry_form_validation_email_not_contain_uppercase":"El correo electr\xf3nico no debe contener cartas may\xfasculas","web_inquiry_form_validation_email_required":"Se requiere correo electr\xf3nico","web_inquiry_form_validation_restaurant_name_required":"Se requiere el nombre del restaurante","web_inquiry_form_validation_contact_no_required":"Se requiere un n\xfamero de contacto","web_inquiry_form_validation_contact_no_contain_digits":"El n\xfamero de contacto solo debe contener d\xedgitos","web_inquiry_form_validation_contact_no_min_length":"N\xfamero de contacto La longitud m\xednima es {{PHONE_NO_LENGTH}}","web_inquiry_form_validation_contact_no_max_length":"N\xfamero de contacto La longitud m\xednima es {{PHONE_NO_LENGTH}}","web_inquiry_form_validation_address_required":"Se requiere la direcci\xf3n","label_login_ID":"ID de inicio de sesi\xf3n","placeholder_login_ID":"Ingrese ID de inicio de sesi\xf3n","sidebar_dashboard":"Panel","sidebar_my_calender":"Mi calendario","sidebar_my_earnings":"Mis ganancias","sidebar_chat":"Charlar","sidebar_my_bookings":"Mis reservas","sidebar_payment_history":"Historial de pago","heading_my_profile":"Mi perfil","label_profile_image":"Imagen de perfil","label_personal_information":"Informaci\xf3n personal","label_email_id":"ID de correo electr\xf3nico","label_professional_information":"Informaci\xf3n profesional","label_bio_introduction":"Bio/introducci\xf3n","label_experience_summary":"Resumen de experiencia","placeholder_bio_introduction":"Ingrese bio/introducci\xf3n","placeholder_experience_summary":"Ingrese el resumen de la experiencia","label_expertise_area":"\xc1rea de experiencia","label_expertise":"Pericia","label_language_spoken":"Idiomas hablados","label_experience":"Experiencia","placeholder_enter_experience":"Ingrese la experiencia","label_year":"A\xf1o","label_credit_per_session":"Cr\xe9dito por sesi\xf3n","label_mode_of_consultation":"Modo de consulta","placeholder_credit_per_session":"Ingrese el cr\xe9dito por sesi\xf3n","label_pin_code":"C\xf3digo PIN","placeholder_pin_code":"Ingrese el c\xf3digo PIN","label_address_location":"Direcci\xf3n/ubicaci\xf3n","placeholder_address_location":"Direcci\xf3n/ubicaci\xf3n","label_credit_charge_per_session":"Cargo por cr\xe9dito por sesi\xf3n","label_consolation_fee_per_session":"Tarifa de consolaci\xf3n por sesi\xf3n","placeholder_amount":"Ingresar la cantidad","btn_update":"Actualizar","link_forget_password":"Olv\xeddate de la contrase\xf1a","max_bio_length":"Exceder la longitud m\xe1xima de biograf\xeda de {{TEXTAREA_MAX_LENGTH_200}}","max_experience_summary_length":"Exceder la duraci\xf3n de resumen de la experiencia m\xe1xima de {{TEXTAREA_MAX_LENGTH_200}}","err_pin_code_invalid":"C\xf3digo PIN no v\xe1lido","err_credit_per_session_invalid":"Cr\xe9dito no v\xe1lido por sesi\xf3n","err_experience_invalid":"Experiencia no v\xe1lida","err_consolation_fee_invalid":"Tarifa de consolaci\xf3n no v\xe1lida","err_exceed_max_length":"Longitud m\xe1xima excedida de {{max_length}}","valid_first_name_error":"Nombre no v\xe1lido","valid_last_name_error":"Nombre no v\xe1lido","valid_format_error":"Valor de entrada no v\xe1lido","error_html_tag":"Contener etiquetas html","err_min_limit":"La entrada est\xe1 por debajo del l\xedmite m\xednimo","err_max_limit":"L\xedmite m\xe1ximo superado","page_not_exist_text":"Oops. La p\xe1gina que est\xe1 buscando no sale.","mistyped_address_text":"Es posible que haya mordido la direcci\xf3n o la p\xe1gina puede haber movido. ","btn_back_to_home":"Volver a casa","label_location_of_the_footer":"Ubicaci\xf3n del pie de p\xe1gina","main_location_of_page_footer":"Principal","base_location_of_page_footer":"Base","web_record_not_found_heading":"Registro no encontrado","no_record_found_text":"Registro no encontrado","validation_err_invalid_slug":"Babosa inv\xe1lida","faq":{"heading_faq":"Preguntas frecuentes","link_dashboard":"Panel","link_faq":"Preguntas frecuentes","link_add":"Agregar","add_faq":"Agregar preguntas frecuentes","faq_title_placeholder":"Ingrese su t\xedtulo de preguntas frecuentes","label_description":"Descripci\xf3n","label_description_en":"Descripci\xf3n (ingl\xe9s)","label_description_de":"Descripci\xf3n (alem\xe1n)","label_description_es":"Descripci\xf3n (espa\xf1ol)","label_description_hu":"Descripci\xf3n (h\xfangaro)","description_placeholder":"Ingrese la descripci\xf3n","label_title_error":"Se requiere t\xedtulo","label_description_error":"Se requiere una descripci\xf3n","validation_err_reached_maximum_length":"Se ha excedido el l\xedmite m\xe1ximo de caracteres (500).","heading_cms_faq":"Preguntas frecuentes","list_heading_sno":"Sr. No.","list_heading_title":"T\xedtulo","list_heading_title_en":"T\xedtulo (ingl\xe9s)","list_heading_title_de":"T\xedtulo (alem\xe1n)","list_heading_title_es":"T\xedtulo (espa\xf1ol)","list_heading_title_hu":"T\xedtulo (h\xfangaro)","label_status":"Estado","heading_view":"Ver preguntas frecuentes","edit_faq":"Editar Preguntas frecuentes","link_view":"Vista","link_edit":"Editar"},"contact-us":{"link_dashboard":"Panel","link_contact_us":"Cont\xe1ctenos","list_heading_sno":"Sr. No.","list_heading_name":"Nombre","label_email":"Correo electr\xf3nico","label_phone_number":"N\xfamero de tel\xe9fono","label_contact_us_date":"Fecha de contacto","label_note":"Nota","label_name":"Nombre","label_address":"DIRECCI\xd3N","view_contact_us":"Ver cont\xe1ctenos"},"booking_id":"ID de reserva","booking_status":"Estado de reserva","client_name":"Nombre del cliente","client_name_id":"Nombre del cliente/ID","date_and_time":"Fecha y hora","label_amount":"Cantidad","label_credit":"Cr\xe9dito","label_purpose":"Objetivo","are_sure_cancel_booking":"\xbfEst\xe1s seguro de que quieres cancelar esta reserva?","are_sure_cancel_available":"\xbfEst\xe1s seguro de que quieres que esta ranura no est\xe9 disponible?","btn_no":"No","credit_per_in_session":"Cr\xe9dito por sesi\xf3n","career_guidance":"Orientaci\xf3n profesional","transition_id":"ID de transacci\xf3n","payment_status":"Estado de pago","label_details":"Detalles","cancellation_policy":"Pol\xedtica de cancelaci\xf3n","btn_day":"D\xeda","btn_week":"Semana","btn_today":"Hoy","label_time":"Tiempo","label_available":"Disponible","label_booked":"Reservado","label_blocked":"Obstruido","btn_manage_availability":"Gestionar la disponibilidad","btn_manage_schedule":"Administrar horario","available_slots":"Ranuras disponibles","booked_slots":"Tragamonedas reservadas","heading_payment_history":"Historial de pago","label_date_time":"Fecha/hora","label_payment_id":"ID de pago","label_booking_id":"ID de reserva","label_payment_method":"M\xe9todo de pago","placeholder_end_time_for_slot":"Tiempo de finalizaci\xf3n para la ranura","placeholder_start_time_for_slot":"Hora de inicio para la ranura","header_home":"Hogar","header_about_us":"Sobre nosotros","header_services":"Servicios","header_download_app":"Descargar la aplicaci\xf3n","header_become_a_advisor":"Convertirse en asesor","header_login":"Acceso","footer_faq":"Preguntas frecuentes","contact_us":"Cont\xe1ctenos","home_hero_heading":"Navegue por el camino de la vida con la gu\xeda astrol\xf3gica","home_hero_content":"\xa1Bienvenido a un mundo donde las estrellas iluminan tu viaje! ","btn_get_started":"Empezar","about_us":"Sobre nosotros","home_about_us_heading":"Guiado por las estrellas","home_about_us_content1":"Descubra un espacio donde la sabidur\xeda celestial se encuentra con la vida cotidiana. ","home_about_us_content2":"Ya sea que est\xe9 buscando claridad sobre su futuro, comprender sus fortalezas o alinearse con su verdadero prop\xf3sito, la sabidur\xeda del cosmos est\xe1 aqu\xed para guiarlo. ","tarot_readings":"Lecturas del tarot","reading_the_future":"Leyendo el futuro","spiritual_advisor_panel":"Panel de asesor espiritual","spiritual_advisor_panel_heading":"\xdanete a nuestra red de asesores espirituales","spiritual_advisor_panel_content":"Reg\xedstrese como asesor espiritual y traiga sus ideas a aquellos que buscan orientaci\xf3n. ","btn_join_now":"\xdanete ahora","your_browser_does_not_support_the_video_tag":"Su navegador no admite la etiqueta de video.","services":"Servicios","services_heading":"Explore nuestros servicios astrol\xf3gicos","services_content":"Su gu\xeda para la claridad y el prop\xf3sito celestial","horoscope":"Hor\xf3scopo","services_horoscope_card_content":"Las estrellas tienen la clave para comprender el flujo y el flujo de su vida. ","birth_chart_analysis":"An\xe1lisis de la tabla de nacimiento","services_birth_chart_analysis_card_content":"Las estrellas tienen la clave para comprender el flujo y el flujo de su vida. ","health_calendar":"Calendario de salud","services_health_calendar_card_content":"Las estrellas tienen la clave para comprender el flujo y el flujo de su vida. ","tarot_card_reading":"Lectura de cartas del tarot","services_tarot_card_reading_card_content":"Las estrellas tienen la clave para comprender el flujo y el flujo de su vida. ","biorhythm_analysis":"An\xe1lisis de biorr\xedtes","services_biorhythm_analysis_card_content":"Las estrellas tienen la clave para comprender el flujo y el flujo de su vida. ","beauty_calendar":"Calendario de belleza","services_beauty_calendar_card_content":"Las estrellas tienen la clave para comprender el flujo y el flujo de su vida. ","marquee_horoscope":"HOR\xd3SCOPO","marquee_zodiac_sign":"Signo del zodiaco","marquee_birth_chart":"Gr\xe1fico de natalidad","marquee_tarot_card":"Carta del tarot","marquee_consultations":"Consultas","marquee_spiritual_advisor":"Asesor espiritual","how_we_works":"C\xf3mo trabajamos","how_we_works_heading":"Su camino hacia la gu\xeda c\xf3smica","how_we_works_content":"Descubra un espacio donde la sabidur\xeda celestial se encuentra con la vida cotidiana.  ","how_we_works_card1_heading":"Crea tu cuenta","how_we_works_card1_content":"Desbloquee su experiencia astrol\xf3gica personalizada hoy","how_we_works_card2_heading":"Configura tu perfil","how_we_works_card2_content":"Personaliza tu viaje con ideas astrol\xf3gicas personalizadas","how_we_works_card3_heading":"Recibe tu predicci\xf3n","how_we_works_card3_content":"Descubra lo que el universo ha planeado para usted con su predicci\xf3n astrol\xf3gica personalizada","download_app":"Descargar la aplicaci\xf3n","download_app_heading":"Descargue nuestra aplicaci\xf3n para obtener informaci\xf3n astrol\xf3gica instant\xe1nea","download_app_content":"\xa1Desbloquea el poder de las estrellas a tu alcance! ","frequently_asked_questions":"Preguntas frecuentes","our_team":"Nuestro equipo","our_team_content":"Conozca a los visionarios que impulsan nuestra misi\xf3n para brindar servicios de astrolog\xeda excepcionales.","inquiry":"Consulta","inquiry_heading":"Ponte en contacto con nosotros","inquiry_content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ","select_expertise":"Seleccionar experiencia","contact_us_heading":"Ponte en contacto con nosotros","contact_us_content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. ","label_message":"Mensaje","placeholder_message":"Ingrese el mensaje","err_message_is_required":"Se requiere mensaje","err_email_is_required":"Se requiere la direcci\xf3n de correo electr\xf3nico","label_customer_feedback":"Comentarios de los clientes","label_overall_rating":"Calificaci\xf3n general","label_upcoming_appointments":"Pr\xf3ximas citas","link_view_all":"Ver todo","label_chat_history":"Historia de chat","btn_cancel_booking":"Cancelar la reserva","btn_mark_completed":"Marcado completado","label_my_earning":"Mis ganancias","heading_my_earnings":"Mis ganancias","err_slot_type_required":"Se requiere el tipo de ranura","err_recurring_end_date_required":"Se requiere fecha de finalizaci\xf3n recurrente","label_chat_credit_rate":"Tasa de cr\xe9dito de chat","label_audio_call_credit_rate":"Tasa de cr\xe9dito de llamadas de audio","label_video_call_credit_rate":"Tasa de cr\xe9dito de videollamada","placeholder_credit_rate":"Ingrese la tasa de cr\xe9dito","err_cancellation_reason_required":"Se requiere raz\xf3n de cancelaci\xf3n","dashboard_today_schedule":"Horario de hoy","dashboard_total_sessions":"Sesiones totales","dashboard_total_earnings":"Ganancias totales","chat_welcome_what_would_you_like_to_discuss_today?":"\xa1Bienvenido! ","chat_welcome":"Bienvenido","label_cancellation_reason":"Raz\xf3n de cancelaci\xf3n","placeholder_cancel_reason":"Ingrese la raz\xf3n de cancelaci\xf3n","cancellation_reason_is_required":"Se requiere raz\xf3n de cancelaci\xf3n.","cancellation_reason_characters_limit_200":"La raz\xf3n de cancelaci\xf3n debe ser menos de 200 caracteres.","cancellation_reason_include_at_least_one_letter":"La raz\xf3n de cancelaci\xf3n debe incluir al menos una carta.","slot_type":"Tipo de ranura","slot_type_one_time":"\xdanico","slot_type_recurring":"Recurriendo en cada","select_end_date":"Seleccionar fecha de finalizaci\xf3n","total_payout":"Pago total","current_receivable":"Cuenta por cobrar actual","dashboard_tab_session":"Sesi\xf3n","btn_last7_days":"\xdaltimos 7 d\xedas","btn_last30_days":"\xdaltimos 30 d\xedas","btn_join":"Unirse","duration":"Duraci\xf3n","consultation":"Consulta","label_go_back":"Zur\xfcck","label_go_to_top":"Nach oben","label_notifications":"Benachrichtigungen","general_notification_text":"Benachrichtigung f\xfcr {{notificationType}} anfordern","new_booking_notification_text":"Ihre Sitzung mit {{userName}} wurde f\xfcr den {{date}} best\xe4tigt.","cancel_booking_notification_text":"Ihre Sitzung mit {{userName}} am {{date}} wurde storniert.","session_reminder_notification_text":"Erinnerung: Sie haben eine Sitzung mit {{userName}} am {{date}}.","label_hour":"Hora","skip_to_main_content":"Ir al contenido principal","start_audio_meet":"Iniciar reuni\xf3n de audio","start_video_meet":"Iniciar reuni\xf3n de video","start_chat_meet":"Iniciar chat","view_past_chat_meet":"Ver chats anteriores","session_has_ended":"Tu sesi\xf3n ha finalizado","booked":"Confirmada","canceled":"Cancelada","cancelled":"Cancelada","completed":"Completada","upcoming":"Pr\xf3ximamente","video":"V\xeddeo","audio":"Audio","chat":"Chat","pending":"Pendiente","refunded":"Reembolsado","credits":"Cr\xe9ditos","label_earnings_from":"Ganancias desde","label_to":"hasta","label_total_entries":"Entradas totales","caption_my_earnings_over_time":"Mis ganancias a lo largo del tiempo","table_header_date":"Fecha","table_header_earnings_euro":"Ganancias (\u20ac)"}'),JV=JSON.parse('{"sidebar_link_dashboard":"M\u0171szerfal","sidebar_link_psychic":"Lelki tan\xe1csad\xf3","sidebar_link_users":"Felhaszn\xe1l\xf3k","sidebar_link_testimonial":"Aj\xe1nl\xf3lev\xe9l","sidebar_link_testimonials":"Aj\xe1nl\xe1sok","sidebar_link_contact_us":"Vegye fel vel\xfcnk a kapcsolatot","sidebar_link_inquiries":"\xc9rdekl\u0151d\xe9s","link_dashboard":"M\u0171szerfal","link_psychic":"Szellemi tan\xe1csad\xf3","list_heading_profile":"Profil","list_heading_my_profile":"A profilom","list_heading_email":"Email","list_heading_phone_number":"Telefonsz\xe1m","image_support_tooltip":"Csak JPG, JPEG, PNG, WebP, GIF f\xe1jlok maxim\xe1lis m\xe9rete 1,5 MB","link_add":"Hozz\xe1ad","link_remove":"Elt\xe1vol\xedt\xe1s","sidebar_link_cms":"CMS","sidebar_link_subscription":"El\u0151fizet\xe9s","sidebar_link_pages":"Oldalak","sidebar_link_banners":"Z\xe1szl\xf3k","sidebar_link_email_template":"E -mail sablon","sidebar_link_global_settings":"Glob\xe1lis be\xe1ll\xedt\xe1sok","input_placeholder_search":"Keres\xe9s","input_placeholder_date":"D\xe1tum","input_select_option_demo":"Dem\xf3","input_select_option_premium":"Pr\xe9mium","input_radio_yearly":"\xc9vi","input_radio_monthly":"Havi","input_select_text":"V\xe1lasszon","btn_reset_filter":"Alaphelyzetbe \xe1ll\xedt\xf3 sz\u0171r\u0151","btn_add_new":"Add \xfajdons\xe1g","list_heading_sno":"Sr. Nem.","list_heading_name":"N\xe9v","label_shipping":"Sz\xe1ll\xedt\xe1s","label_representative_name":"Reprezentat\xedv n\xe9v","label_contractor_name":"V\xe1llalkoz\xf3 neve","label_plan_name":"Tervn\xe9v","label_premium_plan":"Pr\xe9mium terv","label_membership_cost":"Tags\xe1gi k\xf6lts\xe9g","label_more_info":"Tov\xe1bbi inform\xe1ci\xf3","list_heading_address":"C\xedm","list_heading_status":"\xc1llapot","list_heading_created_date":"L\xe9trehozott d\xe1tum","list_heading_modified_date":"Friss\xedtett d\xe1tum","list_heading_created_by":"L\xe9trehozta","list_heading_updated_by":"Friss\xedtve","list_heading_action":"Cselekedetek","list_heading_subject":"T\xe9ma","btn_active":"Akt\xedv","btn_inactive":"T\xe9tlen","btn_view":"Kil\xe1t\xe1s","btn_edit":"Szerkeszt","btn_delete":"T\xf6r\xf6l","msg_no_records":"Nincs rekord","msg_total_records":"\xd6sszesen nyilv\xe1ntart\xe1s","msg_are_you_sure":"Biztos vagy benne?","you_not_be_able_to_revert_this":"Nem fogja tudni vissza\xe1ll\xedtani ezt!","heading_add_user":"Adja meg a felhaszn\xe1l\xf3t","heading_view_user":"A felhaszn\xe1l\xf3 megtekint\xe9se","heading_edit_user":"Felhaszn\xe1l\xf3 szerkeszt\xe9se","title_generals":"T\xe1bornokok","title_enrollments":"Beiratkoz\xe1s","title_transactions":"Tranzakci\xf3k","title_amount":"\xd6sszeg","title_credit":"Hitel","label_slug":"Meztelen csiga","label_slug_of_page":"Az oldal meztelen csig\xe1ja","label_logout":"Kil\xe1t\xe1s","label_profile":"Profil","edit_profile":"Profil szerkeszt\xe9se","label_profile_picture":"Profilk\xe9p","label_first_name":"Keresztn\xe9v","label_middle_name":"K\xf6z\xe9ps\u0151 n\xe9v","label_last_name":"Vezet\xe9kn\xe9v","label_name":"N\xe9v","placeholder_name":"\xcdrja be a nev\xe9t","label_state":"\xc1llami","placeholder_state":"L\xe9pjen be az \xe1llamba","label_city":"V\xe1ros","placeholder_city":"L\xe9pjen be a v\xe1rosba","label_country":"Orsz\xe1g","label_review":"\xc1ttekint\xe9s","label_rating":"\xc9rt\xe9kel\xe9s","label_rating_1_to_10":"Besorol\xe1s (1-10)","label_manager_first_name":"Menedzser keresztn\xe9v","label_manager_middle_name":"Menedzser k\xf6z\xe9ps\u0151 neve","label_manager_last_name":"Menedzser vezet\xe9kn\xe9v","label_restaurant_name":"\xc9tterem neve","label_restaurant_details":"\xc9tterem r\xe9szletei","label_address":"C\xedm","label_email":"Email","label_password":"Jelsz\xf3","placeholder_enter_password":"\xcdrja be a jelsz\xf3t","label_confirm_password":"Er\u0151s\xedtse meg a jelsz\xf3t","label_logo":"Log\xf3","label_restaurant_images":"\xc9ttermi k\xe9pek","label_image":"K\xe9p","label_phone_number":"Telefonsz\xe1m","label_modified_date":"M\xf3dos\xedtott d\xe1tum","label_description":"Le\xedr\xe1s","placeholder_description":"\xcdrja be a le\xedr\xe1st","label_long_description":"Hossz\xfa le\xedr\xe1s","label_japanese":"jap\xe1n","label_contact_no":"Kapcsolatba l\xe9p","label_copy_right_text":"M\xe1solja a megfelel\u0151 sz\xf6veget","label_username":"Felhaszn\xe1l\xf3n\xe9v","label_website":"Weboldal","label_text":"Sz\xf6veg","label_id":"Szem\xe9lyazonoss\xe1g","label_company":"V\xe1llalat","label_expiry_date":"Lej\xe1rati d\xe1tum","label_days_remaining_expiry":"A lej\xe1ratban maradt napok ","contract_plan_duration_type":"Szerz\u0151d\xe9ses terv id\u0151tartam t\xedpusa","btn_submit":"Beny\xfajt","btn_cancel":"T\xf6r\xf6l","btn_back":"Vissza","btn_save":"Megtakar\xedt\xe1s","btn_save_exit":"Ment\xe9s \xe9s kil\xe9p\xe9s","btn_yes_delete":"Igen, t\xf6r\xf6lje!","btn_yes":"Igen","btn_banner":"Transzparens","btn_enroll_restaurant":"Beiratkozni az \xe9tteremre","selected":"kiv\xe1lasztott {{selectedCount}} {{record}} -y -az {{totalCount}}","records":"nyilv\xe1ntart\xe1s","record":"rekord","text_you_want_to_logout":"Jelentkezni akarsz!","msg_logout_successfully":"Jelentkezzen sikeresen","role_super_admin":"Szuper adminisztr\xe1tor","role_staff":"Szem\xe9lyzet","role_unknown":"Ismeretlen","label_restaurants_name":"\xc9tterem neve","label_company_name":"T\xe1rsas\xe1g neve","label_company_address":"T\xe1rsas\xe1gc\xedm","label_shipping_address":"Sz\xe1ll\xedt\xe1si c\xedm","restaurants":"\xc9ttermek","add_restaurants":"Adjon hozz\xe1 \xe9ttermet","more":"T\xf6bb","label_name_error":"N\xe9v sz\xfcks\xe9ges","label_restaurants_error":"Az \xe9tterem neve sz\xfcks\xe9ges","label_email_error":"E -mailre van sz\xfcks\xe9g","validation_err_invalid_email":"\xc9rv\xe9nytelen e -mail c\xedm","label_phone_error":"Telefonsz\xe1mra van sz\xfcks\xe9g","label_logo_error":"Log\xf3ra van sz\xfcks\xe9g","label_address_error":"Helyre van sz\xfcks\xe9g","view_restaurants":"View \xe9tterem","edit_restaurants":"Szerkeszt\xe9si \xe9tterem","label_company_name_error":"A v\xe1llalati neve sz\xfcks\xe9ges","label_shipping_address_error":"Sz\xe1ll\xedt\xe1si c\xedm sz\xfcks\xe9ges","label_representative_name_error":"A reprezentat\xedv n\xe9v sz\xfcks\xe9ges","label_contractor_name_error":"A v\xe1llalkoz\xf3 neve sz\xfcks\xe9ges","label_plan_name_error":"A terv neve sz\xfcks\xe9ges","label_contract_plan_duration_error":"Sz\xfcks\xe9g van a szerz\u0151d\xe9ses terv t\xedpus\xe1ra","label_expiry_date_error":"Lej\xe1rati d\xe1tum sz\xfcks\xe9ges","label_first_name_error":"Keresztn\xe9v sz\xfcks\xe9ges","label_first_name_format_error":"Csak az \xe1b\xe9c\xe9 megengedett a keresztn\xe9vben","label_last_name_error":"Vezet\xe9kn\xe9vre van sz\xfcks\xe9g","placeholder_first_name":"\xcdrja be a keresztnevet","placeholder_middle_name":"\xcdrja be a k\xf6z\xe9ps\u0151 nevet","placeholder_last_name":"\xcdrja be a vezet\xe9knevet","placeholder_email":"\xcdrja be e -mailj\xe9t","placeholder_phone_number":"\xcdrja be a telefonsz\xe1mot","placeholder_address":"\xcdrja be a c\xedmet","label_email_validation_error":"Az e -mailnek \xe9rv\xe9nyesnek kell lennie","label_image_error":"K\xe9pre van sz\xfcks\xe9g","label_image_format_error":"nem t\xe1mogatott f\xe1jlform\xe1tum","label_phone_number_minimum_length":"A telefonsz\xe1m nem lehet kevesebb, mint 10 sz\xe1mjegy","label_phone_number_maximum_length":"A telefonsz\xe1m nem lehet t\xf6bb, mint 14 sz\xe1mjegy","general":"\xc1ltal\xe1nos","change_password":"Jelsz\xf3 m\xf3dos\xedt\xe1sa","label_old_password":"R\xe9gi jelsz\xf3","placeholder_old_password":"\xcdrja be a r\xe9gi jelsz\xf3t","label_current_password":"Jelenlegi jelsz\xf3","label_confirm_new_password":"Er\u0151s\xedtse meg az \xfaj jelsz\xf3t","placeholder_confirm_new_password":"\xcdrja be \xfajra az \xfaj jelsz\xf3t","label_new_password":"\xdaj jelsz\xf3","placeholder_current_password":"\xcdrja be az aktu\xe1lis jelsz\xf3t","placeholder_password":"\xcdrja be a jelszav\xe1t","placeholder_confirm_password":"\xcdrja be a jelsz\xf3 meger\u0151s\xedt\xe9s\xe9t","placeholder_new_password":"\xcdrjon be \xfaj jelsz\xf3t","validation_password_required":"Jelsz\xf3 sz\xfcks\xe9ges","label_current_password_error":"Jelenlegi jelsz\xf3 sz\xfcks\xe9ges","label_old_password_error":"R\xe9gi jelsz\xf3 sz\xfcks\xe9ges","label_new_password_error":"\xdaj jelsz\xf3 sz\xfcks\xe9ges","label_confirm_password_error":"Meger\u0151s\xedtse a jelsz\xf3t","password_validation_lowercase":"A jelsz\xf3nak legal\xe1bb 1 kisbet\u0171vel kell rendelkeznie","Password_Validation_uppercase":"A jelsz\xf3nak legal\xe1bb 1 nagybet\u0171vel kell rendelkeznie","Password_Validation_special_char":"A jelsz\xf3nak legal\xe1bb 1 speci\xe1lis karakterrel kell rendelkeznie","Password_Validation_number":"A jelsz\xf3nak legal\xe1bb 1 sz\xe1mmal kell rendelkeznie","Password_Validation_minimum_length":"A jelsz\xf3nak legal\xe1bb 8 karakter hossz\xfanak kell lennie","Password_Validation_maximum_length":"A jelsz\xf3 nem lehet t\xf6bb, mint 20 karakter hossz\xfa","password_validation_does_not_match":"A jelszavak nem egyeznek meg","sidebar_link_user_profile":"Felhaszn\xe1l\xf3i profil","view_cms":"A CMS megtekint\xe9se","title":"C\xedm","menu_location":"Men\xfchely","footer_location":"L\xe1bl\xe9c helye","validation_err_menu_location":"A men\xfc hely\xe9re van sz\xfcks\xe9g","validation_err_footer_location":"L\xe1bl\xe9c hely\xe9re van sz\xfcks\xe9g","meta_tags":"Metac\xedmk\xe9k","meta_keywords":"Meta kulcsszavak","label_short_description":"R\xf6vid le\xedr\xe1s","label_short_description_en":"R\xf6vid le\xedr\xe1s (angol)","label_short_description_de":"R\xf6vid le\xedr\xe1s (n\xe9met)","label_short_description_es":"R\xf6vid le\xedr\xe1s (spanyol)","label_short_description_hu":"R\xf6vid le\xedr\xe1s (magyar)","label_long_description_en":"Hossz\xfa le\xedr\xe1s (angol)","label_long_description_de":"Hossz\xfa le\xedr\xe1s (n\xe9met)","label_long_description_es":"Hossz\xfa le\xedr\xe1s (spanyol)","label_long_description_hu":"Hossz\xfa le\xedr\xe1s (magyar)","edit_cms":"A CMS szerkeszt\xe9se","add_cms":"Adja hozz\xe1 a CMS -t","login_your_account":"Jelentkezzen be a fi\xf3kj\xe1ba","signin_our_account":"Jelentkezzen be a fi\xf3kj\xe1ba","loading":"Terhel\xe9s...","sign_in":"Bejelentkezik","remember_me":"Eml\xe9kezz r\xe1m","forgot_password":"Elfelejtette a jelsz\xf3t","reset_your_password":"\xc1ll\xedtsa vissza a jelszav\xe1t","btn_reset_password":"A jelsz\xf3 vissza\xe1ll\xedt\xe1sa","OTP_will_be_sent_registered_email":"Az OTP -t elk\xfcldj\xfck a regisztr\xe1lt e -mailre","btn_request_email":"K\xe9rjen e -mailt","did_you_remembered_your_password":"Eml\xe9kezett -e a jelszav\xe1ra","label_try_to":"Megpr\xf3b\xe1l","link_login":"Bejelentkez\xe9s","heading_otp_verification":"OTP ellen\u0151rz\xe9s","msg_OTP_has_been_sent_to":"!!!>>> Unexpected token \'<\', \\"<html lang\\"... is not valid JSON <<<!!!","btn_verification_Otp":"Ellen\u0151rz\xe9s OTP","link_resend_otp":"Helyezze vissza az OTP -t","link_back_to_login":"Vissza a bejelentkez\xe9shez","placeholder_enter_OTP":"\xcdrja be az OTP -t","validation_OTP_is_required":"OTP sz\xfcks\xe9ges","label_cuisine_type":"Konyha t\xedpus","placeholder_cuisine_type":"V\xe1lassza a Konyh\xe1t t\xedpust","label_restaurant_name_error":"Az \xe9tterem neve sz\xfcks\xe9ges","label_email_invalid_format_error":"\xc9rv\xe9nytelen e -mail form\xe1tum","label_email_uppercase_error":"Az e -mail nem tartalmazhat nagybet\u0171ket","label_email_required_error":"E -mailre van sz\xfcks\xe9g","err_expertise_is_required":"Szak\xe9rtelemre van sz\xfcks\xe9g","err_experience_is_required":"Tapasztalat sz\xfcks\xe9ges","err_language_spoken_is_required":"Sz\xfcks\xe9g van a nyelv besz\xe9lt nyelvre","err_credit_per_session":"A munkamenetenk\xe9nti hitel sz\xfcks\xe9ges","err_chat_credit_rate":"Cseveg\xe9si hitelkamat sz\xfcks\xe9ges","err_audio_credit_rate":"Audio hitelkamatl\xe1b sz\xfcks\xe9ges","err_video_credit_rate":"Video -hitelkamat sz\xfcks\xe9ges","err_city_is_required":"V\xe1rosra van sz\xfcks\xe9g","err_state_is_required":"\xc1llapotra van sz\xfcks\xe9g","err_country_is_required":"Orsz\xe1g sz\xfcks\xe9ges","err_pin_code_is_required":"PIN -k\xf3d sz\xfcks\xe9ges","err_experience_summary_is_required":"Tapasztalati \xf6sszefoglal\xf3 sz\xfcks\xe9ges","err_bio_is_required":"Bio sz\xfcks\xe9ges","err_consolation_fee_is_required":"Vigasztal\xe1si d\xedj sz\xfcks\xe9ges","err_address_is_required":"C\xedm sz\xfcks\xe9ges","label_phone_number_digits_error":"A telefonsz\xe1mnak csak sz\xe1mjegyeket kell tartalmaznia","label_phone_number_min_length_error":"A telefonsz\xe1m minim\xe1lis hossza az {{PHONE_MIN_LENGTH}}","label_phone_number_max_length_error":"A telefonsz\xe1m maxim\xe1lis hossza {{PHONE_MAX_LENGTH}}","max_length_error_dynamic":"Meghaladja a maxim\xe1lis hossz\xfas\xe1got {{MAX_LENGTH}}","max_length_error":"Meghaladja a maxim\xe1lis hossz\xfas\xe1got","max_length_error_40":"Meghaladja a maxim\xe1lis hossz\xe1t {{INPUT_LENGTH_40}}","max_length_error_50":"Meghaladja a maxim\xe1lis hossz\xe1t {{INPUT_LENGTH_50}}","max_length_error_with_count":"Meghaladja a maxim\xe1lis hossz\xe1t {{length}}","label_phone_number_required_error":"Telefonsz\xe1mra van sz\xfcks\xe9g","label_location_error":"C\xedm sz\xfcks\xe9ges","label_profile_image_error":"Log\xf3ra van sz\xfcks\xe9g","label_cuisine_type_error":"A konyha t\xedpus\xe1ra van sz\xfcks\xe9g","label_title_error":"C\xedmre van sz\xfcks\xe9g","label_slug_error":"Slug sz\xfcks\xe9ges","label_short_description_error":"R\xf6vid le\xedr\xe1s sz\xfcks\xe9ges","label_richtext_error":"Le\xedr\xe1s sz\xfcks\xe9ges","label_long_description_error":"Hossz\xfa le\xedr\xe1s sz\xfcks\xe9ges","label_title_japanese":"C\xedm (jap\xe1n)","automatic_emails":"Automatikus e -mailek","view_automatic_email":"Az automatikus e -mail megtekint\xe9se","label_dynamic_options":"Dinamikus lehet\u0151s\xe9gek","edit_automatic_email":"Automatikus e -mail szerkeszt\xe9se","click_to_copy":"Kattintson a m\xe1sol\xe1shoz","short_code":"R\xf6vid k\xf3dok a felhaszn\xe1l\xf3i szem\xe9lyre szabott r\xe9szletek, p\xe9ld\xe1ul n\xe9v \xe9s \xfcdv\xf6zlet hozz\xe1ad\xe1s\xe1hoz - kattintson a m\xe1sol\xe1shoz, majd a beilleszt\xe9shez ","label_subject":"T\xe9ma","placeholder_subject":"\xcdrja be a t\xe1rgyat","label_subject_error":"T\xe1rgy sz\xfcks\xe9ges","monthly_enrollement_cost":"Havi \xe9tterem beiratkoz\xe1si k\xf6lts\xe9ge","yearly_enrollement_cost":"\xc9vente \xe9tterem beiratkoz\xe1si k\xf6lts\xe9ge","invalid_email":"\xc9rv\xe9nytelen e -mail c\xedm","copyright_error":"A megfelel\u0151 sz\xf6veg m\xe1sol\xe1sa sz\xfcks\xe9ges","website_error":"Weboldalra van sz\xfcks\xe9g","monthly_enrollment_error":"Havi \xe9tterem beiratkoz\xe1si k\xf6lts\xe9ge sz\xfcks\xe9ges","yearly_enrollment_error":"\xc9vente \xe9ttermi beiratkoz\xe1si k\xf6lts\xe9gre van sz\xfcks\xe9g","label_contact_invalid_error":"\xc9rv\xe9nytelen telefonsz\xe1m","label_invalid_amount_error":"\xc9rv\xe9nytelen \xf6sszeg","invalid_web_url":"\xc9rv\xe9nytelen weboldal URL","label_city_error":"V\xe1rosra van sz\xfcks\xe9g","label_country_error":"Orsz\xe1g sz\xfcks\xe9ges","label_testimonial_error":"A besz\xe1mol\xf3sz\xf6veg sz\xfcks\xe9ges","label_company_address_error":"A v\xe1llalati c\xedm IR sz\xfcks\xe9ges","msg_validation_password_length":"A jelsz\xf3 minim\xe1lis hossz\xe1nak 8 karakternek kell lennie","msg_validation_do_not_accept_space":"Ne fogadja el a helyet","msg_validation_contain_numeric_character":"Csak numerikus karakter","msg_validation_otp_length":"Az OTP hossz\xe1nak {{OTP_LENGTH}} ","btn_renew":"Meg\xfaj\xedt","input_value_days":"Napok","input_value_day":"Nap","label_title_length_error_50":"A c\xedm hossz\xe1nak kevesebbnek kell lennie, mint az 50 karakter","err_max_length_label":"Max megengedett karakterek hossza {{MAX_LENGTH}}","max_length_label":"A maxim\xe1lis megengedett karakterek hossza 15","max_length_label_30":"a maxim\xe1lis megengedett karakterek hossza 30","max_length_label_50":"a maxim\xe1lis megengedett karakterek hossza 50","featured":"kiemelt","validation_max_input_characters":"Nem haladhatja meg {{TEXTAREA_MAX_LENGTH}} karakterek","validation_max_input_characters_address":"Nem haladhatja meg {{MAX_LENGTH}} karakterek","supported_file_error":"T\xe1mogatott form\xe1tumok: JPG, JPEG, PNG, WebP, GIF ","image_max_size_error":"A f\xe1jlm\xe9retnek kevesebbnek kell lennie, mint 1,5 MB","image_required_error":"Profilk\xe9p sz\xfcks\xe9ges","label_Banner_title":"Szalaghirdet\xe9s c\xedme","label_Banner_title_ja":"Banner c\xedm (jap\xe1n)","label_page_title":"Oldalc\xedm","label_page_title_en":"Oldal c\xedme (angol)","label_page_title_de":"Oldal c\xedme (n\xe9met)","label_page_title_es":"Oldal c\xedme (spanyol)","label_page_title_hu":"Oldal c\xedme (magyar)","tooltip_page_title":"Oldal c\xedme - A Front -end -ben l\xe1that\xf3 (men\xfck \xe9s f\xfclsor)","label_menu_of_the_page":"Az oldal men\xfcje","menu_of_page_header":"Fejl\xe9c","menu_of_page_footer":"L\xe1bl\xe9c","menu_of_page_custom":"Szok\xe1s","validation_err_reached_maximum_length":"A maxim\xe1lis karakterhat\xe1r {{INPUT_LENGTH}} t\xfall\xe9pt\xe9k.","validation_err_status_required":"\xc1llapot sz\xfcks\xe9ges","label_social_media":"K\xf6z\xf6ss\xe9gi m\xe9dia","input_placeholder_title":"C\xedm","input_placeholder_link":"Link","input_placeholder_icon":"Ikon","validation_err_title_required":"C\xedmre van sz\xfcks\xe9g","validation_err_link_required":"Linkre van sz\xfcks\xe9g","validation_err_icon_required":"Ikon sz\xfcks\xe9ges","heading_renew_plan":"Meg\xfaj\xedt\xe1si terv","btn_continue":"Folytat\xf3dik","verify_otp":"Ellen\u0151rizze az OTP -t","invalid_otp":"\xc9rv\xe9nytelen OTP","otp_sent_message":"Elk\xfcldt\xfcnk egy ellen\u0151rz\u0151 k\xf3dot az \xd6n e -mail c\xedm\xe9re","otp_not_receive":"Nem kapott OTP -t?","btn_resend":"\xdajraind\xedt","otp_error_msg":"Minden mez\u0151 k\xf6telez\u0151. ","paragraph_enter_email_we_will_send_you_OTP":"\xcdrja be az e -mail c\xedm\xe9t, \xe9s elk\xfcldj\xfck \xd6nnek egy OTP -t a jelsz\xf3 vissza\xe1ll\xedt\xe1s\xe1hoz","label_email_address":"E -mail c\xedm","placeholder_email_address":"\xcdrja be az e -mail c\xedmet","link_my_profile":"A profilom","link_restaurant_profile":"\xc9tteremprofil","label_restaurant_address":"\xc9tterem c\xedme","btn_update_profile":"Friss\xedt\xe9si profil friss\xedt\xe9se","nav_link_home":"Otthon","nav_link_sales":"\xc9rt\xe9kes\xedt\xe9s","nav_link_menu":"Men\xfc","nav_link_table_management":"Asztalkezel\xe9s","nav_link_settings":"Be\xe1ll\xedt\xe1sok","link_contract_information":"Szerz\u0151d\xe9ses inform\xe1ci\xf3k","link_mail_notification_settings":"Lev\xe9l -\xe9rtes\xedt\xe9si be\xe1ll\xedt\xe1sok","validation_error_rating_min_1":"A besorol\xe1snak legal\xe1bb 1 -nek kell lennie","validation_error_rating_max_5":"A besorol\xe1snak legfeljebb 10 -nek kell lennie","validate_error_rating":"A besorol\xe1s sz\xfcks\xe9ges","restaurant_id":"\xc9ttermi szem\xe9lyi igazolv\xe1ny","restaurant_time":"\xc9tterem megnyit\xe1sa \xe9s bez\xe1r\xe1sa","zip_code":"Ir\xe1ny\xedt\xf3sz\xe1m","credential_setup":"A hiteles\xedt\u0151 adatok be\xe1ll\xedt\xe1sa/friss\xedt\xe9se","cashier_password":"P\xe9nzt\xe1ros jelsz\xf3","fiscal_year":"K\xf6lts\xe9gvet\xe9si \xe9v be\xe1ll\xedt\xe1s","starting_month":"Kezd\u0151 h\xf3nap","contract_expiry":"A szerz\u0151d\xe9s lej\xe1rati d\xe1tuma","plan":"Terv","address":"C\xedm","store_rep_name":"T\xe1rolja a reprezentat\xedv nev\xe9t","email_address":"E -mail c\xedm","tel_number":"Tel sz\xe1m","contractor":"V\xe1llalkoz\xf3","mail_notification_setting":"Lev\xe9l -\xe9rtes\xedt\xe9sek be\xe1ll\xedt\xe1sai","label_link":"Link","web_banner_add":"Szalaghirdet\xe9sek","web_featured_restaurants":"Kiemelt \xe9ttermek","web_our_testimonials":"Besz\xe9dess\xe9geink","web_our_testimonials_text":"Hallgassa meg, mit kell mondania \xfcgyfeleinknek","web_footer_contact":"L\xe9pjen kapcsolatba vel\xfcnk","web_footer_text":"A Lorem ipsum passz\xe1zsok sokf\xe9le v\xe1ltozata van, de a t\xf6bbs\xe9g valamilyen form\xe1ban v\xe1ltozott","web_footer_company":"V\xe1llalat","web_footer_our_story":"A t\xf6rt\xe9net\xfcnk","web_footer_about_us":"R\xf3lunk","web_footer_service_overview":"Szolg\xe1ltat\xe1s \xe1ttekint\xe9se","web_footer_manual_guide":"K\xe9zi \xfatmutat\xf3","web_footer_legal":"Jogi","web_footer_privacy_policy":"Adatv\xe9delmi ir\xe1nyelv","web_footer_support":"T\xe1mogat\xe1s","web_footer_faq":"GYIK","web_footer_terms_condition":"Felt\xe9telek","validation_error_profile_img_required":"Profilk\xe9p sz\xfcks\xe9ges","web_nav_link_home":"Otthon","web_nav_link_about_us":"R\xf3lunk","web_nav_link_service_overview":"Szolg\xe1ltat\xe1s \xe1ttekint\xe9se","web_nav_link_how_does_it_operate":"Hogyan m\u0171k\xf6dik?","web_nav_link_pricing":"\xc1rk\xe9pz\xe9s","web_nav_link_manual_guide":"K\xe9zi \xfatmutat\xf3","web_nav_link_inquire_now":"\xc9rdekl\u0151dj\xf6n most","web_home_heading":"Az egyszer\u0171, biztons\xe1gos \xe9s m\xe9retezhet\u0151 m\xf3dszer a v\xe1llalkoz\xe1s vezet\xe9s\xe9re","web_home_sub_heading":"Teljesen integr\xe1lt \xe9rt\xe9kes\xedt\xe9si pont rendszer","web_home_sub_content":"Lorem ipsum dolor sit amet, konvtur adipiscing elit, sed do eiusmod tempor incididunt ut lourore et dolore magna aliqua ut","web_about_us_heading":"Elk\xf6telezetts\xe9g az \xfczleti tev\xe9kenys\xe9gek korszer\u0171s\xedt\xe9se \xe9rdek\xe9ben","web_about_us_content1":"A Lorem Ipsum egyszer\u0171en a nyomtat\xe1si \xe9s bet\u0171k\xe9sz\xedt\u0151 ipar dummy sz\xf6vege. ","web_about_us_content2":"A Lorem Ipsum egyszer\u0171en a nyomtat\xe1si \xe9s bet\u0171k\xe9sz\xedt\u0151 ipar dummy sz\xf6vege. ","web_about_us_link_read_more":"Tov\xe1bbi inform\xe1ci\xf3","web_service_overview_section_heading":"A kiskereskedelmi \xfczleti siker felhatalmaz\xe1sa","web_service_overview_heading":"A kiskereskedelmi \xfczleti siker felhatalmaz\xe1sa","web_service_overview_content":"A Lorem Ipsum egyszer\u0171en a nyomtat\xe1si \xe9s bet\u0171k\xe9sz\xedt\u0151 ipar dummy sz\xf6vege. ","web_service_overview_list1":"Feh\xe9ren jel\xf6lt mobil licit\xe1l\xe1s","web_service_overview_list2":"Feh\xe9r c\xedmk\xe9vel ell\xe1tott aukci\xf3s weboldal","web_service_overview_list3":"A m\xe1rk\xe1d, nem egy piacflam\xe1r","web_how_does_it_work_heading":"Hogyan m\u0171k\xf6dik?","web_how_does_it_work_card1_heading":"Megrendel\xe9s bejegyz\xe9s","web_how_does_it_work_card1_content":"A Lorem Ipsum egyszer\u0171en a nyomtat\xe1si \xe9s bet\u0171k\xe9sz\xedt\u0151 ipar dummy sz\xf6vege.","web_how_does_it_work_card2_heading":"Megrendel\xe9s \xe1tad\xe1s","web_how_does_it_work_card2_content":"A Lorem Ipsum egyszer\u0171en a nyomtat\xe1si \xe9s bet\u0171k\xe9sz\xedt\u0151 ipar dummy sz\xf6vege.","web_how_does_it_work_card3_heading":"Megrendel\xe9s bejegyz\xe9s","web_how_does_it_work_card3_content":"A Lorem Ipsum egyszer\u0171en a nyomtat\xe1si \xe9s bet\u0171k\xe9sz\xedt\u0151 ipar dummy sz\xf6vege.","web_how_does_it_work_card4_heading":"Megrendel\xe9sbe val\xf3 bel\xe9p\xe9s","web_how_does_it_work_card4_content":"A Lorem Ipsum egyszer\u0171en a nyomtat\xe1si \xe9s bet\u0171k\xe9sz\xedt\u0151 ipar dummy sz\xf6vege.","web_inquiry_form_heading":"Vegye fel a kapcsolatot vel\xfcnk","web_inquiry_form_label_name":"N\xe9v","web_inquiry_form_placeholder_name":"\xcdrja be a nev\xe9t","web_inquiry_form_label_restaurant_name":"\xc9tterem neve","web_inquiry_form_placeholder_restaurant_name":"\xcdrja be \xe9ttermi nev\xe9t","web_inquiry_form_label_contact_number":"Kapcsolattart\xf3 sz\xe1m","web_inquiry_form_placeholder_contact_number":"\xcdrja be a kapcsolattart\xf3 sz\xe1m\xe1t","web_inquiry_form_label_email":"Email","web_inquiry_form_placeholder_email":"\xcdrja be e -mail c\xedm\xe9t","web_inquiry_form_label_address":"C\xedm","web_inquiry_form_placeholder_address":"\xcdrja be a c\xedm\xe9t","web_inquiry_form_label_more_info":"Tov\xe1bbi inform\xe1ci\xf3","web_inquiry_form_placeholder_more_info":"\xcdrja be az \xfczenet\xe9t ide","web_inquiry_form_btn_submit":"Beny\xfajt","web_inquiry_form_validation_name_required":"N\xe9v sz\xfcks\xe9ges","web_inquiry_form_validation_email_invalid_format":"\xc9rv\xe9nytelen e -mail form\xe1tum","web_inquiry_form_validation_email_not_contain_uppercase":"Az e -mail nem tartalmazhat nagybet\u0171ket","web_inquiry_form_validation_email_required":"E -mailre van sz\xfcks\xe9g","web_inquiry_form_validation_restaurant_name_required":"Az \xe9tterem neve sz\xfcks\xe9ges","web_inquiry_form_validation_contact_no_required":"Kapcsolattart\xf3 sz\xe1m sz\xfcks\xe9ges","web_inquiry_form_validation_contact_no_contain_digits":"A kapcsolattart\xe1si sz\xe1m csak sz\xe1mjegyeket tartalmazhat","web_inquiry_form_validation_contact_no_min_length":"Kapcsolattart\xe1si sz\xe1m minim\xe1lis hossza {{PHONE_NO_LENGTH}}","web_inquiry_form_validation_contact_no_max_length":"Kapcsolattart\xe1si sz\xe1m minim\xe1lis hossza {{PHONE_NO_LENGTH}}","web_inquiry_form_validation_address_required":"C\xedm sz\xfcks\xe9ges","label_login_ID":"Bejelentkez\xe9si azonos\xedt\xf3","placeholder_login_ID":"\xcdrja be a Bejelentkez\xe9s azonos\xedt\xf3j\xe1t","sidebar_dashboard":"M\u0171szerfal","sidebar_my_calender":"A napt\xe1ram","sidebar_my_earnings":"A bev\xe9teleim","sidebar_chat":"Cseveg\xe9s","sidebar_my_bookings":"A foglal\xe1saim","sidebar_payment_history":"Fizet\xe9si el\u0151zm\xe9nyek","heading_my_profile":"A profilom","label_profile_image":"Profilk\xe9p k\xe9p","label_personal_information":"Szem\xe9lyes adatok","label_email_id":"E -mail azonos\xedt\xf3","label_professional_information":"Szakmai inform\xe1ci\xf3k","label_bio_introduction":"Bio/bevezet\xe9s","label_experience_summary":"Tapasztalati \xf6sszefoglal\xf3","placeholder_bio_introduction":"\xcdrja be a Bio/Bevezet\xe9st","placeholder_experience_summary":"\xcdrja be a tapasztalati \xf6sszefoglal\xf3t","label_expertise_area":"Szaktud\xe1si ter\xfclet","label_expertise":"Szak\xe9rtelem","label_language_spoken":"Besz\xe9lt nyelvek","label_experience":"Tapasztalat","placeholder_enter_experience":"\xcdrja be a tapasztalatokat","label_year":"\xc9v","label_credit_per_session":"Hitel munkamenetenk\xe9nt","label_mode_of_consultation":"Konzult\xe1ci\xf3s m\xf3d","placeholder_credit_per_session":"\xcdrja be az \xfcl\xe9senk\xe9nti hitelt","label_pin_code":"Pin -k\xf3d","placeholder_pin_code":"\xcdrja be a PIN -k\xf3dot","label_address_location":"C\xedm/hely","placeholder_address_location":"C\xedm/hely","label_credit_charge_per_session":"Hiteld\xedj \xfcl\xe9senk\xe9nt","label_consolation_fee_per_session":"Vigasztal\xe1si d\xedj \xfcl\xe9senk\xe9nt","placeholder_amount":"\xcdrja be az \xf6sszeget","btn_update":"Friss\xedt","link_forget_password":"Felejtsd el a jelsz\xf3t","max_bio_length":"Meghaladja a maxim\xe1lis bio hossz\xe1t {{TEXTAREA_MAX_LENGTH_200}}","max_experience_summary_length":"Meghaladja a maxim\xe1lis \xe9lm\xe9ny \xf6sszefoglal\xf3 hossz\xe1t {{TEXTAREA_MAX_LENGTH_200}}","err_pin_code_invalid":"\xc9rv\xe9nytelen PIN -k\xf3d","err_credit_per_session_invalid":"\xc9rv\xe9nytelen hitel \xfcl\xe9senk\xe9nt","err_experience_invalid":"\xc9rv\xe9nytelen \xe9lm\xe9ny","err_consolation_fee_invalid":"\xc9rv\xe9nytelen vigasztal\xe1si d\xedj","err_exceed_max_length":"A maxim\xe1lis hossz meghaladta {{max_length}}","valid_first_name_error":"\xc9rv\xe9nytelen keresztn\xe9v","valid_last_name_error":"\xc9rv\xe9nytelen keresztn\xe9v","valid_format_error":"\xc9rv\xe9nytelen bemeneti \xe9rt\xe9k","error_html_tag":"HTML c\xedmk\xe9ket tartalmaz","err_min_limit":"A bemenet a minim\xe1lis hat\xe1r\xe9rt\xe9k alatt van","err_max_limit":"A maxim\xe1lis hat\xe1r\xe9rt\xe9k meghaladta","page_not_exist_text":"Oops.A keresett oldal nem l\xe9p ki ..","mistyped_address_text":"Lehet, hogy t\xe9vedte a c\xedmet, vagy az oldal mozoghatott. ","btn_back_to_home":"Vissza otthon","label_location_of_the_footer":"L\xe1bl\xe9c helye","main_location_of_page_footer":"F\u0151","base_location_of_page_footer":"B\xe1zis","web_record_not_found_heading":"A rekord nem tal\xe1lhat\xf3","no_record_found_text":"A rekord nem tal\xe1lhat\xf3","validation_err_invalid_slug":"\xc9rv\xe9nytelen csiga","faq":{"heading_faq":"GYIK","link_dashboard":"M\u0171szerfal","link_faq":"GYIK","link_add":"Hozz\xe1ad","add_faq":"Adjon hozz\xe1 GYIK -t","faq_title_placeholder":"\xcdrja be a GYIK c\xedm\xe9t","label_description":"Le\xedr\xe1s","label_description_en":"Le\xedr\xe1s (angol)","label_description_de":"Le\xedr\xe1s (n\xe9met)","label_description_es":"Le\xedr\xe1s (spanyol)","label_description_hu":"Le\xedr\xe1s (magyar)","description_placeholder":"\xcdrja be a le\xedr\xe1st","label_title_error":"C\xedmre van sz\xfcks\xe9g","label_description_error":"Le\xedr\xe1s sz\xfcks\xe9ges","validation_err_reached_maximum_length":"A maxim\xe1lis karakterkorl\xe1tot (500) t\xfall\xe9pt\xe9k.","heading_cms_faq":"GYIK","list_heading_sno":"Sr. Nem.","list_heading_title":"C\xedm","list_heading_title_en":"C\xedm (angol)","list_heading_title_de":"C\xedm (n\xe9met)","list_heading_title_es":"C\xedm (spanyol)","list_heading_title_hu":"C\xedm (magyar)","label_status":"\xc1llapot","heading_view":"A GYIK megtekint\xe9se","edit_faq":"Szerkeszt\xe9s GYIK","link_view":"Kil\xe1t\xe1s","link_edit":"Szerkeszt"},"contact-us":{"link_dashboard":"M\u0171szerfal","link_contact_us":"Vegye fel vel\xfcnk a kapcsolatot","list_heading_sno":"Sr. Nem.","list_heading_name":"N\xe9v","label_email":"Email","label_phone_number":"Telefonsz\xe1m","label_contact_us_date":"Kapcsolattart\xe1si d\xe1tum","label_note":"Jegyzet","label_name":"N\xe9v","label_address":"C\xedm","view_contact_us":"Tekintse meg vel\xfcnk a kapcsolatot"},"booking_id":"Foglal\xe1si azonos\xedt\xf3","booking_status":"Foglal\xe1si \xe1llapot","client_name":"\xdcgyf\xe9l neve","client_name_id":"\xdcgyf\xe9l neve/azonos\xedt\xf3ja","date_and_time":"D\xe1tum \xe9s id\u0151","label_amount":"\xd6sszeg","label_credit":"Hitel","label_purpose":"C\xe9l","are_sure_cancel_booking":"Biztosan meg akarja t\xf6r\xf6lni ezt a foglal\xe1st?","are_sure_cancel_available":"Biztosan szeretn\xe9, hogy ez a ny\xedl\xe1s el\xe9rhetetlenn\xe9 v\xe1ljon?","btn_no":"Nem","credit_per_in_session":"Hitel munkamenetenk\xe9nt","career_guidance":"P\xe1lyav\xe1laszt\xe1si tan\xe1csad\xe1s","transition_id":"Tranzakci\xf3s azonos\xedt\xf3","payment_status":"Fizet\xe9si \xe1llapot","label_details":"R\xe9szletek","cancellation_policy":"Lemond\xe1si politika","btn_day":"Nap","btn_week":"H\xe9t","btn_today":"Ma","label_time":"Id\u0151","label_available":"El\xe9rhet\u0151","label_booked":"Lefoglalt","label_blocked":"Z\xe1rolt","btn_manage_availability":"Kezelje a rendelkez\xe9sre \xe1ll\xe1s","btn_manage_schedule":"Kezelje az \xfctemtervet","available_slots":"Rendelkez\xe9sre \xe1ll\xf3 r\xe9sid\u0151k","booked_slots":"Lefoglalt r\xe9sid\u0151k","heading_payment_history":"Fizet\xe9si el\u0151zm\xe9nyek","label_date_time":"D\xe1tum/id\u0151","label_payment_id":"Fizet\xe9si azonos\xedt\xf3","label_booking_id":"Foglal\xe1si azonos\xedt\xf3","label_payment_method":"Fizet\xe9si m\xf3d","placeholder_end_time_for_slot":"V\xe9ge a r\xe9snek","placeholder_start_time_for_slot":"A r\xe9s kezd\xe9si ideje","header_home":"Otthon","header_about_us":"R\xf3lunk","header_services":"Szolg\xe1ltat\xe1s","header_download_app":"Let\xf6lt\xe9s alkalmaz\xe1s","header_become_a_advisor":"Legyen tan\xe1csad\xf3","header_login":"Bejelentkez\xe9s","footer_faq":"GYIK","contact_us":"Vegye fel vel\xfcnk a kapcsolatot","home_hero_heading":"Navig\xe1ljon az \xe9let \xfatj\xe1n asztrol\xf3giai \xfatmutat\xe1ssal","home_hero_content":"\xdcdv\xf6z\xf6lj\xfck egy olyan vil\xe1gban, ahol a csillagok megvil\xe1g\xedtj\xe1k az utat! ","btn_get_started":"Elindul","about_us":"R\xf3lunk","home_about_us_heading":"A csillagok vezet\xe9s\xe9vel","home_about_us_content1":"Fedezze fel egy helyet, ahol az \xe9gi b\xf6lcsess\xe9g megfelel a mindennapi \xe9letnek. ","home_about_us_content2":"F\xfcggetlen\xfcl att\xf3l, hogy vil\xe1goss\xe1 v\xe1lik a j\xf6v\u0151j\xe9r\u0151l, meg\xe9rti az er\u0151ss\xe9geidet, vagy igazodik az igazi c\xe9lj\xe1hoz, a kozmosz b\xf6lcsess\xe9ge itt van. ","tarot_readings":"Tarot leolvas\xe1sok","reading_the_future":"A j\xf6v\u0151 olvas\xe1sa","spiritual_advisor_panel":"Spiritu\xe1lis tan\xe1csad\xf3 test\xfclet","spiritual_advisor_panel_heading":"Csatlakozzon a spiritu\xe1lis tan\xe1csad\xf3 h\xe1l\xf3zatunkhoz","spiritual_advisor_panel_content":"Regisztr\xe1ljon spiritu\xe1lis tan\xe1csad\xf3k\xe9nt, \xe9s tedd betekint\xe9s\xe9t az \xfatmutat\xe1st keres\u0151kh\xf6z. ","btn_join_now":"Csatlakozzon most","your_browser_does_not_support_the_video_tag":"A b\xf6ng\xe9sz\u0151 nem t\xe1mogatja a vide\xf3c\xedmk\xe9t.","services":"Szolg\xe1ltat\xe1s","services_heading":"Fedezze fel asztrol\xf3giai szolg\xe1ltat\xe1sainkat","services_content":"\xdatmutat\xf3 az \xe9gi tisztas\xe1ghoz \xe9s c\xe9lhoz","horoscope":"Horoszk\xf3p","services_horoscope_card_content":"A csillagok tartj\xe1k a kulcsot az \xe9leted \xe9s az \xe1raml\xe1s meg\xe9rt\xe9s\xe9hez. ","birth_chart_analysis":"Sz\xfclet\xe9si diagram elemz\xe9s","services_birth_chart_analysis_card_content":"A csillagok tartj\xe1k a kulcsot az \xe9leted \xe9s az \xe1raml\xe1s meg\xe9rt\xe9s\xe9hez. ","health_calendar":"Eg\xe9szs\xe9g\xfcgyi napt\xe1r","services_health_calendar_card_content":"A csillagok tartj\xe1k a kulcsot az \xe9leted \xe9s az \xe1raml\xe1s meg\xe9rt\xe9s\xe9hez. ","tarot_card_reading":"Tarot k\xe1rtyaolvas\xe1s","services_tarot_card_reading_card_content":"A csillagok tartj\xe1k a kulcsot az \xe9leted \xe9s az \xe1raml\xe1s meg\xe9rt\xe9s\xe9hez. ","biorhythm_analysis":"Bioritmus -elemz\xe9s","services_biorhythm_analysis_card_content":"A csillagok tartj\xe1k a kulcsot az \xe9leted \xe9s az \xe1raml\xe1s meg\xe9rt\xe9s\xe9hez. ","beauty_calendar":"Sz\xe9ps\xe9gnapt\xe1r","services_beauty_calendar_card_content":"A csillagok tartj\xe1k a kulcsot az \xe9leted \xe9s az \xe1raml\xe1s meg\xe9rt\xe9s\xe9hez. ","marquee_horoscope":"HOROSZK\xd3P","marquee_zodiac_sign":"\xc1llat\xf6v","marquee_birth_chart":"Sz\xfclet\xe9si t\xe1bl\xe1zat","marquee_tarot_card":"Tarot k\xe1rtya","marquee_consultations":"Konzult\xe1ci\xf3","marquee_spiritual_advisor":"Lelki tan\xe1csad\xf3","how_we_works":"Hogyan m\u0171k\xf6dik","how_we_works_heading":"A kozmikus \xfatmutat\xe1shoz vezet\u0151 \xfatja","how_we_works_content":"Fedezze fel egy helyet, ahol az \xe9gi b\xf6lcsess\xe9g megfelel a mindennapi \xe9letnek.  ","how_we_works_card1_heading":"Hozzon l\xe9tre fi\xf3kj\xe1t","how_we_works_card1_content":"Nyissa ki ma szem\xe9lyre szabott asztrol\xf3giai tapasztalatait","how_we_works_card2_heading":"\xc1ll\xedtsa be a profilj\xe1t","how_we_works_card2_content":"Testreszabhatja utaz\xe1s\xe1t szem\xe9lyre szabott asztrol\xf3giai betekint\xe9ssel","how_we_works_card3_heading":"Fogadja el az el\u0151rejelz\xe9st","how_we_works_card3_content":"Fedezze fel, mit tervezett az univerzum az \xd6n sz\xe1m\xe1ra szem\xe9lyre szabott asztrol\xf3giai el\u0151rejelz\xe9ssel","download_app":"Let\xf6lt\xe9s alkalmaz\xe1s","download_app_heading":"T\xf6ltse le alkalmaz\xe1sunkat azonnali asztrol\xf3giai betekint\xe9shez","download_app_content":"Nyissa ki a csillagok erej\xe9t k\xe9zn\xe9l! ","frequently_asked_questions":"Gyakran feltett k\xe9rd\xe9seket","our_team":"Csapatunk","our_team_content":"Tal\xe1lkozzon azokkal a l\xe1tnokokkal, amelyek a kiv\xe9teles asztrol\xf3giai szolg\xe1ltat\xe1sok ny\xfajt\xe1s\xe1ra ir\xe1nyul\xf3 k\xfcldet\xe9s\xfcnket vezetik.","inquiry":"Vizsg\xe1lat","inquiry_heading":"Vegye fel a kapcsolatot vel\xfcnk","inquiry_content":"Lorem ipsum dolor sit amet, konvtur adipiscing elit, sed do eiusmod tempor incididunt Ut labore et dolore magna aliqua. ","select_expertise":"V\xe1lassza ki a szak\xe9rtelemet","contact_us_heading":"Vegye fel a kapcsolatot vel\xfcnk","contact_us_content":"Lorem ipsum dolor sit amet, konvtur adipiscing elit, sed do eiusmod tempor incididunt Ut labore et dolore magna aliqua. ","label_message":"\xdczenet","placeholder_message":"\xcdrja be az \xfczenetet","err_message_is_required":"\xdczenet sz\xfcks\xe9ges","err_email_is_required":"E -mail c\xedmre van sz\xfcks\xe9g","label_customer_feedback":"\xdcgyf\xe9l -visszajelz\xe9s","label_overall_rating":"\xc1ltal\xe1nos \xe9rt\xe9kel\xe9s","label_upcoming_appointments":"K\xf6zelg\u0151 kinevez\xe9sek","link_view_all":"Tekintse meg az \xf6sszeset","label_chat_history":"Cseveg\xe9s el\u0151zm\xe9nyei","btn_cancel_booking":"A foglal\xe1s t\xf6rl\xe9se","btn_mark_completed":"A jel\xf6l\xe9s befejez\u0151d\xf6tt","label_my_earning":"Keresem","heading_my_earnings":"A bev\xe9teleim","err_slot_type_required":"Sz\xfcks\xe9g van a r\xe9s t\xedpus\xe1ra","err_recurring_end_date_required":"Ism\xe9tl\u0151d\u0151 befejez\xe9si d\xe1tum sz\xfcks\xe9ges","label_chat_credit_rate":"Cseveg\u0151 hitelmin\u0151s\xe9g","label_audio_call_credit_rate":"Audio h\xedv\xe1s hitelkamatl\xe1b","label_video_call_credit_rate":"Videoh\xedv\xe1s hitelkamatl\xe1b","placeholder_credit_rate":"\xcdrja be a hitel kamatl\xe1bait","err_cancellation_reason_required":"A lemond\xe1si ok sz\xfcks\xe9ges","dashboard_today_schedule":"A mai \xfctemterv","dashboard_total_sessions":"\xd6sszes munkamenet","dashboard_total_earnings":"Teljes j\xf6vedelem","chat_welcome_what_would_you_like_to_discuss_today?":"\xdcdv\xf6z\xf6lj\xfck! ","chat_welcome":"\xdcdv\xf6zlet","label_cancellation_reason":"Lemond\xe1si ok","placeholder_cancel_reason":"\xcdrja be a lemond\xe1si okot","cancellation_reason_is_required":"A lemond\xe1si ok sz\xfcks\xe9ges.","cancellation_reason_characters_limit_200":"A lemond\xe1si oknak kevesebb, mint 200 karakternek kell lennie.","cancellation_reason_include_at_least_one_letter":"A lemond\xe1si oknak tartalmaznia kell legal\xe1bb egy levelet.","slot_type":"R\xe9s t\xedpus","slot_type_one_time":"Egykori","slot_type_recurring":"Mindenn\xe9l ism\xe9tl\u0151d\u0151","select_end_date":"V\xe1lassza ki a v\xe9gz\u0151d\xe9si d\xe1tumot","total_payout":"Teljes kifizet\xe9s","current_receivable":"Aktu\xe1lis k\xf6vetel\xe9s","dashboard_tab_session":"\xdcl\xe9s","btn_last7_days":"Az elm\xfalt 7 nap","btn_last30_days":"Az elm\xfalt 30 nap","btn_join":"Csatlakozik","duration":"Id\u0151tartam","consultation":"Konzult\xe1ci\xf3","label_go_back":"Vissza","label_go_to_top":"Fel\xfclre","label_notifications":"\xc9rtes\xedt\xe9sek","general_notification_text":"\xc9rtes\xedt\xe9s k\xe9r\xe9se a(z) {{notificationType}} t\xedpushoz","new_booking_notification_text":"Az \xd6n {{userName}}-nal val\xf3 tal\xe1lkoz\xf3ja meger\u0151s\xedtve: {{date}}.","cancel_booking_notification_text":"Az \xd6n {{userName}}-nal val\xf3 tal\xe1lkoz\xf3ja, amelyre {{date}}-\xe9n volt tervezve, t\xf6rl\xe9sre ker\xfclt.","session_reminder_notification_text":"Eml\xe9keztet\u0151: \xd6nnek tal\xe1lkoz\xf3ja van {{userName}}-nal {{date}}-\xe9n.","label_hour":"\xd3ra","skip_to_main_content":"Ugr\xe1s a f\u0151 tartalomra","start_audio_meet":"Hangos tal\xe1lkoz\xf3 ind\xedt\xe1sa","start_video_meet":"Vide\xf3s tal\xe1lkoz\xf3 ind\xedt\xe1sa","start_chat_meet":"Cseveg\xe9s ind\xedt\xe1sa","view_past_chat_meet":"Kor\xe1bbi cseveg\xe9s megtekint\xe9se","session_has_ended":"A munkamenet v\xe9get \xe9rt.","booked":"Meger\u0151s\xedtve","canceled":"Lemondva","cancelled":"Lemondva","completed":"Befejezve","upcoming":"K\xf6zelg\u0151","video":"Vide\xf3","audio":"Hang","chat":"Cseveg\xe9s","pending":"F\xfcgg\u0151ben","refunded":"Visszat\xe9r\xedtve","credits":"J\xf3v\xe1\xedr\xe1sok","label_earnings_from":"Bev\xe9tel ett\u0151l:","label_to":"eddig:","label_total_entries":"\xd6sszes bejegyz\xe9s","caption_my_earnings_over_time":"Bev\xe9teleim az id\u0151 m\xfal\xe1s\xe1val","table_header_date":"D\xe1tum","table_header_earnings_euro":"Bev\xe9tel (\u20ac)"}');(async()=>{if(await Oa.use(qV).init({resources:{en:{translation:YV},de:{translation:XV},es:{translation:KV},hu:{translation:JV}},fallbackLng:"en"}),!Qa("system_language")){const e="en";Oa.changeLanguage(e)}})(),o.createRoot(document.getElementById("root")).render((0,Pa.jsx)(dn,{store:Ur,children:(0,Pa.jsxs)(ks,{i18n:Oa,children:[(0,Pa.jsx)(Vt,{router:TV}),(0,Pa.jsx)("div",{id:"main-loader",className:"main-loader",style:{display:"none"},children:(0,Pa.jsx)("div",{className:"spinner-border text-light",role:"status",children:(0,Pa.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})]})}))})()})();
//# sourceMappingURL=main.903dc7b6.js.map